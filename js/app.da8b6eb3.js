(()=>{var e={1467:()=>{window.Async={_enabled:!0,get enabled(){return this._enabled},set enabled(e){this._enabled=e},runForTime(e,t,i){const a=i.batchSize||1,n=i.maxTime,s=Date.now();for(let r=t;r>0;){for(let t=0;t<Math.min(r,a);++t)e(r),--r;if(Date.now()-s>=n)return r}return 0},sleepPromise:e=>new Promise((t=>setTimeout(t,e))),run(e,t,i){if(this.enabled){this.enabled=!1;const a=this._run(e,t,i);return i.then?a.then((()=>{i.then(),this.enabled=!0})):a}for(let a=0;a<t;++a)e(a);i.then&&i.then()},async _run(e,t,i){i.progress||(i.progress={}),i.progress.maxIter=t,i.progress.remaining=this.runForTime(e,i.progress.maxIter,i);const a=i.sleepTime||1;if(i.progress.remaining){i.asyncEntry&&i.asyncEntry(i.progress.maxIter-i.progress.remaining);do{await this.sleepPromise(a),i.progress.remaining=this.runForTime(e,i.progress.remaining,i),i.asyncProgress&&i.asyncProgress(i.progress.maxIter-i.progress.remaining)}while(i.progress.remaining>0);i.asyncExit&&i.asyncExit()}}}},3473:(e,t,i)=>{i(4602),window.EventHub=class e{constructor(){this._handlers={}}on(e,t,i){let a=this._handlers[e];void 0===a&&(a=[],this._handlers[e]=a),a.push({fn:t,target:i})}offAll(e){for(const t of Object.keys(this._handlers))this._handlers[t]=this._handlers[t].filter((t=>t.target!==e))}dispatch(e,t){const i=this._handlers[e];if(void 0!==i)for(const a of i)a.fn(t)}static dispatch(t,...i){e.logic.dispatch(t,i),GameUI.dispatch(t,i)}static get stats(){function t(e){return Object.values(e._handlers).map((e=>e.length)).sum()}return`UI(UPDATE/Total): ${e.ui._handlers[GAME_EVENT.UPDATE].length}/${t(e.ui)}; Logic(Total): ${t(e.logic)}`}},EventHub.logic=new EventHub,EventHub.ui=new EventHub,window.GAME_EVENT={GAME_TICK_BEFORE:"GAME_TICK_BEFORE",GAME_TICK_AFTER:"GAME_TICK_AFTER",REPLICANTI_TICK_BEFORE:"REPLICANTI_TICK_BEFORE",REPLICANTI_TICK_AFTER:"REPLICANTI_TICK_AFTER",DIMBOOST_BEFORE:"DIMBOOST_BEFORE",DIMBOOST_AFTER:"DIMBOOST_AFTER",GALAXY_RESET_BEFORE:"GALAXY_RESET_BEFORE",GALAXY_RESET_AFTER:"GALAXY_RESET_AFTER",SACRIFICE_RESET_BEFORE:"SACRIFICE_RESET_BEFORE",SACRIFICE_RESET_AFTER:"SACRIFICE_RESET_AFTER",BIG_CRUNCH_BEFORE:"BIG_CRUNCH_BEFORE",BIG_CRUNCH_AFTER:"BIG_CRUNCH_AFTER",ETERNITY_RESET_BEFORE:"ETERNITY_RESET_BEFORE",ETERNITY_RESET_AFTER:"ETERNITY_RESET_AFTER",REALITY_RESET_BEFORE:"REALITY_RESET_BEFORE",REALITY_RESET_AFTER:"REALITY_RESET_AFTER",SINGULARITY_RESET_BEFORE:"SINGULARITY_RESET_BEFORE",SINGULARITY_RESET_AFTER:"SINGULARITY_RESET_AFTER",ARMAGEDDON_BEFORE:"ARMAGEDDON_BEFORE",ARMAGEDDON_AFTER:"ARMAGEDDON_AFTER",GLYPHS_EQUIPPED_CHANGED:"GLYPHS_EQUIPPED_CHANGED",GLYPHS_CHANGED:"GLYPHS_CHANGED",GLYPH_SACRIFICED:"GLYPH_SACRIFICED",GLYPH_SET_SAVE_CHANGE:"GLYPH_SET_SAVE_CHANGE",GLYPH_VISUAL_CHANGE:"GLYPH_VISUAL_CHANGE",BREAK_INFINITY:"BREAK_INFINITY",FIX_INFINITY:"FIX_INFINITY",INFINITY_DIMENSION_UNLOCKED:"INFINITY_DIMENSION_UNLOCKED",INFINITY_CHALLENGE_COMPLETED:"INFINITY_CHALLENGE_COMPLETED",INFINITY_UPGRADE_BOUGHT:"INFINITY_UPGRADE_BOUGHT",INFINITY_UPGRADE_CHARGED:"INFINITY_UPGRADE_CHARGED",INFINITY_UPGRADES_DISCHARGED:"INFINITY_UPGRADES_DISCHARGED",ACHIEVEMENT_UNLOCKED:"ACHIEVEMENT_UNLOCKED",CHALLENGE_FAILED:"CHALLENGE_FAILED",REALITY_UPGRADE_BOUGHT:"REALITY_UPGRADE_BOUGHT",REALITY_UPGRADE_TEN_BOUGHT:"REALITY_UPGRADE_TEN_BOUGHT",PERK_BOUGHT:"PERK_BOUGHT",BLACK_HOLE_UNLOCKED:"BLACK_HOLE_UNLOCKED",BLACK_HOLE_UPGRADE_BOUGHT:"BLACK_HOLE_UPGRADE_BOUGHT",GAME_LOAD:"GAME_LOAD",OFFLINE_CURRENCY_GAINED:"OFFLINE_CURRENCY_GAINED",SAVE_CONVERTED_FROM_PREVIOUS_VERSION:"SAVE_CONVERTED_FROM_PREVIOUS_VERSION",REALITY_FIRST_UNLOCKED:"REALITY_FIRST_UNLOCKED",AUTOMATOR_TYPE_CHANGED:"AUTOMATOR_TYPE_CHANGED",AUTOMATOR_SAVE_CHANGED:"AUTOMATOR_SAVE_CHANGED",AUTOMATOR_CONSTANT_CHANGED:"AUTOMATOR_CONSTANT_CHANGED",PELLE_STRIKE_UNLOCKED:"PELLE_STRIKE_UNLOCKED",ACHIEVEMENT_EVENT_OTHER:"ACHIEVEMENT_EVENT_OTHER",ENTER_PRESSED:"ENTER_PRESSED",ARROW_KEY_PRESSED:"ARROW_KEY_PRESSED",UPDATE:"UPDATE",TAB_CHANGED:"TAB_CHANGED",CLOSE_MODAL:"CLOSE_MODAL"}},5661:(e,t,i)=>{i(173),i(4602),i(533),Array.prototype.distinct=function(){return this.filter((function(e,t,i){return i.indexOf(e)===t}))},Math.wrap=function(e,t,i){const a=i-t+1,n=(e-t)%a;return n<0?i+1+n:t+n},Math.clamp=function(e,t,i){return Math.clampMax(Math.clampMin(e,t),i)},Math.clampMin=function(e,t){return Math.max(e,t)},Math.clampMax=function(e,t){return Math.min(e,t)},Array.prototype.nextSiblingIndex=function(e){const t=this.indexOf(e);if(-1===t)throw"Current item is not in array";return t===this.length-1?0:t+1},Array.prototype.nextSibling=function(e){return this[this.nextSiblingIndex(e)]},Array.prototype.previousSiblingIndex=function(e){const t=this.indexOf(e);if(-1===t)throw"Current item is not in array";return 0===t?this.length-1:t-1},Array.prototype.previousSibling=function(e){return this[this.previousSiblingIndex(e)]},Decimal.sumReducer=function(e,t){return Decimal.add(e,t)},Decimal.prodReducer=function(e,t){return Decimal.mul(e,t)},Number.sumReducer=function(e,t){return e+t},Number.prodReducer=function(e,t){return e*t},Decimal.maxReducer=function(e,t){return Decimal.max(e,t)},Decimal.prototype.copyFrom=function(e){if(!(e instanceof Decimal)&&!(e instanceof DecimalCurrency))throw"Copy value is not Decimal or DecimalCurrency";this.mantissa=e.mantissa,this.exponent=e.exponent},window.copyToClipboard=function(){let e=document.createElement("textarea");return document.body.appendChild(e),e.style.position="absolute",e.style.left="-9999999px",e.setAttribute("readonly",""),function(t){try{return e.value=t,e.select(),document.execCommand("copy")}catch(i){return console.log(i),!1}}}(),window.safeCall=function(e){e&&e()},String.prototype.capitalize=function(){return this.toLowerCase().replace(/^\w/u,(e=>e.toUpperCase()))},String.prototype.splice=function(e,t,i){return this.slice(0,e)+i+this.slice(e+Math.abs(t))},Array.range=function(e,t){return[...Array(t).keys()].map((t=>t+e))},Array.repeat=function(e,t){return Array(t).fill(e)},Array.prototype.first=function(e){if(void 0===e)return this.length>0?this[0]:void 0;if("function"!==typeof e)throw"Predicate must be a function";for(let t=0;t<this.length;t++)if(!0===e(this[t]))return this[t];throw"Array doesn't contain a matching item"},Array.prototype.last=function(e){if(void 0===e)return this.length>0?this[this.length-1]:void 0;if("function"!==typeof e)throw"Predicate must be a function";for(let t=this.length-1;t>=0;t--)if(!0===e(this[t]))return this[t];throw"Array doesn't contain a matching item"},Array.prototype.mapToObject=function(e,t){if("function"!==typeof e||"function"!==typeof t)throw"keyFun and valueFun must be functions";let i={};for(let a=0;a<this.length;++a)i[e(this[a],a)]=t(this[a],a);return i},Array.dimensionTiers=Array.range(1,8),Array.prototype.sum=function(){return 0===this.length?0:this.reduce(Number.sumReducer)},Array.prototype.max=function(){return 0===this.length?0:this.reduce(((e,t)=>Math.max(e,t)))},Array.prototype.min=function(){return 0===this.length?0:this.reduce(((e,t)=>Math.min(e,t)))},Array.prototype.countWhere=function(e){let t=0;for(const i of this)e(i)&&++t;return t},Decimal.prototype.clampMaxExponent=function(e){return this.exponent>=e?Decimal.fromMantissaExponent_noNormalize(1,e):this},Number.prototype.toDecimal=function(){return new Decimal(this.valueOf())},Math.log4=Math.log(4),Array.prototype.randomElement=function(){return this[Math.floor(Math.random()*this.length)]},Decimal.prototype.valueOf=()=>{throw new Error("Implicit conversion from Decimal to number")},Set.prototype.countWhere=function(e){let t=0;for(const i of this)e(i)&&++t;return t},Set.prototype.find=function(e){for(const t of this)if(e(t))return t},Set.prototype.some=function(e){for(const t of this)if(e(t))return!0;return!1},Set.prototype.every=function(e){for(const t of this)if(!e(t))return!1;return!0},Array.prototype.compact=function(){return this.filter((e=>void 0!==e&&null!==e))},Array.prototype.toBitmask=function(){return this.reduce(((e,t)=>e|1<<t),0)},Set.prototype.toBitmask=function(){let e=0;for(const t of this)e|=1<<t;return e},Array.fromBitmask=function(e){const t=[];let i=0;while(0!==e)1&e&&t.push(i),e>>=1,++i;return t},String.isWhiteSpace=function(e){return e&&!e.trim()}},6712:(e,t,i)=>{function a(){const e=GameEnd.endState>END_STATE_MARKERS.END_NUMBERS?1:(GameEnd.endState-END_STATE_MARKERS.FADE_AWAY)/2;return player.celestials.pelle.doomed&&Math.random()<e}i(173),window.format=function(e,t=0,i=0){return a()?"КОНЕЦ":Notations.current.format(e,t,i,3)},window.formatInt=function(e){return a()?"КОНЕЦ":Notations.current.isPainful&&"Стандартная"!==Notations.current.name?format(e,2):formatWithCommas("number"===typeof e?e.toFixed(0):e.toNumber().toFixed(0))},window.formatFloat=function(e,t){return a()?"КОНЕЦ":Notations.current.isPainful?format(e,Math.max(2,t),t):formatWithCommas(e.toFixed(t))},window.formatPostBreak=function(e,t,i){if(a())return"КОНЕЦ";const n=Notations.current;if("number"===typeof e&&!Number.isFinite(e))return n.infinite;const s=Decimal.fromValue_noAlloc(e);if(s.exponent<-300)return s.sign()<0?n.formatVerySmallNegativeDecimal(s.abs(),i):n.formatVerySmallDecimal(s,i);if(s.exponent<3){const e=s.toNumber();return e<0?n.formatNegativeUnder1000(Math.abs(e),i):n.formatUnder1000(e,i)}return s.sign()<0?n.formatNegativeDecimal(s.abs(),t):n.formatDecimal(s,t)},window.formatX=function(e,t,i){return`×${format(e,t,i)}`},window.formatPow=function(e,t,i){return`^${format(e,t,i)}`},window.formatPercents=function(e,t){return`${format(100*e,2,t)}%`},window.formatRarity=function(e){const t=e.toFixed(1).endsWith(".0")?0:1;return`${format(e,2,t)}%`},window.formatMachines=function(e,t){if(a())return"КОНЕЦ";const i=[];return Decimal.neq(e,0)&&i.push(format(e,2)),Decimal.neq(t,0)&&i.push(`${format(t,2,2)}i`),Decimal.eq(e,0)&&Decimal.eq(t,0)?format(0):i.join(" + ")},window.timeDisplay=function(e,t){return TimeSpan.fromMilliseconds(e).toString(t)},window.timeDisplayNoDecimals=function(e,t){return TimeSpan.fromMilliseconds(e).toStringNoDecimals(t)},window.timeDisplayShort=function(e){return TimeSpan.fromMilliseconds(e).toStringShort()};const n=/\B(?=(\d{3})+(?!\d))/gu;window.formatWithCommas=function(e){const t=e.toString().split(".");return t[0].length>4&&(t[0]=t[0].replace(n," ")),t.join(".")},window.pluralize=function e(t,i){if(void 0===t||void 0===i)throw"Arguments must be defined";if(words=t.split(" "),words.length>1)return words.map((t=>e(t,i))).join(" ");let a,n=i instanceof Decimal?i.clampMax(10**9).toNumber():Math.clampMax(i,10**9);if(n!==Math.floor(n))a="dual";else if(n%100<21&&n%100>4)a="plural";else{if(n%10===1)return t;a=n%10<5&&n%10>1?"dual":"plural"}return""===t?"":["Машина","Машину","Теорема"].includes(t)?t.slice(0,-1)+("dual"===a?"ы":""):"раз"===t?"dual"===a?"раза":"раз":"Древо"===t?"dual"===a?"Древа":"Древ":"год"===t?"dual"===a?"года":"лет":"удалён"===t?"удалено":"постоянной"===t?"постоянных":"осталась"===t?"осталось":"Расширением"===t?"Расширениями":"галактики"===t?"галактик":"действующим"===t?"действующими":"года"===t?"лет":"дня"===t?"дней":"строки"===t?"строк":"е"===t?"х":"Очка"===t?"Очков":("нового"===t&&(t="новая"),(t.endsWith("ок")||"Очко"===t)&&(t=t.slice(0,-2)+"к"),t.endsWith("на")?t.slice(0,-1)+"о":t.endsWith("ия")?t.slice(0,-1)+"й":t.endsWith("ен")||t.endsWith("ван")?t+"о":(t.endsWith("ень")&&(t=t.slice(0,-3)+"нь"),["Машиной","глифом"].includes(t)?t.slice(0,-2)+"ами":["ая","ое","ый","ий","ую"].some((e=>t.endsWith(e)))?t.slice(0,-2)+"ых":"dual"===a?t.endsWith("ть")?t.slice(0,-1)+"и":t.endsWith("ие")||t.endsWith("ь")||"поле"===t?t.slice(0,-1)+"я":t.includes("алактик")?t.slice(0,-1)+"и":t.endsWith("ка")||"ошибку"===t?t.slice(0,-2)+"ки":t.includes("минут")||t.includes("секунд")?t.slice(0,-1)+(t.endsWith("ы")?"":"ы"):t.endsWith("а")?t.slice(0,-1)+"ов":t+"а":t.endsWith("ть")?t.slice(0,-1)+"ей":t.endsWith("ие")?t.slice(0,-1)+"й":t.endsWith("ь")||"поле"===t?t.slice(0,-1)+"ей":t.includes("алактик")?t.slice(0,-1):t.endsWith("ка")||"ошибку"===t?t.slice(0,-2)+"ок":t.includes("минут")||t.includes("секунд")?t.slice(0,-1):t.endsWith("а")?t.slice(0,-1)+"ов":t+"ов"))},window.quantify=function(e,t,i,a,n=format){if(void 0===e||void 0===t)throw"Arguments must be defined";const s=n(t,i,a),r=pluralize(e,t);return`${s} ${r}`},window.quantifyInt=function(e,t){if(void 0===e||void 0===t)throw"Arguments must be defined";const i=formatInt(t),a=pluralize(e,t);return`${i} ${a}`},window.makeEnumeration=function(e){if(0===e.length)return"";if(1===e.length)return e[0];const t=e.slice(0,e.length-1).join(", "),i=e[e.length-1];return`${t} и ${i}`}},944:()=>{String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!==typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),a=i.length>>>0;if(0===a)return!1;var n=0|t,s=Math.max(n>=0?n:a-Math.abs(n),0);function r(e,t){return e===t||"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)}while(s<a){if(r(i[s],e))return!0;s++}return!1}}),Math.log10||(Math.log10=Math.log10||function(e){return Math.log(e)*Math.LOG10E}),Math.log2||(Math.log2=Math.log2||function(e){return Math.log(e)*Math.LOG2E}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");var a=arguments[1],n=0;while(n<i){var s=t[n];if(e.call(a,s,n,t))return s;n++}}}),Array.max=function(e){return Math.max.apply(Math,e)},Array.min=function(e){return Math.min.apply(Math,e)},Object.invert=function(e){for(var t={},i=Object.keys(e),a=0,n=i.length;a<n;a++)t[e[i[a]]]=i[a];return t},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var n=arguments[a];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},writable:!0,configurable:!0})},9262:()=>{window.TimeSpan=class t{static fromYears(e,i){return void 0===i?new t(31536e6*e):new t(31536e6*e).toString(i)}static fromDays(e,i){return void 0===i?new t(864e5*e):new t(864e5*e).toString(i)}static fromHours(e,i){return void 0===i?new t(36e5*e):new t(36e5*e).toString(i)}static fromMinutes(e,i){return void 0===i?new t(6e4*e):new t(6e4*e).toString(i)}static fromSeconds(e,i){return void 0===i?new t(1e3*e):new t(1e3*e).toString(i)}static fromMilliseconds(e,i){return void 0===i?new t(e):new t(e).toString(i)}constructor(t){e.isNumber(t,"Value 'ms' must be a number"),this._ms=t}copyFrom(t){e.isTimeSpan(t),this._ms=t._ms}setFrom(t){e.isNumber(t),this._ms=t}get years(){return Math.floor(this.totalYears)}get days(){return Math.floor(this.totalDays%365)}get hours(){return Math.floor(this.totalHours%24)}get minutes(){return Math.floor(this.totalMinutes%60)}get seconds(){return Math.floor(this.totalSeconds%60)}get milliseconds(){return Math.floor(this.totalMilliseconds%1e3)}get totalYears(){return this._ms/31536e6}get totalDays(){return this._ms/864e5}get totalHours(){return this._ms/36e5}get totalMinutes(){return this._ms/6e4}get totalSeconds(){return this._ms/1e3}get totalMilliseconds(){return this._ms}plus(i){return e.isTimeSpan(i),new t(this._ms+i._ms)}minus(i){return e.isTimeSpan(i),new t(this._ms-i._ms)}times(i){return e.isNumber(i),new t(this._ms*i)}dividedBy(i){return e.isNumber(i),new t(this._ms/i)}toString(e="nominative"){return this.years>1e6?`${format(this.totalYears,3,0)} года`:this.totalSeconds>=10?this.toStringNoDecimals(e):this.toStringShort()}toStringNoDecimals(e="nominative"){let t;"nominative"===e&&(t={year:"год",day:"день",hour:"час",minute:"минута",second:"секунда"}),"genitive"===e&&(t={year:"года",day:"дня",hour:"часа",minute:"минуты",second:"секунды"}),"accusative"===e&&(t={year:"год",day:"день",hour:"час",minute:"минуту",second:"секунду"});const i=[];function a(e,t){0!==e&&n(e,t)}function n(e,t){i.push(quantifyInt(t,Math.floor(e)))}return a(this.years,t.year),a(this.days,t.day),a(this.hours,t.hour),a(this.minutes,t.minute),a(this.seconds,t.second),0===i.length?`${formatInt(0)} секунд`:i.join(" ")}toStringShort(e=!0,t=!1){if("КОНЕЦ"===format(0)&&!t)return"КОНЕЦ";const i=this.totalSeconds;if(i>5e-7&&i<.001)return`${format(1e3*i,0,3)}мс`;if(i<1)return`${format(1e3*i)}мс`;if(i<10)return`${format(i,0,3)} секунды`;if(i<60)return`${format(i,0,2)} секунды`;if(this.totalHours<100||t&&this.totalHours<1e3){if(e&&!Notations.current.isPainful){const e=n(this.seconds,this.milliseconds);return 0===Math.floor(this.totalHours)?`${a(this.minutes)}:${e}`:`${a(Math.floor(this.totalHours))}:${a(this.minutes)}:${e}`}if(this.totalMinutes<60)return`${format(this.totalMinutes,0,2)} минуты`;if(this.totalHours<24)return`${format(this.totalHours,0,2)} часа`}return this.totalDays<500?`${t?this.totalDays.toFixed(2):format(this.totalDays,0,2)} дня`:`${t?this.totalYears.toFixed(3):format(this.totalYears,3,2)} года`;function a(e){const t=e.toString();return 1===t.length?`0${t}`:t}function n(e,i){const n=a(e);return t?`${n}.${Math.floor(i/100)}`:n}}toTimeEstimate(){const e=this.totalSeconds;return e<1?`< ${formatInt(1)} секунды`:e>31557600?`> ${formatInt(1)} года`:this.toStringShort()}static get zero(){return new t(0)}static get maxValue(){return new t(Number.MAX_VALUE)}static get minValue(){return new t(Number.MIN_VALUE)}};const e={isDefined(e,t){if(void 0===e){if(t)throw t;throw"Value is defined"}},isNumber(e,t){if("number"!==typeof e){if(t)throw t;throw"Value is not a number"}},isTimeSpan(e,t){if(!(e instanceof TimeSpan)){if(t)throw t;throw"Value is not a TimeSpan"}}}},1744:(e,t,i)=>{"use strict";var a={};i.r(a),i.d(a,{BitPurchasableMechanicState:()=>R,BitUpgradeState:()=>w,Effect:()=>_,Effects:()=>C,GameMechanicState:()=>k,PurchasableMechanicState:()=>S,RebuyableMechanicState:()=>I,SetPurchasableMechanicState:()=>x});var n={};i.r(n),i.d(n,{GlyphCombiner:()=>X,LAITELA_UPGRADE_DIRECTION:()=>Mt,PERK_FAMILY:()=>P,V_REDUCTION_MODE:()=>qi});var s={};i.r(s),i.d(s,{BlockAutomator:()=>cs,default:()=>hs});var r={};i.r(r),i.d(r,{automatorBlocks:()=>vs,automatorBlocksMap:()=>Ts,default:()=>As});var o={};i.r(o),i.d(o,{AutomatorTextUI:()=>xs,default:()=>Ms});var l={};i.r(l),i.d(l,{PerkLayouts:()=>Qs,PerkNetwork:()=>Js,default:()=>tr});var c={};i.r(c),i.d(c,{AUTOMATOR_COMMAND_STATUS:()=>Fn,AUTOMATOR_MODE:()=>qn,AUTOMATOR_TYPE:()=>Yn,AUTOMATOR_VAR_TYPES:()=>Vn,Achievement:()=>B5,AchievementTimers:()=>q5,Achievements:()=>O5,AlchemyReactions:()=>Rp,AlchemyResource:()=>Sp,AlchemyResources:()=>xp,AntimatterDimension:()=>K4,AntimatterDimensions:()=>Q4,AutoBackupSlots:()=>vh,AutoGlyphProcessor:()=>C4,Autobuyer:()=>Du,Autobuyers:()=>Pu,AutomatorBackend:()=>Jn,AutomatorData:()=>Xn,AutomatorHighlighter:()=>Kn,AutomatorPoints:()=>Zn,AutomatorScript:()=>Wn,AutomatorScroller:()=>Qn,AwayProgressTypes:()=>au,BACKUP_SLOT_TYPE:()=>bh,BlackHole:()=>W9,BlackHoles:()=>X9,BreakInfinityUpgrade:()=>i8,BreakInfinityUpgradeState:()=>e8,Celestials:()=>mm,Cloud:()=>Nh,ConfirmationTypes:()=>su,CosmeticGlyphTypes:()=>r4,Currency:()=>dl,DarkMatterDimension:()=>Fp,DarkMatterDimensionState:()=>Hp,DarkMatterDimensions:()=>qp,DeltaTimeState:()=>x4,DilationTimeStudyState:()=>A6,DilationUpgrade:()=>q9,DilationUpgrades:()=>V9,DimBoost:()=>S6,ECTimeStudyState:()=>C6,EFFARIG_STAGES:()=>Zh,END_STATE_MARKERS:()=>hm,ENSLAVED_UNLOCKS:()=>ap,Effarig:()=>ep,EffarigUnlock:()=>ip,Enslaved:()=>np,EnslavedProgress:()=>rp,EternityChallenge:()=>M8,EternityChallengeState:()=>I8,EternityChallenges:()=>D8,EternityMilestone:()=>A8,EternityMilestoneState:()=>C8,EternityUpgrade:()=>S8,FreeTickspeed:()=>B4,GALAXY_TYPE:()=>zc,Galaxy:()=>Qc,GalaxyGenerator:()=>cm,GalaxyGeneratorUpgrade:()=>um,GalaxyGeneratorUpgrades:()=>dm,GameCache:()=>yl,GameEnd:()=>pm,GameIntervals:()=>fl,GameKeyboard:()=>Al,GameOptions:()=>cR,GameSaveSerializer:()=>Gu,GameStorage:()=>Eh,GameUI:()=>P5,GlyphAlteration:()=>_p,GlyphAppearanceHandler:()=>o4,GlyphEffect:()=>c4,GlyphEffectOrder:()=>j5,GlyphEffects:()=>nr,GlyphGenerator:()=>T4,GlyphSacrifice:()=>Q5,GlyphSacrificeHandler:()=>_4,GlyphSelection:()=>P8,GlyphTypes:()=>dr,Glyphs:()=>z5,ImaginaryUpgrade:()=>v9,ImaginaryUpgrades:()=>E9,InfinityChallenge:()=>u8,InfinityChallenges:()=>d8,InfinityDimension:()=>t6,InfinityDimensions:()=>i6,InfinityUpgrade:()=>Z6,InfinityUpgradeState:()=>z6,Laitela:()=>Vp,LineEnum:()=>zn,MachineHandler:()=>z9,Modal:()=>aR,NG:()=>Fh,NewsHandler:()=>Z9,NormalChallenge:()=>s8,NormalChallenges:()=>r8,NormalTimeStudies:()=>E6,NormalTimeStudyState:()=>T6,Notation:()=>Bh,Notations:()=>Oh,POWER_DE_PER_ASCENSION:()=>Lp,POWER_DM_PER_ASCENSION:()=>Op,Pelle:()=>Zp,PelleRifts:()=>lm,PelleStrikes:()=>nm,PelleUpgrade:()=>im,PelleUpgradeState:()=>tm,PerformanceStats:()=>cl,Perk:()=>_9,PerkShopUpgrade:()=>Jh,Perks:()=>C9,Player:()=>ol,PlayerProgress:()=>se,Quote:()=>qh,Quotes:()=>Wh,Ra:()=>Tp,RealityUpgrade:()=>y9,RealityUpgrades:()=>f9,RebuyablePelleUpgradeState:()=>em,Replicanti:()=>u9,ReplicantiGrowth:()=>J8,ReplicantiUpgrade:()=>c9,Sacrifice:()=>P6,ScriptTemplate:()=>p7,SecretAchievement:()=>$5,SecretAchievements:()=>H5,ShopPurchase:()=>a7,ShopPurchaseData:()=>t7,Singularity:()=>zp,SingularityMilestone:()=>jp,SingularityMilestones:()=>Wp,Speedrun:()=>lp,SpeedrunMilestones:()=>up,TUTORIAL_STATE:()=>Lh,Tab:()=>l7,TabNotification:()=>h7,Tabs:()=>c7,Teresa:()=>Xh,TeresaUnlocks:()=>Qh,Tesseracts:()=>op,Theme:()=>oR,Themes:()=>lR,Tickspeed:()=>N4,Time:()=>I4,TimeDimension:()=>h6,TimeDimensions:()=>p6,TimeStudy:()=>_6,TimeStudyConnection:()=>k6,TimeStudyState:()=>b6,TimeStudyTree:()=>v6,TimeTheoremPurchaseType:()=>d9,TimeTheorems:()=>h9,Tutorial:()=>Hh,UIID:()=>U5,V:()=>fp,VRunUnlock:()=>pp,VRunUnlocks:()=>mp,VUnlocks:()=>yp,animateAndDilate:()=>k9,animateAndEternity:()=>f8,animateAndUndilate:()=>w9,antimatterDimensionCommonMultiplier:()=>O4,applyEU1:()=>v8,applyEU2:()=>E8,applyRUPG10:()=>X8,autoAdjustGlyphWeights:()=>A4,autoReality:()=>F8,beginProcessReality:()=>Y8,bigCrunchAnimation:()=>N6,bigCrunchReset:()=>$6,bigCrunchResetRequest:()=>L6,bigCrunchResetValues:()=>V6,blockifyTextAutomator:()=>On,buyAsManyAsYouCanBuy:()=>Y4,buyDilationUpgrade:()=>I9,buyManyDimension:()=>V4,buyMaxDimension:()=>X4,buyMaxTickSpeed:()=>U4,buyMaxTimeDimension:()=>o6,buyOneDimension:()=>q4,buySingleTimeDimension:()=>a6,buyStudiesUntil:()=>f6,buyTickSpeed:()=>P4,calculateGlyph:()=>Z5,checkPerkValidity:()=>A9,clearCelestialRuns:()=>z8,countValuesFromBitmask:()=>b4,dev:()=>K9,dilatedValueOf:()=>$9,disChargeAll:()=>Q6,effectiveBaseGalaxies:()=>M4,eternity:()=>y8,eternityAnimation:()=>p8,eternityResetRequest:()=>m8,findGlyphTypeEffects:()=>sr,finishProcessReality:()=>j8,forbiddenConstantPatterns:()=>_n,fullResetTimeDimensions:()=>s6,gainedEternities:()=>_8,generatedTypes:()=>Y5,getActiveGlyphEffects:()=>v4,getAdjustedGlyphEffect:()=>d4,getAdjustedGlyphEffectUncached:()=>u4,getAdjustedGlyphLevel:()=>t4,getBaseTP:()=>G9,getDilationGainPerSecond:()=>D9,getDilationTimeEstimate:()=>L9,getDimensionFinalMultiplierUncached:()=>L4,getGlyphEffectValues:()=>p4,getGlyphEffectValuesFromBitmask:()=>f4,getGlyphEffectsFromBitmask:()=>or,getGlyphIDsFromBitmask:()=>lr,getGlyphLevelInputs:()=>w4,getRarity:()=>e4,getRealityProps:()=>H8,getReplicantiInterval:()=>a9,getSecondaryGlyphEffect:()=>h4,getSingleGlyphEffectFromBitmask:()=>g4,getTP:()=>N9,getTachyonGain:()=>B9,getTachyonGalaxyMult:()=>M9,getTachyonReq:()=>O9,getTickSpeedMultiplier:()=>D4,guardFromNaNValues:()=>ll,hasCompilationErrors:()=>Bn,infinityDimensionCommonMultiplier:()=>J4,initializeChallengeCompletions:()=>g8,initializeResourcesAfterEternity:()=>b8,isDevEnvironment:()=>Q9,isInCelestialReality:()=>K8,isLocalEnvironment:()=>J9,isRealityAvailable:()=>U8,isSecretImport:()=>hR,makeGlyphEffectBitmask:()=>rr,manualBigCrunchResetRequest:()=>O6,manualRequestDimensionBoost:()=>I6,manualRequestGalaxyReset:()=>Zc,maxAll:()=>W4,maxAllTimeDimensions:()=>l6,orderedEffectList:()=>V5,preProductionGenerateIP:()=>W6,processManualReality:()=>O8,rarityToStrength:()=>W5,realityGlyphEffectLevelThresholds:()=>ar,recalculateAllGlyphs:()=>J5,replicantiCap:()=>s9,replicantiGalaxy:()=>e9,replicantiGalaxyRequest:()=>t9,replicantiLoop:()=>r9,replicantiMult:()=>o9,requestDimensionBoost:()=>M6,requestGalaxyReset:()=>eu,requestManualReality:()=>N8,resetTickspeed:()=>G4,resetTimeDimensions:()=>n6,respecGlyphs:()=>i4,respecTimeStudies:()=>g6,rewardTP:()=>U9,runRealityAnimation:()=>L8,sacrificeBtnClick:()=>G6,sacrificeReset:()=>U6,secondSoftReset:()=>j6,separateEffectKey:()=>y4,shop:()=>e7,shortcuts:()=>Dc,simulatedRealityCount:()=>G8,skipResetsIfPossible:()=>R6,softReset:()=>x6,startDilatedEternity:()=>x9,startDilatedEternityRequest:()=>S9,startEternityChallenge:()=>x8,startManualReality:()=>B8,staticGlyphWeights:()=>S4,strengthToRarity:()=>X5,tachyonGainMultiplier:()=>P9,timeDimensionCommonMultiplier:()=>c6,toggleAllInfDims:()=>Z4,toggleAllTimeDims:()=>r6,totalIPMult:()=>K6,totalReplicantiSpeedMult:()=>n9,tryCompleteInfinityChallenges:()=>o8,tryImportSecret:()=>pR,tryUnlockTimeDimensions:()=>m6,ui:()=>G5,updateNormalAndInfinityChallenges:()=>a8,updateTimeDimensionCosts:()=>u6,validateLine:()=>Ln});var u={};i.r(u),i.d(u,{GAME_SPEED_EFFECT:()=>B7,addEternityTime:()=>R7,addInfinityTime:()=>w7,addRealityTime:()=>U7,breakInfinity:()=>g7,browserCheck:()=>tee,gainedEternityPoints:()=>E7,gainedGlyphLevel:()=>C7,gainedInfinities:()=>G7,gainedInfinityPoints:()=>b7,gainedRealityMachines:()=>_7,gameLoop:()=>H7,getEternitiedMilestoneReward:()=>M7,getGameSpeedupFactor:()=>O7,getGameSpeedupForDisplay:()=>L7,getInfinitiedMilestoneReward:()=>x7,getOfflineEPGain:()=>P7,getTTPerSecond:()=>K7,init:()=>iee,playerInfinityUpgradesOnReset:()=>f7,ratePerMinute:()=>k7,realTimeMechanics:()=>$7,requiredIPForEP:()=>T7,resetChallengeStuff:()=>A7,resetEternityRuns:()=>I7,resetInfinityRuns:()=>S7,setHoldingR:()=>eee,setShiftKey:()=>Z7,simulateTime:()=>J7,translateGlyph:()=>y7,updateRefresh:()=>N7});i(3396),i(1579);var d=i(5237),h=i.n(d),p=i(6586),m=i(5471);i(4856),i(2132),i(1561),i(436),i(5218);window.CodeMirror=h(),window.Decimal=p.A,window.Vue=m.A;i(944),i(5661);const y="true"==={NODE_ENV:"production",BASE_URL:""}.VUE_APP_DEV,f="true"==={NODE_ENV:"production",BASE_URL:""}.VUE_APP_STEAM,g="MacIntel"===window.navigator.platform;window.NotImplementedError=class extends Error{constructor(){super("The method is not implemented."),this.name="NotImplementedError"}},window.GlobalErrorHandler={handled:!1,cleanStart:!1,onerror(e){if(!this.handled){if(this.handled=!0,!this.cleanStart)return document.getElementById("loading").style.display="none",void requestAnimationFrame((()=>this.crash(e)));this.stopGame(),this.crash(e)}},stopGame(){function e(e,t){let i=e((()=>{}),9999);while(i--)t(i)}GameKeyboard.disable(),GameIntervals.stop(),e(setInterval,clearInterval),e(setTimeout,clearTimeout),e(requestAnimationFrame,cancelAnimationFrame)},crash(e){void 0!==window.GameUI&&GameUI.initialized&&Modal.message.show(`${e}<br>Check the console for more details`,{},3)}},window.onerror=(e,t)=>{t.endsWith(".js")&&GlobalErrorHandler.onerror(e)};i(9262),i(6712);function b(e){return Object.keys(e).forEach((t=>{const i=e[t];"object"===typeof i&&b(i)})),Object.freeze(e)}window.PRESTIGE_EVENT={DIMENSION_BOOST:0,ANTIMATTER_GALAXY:1,INFINITY:2,ETERNITY:3,REALITY:4};const v=b({DM1:new Decimal("-1"),D0:new Decimal("0"),D0_01:new Decimal("0.01"),D0_1:new Decimal("0.1"),D0_4:new Decimal("0.4"),D0_55:new Decimal("0.55"),D0_8:new Decimal("0.8"),D0_8446303389034288:new Decimal("0.8446303389034288"),D0_95:new Decimal("0.95"),D0_965:new Decimal("0.965"),D1:new Decimal("1"),D1_0000109:new Decimal("1.0000109"),D1_00038:new Decimal("1.00038"),D1_0004:new Decimal("1.0004"),D1_0025:new Decimal("1.0025"),D1_005:new Decimal("1.005"),D1_007:new Decimal("1.007"),D1_02:new Decimal("1.02"),D1_0285:new Decimal("1.0285"),D1_2:new Decimal("1.2"),D1_3:new Decimal("1.3"),D2:new Decimal("2"),D3:new Decimal("3"),D4:new Decimal("4"),D5:new Decimal("5"),D6_66:new Decimal("6.66"),D15:new Decimal("15"),D16:new Decimal("16"),D11111:new Decimal("11111"),D3E4:new Decimal("30000"),D2E5:new Decimal("2e5"),D2E6:new Decimal("2e6"),D5E7:new Decimal("5e7"),D2E9:new Decimal("2e9"),D2E25:new Decimal("2e25"),D2E22222:new Decimal("2e22222"),D9_99999E999:new Decimal("9.99999e999"),D9_9999E9999:new Decimal("9.9999e9999"),C1D1_1245:Decimal.div(1,1.1245),D2P30D0_61:Decimal.pow(2,30/.61),C2P30:Decimal.pow(2,30),C2P1024:Decimal.pow(2,1024),C10P16000D3:Decimal.pow(10,16e3/3),IP_REQUIREMENT_FOR_2_EP:Decimal.pow(2*Math.pow(5,.7),308/Math.log10(5)),E1:new Decimal("1e1"),E2:new Decimal("1e2"),E3:new Decimal("1e3"),E5:new Decimal("1e5"),E6:new Decimal("1e6"),E8:new Decimal("1e8"),E9:new Decimal("1e9"),E10:new Decimal("1e10"),E12:new Decimal("1e12"),E15:new Decimal("1e15"),E20:new Decimal("1e20"),E25:new Decimal("1e25"),E29:new Decimal("1e29"),E30:new Decimal("1e30"),E31:new Decimal("1e31"),E40:new Decimal("1e40"),E45:new Decimal("1e45"),E50:new Decimal("1e50"),E55:new Decimal("1e55"),E58:new Decimal("1e58"),E60:new Decimal("1e60"),E63:new Decimal("1e63"),E70:new Decimal("1e70"),E75:new Decimal("1e75"),E80:new Decimal("1e80"),E90:new Decimal("1e90"),E100:new Decimal("1e100"),E140:new Decimal("1e140"),E150:new Decimal("1e150"),E160:new Decimal("1e160"),E170:new Decimal("1e170"),E175:new Decimal("1e175"),E200:new Decimal("1e200"),E250:new Decimal("1e250"),E260:new Decimal("1e260"),E280:new Decimal("1e280"),E300:new Decimal("1e300"),E308:new Decimal("1e308"),E309:new Decimal("1e309"),E310:new Decimal("1e310"),E315:new Decimal("1e315"),E320:new Decimal("1e320"),E349:new Decimal("1e349"),E400:new Decimal("1e400"),E450:new Decimal("1e450"),E500:new Decimal("1e500"),E530:new Decimal("1e530"),E550:new Decimal("1e550"),E600:new Decimal("1e600"),E616:new Decimal("1e616"),E650:new Decimal("1e650"),E750:new Decimal("1e750"),E850:new Decimal("1e850"),E900:new Decimal("1e900"),E925:new Decimal("1e925"),E975:new Decimal("1e975"),E1000:new Decimal("1e1000"),E1100:new Decimal("1e1100"),E1200:new Decimal("1e1200"),E1300:new Decimal("1e1300"),E1400:new Decimal("1e1400"),E1500:new Decimal("1e1500"),E1750:new Decimal("1e1750"),E1800:new Decimal("1e1800"),E1900:new Decimal("1e1900"),E2000:new Decimal("1e2000"),E2350:new Decimal("1e2350"),E2400:new Decimal("1e2400"),E2500:new Decimal("1e2500"),E2650:new Decimal("1e2650"),E2700:new Decimal("1e2700"),E2750:new Decimal("1e2750"),E2800:new Decimal("1e2800"),E2900:new Decimal("1e2900"),E3000:new Decimal("1e3000"),E3200:new Decimal("1e3200"),E3350:new Decimal("1e3350"),E4000:new Decimal("1e4000"),E5000:new Decimal("1e5000"),E6000:new Decimal("1e6000"),E8000:new Decimal("1e8000"),E9000:new Decimal("1e9000"),E10000:new Decimal("1e10000"),E10500:new Decimal("1e10500"),E11000:new Decimal("1e11000"),E11111:new Decimal("1e11111"),E11200:new Decimal("1e11200"),E12000:new Decimal("1e12000"),E13000:new Decimal("1e13000"),E14000:new Decimal("1e14000"),E16500:new Decimal("1e16500"),E17500:new Decimal("1e17500"),E18000:new Decimal("1e18000"),E20000:new Decimal("1e20000"),E22500:new Decimal("1e22500"),E23000:new Decimal("1e23000"),E27000:new Decimal("1e27000"),E28000:new Decimal("1e28000"),E30000:new Decimal("1e30000"),E45000:new Decimal("1e45000"),E54000:new Decimal("1e54000"),E60000:new Decimal("1e60000"),E100000:new Decimal("1e100000"),E110000:new Decimal("1e110000"),E164000:new Decimal("1e164000"),E200000:new Decimal("1e200000"),E201600:new Decimal("1e201600"),E208000:new Decimal("1e208000"),E210000:new Decimal("1e210000"),E300000:new Decimal("1e300000"),E320000:new Decimal("1e320000"),E500000:new Decimal("1e500000"),E1E6:new Decimal("1e1000000"),E3E6:new Decimal("1e3000000"),E6E6:new Decimal("1e6000000"),E1E7:new Decimal("1e10000000"),E2E7:new Decimal("1e20000000"),E4E7:new Decimal("1e40000000"),E6E7:new Decimal("1e60000000"),E1E8:new Decimal("1e100000000"),E1_5E12:new Decimal("1e1500000000000"),E1E15:new Decimal("1e1000000000000000"),E9E15:new Decimal("1e9000000000000000")});window.AUTOBUYER_MODE={BUY_SINGLE:1,BUY_10:10,BUY_MAX:100},window.AUTO_CRUNCH_MODE={AMOUNT:0,TIME:1,X_HIGHEST:2},window.AUTO_ETERNITY_MODE={AMOUNT:0,TIME:1,X_HIGHEST:2},window.AUTO_REALITY_MODE={RM:0,GLYPH:1,EITHER:2,BOTH:3,TIME:4,RELIC_SHARD:5},window.RECENT_PRESTIGE_RESOURCE={ABSOLUTE_GAIN:0,RATE:1,CURRENCY:2,PRESTIGE_COUNT:3},window.TS171_MULTIPLIER=1.25,window.GLYPH_MIME_TYPE="text/x-ivark-glyph",window.GlyphRarities=[{minStrength:3.5,name:"Celestial",nameRussian:"Космический",darkColor:"#3d3dec",lightColor:"#9696ff",darkHighContrast:"#ffff00",lightHighContrast:"#c0c000"},{minStrength:3.25,name:"Transcendent",nameRussian:"Трансцендентный",darkColor:"#03ffec",lightColor:"#00c3c3",darkHighContrast:"#00ffff",lightHighContrast:"#00c0c0"},{minStrength:3,name:"Mythical",nameRussian:"Мифический",darkColor:"#d50000",lightColor:"#d50000",darkHighContrast:"#c00000",lightHighContrast:"#ff0000"},{minStrength:2.75,name:"Legendary",nameRussian:"Легендарный",darkColor:"#ff9800",lightColor:"#d68100",darkHighContrast:"#ff8000",lightHighContrast:"#ff8000"},{minStrength:2.5,name:"Epic",nameRussian:"Эпичный",darkColor:"#9c27b0",lightColor:"#9c27b0",darkHighContrast:"#ff00ff",lightHighContrast:"#ff00ff"},{minStrength:2,name:"Rare",nameRussian:"Редкий",darkColor:"#5096f3",lightColor:"#0d40ff",darkHighContrast:"#6060ff",lightHighContrast:"#0000ff"},{minStrength:1.5,name:"Uncommon",nameRussian:"Необычный",darkColor:"#43a047",lightColor:"#1e8622",darkHighContrast:"#00ff00",lightHighContrast:"#00b000"},{minStrength:1,name:"Common",nameRussian:"Обычный",darkColor:"#ffffff",lightColor:"#000000",darkHighContrast:"#ffffff",lightHighContrast:"#000000"}],window.GLYPH_BG_SETTING={AUTO:0,LIGHT:1,DARK:2},window.GLYPH_TYPES=["power","infinity","replication","time","dilation","effarig","reality","cursed","companion"],window.BASIC_GLYPH_TYPES=["power","infinity","replication","time","dilation"],window.ALCHEMY_BASIC_GLYPH_TYPES=["power","infinity","replication","time","dilation","effarig"],window.GLYPH_SYMBOLS={power:"Ω",infinity:"∞",replication:"Ξ",time:"Δ",dilation:"Ψ",effarig:"Ϙ",reality:"Ϟ",cursed:"⸸",companion:"♥"},window.CANCER_GLYPH_SYMBOLS={power:"⚡",infinity:"8",replication:"⚤",time:"🕟",dilation:"☎",effarig:"🦒",reality:"⛧",cursed:"☠",companion:"³"},window.ALTERATION_TYPE={ADDITION:1,EMPOWER:2,BOOST:3},window.BLACK_HOLE_PAUSE_MODE={NO_PAUSE:0,PAUSE_BEFORE_BH1:1,PAUSE_BEFORE_BH2:2},window.GLYPH_SIDEBAR_MODE={INVENTORY_MANAGEMENT:0,FILTER_SETTINGS:1,SAVED_SETS:2,SACRIFICE_TYPE:3},window.AUTO_SORT_MODE={NONE:0,LEVEL:1,POWER:2,EFFECT:3,SCORE:4},window.AUTO_GLYPH_SCORE={LOWEST_SACRIFICE:0,EFFECT_COUNT:1,RARITY_THRESHOLD:2,SPECIFIED_EFFECT:3,EFFECT_SCORE:4,LOWEST_ALCHEMY:5,ALCHEMY_VALUE:6},window.AUTO_GLYPH_REJECT={SACRIFICE:0,REFINE:1,REFINE_TO_CAP:2},window.TIME_STUDY_PATH={NONE:0,ANTIMATTER_DIM:1,INFINITY_DIM:2,TIME_DIM:3,ACTIVE:4,PASSIVE:5,IDLE:6,LIGHT:7,DARK:8},window.TIME_STUDY_TYPE={NORMAL:0,ETERNITY_CHALLENGE:1,DILATION:2,TRIAD:3},window.TS_REQUIREMENT_TYPE={AT_LEAST_ONE:0,ALL:1,DIMENSION_PATH:2},window.ALCHEMY_RESOURCE={POWER:0,INFINITY:1,TIME:2,REPLICATION:3,DILATION:4,CARDINALITY:5,ETERNITY:6,DIMENSIONALITY:7,INFLATION:8,ALTERNATION:9,EFFARIG:10,SYNERGISM:11,MOMENTUM:12,DECOHERENCE:13,EXPONENTIAL:14,FORCE:15,UNCOUNTABILITY:16,BOUNDLESS:17,MULTIVERSAL:18,UNPREDICTABILITY:19,REALITY:20},window.SINGULARITY_MILESTONE_RESOURCE={SINGULARITIES:0,CONDENSE_COUNT:1,MANUAL_TIME:2,AUTO_TIME:3},window.SINGULARITY_MILESTONE_SORT={SINGULARITIES_TO_NEXT:0,CURRENT_COMPLETIONS:1,PERCENT_COMPLETIONS:2,FINAL_COMPLETION:3,MOST_RECENT:4},window.COMPLETED_MILESTONES={FIRST:0,LAST:1,IGNORED:2},window.SORT_ORDER={ASCENDING:0,DESCENDING:1},window.PROGRESS_STAGE={PRE_INFINITY:1,EARLY_INFINITY:2,BREAK_INFINITY:3,REPLICANTI:4,EARLY_ETERNITY:5,ETERNITY_CHALLENGES:6,EARLY_DILATION:7,LATE_ETERNITY:8,EARLY_REALITY:9,TERESA:10,EFFARIG:11,ENSLAVED:12,V:13,RA:14,IMAGINARY_MACHINES:15,LAITELA:16,PELLE:17},window.STD_BACKEND_URL="https://antimatterdimensionspayments.ew.r.appspot.com",window.SPEEDRUN_SEED_STATE={UNKNOWN:0,FIXED:1,RANDOM:2,PLAYER:3};i(4602);var E=i(1566);window.LOG10_MAX_VALUE=Math.log10(Number.MAX_VALUE),window.LN_SQRT_2_PI=.5*Math.log(2*Math.PI),window.LOG10_2=Math.log10(2),window.LOG10_E=Math.log10(Math.E),Math.PI_2=2*Math.PI,window.bulkBuyBinarySearch=function(e,t,i){const a=t.costFunction,n=void 0===t.firstCost?a(i):t.firstCost,s=void 0===t.cumulative||t.cumulative;if(e.lt(n))return null;let r,o=1;do{o*=2,r=a(i+o-1)}while(e.gte(r));if(2===o)return{quantity:1,purchasePrice:n};let l=o/2;if(o>Number.MAX_SAFE_INTEGER)throw new Error("Overflow in binary search");while(o-l>1){const t=Math.floor((l+o)/2);e.gte(a(i+t-1))?l=t:o=t}const c=a(i+l-1);if(!s)return{quantity:l,purchasePrice:c};let u=v.D0,d=0;for(let p=l-1;p>0;--p){const e=u.plus(a(i+p-1));if(e.eq(u))break;if(u=e,++d>1e3)throw new Error("unexpected long loop (buggy cost function?)")}let h=c.plus(u);return e.lt(h)&&(--l,h=u),{quantity:l,purchasePrice:h}},window.LinearMultiplierScaling=class{constructor(e,t){this.baseRatio=e,this.growth=t}scale(e){return this.baseRatio*=e,this.growth*=e,this}shift(e){return this.baseRatio+=this.growth*e,this}logTotalMultiplierAfterPurchases(e){if(0===e)return 0;const t=this.growth/this.baseRatio,i=t*e;return(1/t+e-.5)*Math.log1p(i)+e*(Math.log(this.baseRatio)-1)-t*i/(12*(1+i))}purchasesForLogTotalMultiplier(e){if(this.baseRatio<1.01)throw new Error("Ratio is too small for good calculations");const t=Math.log(this.baseRatio),i=this.growth/this.baseRatio,a=a=>{const n=i*a,s=Math.log1p(n),r=.5*i/(1+n),o=(1/i+a-.5)*s+a*(t-1)-(e+r*n/6),l=s+t-r*(r/3+1),c=r*(2+r*(2+r/3)),u=o/l;return a-2*u/(1+Math.sqrt(1-2*u*c/l))},n=e/t;if(i*n<.01)return a(a(n));const s=this.growth*e+this.baseRatio*(t-1),r=.183709519164226,o=.693791942633232,l=.049293492810849,c=Math.sqrt(2*(s+1)),u=c*(1+r*c)/(1+o*Math.log1p(l*c)),d=(1+u+s)/Math.log1p(u),h=(d-this.baseRatio)/this.growth;return a(a(h))}logTotalMultiplierAfterPurchasesBaseline(e){let t=0;const i=this.growth/this.baseRatio;for(let a=0;a<e;++a)t+=Math.log1p(i*a);return t+e*Math.log(this.baseRatio)}},window.getCostWithLinearCostScaling=function(e,t,i,a,n){const s=Math.max(0,Math.floor(Math.log(t/i)/Math.log(a))),r=Math.ceil(Math.pow(a,Math.min(s,e))*i),o=new LinearMultiplierScaling(a,n),l=Math.exp(o.logTotalMultiplierAfterPurchases(Math.max(0,e-s)));return r*l},window.findFirstInfiniteCostPurchase=function(e,t,i,a){let n=1;while(Number.isFinite(getCostWithLinearCostScaling(n,e,t,i,a)))n*=2;let s=n/2;while(s<n){const r=Math.floor((s+n)/2),o=getCostWithLinearCostScaling(r,e,t,i,a);Number.isFinite(o)?s=r+1:n=r}return s},window.LinearCostScaling=class{constructor(e,t,i,a=Number.MAX_SAFE_INTEGER,n=!1){this._purchases=n?Math.clampMax(Math.floor(e.div(t).log10()/Math.log10(i)+1),a):Math.clampMax(Math.floor(e.mul(i-1).div(t).add(1).log10()/Math.log10(i)),a),this._totalCostMultiplier=Decimal.pow(i,this._purchases),this._totalCost=n?t.mul(Decimal.pow(i,this._purchases-1)):t.mul(Decimal.sub(1,this._totalCostMultiplier)).div(1-i)}get purchases(){return this._purchases}get totalCostMultiplier(){return this._totalCostMultiplier}get totalCost(){return this._totalCost}},window.ExponentialCostScaling=class e{constructor(t){if(this._baseCost=new Decimal(t.baseCost),this._baseIncrease=t.baseIncrease,"number"!==typeof this._baseIncrease)throw new Error("baseIncrease must be a number");if(this._costScale=t.costScale,"number"!==typeof this._costScale)throw new Error("costScale must be a number");if(this._logBaseCost=e.log10(t.baseCost),this._logBaseIncrease=e.log10(t.baseIncrease),this._logCostScale=e.log10(t.costScale),void 0!==t.purchasesBeforeScaling)this._purchasesBeforeScaling=t.purchasesBeforeScaling;else{if(void 0===t.scalingCostThreshold)throw new Error("Must specify either scalingCostThreshold or purchasesBeforeScaling");this._purchasesBeforeScaling=Math.ceil((e.log10(t.scalingCostThreshold)-this._logBaseCost)/this._logBaseIncrease)}this.updateCostScale()}get costScale(){return this._costScale}set costScale(t){this._logCostScale=e.log10(t),this._costScale=t,this.updateCostScale()}updateCostScale(){this._precalcDiscriminant=Math.pow(2*this._logBaseIncrease+this._logCostScale,2)-8*this._logCostScale*(this._purchasesBeforeScaling*this._logBaseIncrease+this._logBaseCost),this._precalcCenter=-this._logBaseIncrease/this._logCostScale+this._purchasesBeforeScaling+.5}calculateCost(e){const t=this._logBaseIncrease,i=this._logBaseCost,a=e-this._purchasesBeforeScaling,n=a>0?e*t+i+.5*a*(a+1)*this._logCostScale:e*t+i;return v.E1.pow(n)}getMaxBought(e,t,i){const a=t.div(i),n=a.log10(),s=this._logBaseIncrease,r=this._logBaseCost;let o,l=Math.floor(1+(n-r)/s);if(l>this._purchasesBeforeScaling){const e=this._precalcDiscriminant+8*this._logCostScale*n;if(e<0)return null;l=Math.floor(this._precalcCenter+Math.sqrt(e)/(2*this._logCostScale))}if(l<=e)return null;if(l<=this._purchasesBeforeScaling+1)o=(l-1)*s+r;else{const e=l-this._purchasesBeforeScaling;o=(l-1)*s+r+.5*e*(e-1)*this._logCostScale}return{quantity:l-e,logPrice:o+Math.log10(i)}}getContinuumValue(e,t){const i=e.div(t),a=i.log10(),n=this._logBaseIncrease,s=this._logBaseCost;let r=1+(a-s)/n;if(r>this._purchasesBeforeScaling){const e=this._precalcDiscriminant+8*this._logCostScale*a;if(e<0)return 0;r=this._precalcCenter+Math.sqrt(e)/(2*this._logCostScale)}return Math.clampMin(r,0)}static log10(e){return e instanceof Decimal?e.log10():Math.log10(e)}},window.productLog=function(e){let t=e,i=0;do{i=t,t-=1-(1+e*Math.exp(-t))/(1+t)}while(Math.abs(t-i)>1e-6*t);return t},window.permutationIndex=function(e,t){let i=1;for(let o=1;o<=e;o++)i*=o;let a=t%i,n=i/e;const s=Array.range(0,e),r=[];while(s.length>0){const e=Math.floor(a/n),t=a%n;r.push(s.splice(e,1)[0]),a=t,n/=s.length}return r},window.getHybridCostScaling=function(e,t,i,a,n,s,r,o){const l=getCostWithLinearCostScaling(e,t,i,a,n);if(Number.isFinite(l))return new Decimal(l);const c=e-findFirstInfiniteCostPurchase(t,i,a,n),u=new ExponentialCostScaling({baseCost:s,baseIncrease:r,costScale:o,scalingCostThreshold:Number.MAX_VALUE});return u.calculateCost(c)},window.logFactorial=function(){const e=Array.range(1,11).map(Math.log),t=[0];for(const i of e)t.push(t[t.length-1]+i);return e=>"number"!==typeof e||e<0?NaN:e<t.length?t[e]:(0,E.log)(e+1)}(),window.exp1m=function(e){return e.abs().gte(.001)?e.exp().minus(1):e.plus(e.pow(2).div(2)).plus(e.pow(3).div(6)).plus(e.pow(4).div(24)).plus(e.pow(5).div(120))},window.xorshift32Update=function(e){return e^=e<<13,e^=e>>>17,e^=e<<5,e},window.fastRandom=function(){let e=Math.floor(Date.now())%Math.pow(2,32);const t=1/Math.pow(2,32);return()=>(e=xorshift32Update(e),e*t+.5)}(),window.normalDistribution=function(){let e=!1,t=0;return(i,a)=>{if("number"!==typeof i||"number"!==typeof a)return NaN;if(e)return e=!1,i+a*t;let n,s,r;do{s=2*fastRandom()-1,r=2*fastRandom()-1,n=s*s+r*r}while(n>=1||0===n);const o=Math.sqrt(-2*Math.log(n)/n);return e=!0,t=r*o,i+a*s*o}}(),window.binomialGeneratorFC=function(){const e=e=>(e+.5)*Math.log1p(e)-.08106146679532726-e,t=Array.range(0,20).map((t=>logFactorial(t)-e(t)));return e=>{if("number"!==typeof e||e<0)return NaN;if(e<t.length)return t[e];const i=1/(e+1);return(1/12-i*i*(1/360-i*i/1260))*i}}(),window.binomialDistributionSmallExpected=function(e,t){const i=t/(1-t),a=(e+1)*i;let n=Math.exp(Math.log1p(-t)*e);const s=fastRandom();let r=n,o=0;while(s>r){if(++o,n*=a/o-i,r+n===r)break;r+=n}return o},window.binomialDistribution=function e(t,i){if(0===i)return 0;if(t instanceof Decimal){if(t.e<308){const a="number"===typeof i?i:i.toNumber();return new Decimal(e(t.toNumber(),a))}const a=t.times(i);return a.e>32?a:new Decimal(poissonDistribution(t.times(i)))}const a=t*i;if(a<15)return binomialDistributionSmallExpected(t,i);if(i>.5)return t-e(t,1-i);if(a>1e32)return a;const n=a*(1-i);return n>1e4?Math.round(normalDistribution(a,Math.sqrt(n))):binomialDistributionBTRD(t,i)},window.poissonDistribution=function e(t){return 0===t?0:t instanceof Decimal?t.e>32?t:new Decimal(e(t.toNumber())):t>1e32?t:t>1e4?poissonDistributionViaNormal(t):t<20?poissonDistributionSmallExpected(t):poissonDistributionPTRD(t)},window.poissonDistributionViaNormal=function(e){const t=normalDistribution(Math.sqrt(e),.5);return Math.floor(t*t)},window.poissonDistributionSmallExpected=function(e){let t=Math.exp(-e),i=t;const a=fastRandom();let n=0;while(a>i){if(++n,t*=e/n,i+t===i)break;i+=t}return n},window.binomialDistributionBTRD=function(e,t){const i=e*t,a=i*(1-t),n=Math.sqrt(a),s=Math.floor(i+t),r=t/(1-t),o=(e+1)*r,l=1.15+2.53*n,c=.0248*l-.0873+.01*t,u=i+.5,d=(2.83+5.1/l)*n,h=.43,p=.92-4.2/l;while(1){let t,i=fastRandom();if(i<=2*h*p){const e=i/p-h;return Math.floor((2*c/(.5-Math.abs(e))+l)*e+u)}if(i>=p)t=fastRandom()-.5;else{const e=i/p-.93;i=fastRandom()*p,t=(e>0?.5:-.5)-e}const n=.5-Math.abs(t),m=Math.floor((2*c/n+l)*t+u);if(m<0||m>e)continue;i*=d/(c/(n*n)+l);const y=Math.abs(m-s);if(y<=40){let e=1;if(s<m)for(let t=s+1;t<=m;++t)e*=o/t-r;else if(s>m)for(let t=m+1;t<=s;++t)i*=o/t-r;if(i<=e)return m;continue}const f=y/a*(((y/3+.625)*y+1/6)/a+.5),g=-y*y/(2*a),b=Math.log(i);if(b<g-f)return m;if(b>g+f)continue;const v=e-s+1,E=e-m+1,T=(s+.5)*Math.log((s+1)/(r*v))+binomialGeneratorFC(s)+binomialGeneratorFC(e-s),_=(e+1)*Math.log(v/E)+(m+.5)*Math.log(E*r/(m+1))-binomialGeneratorFC(m)-binomialGeneratorFC(e-m);if(b<=T+_)return m}},window.poissonDistributionPTRD=function(e){const t=Math.sqrt(e),i=.931+2.53*t,a=.02483*i-.059,n=1.1239+1.328/(i-3.4),s=.9277-3.6224/(i-2);while(1){let r,o=Math.random();if(o<.86*s){const t=o/s-.43;return Math.floor((2*a/(.5-Math.abs(t))+i)*t+e+.445)}if(o>=s)r=fastRandom()-.5;else{const e=o/s-.93;r=(e>0?.5:-.5)-e,o=fastRandom()*s}const l=.5-Math.abs(r);if(l<.013&&l<o)continue;const c=Math.floor((2*a/l+i)*r+e+.445);o*=n/(a/l/l+i);const u=1/c;if(c>=10){const i=(c+.5)*Math.log(e*u)-e-LN_SQRT_2_PI+c-(1/12-u*u/360)*u;if(Math.log(o*t)<=i)return c}else if(Math.log(o)<=c*Math.log(e)-e-logFactorial(c))return c}},window.depressedCubicRealRoots=function(e,t,i){if(0===e)return 0===t?[]:[-i/t];if(t/=e,i/=e,0===i){if(0===t)return[0];if(t>0)return[];const e=Math.sqrt(-t);return[e,-e]}if(0===t)return[Math.cbrt(-i)];let a=.25*i*i+t*t*t/27;if(a>=0)return a=Math.sqrt(a),[Math.cbrt(-.5*i+a)+Math.cbrt(-.5*i-a)];const n=2*Math.sqrt(-t/3),s=Math.acos(3*i/(t*n))/3;return[n*Math.cos(s),n*Math.cos(s-2*Math.PI/3),n*Math.cos(s-4*Math.PI/3)]},window.quadraticRealRoots=function(e,t,i){if(0===e)return 0===t?[]:[-i/t];if(0===t){const t=i/e;return t>0?[]:[Math.sqrt(-t),-Math.sqrt(-t)]}const a=t*t-4*e*i;if(a<0)return[];if(0===a)return[-t/(2*e)];const n=-t-Math.sign(t)*Math.sqrt(a);return[n/(2*e),2*i/n]},window.cubicRealRoots=function(e,t,i,a){if(0===e)return quadraticRealRoots(t,i,a);if(0===t)return depressedCubicRealRoots(e,i,a);const n=t/(3*e),s=n*n,r=i/e,o=r-3*s,l=2*n*s-n*r+a/e,c=depressedCubicRealRoots(1,o,l);return c.map((e=>e-n))},window.testCRR=function(e,t,i,a){const n=cubicRealRoots(e,t,i,a);console.log(n),console.log(n.map((n=>a+n*(i+n*(t+n*e)))))},window.depressedQuarticRealRoots=function(e,t,i,a){if(0===e)return quadraticRealRoots(t,i,a);if(0===a){const a=depressedCubicRealRoots(e,t,i);return a.includes(0)||a.push(0),a}if(0===i){const i=quadraticRealRoots(e,t,a),n=[];for(const e of i)e<0||(0===e?n.push(0):n.push(Math.sqrt(e),-Math.sqrt(e)));return n}t/=e,i/=e,a/=e;const n=cubicRealRoots(8,8*t,2*t*t-8*a,-i*i),s=n.max();if(s<=0)return[];const r=Math.sqrt(2*s),o=2*i/r,l=-(2*t+2*s+o),c=[];l>0?c.push(.5*(r+Math.sqrt(l)),.5*(r-Math.sqrt(l))):0===l&&c.push(.5*r);const u=-(2*t+2*s-o);return u>0?c.push(.5*(-r+Math.sqrt(u)),.5*(-r-Math.sqrt(u))):0===u&&c.push(-.5*r),c},window.testDQRR=function(e,t,i,a){const n=depressedQuarticRealRoots(e,t,i,a);console.log(n),console.log(n.map((n=>a+n*(i+n*(t+n*n*e)))))},window.solveSimpleBiquadratic=function(e,t,i,a,n,s){const r=[];if(0===e){if(0===t||0===n)return[];const e=-i/t;return 0===a?[{x:-s/n,y:e}]:[{x:(-s-a*e*e)/n,y:e}]}if(0===a){if(0===t||0===n)return[];const a=-s/n;return[{x:a,y:(-i-e*a*a)/t}]}if(0===t){const t=quadraticRealRoots(e,0,i);for(const e of t){const t=s+n*e,i=quadraticRealRoots(a,0,t);for(const a of i)r.push({x:e,y:a})}return r}if(0===n){const n=quadraticRealRoots(a,0,s);for(const a of n){const n=i+t*a,s=quadraticRealRoots(e,0,n);for(const e of s)r.push({x:e,y:a})}return r}const o=e/t,l=i/t,c=depressedQuarticRealRoots(a*o*o,2*a*o*l,n,s+a*l*l);for(const u of c)r.push({x:u,y:-(o*u*u+l)});return r},window.testSSBQ=function(e,t,i,a,n,s){console.log({A:e,B:t,C:i,D:a,E:n,F:s});const r=solveSimpleBiquadratic(e,t,i,a,n,s);for(const o of r){const r=e*o.x*o.x+t*o.y+i,l=a*o.y*o.y+n*o.x+s;console.log(`${o.x} ${o.y} ${r} ${l}`)}},window.AffineTransform=class e{constructor(e=1,t=0,i=0,a=1,n=0,s=0){this.a00=e,this.a01=t,this.a10=i,this.a11=a,this.o0=n,this.o1=s}times(t){if(t instanceof e)return new e(this.a00*t.a00+this.a01*t.a10,this.a00*t.a01+this.a01*t.a11,this.a10*t.a00+this.a11*t.a10,this.a10*t.a01+this.a11*t.a11,this.a00*t.o0+this.a01*t.o1+this.o0,this.a10*t.o0+this.a11*t.o1+this.o1);if(t instanceof Vector)return t.transformedBy(this);throw new Error("unsupported operation")}translated(t,i=void 0){return t instanceof Vector?new e(this.a00,this.a01,this.a10,this.a11,this.o0+t.x,this.o1+t.y):new e(this.a00,this.a01,this.a10,this.a11,this.o0+t,this.o1+i)}rotated(t){return e.rotation(t).times(this)}scaled(t){return e.scale(t).times(this)}get withoutTranslation(){return new e(this.a00,this.a01,this.a10,this.a11)}static translation(t,i){return t instanceof Vector?new e(1,0,0,1,t.x,t.y):new e(1,0,0,1,t,i)}static rotation(t){const i=Math.cos(t),a=Math.sin(t);return new e(i,-a,a,i)}static scale(t){return new e(t,0,0,t)}static identity(){return new e}},window.Vector=class e{constructor(e,t){this.x=e,this.y=t}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}plus(t){return new e(this.x+t.x,this.y+t.y)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}minus(t){return new e(this.x-t.x,this.y-t.y)}times(t){return new e(this.x*t,this.y*t)}asTranslate(){return`translate(${this.x}, ${this.y})`}asRotate(){return`rotate(${180/Math.PI*Math.atan2(this.y,this.x)})`}toString(){return`${this.x}, ${this.y}`}round(t){return new e(Math.round(this.x*t)/t,Math.round(this.y*t)/t)}get copy(){return new e(this.x,this.y)}matrixTransform(t,i,a,n){return new e(t*this.x+i*this.y,a*this.x+n*this.y)}transformedBy(t){return new e(t.a00*this.x+t.a01*this.y+t.o0,t.a10*this.x+t.a11*this.y+t.o1)}get negative(){return new e(-this.x,-this.y)}get normalized(){return this.times(1/this.length)}get right90(){return new e(this.y,-this.x)}get left90(){return new e(-this.y,this.x)}get angle(){return Math.atan2(this.y,this.x)}static horiz(t){return new e(t,0)}static unitFromRadians(t){return new e(Math.cos(t),Math.sin(t))}static unitFromDegrees(t){return e.unitFromRadians(t*Math.PI/180)}},window.Curve=class{position(){throw new NotImplementedError}derivative(){throw new NotImplementedError}secondDerivative(){throw new NotImplementedError}curvature(e){const t=this.derivative(e),i=this.secondDerivative(e),a=t.length;return t.cross(i)/(a*a*a)}shapeAt(e){const t=this.derivative(e);return{t:e,position:this.position(e),derivative:t,direction:t.normalized,curvature:this.curvature(e)}}minimumDistanceTo(e,t,i){let a=.5*(t+i);const n=Math.max(Math.abs(i),Math.abs(t))*Number.EPSILON*16;for(let s=0;;++s){const r=this.position(a),o=this.derivative(a),l=this.secondDerivative(a),c=r.minus(e),u=c.length,d=2*c.dot(o);d>0?i=a:t=a;const h=2*(c.dot(l)+o.dot(o)),p=h<0?-u/d:-d/h;if(Math.abs(p)<n||s>=16)return u;a=Math.clamp(a+p,t,i)}}},window.LinearPath=class e extends Curve{constructor(e,t){super(),this.p0=e.copy,this.p1=t.copy}position(e){return this.p0.times(1-e).plus(this.p1.times(e))}derivative(){return this.p1.minus(this.p0)}secondDerivative(){return new Vector(0,0)}curvature(e){return 0}trimStart(t){const i=this.p1.minus(this.p0).normalized;return new e(this.p0.plus(i.times(t)),this.p1)}trimEnd(t){const i=this.p1.minus(this.p0).normalized;return new e(this.p0,this.p1.minus(i.times(t)))}transformed(t){return new e(this.p0.transformedBy(t),this.p1.transformedBy(t))}get relativeSVG(){const e=this.p1.minus(this.p0);return`l ${e.x} ${e.y}\n`}createOffsetLine(t,i=0,a=1){const n=this.p1.minus(this.p0).normalized.right90.times(t);return new e(this.position(i).plus(n),this.position(a).plus(n))}static connectCircles(t,i,a,n){const s=a.minus(t).normalized;return new e(t.plus(s.times(i)),a.minus(s.times(n)))}};class T extends Curve{constructor(e,t,i,a){super(),this.p0=e.copy,this.p1=t.copy,this.p2=i.copy,this.p3=a.copy}position(e){const t=(1-e)*(1-e),i=e*e;return this.p0.times((1-e)*t).plus(this.p1.times(3*e*t)).plus(this.p2.times(3*i*(1-e))).plus(this.p3.times(i*e))}derivative(e){return this.p1.minus(this.p0).times(3*(1-e)*(1-e)).plus(this.p2.minus(this.p1).times(6*e*(1-e))).plus(this.p3.minus(this.p2).times(3*e*e))}secondDerivative(e){return this.p2.minus(this.p1.times(2)).plus(this.p0).times(6*(1-e)).plus(this.p3.minus(this.p2.times(2)).plus(this.p1).times(6*e))}transformed(e){return new T(this.p0.transformedBy(e),this.p1.transformedBy(e),this.p2.transformedBy(e),this.p3.transformedBy(e))}get relativeSVG(){const e=this.p1.minus(this.p0),t=this.p2.minus(this.p0),i=this.p3.minus(this.p0);return`c ${e.x} ${e.y} ${t.x} ${t.y} ${i.x} ${i.y}\n`}get reverse(){return new T(this.p3,this.p2,this.p1,this.p0)}static fitCurveSection(e,t){const i=t.position.minus(e.position),a=e.t>t.t,n=e.direction.cross(t.direction);let s=solveSimpleBiquadratic(1.5*e.curvature,n,-e.direction.cross(i),1.5*t.curvature,n,t.direction.cross(i));return s=a?s.filter((e=>e.x<=0&&e.y<=0)):s.filter((e=>e.x>=0&&e.y>=0)),0===s.length?null:new T(e.position,e.position.plus(e.direction.times(s[0].x)),t.position.minus(t.direction.times(s[0].y)),t.position)}}window.OffsetCurve=class extends Curve{constructor(e,t){super(),this.base=e,this.offset=t}position(e){const t=this.base.position(e),i=this.base.derivative(e);return t.plus(i.normalized.right90.times(this.offset))}derivative(e){return this.base.derivative(e)}curvature(e){const t=this.base.curvature(e);return 1/(1/t+this.offset)}shapeAt(e){const t=this.base.shapeAt(e);return{t:t.t,position:t.position.plus(t.direction.right90.times(this.offset)),derivative:t.derivative,direction:t.direction,curvature:t.curvature/(1+this.offset*t.curvature)}}},window.LogarithmicSpiral=class e extends Curve{constructor(e,t,i){super(),this.center=e,this.scale=t,this.rate=i}position(e){return Vector.unitFromRadians(e).times(this.scale*Math.exp(this.rate*e)).plus(this.center)}derivative(e){const t=Vector.unitFromRadians(e),i=this.scale*Math.exp(this.rate*e);return t.times(i*this.rate).plus(t.left90.times(i))}secondDerivative(e){const t=Vector.unitFromRadians(e),i=this.scale*Math.exp(this.rate*e);return t.times(i*(this.rate*this.rate-1)).plus(t.left90.times(2*i*this.rate))}shapeAt(e){const t=Vector.unitFromRadians(e),i=this.scale*Math.exp(this.rate*e),a=t.times(i),n=a.times(this.rate).plus(a.left90);return{t:e,position:a.plus(this.center),derivative:n,direction:n.normalized,curvature:1/(Math.abs(i)*Math.sqrt(1+this.rate*this.rate))}}angleFromRadius(e){return Math.log(e/this.scale)/this.rate}static fromPolarEndpoints(t,i,a,n,s){const r=Math.log(s/a)/(n-i);return new e(t,a/Math.exp(r*i),r)}},window.PiecewisePath=class e{constructor(e=void 0){this.path=e||[]}push(e){this.path.push(e)}transformedBy(t){return new e(this.path.map((e=>e.transformed(t))))}toSVG(e){const t=this.path[0].position(0),i=[`${e} ${t.x} ${t.y}\n`];for(const a of this.path)i.push(a.relativeSVG);return i.join("")}static cubicBezierFitToCurveSection(t,i,a,n=1,s=1){const r=new e,o=t.shapeAt(i),l=t.shapeAt(a);function c(e,i,a=8){const n=t.shapeAt(.5*(e.t+i.t));return u(e,n,a-1)&&u(n,i,a-1)}function u(e,i,a=8){const s=T.fitCurveSection(e,i);if(null===s){if(a<=0)throw new Error("coulnd't decompose curve");return c(e,i,a)}const o=.5*(e.t+i.t),l=s.minimumDistanceTo(t.position(o),0,1);return l>n?c(e,i,a):(r.push(s),!0)}return s>1?c(o,l):u(o,l),r}},window.ExponentialMovingAverage=class{constructor(e=.02,t=5,i=3,a=.4){this.alpha=e,this.maxOutliers=t,this.highOutlierThreshold=i,this.lowOutlierThreshold=a,this.outliers=0,this._average=void 0}get average(){return void 0===this._average?0:this._average}addValue(e){if(void 0===this._average)this._average=e;else{this._average+=this.alpha*(e-this._average);const t=Math.abs(e),i=Math.abs(this._average),a=t>i*this.highOutlierThreshold,n=t<i*this.lowOutlierThreshold,s=a||n;s?(this.outliers++,this.outliers>=this.maxOutliers&&(this._average=e,this.outliers=0)):this.outliers=0}}};i(1467),i(3473);class _{constructor(e,t,i){if(void 0===e||this.isCustomEffect)return;const a=e=>"function"===typeof e,n=e=>"number"===typeof e,s=e=>e instanceof Decimal,r=e=>n(e)||s(e);if(!a(e)&&!r(e))throw new Error("Unknown effect value type.");const o=()=>({configurable:!1}),l=(e,t)=>{if(r(t))e.writable=!1,e.value=t;else{if(!a(t))throw new Error("Unknown getter type.");e.get=t}};if(void 0!==i){if(!a(i))throw new Error("Effect condition must be a function.");const e=o();e.get=i,Object.defineProperty(this,"isEffectConditionSatisfied",e)}const c=o();if(l(c,e),Object.defineProperty(this,"uncappedEffectValue",c),void 0!==t){const e=o();l(e,t),Object.defineProperty(this,"cap",e)}const u=o();l(u,e),r(t)?n(e)?u.get=()=>Math.min(e,this.cap):s(e)?u.get=()=>Decimal.min(e,this.cap):a(e)&&(u.configurable=!0,u.get=()=>{const t=e(),i=o();if(n(t))i.get=()=>Math.min(e(),this.cap);else{if(!s(t))throw new Error("Unknown effect value type.");i.get=()=>Decimal.min(e(),this.cap)}return Object.defineProperty(this,"effectValue",i),i.get()}):a(t)&&(n(e)?u.get=()=>{const t=this.cap;return void 0===t?e:Math.min(e,t)}:s(e)?u.get=()=>{const t=this.cap;return void 0===t?e:Decimal.min(e,t)}:a(e)&&(u.configurable=!0,u.get=()=>{const t=e(),i=o();if(n(t))i.get=()=>{const t=this.cap;return void 0===t?e():Math.min(e(),t)};else{if(!s(t))throw new Error("Unknown effect value type.");i.get=()=>{const t=this.cap;return void 0===t?e():Decimal.min(e(),t)}}return Object.defineProperty(this,"effectValue",i),i.get()})),Object.defineProperty(this,"effectValue",u)}get effectValue(){throw new Error("Effect is undefined.")}get uncappedEffectValue(){throw new Error("Effect is undefined.")}get cap(){throw new Error("Cap is undefined.")}get isEffectConditionSatisfied(){return!0}get isEffectActive(){return!0}get canBeApplied(){return this.isEffectActive&&this.isEffectConditionSatisfied}effectOrDefault(e){return this.canBeApplied?this.effectValue:e}applyEffect(e){this.canBeApplied&&e(this.effectValue)}get isCustomEffect(){return!1}}const C={sum(...e){let t=0;return A(e,(e=>t+=e)),t},product(...e){let t=1;return A(e,(e=>t*=e)),t},last(e,...t){let i=e,a=!1;const n=t.filter((e=>null!==e&&void 0!==e)).reverse(),s=e=>{i=e,a=!0};for(const r of n)if(r.applyEffect(s),a)break;return i},max(e,...t){let i=e;return A(t,(e=>i=Math.max(i,e))),i},min(e,...t){let i=e;return A(t,(e=>i=Math.min(i,e))),i}};function A(e,t){for(const i of e)null!==i&&void 0!==i&&i.applyEffect(t)}Decimal.prototype.plusEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.plus(e))),t},Decimal.prototype.plusEffectsOf=function(...e){let t=this;return A(e,(e=>t=t.plus(e))),t},Decimal.prototype.minusEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.minus(e))),t},Decimal.prototype.minusEffectsOf=function(...e){let t=this;return A(e,(e=>t=t.minus(e))),t},Decimal.prototype.timesEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.times(e))),t},Decimal.prototype.timesEffectsOf=function(...e){let t=this.mantissa,i=this.exponent;return A(e,(e=>{const a="number"===typeof e?new Decimal(e):e;t*=a.mantissa,i+=a.exponent})),Decimal.fromMantissaExponent(t,i)},Decimal.prototype.dividedByEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.dividedBy(e))),t},Decimal.prototype.dividedByEffectsOf=function(...e){let t=this;return A(e,(e=>t=t.dividedBy(e))),t},Decimal.prototype.powEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.pow(e))),t},Decimal.prototype.powEffectsOf=function(...e){let t=this;return A(e,(e=>t=t.pow(e))),t};class k extends _{constructor(e){if(!e)throw new Error("Must specify config for GameMechanicState");if(super(e.effect,e.cap,e.effectCondition),this._config=e,void 0!==e.effects){this.effects={};for(const t in e.effects){const i=e.effects[t];let a;a="number"===typeof i||"function"===typeof i||i instanceof Decimal?new _(i):new _(i.effect,i.cap,i.effectCondition),Object.defineProperty(a,"isEffectActive",{configurable:!1,get:()=>this.isEffectActive}),this.effects[t]=a}}}get config(){return this._config}get id(){return this.config.id}registerEvents(e,t){if(void 0!==e)for(const i of e instanceof Array?e:[e])EventHub.logic.on(i,t,this)}static createAccessor(e){const t=mapGameData(e,(e=>new this(e))),i=e=>t[e];return i.index=t,i}}class w extends k{constructor(e){if(super(e),this.id<0||this.id>31)throw new Error(`Id ${this.id} out of bit range`)}get bits(){throw new NotImplementedError}set bits(e){throw new NotImplementedError}get isUnlocked(){return Boolean(this.bits&1<<this.id)}get canBeApplied(){return this.isUnlocked&&this.isEffectActive}get canBeUnlocked(){return!this.isUnlocked}onUnlock(){}unlock(){this.canBeUnlocked&&(this.bits|=1<<this.id,this.onUnlock())}}class S extends k{get currency(){throw new NotImplementedError}get isAffordable(){return this.currency.gte(this.cost)}get isAvailableForPurchase(){return!0}get isRebuyable(){return!1}get cost(){return this.config.cost}get isBought(){throw new NotImplementedError}set isBought(e){throw new NotImplementedError}get canBeBought(){return!this.isBought&&this.isAffordable&&this.isAvailableForPurchase}purchase(){return!!this.canBeBought&&(this.currency.subtract(this.cost),this.isBought=!0,this.onPurchased(),GameUI.update(),!0)}onPurchased(){}get isEffectActive(){return this.isBought}}class x extends S{get set(){throw new NotImplementedError}get isBought(){return this.set.has(this.id)}set isBought(e){e?this.set.add(this.id):this.set.delete(this.id)}}class R extends S{get bits(){throw new NotImplementedError}set bits(e){throw new NotImplementedError}get bitIndex(){throw new NotImplementedError}get isBought(){return 0!==(this.bits&1<<this.bitIndex)}set isBought(e){e?this.bits|=1<<this.bitIndex:this.bits&=~(1<<this.bitIndex)}}class I extends k{get currency(){throw new NotImplementedError}get isAffordable(){return this.currency.gte(this.cost)}get cost(){return this.config.cost()}get isAvailableForPurchase(){return!0}get isCapped(){return!1}get isRebuyable(){return!0}get boughtAmount(){throw new NotImplementedError}set boughtAmount(e){throw new NotImplementedError}get isEffectActive(){return this.boughtAmount>0}get canBeBought(){return this.isAffordable&&this.isAvailableForPurchase&&!this.isCapped}purchase(){return!!this.canBeBought&&(!GameEnd.creditsEverClosed&&(this.currency.subtract(this.cost),this.boughtAmount++,this.onPurchased(),GameUI.update(),!0))}onPurchased(){}}const M={time:{id:"time",symbol:GLYPH_SYMBOLS.time,color:"#b241e3",primaryEffect:"timepow",alchemyResource:ALCHEMY_RESOURCE.TIME,hasRarity:!0},dilation:{id:"dilation",symbol:GLYPH_SYMBOLS.dilation,color:"#64dd17",alchemyResource:ALCHEMY_RESOURCE.DILATION,hasRarity:!0},replication:{id:"replication",symbol:GLYPH_SYMBOLS.replication,color:"#03a9f4",alchemyResource:ALCHEMY_RESOURCE.REPLICATION,hasRarity:!0},infinity:{id:"infinity",symbol:GLYPH_SYMBOLS.infinity,color:"#b67f33",primaryEffect:"infinitypow",alchemyResource:ALCHEMY_RESOURCE.INFINITY,hasRarity:!0},power:{id:"power",symbol:GLYPH_SYMBOLS.power,color:"#22aa48",primaryEffect:"powerpow",alchemyResource:ALCHEMY_RESOURCE.POWER,hasRarity:!0},effarig:{id:"effarig",symbol:GLYPH_SYMBOLS.effarig,color:"#e21717",isUnlocked:()=>EffarigUnlock.reality.isUnlocked,canCustomize:()=>EffarigUnlock.reality.isUnlocked,alchemyResource:ALCHEMY_RESOURCE.EFFARIG,hasRarity:!0},reality:{id:"reality",symbol:GLYPH_SYMBOLS.reality,fixedSymbolColor:!0,isUnlocked:()=>!1,canCustomize:()=>player.reality.glyphs.createdRealityGlyph,alchemyResource:ALCHEMY_RESOURCE.REALITY},cursed:{id:"cursed",symbol:GLYPH_SYMBOLS.cursed,color:"#000000",fixedSymbolColor:!0,isUnlocked:()=>!1,canCustomize:()=>V.isFlipped},companion:{id:"companion",symbol:GLYPH_SYMBOLS.companion,color:"#feaec9",fixedSymbolColor:!0,isUnlocked:()=>!1,canCustomize:()=>!1}},D={music:{id:"music",symbol:"♫",color:"#FF80AB",isUnlocked:()=>TeresaUnlocks.shop.isUnlocked},blob:{id:"blob",symbol:"",color:"#E4B51A",preventBlur:!0,isUnlocked:()=>Themes.available().map((e=>e.name)).includes("S11"),canCustomize:()=>!1}},P={ANTIMATTER:"ANTIMATTER",INFINITY:"INFINITY",ETERNITY:"ETERNITY",DILATION:"DILATION",REALITY:"REALITY",AUTOMATION:"AUTOMATION",ACHIEVEMENT:"ACHIEVEMENT"};const U={firstPerk:{id:0,label:"СТАРТ",family:P.REALITY,get description(){return"Снять требование на достижения с разблокировки реальности.\n      На реальности вы можете выбрать глиф из четырёх вариантов."},effect:4,layoutPosList:[76596,80200,80600,80200,80188,67769]},startAM:{id:10,label:"НАНТ",family:P.ANTIMATTER,get description(){return`Начинать с ${format(5e130)} антиматерии.`},bumpCurrency:()=>Currency.antimatter.bumpTo(5e130),effect:5e130,layoutPosList:[76559,80600,80199,80600,82191,75745]},startIP1:{id:12,label:"НОБ1",family:P.INFINITY,get description(){return`Начинать с ${format(5e15)} Очков Бесконечности.`},bumpCurrency:()=>Currency.infinityPoints.bumpTo(5e15),effect:5e15,layoutPosList:[74523,80599,79798,80599,82594,91322]},startIP2:{id:13,label:"НОБ2",family:P.INFINITY,get description(){return`Начинать с ${format(5e130)} Очков Бесконечности.`},bumpCurrency:()=>Currency.infinityPoints.bumpTo(5e130),effect:5e130,layoutPosList:[62111,80598,79797,80998,82597,91690]},startEP1:{id:14,label:"НОВ1",family:P.ETERNITY,get description(){return`Начинать с ${formatInt(10)} Очков Вечности.`},bumpCurrency:()=>Currency.eternityPoints.bumpTo(10),effect:10,automatorPoints:5,shortDescription:()=>`Начинать с ${formatInt(10)} ОВ`,layoutPosList:[88915,80999,79398,80598,82197,103734]},startEP2:{id:15,label:"НОВ2",family:P.ETERNITY,get description(){return`Начинать с ${formatInt(5e3)} Очков Вечности.`},bumpCurrency:()=>Currency.eternityPoints.bumpTo(5e3),effect:5e3,layoutPosList:[92484,81398,78998,80597,82200,102193]},startEP3:{id:16,label:"НОВ3",family:P.ETERNITY,get description(){return`Начинать с ${format(5e9)} Очков Вечности.`},bumpCurrency:()=>Currency.eternityPoints.bumpTo(5e9),effect:5e9,automatorPoints:10,shortDescription:()=>`Начинать с ${format(5e9)} ОВ`,layoutPosList:[96459,81798,78997,80596,82203,106224]},startTP:{id:17,label:"НТАХ",family:P.DILATION,get description(){return`Получать ${formatInt(10)} Тахионов при разблокировке Замедления Времени.`},effect:()=>Enslaved.isRunning?1:10,automatorPoints:5,shortDescription:()=>`Начинать с ${formatInt(10)} Тахионами`,layoutPosList:[102120,81399,79399,80197,81800,109376]},antimatterNoReset:{id:30,label:"АНТНС",family:P.ANTIMATTER,description:"При получении Расширений Измерений и Галактик Антиматерии ничего не сбрасывается, кроме, может быть, Расширений Измерений.",layoutPosList:[85343,81e3,79799,80199,82194,92553]},studyPassive:{id:31,label:"СРЕДН",family:P.ETERNITY,get description(){return`Улучшить эффекты Исследований Времени 122, 132 (только к скорости репликации) и 142 до ${formatX(50)},\n        ${formatX(3)} и ${formatX(v.E50)} соответственно.`},layoutPosList:[67054,79400,80999,80202,78594,52589]},autounlockEU1:{id:40,label:"УВ1",family:P.ETERNITY,description:"Улучшения Вечности из первого ряда выдаются вам автоматически, как только у вас появляются вечности.",layoutPosList:[89407,80601,80201,79800,80591,73007]},autounlockEU2:{id:41,label:"УВ2",family:P.ETERNITY,get description(){return`Цены Улучшений Вечности из второго ряда\n        в ${format(1e10)} раз ниже. Вы получаете их автоматически, как только наберёте достаточное количество Очков Вечности.`},layoutPosList:[103008,81001,80202,79400,80594,81867]},autounlockDilation1:{id:42,label:"УЗ1",family:P.DILATION,description:"Улучшения Замедления из второго ряда выдаются вам автоматически при разблокировке Замедления Времени.",layoutPosList:[119833,81801,79403,79398,80200,97510]},autounlockDilation2:{id:43,label:"УЗ2",family:P.DILATION,description:"Улучшения Замедления из третьего ряда выдаются вам автоматически при разблокировке Замедления Времени.",layoutPosList:[124260,82201,79003,79397,80203,85513]},autounlockDilation3:{id:44,label:"УЗТВ",family:P.DILATION,description:"Вы автоматически покупаете Улучшение Замедления, производящее Теоремы Времени.",automatorPoints:5,shortDescription:()=>"Автоматика производителя ТВ",layoutPosList:[124289,82601,79002,79396,80206,72282]},autounlockTD:{id:45,label:"АРИВ",family:P.DILATION,description:"Вы автоматически разблокируете Измерения Времени с 5-го по 8-е.",automatorPoints:5,shortDescription:()=>"Автоматика разблокировки ИВ",layoutPosList:[127117,82600,79001,79796,80209,61869]},autounlockReality:{id:46,label:"РЕАЛ",family:P.REALITY,description:"Вы автоматически разблокируете реальность.",automatorPoints:10,shortDescription:()=>"Автоматика разблокировки реальности",layoutPosList:[124343,83e3,79e3,79795,80212,71046]},bypassIDAntimatter:{id:51,label:"ТИБ",family:P.INFINITY,description:"Измерения Бесконечности всегда разблокированы.",layoutPosList:[51317,80998,79397,80997,82600,104489]},bypassTGReset:{id:52,label:"ЗВНС",family:P.DILATION,description:"При покупке Улучшений Замедлений не сбрасывается Замедленное Время.",layoutPosList:[116568,81800,79801,79798,81400,112677]},bypassECDilation:{id:53,label:"ТЗВ",family:P.DILATION,description:"Снять все требования с разблокировки Замедления Времени.",automatorPoints:5,shortDescription:()=>"Снять требования Замедления",layoutPosList:[129011,81802,80203,80198,80600,109116]},bypassEC1Lock:{id:54,label:"ТИСПВ1",family:P.ETERNITY,description:"Для покупки Исследования Времени 181 не требуется выполнение 1-го Испытания Вечности.",layoutPosList:[64284,79e3,81399,80603,78597,44167]},bypassEC2Lock:{id:55,label:"ТИСПВ2",family:P.ETERNITY,description:"Для покупки Исследования Времени 181 не требуется выполнение 2-го Испытания Вечности.",layoutPosList:[55463,78999,80998,80602,78197,48944]},bypassEC3Lock:{id:56,label:"ТИСПВ3",family:P.ETERNITY,description:"Для покупки Исследования Времени 181 не требуется выполнение 3-го Испытания Вечности.",layoutPosList:[75475,79001,81400,80203,78997,47822]},bypassEC5Lock:{id:57,label:"ТИСПВ5",family:P.ETERNITY,description:"Для покупки Исследования Времени 62 не требуется выполнение 5-го Испытания Вечности.",layoutPosList:[70626,79800,81e3,80201,78591,62607]},autocompleteEC1:{id:60,label:"АИСПВ1",family:P.AUTOMATION,get description(){return`Каждые ${formatInt(60)} минут по реальному времяисчислению вы автоматически получаете одно выполнение Испытания Вечности с наименьшим номером, которое ещё не полностью выполнено.`},effect:60,automatorPoints:5,shortDescription:()=>"Автоматическое выполнение ИспВ",layoutPosList:[90660,79402,81002,79803,79397,46664]},autocompleteEC2:{id:61,label:"АИСПВ2",family:P.AUTOMATION,get description(){return`Улучшить интервал автоматического выполнения Испытаний Вечности до ${formatInt(40)} минут.`},effect:40,layoutPosList:[95485,79002,81402,79804,79400,53486]},autocompleteEC3:{id:62,label:"АИСПВ3",family:P.AUTOMATION,get description(){return`Улучшить интервал автоматического выполнения Испытаний Вечности до ${formatInt(20)} минут.`},effect:20,automatorPoints:10,shortDescription:()=>"Автоматическое выполнение ИспВ быстрее",layoutPosList:[96311,78602,81401,80204,79403,61903]},studyActiveEP:{id:70,label:"АКТ",family:P.ETERNITY,description:"Эффекты Исследований Времени из активного пути всегда принимают максимальные значения.",layoutPosList:[56633,79399,80599,80601,78194,58565]},studyIdleEP:{id:71,label:"ПАСС",family:P.ETERNITY,get description(){return`Эффекты Исследований Времени из пассивного пути таковы, как будто последний сброс престижа был на ${formatInt(15)} минут раньше.`},effect:15,layoutPosList:[80248,79401,81001,79802,78994,56239]},studyECRequirement:{id:72,label:"ТИСПВ",family:P.ETERNITY,description:"Снять все требования на разблокировку Испытаний Вечности.",automatorPoints:10,shortDescription:()=>"Снять требования ИспВ",layoutPosList:[62714,78600,81398,80604,78600,40599]},studyECBulk:{id:73,label:"ОИСПВ",family:P.ETERNITY,description:"Разблокировать оптовое выполнение Испытаний Вечности.",automatorPoints:15,shortDescription:()=>"Опт ИспВ",layoutPosList:[62741,78200,81397,81004,78603,41435]},retroactiveTP1:{id:80,label:"ТАХ1",family:P.DILATION,get description(){return`При покупке утроителя Тахионов ваше количество Тахионов\n        увеличивается в ${formatFloat(1.5,1)} раза.`},effect:1.5,layoutPosList:[111739,81799,79800,79797,81403,115434]},retroactiveTP2:{id:81,label:"ТАХ2",family:P.DILATION,get description(){return`При покупке утроителя Тахионов ваше количество Тахионов\n        увеличивается в ${formatInt(2)} раза.`},effect:2,layoutPosList:[103757,82199,79401,80196,81406,117382]},retroactiveTP3:{id:82,label:"ТАХ3",family:P.DILATION,get description(){return`При покупке утроителя Тахионов ваше количество Тахионов\n        увеличивается в ${formatFloat(2.5,1)} раза.`},effect:2.5,layoutPosList:[96175,82599,79400,80195,81409,116540]},retroactiveTP4:{id:83,label:"ТАХ4",family:P.DILATION,get description(){return`При покупке утроителя Тахионов ваше количество Тахионов\n        увеличивается в ${formatInt(3)} раза.`},effect:3,automatorPoints:10,shortDescription:()=>"Утроитель Тахионов имеет обратную силу",layoutPosList:[86984,82598,78999,80595,81412,114103]},autobuyerDilation:{id:100,label:"АУЗ",family:P.AUTOMATION,description:"Разблокировать автоматику повторяемых Улучшений Замедления.",automatorPoints:5,shortDescription:()=>"Автоматика Улучшений Замедления",layoutPosList:[117401,81401,79802,79799,80597,96672]},autobuyerFasterID:{id:101,label:"САИБ",family:P.AUTOMATION,description:"Понизить интервал автоматики Измерений Бесконечности втрое.",effect:1/3,automatorPoints:5,shortDescription:()=>"Ускорение автоматики ИБ",layoutPosList:[74095,80199,80198,81e3,82997,77720]},autobuyerFasterReplicanti:{id:102,label:"САУР",family:P.AUTOMATION,description:"Понизить интервал автоматики Улучшений Репликанти втрое.",effect:1/3,automatorPoints:5,shortDescription:()=>"Ускорение автоматики Улучшений Репликанти",layoutPosList:[57685,80198,80197,80999,83e3,79297]},autobuyerFasterDilation:{id:103,label:"САУЗ",family:P.AUTOMATION,description:"Понизить интервал автоматики Улучшений Замедления втрое.",effect:1/3,automatorPoints:5,shortDescription:()=>"Ускорение автоматики Улучшений Замедления",layoutPosList:[113895,82602,79402,79395,80609,72715]},ttBuySingle:{id:104,label:"АТВ",family:P.AUTOMATION,description:"Разблокировать автоматику Теорем Времени в режиме одиночных покупок.",automatorPoints:5,shortDescription:()=>"Автоматика одиночных ТВ",layoutPosList:[44631,79398,80598,81001,77797,57325]},ttFree:{id:105,label:"ТВНТ",family:P.AUTOMATION,description:"При покупке Теорем Времени вы ничего не тратите.",layoutPosList:[33840,78998,80597,81002,77800,67309]},ttBuyMax:{id:106,label:"АТВМ",family:P.AUTOMATION,description:"Автоматика Теорем Времени покупает максимум.",automatorPoints:10,shortDescription:()=>"Полноценная автоматика ТВ",layoutPosList:[25055,78598,80997,81003,77803,65739]},dilationAutobuyerBulk:{id:107,label:"ОУЗ",family:P.AUTOMATION,get description(){return`Улучшить опт Улучшений Замедления до ${formatInt(3)}.`},effect:3,automatorPoints:5,shortDescription:()=>"Опт Улучшений Замедления",layoutPosList:[127384,81400,79803,79399,81e3,103048]},achievementGroup1:{id:201,label:"ДОСТ1",family:P.ACHIEVEMENT,get description(){return`Улучшить интервал автоматического восстановления достижений до ${formatInt(20)} минут.`},effect:10,automatorPoints:5,shortDescription:()=>"Достижения восстанавливаются быстрее",layoutPosList:[65386,80201,80601,79801,79791,81371]},achievementGroup2:{id:202,label:"ДОСТ2",family:P.ACHIEVEMENT,get description(){return`Улучшить интервал автоматического восстановления достижений до ${formatInt(12)} минут.`},effect:8,layoutPosList:[54976,80202,80602,79401,79794,93780]},achievementGroup3:{id:203,label:"ДОСТ3",family:P.ACHIEVEMENT,get description(){return`Улучшить интервал автоматического восстановления достижений до ${formatInt(6)} минут.`},effect:6,layoutPosList:[44168,80602,80603,79402,79797,83005]},achievementGroup4:{id:204,label:"ДОСТ4",family:P.ACHIEVEMENT,get description(){return`Улучшить интервал автоматического восстановления достижений до ${formatInt(2)} минут.`},effect:4,layoutPosList:[33760,81002,81003,79403,79800,95422]},achievementGroup5:{id:205,label:"ДОСТНС",family:P.ACHIEVEMENT,get description(){return`Все достижения из первых ${formatInt(13)} рядов всегда выполнены.`},automatorPoints:10,shortDescription:()=>"Достижения не сбрасываются",layoutPosList:[23353,81402,81403,79404,79803,84639]}},G=function(){const e=U,t=[[e.firstPerk,e.achievementGroup1,e.startAM,e.autounlockEU1,e.bypassEC5Lock],[e.startAM,e.antimatterNoReset,e.startIP1],[e.antimatterNoReset,e.startEP1],[e.startIP1,e.startIP2,e.startEP1,e.autobuyerFasterID],[e.startIP2,e.bypassIDAntimatter,e.autobuyerFasterReplicanti],[e.startEP1,e.startEP2,e.startTP],[e.startEP2,e.startEP3],[e.startTP,e.startEP1,e.retroactiveTP1],[e.autounlockEU1,e.autounlockEU2],[e.autounlockEU2,e.autounlockEU1,e.autobuyerDilation],[e.autounlockDilation1,e.autounlockDilation2],[e.autounlockDilation2,e.autounlockDilation3],[e.autounlockDilation3,e.autobuyerFasterDilation,e.autounlockTD],[e.autounlockTD,e.autounlockReality],[e.bypassTGReset,e.autobuyerDilation,e.retroactiveTP1],[e.bypassEC1Lock,e.bypassEC2Lock,e.bypassEC3Lock,e.studyECRequirement],[e.bypassEC2Lock,e.studyActiveEP,e.bypassEC1Lock],[e.bypassEC3Lock,e.studyIdleEP,e.bypassEC1Lock],[e.bypassEC5Lock,e.studyActiveEP,e.studyIdleEP,e.studyPassive],[e.studyPassive,e.bypassEC1Lock],[e.autocompleteEC1,e.autocompleteEC2],[e.autocompleteEC2,e.autocompleteEC3],[e.studyActiveEP,e.bypassEC2Lock,e.ttBuySingle],[e.studyIdleEP,e.bypassEC3Lock,e.autocompleteEC1],[e.studyECRequirement,e.studyECBulk],[e.retroactiveTP1,e.bypassTGReset,e.startTP,e.retroactiveTP2],[e.retroactiveTP2,e.retroactiveTP3],[e.retroactiveTP3,e.retroactiveTP4],[e.autobuyerDilation,e.autounlockEU2,e.autounlockDilation1,e.bypassECDilation,e.bypassTGReset,e.dilationAutobuyerBulk],[e.autobuyerFasterID],[e.ttBuySingle,e.ttFree],[e.ttFree,e.ttBuyMax],[e.achievementGroup1,e.achievementGroup2],[e.achievementGroup2,e.achievementGroup3],[e.achievementGroup3,e.achievementGroup4],[e.achievementGroup4,e.achievementGroup5]],i={};for(const a of Object.values(U)){const e=[],n=t.find((e=>e[0]===a));void 0!==n&&e.push(...n.slice(1));const s=t.filter((e=>e.slice(1).some((e=>e===a)))).map((e=>e[0]));e.push(...s),i[a.id]=[...new Set(e.map((e=>e.id)))]}return i}();var N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{staticClass:"o-autobuyer-input",class:e.validityClass,attrs:{type:e.inputType},domProps:{value:e.displayValue},on:{change:e.handleChange,focus:e.handleFocus,input:e.handleInput}})},B=[];i(173),i(243);const O={name:"AutobuyerInput",props:{autobuyer:{type:Object,required:!0},property:{type:String,required:!0},type:{type:String,required:!0}},data(){return{isValid:!0,isFocused:!1,displayValue:"0"}},computed:{inputType(){return"int"===this.type?"number":"text"},typeFunctions(){const e=L[this.type];if(void 0===e)throw new Error("Unknown autobuyer input type");return e},validityClass(){return this.isValid?void 0:"o-autobuyer-input--invalid"}},methods:{update(){this.isFocused||this.updateActualValue()},updateActualValue(){const e=this.autobuyer[this.property];this.areEqual(this.actualValue,e)||(this.actualValue=this.typeFunctions.copyValue(e),this.updateDisplayValue())},areEqual(e,t){return void 0!==t&&void 0!==e&&this.typeFunctions.areEqual(e,t)},updateDisplayValue(){this.displayValue=this.typeFunctions.formatValue(this.actualValue)},handleInput(e){const t=e.target.value;if(this.displayValue=t,0===t.length)return void(this.isValid=!1);const i=this.typeFunctions.tryParse(t);this.isValid=void 0!==i,this.actualValue=this.typeFunctions.copyValue(i)},handleFocus(){this.isFocused=!0},handleChange(e){"69"===this.displayValue&&SecretAchievement(28).unlock(),this.isValid?this.autobuyer[this.property]=this.typeFunctions.copyValue(this.actualValue):this.updateActualValue(),this.updateDisplayValue(),this.isValid=!0,this.isFocused=!1,e.target.blur()}}},L={decimal:{areEqual:(e,t)=>Decimal.eq(e,t),formatValue:e=>Notation.scientific.format(e,2,2),copyValue:e=>new Decimal(e),tryParse:e=>{if(e)try{let t;if(/^e\d*[.]?\d+$/u.test(e.replaceAll(" ","")))t=Decimal.pow10(parseFloat(e.replaceAll(" ","").slice(1)));else if(/^\d*[.]?\d+(e\d+)?$/u.test(e.replaceAll(" ","")))t=Decimal.fromString(e.replaceAll(" ",""));else{if(!/^\d*[.]?\d+(e\d*[.]?\d+)?$/u.test(e.replaceAll(" ","")))return;{const i=/(?<mantissa>\d*[.]?\d+)e(?<exponent>\d*[.]?\d+)/u,a=e.replaceAll(" ","").match(i);t=Decimal.pow10(Math.log10(Number(a.groups.mantissa))+Number(a.groups.exponent))}}return isNaN(t.mantissa)||isNaN(t.exponent)?void 0:t}catch(t){return}}},float:{areEqual:(e,t)=>e===t,formatValue:e=>e.toString(),copyValue:e=>e,tryParse:e=>{const t=parseFloat(e);return isNaN(t)?void 0:t}},int:{areEqual:(e,t)=>e===t,formatValue:e=>e.toString(),copyValue:e=>e,tryParse:e=>{if(!e)return;if(!/^\d+$/u.test(e.replaceAll(" ","")))return;const t=parseInt(e,10);return isNaN(t)||!Number.isInteger(t)?void 0:t}}},$=O;var H=i(1656),F=(0,H.A)($,N,B,!1,null,"0c018209",null);const q=F.exports,Y={paramTypes:[{name:"tree",isValidString:e=>{const t=TimeStudyTree.isValidImportString(e),i=e.match(/^(NAME (.{1,4})|ID (\d))$/u),a=!!i&&(player.timestudy.presets.some((e=>e.name===i[2]))||Number(i[3])>0&&Number(i[3])<7);return t||a}},{name:"integer",isValidString:e=>L.int.tryParse(e),map:e=>Math.round(parseInt(e,10))},{name:"decimal",isValidString:e=>L.decimal.tryParse(e),map:e=>L.decimal.tryParse(e)},{name:"boolean",boolDisplay:["Да","Нет"]},{name:"nowait",boolDisplay:["Пропустить недоступные Исследования","Продолжить попытки купить Исследования"]},{name:"modeEter",boolDisplay:["При ОВ, в X раз превышающих максимальные","Вечность каждые X секунд"],map:e=>e?"mult":"time"},{name:"modeInf",boolDisplay:["При ОБ, в X раз превышающих максимальные","Сжатие каждые X секунд"],map:e=>e?"mult":"time"}],scripts:[{name:"Увеличение количества ОВ",description:"Этот шаблон совершает вечности одну за другой, каждую вечность пытаясь заново купить Древо\n        Исследований. Вы должны выбрать настройки для автоматики Большого Сжатия и вечности. Шаблон завершит\n        работу, достигнув целевого количества Очков Вечности.",inputs:[{name:"treeStudies",type:"tree",prompt:"Вместо сохранённого Древа вы можете ввести любое другое"},{name:"treeNowait",type:"nowait",prompt:"Поведение программы при невозможности купить Исследования Времени"},{name:"finalEP",type:"decimal",prompt:"Целевое количество ОВ"},{name:"autoInfMode",type:"modeInf",prompt:"Режим автоматики Большого Сжатия"},{name:"autoInfValue",type:"decimal",prompt:"Настройка автоматики Большого Сжатия"},{name:"autoEterMode",type:"modeEter",prompt:"Режим автоматики вечности"},{name:"autoEterValue",type:"decimal",prompt:"Настройка автоматики вечности"}],warnings:()=>{const e=[];return RealityUpgrade(10).isBought||e.push(`Автоматизатор не сможет настроить автоматику Большого Сжатия до ${formatInt(5)} вечностей и автоматику вечности до ${formatInt(100)}\n            вечностей. Рекомендуется купить Улучшение Реальности "${RealityUpgrade(10).name}", прежде чем использовать\n            этот шаблон в начале реальности.`),RealityUpgrade(13).isBought||e.push(`Автоматизатор не сможет настроить автоматику вечности без Улучшения Реальности "${RealityUpgrade(13).name}"`),Perk.ttBuySingle.isBought||e.push(`Этот шаблон может плохо работать без Навыка ${Perk.ttBuySingle.label}, если вы не можете получать\n            Теоремы Времени, не покупая их`),e}},{name:"Накопление вечностей",description:"Этот шаблон покупает указанное Древо Исследований и начинает совершать быстрые вечности одну за другой.\n        Автоматика Большого Сжатия будет выставлена на режим Сжатия при ОБ, в X раз превышающих максимальные, так, чтобы успевать за вечность сработать указанное количество раз,\n        а автоматика вечности будет срабатывать как можно скорее. Шаблон завершит работу, достигнув целевого количества вечностей.",inputs:[{name:"treeStudies",type:"tree",prompt:"Вместо сохранённого Древа вы можете ввести любое другое"},{name:"treeNowait",type:"nowait",prompt:"Поведение программы при невозможности купить Исследования Времени"},{name:"crunchesPerEternity",type:"integer",prompt:"Больших Сжатий за вечность"},{name:"eternities",type:"decimal",prompt:"Целевое количество вечностей"}],warnings:()=>{const e=[];return RealityUpgrade(14).isBought&&e.push(`Поскольку у вас есть Улучшение Реальности "${RealityUpgrade(14).name}", этот шаблон, скорее всего, бесполезен для вас`),e}},{name:"Накопление бесконечностей",description:"Этот шаблон покупает указанное Древо Исследований и настраивает вашу автоматику для накопления\n        бесконечностей. Шаблон завершит работу, достигнув целевого количества бесконечностей, которое также может быть выражено в сохранённых бесконечностях,\n        в случае чего он сначала накопит необходимое количество бесконечностей, а затем совершит одну вечность.",inputs:[{name:"treeStudies",type:"tree",prompt:"Вместо сохранённого Древа вы можете ввести любое другое"},{name:"treeNowait",type:"nowait",prompt:"Поведение программы при невозможности купить Исследования Времени"},{name:"infinities",type:"decimal",prompt:"Целевое количество бесконечностей"},{name:"isBanked",type:"boolean",prompt:"Цель выражена в сохранённых бесконечностях"}],warnings:()=>{const e=[];return Perk.achievementGroup5.isBought||e.push(`У вас не будет достижения "${Achievement(131).name}" в начале реальности, так что учтите,\n            что накопленные бесконечности не сохранятся без ИссЛВ191`),RealityUpgrade(11).isBought&&e.push(`Поскольку у вас есть Улучшение Реальности "${RealityUpgrade(11).name}", этот шаблон, скорее всего, бесполезен для вас`),e}},{name:"Выполнение Испытания Вечности",description:"Этот шаблон покупает указанное Древо Исследований и разблокирует указанное Испытание Вечности.\n        Затем он настраивает автоматику Большого Сжатия согласно введённым данным и начинает Испытание Вечности.\n        Наконец, он дожидается целевого количества выполнений и совершает вечность, чтобы\n        выполнить Испытание.",inputs:[{name:"treeStudies",type:"tree",prompt:"Вместо сохранённого Древа вы можете ввести любое другое"},{name:"treeNowait",type:"nowait",prompt:"Поведение программы при невозможности купить Исследования Времени"},{name:"ec",type:"integer",prompt:"Номер Испытания Вечности"},{name:"completions",type:"integer",prompt:"Целевое количество выполнений"},{name:"autoInfMode",type:"modeInf",prompt:"Режим автоматики Большого Сжатия"},{name:"autoInfValue",type:"decimal",prompt:"Настройка автоматики Большого Сжатия"}],warnings:()=>{const e=[];return Perk.studyECRequirement.isBought||e.push(`Ввиду наличия вторичного требования разблокировка Испытания Вечности может оказаться невозможной.\n            Рекомендуется купить Навык ${Perk.studyECRequirement.label}, прежде чем использовать этот шаблон`),Perk.studyECBulk.isBought||e.push(`При использовании этого шаблона без опта Испытаний Вечности может получиться длинная\n            медленная программа низкой гибкости. Если вы всё же используете шаблон, рекомендуется возвратиться к Автоматизатору и упростить вашу программу\n            по покупке Навыка ${Perk.studyECBulk.label}`),e}},{name:"Разблокировка Замедления",description:"Этот шаблон совершает вечности одну за другой, каждую вечность пытаясь заново купить Древо\n        Исследований. Вы должны выбрать настройки для автоматики вечности; автоматика Большого Сжатия будет\n        выключена. Шаблон работает, пока не достигнет необходимого количества Теорем Времени, а затем\n        разблокирует Замедление.",inputs:[{name:"treeStudies",type:"tree",prompt:"Вместо сохранённого Древа вы можете ввести любое другое"},{name:"treeNowait",type:"nowait",prompt:"Поведение программы при невозможности купить Исследования Времени"},{name:"finalEP",type:"decimal",prompt:"Целевое количество ОВ"},{name:"autoEterMode",type:"modeEter",prompt:"Режим автоматики вечности"},{name:"autoEterValue",type:"decimal",prompt:"Настройка автоматики вечности"}],warnings:()=>{const e=[];return RealityUpgrade(13).isBought||e.push(`Автоматизатор не сможет настроить автоматику вечности без Улучшения Реальности "${RealityUpgrade(13).name}"`),Perk.ttBuySingle.isBought||e.push(`Этот шаблон может плохо работать без Навыка ${Perk.ttBuySingle.label}, если вы не можете получать\n            Теоремы Времени, не покупая их`),e}}]},j={categoryNames:["Управление Исследованиями Времени","Совершение действий","Изменение настроек","Информация","Контроль потока команд"],commands:[{id:0,isUnlocked:()=>!0,keyword:"STUDIES RESPEC (сброс ИсслВ)",category:0,syntax:"<b>studies respec</b>",description:'Переключает опцию "Сбросить Исследования Времени на вечности".\n        Обратите внимание, что эта команда не совершает вечность, и если вы хотите сбросить Исследования Времени,\n        то вы должны совершить вечность отдельно, например, с помощью команды ETERNITY (хотя она может сбрасывать ИсслВ сама).',examples:["studies respec"]},{id:1,isUnlocked:()=>!0,keyword:"STUDIES LOAD (загрузка Древа ИсслВ)",category:0,syntax:"<b>studies</b> [nowait] <b>load id</b> <u>номер</u><br>\n        <b>studies</b> [nowait] <b>load name</b> <u>название</u>",description:'Загружает Древо Исследований, сохранённое в один из слотов на панели в нижней части экрана во вкладке "Исследования Времени".',sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>nowait</i>",description:"\n                При наличии этого параметра Автоматизатор купит лишь те Исследования Времени, которые возможно купить в данный момент, и перейдёт к следующей команде.\n                Иначе Автоматизатор будет пытаться купить все Исследования из загружаемого Древа снова и снова, пока\n                Древо не будет выкуплено полностью, что может привести к застреванию программы на этой строке.\n              "},{header:"<i>номер</i>",description:"\n                Номер слота, из которого необходимо загрузить Древо Исследований. Слоты нумеруются числами от одного до шести\n                по порядку слева направо."},{header:"<i>название</i>",description:"Название Древа Исследований, которое необходимо загрузить. Обратите внимание, что регистр важен."}]}],examples:["studies load id 2","studies load name ANTI","studies nowait load name dil"]},{id:2,isUnlocked:()=>!0,keyword:"STUDIES PURCHASE (покупка ИсслВ)",category:0,syntax:"<b>studies</b> [nowait] <b>purchase</b> <u>список ИсслВ</u>",description:"Покупает Исследования Времени из указанного списка.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>nowait</i>",description:"\n                При наличии этого параметра Автоматизатор купит лишь те Исследования Времени, которые возможно купить в данный момент, и перейдёт к следующей команде.\n                Иначе Автоматизатор будет пытаться купить все Исследования из указанного списка снова и снова, пока\n                список не будет выкуплен полностью, что может привести к застреванию программы на этой строке.\n              "},{header:"<i>список ИсслВ</i>",description:"\n                Записывается в формате Древа Исследований, то есть путём перечисления всех Исследований Времени\n                через запятую. Также разрешается обозначать несколько последовательных Исследований Времени\n                через дефис (например, <u>11-62</u>) и использовать следующие сокращения для обозначения определённых групп Исследований Времени:<br>\n                <blockquote>\n                <b>antimatter</b> - путь Измерений Антиматерии;<br>\n                <b>infinity</b> - путь Измерений Бесконечности;<br>\n                <b>time</b> - путь Измерений Времени;<br>\n                <b>active</b> - Активный путь;<br>\n                <b>passive</b> - Средний путь;<br>\n                <b>idle</b> - Пассивный путь;<br>\n                <b>light</b> - Светлые;<br>\n                <b>dark</b> - Тёмные.</blockquote>\n                Вы также можете использовать постоянную вместо этого параметра."}]}],examples:["studies nowait purchase 11,21,31","studies purchase 11-62, antimatter, 111, idle","studies nowait purchase ec6Studies"]},{id:3,isUnlocked:()=>!0,keyword:"Сбросы престижа",category:1,syntax:"\n        <b>infinity</b> [nowait]<br>\n        <b>eternity</b> [nowait] [respec]<br>\n        <b>reality</b> [nowait] [respec]",description:"Эти три команды пытаются совершить бесконечность, вечность или реальность соответственно.\n        Если программа застревает на такой команде, то, вероятно, причина в том, что соответствующее действие совершает автоматика,\n        вследствие чего Автоматизатор оказывается неспособен совершить его вновь. Используйте параметр <i>nowait</i> или\n        команду AUTO.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>nowait</i>",description:"\n                При наличии этого параметра Автоматизатор перейдёт к следующей команде, если совершить сброс престижа в данный момент невозможно, а не будет продолжать попытки.\n              "},{header:"<i>respec</i>",description:"\n                С командой ETERNITY сбрасывает Исследования Времени, а с командой REALITY - деактивирует глифы.\n              "}]}],examples:["infinity","eternity respec","reality nowait"]},{id:4,isUnlocked:()=>!0,keyword:"UNLOCK (разблокировка испытаний)",category:1,syntax:"\n        <b>unlock</b> [nowait] <b>ec</b><u>номер</u><br>\n        <b>unlock</b> [nowait] <b>dilation</b>",description:"Эти две команды разблокируют Испытание Вечности с указанным номером и Замедление Времени соответственно.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>nowait</i>",description:"\n                При наличии этого параметра Автоматизатор перейдёт к следующей команде, если разблокировать испытание в данный момент невозможно, а не будет продолжать попытки.\n              "},{header:"<i>номер</i>",description:"\n                Номер Испытания Вечности, которое необходимо разблокировать.\n              "}]}],examples:["unlock dilation","unlock ec7"]},{id:5,isUnlocked:()=>!0,keyword:"START (запуск испытаний)",category:1,syntax:"\n        <b>start</b> ec<u>номер</u><br>\n        <b>start</b> dilation",description:"Эти две команды запускают Испытание Вечности с указанным номером и Замедление Времени соответственно. Если соответствующее Испытание Вечности не разблокировано, Автоматизатор разблокирует его.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>номер</i>",description:"\n                Номер Испытания Вечности, которое необходимо запустить.\n              "}]}],examples:["start ec12","start dilation"]},{id:6,isUnlocked:()=>!0,keyword:"AUTO (изменение настроек автоматики)",category:2,syntax:"<b>auto infinity</b> [параметр]<br>\n        <b>auto eternity</b> [параметр]<br>\n        <b>auto reality</b> [параметр]",description:"Эти три команды изменяют настройки автоматики бесконечности, вечности или реальности соответственно в соответствии с параметром.\n        При его отсутствии Автоматизатор переключает соответствующую автоматику.\n        Обращение к неразблокированной автоматике приведёт к ошибке.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<b>on</b> или <b>off</b>",description:"Эти два параметра включают и выключают соответствующую автоматику соответственно."},{header:"<u><i>число</i></u> <u><i>единица измерения времени</i></u>",description:"Выставляет соответствующую автоматику на режим совершения сброса через указанное время."},{header:"<u><i>число</i></u><b>x highest</b>",description:"Выставляет соответствующую автоматику на режим совершения сброса при получении валюты престижа, в указанное число раз превышающем максимальное количество."},{header:"<i><u>число</u> <u>валюта</u></i>",description:"Выставляет соответствующую автоматику на режим совершения сброса при указанном получении валюты престижа."}]},{name:"ЕДИНИЦЫ ИЗМЕРЕНИЯ ВРЕМЕНИ",items:[{header:"",description:"<blockquote>\n                <b>h</b> - час<br>\n                <b>m</b> - минута<br>\n                <b>s</b> - секунда<br>\n                <b>ms</b> - миллисекунда<br>\n                </blockquote>"}]},{name:"ВАЛЮТЫ ПРЕСТИЖА",items:[{header:"",description:"<blockquote>\n                <b>ip</b> - Очки Бесконечности<br>\n                <b>ep</b> - Очки Вечности<br>\n                <b>rm</b> - Машины Реальности<br>\n                </blockquote>"}]}],examples:["auto infinity on","auto eternity off","auto infinity 30 s","auto eternity 1e100x highest"]},{id:7,isUnlocked:()=>BlackHole(1).isUnlocked,keyword:"BLACK HOLE (переключение цикла активности Чёрной Дыры)",category:2,syntax:"<b>black hole on</b><br>\n        <b>black hole off</b>",description:"Эти две команды возобновляет и приостанавливает соответственно цикл активности Чёрной Дыры.",examples:["black hole on","black hole off"]},{id:8,isUnlocked:()=>Enslaved.isUnlocked,keyword:"STORE GAME TIME (управление сохранением игрового времени)",category:2,syntax:"<b>store game time on</b><br>\n        <b>store game time off</b><br>\n        <b>store game time use</b>",description:"Эти три команды запускает и прекращает зарядку Чёрной Дыры и разряжает её соответственно.",examples:["store game time on","store game time off","store game time use"]},{id:9,isUnlocked:()=>!0,keyword:"NOTIFY (уведомление)",category:3,syntax:'<b>notify</b> "<u>текст</u>"',description:"Посылает уведомление в правый верхний угол экрана с указанным текстом, подобное уведомлению о выполнении достижения.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>текст</i>",description:"\n                Текст, который необходимо показать.\n              "}]}],examples:['notify "Замедление разблокировано"','notify "ИспВ выполнены"']},{id:10,isUnlocked:()=>!0,keyword:"Комментарии",category:3,syntax:"<b>#</b> комментарий<br><b>//</b> комментарий",description:"Одним из двух приведённых выше способов вы можете оформить комментарий внутри программы.\n        Они не влияют на работу программы и служат лишь как заметки для её оформления. Комментарий должен занимать отдельную строку.\n        Автоматизатор при выполнении программы пропускает комментарии, не тратя на это времени.",examples:["# накопим 1e20 прежде чем начать испв1","// этот цикл чередует замедления с обычными вечностями"]},{id:11,isUnlocked:()=>!0,keyword:"WAIT (ожидание выполнения условия)",category:4,syntax:"<b>wait</b> <u>условие</u>",description:"Приостанавливает выполнение программы, до тех пор пока не будет выполнено указанное условие.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>условие</i>",description:"\n                Условие, выполнения которого необходимо дождаться.\n              "}]},{name:"УСЛОВИЯ",items:[{header:"<i>сравнение</i>",description:"\n                Заставляет Автоматизатор ждать, пока не будет выполнено некоторое неравенство на игровые параметры.\n                Подробности о форматировании сравнений см. в соответствующей статье.\n              "},{header:"<i>престиж</i>",description:"\n                Заставляет Автоматизатор ждать, пока не произойдёт соответствующий сброс престижа.\n              "},{header:"<i><b>black hole</b> фаза Чёрных Дыр</i>",description:"\n                Заставляет Автоматизатор ждать, пока Чёрные Дыры не придут в соответствующую фазу.\n              "}]},{name:"ФАЗЫ ЧЁРНЫХ ДЫР",items:[{header:"",description:"<blockquote>\n                <b>bh1</b> - только 1-я Чёрная Дыра действует<br>\n                <b>bh2</b> - обе Чёрные Дыры действуют<br>\n                <b>off</b> - ни одна из Чёрных Дыр не действует<br>\n                </blockquote>"}]},{name:"ПРЕСТИЖИ",items:[{header:"",description:"<blockquote>\n                <b>infinity</b> - бесконечность<br>\n                <b>eternity</b> - вечность<br>\n                <b>reality</b> - реальность<br>\n                </blockquote>"}]}],examples:["wait am >= 1e308","wait pending completions >= 5","wait ec9 completions >= 4","wait infinity","wait black hole bh1"]},{id:12,isUnlocked:()=>!0,keyword:"PAUSE (приостановка выполнения программы)",category:4,syntax:"<b>pause</b> <u>число</u> <u>единица измерения времени</u>",description:"Приостанавливает выполнение программы на указанное время.",examples:["pause 10 s","pause 1 m"],sections:[{name:"ЕДИНИЦЫ ИЗМЕРЕНИЯ ВРЕМЕНИ",items:[{header:"",description:"<blockquote>\n                <b>h</b> - час<br>\n                <b>m</b> - минута<br>\n                <b>s</b> - секунда<br>\n                <b>ms</b> - миллисекунда<br>\n                </blockquote>"}]}]},{id:13,isUnlocked:()=>!0,keyword:"IF (условный оператор)",category:4,syntax:"<b>if</b> <u>сравнение</u> {<br>\n        <blockquote><u>тело условного оператора</u></blockquote>\n        }",description:"Проверяет указанное неравенство на игровые параметры. Если оно верно, то выполняется указанный блок команд,\n        иначе Автоматизатор пропускает его.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>сравнение</i>",description:"\n                Неравенство на игровые параметры, которое необходимо проверить.\n                Подробности о форматировании сравнений см. в соответствующей статье.\n              "},{header:"<i>тело условного оператора</i>",description:"\n                Блок команд, который выполняется при истинности сравнения.\n              "}]}],examples:["if ec10 completions < 5","if ep > 1e6000"]},{id:14,isUnlocked:()=>!0,keyword:'UNTIL (цикл "до тех пор как")',category:4,syntax:"<b>until</b> <u>сравнение</u> {<br>\n        <blockquote><u>тело цикла</u></blockquote>\n        }<br><b>until</b> <u>престиж</u> {<br>\n          <blockquote><u>тело цикла</u></blockquote>\n        }",description:"Проверяет указанное условие. Если оно неверно, то выполняется указанный блок команд, после чего\n        условие проверяется вновь. В случае ложности условия вновь выполняется блок команд, и так далее. Когда условие\n        впервые становится верным, блок команд пропускается.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>сравнение</i>",description:"\n                Неравенство на игровые параметры, которое необходимо проверить.\n                Подробности о форматировании сравнений см. в соответствующей статье.\n              "},{header:"<i>престиж</i>",description:"\n                Престиж, сброса которого необходимо дождаться. При использовании этого параметра условием выполнения\n                цикла будет наличие хотя бы одного происшествия сброса указанного престижа, с тех пор как Автоматиазтор\n                впервые вошёл в тело цикла. Обратите внимание, что Автоматизатор не выйдет из цикла немедленно по совершении\n                сброса указанного престижа, а завершит выполнение команд внутри него и только затем проверит условие и покинет цикл.\n              "},{header:"<i>тело цикла</i>",description:"\n                Блок команд, который выполняется при ложности условия.\n              "}]},{name:"ПРЕСТИЖИ",items:[{header:"",description:"<blockquote>\n                <b>infinity</b> - бесконечность<br>\n                <b>eternity</b> - вечность<br>\n                <b>reality</b> - реальность<br>\n                </blockquote>"}]}],examples:["until ep > 1e500","until reality"]},{id:15,isUnlocked:()=>!0,keyword:'WHILE (цикл "пока")',category:4,syntax:"<b>while</b> <u>сравнение</u> {<br>\n        <blockquote><u>тело цикла</u></blockquote>\n      }",description:"Проверяет указанное неравенство на игровые параметры. Если оно верно, то выполняется указанный блок команд,\n        после чего условие проверяется вновь. В случае истинности условия вновь выполняется блок команд, и так далее. Когда условие\n        впервые становится неверным, блок команд пропускается.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>сравнение</i>",description:"\n                Неравенство на игровые параметры, которое необходимо проверить.\n                Подробности о форматировании сравнений см. в соответствующей статье.\n              "},{header:"<i>тело цикла</i>",description:"\n                Блок команд, который выполняется при истинности условия.\n              "}]}],examples:["while ep < 1e500","while myThreshold > am"]},{id:16,isUnlocked:()=>!0,keyword:"STOP (полная остановка выполнения программы)",category:4,syntax:"<b>stop</b>",description:"Полностью останавливает выполнение программы. Обратите внимание, что эту команду не нужно писать\n        в конец каждой программы, так как они останавливаются сами по достижении последней строки. Но эта команда может быть полезна,\n        если вы хотите остановить выполнение программы только при определённом условии.",examples:["stop"]},{id:17,isUnlocked:()=>!0,keyword:"Список игровых параметров",category:4,syntax:"<i>Используются в сравнениях</i>",description:()=>{const e=EffarigUnlock.glyphFilter.isUnlocked?"<b>filter score</b> - лучшая из оценок выбираемых глифов от Фильтра Глифов<br>":"",t=V.spaceTheorems>0?"<b>space theorems</b> - количество Теорем Пространства<br>\n            <b>total space theorems</b> - общее количество Теорем Пространства (в том числе потраченных)<br>":"";return`\n          <b>am</b> - количество антиматерии<br>\n          <b>ip</b> - количество Очков Бесконечности<br>\n          <b>ep</b> - количество Очков Вечности<br>\n          <b>rm</b> - количество Машин Реальности<br>\n          <b>infinities</b> - количество бесконечностей<br>\n          <b>banked infinities</b> - количество сохранённых бесконечностей<br>\n          <b>eternities</b> - количество вечностей<br>\n          <b>realities</b> - количество реальностей<br>\n          <b>pending ip</b> - количество ОБ, которое вы могли бы получить на бесконечности (при невозможности совершить бесконечность приравнивается к нулю)<br>\n          <b>pending ep</b> - количество ОВ, которое вы могли бы получить на вечности (при невозможности совершить вечность приравнивается к нулю)<br>\n          <b>pending tp</b> - количество Тахионов, которое вы могли бы получить на вечности<br>\n          <b>pending rm</b> - количество МР, которое вы могли бы получить на реальности (при невозможности совершить реальность приравнивается к нулю)<br>\n          <b>pending glyph level</b> - уровень глифа, который вы могли бы получить на реальности (при невозможности совершить реальность приравнивается к нулю)<br>\n          <b>dt</b> - количество Замедленного Времени<br>\n          <b>tp</b> - количество Тахионов<br>\n          <b>rg</b> - количество Галактик Репликанти<br>\n          <b>rep</b> - количество Репликанти<br>\n          <b>tt</b> - количество Теорем Времени<br>\n          <b>total tt</b> - общее количество Теорем Времени (в том числе потраченных)<br>\n          <b>total completions</b> - общее количество выполнений Испытаний Вечности<br>\n          <b>pending completions</b> - количество выполнений текущего Испытания Вечности, которое вы могли бы получить на вечности<br>\n          <b>ec<u>X</u> completions</b> - количество выполнений <b>X</b>-го Испытания Вечности (<b>X</b> - целое число от 1 до 12)<br>\n          ${e}\n          ${t}\n        `}},{id:18,isUnlocked:()=>!0,keyword:"Форматирование сравнений",category:4,syntax:"<u>параметр</u> <u>знак</u> <u>параметр</u>",description:"Возвращает истинность указанного неравенства на игровые параметры для использования в условном операторе IF, цикле или команде WAIT.",sections:[{name:"ПАРАМЕТРЫ",items:[{header:"<i>параметр</i>",description:"\n                Это либо неотрицательное число, записанное арабскими цифрами или в Научной нотации, либо игровой параметр, то есть некоторая\n                характеристика текущего состояния игры. Список разрешённых игровых параметров приведён в соответствующей статье.\n              "},{header:"<i>знак</i>",description:"\n                Знак неравенства (<, <=, > или >=), несущий свой обычный математический смысл.\n                Обратите внимание, что Автоматизатор не позволяет проверять игровые параметры на равенство.\n              "}]}],examples:["ep < 1e20","total tt > 14000"]}],otherAutomatorPoints:[{name:"Реальности",automatorPoints:()=>2*Math.clampMax(Currency.realities.value,50),shortDescription:()=>`Вы получаете ${formatInt(2)} ОА каждую реальность`,symbol:"Ϟ"},{name:"Чёрная Дыра",automatorPoints:()=>BlackHole(1).isUnlocked?10:0,shortDescription:()=>`Разблокировка Чёрной Дыры даёт ${formatInt(10)} ОА`,symbol:"<i class='fas fa-circle'></i>"}],templates:Y},W={cards:{id:"cards",name:"Масти игральных карт",symbol:["♠","♥","♦","♣","♤","♧","♡","♢"],color:["W#000000","B#FF2222"]},lower:{id:"lower",name:"Строчные буквы",symbol:["ω","ξ","δ","ψ"]},sus:{id:"sus",name:"Подозрительные",symbol:["ඔ","ඕ","ඞ","ඩ"],color:["B#FCA40A"]},currency:{id:"currency",name:"Знаки современных валют",symbol:["$","₽","¥","€","¢","£","₩"],preventBlur:!0,color:["W#00DD00"]},oldCurrency:{id:"oldCurrency",name:"Знаки старых валют",symbol:["₷","₰","₳","₯","₻"],preventBlur:!0,color:["B#00DD00"]},pipe:{id:"pipe",name:"Одиночные провода",symbol:["┌","┐","└","┘","─","│"],color:["B#33FF33"]},pipe2:{id:"pipe2",name:"Двойные провода",symbol:["╔","╗","╚","╝","═","║"],color:["W#33FF33"]},trigram:{id:"trigram",name:"Триграммы",symbol:["☰","☱","☲","☳","☴","☵","☶","☷"],preventBlur:!0,color:["B#FFFFFF"]},arrow:{id:"arrow",name:"Одиночные стрелки",symbol:["←","↓","↑","→","↖","↗","↘","↙"],color:["W#CC0000"]},arrow2:{id:"arrow2",name:"Двойные стрелки",symbol:["⇄","⇅","⇔","⇕"],color:["W#0000CC"]},arrow3:{id:"arrow3",name:"Особые стрелки",symbol:["↺","↯","↬","⇱","⇲","⇮","↭"],preventBlur:!0,color:["W#CCCC00"]},integral:{id:"integral",name:"Знаки интеграла",symbol:["∬","∭","∮","∯","∰","∱","∲","∳"],preventBlur:!0,color:["B#123456"]},numbers:{id:"numbers",name:"Цифры в кружочках",symbol:["①","②","③","④","⑤","⑥","⑦","⑧"],preventBlur:!0,color:["B#607D8B"]},blocks:{id:"blocks",name:"Блоки 2x2",symbol:["▘","▚","▞","▙","▛","▜","▟"]},shapes:{id:"shapes",name:"Дополнительные формы",symbol:["▰","▲","◆","◎","◍"],preventBlur:!0},chess:{id:"chess",name:"Шахматные фигуры",symbol:["♟","♞","♝","♜","♛","♚"],preventBlur:!0,color:["B#AAAAAA"]},planet:{id:"planet",name:"Астрономические символы",symbol:["☿","♀","♁","♂","♃","♄","♆","♇"],preventBlur:!0,color:["B#964B00"]},musical:{id:"musical",name:"Музыкальные символы",symbol:["♩","♪","♬","♭","♮","♯"],preventBlur:!0,color:["W#E621E6"]},recycle:{id:"recycle",name:"Знаки переработки",symbol:["♻","♳","♴","♵","♶","♷","♸","♹"],preventBlur:!0},dice:{id:"dice",name:"Грани игральной кости",symbol:["⚀","⚁","⚂","⚃","⚄","⚅"],preventBlur:!0},hazard:{id:"hazard",name:"Символы опасности",symbol:["☠","☢","☣","⚠"],preventBlur:!0,color:["W#FCA40A"]},celestial:{id:"celestial",name:"Символы Небожителей",symbol:["","⌬","","ᛝ","♅"],color:["B#00BCD4"]},alchemy:{id:"alchemy",name:"Алхимические символы",symbol:["🜁","🜂","🜃","🜄","🜔","🜍","🜞","🜚"],color:["B#FFD700"]},blob:{id:"blob",name:"Кляксы",symbol:["","","","","","",""],preventBlur:!0,color:["B#E4B51A"]},blob2:{id:"blob2",name:"Ещё кляксы",symbol:["","","","","","",""],preventBlur:!0},star:{id:"star",name:"Геометрические звёзды",symbol:["★","☆","✪","✯","✭","✫","🜞"]},star2:{id:"star2",name:"Реалистичные звёзды",symbol:["✶","✦","✧","✺","✹","✷"],color:["W#D4FFFF","W#FDFFCC"]},gem:{id:"gem",name:"Алмаз",symbol:["💎"],color:["B#035E3B","B#943B47","B#032C54"]},heiroglyph:{id:"heiroglyph",name:"Распространённые иероглифы",symbol:["𓂀","𓀶","𓅊","𓇌","𓊝","☥"],preventBlur:!0},paperclip:{id:"paperclip",name:"Бесполезные скрепки",symbol:["𓄲","𓄳","𓄴","𓄵","𓄶","𓄷","𓄸"],preventBlur:!0,color:["B#222222"]},snake:{id:"snake",name:"Разнообразные змеи",symbol:["𓆓","𓆔","𓆕","𓆖","𓆗","𓆘"],preventBlur:!0},egyptNumber:{id:"egyptNumber",name:"Египетские цифры",symbol:["𓆄","𓅔","𓆾","𓂰","𓍦","𓎋","𓐀","𓃐"],preventBlur:!0,color:["W#123456"]},egyptWeather:{id:"egyptWeather",name:"Египетские флюгеры",symbol:["𓈹","𓈧","𓈷","𓉈","𓈩","𓈻","𓈽"],preventBlur:!0,color:["W#607D8B"]},limbs:{id:"limbs",name:"Неуклюжие конечности",symbol:["𓈝","𓄒","𓃂","𓃁","𓂩","𓂙","𓂓","𓂼"],preventBlur:!0,color:["B#E621E6"]},animal:{id:"animal",name:"Ковчег Завета",symbol:["𓆏","𓆉","𓅬","𓅃","𓃲","𓆣","𓆊","𓃰"],preventBlur:!0,color:["W#0000AA"]}};i(533);const X=Object.freeze({add:e=>e.reduce(Number.sumReducer,0),multiply:e=>e.reduce(Number.prodReducer,1),addExponents:e=>e.reduce(Number.sumReducer,1-e.length),multiplyDecimal:e=>e.reduce(Decimal.prodReducer,v.D1)}),z={timepow:{id:"timepow",bitmaskIndex:0,isGenerated:!0,glyphTypes:["time"],singleDesc:"Увеличить степень множителей Измерений Времени на {value}",totalDesc:"Множители Измерений Времени возведены в степень {value}",genericDesc:"Увеличить степень множителей Измерений Времени",shortDesc:"+{value} к степени ИВ",effect:(e,t)=>1.01+Math.pow(e,.32)*Math.pow(t,.45)/75,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents,enabledInDoomed:!0},timespeed:{id:"timespeed",bitmaskIndex:1,isGenerated:!0,glyphTypes:["time"],singleDesc:"Множитель ×{value} к скорости игры",genericDesc:"Множитель к скорости игры",shortDesc:"×{value} к скорости игры",effect:(e,t)=>GlyphAlteration.isEmpowered("time")?1+Math.pow(e,.35):1+Math.pow(e,.3)*Math.pow(t,.65)/20,formatEffect:e=>format(e,3,3),combine:X.multiply,alteredColor:()=>GlyphAlteration.getEmpowermentColor("time"),alterationType:ALTERATION_TYPE.EMPOWER,enabledInDoomed:!0},timeetermult:{id:"timeetermult",bitmaskIndex:2,isGenerated:!0,glyphTypes:["time"],singleDesc:"Множитель ×{value} к получению вечностей",genericDesc:"Множитель к получению вечностей",shortDesc:"×{value} вечностей",effect:(e,t)=>Math.pow((t+3)*e,.9)*Math.pow(3,GlyphAlteration.sacrificeBoost("time")),formatEffect:e=>format(e,2,2),combine:X.multiply,alteredColor:()=>GlyphAlteration.getBoostColor("time"),alterationType:ALTERATION_TYPE.BOOST},timeEP:{id:"timeEP",bitmaskIndex:3,isGenerated:!0,glyphTypes:["time"],singleDesc:()=>GlyphAlteration.isAdded("time")?"Множитель ×{value} к получению Очков Вечности. [Оно возведено в степень ]{value2}":"Множитель ×{value} к получению Очков Вечности",totalDesc:()=>GlyphAlteration.isAdded("time")?"Множитель ×{value} к получению Очков Вечности. Оно возведено в степень {value2}":"Множитель ×{value} к получению Очков Вечности",genericDesc:()=>GlyphAlteration.isAdded("time")?"Множитель к получению Очков Вечности; оно возведено в степень":"Множитель к получению Очков Вечности",shortDesc:()=>GlyphAlteration.isAdded("time")?"×{value} и ^{value2} ОВ":"×{value} ОВ",effect:(e,t)=>100*Math.pow(e*t,3),formatEffect:e=>format(e,2,3),combine:X.multiply,conversion:e=>1+Math.log10(e)/1e3,formatSecondaryEffect:e=>format(e,4,4),alteredColor:()=>GlyphAlteration.getAdditionColor("time"),alterationType:ALTERATION_TYPE.ADDITION},dilationDT:{id:"dilationDT",bitmaskIndex:4,isGenerated:!0,glyphTypes:["dilation"],singleDesc:"Множитель ×{value} к производству Замедленного Времени",genericDesc:"Множитель к производству Замедленного Времени",shortDesc:"×{value} ЗВ",effect:(e,t)=>GlyphAlteration.isEmpowered("dilation")?v.D1_005.pow(e).times(15):Decimal.pow(e*t,1.5).times(2),formatEffect:e=>format(e,2,1),combine:X.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("dilation"),alterationType:ALTERATION_TYPE.EMPOWER},dilationgalaxyThreshold:{id:"dilationgalaxyThreshold",bitmaskIndex:5,isGenerated:!0,glyphTypes:["dilation"],singleDesc:()=>`Множитель ×{value} к значению, на которое наценка на Тахионные Галактики превышает ${formatInt(1)}`,genericDesc:()=>`Множитель к значению, на которое наценка на Тахионные Галактики превышает ${formatInt(1)}`,shortDesc:()=>`×{value} к наценке ТГ сверх ${formatInt(1)}`,effect:(e,t)=>1-Math.pow(e,.17)*Math.pow(t,.35)/100-GlyphAlteration.sacrificeBoost("dilation")/50,formatEffect:e=>format(e,3,3),alteredColor:()=>GlyphAlteration.getBoostColor("dilation"),alterationType:ALTERATION_TYPE.BOOST,combine:e=>{const t=e.reduce(Number.prodReducer,1);return t<.4?{value:.4-Math.pow(.4-t,1.7),capped:!0}:{value:t,capped:!1}},enabledInDoomed:!0},dilationTTgen:{id:"dilationTTgen",bitmaskIndex:6,isGenerated:!0,glyphTypes:["dilation"],singleDesc:()=>GlyphAlteration.isAdded("dilation")?"Вы производите {value} Теоремы Времени в час. [Множитель ×]{value2}[ к производству Теорем Времени]":"Вы производите {value} Теоремы Времени в час",totalDesc:()=>GlyphAlteration.isAdded("dilation")?"Вы производите {value} Теоремы Времени в час. Множитель ×{value2} к производству Теорем Времени":"Вы производите {value} Теоремы Времени в час",genericDesc:()=>GlyphAlteration.isAdded("dilation")?"Производство Теорем Времени и множитель к производству Теорем Времени":"Производство Теорем Времени",shortDesc:()=>GlyphAlteration.isAdded("dilation")?"+{value} ТВ/час; ×{value2} ТВ":"+{value} ТВ/час",effect:(e,t)=>Math.pow(e*t,.5)/1e4,formatEffect:e=>format(3600*e,2,2),combine:X.add,conversion:e=>Math.clampMin(Math.pow(1e4*e,1.6),1),formatSecondaryEffect:e=>format(e,2,2),alteredColor:()=>GlyphAlteration.getAdditionColor("dilation"),alterationType:ALTERATION_TYPE.ADDITION},dilationpow:{id:"dilationpow",bitmaskIndex:7,isGenerated:!0,glyphTypes:["dilation"],singleDesc:"Увеличить степень множителей Измерений Антиматерии на {value} в Замедлении",totalDesc:"Множители Измерений Антиматерии возведены в степень {value} в Замедлении",genericDesc:"Увеличить степень множителей Измерений Антиматерии в Замедлении",shortDesc:"+{value} к степени ИА в Замедлении",effect:(e,t)=>1.1+Math.pow(e,.7)*Math.pow(t,.7)/25,formatEffect:e=>format(e,2,2),formatSingleEffect:e=>format(e-1,2,2),combine:X.addExponents,enabledInDoomed:!0},replicationspeed:{id:"replicationspeed",bitmaskIndex:8,isGenerated:!0,glyphTypes:["replication"],singleDesc:"Множитель ×{value} к скорости репликации",genericDesc:"Множитель к скорости репликации",shortDesc:"×{value} Репликанти",effect:(e,t)=>GlyphAlteration.isEmpowered("replication")?v.D1_007.pow(e).times(10):Decimal.times(e,t).times(3),formatEffect:e=>format(e,2,1),combine:X.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("replication"),alterationType:ALTERATION_TYPE.EMPOWER},replicationpow:{id:"replicationpow",bitmaskIndex:9,isGenerated:!0,glyphTypes:["replication"],singleDesc:"Увеличить степень множителя Репликанти на {value}",totalDesc:"Множитель Репликанти возведён в степень {value}",shortDesc:"+{value} к степени Репликанти",effect:(e,t)=>1.1+Math.pow(e,.5)*t/25+3*GlyphAlteration.sacrificeBoost("replication"),formatEffect:e=>format(e,2,2),formatSingleEffect:e=>format(e-1,2,2),combine:X.addExponents,alteredColor:()=>GlyphAlteration.getBoostColor("replication"),alterationType:ALTERATION_TYPE.BOOST,enabledInDoomed:!0},replicationdtgain:{id:"replicationdtgain",bitmaskIndex:10,isGenerated:!0,glyphTypes:["replication"],singleDesc:()=>GlyphAlteration.isAdded("replication")?`Множитель к производству Замедленного Времени [и скорости репликации] в зависимости от количества Репликанти ({value}×log_${format(Decimal.pow(10,1e4))}_(x), ВАЖНО: при наложении нескольких таких эффектов логарифм учитывается только один раз)`:`Множитель к производству Замедленного Времени в зависимости от количества Репликанти ({value}×log_${format(Decimal.pow(10,1e4))}_(x), ВАЖНО: при наложении нескольких таких эффектов логарифм учитывается только один раз)`,totalDesc:()=>GlyphAlteration.isAdded("replication")?"Множитель к производству Замедленного Времени и скорости репликации в зависимости от количества Репликанти ({value}×log₁₀(x))":"Множитель к производству Замедленного Времени в зависимости от количества Репликанти ({value}×log₁₀(x))",genericDesc:()=>GlyphAlteration.isAdded("replication")?"Множитель к производству Замедленного Времени и скорости репликации в зависимости от количества Репликанти":"Множитель к производству Замедленного Времени в зависимости от количества Репликанти",shortDesc:()=>GlyphAlteration.isAdded("replication")?`×ЗВ и Репликанти от Репликанти ({value}×log_${format(Decimal.pow(10,1e4))}_(x))`:`×ЗВ от Репликанти ({value}×log_${format(Decimal.pow(10,1e4))}_(x))`,effect:(e,t)=>3e-4*Math.pow(e,.3)*Math.pow(t,.65),formatEffect:e=>format(e,6,6),formatSingleEffect:e=>format(1e4*e,2,2),combine:e=>({value:0===e.length?0:e.reduce(Number.prodReducer,Math.pow(1e-4,1-e.length)),capped:!1}),conversion:e=>e,formatSecondaryEffect:e=>format(e,2,3),formatSingleSecondaryEffect:e=>format(e,5,5),alteredColor:()=>GlyphAlteration.getAdditionColor("replication"),alterationType:ALTERATION_TYPE.ADDITION},replicationglyphlevel:{id:"replicationglyphlevel",bitmaskIndex:11,isGenerated:!0,glyphTypes:["replication"],singleDesc:()=>`Увеличить степень Репликанти в формуле расчёта уровня глифа на {value} (по умолчанию ^${format(.4,1,1)})`,genericDesc:"Увеличить степень Репликанти в формуле расчёта уровня глифа",shortDesc:"+{value} к степени Репликанти для уровня",effect:(e,t)=>Math.pow(Math.pow(e,.25)*Math.pow(t,.4),.5)/50,formatEffect:e=>format(e,3,3),combine:e=>{let t=e.reduce(Number.sumReducer,0);return e.length>2&&(t*=6/(e.length+4)),t>.1?{value:.1+.2*(t-.1),capped:!0}:{value:t,capped:e.length>2}},enabledInDoomed:!0},infinitypow:{id:"infinitypow",bitmaskIndex:12,isGenerated:!0,glyphTypes:["infinity"],singleDesc:"Увеличить степень множителей Измерений Бесконечности на {value}",totalDesc:"Множители Измерений Бесконечности возведены в степень {value}",genericDesc:"Увеличить степень множителей Измерений Бесконечности",shortDesc:"+{value} к степени Силы Бесконечности",effect:(e,t)=>1.007+Math.pow(e,.21)*Math.pow(t,.4)/75+GlyphAlteration.sacrificeBoost("infinity")/50,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents,alteredColor:()=>GlyphAlteration.getBoostColor("infinity"),alterationType:ALTERATION_TYPE.BOOST,enabledInDoomed:!0},infinityrate:{id:"infinityrate",bitmaskIndex:13,isGenerated:!0,glyphTypes:["infinity"],singleDesc:()=>`Увеличить степень эффекта Силы Бесконечности на {value} (по умолчанию ^${formatInt(7)})`,genericDesc:"Увеличить степень эффекта Силы Бесконечности",shortDesc:"+{value} к степени эффекта ИБ",effect:(e,t)=>Math.pow(e,.2)*Math.pow(t,.4)*.04,formatEffect:e=>format(e,2,2),combine:X.add,enabledInDoomed:!0},infinityIP:{id:"infinityIP",bitmaskIndex:14,isGenerated:!0,glyphTypes:["infinity"],singleDesc:()=>GlyphAlteration.isAdded("infinity")?"Множитель ×{value} к получению Очков Бесконечности. [Оно возведено в степень ]{value2}":"Множитель ×{value} к получению Очков Бесконечности",totalDesc:()=>GlyphAlteration.isAdded("infinity")?"Множитель ×{value} к получению Очков Бесконечности. Оно возведено в степень {value2}":"Множитель ×{value} к получению Очков Бесконечности",genericDesc:()=>GlyphAlteration.isAdded("infinity")?"Множитель к получению Очков Бесконечности; оно возведено в степень":"Множитель к получению Очков Бесконечности",shortDesc:()=>GlyphAlteration.isAdded("infinity")?"×{value} и ^{value2} ОБ":"×{value} ОБ",effect:(e,t)=>1e4*Math.pow(e*(t+1),6),formatEffect:e=>format(e,2,3),combine:X.multiply,softcap:e=>void 0!==Effarig.eternityCap?Math.min(e,Effarig.eternityCap.toNumber()):e,conversion:e=>1+Math.log10(e)/1800,formatSecondaryEffect:e=>format(e,4,4),alteredColor:()=>GlyphAlteration.getAdditionColor("infinity"),alterationType:ALTERATION_TYPE.ADDITION},infinityinfmult:{id:"infinityinfmult",bitmaskIndex:15,isGenerated:!0,glyphTypes:["infinity"],singleDesc:"Множитель ×{value} к получению бесконечностей",genericDesc:"Множитель к получению бесконечностей",shortDesc:"×{value} бесконечностей",effect:(e,t)=>GlyphAlteration.isEmpowered("infinity")?v.D1_02.pow(e):Decimal.pow(e*t,1.5).times(2),formatEffect:e=>format(e,2,1),combine:X.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("infinity"),alterationType:ALTERATION_TYPE.EMPOWER},powerpow:{id:"powerpow",bitmaskIndex:16,isGenerated:!0,glyphTypes:["power"],singleDesc:()=>GlyphAlteration.isAdded("power")?"Увеличить степень множителей Измерений Антиматерии на {value}. [Множитель ×]{value2}[ к цене Галактик Антиматерии]":"Увеличить степень множителей Измерений Антиматерии на {value}",totalDesc:()=>GlyphAlteration.isAdded("power")?"Множители Измерений Антиматерии возведены в степень {value}. Множитель ×{value2} к цене Галактик Антиматерии":"Множители Измерений Антиматерии возведены в степень {value}",genericDesc:()=>GlyphAlteration.isAdded("power")?"Увеличить степень множителей Измерений Антиматерии; множитель к цене Галактик Антиматерии":"Увеличить степень множителей Измерений Антиматерии",shortDesc:()=>GlyphAlteration.isAdded("power")?"+{value} к степени ИА; ×{value2} к цене ГА":"+{value} к степени ИА",effect:(e,t)=>1.015+Math.pow(e,.2)*Math.pow(t,.4)/75,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents,conversion:e=>2/(e+1),formatSecondaryEffect:e=>format(e,3,3),alteredColor:()=>GlyphAlteration.getAdditionColor("power"),alterationType:ALTERATION_TYPE.ADDITION,enabledInDoomed:!0},powermult:{id:"powermult",bitmaskIndex:17,isGenerated:!0,glyphTypes:["power"],singleDesc:"Множитель ×{value} к Измерениям Антиматерии",genericDesc:"Множитель к Измерениям Антиматерии",shortDesc:"×{value} к ИА",effect:(e,t)=>GlyphAlteration.isEmpowered("power")?v.D11111.pow(220*e):Decimal.pow(e*t*10,e*t*10),formatEffect:e=>formatPostBreak(e,2,0),combine:X.multiplyDecimal,alteredColor:()=>GlyphAlteration.getEmpowermentColor("power"),alterationType:ALTERATION_TYPE.EMPOWER,enabledInDoomed:!0},powerdimboost:{id:"powerdimboost",bitmaskIndex:18,isGenerated:!0,glyphTypes:["power"],singleDesc:"Множитель ×{value} ко множителю Расширения Измерений",genericDesc:"Множитель ко множителю Расширения Измерений",shortDesc:"×{value} ко множителю Расширения",effect:(e,t)=>Math.pow(e*t,.5)*Math.pow(1+GlyphAlteration.sacrificeBoost("power"),3),formatEffect:e=>format(e,2,2),combine:X.multiply,alteredColor:()=>GlyphAlteration.getBoostColor("power"),alterationType:ALTERATION_TYPE.BOOST,enabledInDoomed:!0},powerbuy10:{id:"powerbuy10",bitmaskIndex:19,isGenerated:!0,glyphTypes:["power"],singleDesc:()=>`Увеличить множитель ко множителю за покупку ${formatInt(10)} Измерений Антиматерии на {value}`,totalDesc:()=>`Множитель ×{value} ко множителю за покупку ${formatInt(10)} Измерений Антиматерии`,genericDesc:()=>`Увеличить множитель ко множителю за покупку ${formatInt(10)} Измерений Антиматерии`,shortDesc:()=>`×{value} ко множителю за ${formatInt(10)} ИА`,effect:(e,t)=>1+e*t/12,formatEffect:e=>format(e,2,2),combine:X.addExponents,enabledInDoomed:!0},effarigrm:{id:"effarigrm",bitmaskIndex:20,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Множитель ×{value} к получению Машин Реальности",genericDesc:"Множитель к получению Машин Реальности",shortDesc:"×{value} МР",effect:(e,t)=>GlyphAlteration.isEmpowered("effarig")?Math.pow(e,1.5):Math.pow(e,.6)*t,formatEffect:e=>format(e,2,2),combine:X.multiply,alteredColor:()=>GlyphAlteration.getEmpowermentColor("effarig"),alterationType:ALTERATION_TYPE.EMPOWER},effarigglyph:{id:"effarigglyph",bitmaskIndex:21,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Неустойчивость глифов начинается на {value} позже",genericDesc:"Неустойчивость глифов начинается позже",shortDesc:"Неустойчивость на {value}",effect:(e,t)=>Math.floor(10*Math.pow(e*t,.5)),formatEffect:e=>quantifyInt("уровень",e),combine:X.add},effarigblackhole:{id:"effarigblackhole",bitmaskIndex:22,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Увеличить степень скорости игры на {value}",totalDesc:"Скорость игры возведена в степень {value}",genericDesc:"Увеличить степень скорости игры",shortDesc:"+{value} к степени скорости игры",effect:(e,t)=>1+Math.pow(e,.25)*Math.pow(t,.4)/75,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents},effarigachievement:{id:"effarigachievement",bitmaskIndex:23,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Увеличить степень множителя достижений на {value}",totalDesc:"Множитель достижений возведён в степень {value}",genericDesc:"Увеличить степень множителя достижений",shortDesc:"+{value} к степени множителя достижений",effect:(e,t)=>1+Math.pow(e,.4)*Math.pow(t,.6)/60+GlyphAlteration.sacrificeBoost("effarig")/10,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents,alteredColor:()=>GlyphAlteration.getBoostColor("effarig"),alterationType:ALTERATION_TYPE.BOOST},effarigforgotten:{id:"effarigforgotten",bitmaskIndex:24,isGenerated:!0,glyphTypes:["effarig"],singleDesc:()=>GlyphAlteration.isAdded("effarig")?`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень {value}. [Множитель Расширения Измерений возведён в степень] {value2}`:`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень {value}`,totalDesc:()=>GlyphAlteration.isAdded("effarig")?`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень {value}. Множитель Расширения Измерений возведён в степень {value2}`:`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень {value}`,genericDesc:()=>GlyphAlteration.isAdded("effarig")?`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень; множитель Расширения Измерений возведён в степень`:`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень`,shortDesc:()=>GlyphAlteration.isAdded("effarig")?`^{value} ко множителю за ${formatInt(10)} ИА; ^{value2} ко множителю Расширения`:`^{value} ко множителю за ${formatInt(10)} ИА`,effect:(e,t)=>1+2*Math.pow(e,.25)*Math.pow(t,.4),formatEffect:e=>format(e,2,2),combine:X.multiply,conversion:e=>Math.pow(e,.4),formatSecondaryEffect:e=>format(e,2,2),alteredColor:()=>GlyphAlteration.getAdditionColor("effarig"),alterationType:ALTERATION_TYPE.ADDITION},effarigdimensions:{id:"effarigdimensions",bitmaskIndex:25,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Множители всех измерений возведены в степень {value}",genericDesc:"Множители всех измерений возведены в степень",shortDesc:"^{value} ко всем измерениям",effect:(e,t)=>1+Math.pow(e,.25)*Math.pow(t,.4)/500,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents},effarigantimatter:{id:"effarigantimatter",bitmaskIndex:26,isGenerated:!0,glyphTypes:["effarig"],singleDesc:"Производство антиматерии в секунду замедлено со степенью {value}",genericDesc:"Производство антиматерии в секунду замедлено",shortDesc:"Антиматерия замедлена ^{value}",effect:(e,t)=>1+Math.pow(e,.25)*Math.pow(t,.4)/5e3,formatEffect:e=>format(e,4,4),combine:X.multiply},timeshardpow:{id:"timeshardpow",bitmaskIndex:27,isGenerated:!0,glyphTypes:[],singleDesc:"Увеличить степень производства Осколков Времени в секунду на {value}",totalDesc:"Производство Осколков Времени в секунду возведено в степень {value}",genericDesc:"Увеличить степень производства Осколков Времени в секунду",shortDesc:"+{value} к степени производства Осколков Времени в секунду",effect:(e,t)=>1+t/3.5*Math.pow(e,.35)/400,formatEffect:e=>format(e,3,3),formatSingleEffect:e=>format(e-1,3,3),combine:X.addExponents,enabledInDoomed:!0},cursedgalaxies:{id:"cursedgalaxies",bitmaskIndex:0,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"Галактики на {value} слабее",shortDesc:"-{value} силы галактик",effect:e=>Math.pow(e,-.03),formatEffect:e=>formatPercents(1-e,2),combine:X.multiply},curseddimensions:{id:"curseddimensions",bitmaskIndex:1,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"Множители всех измерений возведены в степень {value}",shortDesc:"^{value} ко всем измерениям",effect:e=>Math.pow(e,-.035),formatEffect:e=>format(e,3,3),combine:X.multiply},cursedtickspeed:{id:"cursedtickspeed",bitmaskIndex:2,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"Увеличить наценку на ускорители, получаемые от Осколков Времени",totalDesc:"Наценка на ускорители, получаемые от Осколков Времени, в {value} раза больше",shortDesc:"Осколки Времени слабее",effect:e=>Math.clampMin(Math.log10(e),1),formatEffect:e=>format(e,3,3),combine:X.add},cursedEP:{id:"cursedEP",bitmaskIndex:3,isGenerated:!1,glyphTypes:["cursed"],singleDesc:"Получение Очков Вечности разделено на {value}",shortDesc:"ОВ / {value}",effect:e=>Decimal.pow10(-e/10),formatEffect:e=>format(e.reciprocal()),combine:X.multiplyDecimal},realityglyphlevel:{id:"realityglyphlevel",bitmaskIndex:4,isGenerated:!1,glyphTypes:["reality"],singleDesc:"Увеличить фактические уровни действующих глифов на {value}",shortDesc:"+{value} к уровням действующих глифов",effect:e=>Math.floor(Math.sqrt(90*e)),formatEffect:e=>formatInt(e),combine:X.add},realitygalaxies:{id:"realitygalaxies",bitmaskIndex:5,isGenerated:!1,glyphTypes:["reality"],singleDesc:"Галактики на {value} сильнее",shortDesc:"+{value} к силе галактик",effect:e=>1+Math.pow(e/1e5,.5),formatEffect:e=>formatPercents(e-1,2),combine:X.multiply},realityrow1pow:{id:"realityrow1pow",bitmaskIndex:6,isGenerated:!1,glyphTypes:["reality"],singleDesc:"Эффекты повторяемых Улучшений Реальности возведены в степень {value}",shortDesc:"^{value} к эффектам повторяемых Улучшений Реальности",effect:e=>1+e/125e3,formatEffect:e=>format(e,3,3),combine:X.addExponents},realityDTglyph:{id:"realityDTglyph",bitmaskIndex:7,isGenerated:!1,glyphTypes:["reality"],singleDesc:()=>`Увеличить степень Замедленного Времени в формуле расчёта уровня глифа на {value} (по умолчанию ^${format(1.3,1,1)})`,genericDesc:"Увеличить степень Замедленного Времени в формуле расчёта уровня глифа",shortDesc:"+{value} к степени ЗВ для уровня",effect:()=>.1,formatEffect:e=>format(e,2,2),combine:X.add},companiondescription:{id:"companiondescription",bitmaskIndex:8,isGenerated:!1,glyphTypes:["companion"],singleDesc:"Он ничего не делает, разве что сидит и мило улыбается вам, вежливо нашёптывает вам сны и замышляет кару для всех, кто против вас. Это единственный в своём роде глиф, который никогда вас не покинет.",totalDesc:"Счастье увеличено на {value}",shortDesc:"Не хочет обидеть вас",effect:()=>{if(Enslaved.isRunning)return 0;const e=Glyphs.active.countWhere((e=>"cursed"===(null===e||void 0===e?void 0:e.type)));return e>0?Math.pow(.2+.2*Math.random(),e):.4+.6*Math.random()},formatEffect:e=>formatPercents(e,2,2),combine:X.add,enabledInDoomed:!0},companionEP:{id:"companionEP",bitmaskIndex:9,isGenerated:!1,glyphTypes:["companion"],singleDesc:"Спасибо за вашу приверженность игре! Вы достигли {value} Очков Вечности на первой реальности.",shortDesc:"Очень, очень сильно любит вас",totalDesc:()=>Enslaved.isRunning||Glyphs.active.countWhere((e=>"cursed"===(null===e||void 0===e?void 0:e.type)))?"Помоги":"Ура!",effect:(e,t)=>Decimal.pow10(1e6*strengthToRarity(t)),formatEffect:e=>formatPostBreak(e,2),combine:X.multiplyDecimal,enabledInDoomed:!0}},K={power:{id:"power",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 0;const t=player.reality.glyphs.sac.power+(null!==e&&void 0!==e?e:0),i=Math.clampMax(t,GlyphSacrificeHandler.maxSacrificeForEffects),a=Math.log10(i+1)/Math.log10(GlyphSacrificeHandler.maxSacrificeForEffects);return Math.floor(750*Math.pow(a,1.2))},description:e=>{const t=GlyphSacrificeHandler.maxSacrificeForEffects,i=Math.pow(10,Math.pow((e+1)/750,1/1.2)*Math.log10(t))-1,a=e<750?` (следующая на ${format(i,2,2)})`:"";return`Наценка на Далёкие Галактики начинается на ${quantifyInt("галактика",e)} позже${a}`},cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},infinity:{id:"infinity",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 1;const t=player.reality.glyphs.sac.infinity+(null!==e&&void 0!==e?e:0),i=Math.clampMax(t,GlyphSacrificeHandler.maxSacrificeForEffects);return 1+Math.log10(1+Math.pow(i,.2)/100)},description:e=>`Множитель ${formatX(e,2,2)} ко множителю за покупку 8-го Измерения Бесконечности`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},time:{id:"time",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 1;const t=player.reality.glyphs.sac.time+(null!==e&&void 0!==e?e:0),i=Math.clampMax(t,GlyphSacrificeHandler.maxSacrificeForEffects);return Math.pow(1+Math.pow(i,.2)/100,2)},description:e=>`Множитель ${formatX(e,2,2)} ко множителю за покупку 8-го Измерения Времени`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},replication:{id:"replication",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 0;const t=player.reality.glyphs.sac.replication+(null!==e&&void 0!==e?e:0),i=Math.clampMax(t,GlyphSacrificeHandler.maxSacrificeForEffects),a=Math.log10(i+1)/Math.log10(GlyphSacrificeHandler.maxSacrificeForEffects);return Math.floor(1500*Math.pow(a,1.2))},description:e=>{const t=GlyphSacrificeHandler.maxSacrificeForEffects,i=Math.pow(10,Math.pow((e+1)/1500,1/1.2)*Math.log10(t))-1,a=e<1500?` (следующая на ${format(i,2,2)})`:"";return`Третья наценка на Галактики Репликанти начинается на ${quantifyInt("галактика",e)} позже${a}`},cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},dilation:{id:"dilation",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 1;const t=player.reality.glyphs.sac.dilation+(null!==e&&void 0!==e?e:0),i=Math.clampMax(t,GlyphSacrificeHandler.maxSacrificeForEffects),a=.32*Math.pow(Math.log10(i+1)/Math.log10(GlyphSacrificeHandler.maxSacrificeForEffects),.1);return Math.pow(Math.clampMin(i,1),a)},description:e=>`Множитель ${formatX(e,2,2)} к получению Тахионов`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects},effarig:{id:"effarig",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 0;const t=player.reality.glyphs.sac.effarig+(null!==e&&void 0!==e?e:0),i=Math.clampMax(t,1e70);return 2*Math.log10(i/1e20+1)},description:e=>`Увеличить редкость получаемых глифов на ${formatPercents(e/100,2)}`,cap:()=>1e70},reality:{id:"reality",effect:e=>{if(Pelle.isDisabled("glyphsac"))return 0;const t=player.reality.glyphs.sac.reality+(null!==e&&void 0!==e?e:0);return Math.clampMax(1+Math.sqrt(t)/15,100)},description:e=>`Множитель ${formatX(e,2,3)} к производству Кусков Памяти`,cap:()=>GlyphSacrificeHandler.maxSacrificeForEffects}},Q=e=>{e.cost=()=>e.initialCost*Math.pow(e.costMult,player.reality.imaginaryRebuyables[e.id]);const{effect:t}=e;return e.isDecimal?e.effect=()=>Decimal.pow(t,player.reality.imaginaryRebuyables[e.id]):e.effect=()=>t*player.reality.imaginaryRebuyables[e.id],e.formatEffect||(e.formatEffect=e=>`+${format(e,2,2)}`),e.formatCost=e=>format(e,2,0),e},J=[Q({name:"Временной Обостритель",id:1,initialCost:3,costMult:60,description:()=>`Увеличить множитель за покупку Улучшения Реальности "Временной Усилитель" на ${format(.15,2,2)}`,effect:.15}),Q({name:"Репликативный Обостритель",id:2,initialCost:4,costMult:60,description:()=>`Увеличить множитель за покупку Улучшения Реальности "Репликативный Усилитель" на ${format(.15,2,2)}`,effect:.15}),Q({name:"Вечный Обостритель",id:3,initialCost:1,costMult:40,description:()=>`Увеличить множитель за покупку Улучшения Реальности "Вечный Усилитель" на ${format(.4,2,2)}`,effect:.4}),Q({name:"Сверхсветовой Обостритель",id:4,initialCost:5,costMult:80,description:()=>`Увеличить множитель за покупку Улучшения Реальности "Сверхсветовой Усилитель" на ${format(.15,2,2)}`,effect:.15}),Q({name:"Безграничный Обостритель",id:5,initialCost:1,costMult:30,description:()=>`Увеличить множитель за покупку Улучшения Реальности "Безграничный Усилитель" на ${format(.6,2,2)}`,effect:.6}),Q({name:"Эллиптическая Материальность",id:6,initialCost:1e4,costMult:500,description:()=>`Множитель ${formatX(1e100)} к ограничению на количество Машин Реальности`,effect:1e100,formatEffect:e=>`${formatX(e)}`,isDecimal:!0}),Q({name:"Рунное Заверение",id:7,initialCost:2e5,costMult:500,description:()=>`Неустойчивость глифов начинается на ${formatInt(200)} уровней позже`,effect:200,formatEffect:e=>`на ${formatInt(e)} позже`}),Q({name:"Бесконечноугольник Лобачевского",id:8,initialCost:1e7,costMult:800,description:()=>`Множитель ${formatX(v.E100000)} к Измерениям Бесконечности`,effect:v.E100000,formatEffect:e=>`${formatX(e)}`,isDecimal:!0}),Q({name:"Космическая Нить",id:9,initialCost:1e9,costMult:1e3,description:()=>"Галактики сильнее",effect:.03,formatEffect:e=>`+${formatPercents(e)}`}),Q({name:"Энтропийное Сжатие",id:10,initialCost:8e9,costMult:2e3,description:()=>"Множитель к получению Сингулярностей",effect:1,formatEffect:e=>`${formatX(1+e,2)}`}),{name:"Подозрительность Интерференции",id:11,cost:5e7,requirement:()=>`${format(1e90)} Реликтовых Осколков\n      (у вас ${format(player.celestials.effarig.relicShards,2)})`,hasFailed:()=>!1,checkRequirement:()=>player.celestials.effarig.relicShards>=1e90,checkEvent:GAME_EVENT.REALITY_RESET_AFTER,description:"Множители Измерений Времени возведены в степень в зависимости от общего количества произведённой антиматерии",effect:()=>1+Math.log10(player.records.totalAntimatter.log10())/100,formatEffect:e=>`${formatPow(e,0,4)}`,isDisabledInDoomed:!0},{name:"Последствия Иллюзии",id:12,cost:5e7,requirement:()=>`Получите глиф уровня хотя бы ${formatInt(9e3)}, когда один из факторов уровня глифа имеет вес\n    ${formatPercents(1)}`,hasFailed:()=>!1,checkRequirement:()=>Object.values(player.celestials.effarig.glyphWeights).some((e=>100===e))&&gainedGlyphLevel().actualLevel>=9e3,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:()=>`Получать ${formatInt(2e4)} Расширений за каждый купленный уровень повторяемых Мнимых Улучшений`,effect:()=>2e4*ImaginaryUpgrades.totalRebuyables,formatEffect:e=>`${format(e,1)}`,isDisabledInDoomed:!0},{name:"Быстротечность Информации",id:13,cost:5e7,requirement:()=>`Сделайте так, чтобы при отсутствии ограничения вы могли бы получить ${format(Number.MAX_VALUE,2)}\n      Машин Реальности при завершении Реальности Безымянных`,hasFailed:()=>!Enslaved.isRunning,checkRequirement:()=>Enslaved.isRunning&&MachineHandler.uncappedRM.times(simulatedRealityCount(!1)+1).gte(Number.MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Множитель к ограничению на количество Мнимых Машин в зависимости от купленных Мнимых Улучшений",effect:()=>1+ImaginaryUpgrades.totalRebuyables/20+ImaginaryUpgrades.totalSinglePurchase/2,formatEffect:e=>`${formatX(e,2,1)}`,isDisabledInDoomed:!0},{name:"Восстановление Интервенции",id:14,cost:35e7,formatCost:e=>format(e,1),requirement:()=>`Сделайте скорость тика не менее ${format(Decimal.pow(10,75e9))} в 5-м Испытании Вечности`,hasFailed:()=>!1,checkRequirement:()=>EternityChallenge(5).isRunning&&Tickspeed.perSecond.exponent>=75e9,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Все множители за покупку измерений возведены в степень ${formatPow(1.5,0,1)}`,effect:1.5,isDisabledInDoomed:!0},{name:"Фальсификация Идеологии",id:15,cost:1e9,requirement:()=>`Достигните ${format(Decimal.pow(10,15e11))} антиматерии, не получив \n      ни одного 1-го Измерения Бесконечности в текущей реальности`,hasFailed:()=>player.requirementChecks.reality.maxID1.gt(0),checkRequirement:()=>player.requirementChecks.reality.maxID1.eq(0)&&player.antimatter.exponent>=15e11,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,description:"Разблокировать континуум, 1-е Измерение Тёмной Материи и Лайтелу, Небожителя Измерений"},{name:"Невесомый Импульс",id:16,cost:35e8,formatCost:e=>format(e,1),requirement:()=>"Дестабилизируйте Реальность Лайтелы дважды",hasFailed:()=>!1,checkRequirement:()=>Laitela.maxAllowedDimension<=6,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Разблокировать 2-е Измерение Тёмной Материи"},{name:"Хиральное Колебание",id:17,cost:6e9,requirement:()=>`Совершите сжатие не менее чем за ${formatInt(20)} Сингулярностей автоматически`,hasFailed:()=>!1,checkRequirement:()=>Singularity.singularitiesGained>=20&&Currency.darkEnergy.gte(Singularity.cap*SingularityMilestone.autoCondense.effectOrDefault(1/0)),checkEvent:GAME_EVENT.SINGULARITY_RESET_BEFORE,description:"Разблокировать 3-е Измерение Тёмной Материи"},{name:"Многомерная Симметрия",id:18,cost:15e9,formatCost:e=>format(e,1),requirement:()=>`Достигните ${formatInt(8e4)} галактик`,hasFailed:()=>!1,checkRequirement:()=>Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies>=8e4,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Разблокировать 4-е Измерение Тёмной Материи"},{name:"Детерминированная Радиация",id:19,cost:28e9,formatCost:e=>format(e,1),requirement:()=>`Сделайте значение континуума ускорителя не менее ${formatInt(385e4)}, имея не более\n      ${formatInt(8)} Исследований Времени на протяжении реальности`,hasFailed:()=>player.requirementChecks.reality.maxStudies>8,checkRequirement:()=>player.requirementChecks.reality.maxStudies<=8&&Tickspeed.continuumValue>=385e4,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,lockEvent:()=>`купить более ${formatInt(8)} Исследований Времени`,description:"Разблокировать аннигиляцию"},{name:"Вакуумное Ускорение",id:20,cost:3e12,requirement:()=>`Сделайте эффект Тёмной Материи не менее ${formatPercents(1)}`,hasFailed:()=>!1,checkRequirement:()=>Laitela.matterExtraPurchaseFactor>=2,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Разблокировать автоматику повторяемых Мнимых Улучшений.\n      Вы производите Мнимые Машины в ${formatInt(10)} раз быстрее`,effect:10,isDisabledInDoomed:!0},{name:"Экзистенциальное Удаление",id:21,cost:1e13,requirement:()=>`Достигните ${format(Decimal.pow(10,74e11))} антиматерии с континуумом, выключенным на протяжении реальности`,hasFailed:()=>!player.requirementChecks.reality.noContinuum,checkRequirement:()=>player.requirementChecks.reality.noContinuum&&Currency.antimatter.value.log10()>=74e11,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,lockEvent:"включить континуум",description:"Множитель к получению множителя аннигиляции в зависимости от количества Мнимых Машин",effect:()=>Math.clampMin(Math.pow(Math.log10(Currency.imaginaryMachines.value)-10,3),1),formatEffect:e=>`${formatX(e,2,1)}`,isDisabledInDoomed:!0},{name:"Полное Завершение",id:22,cost:15e13,formatCost:e=>format(e,1),requirement:()=>`Достигните ${format(Decimal.pow(10,15e10))} антиматерии в Реальности Эффарига, имея не менее\n      ${formatInt(4)} действующих Проклятых Глифов на протяжении реальности`,hasFailed:()=>!Effarig.isRunning||player.requirementChecks.reality.maxGlyphs>-10,checkRequirement:()=>Effarig.isRunning&&player.requirementChecks.reality.maxGlyphs<-10&&Currency.antimatter.value.exponent>=15e10,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Увеличить суммарную жетрвенную ценность глифов каждого типа до ограничения в ${format(1e100)}`,effect:1e100,isDisabledInDoomed:!0},{name:"Планарное Очищение",id:23,cost:6e14,requirement:()=>`Сделайте уровень получаемого глифа не менее ${formatInt(2e4)} в Реальности Ра, имея не более\n      ${formatInt(0)} действующих глифов на протяжении реальности`,hasFailed:()=>!Ra.isRunning||player.requirementChecks.reality.maxGlyphs>0,checkRequirement:()=>Ra.isRunning&&player.requirementChecks.reality.maxGlyphs<=0&&gainedGlyphLevel().actualLevel>=2e4,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>'Тессеракты дают множитель к эффекту Мнимого Улучшения "Последствия Иллюзии"',effect:()=>Math.floor(.25*Math.pow(Tesseracts.effectiveCount,2)),formatEffect:e=>`${formatX(e)}`,isDisabledInDoomed:!0},{name:"Абсолютное Аннулирование",id:24,cost:6e14,requirement:()=>`Достигните ${formatInt(13e3)} Галактик Антиматерии в Реальности Ра с Чёрной Дырой, интвертированной\n      на полную мощность на протяжении реальности`,hasFailed:()=>!Ra.isRunning||player.requirementChecks.reality.slowestBH>1e-300,checkRequirement:()=>Ra.isRunning&&player.requirementChecks.reality.slowestBH<=1e-300&&player.galaxies>=13e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,description:'Расширения Измерений от Мнимого Улучшения "Последствия Иллюзии" сильнее в зависимости от количества Сингулярностей',effect:()=>Decimal.pow(player.celestials.laitela.singularities,300),formatEffect:e=>`${formatX(e,2,1)}`,isDisabledInDoomed:!0},{name:"Вездесущее Уничтожение",id:25,cost:16e14,formatCost:e=>format(e,1),requirement:()=>"Разблокируйте реальность в полностью дестабилизированной Реальности Лайтелы,\n      имея не более одного действующего глифа без особого учёта Проклятых Глифов на протяжении реальности",hasFailed:()=>!Laitela.isRunning||0!==Laitela.maxAllowedDimension||Glyphs.activeWithoutCompanion.length>1,checkRequirement:()=>Laitela.isRunning&&0===Laitela.maxAllowedDimension&&Glyphs.activeWithoutCompanion.length<=1&&TimeStudy.reality.isBought,checkEvent:GAME_EVENT.GAME_TICK_AFTER,canLock:!0,lockEvent:"активировать ещё один глиф",description:"Разблокировать Пелля, Небожителя Антиматерии"}],Z=e=>{e.cost=()=>getHybridCostScaling(player.reality.rebuyables[e.id],1e30,e.initialCost,e.costMult,e.costMult/10,v.E309,1e3,e.initialCost*e.costMult);const{effect:t}=e;return e.effect=()=>Math.pow(t+ImaginaryUpgrade(e.id).effectOrDefault(0),player.reality.rebuyables[e.id]*getAdjustedGlyphEffect("realityrow1pow")),e.description=()=>e.textTemplate.replace("{value}",0===ImaginaryUpgrade(e.id).effectValue?formatInt(t):format(t+ImaginaryUpgrade(e.id).effectValue,2,2)),e.formatEffect=e=>formatX(e,2,0),e.formatCost=e=>format(e,2,0),e},ee=[Z({name:"Временной Усилитель",id:1,initialCost:1,costMult:30,textTemplate:"Множитель ×{value} к производству Замедленного Времени",effect:3}),Z({name:"Репликативный Усилитель",id:2,initialCost:1,costMult:30,textTemplate:"Множитель ×{value} к скорости репликации",effect:3}),Z({name:"Вечный Усилитель",id:3,initialCost:2,costMult:30,textTemplate:"Множитель ×{value} к получению вечностей",effect:3}),Z({name:"Сверхсветовой Усилитель",id:4,initialCost:2,costMult:30,textTemplate:"Множитель ×{value} к получению Тахионов",effect:3}),Z({name:"Безграничный Усилитель",id:5,initialCost:3,costMult:50,textTemplate:"Множитель ×{value} к получению бесконечностей",effect:5}),{name:"Космическое Дублирование",id:6,cost:15,requirement:"Совершите вечность, не получив ни одной Галактики Репликанти в текущей реальности",hasFailed:()=>!(player.requirementChecks.eternity.noRG&&player.requirementChecks.reality.noEternities),checkRequirement:()=>player.requirementChecks.eternity.noRG&&player.requirementChecks.reality.noEternities,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,canLock:!0,lockEvent:"получить Галактику Репликанти",description:"Множитель к скорости репликации в зависимости от количества Галактик Репликанти",effect:()=>1+Replicanti.galaxies.total/50,formatEffect:e=>formatX(e,2,2)},{name:"Бессчётное Построение",id:7,cost:15,requirement:"Совершите бесконечность, имея не более одной Галактики Антиматерии на протяжении реальности",hasFailed:()=>!(player.galaxies<=1&&player.requirementChecks.reality.noInfinities),checkRequirement:()=>player.galaxies<=1&&player.requirementChecks.reality.noInfinities,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,canLock:!0,lockEvent:"получить вторую Галактику Антиматерии",description:"Множитель к получению бесконечностей в зависимости от количества Галактик Антиматерии",effect:()=>1+player.galaxies/30,formatEffect:e=>formatX(e,2,2)},{name:"Парадоксальное Приобретение",id:8,cost:15,requirement:"Совершите вечность без достижений, автоматически восстановленных в текущей реальности",hasFailed:()=>player.reality.gainedAutoAchievements,checkRequirement:()=>!player.reality.gainedAutoAchievements,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,canLock:!0,description:"Множитель достижений влияет на получение Тахионов с ослабленным эффектом",effect:()=>Math.sqrt(Achievements.power),formatEffect:e=>formatX(e,2,2)},{name:"Лингвистическое Распространение",id:9,cost:15,requirement:()=>`Получите не менее ${format(v.E4000)} Очков Вечности на вечности, имея \n      глиф уровня хотя бы ${formatInt(3)}, который является единственным действующим глифом`,hasFailed:()=>{const e=Glyphs.activeWithoutCompanion.length>1||1===Glyphs.activeWithoutCompanion.length&&Glyphs.activeWithoutCompanion[0].level<3,t=Glyphs.inventory.countWhere((e=>e&&e.level>=3))>0;return e||0===Glyphs.activeWithoutCompanion.length&&!t},checkRequirement:()=>Currency.eternityPoints.exponent>=4e3&&1===Glyphs.activeWithoutCompanion.length&&Glyphs.activeWithoutCompanion[0].level>=3,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,description:"Разблокировать дополнительный слот для глифов",effect:()=>1},{name:"Экзистенциальное Продление",id:10,cost:15,requirement:()=>`Совершите первую вечность в текущей реальности, имея не менее ${formatPostBreak(v.E400)} Очков Бесконечности`,hasFailed:()=>!player.requirementChecks.reality.noEternities,checkRequirement:()=>Currency.infinityPoints.exponent>=400&&player.requirementChecks.reality.noEternities,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,canLock:!0,lockEvent:"совершить вечность",bypassLock:()=>Currency.infinityPoints.exponent>=400,description:()=>`Начинать со ${formatInt(100)} вечностями`,automatorPoints:15,shortDescription:()=>`Начинать со ${formatInt(100)} вечностями`,effect:()=>100},{name:"Безграничный Поток",id:11,cost:50,requirement:()=>`${format(Currency.infinitiesBanked.value,2)}/${format(v.E12)} сохранённых бесконечностей`,checkRequirement:()=>Currency.infinitiesBanked.exponent>=12,checkEvent:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.REALITY_FIRST_UNLOCKED],description:()=>`Ежесекундно вы получаете ${formatPercents(.1)} от количества бесконечностей, которое вы могли бы получить при Большом Сжатии`,automatorPoints:5,shortDescription:()=>"Производство бесконечностей",effect:()=>gainedInfinities().times(.1),formatEffect:e=>`${format(e)} в секунду`},{name:"Знающее Бытие",id:12,cost:50,requirement:()=>`Получите не менее ${format(v.E70)} Очков Вечности на вечности без выполнений 1-го Испытания Вечности`,hasFailed:()=>0!==EternityChallenge(1).completions,checkRequirement:()=>Currency.eternityPoints.exponent>=70&&0===EternityChallenge(1).completions,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,lockEvent:"выполнить 1-е Испытание Вечности",description:"Множитель к получению Очков Вечности в зависимости от количества реальностей и Теорем Времени",effect:()=>Currency.timeTheorems.value.minus(v.E3).clampMin(2).pow(Math.log2(Math.min(Currency.realities.value,1e4))).clampMin(1),formatEffect:e=>formatX(e,2,2)},{name:"Телемеханический Процесс",id:13,cost:50,requirement:()=>`Получите не менее ${format(v.E4000)} Очков Вечности на вечности без Измерений Времени с 5-го по 8-е`,hasFailed:()=>!Array.range(5,4).every((e=>TimeDimension(e).amount.equals(0))),checkRequirement:()=>Currency.eternityPoints.exponent>=4e3&&Array.range(5,4).every((e=>TimeDimension(e).amount.equals(0))),checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,lockEvent:"купить это Измерение Времени",description:"Разблокировать два новых режима автоматики вечности и автоматику Измерений Времени и упятерителя ОВ",automatorPoints:10,shortDescription:()=>"Автоматика ИВ и упятерителя ОВ и улучшенная автоматика вечности"},{name:"Вечный Поток",id:14,cost:50,requirement:()=>`${format(Currency.eternities.value,2)}/${format(1e7)} вечностей`,checkRequirement:()=>Currency.eternities.gte(1e7),checkEvent:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.REALITY_FIRST_UNLOCKED],description:"Ежесекундно вы получаете столько вечностей, сколько у вас реальностей",automatorPoints:5,shortDescription:()=>"Производство вечностей",effect:()=>Currency.realities.value*Ra.unlocks.continuousTTBoost.effects.eternity.effectOrDefault(1),formatEffect:e=>`${format(e/Ra.unlocks.continuousTTBoost.effects.eternity.effectOrDefault(1))} в секунду`},{name:"Парадоксальное Время",id:15,cost:50,requirement:()=>`Достигните ${format(v.E10)} Очков Вечности без упятерителей ОВ`,hasFailed:()=>0!==player.epmultUpgrades,checkRequirement:()=>Currency.eternityPoints.exponent>=10&&0===player.epmultUpgrades,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,canLock:!0,lockEvent:"купить упятеритель ОВ",description:"Множитель к получению Тахионов в зависимости от количества упятерителей ОВ",effect:()=>Math.max(Math.sqrt(Decimal.log10(EternityUpgrade.epMult.effectValue))/9,1),formatEffect:e=>formatX(e,2,2)},{name:"Неравенство Редкости",id:16,cost:1500,requirement:()=>`Совершите реальность ровно с ${formatInt(4)} действующими глифами Необычной или более высокой редкости\n      (у вас ${formatInt(Glyphs.activeWithoutCompanion.countWhere((e=>e&&e.strength>=1.5)))})`,hasFailed:()=>{const e=Glyphs.inventory.countWhere((e=>e&&e.strength>=1.5)),t=Glyphs.activeWithoutCompanion.countWhere((e=>e.strength>=1.5)),i=Glyphs.activeSlotCount-Glyphs.activeList.length;return t+Math.min(e,i)<4||t>4},checkRequirement:()=>4===Glyphs.activeWithoutCompanion.countWhere((e=>e.strength>=1.5)),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Улучшить формулу редкости получаемых глифов",effect:1.3,formatCost:e=>format(e,1,0)},{name:"Двойственность Силы",id:17,cost:1500,requirement:()=>`Совершите реальность ровно с ${formatInt(4)} действующими глифами, имеющими не менее чем по ${formatInt(2)} эффекта\n      (у вас ${formatInt(Glyphs.activeWithoutCompanion.countWhere((e=>e&&countValuesFromBitmask(e.effects)>=2)))})`,hasFailed:()=>{const e=Glyphs.inventory.countWhere((e=>e&&countValuesFromBitmask(e.effects)>=2)),t=Glyphs.activeWithoutCompanion.countWhere((e=>countValuesFromBitmask(e.effects)>=2)),i=Glyphs.activeSlotCount-Glyphs.activeList.length;return t+Math.min(e,i)<4||t>4},checkRequirement:()=>4===Glyphs.activeWithoutCompanion.countWhere((e=>countValuesFromBitmask(e.effects)>=2)),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:()=>`Каждый получаемый глиф с вероятностью ${formatPercents(.5)} имеет на один эффект больше`,effect:.5,formatCost:e=>format(e,1,0)},{name:"Мера Времени",id:18,cost:1500,requirement:()=>`Совершите реальность ровно с ${formatInt(4)} действующими глифами уровня хотя бы ${formatInt(10)}\n      (у вас ${formatInt(Glyphs.activeWithoutCompanion.countWhere((e=>e&&e.level>=10)))})`,hasFailed:()=>{const e=Glyphs.inventory.countWhere((e=>e&&e.level>=10)),t=Glyphs.activeWithoutCompanion.countWhere((e=>e.level>=10)),i=Glyphs.activeSlotCount-Glyphs.activeList.length;return t+Math.min(e,i)<4||t>4},checkRequirement:()=>4===Glyphs.activeWithoutCompanion.countWhere((e=>e.level>=10)),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Разблокировать новый фактор уровня глифа: количество вечностей",effect:()=>Math.max(.45*Math.sqrt(Currency.eternities.value.plus(1).log10()),1),formatCost:e=>format(e,1,0)},{name:"Амбиция Мощности",id:19,cost:1500,requirement:()=>`Получите ${formatInt(30)} глифов\n      (у вас ${formatInt(Glyphs.allGlyphs.countWhere((e=>"companion"!==e.type)))})`,hasFailed:()=>Glyphs.allGlyphs.countWhere((e=>"companion"!==e.type))<30,checkRequirement:()=>Glyphs.allGlyphs.countWhere((e=>"companion"!==e.type))>=30,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Разблокировать Пожертвование Глифов",formatCost:e=>format(e,1,0)},{name:"Парность Сингулярности",id:20,cost:1500,requirement:()=>`Проведите в игре ${formatInt(100)} дней после разблокировки Чёрной Дыры\n      (прошло ${Time.timeSinceBlackHole.toStringShort(!1)})`,hasFailed:()=>!BlackHole(1).isUnlocked&&Currency.realityMachines.lt(100),checkRequirement:()=>Time.timeSinceBlackHole.totalDays>=100&&BlackHole(1).isUnlocked,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Разблокировать 2-ю Чёрную Дыру",automatorPoints:10,shortDescription:()=>"2-я Чёрная Дыра",formatCost:e=>format(e,1,0)},{name:"Космический Конгломерат",id:21,cost:1e5,requirement:()=>`${formatInt(Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies)}/${formatInt(2800)} галактик`,checkRequirement:()=>Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies>=2800,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:()=>`Отсрочить наценку на Сверхдалёкие Галактики до ${formatInt(1e5)} Галактик Антиматерии`,effect:1e5},{name:"Временная Трансцендентность",id:22,cost:1e5,requirement:()=>`${format(Currency.timeShards.value,1)}/${format(v.E28000)} Осколков Времени`,checkRequirement:()=>Currency.timeShards.exponent>=28e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,description:"Множитель к Измерениям Времени в зависимости от длительности текущей реальности",effect:()=>Decimal.pow10(Math.pow(1+2*Math.log10(Time.thisReality.totalDays+1),1.6)),formatEffect:e=>formatX(e,2,2)},{name:"Репликативная Быстрота",id:23,cost:1e5,requirement:()=>`Совершите реальность за ${formatInt(15)} минут или быстрее\n      (рекорд: ${Time.bestReality.toStringShort()})`,hasFailed:()=>Time.thisReality.totalMinutes>=15,checkRequirement:()=>Time.thisReality.totalMinutes<15,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Множитель к скорости репликации в зависимости от рекордного времени реальности",effect:()=>15/Math.clamp(Time.bestReality.totalMinutes,1/12,15),cap:180,formatEffect:e=>formatX(e,2,2)},{name:"Синтетический Символизм",id:24,cost:1e5,requirement:()=>`Получите не менее ${formatInt(5e3)} Машин Реальности на реальности без действующих глифов`,hasFailed:()=>Glyphs.activeWithoutCompanion.length>0,checkRequirement:()=>MachineHandler.gainedRealityMachines.gte(5e3)&&0===Glyphs.activeWithoutCompanion.length,canLock:!0,lockEvent:"активировать глиф",checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,description:"Разблокировать дополнительный слот для глифов",effect:()=>1},{name:"Беспечное Существование",id:25,cost:1e5,requirement:()=>`Достигните ${format(v.E11111)} ОВ (рекорд: ${format(player.records.bestReality.bestEP,2)} ОВ)`,checkRequirement:()=>player.records.bestReality.bestEP.exponent>=11111,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,description:"Разблокировать автоматику реальности и команду Автоматизатора для совершения реальности",automatorPoints:100,shortDescription:()=>"Автоматика реальности"}],te={automator:j,cosmeticGlyphs:D,glyphCosmeticSets:W,glyphEffects:z,glyphSacrifice:K,glyphTypes:M,imaginaryUpgrades:J,perks:U,perkConnections:G,upgrades:ee},ie={DIMENSION(e,t){const i=null!==t&&void 0!==t?t:"";switch(e){case"AD":return{symbol:`<b>Ω${i}</b>`,color:"var(--color-antimatter)"};case"ID":return{symbol:`<b>∞${i}</b>`,color:"var(--color-infinity)"};case"TD":return{symbol:`<b>Δ${i}</b>`,color:"var(--color-eternity)"};default:throw new Error("Unrecognized dimension type in multiplier tab icons")}},PURCHASE(e,t){const i=`<i class="fas fa-arrow-up-right-dots" />${null!==t&&void 0!==t?t:""}`;switch(e){case"AD":return{symbol:i,color:"var(--color-antimatter)"};case"ID":return{symbol:i,color:"var(--color-infinity)"};case"TD":return{symbol:i,color:"var(--color-eternity)"};case"baseID":return{symbol:'<i class="fas fa-arrows-up-to-line" />',color:"var(--color-infinity)"};case"tesseractID":return{symbol:'<i class="fas fa-up-right-and-down-left-from-center" />',color:"var(--color-enslaved--base)"};default:throw new Error("Unrecognized purchase type in multiplier tab icons")}},CHALLENGE(e,t){const i=`<i class="fas fa-arrow-down-wide-short" />${null!==t&&void 0!==t?t:""}`;switch(e){case"infinity":return{symbol:`<b>∞</b>${i}`,color:"var(--color-infinity)"};case"eternity":return{symbol:`<b>Δ</b>${i}`,color:"var(--color-eternity)"};default:throw new Error("Unrecognized challenge type in multiplier tab icons")}},SACRIFICE(e){const t='<i class="fas fa-turn-down" />';switch(e){case"antimatter":return{symbol:`<b>Ω</b>${t}`,color:"var(--color-antimatter)"};case"infinity":return{symbol:`<b>∞</b>${t}`,color:"var(--color-infinity)"};case"time":return{symbol:`<b>Δ</b>${t}`,color:"var(--color-eternity)"};case"dilation":return{symbol:`<b>Ψ</b>${t}`,color:"var(--color-dilation)",textColor:"black"};default:throw new Error("Unrecognized sacrifice type in multiplier tab icons")}},UPGRADE(e){const t='<i class="fas fa-arrow-up" />';switch(e){case"infinity":return{symbol:`<b>∞</b>${t}`,color:"var(--color-infinity)"};case"eternity":return{symbol:`<b>Δ</b>${t}`,color:"var(--color-eternity)"};case"dilation":return{symbol:`<b>Ψ</b>${t}`,color:"var(--color-dilation)"};case"reality":return{symbol:`<b>Ϟ</b>${t}`,color:"var(--color-reality)"};case"imaginary":return{symbol:`<i class="far fa-lightbulb" />${t}`,color:"var(--color-ra--base)"};default:throw new Error("Unrecognized upgrade type in multiplier tab icons")}},CONVERT_FROM(e){return"AM"===e?{symbol:"<i class='fas fa-atom' /><i class='fa-solid fa-arrow-right-arrow-left' />",color:"var(--color-antimatter)"}:"IP"===e?{symbol:"<b>∞</b><i class='fa-solid fa-arrow-right-arrow-left' />",color:"var(--color-infinity)"}:{}},DIVISOR(e){let t;return"IP"===e&&(t="var(--color-infinity)"),"EP"===e&&(t="var(--color-eternity)"),{symbol:"<i class='fas fa-calculator' />",color:t}},ANTIMATTER:{symbol:"<i class='fas fa-atom' />",color:"var(--color-antimatter)"},DIMBOOST:{symbol:'<i class="fas fa-angles-up" />',color:te.glyphTypes.power.color},TICKSPEED:{symbol:'<i class="fas fa-clock" />',color:"var(--color-eternity)"},GALAXY:{symbol:'<i class="fas fa-bahai" />',color:"var(--color-eternity)"},ACHIEVEMENT:{symbol:'<i class="fas fa-trophy" />',color:"var(--color-v--base)",textColor:"black"},BREAK_INFINITY:{symbol:"<b>∝</b>",color:"var(--color-infinity)",textColor:"black"},INFINITY_POWER:{symbol:'<b>∞</b><i class="fas fa-arrows-turn-right" />',color:"var(--color-infinity)",textColor:"black"},IPOW_CONVERSION:{symbol:'<i class="fas fa-arrow-down-up-across-line" />',color:"var(--color-infinity)",textColor:"black"},TIME_STUDY:{symbol:'<i class="fas fa-book" />',color:"var(--color-eternity)"},TACHYON_PARTICLES:{symbol:'<i class="fas fa-meteor" />',color:"var(--color-dilation)"},GENERIC_GLYPH:{symbol:'<i class="fas fa-clone" />',color:"var(--color-reality)"},SPECIFIC_GLYPH(e){return{symbol:`<b>${te.glyphTypes[e].symbol}</b>`,color:te.glyphTypes[e].color}},BLACK_HOLE:{symbol:'<i class="fas fa-circle" />',color:"var(--color-reality)"},GAMESPEED:{symbol:'<i class="fas fa-clock" />',color:"var(--color-reality)"},GENERIC_TERESA:{symbol:"<b>Ϟ</b>",color:"var(--color-teresa--base)"},GENERIC_ENSLAVED:{symbol:'<div class="o-tab-btn--cel3"></div>',color:"var(--color-enslaved--base)"},GENERIC_V:{symbol:"<b>⌬</b>",color:"var(--color-v--base)",textColor:"black"},GENERIC_RA:{symbol:'<i class="fas fa-sun" />',color:"var(--color-ra--base)"},ALCHEMY:{symbol:'<i class="fas fa-vial" />',color:"var(--color-ra-pet--effarig)"},BH_PULSE:{symbol:'<i class="fas fa-expand-arrows-alt" />',color:"var(--color-reality)"},GENERIC_LAITELA:{symbol:"<b>ᛝ</b>",color:"var(--color-laitela--base)",textColor:"var(--color-laitela--accent)"},SINGULARITY:{symbol:'<i class="fas fa-arrows-up-down-left-right" />',color:"var(--color-laitela--base)",textColor:"var(--color-laitela--accent)"},PELLE:{symbol:"<b>♅</b>",color:"var(--color-pelle--base)"},IAP:{symbol:'<i class="fas fa-coins" />',color:"var(--color-accent)"}},ae={activeDimCount(e){switch(e){case"AD":return Math.clamp(AntimatterDimensions.all.filter((e=>e.isProducing)).length,1,EternityChallenge(7).isRunning?7:8);case"ID":return InfinityDimensions.all.filter((e=>e.isProducing)).length;case"TD":return TimeDimensions.all.filter((e=>e.isProducing)).length;default:throw new Error("Unrecognized Dimension type in Multiplier tab GameDB entry")}},globalGalaxyMult(){return Effects.product(InfinityUpgrade.galaxyBoost,InfinityUpgrade.galaxyBoost.chargedEffect,BreakInfinityUpgrade.galaxyBoost,TimeStudy(212),TimeStudy(232),Achievement(86),Achievement(178),InfinityChallenge(5).reward,PelleUpgrade.galaxyPower,PelleRifts.decay.milestones[1])*Pelle.specialGlyphEffect.power},decomposeTickspeed(){let e=effectiveBaseGalaxies();const t=this.globalGalaxyMult();let i,a;if(e<3){let n=1.1245;1===player.galaxies&&(n=1.11888888),2===player.galaxies&&(n=1.11267177),NormalChallenge(5).isRunning&&(n=1.08,1===player.galaxies&&(n=1.07632),2===player.galaxies&&(n=1.072)),n/=.931225;const s=Math.log10(n),r=.02*t;e*=Pelle.specialGlyphEffect.power,a=Tickspeed.totalUpgrades*s,i=-Math.log10(Math.max(.01,1/n-e*r))/s}else{e-=2,e*=t,e*=getAdjustedGlyphEffect("realitygalaxies")*(1+ImaginaryUpgrade(9).effectOrDefault(0)),e*=Pelle.specialGlyphEffect.power;const n=.931225/(NormalChallenge(5).isRunning?.83:.8),s=Math.log10(n),r=-v.D0_965.log10();a=Tickspeed.totalUpgrades*s,i=1+e/s*r}i*=3;const n=v.D1.dividedByEffectsOf(Achievement(36),Achievement(45),Achievement(66),Achievement(83));let s=n.log10()/Tickspeed.perSecond.log10();n.eq(1)&&(s=0),0===e&&(i=0);let r=(1-s)/(a+i);return 0===Tickspeed.totalUpgrades&&(r=0),{base:s,tickspeed:a*r,galaxies:i*r}},achievementDimCheck(e,t){switch(e){case 23:return"AD8"===t;case 28:case 31:case 68:case 71:return"AD1"===t;case 94:return"ID1"===t;case 34:return"AD"===t.substr(0,2)&&8!==Number(t.charAt(2));case 64:return"AD"===t.substr(0,2)&&Number(t.charAt(2))<=4;default:return!0}},timeStudyDimCheck(e,t){switch(e){case 11:return"TD1"===t;case 71:return"AD"===t.substr(0,2)&&8!==Number(t.charAt(2));case 72:return"ID4"===t;case 73:return"TD3"===t;case 214:return"AD8"===t;case 227:return"TD4"===t;case 234:return"AD1"===t;default:return!0}},ICDimCheck(e,t){switch(e){case 1:case 6:return"ID"===t.substr(0,2);case 3:case 4:return"AD"===t.substr(0,2);case 8:return"AD"===t.substr(0,2)&&Number(t.charAt(2))>1&&Number(t.charAt(2))<8;default:return!1}},ECDimCheck(e,t){switch(e){case 1:case 10:return"TD"===t.substr(0,2);case 2:return"ID1"===t;case 4:case 9:return"ID"===t.substr(0,2);case 7:return"ID8"===t;default:return!1}},blackHoleSpeeds(){const e=BlackHoles.list.filter((e=>e.isUnlocked)).map((e=>e.isActive?e.power:1)).reduce(((e,t)=>e*t),1),t=BlackHole(1),i=BlackHole(2),a=1+(t.isUnlocked?t.dutyCycle*(t.power-1):0)+(i.isUnlocked?t.dutyCycle*i.dutyCycle*t.power*(i.power-1):0);return{current:e,average:a}},pluralizeDimensions(e){return 1===e?"Dimension ":"Dimensions"},evenDimNC12Production(){const e=e=>[2,4,6].includes(e)?.1*(8-e):0,t=Math.clampMin(2*Math.floor(ae.activeDimCount("AD")/2),2);return AntimatterDimensions.all.filter((e=>e.isProducing&&e.tier%2===0)).map((t=>t.multiplier.times(t.amount.pow(e(t.tier))))).reduce(((e,t)=>e.times(t)),v.D1).times(AntimatterDimension(t).totalAmount)},oddDimNC12Production(){const e=Math.clampMin(2*Math.floor(ae.activeDimCount("AD")/2-.5)+1,1);return AntimatterDimensions.all.filter((e=>e.isProducing&&e.tier%2===1)).map((e=>e.multiplier)).reduce(((e,t)=>e.times(t)),v.D1).times(AntimatterDimension(e).totalAmount)},actualNC12Production(){return Decimal.max(this.evenDimNC12Production(),this.oddDimNC12Production())},multInNC12(e){const t=e=>[2,4,6].includes(e)?.1*(8-e):0,i=AntimatterDimension(e);return i.isProducing?i.multiplier.times(i.totalAmount.pow(t(e))):v.D1},isNC12ProducingEven(){return this.evenDimNC12Production().gt(this.oddDimNC12Production())}},ne={total:{name:"Производство антиматерии",displayOverride:()=>`${format(Currency.antimatter.productionPerSecond,2,2)}/с`,multValue:()=>new Decimal(Currency.antimatter.productionPerSecond).clampMin(1),isActive:!0,dilationEffect:()=>getAdjustedGlyphEffect("effarigantimatter"),overlay:["<i class='fas fa-atom' />"]}};class se{constructor(e){this._player=e}get isInfinityUnlocked(){const e=this._player.infinitied?this._player.infinitied:this._player.infinities;return new Decimal(e).gt(0)||this.isEternityUnlocked}get isEternityUnlocked(){return new Decimal(this._player.eternities).gt(0)||this.isRealityUnlocked}get isRealityUnlocked(){return this._player.realities>0}get hasFullCompletion(){var e;return(null===(e=this._player.records)||void 0===e?void 0:e.fullGameCompletions)>0}static get current(){return new se(player)}static of(e){return new se(e)}static infinityUnlocked(){return se.current.isInfinityUnlocked}static hasBroken(){return player.break||this.eternityUnlocked()||this.realityUnlocked()}static replicantiUnlocked(){return Replicanti.areUnlocked||this.eternityUnlocked()}static eternityUnlocked(){return se.current.isEternityUnlocked}static dilationUnlocked(){return TimeStudy.dilation.isBought}static realityUnlocked(){return se.current.isRealityUnlocked}static seenAlteredSpeed(){const e=EternityChallenge(12);return this.realityUnlocked()||e.completions>0||e.isRunning}static challengeCompleted(){return NormalChallenges.all.slice(1).some((e=>e.isCompleted))}static infinityChallengeCompleted(){return InfinityChallenges.all.some((e=>e.isCompleted))}}const re={total:{name:e=>e?`Множитель ИА${e}`:"Производство ИА",displayOverride:e=>{if(e){const t=NormalChallenge(12).isRunning?ae.multInNC12(e):AntimatterDimension(e).multiplier;return formatX(t,2,2)}const t=EternityChallenge(7).isRunning?7:ae.activeDimCount("AD");return NormalChallenge(12).isRunning?`${format(ae.actualNC12Production(),2)}`:`${format(AntimatterDimensions.all.filter((e=>e.isProducing)).map((e=>e.multiplier)).reduce(((e,t)=>e.times(t)),v.D1).times(AntimatterDimension(t).totalAmount),2)}`},multValue:e=>{if(NormalChallenge(12).isRunning){const t=ae.actualNC12Production();return e?(ae.isNC12ProducingEven()?e%2===0:e%2===1)?ae.multInNC12(e):v.D1:t.eq(0)?1:t}const t=e?AntimatterDimension(e).multiplier:AntimatterDimensions.all.filter((e=>e.isProducing)).map((e=>e.multiplier)).reduce(((e,t)=>e.times(t)),v.D1),i=AntimatterDimension(EternityChallenge(7).isRunning?7:ae.activeDimCount("AD")).totalAmount;return t.times(i).clampMin(1)},isActive:e=>!e||e<=ae.activeDimCount("AD"),dilationEffect:()=>{const e=player.dilation.active||Enslaved.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1;return e*(Effarig.isRunning?Effarig.multDilation:1)},overlay:["Ω","<i class='fas fa-cube' />"],icon:e=>ie.DIMENSION("AD",e)},purchase:{name:e=>e?`Покупки ИА${e}`:"Покупки ИА",multValue:e=>{const t=e=>Laitela.continuumActive?AntimatterDimension(e).continuumValue:Math.floor(AntimatterDimension(e).bought/10);return e?Decimal.pow(AntimatterDimensions.buyTenMultiplier,t(e)):AntimatterDimensions.all.filter((e=>e.isProducing)).map((e=>Decimal.pow(AntimatterDimensions.buyTenMultiplier,t(e.tier)))).reduce(((e,t)=>e.times(t)),v.D1)},isActive:()=>!EternityChallenge(11).isRunning,icon:e=>ie.PURCHASE("AD",e)},highestDim:{name:"Количество измерений высшего уровня",displayOverride:()=>{const e=EternityChallenge(7).isRunning?7:ae.activeDimCount("AD");return`${format(AntimatterDimension(e).totalAmount,2)} ИА${e}`},multValue:()=>{const e=EternityChallenge(7).isRunning?7:ae.activeDimCount("AD");return AntimatterDimension(e).totalAmount},isActive:()=>AntimatterDimension(1).isProducing,icon:ie.DIMENSION("AD")},dimboost:{name:e=>e?`Множитель к ИА${e} от Расширений Измерений`:"Расширения Измерений",multValue:e=>e?DimBoost.multiplierToNDTier(e):AntimatterDimensions.all.filter((e=>e.isProducing)).map((e=>DimBoost.multiplierToNDTier(e.tier))).reduce(((e,t)=>e.times(t)),v.D1),isActive:!0,icon:ie.DIMBOOST},sacrifice:{name:"Пожертвование Измерений",multValue:e=>e&&8!==e?v.D1:Sacrifice.totalBoost,isActive:e=>(!e||8===e)&&Sacrifice.totalBoost.gt(1)&&!EternityChallenge(11).isRunning,icon:ie.SACRIFICE("antimatter")},achievementMult:{name:"Достижения",multValue:e=>Decimal.pow(Achievements.power,e?1:ae.activeDimCount("AD")),isActive:()=>!Pelle.isDoomed&&!EternityChallenge(11).isRunning,icon:ie.ACHIEVEMENT},achievement:{name:"Награды за достижения",multValue:e=>{const t=v.D1.timesEffectsOf(Achievement(48),Achievement(56),Achievement(65),Achievement(72),Achievement(73),Achievement(74),Achievement(76),Achievement(84),Achievement(91),Achievement(92)),i=Array.repeat(v.D1,9);for(let n=1;n<=8;n++)1===n&&(i[n]=i[n].timesEffectsOf(Achievement(28),Achievement(31),Achievement(68),Achievement(71))),i[n]=i[n].timesEffectsOf(8===n?Achievement(23):null,n<8?Achievement(34):null,n<=4?Achievement(64):null),Achievement(43).isUnlocked&&(i[n]=i[n].times(1+n/100));if(e)return t.times(i[e]);let a=v.D1;for(let n=1;n<=ae.activeDimCount("AD");n++)a=a.times(i[n]).times(t);return a},powValue:()=>Achievement(183).effectOrDefault(1),isActive:()=>!EternityChallenge(11).isRunning,icon:ie.ACHIEVEMENT,isNotARealThing:!0},infinityUpgrade:{name:"Улучшения Бесконечности",multValue:e=>{const t=v.D1.timesEffectsOf(InfinityUpgrade.totalTimeMult,InfinityUpgrade.thisInfinityTimeMult),i=Array.repeat(v.D1,9);for(let n=1;n<=8;n++)1===n&&(i[n]=i[n].timesEffectsOf(InfinityUpgrade.unspentIPMult,InfinityUpgrade.unspentIPMult.chargedEffect)),i[n]=i[n].timesEffectsOf(AntimatterDimension(n).infinityUpgrade);if(e)return t.times(i[e]);let a=v.D1;for(let n=1;n<=ae.activeDimCount("AD");n++)a=a.times(i[n]).times(t);return a},powValue:e=>{const t=InfinityUpgrade.totalTimeMult.chargedEffect.effectOrDefault(1)*InfinityUpgrade.thisInfinityTimeMult.chargedEffect.effectOrDefault(1),i=Array.repeat(1,9);for(let a=1;a<=8;a++)i[a]=AntimatterDimension(a).infinityUpgrade.chargedEffect.effectOrDefault(1);return e?t*i[e]:t*Math.exp(i.slice(1).map((e=>Math.log(e))).sum()/ae.activeDimCount("AD"))},isActive:()=>se.infinityUnlocked()&&!EternityChallenge(11).isRunning,icon:ie.UPGRADE("infinity")},breakInfinityUpgrade:{name:"Улучшения Преодоления",multValue:e=>{const t=v.D1.timesEffectsOf(BreakInfinityUpgrade.totalAMMult,BreakInfinityUpgrade.currentAMMult,BreakInfinityUpgrade.achievementMult,BreakInfinityUpgrade.slowestChallengeMult,BreakInfinityUpgrade.infinitiedMult);return Decimal.pow(t,e?1:ae.activeDimCount("AD"))},isActive:()=>player.break&&!EternityChallenge(11).isRunning,icon:ie.BREAK_INFINITY},infinityPower:{name:"Сила Бесконечности",fakeValue:()=>Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate),multValue:e=>{const t=Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate).max(1);return Decimal.pow(t,e?1:ae.activeDimCount("AD"))},isActive:()=>Currency.infinityPower.value.gt(1)&&!EternityChallenge(9).isRunning,icon:ie.INFINITY_POWER},infinityChallenge:{name:"Испытания Бесконечности",multValue:e=>{const t=v.D1.timesEffectsOf(InfinityChallenge(3),InfinityChallenge(3).reward),i=Array.repeat(v.D1,9);for(let n=1;n<=8;n++)i[n]=i[n].timesEffectsOf(n>1&&n<8?InfinityChallenge(8).reward:null);if(e)return t.times(i[e]);let a=v.D1;for(let n=1;n<=ae.activeDimCount("AD");n++)a=a.times(i[n]).times(t);return a},powValue:()=>InfinityChallenge(4).reward.effectOrDefault(1),isActive:()=>player.break&&!EternityChallenge(11).isRunning,icon:ie.CHALLENGE("infinity"),isNotARealThing:!0},timeStudy:{name:"Исследования Времени",multValue:e=>{const t=v.D1.timesEffectsOf(TimeStudy(91),TimeStudy(101),TimeStudy(161),TimeStudy(193)),i=Array.repeat(v.D1,9);for(let n=1;n<=8;n++){const e=v.D1.timesEffectsOf(AntimatterDimension(n).infinityUpgrade,BreakInfinityUpgrade.infinitiedMult);i[n]=i[n].times(e.pow(TimeStudy(31).effectOrDefault(1)-1)),i[n]=i[n].timesEffectsOf(n<8?TimeStudy(71):null,8===n?TimeStudy(214):null,1===n?TimeStudy(234):null)}if(e)return t.times(i[e]);let a=v.D1;for(let n=1;n<=ae.activeDimCount("AD");n++)a=a.times(i[n]).times(t);return a},isActive:()=>se.eternityUnlocked()&&!EternityChallenge(11).isRunning,icon:ie.TIME_STUDY},eternityChallenge:{name:"Испытания Вечности",multValue:e=>Decimal.pow(EternityChallenge(10).effectValue,e?1:ae.activeDimCount("AD")),isActive:()=>EternityChallenge(10).isRunning,icon:ie.CHALLENGE("eternity")},glyph:{name:"Глифы",multValue:e=>{const t=getAdjustedGlyphEffect("powermult");return Decimal.pow(t,e?1:ae.activeDimCount("AD"))},powValue:()=>{const e=getAdjustedGlyphEffect("powerpow")*getAdjustedGlyphEffect("effarigdimensions");return e*(player.dilation.active?getAdjustedGlyphEffect("dilationpow"):1)},isActive:()=>se.realityUnlocked()&&!EternityChallenge(11).isRunning,icon:ie.GENERIC_GLYPH},v:{name:"Этап Ви",powValue:()=>VUnlocks.adPow.effectOrDefault(1),isActive:()=>se.realityUnlocked()&&!EternityChallenge(11).isRunning,icon:ie.ACHIEVEMENT},alchemy:{name:"Алхимия",multValue:e=>{const t=AlchemyResource.dimensionality.effectOrDefault(1).times(Currency.realityMachines.value.powEffectOf(AlchemyResource.force));return Decimal.pow(t,e?1:ae.activeDimCount("AD"))},powValue:e=>{const t=AlchemyResource.power.effectOrDefault(1)*Ra.momentumValue;let i=1;if(AlchemyResource.inflation.isUnlocked)if(e)i=AntimatterDimension(e).multiplier.gte(AlchemyResource.inflation.effectValue)?1.05:1;else{const e=AntimatterDimensions.all.countWhere((e=>e.isProducing&&e.multiplier.gte(AlchemyResource.inflation.effectValue)));i=Math.pow(1.05,e/AntimatterDimensions.all.countWhere((e=>e.isProducing)))}return t*i},isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&!EternityChallenge(11).isRunning,icon:ie.ALCHEMY},pelle:{name:"Эффекты от Пелля",multValue:e=>Decimal.pow(PelleUpgrade.antimatterDimensionMult.effectOrDefault(1),e?1:ae.activeDimCount("AD")),powValue:()=>PelleRifts.paradox.effectOrDefault(v.D1).toNumber(),isActive:()=>Pelle.isDoomed&&!EternityChallenge(11).isRunning,icon:ie.PELLE},iap:{name:"Shop Tab Purchases",multValue:e=>{const t=ShopPurchase.dimPurchases.currentMult*ShopPurchase.allDimPurchases.currentMult;return Decimal.pow(t,e?1:ae.activeDimCount("AD"))},isActive:()=>ShopPurchaseData.totalSTD>0&&!EternityChallenge(11).isRunning,icon:ie.IAP},effectNC:{name:"Условия Обычных Испытаний",displayOverride:e=>{const t=e=>e.gte(1)?formatX(e,2,2):`/${format(e.reciprocal(),2,2)}`;let i=Array.repeat(v.D1,9);if(NormalChallenge(2).isRunning&&(i=Array.repeat(new Decimal(player.chall2Pow),9)),NormalChallenge(3).isRunning&&(i[1]=i[1].times(player.chall3Pow)),NormalChallenge(12).isRunning&&(i[2]=AntimatterDimension(2).totalAmount.pow(.6),i[4]=AntimatterDimension(4).totalAmount.pow(.4),i[6]=AntimatterDimension(6).totalAmount.pow(.2)),e)return t(i[e]);let a=v.D1;for(let n=1;n<=ae.activeDimCount("AD");n++)a=a.times(i[n]);return t(a)},multValue:e=>{let t=Array.repeat(v.D1,9);if(NormalChallenge(2).isRunning&&(t=Array.repeat(new Decimal(player.chall2Pow),9)),NormalChallenge(3).isRunning&&(t[1]=t[1].times(player.chall3Pow)),NormalChallenge(12).isRunning){if(t[2]=AntimatterDimension(2).totalAmount.pow(.6),t[4]=AntimatterDimension(4).totalAmount.pow(.4),t[6]=AntimatterDimension(6).totalAmount.pow(.2),!ae.isNC12ProducingEven())return v.D1;if(e)return t[e].neq(0)?t[e]:v.D1;let i=v.D1;for(let e=2;e<=6;e+=2)i=i.times(t[e].clampMin(1));return i}if(e)return t[e];let i=v.D1;for(let a=1;a<=ae.activeDimCount("AD");a++)i=i.times(t[a]);return i},isActive:()=>[2,3,12].some((e=>NormalChallenge(e).isRunning)),icon:ie.CHALLENGE("infinity")},nerfIC:{name:"Условия Испытаний Бесконечности",multValue:e=>{let t=Array.repeat(v.D1,9);if(InfinityChallenge(4).isRunning)for(let a=1;a<=8;a++)player.postC4Tier!==a&&(t[a]=t[a].pow(1-InfinityChallenge(4).effectValue).reciprocal());else InfinityChallenge(6).isRunning?t=Array.repeat(v.D1.dividedByEffectOf(InfinityChallenge(6)),9):InfinityChallenge(8).isRunning&&(t=Array.repeat(v.D1.timesEffectsOf(InfinityChallenge(8)),9));if(e)return t[e];let i=v.D1;for(let a=1;a<=ae.activeDimCount("AD");a++)i=i.times(t[a]);return i},isActive:()=>[4,6,8].some((e=>InfinityChallenge(e).isRunning)),icon:ie.CHALLENGE("infinity")},nerfV:{name:"Условие Реальности Ви",powValue:()=>.5,isActive:()=>V.isRunning,icon:ie.GENERIC_V},nerfCursed:{name:"Проклятые Глифы",powValue:()=>getAdjustedGlyphEffect("curseddimensions"),isActive:()=>1!==getAdjustedGlyphEffect("curseddimensions"),icon:ie.SPECIFIC_GLYPH("cursed")},nerfPelle:{name:"Условие Обречённой Реальности",multValue:.1,isActive:()=>Pelle.isDoomed,icon:ie.PELLE},pelleStrike:{name:"Первый Удар Пелля",powValue:.5,isActive:()=>PelleStrikes.infinity.hasStrike,icon:ie.PELLE}},oe={total:{name:"Производство Замедленного Времени",displayOverride:()=>`${format(getDilationGainPerSecond().times(getGameSpeedupForDisplay()),2,2)}/с`,multValue:()=>getDilationGainPerSecond().times(getGameSpeedupForDisplay()),isActive:()=>se.realityUnlocked()||se.dilationUnlocked()&&getDilationGainPerSecond().gt(0),dilationEffect:()=>Enslaved.isRunning?.85:1,overlay:["Ψ"]},achievement:{name:"Награды за достижения",multValue:()=>Achievement(132).effectOrDefault(1)*Achievement(137).effectOrDefault(1),isActive:()=>(Achievement(132).canBeApplied||Achievement(137).canBeApplied)&&getDilationGainPerSecond().neq(0),icon:ie.ACHIEVEMENT},dilation:{name:"Улучшения Замедления",multValue:()=>v.D1.timesEffectsOf(DilationUpgrade.dtGain,DilationUpgrade.dtGainPelle,DilationUpgrade.flatDilationMult),isActive:()=>v.D1.timesEffectsOf(DilationUpgrade.dtGain,DilationUpgrade.dtGainPelle,DilationUpgrade.flatDilationMult).gt(1),icon:ie.UPGRADE("dilation")},amplifierDT:{name:'Улучшение Реальности "Временной Усилитель"',multValue:()=>RealityUpgrade(1).effectOrDefault(1),isActive:()=>RealityUpgrade(1).canBeApplied&&getDilationGainPerSecond().neq(0)&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},glyph:{name:"Глифы",multValue:()=>{const e=getAdjustedGlyphEffect("dilationDT").times(Pelle.specialGlyphEffect.dilation),t=Replicanti.areUnlocked?Math.clampMin(Decimal.log10(Replicanti.amount)*getAdjustedGlyphEffect("replicationdtgain"),1):v.D1;return e.times(t)},isActive:()=>se.realityUnlocked()&&getDilationGainPerSecond().neq(0),icon:ie.GENERIC_GLYPH},ra1:{name:"Этап Ра: 10-й Уровень Ви",multValue:()=>v.D1.timesEffectsOf(Ra.unlocks.continuousTTBoost.effects.dilatedTime),isActive:()=>Ra.unlocks.autoTP.canBeApplied&&getDilationGainPerSecond().neq(0),icon:ie.GENERIC_RA},ra2:{name:"Этап Ра: 15-й Уровень Безымянных",multValue:()=>v.D1.timesEffectsOf(Ra.unlocks.peakGamespeedDT),isActive:()=>Ra.unlocks.autoTP.canBeApplied&&getDilationGainPerSecond().neq(0),icon:ie.GENERIC_RA},alchemy:{name:()=>'Алхимический ресурс "Замедление"',multValue:()=>AlchemyResource.dilation.effectOrDefault(1),isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&getDilationGainPerSecond().neq(0),icon:ie.ALCHEMY},iap:{name:"Shop Tab Purchases",multValue:()=>new Decimal(ShopPurchase.dilatedTimePurchases.currentMult**(Pelle.isDoomed?.5:1)),isActive:()=>ShopPurchaseData.totalSTD>0&&getDilationGainPerSecond().neq(0),icon:ie.IAP},nerfV:{name:"Условие Реальности Ви",powValue:.5,isActive:()=>V.isRunning&&getDilationGainPerSecond().neq(0),icon:ie.GENERIC_V},nerfPelle:{name:"Условие Обречённой Реальности",multValue:1e-5,isActive:()=>Pelle.isDoomed&&getDilationGainPerSecond().neq(0),icon:ie.PELLE}},le={total:{name:"Получение вечностей",isBase:!0,multValue:()=>gainedEternities(),isActive:()=>(PlayerProgress.realityUnlocked()||Achievement(113).isUnlocked)&&!Pelle.isDoomed,overlay:["Δ","<i class='fa-solid fa-arrows-rotate' />"]},achievement:{name:"Награда за достижение 113",multValue:()=>Achievement(113).effectOrDefault(1),isActive:()=>Achievement(113).canBeApplied,icon:ie.ACHIEVEMENT},amplifierEter:{name:'Улучшение Реальности "Вечный Усилитель"',multValue:()=>RealityUpgrade(3).effectOrDefault(1),isActive:()=>RealityUpgrade(3).canBeApplied,icon:ie.UPGRADE("reality")},glyph:{name:"Глифы Времени",multValue:()=>getAdjustedGlyphEffect("timeetermult"),isActive:()=>PlayerProgress.realityUnlocked(),icon:ie.GENERIC_GLYPH},ra:{name:"Этап Ра: 10-й Уровень Ви",multValue:()=>Ra.unlocks.continuousTTBoost.effects.eternity.effectOrDefault(1),isActive:()=>Ra.unlocks.continuousTTBoost.isUnlocked,icon:ie.GENERIC_RA},alchemy:{name:'Алхимический ресурс "Вечность"',powValue:()=>AlchemyResource.eternity.effectOrDefault(1),isActive:()=>AlchemyResource.eternity.canBeApplied,icon:ie.ALCHEMY}},ce={total:{name:"Получение ОВ",displayOverride:()=>Player.canEternity?format(gainedEternityPoints(),2,2):"Совершить вечность невозможно",multValue:()=>Player.canEternity?gainedEternityPoints():1,isActive:()=>se.eternityUnlocked()||Player.canEternity,dilationEffect:()=>Laitela.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1,overlay:["Δ","<i class='fa-solid fa-layer-group' />"]},base:{name:"По умолчанию",isBase:!0,fakeValue:v.D5,multValue:()=>v.D5.pow(player.records.thisEternity.maxIP.plus(gainedInfinityPoints()).log10()/(308-PelleRifts.recursion.effectValue.toNumber())-.7),isActive:()=>se.eternityUnlocked(),icon:ie.CONVERT_FROM("IP")},IP:{name:"Очки Бесконечности",displayOverride:()=>`${format(player.records.thisEternity.maxIP.plus(gainedInfinityPoints()),2,2)} ОБ`,multValue:v.D5,isActive:()=>se.eternityUnlocked(),icon:ie.SPECIFIC_GLYPH("infinity")},divisor:{name:"Четвёртый Разлом",powValue:()=>308/(308-PelleRifts.recursion.effectValue.toNumber()),isActive:()=>PelleRifts.recursion.canBeApplied,icon:ie.PELLE},eternityUpgrade:{name:()=>"Упятеритель ОВ",multValue:()=>EternityUpgrade.epMult.effectOrDefault(1),isActive:()=>se.eternityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("eternity")},timeStudy:{name:"Исследования Времени",multValue:()=>v.D1.timesEffectsOf(TimeStudy(61),TimeStudy(121),TimeStudy(122),TimeStudy(123)),isActive:()=>se.eternityUnlocked()&&!Pelle.isDoomed,icon:ie.TIME_STUDY},glyph:{name:"Глифы Времени",multValue:()=>v.D1.timesEffectsOf(Pelle.isDoomed?null:GlyphEffect.epMult).times(Pelle.specialGlyphEffect.time),powValue:()=>GlyphAlteration.isAdded("time")?getSecondaryGlyphEffect("timeEP"):1,isActive:()=>se.realityUnlocked(),icon:ie.SPECIFIC_GLYPH("time")},realityUpgrade:{name:'Улучшение Реальности "Знающее Бытие"',multValue:()=>RealityUpgrade(12).effectOrDefault(1),isActive:()=>RealityUpgrade(12).canBeApplied&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},pelle:{name:"Этап Первого Разлома",multValue:()=>PelleRifts.vacuum.milestones[2].effectOrDefault(1),isActive:()=>PelleRifts.vacuum.milestones[2].canBeApplied,icon:ie.PELLE},iap:{name:"Shop Tab Purchases",multValue:()=>ShopPurchase.EPPurchases.currentMult,isActive:()=>ShopPurchaseData.totalSTD>0,icon:ie.IAP},nerfTeresa:{name:"Условие Реальности Терезы",powValue:()=>.55,isActive:()=>Teresa.isRunning,icon:ie.GENERIC_TERESA},nerfV:{name:"Условие Реальности Ви",powValue:()=>.5,isActive:()=>V.isRunning,icon:ie.GENERIC_V}},ue={antimatter:{name:"Галактики Антиматерии",displayOverride:()=>{const e=player.galaxies+GalaxyGenerator.galaxies,t=ae.globalGalaxyMult();return`${formatInt(e)}, усилены в ${format(t,2,2)} раза`},multValue:()=>Decimal.pow10(player.galaxies+GalaxyGenerator.galaxies),isActive:!0,icon:ie.ANTIMATTER},replicanti:{name:"Галактики Репликанти",displayOverride:()=>{const e=Replicanti.galaxies.total;let t=Replicanti.galaxies.bought;t*=1+Effects.sum(TimeStudy(132),TimeStudy(133)),t+=Replicanti.galaxies.extra,t+=Math.min(Replicanti.galaxies.bought,ReplicantiUpgrade.galaxies.value)*Effects.sum(EternityChallenge(8).reward);const i=t/Math.clampMin(e,1)*ae.globalGalaxyMult();return`${formatInt(e)}, усилены в ${format(i,2,2)} раза`},multValue:()=>{let e=Replicanti.galaxies.bought;return e*=1+Effects.sum(TimeStudy(132),TimeStudy(133)),e+=Replicanti.galaxies.extra,e+=Math.min(Replicanti.galaxies.bought,ReplicantiUpgrade.galaxies.value)*Effects.sum(EternityChallenge(8).reward),Decimal.pow10(e)},isActive:()=>Replicanti.areUnlocked,icon:ie.SPECIFIC_GLYPH("replication")},tachyon:{name:"Тахионные Галактики",displayOverride:()=>{const e=player.dilation.totalTachyonGalaxies,t=ae.globalGalaxyMult()*(1+Math.max(0,Replicanti.amount.log10()/1e6)*AlchemyResource.alternation.effectValue);return`${formatInt(e)}, усилены в ${format(t,2,2)} раза`},multValue:()=>{const e=player.dilation.totalTachyonGalaxies,t=1+Math.max(0,Replicanti.amount.log10()/1e6)*AlchemyResource.alternation.effectValue;return Decimal.pow10(e*t)},isActive:()=>player.dilation.totalTachyonGalaxies>0,icon:ie.SPECIFIC_GLYPH("dilation")},nerfPelle:{name:"Условие Обречённой Реальности",displayOverride:"галактики вдвое слабее",powValue:.5,isActive:()=>Pelle.isDoomed,icon:ie.PELLE}},de={total:{name:"Скорость игры",displayOverride:e=>{if(e)return`${formatX(getGameSpeedupForDisplay(),2,2)}`;if(Enslaved.isStoringRealTime)return`${format(0)} (запущено сохранение реального времени)`;if(EternityChallenge(12).isRunning)return`${format(.001,3,3)} (фиксированно)`;const t=getGameSpeedupFactor(),i=ae.blackHoleSpeeds(),a=i.current,n=i.average,s=Enslaved.isAutoReleasing?getGameSpeedupForDisplay():t/a*n,r=` (сейчас) | ${format(s,2,2)} (в среднем)`;return`${format(t,2,2)}${t===s?"":r}`},multValue:()=>getGameSpeedupForDisplay(),isActive:()=>PlayerProgress.seenAlteredSpeed(),dilationEffect:()=>Effarig.isRunning?Effarig.multDilation:1,dimCount:e=>e?ae.activeDimCount(e):1,overlay:["Δ",'<i class="fas fa-clock" />','<i class="fas fa-circle" />'],ignoresNerfPowers:!0,icon:ie.GAMESPEED},glyph:{name:"Глифы",multValue:()=>getAdjustedGlyphEffect("timespeed"),powValue:()=>getAdjustedGlyphEffect("effarigblackhole"),isActive:()=>PlayerProgress.realityUnlocked()&&!EternityChallenge(12).isRunning,icon:ie.GENERIC_GLYPH},blackHoleCurr:{name:"Текущий эффект Чёрных Дыр",multValue:()=>ae.blackHoleSpeeds().current,isActive:()=>BlackHole(1).isUnlocked&&!BlackHoles.arePaused&&!EternityChallenge(12).isRunning,icon:ie.BLACK_HOLE},blackHoleAvg:{name:"Средний эффект Чёрных Дыр",multValue:()=>ae.blackHoleSpeeds().average,isActive:()=>BlackHole(1).isUnlocked&&!BlackHoles.arePaused&&!EternityChallenge(12).isRunning,icon:ie.BLACK_HOLE},achievementMult:{name:"Этап Ви",multValue:()=>Math.pow(VUnlocks.achievementBH.effectOrDefault(1),BlackHoles.list.countWhere((e=>e.isUnlocked))),isActive:()=>!BlackHoles.arePaused&&VUnlocks.achievementBH.canBeApplied&&!EternityChallenge(12).isRunning,icon:ie.ACHIEVEMENT},pulsing:{name:"Пульсирование Чёрной Дыры",multValue:()=>Enslaved.isAutoReleasing?Math.max(Enslaved.autoReleaseSpeed/getGameSpeedupFactor(),1):getGameSpeedupFactor(),isActive:()=>Enslaved.canRelease()&&Enslaved.isAutoReleasing&&!EternityChallenge(12).isRunning,icon:ie.BH_PULSE},singularity:{name:"Этап Сингулярности",multValue:()=>SingularityMilestone.gamespeedFromSingularities.effectOrDefault(1),isActive:()=>SingularityMilestone.gamespeedFromSingularities.canBeApplied&&!EternityChallenge(12).isRunning,icon:ie.SINGULARITY},pelle:{name:"Улучшение Пелля",multValue:()=>PelleUpgrade.timeSpeedMult.effectValue.toNumber(),isActive:()=>Pelle.isDoomed&&!EternityChallenge(12).isRunning,icon:ie.PELLE},ec12:{name:"Eternity Challenge 12",multValue:()=>.001/getGameSpeedupForDisplay(),isActive:()=>EternityChallenge(12).isRunning,icon:ie.CHALLENGE("eternity")},chargingBH:{name:"Зарядка Чёрной Дыры",multValue:()=>Ra.unlocks.autoPulseTime.canBeApplied?.01:0,isActive:()=>Enslaved.isStoringGameTime,icon:ie.BLACK_HOLE},invertedBH:{name:"Инверсия Чёрной Дыры",multValue:()=>player.blackHoleNegative,isActive:()=>BlackHoles.areNegative,icon:ie.CHALLENGE("eternity")},nerfLaitela:{name:"Условие Реальности Лайтелы",powValue:()=>Math.clampMax(Time.thisRealityRealTime.totalMinutes/10,1),isActive:()=>Laitela.isRunning,icon:ie.GENERIC_LAITELA}},he={achievement:{name:(e,t)=>`Награда за достижение ${e}`,multValue:(e,t)=>{if(131===e)return Achievement(131).canBeApplied?Achievement(131).effects.infinitiesGain.effectOrDefault(1):1;if(141===e)return Achievement(141).canBeApplied?Achievement(141).effects.ipGain.effectOrDefault(1):1;if(183===e)return 1;if(!t)return Achievement(e).canBeApplied?Achievement(e).effectOrDefault(1):1;if(2===(null===t||void 0===t?void 0:t.length)){let i=v.D1;for(let a=1;a<=ae.activeDimCount(t);a++){let n;n=43===e?Achievement(43).canBeApplied?1+a/100:1:ae.achievementDimCheck(e,`${t}${a}`)&&Achievement(e).canBeApplied?Achievement(e).effectOrDefault(1):1,i=i.times(n)}return i}return 43===e?Achievement(43).canBeApplied?1+Number(t.charAt(2))/100:1:ae.achievementDimCheck(e,t)&&Achievement(e).canBeApplied?Achievement(e).effectOrDefault(1):1},powValue:e=>183===e?Achievement(183).effectOrDefault(1):1,isActive:e=>Achievement(e).canBeApplied,icon:e=>{const t=ie.ACHIEVEMENT;return{color:t.color,symbol:`${t.symbol}${e}`}}},timeStudy:{name:(e,t)=>`Исследование Времени ${e}`,multValue:(e,t)=>{if(132===e){const t=Perk.studyPassive.isBought?2:1;return TimeStudy(e).canBeApplied?1.5*t:1}if(!t)return TimeStudy(e).canBeApplied?TimeStudy(e).effectOrDefault(1):1;if(2===(null===t||void 0===t?void 0:t.length)){let i=v.D1;for(let a=1;a<=ae.activeDimCount(t);a++)i=i.times(ae.timeStudyDimCheck(e,`${t}${a}`)&&TimeStudy(e).isBought?TimeStudy(e).effectOrDefault(1):1);return i}return ae.timeStudyDimCheck(e,t)&&TimeStudy(e).isBought?new Decimal(TimeStudy(e).effectOrDefault(1)):1},isActive:e=>TimeStudy(e).isBought,icon:e=>{const t=ie.TIME_STUDY;return{color:t.color,symbol:`${t.symbol}${e}`}}},infinityChallenge:{name:e=>`${e}-е Испытание Бесконечности`,multValue:(e,t)=>{if(4===e)return 1;if(2===(null===t||void 0===t?void 0:t.length)){let i=v.D1;for(let a=1;a<=ae.activeDimCount(t);a++)i=i.times(ae.ICDimCheck(e,`${t}${a}`)&&InfinityChallenge(e).isCompleted?InfinityChallenge(e).reward.effectOrDefault(1):1);return i}const i=Number(t.charAt(2));return 8===e?i>1&&i<8?InfinityChallenge(e).reward.effectValue:v.D1:InfinityChallenge(e).reward.effectValue},powValue:e=>4===e?InfinityChallenge(4).reward.effectValue:1,isActive:e=>InfinityChallenge(e).isCompleted,icon:e=>{const t=ie.CHALLENGE("infinity");return{color:t.color,symbol:`${t.symbol}${e}`}}},eternityChallenge:{name:e=>`${e}-е Испытание Вечности`,multValue:(e,t)=>{if(2===(null===t||void 0===t?void 0:t.length)){let i=v.D1;for(let a=1;a<=ae.activeDimCount(t);a++)i=i.times(ae.ECDimCheck(e,`${t}${a}`)&&EternityChallenge(e).reward.canBeApplied?EternityChallenge(e).reward.effectOrDefault(1).clampMin(1):1);return i}return 2===e?"ID1"===t?EternityChallenge(e).reward.effectValue:v.D1:EternityChallenge(e).reward.effectOrDefault(1)},isActive:e=>EternityChallenge(e).reward.canBeApplied,icon:e=>{const t=ie.CHALLENGE("eternity");return{color:t.color,symbol:`${t.symbol}${e}`}}}},pe={total:{name:"Получение бесконечностей",isBase:!0,multValue:()=>gainedInfinities(),isActive:()=>(Achievement(87).isUnlocked||PlayerProgress.eternityUnlocked())&&!EternityChallenge(4).isRunning&&!Pelle.isDoomed,overlay:["∞","<i class='fa-solid fa-arrows-rotate' />"]},achievement:{name:"Награды за достижения",multValue:()=>v.D1.timesEffectsOf(Achievement(87),Achievement(131).effects.infinitiesGain,Achievement(164)),isActive:()=>Achievement(87).isUnlocked,icon:ie.ACHIEVEMENT},timeStudy:{name:"Исследование Времени 32",multValue:()=>TimeStudy(32).effectOrDefault(1),isActive:()=>TimeStudy(32).isBought,icon:ie.TIME_STUDY},amplifierInf:{name:'Улучшение Реальности "Безграничный Усилитель"',multValue:()=>v.D1.timesEffectsOf(RealityUpgrade(5)),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},realityUpgrades:{name:'Улучшение Реальности "Бесчисленное Создание"',multValue:()=>v.D1.timesEffectsOf(RealityUpgrade(7)),isActive:()=>PlayerProgress.realityUnlocked(),icon:ie.UPGRADE("reality")},glyph:{name:"Глифы Бесконечности",multValue:()=>getAdjustedGlyphEffect("infinityinfmult"),isActive:()=>PlayerProgress.realityUnlocked(),icon:ie.SPECIFIC_GLYPH("infinity")},ra:{name:"Этап Ра: 10-й Уровень Ви",multValue:()=>Ra.unlocks.continuousTTBoost.effects.infinity.effectOrDefault(1),isActive:()=>Ra.unlocks.continuousTTBoost.isUnlocked,icon:ie.GENERIC_RA},singularity:{name:"Этап Сингулярности",powValue:()=>SingularityMilestone.infinitiedPow.effectOrDefault(1),isActive:()=>SingularityMilestone.infinitiedPow.canBeApplied,icon:ie.SINGULARITY}},me={total:{name:e=>e?`Множитель ИБ${e}`:"Производство ИБ",displayOverride:e=>e?formatX(InfinityDimension(e).multiplier,2):`${format(InfinityDimension(1).productionPerSecond,2)}`,multValue:e=>e?InfinityDimension(e).multiplier:InfinityDimensions.all.filter((e=>e.isProducing)).map((e=>e.multiplier)).reduce(((e,t)=>e.times(t)),v.D1),isActive:e=>e?InfinityDimension(e).isProducing:se.eternityUnlocked()||InfinityDimension(1).isProducing,dilationEffect:()=>{const e=player.dilation.active?.75*Effects.product(DilationUpgrade.dilationPenalty):1;return e*(Effarig.isRunning?Effarig.multDilation:1)},overlay:["∞","<i class='fa-solid fa-cube' />"],icon:e=>ie.DIMENSION("ID",e)},purchase:{name:e=>e?`Покупки ИБ${e}`:"Покупки ИБ",multValue:e=>{const t=e=>Decimal.pow(InfinityDimension(e).powerMultiplier,Math.floor(InfinityDimension(e).baseAmount/10));return e?t(e):InfinityDimensions.all.filter((e=>e.isProducing)).map((e=>t(e.tier))).reduce(((e,t)=>e.times(t)),v.D1)},isActive:()=>!EternityChallenge(2).isRunning&&!EternityChallenge(10).isRunning,icon:e=>ie.PURCHASE("ID",e)},highestDim:{name:"Количество измерений высшего уровня",displayOverride:()=>{const e=ae.activeDimCount("ID");return`${format(InfinityDimension(e).amount,2)} ИБ${e}`},multValue:()=>InfinityDimension(ae.activeDimCount("ID")).amount,isActive:()=>InfinityDimension(1).isProducing,icon:ie.DIMENSION("ID")},replicanti:{name:"Репликанти",multValue:e=>Decimal.pow(replicantiMult(),e?1:ae.activeDimCount("ID")),isActive:()=>Replicanti.areUnlocked,icon:ie.SPECIFIC_GLYPH("replication")},achievementMult:{name:"Достижения",multValue:e=>Decimal.pow(Achievements.power,e?1:ae.activeDimCount("ID")),isActive:()=>Achievement(75).canBeApplied&&!Pelle.isDoomed,icon:ie.ACHIEVEMENT},achievement:{name:()=>"Награда за достижение 94",multValue:e=>1===(null!==e&&void 0!==e?e:1)?Achievement(94).effectOrDefault(1):1,isActive:()=>Achievement(94).canBeApplied,icon:ie.ACHIEVEMENT},timeStudy:{name:"Исследования Времени",multValue:e=>{const t=v.D1.timesEffectsOf(TimeStudy(82),TimeStudy(92),TimeStudy(162));if(e)return 4===e?t.times(TimeStudy(72).effectOrDefault(1)):t;const i=ae.activeDimCount("ID");return Decimal.pow(t,i).times(i>=4?TimeStudy(72).effectOrDefault(1):v.D1)},isActive:()=>se.eternityUnlocked(),icon:ie.TIME_STUDY},eternityUpgrade:{name:"Улучшения Вечности",multValue:e=>{const t=v.D1.timesEffectsOf(EternityUpgrade.idMultEP,EternityUpgrade.idMultEternities,EternityUpgrade.idMultICRecords);return Decimal.pow(t,e?1:ae.activeDimCount("ID"))},isActive:()=>se.eternityUnlocked(),icon:ie.UPGRADE("eternity")},infinityChallenge:{name:"Испытания Бесконечности",multValue:e=>{const t=v.D1.timesEffectsOf(InfinityChallenge(1).reward,InfinityChallenge(6).reward);return Decimal.pow(t,e?1:ae.activeDimCount("ID"))},isActive:()=>InfinityChallenge(1).isUnlocked,icon:ie.CHALLENGE("infinity")},eternityChallenge:{name:"Испытания Вечности",multValue:e=>{const t=v.D1.timesEffectsOf(EternityChallenge(4).reward,EternityChallenge(9).reward);if(e)return 1===e?t.times(EternityChallenge(2).reward.effectOrDefault(1)):t;const i=ae.activeDimCount("ID");return Decimal.pow(t,i).times(i>=1?EternityChallenge(2).reward.effectOrDefault(1):v.D1)},isActive:()=>se.eternityUnlocked(),icon:ie.CHALLENGE("eternity")},glyph:{name:"Глифы",multValue:()=>1,powValue:()=>getAdjustedGlyphEffect("infinitypow")*getAdjustedGlyphEffect("effarigdimensions"),isActive:()=>se.realityUnlocked(),icon:ie.GENERIC_GLYPH},alchemy:{name:"Алхимия",multValue:e=>Decimal.pow(AlchemyResource.dimensionality.effectOrDefault(1),e?1:ae.activeDimCount("ID")),powValue:()=>AlchemyResource.infinity.effectOrDefault(1)*Ra.momentumValue,isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,icon:ie.ALCHEMY},imaginaryUpgrade:{name:'Мнимое Улучшение "Бесконечноугольник Лобачевского"',multValue:e=>Decimal.pow(ImaginaryUpgrade(8).effectOrDefault(1),e?1:ae.activeDimCount("ID")),isActive:()=>ImaginaryUpgrade(8).canBeApplied,icon:ie.UPGRADE("imaginary")},pelle:{name:"Эффекты от Пелля",multValue:e=>{const t=v.D1.timesEffectsOf(PelleRifts.recursion.milestones[1]),i=ae.activeDimCount("ID"),a=(e?1===e:i>=1)?PelleRifts.decay.milestones[0].effectOrDefault(1):v.D1;return Decimal.pow(t,e?1:i).times(a)},powValue:()=>PelleRifts.paradox.effectOrDefault(v.D1).toNumber(),isActive:()=>Pelle.isDoomed,icon:ie.PELLE},iap:{name:"Shop Tab Purchases",multValue:e=>Decimal.pow(ShopPurchase.allDimPurchases.currentMult,e?1:ae.activeDimCount("ID")),isActive:()=>ShopPurchaseData.totalSTD>0,icon:ie.IAP},powerConversion:{name:"Степень эффекта Силы Бесконечности",powValue:()=>InfinityDimensions.powerConversionRate,isActive:()=>Currency.infinityPower.value.gt(1)&&!EternityChallenge(9).isRunning,icon:ie.IPOW_CONVERSION},nerfV:{name:"Условие Реальности Ви",powValue:()=>.5,isActive:()=>V.isRunning,icon:ie.GENERIC_V},nerfCursed:{name:"Проклятые Глифы",powValue:()=>getAdjustedGlyphEffect("curseddimensions"),isActive:()=>1!==getAdjustedGlyphEffect("curseddimensions"),icon:ie.SPECIFIC_GLYPH("cursed")},nerfPelle:{name:"Второй Удар Пелля",powValue:.5,isActive:()=>PelleStrikes.powerGalaxies.hasStrike,icon:ie.PELLE}},ye={total:{name:"Получение ОБ",displayOverride:()=>Player.canCrunch?format(gainedInfinityPoints(),2,2):"Совершить Большое Сжатие невозможно",multValue:()=>Player.canCrunch?gainedInfinityPoints():1,isActive:()=>se.infinityUnlocked()||Player.canCrunch,dilationEffect:()=>Laitela.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1,overlay:["∞","<i class='fa-solid fa-layer-group' />"]},base:{name:"По умолчанию",isBase:!0,fakeValue:v.D5,multValue:()=>{const e=Effects.min(308,Achievement(103),TimeStudy(111));return Decimal.pow10(player.records.thisInfinity.maxAM.log10()/e-.75)},isActive:()=>player.break,icon:ie.CONVERT_FROM("AM")},antimatter:{name:"Антиматерия",displayOverride:()=>`${format(player.records.thisInfinity.maxAM,2,2)} антиматерии`,multValue:v.D5,isActive:()=>player.break,icon:ie.ANTIMATTER},divisor:{name:()=>TimeStudy(111).isBought?"Исследование Времени 111":"Награда за достижение 103",powValue:()=>308/Effects.min(308,Achievement(103),TimeStudy(111)),isActive:()=>Achievement(103).canBeApplied||TimeStudy(111).isBought,icon:()=>TimeStudy(111).isBought?ie.TIME_STUDY:ie.ACHIEVEMENT},infinityUpgrade:{name:"Удвоитель ОБ",multValue:()=>InfinityUpgrade.ipMult.effectOrDefault(1),isActive:()=>player.break&&!Pelle.isDoomed,icon:ie.UPGRADE("infinity")},achievement:{name:"Награды за достижения",multValue:()=>v.D1.timesEffectsOf(Achievement(85),Achievement(93),Achievement(116),Achievement(125),Achievement(141).effects.ipGain),isActive:()=>player.break&&!Pelle.isDoomed,icon:ie.ACHIEVEMENT},timeStudy:{name:"Иссследования Времени",multValue:()=>v.D1.timesEffectsOf(TimeStudy(41),TimeStudy(51),TimeStudy(141),TimeStudy(142),TimeStudy(143)),isActive:()=>player.break&&!Pelle.isDoomed,icon:ie.TIME_STUDY},dilationUpgrade:{name:"Улучшение Замедления",multValue:()=>DilationUpgrade.ipMultDT.effectOrDefault(1),isActive:()=>DilationUpgrade.ipMultDT.canBeApplied,icon:ie.UPGRADE("dilation")},glyph:{name:"Глифы Бесконечности",multValue:()=>Pelle.specialGlyphEffect.infinity.times(Pelle.isDoomed?1:getAdjustedGlyphEffect("infinityIP")),powValue:()=>GlyphAlteration.isAdded("infinity")?getSecondaryGlyphEffect("infinityIP"):1,isActive:()=>se.realityUnlocked(),icon:ie.SPECIFIC_GLYPH("infinity")},alchemy:{name:"Алхимия",multValue:()=>Replicanti.amount.powEffectOf(AlchemyResource.exponential),isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,icon:ie.ALCHEMY},pelle:{name:"Первый Разлом",multValue:()=>v.D1.timesEffectsOf(PelleRifts.vacuum),isActive:()=>Pelle.isDoomed,icon:ie.PELLE},iap:{name:"Shop Tab Purchases",multValue:()=>ShopPurchase.IPPurchases.currentMult,isActive:()=>ShopPurchaseData.totalSTD>0,icon:ie.IAP},nerfTeresa:{name:"Условие Реальности Терезы",powValue:()=>.55,isActive:()=>Teresa.isRunning,icon:ie.GENERIC_TERESA},nerfV:{name:"Условие Реальности Ви",powValue:()=>.5,isActive:()=>V.isRunning,icon:ie.GENERIC_V}},fe={total:{name:"Скорость репликации",multValue:()=>totalReplicantiSpeedMult(Replicanti.amount.gt(replicantiCap())),isActive:()=>PlayerProgress.eternityUnlocked(),overlay:["Ξ"]},achievement:{name:"Награда за достижение 134",multValue:2,isActive:()=>Achievement(134).canBeApplied&&Replicanti.amount.lte(replicantiCap())&&!Pelle.isDoomed,icon:ie.ACHIEVEMENT},timeStudy:{name:"Исследования Времени",multValue:()=>{const e=Effects.product(TimeStudy(62),TimeStudy(213))*(TimeStudy(132).isBought?1.5:1);return e*(Perk.studyPassive.isBought&&TimeStudy(132).isBought?2:1)},isActive:()=>PlayerProgress.eternityUnlocked()&&!Pelle.isDoomed,icon:ie.TIME_STUDY},glyph:{name:"Глифы Репликации",multValue:()=>{const e=(Pelle.isDoomed?v.D1:getAdjustedGlyphEffect("replicationspeed")).times(Pelle.specialGlyphEffect.replication),t=Math.clampMin(Decimal.log10(Replicanti.amount)*getSecondaryGlyphEffect("replicationdtgain"),1);return GlyphAlteration.isAdded("replication")?e.times(t):e},isActive:()=>PlayerProgress.realityUnlocked()&&(!Pelle.isDoomed||Pelle.specialGlyphEffect.replication>1),icon:ie.SPECIFIC_GLYPH("replication")},amplifierRep:{name:'Улучшение Реальности "Репликативный Усилитель"',multValue:()=>RealityUpgrade(2).effectOrDefault(1),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},realityUpgrade1:{name:'Улучшение Реальности "Космическая Репликация"',multValue:()=>RealityUpgrade(6).effectOrDefault(1),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},realityUpgrade2:{name:'Улучшение Реальности "Репликативная Быстрота"',multValue:()=>RealityUpgrade(23).effectOrDefault(1),isActive:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},alchemy:{name:'Алхимический ресурс "Репликация"',multValue:()=>AlchemyResource.replication.effectOrDefault(1),isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&!Pelle.isDoomed,icon:ie.ALCHEMY},ra:{name:"Этап Ра: 10-й Уровень Ви",multValue:()=>Ra.unlocks.continuousTTBoost.effects.replicanti.effectOrDefault(1),isActive:()=>Ra.unlocks.continuousTTBoost.isUnlocked,icon:ie.GENERIC_RA},pelle:{name:"Второй Разлом",multValue:()=>PelleRifts.decay.effectValue,isActive:()=>Pelle.isDoomed&&PelleRifts.decay.effectValue.gt(1),icon:ie.PELLE},iap:{name:"Shop Tab Purchases",multValue:()=>ShopPurchase.replicantiPurchases.currentMult,isActive:()=>ShopPurchaseData.totalSTD>0&&ShopPurchase.replicantiPurchases.currentMult>1,icon:ie.IAP}},ge={total:{name:"Тахионы",displayOverride:()=>format(new Decimal(Currency.tachyonParticles.value),2,2),multValue:()=>{const e=new Decimal(Currency.tachyonParticles.value).pow(PelleRifts.paradox.milestones[1].effectOrDefault(1));return TimeStudy.dilation.isBought?e:1},isActive:()=>se.realityUnlocked()||se.dilationUnlocked(),icon:ie.TACHYON_PARTICLES},base:{name:"Получение Тахионов по умолчанию",isBase:!0,multValue:()=>new Decimal(Currency.tachyonParticles.value).div(tachyonGainMultiplier()),isActive:()=>new Decimal(Currency.tachyonParticles.value).gt(0),icon:ie.TACHYON_PARTICLES},achievementMult:{name:"Достижения",multValue:()=>RealityUpgrade(8).effectOrDefault(1),isActive:()=>RealityUpgrade(8).canBeApplied&&!Pelle.isDoomed,icon:ie.ACHIEVEMENT},achievement:{name:"Награда за достижение 132",multValue:()=>Achievement(132).effectOrDefault(1),isActive:()=>Achievement(132).canBeApplied,icon:ie.ACHIEVEMENT},dilation:{name:"Утроитель Тахионов",multValue:()=>DilationUpgrade.tachyonGain.effectOrDefault(1),isActive:()=>DilationUpgrade.tachyonGain.canBeApplied,icon:ie.UPGRADE("dilation")},amplifierTP:{name:'Улучшение Реальности "Сверхсветовой Усилитель"',multValue:()=>v.D1.timesEffectsOf(RealityUpgrade(4)),isActive:()=>se.realityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},realityUpgrade:{name:'Улучшение Реальности "Парадоксальное Время"',multValue:()=>v.D1.timesEffectsOf(RealityUpgrade(15)),isActive:()=>se.realityUnlocked()&&!Pelle.isDoomed,icon:ie.UPGRADE("reality")},dilationGlyphSacrifice:{name:"Пожертвованные Глифы Замедления",multValue:()=>GlyphSacrifice.dilation.effectValue,isActive:()=>GlyphSacrifice.dilation.effectValue>1,icon:ie.SACRIFICE("dilation")},nerfEnslaved:{name:"Условие Реальности Безымянных",powValue:()=>Enslaved.tachyonNerf,isActive:()=>Enslaved.isRunning,icon:ie.GENERIC_ENSLAVED}},be={total:{name:"Скорость тика",displayOverride:e=>{const t=Tickspeed.perSecond;if(!e)return`${format(t,2,2)}`;const i=ae.activeDimCount(e);return`${format(t,2,2)} (с учётом количества измерений:\n        ${formatX(t.pow(i),2,2)})`},fakeValue:v.E100,multValue:()=>Tickspeed.perSecond,isActive:e=>Tickspeed.perSecond.gt(1)&&("AD"===e||EternityChallenge(7).isRunning),dilationEffect:()=>{const e=player.dilation.active||Enslaved.isRunning?.75*Effects.product(DilationUpgrade.dilationPenalty):1;return e*(Effarig.isRunning?Effarig.tickDilation:1)},dimCount:e=>e?ae.activeDimCount(e):1,overlay:["<i class='fa-solid fa-clock' />"],icon:ie.TICKSPEED},base:{name:"Награды за достижения",multValue:()=>v.D1.dividedByEffectsOf(Achievement(36),Achievement(45),Achievement(66),Achievement(83)).pow(DilationUpgrade.tickspeedPower.effectOrDefault(1)),ignoresNerfPowers:!0,isActive:()=>[36,45,66,83].some((e=>Achievement(e).canBeApplied)),icon:ie.ACHIEVEMENT},upgrades:{name:"Ускорители",displayOverride:()=>`${formatInt(Tickspeed.totalUpgrades)}`,multValue:()=>{let e=1.1245;return NormalChallenge(5).isRunning&&(e=1.08),e.toDecimal().pow(Tickspeed.totalUpgrades)},isActive:!0,icon:ie.PURCHASE("AD")},galaxies:{name:"Галактики",displayOverride:()=>{const e=player.galaxies+GalaxyGenerator.galaxies,t=Replicanti.galaxies.total,i=player.dilation.totalTachyonGalaxies;return`${formatInt(e+t+i)}`},powValue:()=>{let e=1/1.1245;return NormalChallenge(5).isRunning&&(e=1/1.08),Tickspeed.multiplier.log10()/Math.log10(e)},fakeValue:v.E1,isActive:!0,icon:ie.GALAXY},pelleTickspeedPow:{name:"Улучшение Замедления",powValue:()=>DilationUpgrade.tickspeedPower.effectValue,isActive:()=>DilationUpgrade.tickspeedPower.canBeApplied,icon:ie.UPGRADE("dilation")}},ve={purchased:{name:"Купленные",displayOverride:()=>Laitela.continuumActive?formatFloat(Tickspeed.continuumValue,2,2):formatInt(player.totalTickBought),multValue:()=>Decimal.pow10(Laitela.continuumActive?Tickspeed.continuumValue:player.totalTickBought),isActive:()=>!0,icon:ie.PURCHASE("AD")},free:{name:"Полученные от ИВ",displayOverride:()=>formatInt(player.totalTickGained),multValue:()=>Decimal.pow10(player.totalTickGained),isActive:()=>Currency.timeShards.gt(0),icon:ie.SPECIFIC_GLYPH("time")}},Ee={total:{name:e=>e?`Множитель ИВ${e}`:"Производство ИВ",displayOverride:e=>e?formatX(TimeDimension(e).multiplier,2):`${format(TimeDimension(1).productionPerSecond,2)}`,multValue:e=>e?TimeDimension(e).multiplier:TimeDimensions.all.filter((e=>e.isProducing)).map((e=>e.multiplier)).reduce(((e,t)=>e.times(t)),v.D1),isActive:e=>e?TimeDimension(e).isProducing:se.realityUnlocked()||TimeDimension(1).isProducing,dilationEffect:()=>{const e=player.dilation.active?.75*Effects.product(DilationUpgrade.dilationPenalty):1;return e*(Effarig.isRunning?Effarig.multDilation:1)},overlay:["Δ","<i class='fa-solid fa-cube' />"],icon:e=>ie.DIMENSION("TD",e)},purchase:{name:e=>e?`Покупки ИВ${e}`:"Покупки ИВ",multValue:e=>{const t=e=>{const t=TimeDimension(e),i=8===e?Math.clampMax(t.bought,1e8):t.bought;return Decimal.pow(t.powerMultiplier,i)};return e?t(e):TimeDimensions.all.filter((e=>e.isProducing)).map((e=>t(e.tier))).reduce(((e,t)=>e.times(t)),v.D1)},isActive:()=>!EternityChallenge(1).isRunning&&!EternityChallenge(10).isRunning,icon:e=>ie.PURCHASE("TD",e)},highestDim:{name:"Количество измерений высшего уровня",displayOverride:()=>{const e=ae.activeDimCount("TD");return`${formatInt(TimeDimension(e).amount)} ИВ${e}`},multValue:()=>TimeDimension(ae.activeDimCount("TD")).amount,isActive:()=>TimeDimension(1).isProducing,icon:ie.DIMENSION("TD")},achievementMult:{name:"Достижения",multValue:e=>Decimal.pow(EternityUpgrade.tdMultAchs.effectOrDefault(1),e?1:ae.activeDimCount("TD")),isActive:()=>EternityUpgrade.tdMultAchs.canBeApplied&&!Pelle.isDoomed,icon:ie.ACHIEVEMENT},achievement:{name:"Награды за достижения",multValue:e=>{const t=v.D1.timesEffectsOf(Achievement(105),Achievement(128));return Decimal.pow(t,e?1:ae.activeDimCount("TD"))},isActive:()=>Achievement(105).canBeApplied||Achievement(128).canBeApplied,icon:ie.ACHIEVEMENT},timeStudy:{name:"Исследования Времени",multValue:e=>{const t=v.D1.timesEffectsOf(TimeStudy(93),TimeStudy(103),TimeStudy(151),TimeStudy(221)),i=Array.repeat(v.D1,9);for(let n=1;n<=8;n++)i[n]=i[n].timesEffectsOf(1===n?TimeStudy(11):null,3===n?TimeStudy(73):null,4===n?TimeStudy(227):null);if(e)return t.times(i[e]);let a=v.D1;for(let n=1;n<=ae.activeDimCount("TD");n++)a=a.times(i[n]).times(t);return a},isActive:()=>TimeDimension(1).isProducing,icon:ie.TIME_STUDY},eternityUpgrade:{name:"Улучшения Вечности",multValue:e=>{const t=v.D1.timesEffectsOf(EternityUpgrade.tdMultTheorems,EternityUpgrade.tdMultRealTime);return Decimal.pow(t,e?1:ae.activeDimCount("TD"))},isActive:()=>TimeDimension(1).isProducing,icon:ie.UPGRADE("eternity")},eternityChallenge:{name:"Испытания Вечности",multValue:e=>{let t=v.D1.timesEffectsOf(EternityChallenge(1).reward,EternityChallenge(10).reward);return EternityChallenge(9).isRunning&&(t=t.times(Decimal.pow(Math.clampMin(Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate/7).log2(),1),4).clampMin(1))),Decimal.pow(t,e?1:ae.activeDimCount("TD"))},isActive:()=>se.eternityUnlocked(),icon:ie.CHALLENGE("eternity")},dilationUpgrade:{name:"Улучшение Замедления",multValue:e=>{const t=Replicanti.areUnlocked&&Replicanti.amount.gt(1)?DilationUpgrade.tdMultReplicanti.effectValue:v.D1;return Decimal.pow(t,e?1:ae.activeDimCount("TD"))},isActive:()=>DilationUpgrade.tdMultReplicanti.canBeApplied,icon:ie.UPGRADE("dilation")},realityUpgrade:{name:'Улучшение Реальности "Временная Трансцендентность"',multValue:e=>Decimal.pow(RealityUpgrade(22).effectOrDefault(1),e?1:ae.activeDimCount("TD")),isActive:()=>!Pelle.isDoomed&&RealityUpgrade(22).canBeApplied,icon:ie.UPGRADE("reality")},glyph:{name:"Глифы",powValue:()=>getAdjustedGlyphEffect("timepow")*getAdjustedGlyphEffect("effarigdimensions"),isActive:()=>se.realityUnlocked(),icon:ie.GENERIC_GLYPH},alchemy:{name:"Алхимия",multValue:e=>Decimal.pow(AlchemyResource.dimensionality.effectOrDefault(1),e?1:ae.activeDimCount("TD")),powValue:()=>AlchemyResource.time.effectOrDefault(1)*Ra.momentumValue,isActive:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,icon:ie.ALCHEMY},imaginaryUpgrade:{name:'Мнимое Улучшение "Подозрительность Интерференции"',powValue:()=>ImaginaryUpgrade(11).effectOrDefault(1),isActive:()=>ImaginaryUpgrade(11).canBeApplied,icon:ie.UPGRADE("imaginary")},pelle:{name:"Эффекты от Пелля",multValue:e=>Decimal.pow(PelleRifts.chaos.effectOrDefault(1),e?1:ae.activeDimCount("TD")),powValue:()=>PelleRifts.paradox.effectOrDefault(v.D1).toNumber(),isActive:()=>Pelle.isDoomed,icon:ie.PELLE},iap:{name:"Shop Tab Purchases",multValue:e=>Decimal.pow(ShopPurchase.allDimPurchases.currentMult,e?1:ae.activeDimCount("TD")),isActive:()=>ShopPurchaseData.totalSTD>0,icon:ie.IAP},nerfV:{name:"Условие Реальности Ви",powValue:()=>.5,isActive:()=>V.isRunning,icon:ie.GENERIC_V},nerfCursed:{name:"Проклятые Глифы",powValue:()=>getAdjustedGlyphEffect("curseddimensions"),isActive:()=>1!==getAdjustedGlyphEffect("curseddimensions"),icon:ie.SPECIFIC_GLYPH("cursed")}},Te={general:he,AM:ne,AD:re,ID:me,TD:Ee,IP:ye,EP:ce,TP:ge,DT:oe,tickspeed:be,tickspeedUpgrades:ve,galaxies:ue,infinities:pe,eternities:le,gamespeed:de,replicanti:fe},_e=["TP","DT","infinities","eternities","gamespeed","replicanti"],Ce={AD:["purchase","dimboost","sacrifice","achievementMult","achievement","infinityUpgrade","breakInfinityUpgrade","infinityPower","infinityChallenge","timeStudy","eternityChallenge","glyph","v","alchemy","pelle","iap","effectNC","nerfIC","nerfV","nerfCursed","nerfPelle","pelleStrike"],ID:["purchase","achievementMult","achievement","replicanti","infinityChallenge","timeStudy","eternityUpgrade","eternityChallenge","glyph","alchemy","imaginaryUpgrade","pelle","iap","nerfV","nerfCursed","nerfPelle"],TD:["purchase","achievementMult","achievement","timeStudy","eternityUpgrade","eternityChallenge","dilationUpgrade","realityUpgrade","glyph","alchemy","imaginaryUpgrade","pelle","iap","nerfV","nerfCursed"],IP:["base","infinityUpgrade","achievement","timeStudy","dilationUpgrade","glyph","alchemy","pelle","iap","nerfTeresa","nerfV"],EP:["base","eternityUpgrade","timeStudy","glyph","realityUpgrade","pelle","iap","nerfTeresa","nerfV"]};for(const V of _e){Ce[V]=[];for(const e of Object.keys(Te[V]))"total"!==e&&Ce[V].push(e)}function Ae(e){const t=[];for(let i=1;i<=8;i++)t.push(`${e}_${i}`);return t}function ke(e,t){const i=Ce[e].map((t=>`${e}_${t}`));if(!t)return i;const a=[];for(const n of i)a.push(`${n}_${t}`);return a}const we={AM_total:[["AD_total","tickspeed_total_AD"]],AD_total:[ke("AD"),Ae("AD_total")],ID_total:[ke("ID"),Ae("ID_total")],TD_total:[ke("TD"),Ae("TD_total")],IP_total:[ke("IP")],IP_base:[["IP_antimatter","IP_divisor"]],EP_total:[ke("EP")],EP_base:[["EP_IP","EP_divisor"]],TP_total:[ke("TP")],DT_total:[ke("DT")],tickspeed_total:[["tickspeed_base","tickspeed_upgrades","tickspeed_galaxies","tickspeed_pelleTickspeedPow"]],tickspeed_upgrades:[["tickspeedUpgrades_purchased","tickspeedUpgrades_free"]],tickspeed_galaxies:[["galaxies_antimatter","galaxies_replicanti","galaxies_tachyon","galaxies_nerfPelle"]],infinities_total:[ke("infinities")],eternities_total:[ke("eternities")],gamespeed_total:[ke("gamespeed")],replicanti_total:[ke("replicanti")]},Se=we.gamespeed_total[0];we.gamespeed_total[0]=[...Se].filter((e=>"gamespeed_blackHoleAvg"!==e)),we.gamespeed_total[1]=[...Se].filter((e=>"gamespeed_blackHoleCurr"!==e)),we.DT_total[0].unshift("TP_total");const xe=["AD","ID","TD"],Re=["IP","EP","DT","infinities","replicanti"],Ie={achievement:{checkFn:ae.achievementDimCheck,AD:[23,28,31,34,43,48,56,64,65,68,71,72,73,74,76,84,91,92,183],TD:[105,128],IP:[85,93,116,125,141],DT:[132,137],infinities:[87,131,164]},timeStudy:{checkFn:ae.timeStudyDimCheck,AD:[71,91,101,161,193,214,234],ID:[72,82,92,102,162],TD:[11,73,93,103,151,221,227],IP:[41,51,141,142,143],EP:[61,121,122,123],replicanti:[62,132,213]},infinityChallenge:{checkFn:ae.ICDimCheck,AD:[3,4,8],ID:[1,6]},eternityChallenge:{checkFn:ae.ECDimCheck,ID:[2,4,9],TD:[1,10]}};for(const V of xe)we[`${V}_total`][0].push(`${V}_highestDim`),we[`${V}_total`][1].push(`${V}_highestDim`);for(const V of xe){for(const e of ke(V))we[e]=[Ae(e)];for(let e=1;e<=8;e++)we[`${V}_total_${e}`]=[ke(V,e)]}const Me=["AD_sacrifice","AD_breakInfinityUpgrade","AD_nerfIC","AD_infinityUpgrade","AD_v","ID_replicanti","ID_infinityChallenge","ID_eternityUpgrades","TD_achievement","TD_eternityUpgrade","TD_dilationUpgrade","TD_realityUpgrade",".._achievementMult",".._eternityUpgrade",".._glyph",".._alchemy",".._imaginaryUpgrade",".._iap",".._nerfV",".._nerfCursed",".._nerfPelle",".._pelle",".._gamespeed",".._pelleStrike"],De=Object.keys(we).filter((e=>Me.some((t=>e.match(t)))));for(const V of De)we[V]=void 0;we.AD_infinityPower=[["ID_total","ID_powerConversion"]];for(let V=1;V<=8;V++)we[`AD_infinityPower_${V}`]=[["ID_total","ID_powerConversion"]];for(const V of xe)for(const e of Object.keys(Ie))if(Ie[e][V]){we[`${V}_${e}`]=[[]];for(const t of Ie[e][V]){for(let i=1;i<=8;i++){const a=`${V}_${e}_${i}`,n=`${V}${i}`;Ie[e].checkFn(t,n)&&(we[a]||(we[a]=[[]]),we[a][0].push(`general_${e}_${t}_${n}`))}we[`${V}_${e}`][0].push(`general_${e}_${t}_${V}`)}}for(const V of Re)for(const e of Object.keys(Ie))if(Ie[e][V]){we[`${V}_${e}`]=[[]];for(const t of Ie[e][V])we[`${V}_${e}`][0].push(`general_${e}_${t}`)}for(const V of["ID","TD"])we[`${V}_total`][0].push(`tickspeed_total_${V}`),we[`${V}_total`][1].push(`tickspeed_total_${V}`),we[`${V}_total`][0].push(`gamespeed_total_${V}`),we[`${V}_total`][1].push(`gamespeed_total_${V}`);we["DT_total"][0].push("gamespeed_total");const Pe=[{id:11,name:"Надо с чего-нибудь начинать",description:"Купите 1-е Измерение Антиматерии.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:12,get name(){return`${formatInt(100)} антиматерии - это много`},description:"Купите 2-е Измерение Антиматерии.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:13,name:"Half-Life 3 ПОДТВЕРЖДЕНА",description:"Купите 3-е Измерение Антиматерии.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:14,name:"L4D: Left 4 Dimensions",description:"Купите 4-е Измерение Антиматерии.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:15,name:"Пятимерный удар антиматерией",description:"Купите 5-е Измерение Антиматерии.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:16,name:"Мы не смогли позволить себе девятку",get description(){return Enslaved.isRunning?"Купите 6-е Измерение Антиматерии (они никому не нужны).":"Купите 6-е Измерение Антиматерии."},checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:17,name:"Не связанное с удачей достижение",description:"Купите 7-е Измерение Антиматерии.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:18,get name(){return`${formatInt(90)} градусов до бесконечности`},get description(){return Enslaved.isRunning?"Купите 8-е Измерение Антиматерии (не привыкай к ним).":"Купите 8-е Измерение Антиматерии."},checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:21,name:"К бесконечности!",description:"Совершите Большое Сжатие.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`начинать с ${formatInt(100)} антиматерии.`},effect:100},{id:22,name:"ФАЛЬШИВЫЕ НОВОСТИ!",get description(){return`Просмотрите ${formatInt(50)} различных новостей.`},checkRequirement:()=>NewsHandler.uniqueTickersSeen>=50,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},{id:23,name:"9-е Измерение - ложь",get description(){return`Имейте ровно ${formatInt(99)} 8-х Измерений Антиматерии.`},checkRequirement:()=>AntimatterDimension(8).amount.eq(99),get reward(){return`8-е Измерение Антиматерии на ${formatPercents(.1)} сильнее.`},effect:1.1},{id:24,name:"Апокалипсис антиматерии",get description(){return`Достигните ${format(v.E80)} антиматерии.`},checkRequirement:()=>Currency.antimatter.exponent>=80,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:25,name:"Максимальное расширение",get description(){return`Получите ${formatInt(10)} Расширений Измерений.`},checkRequirement:()=>DimBoost.purchasedBoosts>=10,checkEvent:GAME_EVENT.DIMBOOST_AFTER},{id:26,name:"Вы преодолели большое препятствие",description:"Получите Галактику Антиматерии.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.GALAXY_RESET_BEFORE},{id:27,name:"Двойная галактика",get description(){return`Получите ${formatInt(2)} Галактики Антиматерии.`},checkRequirement:()=>player.galaxies>=2,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER},{id:28,name:"В этом нет никакого смысла…",get description(){return`Купите одиночное 1-е Измерение Антиматерии, имея хотя бы ${format(v.E150)}.`},checkRequirement:()=>AntimatterDimension(1).amount.exponent>=150,checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER,get reward(){return`1-е Измерение Антиматерии на ${formatPercents(.1)} сильнее.`},effect:1.1},{id:31,name:"Я забыл ослабить эту механику",get description(){return`Сделайте множитель любого Измерения Антиматерии больше ${formatX(v.E31)}.`},checkRequirement:()=>AntimatterDimensions.all.some((e=>e.multiplier.exponent>=31)),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`1-е Измерение Антиматерии на ${formatPercents(.05)} сильнее.`},effect:1.05},{id:32,name:"Боги довольны",get description(){return`Получите множитель больше ${formatX(600)} от Пожертвования Измерений вне 8-го Обычного Испытания.`},checkRequirement:()=>!NormalChallenge(8).isOnlyActiveChallenge&&Sacrifice.totalBoost.gte(600),checkEvent:GAME_EVENT.SACRIFICE_RESET_AFTER,get reward(){return`Пожертвование Измерений сильнее.\n      ${Sacrifice.getSacrificeDescription({Achievement32:!1,Achievement57:!1,Achievement88:!1})} ➜\n      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!1,Achievement88:!1})}`},effect:.1},{id:33,name:"Посмотри, сколько бесконечностей!",get description(){return`Достигните ${formatInt(10)} бесконечностей.`},checkRequirement:()=>Currency.infinities.gte(10),checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:34,name:"Тебе оно всё равно не было нужно",description:"Совершите Большое Сжатие без 8-х Измерений Антиматерии.",checkRequirement:()=>AntimatterDimension(8).totalAmount.eq(0),checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`все Измерения Антиматерии, кроме 8-го, на ${formatPercents(.02)} сильнее.`},effect:1.02},{id:35,name:"Не смей спать",get description(){return PlayerProgress.realityUnlocked()?`Проведите не менее ${formatInt(6)} часов подряд офлайн (по реальному времяисчислению).`:`Проведите не менее ${formatInt(6)} часов подряд офлайн.`},checkRequirement:()=>Date.now()-player.lastUpdate>=216e5,checkEvent:GAME_EVENT.GAME_TICK_BEFORE},{id:36,name:"Клаустрофоб",get description(){return"Совершите Большое Сжатие, имея ровно одну Галактику Антиматерии."},checkRequirement:()=>1===player.galaxies,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ${formatX(1.02,2,2)} к скорости тика.`},effect:1/1.02},{id:37,name:"БЫСТРО!",get description(){return`Совершите бесконечность за ${formatInt(2)} часа или быстрее.`},checkRequirement:()=>Time.thisInfinityRealTime.totalHours<=2,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`начинать с ${formatInt(5e3)} антиматерии.`},effect:5e3},{id:38,name:"Я не верю в богов",get description(){return"Получите Галактику Антиматерии, не совершив Пожертвование Измерений."},checkRequirement:()=>player.requirementChecks.infinity.noSacrifice,checkEvent:GAME_EVENT.GALAXY_RESET_BEFORE},{id:41,name:"В дополнениях не нуждаюсь",get description(){return`Купите все ${formatInt(16)} Улучшений Бесконечности.`},checkRequirement:()=>player.infinityUpgrades.size>=16,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return"разблокировать два новых улучшения - удвоитель ОБ и офлайн-генерацию."}},{id:42,name:"Супер-Саник",get description(){return`Сделайте так, чтобы ваш прирост антиматерии в секунду превысил её количество, когда у вас её не менее ${format(v.E63)}.`},checkRequirement:()=>Currency.antimatter.exponent>=63&&Currency.antimatter.productionPerSecond.gt(Currency.antimatter.value),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:43,name:"Вот это поворот…",description:"Сделайте так, чтобы самый высокий множитель среди Измерений Антиматерии имело 8-е, следующий по величине - 7-е, затем 6-е и так далее.",checkRequirement:()=>{const e=Array.range(1,8).map((e=>AntimatterDimension(e).multiplier));for(let t=0;t<e.length-1;t++)if(e[t].gte(e[t+1]))return!1;return!0},checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return"каждое Измерение Антиматерии сильнее на число процентов, равное его уровню."}},{id:44,get name(){return`${formatInt(30)} секунд эйфории`},get description(){return`Сделайте так, чтобы ваш прирост антиматерии в секунду превышал её количество в течение ${formatInt(30)} секунд подряд.`},checkRequirement:()=>AchievementTimers.marathon1.check(Currency.antimatter.productionPerSecond.gt(Currency.antimatter.value),30),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:45,name:"Быстрее, чем картофелина",get description(){return`Сделайте скорость тика не менее ${format(v.E29)}.`},checkRequirement:()=>Tickspeed.current.exponent<=-26,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ${formatX(1.02,0,2)} к скорости тика.`},effect:.98},{id:46,name:"Многомерный",get description(){return`Достигните ${format(v.E12)} 7-х Измерений Антиматерии.`},checkRequirement:()=>AntimatterDimension(7).amount.exponent>=12,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:47,name:"Сорвиголова",get description(){return`Выполните ${formatInt(3)} Обычных Испытания.`},checkRequirement:()=>NormalChallenges.all.countWhere((e=>e.isCompleted))>=3,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:48,name:"Закалённый в анти-испытаниях",get description(){return`Выполните все ${formatInt(12)} Обычных Испытаний.`},checkRequirement:()=>0===NormalChallenges.all.countWhere((e=>!e.isCompleted)),checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT],get reward(){return`все Измерения Антиматерии на ${formatPercents(.1)} сильнее.`},effect:1.1},{id:51,name:"Бесконечность не предел!",description:"Преодолейте Бесконечность.",checkRequirement:()=>player.break,checkEvent:[GAME_EVENT.BREAK_INFINITY,GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:52,name:"Эра автоматизации",description:"Улучшите интервалы автоматики Измерений Антиматерии и ускорителей до предела.",checkRequirement:()=>Autobuyer.antimatterDimension.zeroIndexed.concat(Autobuyer.tickspeed).every((e=>e.isUnlocked&&e.hasMaxedInterval)),checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:53,name:"Определённо того не стоит",description:"Улучшите интервалы всей автоматики, разблокированной Обычными Испытаниями, до предела.",checkRequirement:()=>Autobuyers.upgradeable.every((e=>e.isUnlocked&&e.hasMaxedInterval)),checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT]},{id:54,name:"БЫСТРЕЕ!",get description(){return`Совершите бесконечность за ${formatInt(10)} минут или быстрее.`},checkRequirement:()=>Time.thisInfinityRealTime.totalMinutes<=10,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`начинать с ${format(5e5)} антиматерии.`},effect:5e5},{id:55,name:"Навсегда - это не так уж долго",get description(){return"Совершите бесконечность за минуту или быстрее."},checkRequirement:()=>Time.thisInfinityRealTime.totalMinutes<=1,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`начинать с ${format(5e10)} антиматерии.`},effect:5e10},{id:56,name:"Много погибших",get description(){return`Выполните 2-е Обычное Испытание за ${formatInt(3)} минуты или быстрее.`},checkRequirement:()=>NormalChallenge(2).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalMinutes<=3,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ко всем Измерениям Антиматерии, который постепенно исчезает в течение ${formatInt(3)} минут, но восстанавливается на бесконечности.`},effect:()=>Math.max(6/(Time.thisInfinity.totalMinutes+3),1),effectCondition:()=>Time.thisInfinity.totalMinutes<3,formatEffect:e=>`${formatX(e,2,2)}`},{id:57,name:"Подарок богов",get description(){return`Выполните 8-е Обычное Испытание за ${formatInt(3)} минуты или быстрее.`},checkRequirement:()=>NormalChallenge(8).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalMinutes<=3,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`Пожертвование Измерений сильнее.\n      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!1,Achievement88:!1})} ➜\n      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!0,Achievement88:!1})}`},effect:.1},{id:58,name:"Всё в порядке.",get description(){return`Выполните 9-е Обычное Испытание за ${formatInt(3)} минуты или быстрее.`},checkRequirement:()=>NormalChallenge(9).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalMinutes<=3,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`увеличить множитель за покупку ${formatInt(10)} измерений на ${formatPercents(.01)}.`},effect:1.01},{id:61,name:"Накачанный",get description(){return`Улучшите опт всей автоматики Измерений Антиматерии до предела\n        (${formatInt(Autobuyer.antimatterDimension.bulkCap)}).`},checkRequirement:()=>Autobuyer.antimatterDimension.zeroIndexed.every((e=>e.hasMaxedBulk)),checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT,GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION],reward:"опт автоматики Измерений Антиматерии неограничен."},{id:62,name:"О, привет… Ты всё ещё здесь?",get description(){return`Сделайте прирост Очков Бесконечности за время от бесконечности не менее ${format(v.E8)} в минуту.`},checkRequirement:()=>Player.bestRunIPPM.exponent>=8,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:63,name:"Новое начало",description:"Начните производить Силу Бесконечности.",checkRequirement:()=>Currency.infinityPower.gt(1),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:64,name:"Ни одного погибшего",description:"Выполните Обычное Испытание, не получив ни одной Галактики Антиматерии и ни одного Расширения Измерений.",checkRequirement:()=>0===player.galaxies&&0===DimBoost.purchasedBoosts&&NormalChallenge.isRunning,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`первые четыре Измерения Антиматерии на ${formatPercents(.25)} сильнее.`},effect:1.25},{id:65,name:"Тоже мне испытание",get description(){return`Сделайте сумму рекордов Обычных Испытаний меньше ${formatInt(3)} минут.`},checkRequirement:()=>Time.challengeSum.totalMinutes<3,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER],get reward(){return`множитель ко всем Измерениям Антиматерии, действующий только внутри испытаний, который постепенно исчезает в течение ${formatInt(3)} минут, но восстанавливается на бесконечности.`},effect:()=>Player.isInAnyChallenge?Math.max(4/(Time.thisInfinity.totalMinutes+1),1):1,effectCondition:()=>Player.isInAnyChallenge&&Time.thisInfinity.totalMinutes<3,formatEffect:e=>`${formatX(e,2,2)}`},{id:66,name:"Быстрее, чем картофелина в квадрате",get description(){return`Сделайте скорость тика не менее ${format(v.E58)}.`},checkRequirement:()=>Tickspeed.current.exponent<=-55,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ${formatX(1.02,0,2)} к скорости тика.`},effect:.98},{id:67,name:"Бесконечные сложности",description:"Выполните Испытание Бесконечности.",checkRequirement:()=>InfinityChallenges.completed.length>0,checkEvent:[GAME_EVENT.INFINITY_CHALLENGE_COMPLETED,GAME_EVENT.REALITY_RESET_AFTER]},{id:68,name:"Ты сделал это лишь ради достижения, да?",get description(){return`Выполните 3-е Обычное Испытание за ${formatInt(10)} секунд или быстрее.`},checkRequirement:()=>NormalChallenge(3).isOnlyActiveChallenge&&Time.thisInfinityRealTime.totalSeconds<=10,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ${formatX(1.5,1,1)} к 1-му Измерению Антиматерии.`},effect:1.5},{id:71,name:"ОШИБКА 909: измерение не найдено",description:"Выполните 2-е Обычное Испытание лишь с одним 1-м Измерением Антиматерии, не получив ни одной Галактики Антиматерии и ни одного Расширения Измерений.",checkRequirement:()=>NormalChallenge(2).isOnlyActiveChallenge&&AntimatterDimension(1).amount.eq(1)&&0===DimBoost.purchasedBoosts&&0===player.galaxies,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ${formatX(3)} к 1-му Измерению Антиматерии.`},effect:3},{id:72,name:"Не могу удержать все эти бесконечности",get description(){return`Сделайте множители всех Измерений Антиматерии не менее ${formatX(Decimal.NUMBER_MAX_VALUE,1)}.`},checkRequirement:()=>AntimatterDimensions.all.every((e=>e.multiplier.gte(Decimal.NUMBER_MAX_VALUE))),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`все Измерения Антиматерии на ${formatPercents(.1)} сильнее.`},effect:1.1},{id:73,name:"ЭТОГО ДОСТИЖЕНИЯ НЕ СУЩЕСТВУЕТ",get description(){return`Достигните ${formatPostBreak(v.D9_9999E9999,4)} антиматерии.`},checkRequirement:()=>Currency.antimatter.gte(v.D9_9999E9999),checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"множитель к Измерениям Антиматерии, зависящий от количества антиматерии.",effect:()=>Currency.antimatter.value.pow(2e-5).plus(1),formatEffect:e=>`${formatX(e,2,2)}`},{id:74,name:"Ни секунды даром",get description(){return`Сделайте сумму рекордов Обычных Испытаний меньше ${formatInt(5)} секунд.`},checkRequirement:()=>Time.challengeSum.totalSeconds<5,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER],get reward(){return`все Измерения Антиматерии на ${formatPercents(.4)} сильнее в испытаниях.`},effect:1.4,effectCondition:()=>Player.isInAnyChallenge},{id:75,name:"НОВЫЕ ИЗМЕРЕНИЯ???",description:"Разблокируйте 4-е Измерение Бесконечности.",checkRequirement:()=>InfinityDimension(4).isUnlocked,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"множитель достижений влияет на Измерения Бесконечности.",effect:()=>Achievements.power},{id:76,name:"По одному на измерение",get description(){return`Проведите в игре ${formatInt(8)} дней.`},checkRequirement:()=>Time.totalTimePlayed.totalDays>=8,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"маленький множитель к Измерениям Антиматерии, зависящий от времени игры.",effect:()=>Math.max(Math.pow(Time.totalTimePlayed.totalDays/2,.05),1),formatEffect:e=>`${formatX(e,2,2)}`},{id:77,name:"Миллион - это много",get description(){return`Достигните ${format(1e6)} Силы Бесконечности.`},checkRequirement:()=>Currency.infinityPower.exponent>=6,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:78,name:"Мгновение ока",get description(){return`Совершите бесконечность за ${formatInt(250)}мс или быстрее.`},checkRequirement:()=>Time.thisInfinityRealTime.totalMilliseconds<=250,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`начинать с ${format(5e25)} антиматерии.`},effect:5e25},{id:81,name:"Геймдизайн - моя страсть",get description(){return`Выполните 5-е Испытание Бесконечности за ${formatInt(15)} секунд или быстрее.`},checkRequirement:()=>InfinityChallenge(5).isRunning&&Time.thisInfinityRealTime.totalSeconds<=15,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE},{id:82,name:"Закалённый в анти-анти-испытаниях",get description(){return`Выполните все ${formatInt(8)} Испытаний Бесконечности.`},checkRequirement:()=>8===InfinityChallenges.completed.length,checkEvent:[GAME_EVENT.INFINITY_CHALLENGE_COMPLETED,GAME_EVENT.REALITY_RESET_AFTER]},{id:83,name:"ТЫ МОЖЕШЬ ПОЛУЧИТЬ 50 ГАЛАКТИК?!?!",get description(){return`Получите ${formatInt(50)} Галактик Антиматерии.`},checkRequirement:()=>player.galaxies>=50,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,get reward(){return`множитель ${formatX(1/.95,4,4)} к скорости тика за каждую Галактику Антиматерии.`},effect:()=>v.D0_95.pow(player.galaxies),formatEffect:e=>`${formatX(e.recip(),2,2)}`},{id:84,name:"У меня есть, могу поделиться",get description(){return`Достигните ${formatPostBreak("1e35000")} антиматерии.`},checkRequirement:()=>Currency.antimatter.exponent>=35e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"множитель к Измерениям Антиматерии, зависящий от количества антиматерии.",effect:()=>Currency.antimatter.value.pow(2e-5).plus(1),formatEffect:e=>`${formatX(e,2,2)}`},{id:85,name:"ВЕСЬ ВАШЕ ОБ ПРИНАДЛЕЖАТЬ НАМ",get description(){return`Получите не менее ${format(v.E150)} Очков Бесконечности на Большом Сжатии.`},checkRequirement:()=>gainedInfinityPoints().exponent>=150,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ${formatX(4)} к получению Очков Бесконечности.`},effect:4},{id:86,name:"Ты что, изгибаешь время, братан?",get description(){return`Сделайте множитель за покупку ускорителя не менее ${formatX(1e3)}.`},checkRequirement:()=>Tickspeed.multiplier.recip().gte(1e3),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`галактики на ${formatPercents(.01)} сильнее.`},effect:1.01},{id:87,get name(){return`${formatInt(2)} МИЛЛИОНА БЕСКОНЕЧНОСТЕЙ`},get description(){return`Достигните ${format(v.D2E6)} бесконечностей.`},checkRequirement:()=>Currency.infinities.gt(v.D2E6),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`вы получаете в ${format(250)} раз больше бесконечностей от бесконечностей, длящихся более ${formatInt(5)} секунд.`},effect:250,effectCondition:()=>Time.thisInfinity.totalSeconds>5},{id:88,name:"Очередная отсылка к бесконечности",get description(){return`Получите множитель ${formatX(Decimal.NUMBER_MAX_VALUE,1,0)} от Пожертвования Измерений за раз.`},checkRequirement:()=>Sacrifice.nextBoost.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.SACRIFICE_RESET_BEFORE,get reward(){return`Пожертвование Измерений сильнее.\n      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!0,Achievement88:!1})} ➜\n      ${Sacrifice.getSacrificeDescription({Achievement32:!0,Achievement57:!0,Achievement88:!0})}`},effect:.1},{id:91,name:"Нелепая скорость",get description(){return`Совершите бесконечность за ${formatInt(2)} секунды или быстрее, получив не менее ${format(v.E200)} ОБ.`},checkRequirement:()=>gainedInfinityPoints().exponent>=200&&Time.thisInfinityRealTime.totalSeconds<=2,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ко всем Измерениям Антиматерии, который постепенно исчезает в течение ${formatInt(5)} секунд, но восстанавливается на бесконечности.`},effect:()=>Math.max(60*(5-Time.thisInfinity.totalSeconds),1),effectCondition:()=>Time.thisInfinity.totalSeconds<5,formatEffect:e=>`${formatX(e,2,2)}`},{id:92,name:"Я не торможу ради НИКОГО!",get description(){return`Совершите бесконечность за ${formatInt(20)} секунд или быстрее, получив не менее ${format(v.E250)} ОБ.`},checkRequirement:()=>gainedInfinityPoints().exponent>=250&&Time.thisInfinityRealTime.totalSeconds<=20,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return"множитель ко всем Измерениям Антиматерии, который постепенно исчезает в течение минуты, но восстанавливается на бесконечности."},effect:()=>Math.max(100*(1-Time.thisInfinity.totalMinutes),1),effectCondition:()=>Time.thisInfinity.totalMinutes<1,formatEffect:e=>`${formatX(e,2,2)}`},{id:93,name:"МАКСИМАЛЬНАЯ ПЕРЕГРУЗКА",get description(){return`Получите не менее ${format(v.E300)} Очков Бесконечности на Большом Сжатии.`},checkRequirement:()=>gainedInfinityPoints().exponent>=300,checkEvent:GAME_EVENT.BIG_CRUNCH_BEFORE,get reward(){return`множитель ${formatX(4)} к получению Очков Бесконечности.`},effect:4},{id:94,name:"4.3333 минуты бесконечности",get description(){return`Достигните ${format(v.E260)} Силы Бесконечности.`},checkRequirement:()=>Currency.infinityPower.exponent>=260,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ${formatX(2)} к получению Силы Бесконечности.`},effect:2},{id:95,name:"Это безопасно?",get description(){return`Достигните ${format(Decimal.NUMBER_MAX_VALUE,1,0)} Репликанти в первый час бесконечности.`},reward:"вы сохраняете Репликанти и до одной Галактики Репликанти на Большом Сжатии.",checkRequirement:()=>Replicanti.amount.eq(Decimal.NUMBER_MAX_VALUE)&&Time.thisInfinityRealTime.totalHours<=1,checkEvent:GAME_EVENT.REPLICANTI_TICK_AFTER},{id:96,name:"Время относительно",description:"Совершите вечность.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:97,name:"Как по Lego ходить",get description(){return`Сделайте сумму рекордов Испытаний Бесконечности меньше ${format(6.66,2,2)} секунды.`},checkRequirement:()=>Time.infinityChallengeSum.totalSeconds<6.66,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER]},{id:98,get name(){return`${formatInt(0)} градусов до бесконечности`},description:"Разблокируйте 8-е Измерение Бесконечности.",checkRequirement:()=>InfinityDimension(8).isUnlocked,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:101,name:"А на это ни у кого не нашлось времени?",description:"Совершите вечность, не покупая Измерений Антиматерии, кроме 8-го.",checkRequirement:()=>player.requirementChecks.eternity.onlyAD8,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:102,name:"Эта миля заняла вечность",description:"Получите все Этапы Вечности.",checkRequirement:()=>EternityMilestone.all.every((e=>e.isReached)),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:103,name:"Tätä saavutusta ei ole olemassa II",get description(){return`Достигните ${formatPostBreak(v.D9_99999E999,5,0)} Очков Бесконечности.`},checkRequirement:()=>Currency.infinityPoints.exponent>=1e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`получение Очков Бесконечности по умолчанию возведено в степень ${formatFloat(308/307.8,5)} (не накладывается на ИсслВ111).`},effect:307.8},{id:104,name:"Тоже мне вечность",get description(){return`Совершите вечность за ${formatInt(30)} секунд или быстрее.`},checkRequirement:()=>Time.thisEternity.totalSeconds<=30,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,get reward(){return`начинать с ${format(5e25)} Очков Бесконечности.`},effect:5e25},{id:105,name:"Бесконечное время",get description(){return`Получите ${formatInt(308)} ускорителей от Измерений Времени.`},checkRequirement:()=>player.totalTickGained>=308,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"скорость тика также влияет на Измерения Времени с пониженным эффектом.",effect:()=>Tickspeed.perSecond.pow(5e-6),formatEffect:e=>`${formatX(e,2,2)}`},{id:106,name:"Рой",get description(){return`Достигните ${formatInt(10)} Галактик Репликанти в первые ${formatInt(15)} секунд бесконечности.`},checkRequirement:()=>Replicanti.galaxies.total>=10&&Time.thisInfinity.totalSeconds<=15,checkEvent:GAME_EVENT.REPLICANTI_TICK_AFTER},{id:107,name:"Тебе серьёзно нужно для этого руководство?",get description(){return`Совершите вечность, имея менее ${formatInt(10)} бесконечностей.`},checkRequirement:()=>Currency.infinities.lt(10),checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:108,name:"Мы МОГЛИ позволить себе девятку",get description(){return`Совершите вечность, имея ровно ${formatInt(9)} Репликанти.`},checkRequirement:()=>Replicanti.amount.round().eq(9),checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:111,name:"Эй, чувак, я слышал, тебе нравились бесконечности…",get description(){return`Получите на бесконечности хотя бы в ${format(Decimal.NUMBER_MAX_VALUE,1,0)} раз больше\n        Очков Бесконечности, чем на предыдущей, ${formatInt(9)} раз подряд в течение одной вечности.`},checkRequirement:()=>{if(player.records.recentInfinities.some((e=>e[0]===Number.MAX_VALUE)))return!1;const e=player.records.recentInfinities.map((e=>e[2]));for(let t=0;t<e.length-1;t++)if(e[t].lt(e[t+1].times(Decimal.NUMBER_MAX_VALUE)))return!1;return!0},checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER,reward:"ваше количество антиматерии не сбрасывается при получении Расширений Измерений и Галактик Антиматерии."},{id:112,name:"Никогда впредь",get description(){return`Сделайте сумму рекордов Испытаний Бесконечности меньше ${formatInt(750)}мс.`},checkRequirement:()=>Time.infinityChallengeSum.totalMilliseconds<750,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.REALITY_RESET_AFTER]},{id:113,name:"Вечности - это новые бесконечности",get description(){return`Совершите вечность за ${formatInt(250)}мс или быстрее.`},checkRequirement:()=>Time.thisEternity.totalMilliseconds<=250,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,get reward(){return`множитель ${formatX(2)} к получению вечностей.`},effect:2},{id:114,name:"Ты ошибка",description:"Провалите Испытание Вечности.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.CHALLENGE_FAILED,reward:"угасающее чувство успеха.",effect:()=>"Sense of accomplishment (fading)"},{id:115,get name(){return`Надо было совершить ${formatInt(7)} вечностей`},description:"Запустите Испытание Бесконечности внутри Испытания Вечности.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:116,name:"Разве мне необходима бесконечность?",get description(){return"Совершите вечность, имея не более одной бесконечности."},checkRequirement:()=>Currency.infinities.lte(1),checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE,reward:"множитель к получению Очков Бесконечности в зависимости от количества бесконечностей.",effect:()=>Decimal.pow(Currency.infinitiesTotal.value.clampMin(1),LOG10_2/4).powEffectOf(TimeStudy(31)),cap:()=>Effarig.eternityCap,formatEffect:e=>{const t=formatX(e,2,2);return TimeStudy(31).canBeApplied?`${formatX(e.pow(1/TimeStudy(31).effectValue),2,1)} (С учётом ИсслВ31: ${t})`:t}},{id:117,name:'В "Пятёрочке" теперь продаются Расширения!',get description(){return`Получите ${formatInt(750)} Расширений Измерений оптом.`},checkRequirement:([e])=>e>=750,checkEvent:GAME_EVENT.DIMBOOST_AFTER,get reward(){return`Расширения Измерений на ${formatPercents(.01)} сильнее.`},effect:1.01},{id:118,get name(){return`ОН БОЛЬШЕ ${formatInt(9e3)}!`},get description(){return`Получите множитель больше ${formatX(v.E9000)} от Пожертвования Измерений.`},checkRequirement:()=>Sacrifice.totalBoost.exponent>=9e3,checkEvent:GAME_EVENT.SACRIFICE_RESET_AFTER,reward:"Пожертвование Измерений ничего не сбрасывает, а его автоматика срабатывает\n      каждый тик вне зависимости от настройки, если она включена."},{id:121,name:"Ты можешь получить бесконечно много ОБ?",get description(){return`Достигните ${formatPostBreak("1e30008")} Очков Бесконечности.`},checkRequirement:()=>Currency.infinityPoints.exponent>=30008,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:122,name:"Ты уже мёртв.",description:"Совершите вечность, не покупая Измерений Антиматерии, кроме 1-го.",checkRequirement:()=>player.requirementChecks.eternity.onlyAD1,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:123,get name(){return`Ещё ${formatInt(5)} вечностей до обновления`},get description(){return`Достигните ${formatInt(50)} выполнений Испытаний Вечности.`},checkRequirement:()=>EternityChallenges.completions>=50,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},{id:124,name:"Долговечное отношение",get description(){return`Сделайте так, чтобы ваш прирост Силы Бесконечности в секунду превышал её количество ${formatInt(60)} секунд подряд в течение одной бесконечности.`},checkRequirement:()=>AchievementTimers.marathon2.check(!EternityChallenge(7).isRunning&&InfinityDimension(1).productionPerSecond.gt(Currency.infinityPower.value),60),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:125,name:"Уплетая за обе щёчки",get description(){return`Достигните ${format(v.E90)} Очков Бесконечности,\n      не имея бесконечностей и не получив ни одного 1-го Измерения Антиматерии в текущей вечности.`},checkRequirement:()=>Currency.infinityPoints.exponent>=90&&player.requirementChecks.eternity.noAD1&&Currency.infinities.eq(0),checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"множитель к получению Очков Бесконечности в зависимости от длительности текущей бесконечности.",effect(){const e=10*Time.thisInfinity.totalSeconds+1;return v.D2.pow(Math.log(e)*Math.min(Math.pow(e,.11),500))},cap:()=>Effarig.eternityCap,formatEffect:e=>`${formatX(e,2,2)}`},{id:126,name:"Популярная музыка",get description(){return`Получите в ${formatInt(180)} раз больше Галактик Репликанти, чем Галактик Антиматерии.`},checkRequirement:()=>Replicanti.galaxies.total>=180*player.galaxies&&player.galaxies>0,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`при получении Галактик Репликанти ваше количество Репликанти уменьшается в ${format(Decimal.NUMBER_MAX_VALUE,1,0)}\n        раз за каждую получаемую ГР, а не сбрасывается.`}},{id:127,name:"Но мне хотелось ещё одного слоя престижа…",get description(){return`Достигните ${format(Decimal.NUMBER_MAX_VALUE,1,0)} Очков Вечности.`},checkRequirement:()=>Currency.eternityPoints.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:128,name:"Что мне нужно сделать, чтобы избавиться от тебя?",get description(){return`Достигните ${formatPostBreak("1e22000")} Очков Бесконечности, не имея Исследований Времени.`},checkRequirement:()=>Currency.infinityPoints.exponent>=22e3&&0===player.timestudy.studies.length,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"множитель к Измерениям Времени в зависимости от вашего количества Исследований Времени.",effect:()=>Math.max(player.timestudy.studies.length,1),formatEffect:e=>`${formatX(e)}`},{id:131,name:"Никакой потребительской этики",get description(){return`Сохраните ${format(v.D2E9)} бесконечностей.`},checkRequirement:()=>Currency.infinitiesBanked.gt(v.D2E9),checkEvent:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION],get reward(){return`множитель ${formatX(2)} к получению бесконечностей; на вечности вы навсегда сохраняете ${formatPercents(.05)} \n        бесконечностей (складывается с ИсслВ191).`},effects:{infinitiesGain:2,bankedInfinitiesGain:()=>Currency.infinities.value.times(.05).floor()}},{id:132,name:"Уникальные снежинки",get description(){return`Достигните ${formatInt(569)} Галактик Антиматерии,\n        не получив ни одной Галактики Репликанти в текущей вечности.`},checkRequirement:()=>player.galaxies>=569&&player.requirementChecks.eternity.noRG,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,reward:"множитель к получению Тахионов и производству Замедленного Времени в зависимости от количества Галактик Антиматерии.",effect:()=>1.22*Math.max(Math.pow(player.galaxies,.04),1),formatEffect:e=>`${formatX(e,2,2)}`},{id:133,name:"Мне всё равно никогда эти приколы с бесконечностью не нравились",get description(){return`Достигните ${formatPostBreak(v.E200000)} Очков Бесконечности, не купив ни одного\n        Измерения Бесконечности или удвоителя ОБ в текущей вечности.`},checkRequirement:()=>Array.dimensionTiers.map(InfinityDimension).every((e=>0===e.baseAmount))&&0===player.IPMultPurchases&&Currency.infinityPoints.exponent>=2e5,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"все Испытания Бесконечности всегда разблокированы и выполнены."},{id:134,name:"Когда будет достаточно?",get description(){return`Достигните ${formatPostBreak(v.E18000)} Репликанти.`},checkRequirement:()=>Replicanti.amount.exponent>=18e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ${formatX(2)} к скорости репликации, когда ваше количество Репликанти меньше ограничения.`}},{id:135,get name(){return`Быстрее, чем картофелина в степени ${formatInt(286078)}`},get description(){return`Сделайте скорость тика не менее ${formatPostBreak("1e8296262")}.`},checkRequirement:()=>Tickspeed.current.exponent<=-8296259,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:136,name:"Я тебе уже говорил, время относительно",description:"Замедлите Время.",checkEvent:GAME_EVENT.ACHIEVEMENT_EVENT_OTHER},{id:137,name:"Теперь ты мыслишь замедленно!",get description(){return`Достигните ${formatPostBreak("1e260000")} антиматерии в первую минуту Замедления.`},checkRequirement:()=>Currency.antimatter.exponent>=26e4&&Time.thisEternity.totalMinutes<=1&&player.dilation.active,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ${formatX(2)} к производству Замедленного Времени и Теорем Времени в Замедлении.`},effect:()=>player.dilation.active?2:1},{id:138,name:"Вот что мне нужно сделать, чтобы избавиться от тебя.",get description(){return`Достигните ${formatPostBreak("1e26000")} Очков Бесконечности в Замедлении, не имея Исследований Времени.`},checkRequirement:()=>0===player.timestudy.studies.length&&player.dilation.active&&Currency.infinityPoints.exponent>=26e3,checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"Исследования Времени 131 и 133 избавляются от своих отрицательных эффектов."},{id:141,name:"Возвращение к реальности",description:"Совершите реальность.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`множитель ${formatX(4)} к получению Очков Бесконечности; множитель за покупку ${formatInt(10)}\n        Измерений Антиматерии увеличен на ${format(.1,0,1)}.`},effects:{ipGain:4,buyTenMult:.1}},{id:142,name:"Как это работает?",description:"Разблокируйте Автоматизатор.",checkRequirement:()=>Player.automatorUnlocked,checkEvent:[GAME_EVENT.REALITY_RESET_AFTER,GAME_EVENT.REALITY_UPGRADE_BOUGHT,GAME_EVENT.PERK_BOUGHT,GAME_EVENT.BLACK_HOLE_UNLOCKED],get reward(){return`Расширения Измерений на ${formatPercents(.5)} сильнее.`},effect:1.5},{id:143,name:"Эй, чувак, я слышал, тебе нравились переделки…",get description(){return`Получите на вечности хотя бы в ${format(Decimal.NUMBER_MAX_VALUE,1,0)} раз больше\n        Очков Вечности, чем на предыдущей, ${formatInt(9)} раз подряд в течение одной реальности.`},checkRequirement:()=>{if(player.records.recentEternities.some((e=>e[0]===Number.MAX_VALUE)))return!1;const e=player.records.recentEternities.map((e=>e[2]));for(let t=0;t<e.length-1;t++)if(e[t].lt(e[t+1].times(Decimal.NUMBER_MAX_VALUE)))return!1;return!0},checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER,reward:"Расширения Измерений не сбрасываются при получении Галактик Антиматерии."},{id:144,name:'Это отсылка к "Интерстеллару"?',description:"Разблокируйте Чёрную Дыру.",checkRequirement:()=>BlackHole(1).isUnlocked,checkEvent:GAME_EVENT.BLACK_HOLE_UNLOCKED},{id:145,name:"Ты уверен, что они в правильном порядке?",description:"Сделайте фазу бездействия одной из Чёрных Дыр короче фазы её действия.",checkRequirement:()=>BlackHoles.list.some((e=>e.interval<e.duration)),checkEvent:GAME_EVENT.BLACK_HOLE_UPGRADE_BOUGHT,get reward(){return`фазы бездействия Чёрных Дыр на ${formatPercents(.1)} короче.`},effect:.9},{id:146,name:"Жизненные навыки",description:"Купите все Навыки.",checkRequirement:()=>player.reality.perks.size===Perks.all.length,checkEvent:GAME_EVENT.PERK_BOUGHT,get reward(){return`увеличить редкость получаемых глифов на ${formatPercents(.01)}.`},effect:1},{id:147,name:"Мастер реальности",description:"Купите все Улучшения Реальности.",checkRequirement:()=>RealityUpgrades.allBought,checkEvent:GAME_EVENT.REALITY_UPGRADE_BOUGHT,reward:"разблокировать Терезу, Небожителя Реальности."},{id:148,name:"Флеш-рояль",description:"Совершите реальность, имея по одному действующему глифу каждого из основных типов.",checkRequirement:()=>BASIC_GLYPH_TYPES.every((e=>Glyphs.activeList.some((t=>t.type===e)))),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,reward:"увеличить уровень получаемых глифов на количество действующих типов глифов.",effect:()=>new Set(Glyphs.activeWithoutCompanion.map((e=>e.type))).size,formatEffect:e=>`+${formatInt(e)}`},{id:151,name:"В самом деле, тебе оно всё равно не было нужно",get description(){return`Достигните ${formatInt(800)} Галактик Антиматерии, не купив ни одного\n        8-го Измерения Антиматерии в текущей бесконечности.`},checkRequirement:()=>player.galaxies>=800&&player.requirementChecks.infinity.noAD8,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,reward:"разблокировать Ви, Небожителя Достижений."},{id:152,name:"У вас ещё есть глифы?",get description(){return`Поместите ${formatInt(100)} глифов в инвентарь.`},checkRequirement:()=>Glyphs.inventoryList.length>=100,checkEvent:GAME_EVENT.GLYPHS_CHANGED},{id:153,name:"Антиматерия не имеет значения",description:"Совершите реальность, не производя антиматерии.",checkRequirement:()=>player.requirementChecks.reality.noAM,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},{id:154,name:"Я скорость",get description(){return`Совершите реальность за ${formatInt(5)} секунд или быстрее.`},checkRequirement:()=>Time.thisReality.totalSeconds<=5,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`каждую реальность вы с вероятностью ${formatPercents(.1)} получаете вдвое больше реальностей и Очков Умения.`},effect:.1},{id:155,name:"Достижение №15983",get description(){return`Проведите в игре ${formatFloat(13.7,1)} миллиарда лет.`},checkRequirement:()=>Time.totalTimePlayed.totalYears>137e8,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`фазы действия Чёрных Дыр на ${formatPercents(.1)} дольше.`},effect:1.1},{id:156,name:"Отчисленный из колледжа",description:"Совершите реальность, не купив ни одной Теоремы Времени.",checkRequirement:()=>player.requirementChecks.reality.noPurchasedTT,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`множитель ${formatX(2.5,0,1)} к производству Теорем Времени; подарочный купон во "Вкусно - и точка"™️.`},effect:2.5},{id:157,name:"Запредельная эффективность!",get description(){return`Получите глиф с ${formatInt(4)} эффектами.`},checkRequirement:()=>Glyphs.activeList.concat(Glyphs.inventoryList).map((e=>getGlyphEffectsFromBitmask(e.effects,0,0).filter((e=>e.isGenerated)).length)).max()>=4,checkEvent:GAME_EVENT.GLYPHS_CHANGED},{id:158,name:"Ты чё, залез в эту дыру головой?",description:"Сделайте действие обеих Чёрных Дыр беспрервыным.",checkRequirement:()=>BlackHole(1).isPermanent&&BlackHole(2).isPermanent,checkEvent:GAME_EVENT.BLACK_HOLE_UPGRADE_BOUGHT,get reward(){return`Чёрные Дыры на ${formatPercents(.1)} сильнее.`},effect:1.1},{id:161,name:"а вот тут ты не прав, детка",get description(){return`Достигните ${formatPostBreak(v.E1E8)} антиматерии в Замедлении.`},checkRequirement:()=>Currency.antimatter.exponent>=1e8&&player.dilation.active,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:162,name:"Вновь установил игру и присоединился к серверу",description:"Имейте все Исследования Времени одновременно.",checkRequirement:()=>player.timestudy.studies.length>=58,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:163,name:"В самом деле, это так просто! Неудобств практически нет!",get description(){return`Выполните все Испытания Вечности по ${formatInt(5)} раз в первую секунду реальности.`},checkRequirement:()=>EternityChallenges.all.map((e=>e.completions)).min()>=5&&Time.thisReality.totalSeconds<=1,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:164,name:"Бесконечность дважды",get description(){return`Достигните ${format(Decimal.NUMBER_MAX_VALUE,1)} бесконечностей.`},checkRequirement:()=>Currency.infinitiesTotal.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ×${formatInt(1024)} к получению бесконечностей.`},effect:1024},{id:165,name:"Идеальный баланс",get description(){return`Получите глиф уровня хотя бы ${formatInt(5e3)} при равенстве всех весов факторов уровня глифа.`},checkRequirement:()=>gainedGlyphLevel().actualLevel>=5e3&&["repl","dt","eternities"].every((e=>player.celestials.effarig.glyphWeights[e]===player.celestials.effarig.glyphWeights.ep)),checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,reward:"разблокировать опцию автоматической корректировки весов факторов уровня глифа."},{id:166,name:"Ещё красивее.",get description(){return`Получите глиф уровня ${formatInt(6969)}.`},checkRequirement:()=>6969===gainedGlyphLevel().actualLevel,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE,get reward(){return`увеличить уровень получаемых глифов на ${formatInt(69)}.`},effect:69},{id:167,name:"Г-н Слой? Извините, вас нет в списке",get description(){return`Достигните ${format(Decimal.NUMBER_MAX_VALUE,1,0)} Машин Реальности.`},checkRequirement:()=>Currency.realityMachines.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER,reward:"множитель к получению Машин Реальности в зависимости от их количества.",effect:()=>Math.clampMin(1,Currency.realityMachines.value.log2()),formatEffect:e=>`${formatX(e,2,2)}`},{id:168,name:"Ух ты, мы на полпути",get description(){return`Достигните ${formatInt(50)} Уровней в сумме по всем Небожителям.`},checkRequirement:()=>Ra.totalPetLevel>=50,checkEvent:GAME_EVENT.GAME_TICK_AFTER,get reward(){return`множитель ${formatX(1.1,1,1)} к производству Памяти.`},effect:1.1},{id:171,name:"Бог восхищён",description:"Пожертвуйте хотя бы по одному глифу каждого типа глифов, которые можно жертвовать.",checkRequirement:()=>Object.values(player.reality.glyphs.sac).every((e=>e>0)),checkEvent:GAME_EVENT.GLYPHS_CHANGED,get reward(){return`множитель ${formatX(2)} к жертвенной ценности глифов.`},effect:2},{id:172,name:"Автостопом по реальности",get description(){return`Совершите реальность, получив не менее ${format(Decimal.NUMBER_MAX_VALUE,1)} Машин Реальности,\n      не имея на всём её протяжении ни Заряженных Улучшений Бесконечности, ни действующих глифов, ни Тройственных Исследований.`},checkRequirement:()=>MachineHandler.gainedRealityMachines.gte(Decimal.NUMBER_MAX_VALUE)&&0===player.celestials.ra.charged.size&&0===Glyphs.activeWithoutCompanion.length&&player.requirementChecks.reality.noTriads,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},{id:173,name:"Cet accomplissement n'existe pas III",get description(){return`Достигните ${formatPostBreak(v.D9_99999E999,5,0)} Машин Реальности.`},checkRequirement:()=>player.reality.realityMachines.gte(v.D9_99999E999),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:174,name:"Разве у тебя не было пары этих штук?",description:"Получите Сингулярность.",checkRequirement:()=>!0,checkEvent:GAME_EVENT.SINGULARITY_RESET_BEFORE},{id:175,name:"The First Antihistorian",get description(){return`Имейте по ${formatInt(Ra.alchemyResourceCap)} каждого алхимического ресурса одновременно.`},checkRequirement:()=>AlchemyResources.all.every((e=>e.amount>=Ra.alchemyResourceCap)),checkEvent:GAME_EVENT.REALITY_RESET_AFTER,get reward(){return`ограничение на эффект Синергии отменено; эффект Импульса растёт в ${formatInt(10)} раз быстрее.`},effect:10},{id:176,name:"Мама сосчитала до трёх",description:"Совершите аннигиляцию."},{id:177,name:"Эта миля заняла Небожителя",description:"Получите хотя бы по одному выполнению каждого Этапа Сингулярности.",checkRequirement:()=>SingularityMilestones.all.every((e=>e.completions>0)),checkEvent:GAME_EVENT.SINGULARITY_RESET_AFTER},{id:178,name:"Разрушитель миров",get description(){return`Достигните ${formatInt(1e5)} Галактик Антиматерии.`},checkRequirement:()=>player.galaxies>=1e5,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER,get reward(){return`галактики на ${formatPercents(.01)} сильнее.`},effect:1.01},{id:181,displayId:666,name:"Antimatter Dimensions Eternal",description:"Обреките Реальность.",checkRequirement:()=>Pelle.isDoomed,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},{id:182,name:"Ещё один раз",description:"Разблокируйте автоматику всех Измерений Антиматерии в Обречении.",checkRequirement:()=>PelleUpgrade.antimatterDimAutobuyers1.canBeApplied&&PelleUpgrade.antimatterDimAutobuyers2.canBeApplied,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:183,name:"Дежавю",description:"Выполните 5-е Испытание Бесконечности в Обречении.",checkRequirement:()=>Pelle.isDoomed&&InfinityChallenge(5).isCompleted,checkEvent:GAME_EVENT.INFINITY_CHALLENGE_COMPLETED,get reward(){return`множители Измерений Антиматерии возведены в степень ${format(1.0812403840463596,5,5)}.`},effect:1.0812403840463596},{id:184,name:"Страйк-аут",description:"Получите Третий Удар.",checkRequirement:()=>PelleStrikes.eternity.hasStrike,checkEvent:GAME_EVENT.PELLE_STRIKE_UNLOCKED},{id:185,name:"Восемь десятков и семь лет назад",description:"Получите Четвёртый Удар.",checkRequirement:()=>PelleStrikes.ECs.hasStrike,checkEvent:GAME_EVENT.PELLE_STRIKE_UNLOCKED},{id:186,displayId:181,name:"Нездоровая одержимость",description:"Купите Исследование Времени 181 в Обречении."},{id:187,name:"Повелитель Замедленного Времени",description:"Замедлите Время в Обречении.",checkRequirement:()=>PelleStrikes.dilation.hasStrike,checkEvent:GAME_EVENT.PELLE_STRIKE_UNLOCKED,get reward(){return`удвоитель Замедленного Времени даёт множитель ${formatX(2.7,1,1)}.`},effect:1.35},{id:188,name:"Конец",description:"Полностью пройдите игру.",checkRequirement:()=>GameEnd.endState>END_STATE_MARKERS.GAME_END&&!GameEnd.removeAdditionalEnd,checkEvent:GAME_EVENT.GAME_TICK_AFTER}],Ue=[{id:11,name:"Первое всегда бесплатное",description:"Нажмите на это достижение."},{id:12,name:"На всякий случай",get description(){return`Сохраните игру ${formatInt(100)} раз на протяжении одного сеанса.`}},{id:13,name:"Почтение необходимо",description:"Почтите память."},{id:14,name:"Я тоже",description:"Скажите что-нибудь пошлое."},{id:15,name:"Сделай бочку!",description:"Сделайте бочку."},{id:16,name:"Тебе нравится боль?",get description(){return`Играйте на болезненной нотации в течение ${formatInt(10)} минут реального времени всего после первой вечности.`},checkRequirement:()=>AchievementTimers.pain.check(PlayerProgress.eternityUnlocked()&&Notations.current.isPainful,600),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:17,get name(){return`${formatInt(30)} жизней`},description:"Введите код Konami."},{id:18,name:"Чувствуешь себя везунчиком? Да, сопляк?",get description(){return`Каждую секунду вы с вероятностью ${formatInt(1)}/${formatInt(1e5)} выполняете это достижение.`}},{id:21,name:"Лучше иди исследуй реальную жизнь",description:"Купите секретное Исследование Времени."},{id:22,name:"Глубоко прожаренный",get description(){return`Купите ${formatInt(1e5)} Галактик Антиматерии на нотации "Эмодзи" всего.`},checkRequirement:()=>player.requirementChecks.permanent.emojiGalaxies>=1e5,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER},{id:23,name:"Стой на месте, преступный элемент!",description:"Откройте консоль."},{id:24,name:"Настоящие новости",description:"Нажмите на новость, которая как-нибудь реагирует на нажатие."},{id:25,name:"Шшшш… Это секрет",description:"Найдите секретную тему."},{id:26,name:"Ты неудачник",get description(){return`Провалите Испытание Вечности ${formatInt(10)} раз на протяжении одного сеанса.\n      Что вы делаете со своей жизнью…`},checkRequirement:function(){let e=0;return()=>++e>=10}(),checkEvent:GAME_EVENT.CHALLENGE_FAILED},{id:27,name:'Разве эта игра называется "Измерения Материи"?',get description(){return`Достигните ${formatPostBreak(Decimal.NUMBER_MAX_VALUE,1,1)} материи.`},checkRequirement:()=>Currency.matter.gte(Decimal.NUMBER_MAX_VALUE),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:28,name:"Красиво.",description:"Не делайте вид, словно не знаете, что сделали."},{id:31,name:"Тебе стоит загрузить побольше оперативной памяти",get description(){return`Выставите интервал обновления на ${formatInt(200)}мс.`}},{id:32,get name(){return`Меньше или равно ${format(.001,3,3)}`},get description(){return`Совершите бесконечность или вечность за ${format(.001,3,3)} секунды или быстрее.`},checkRequirement:()=>Time.bestInfinity.totalMilliseconds<=1||Time.bestEternity.totalMilliseconds<=1,checkEvent:[GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.ETERNITY_RESET_AFTER]},{id:33,name:"Алхимик высшей категории",description:"Попытайтесь облагородить Глиф Реальности."},{id:34,name:"Ты знаешь, как это работает, да?",description:"Сбросьте пустое Древо Исследований."},{id:35,name:'Может, скажем им про кнопку "Купить все"…',get description(){return`Купите ${formatInt(1e5)} одиночных ускорителей.`},checkRequirement:()=>player.requirementChecks.permanent.singleTickspeed>=1e5,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:36,name:"Пока тебя не было… Ничего не произошло.",description:"Сделайте так, чтобы игра сообщила вам, что пока вас не было, ничего не произошло."},{id:37,name:"Ты следовал инструкции",description:"Следуйте инструкции."},{id:38,name:"Лезвие ножа",description:"Закройте окно подтверждения полного сброса сохранения, введя подтвердительную фразу."},{id:41,name:"Этого измерения не существует",description:"Попытайтесь купить девятое измерение."},{id:42,name:"КАКОЙ ПОЗОР",description:"Попытайтесь использовать ИспВ12 для ускорения времени."},{id:43,name:"Несогласованный хор",description:"Имейте пять действующих музыкальных глифов.",checkRequirement:()=>Glyphs.active.length&&Glyphs.active.every((e=>Glyphs.isMusicGlyph(e))),checkEvent:GAME_EVENT.GLYPHS_EQUIPPED_CHANGED},{id:44,name:"Ну что, доволен?",get description(){return`Сосредоточенно созерцайте вкладку "Статистика" в течение ${formatInt(15)} минут реального времени подряд.`},checkRequirement:()=>AchievementTimers.stats.check(Tab.statistics.isOpen,900),checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:45,name:"Что-то подёргивание затянулось",description:"Дёргайте Навык в течение минуты реального времени подряд.",checkRequirement:()=>player.requirementChecks.permanent.perkTreeDragging++/100>=60},{id:46,name:"На чёрный день",description:"Сохраните день реального времени."},{id:47,name:"ALT+",description:"Скройте как можно больше вкладок."},{id:48,name:"Stack Overflow",description:"Сделайте так, чтобы в текущей программе для Автоматизатора было больше ошибок, чем строк."}],Ge={normal:Pe,secret:Ue},Ne=[{name:"antimatter",forcedName:"антиматерии",isUnlocked:()=>!0},{name:"dimensionBoosts",forcedName:"Расширений Измерений",isUnlocked:()=>!0},{name:"antimatterGalaxies",forcedName:"Галактик Антиматерии",reference:["galaxies"],isUnlocked:()=>!0},{name:"infinities",forcedName:"бесконечностей",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"infinityPoints",forcedName:"Очков Бесконечности",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"replicanti",forcedName:"Репликанти",reference:["replicanti","amount"],isUnlocked:()=>PlayerProgress.replicantiUnlocked()},{name:"replicantiGalaxies",forcedName:"Галактик Репликанти",reference:["replicanti","galaxies"],isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"eternities",forcedName:"вечностей",isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"eternityPoints",forcedName:"Очков Вечности",isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"tachyonParticles",forcedName:"Тахионов",reference:["dilation","tachyonParticles"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"dilatedTime",forcedName:"Замедленного Времени",reference:["dilation","dilatedTime"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"timeTheorems",forcedName:"Теорем Времени",reference:["timestudy","theorem"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"tachyonGalaxies",forcedName:"Тахионных Галактик",reference:["dilation","totalTachyonGalaxies"],isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked()},{name:"achievementAmount",forcedName:"достижений",reference:["achievementBits"],applyFn:e=>e.map((e=>countValuesFromBitmask(e))).sum(),isUnlocked:()=>!0},{name:"realities",forcedName:"реальностей",isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"realityMachines",forcedName:"Машин Реальности",reference:["reality","realityMachines"],isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"blackHole",forcedName:"Чёрная Дыра",isUnlocked:()=>BlackHole(1).isUnlocked,appearsInAwayModal:!1},{name:"firstBlackHole",forcedName:"1-я Чёрная Дыра",awayOption:"blackHole",reference:["blackHole","0","activations"],isUnlocked:()=>BlackHole(1).isUnlocked,classObjectReference:"black-hole",showOption:!1},{name:"secondBlackHole",forcedName:"2-я Чёрная Дыра",awayOption:"blackHole",reference:["blackHole","1","activations"],isUnlocked:()=>BlackHole(2).isUnlocked,classObjectReference:"black-hole",showOption:!1},{name:"relicShards",forcedName:"Реликтовых Осколков",reference:["celestials","effarig","relicShards"],isUnlocked:()=>TeresaUnlocks.effarig.canBeApplied},{name:"celestialMemories",forcedName:"Памяти Небожителей",isUnlocked:()=>VUnlocks.raUnlock.isUnlocked,appearsInAwayModal:!1},{name:"teresaMemories",forcedName:"Памяти Терезы",awayOption:"celestialMemories",reference:["celestials","ra","pets","teresa","memories"],isUnlocked:()=>Ra.pets.teresa.isUnlocked&&!Ra.pets.teresa.isCapped,showOption:!1},{name:"effarigMemories",forcedName:"Памяти Эффарига",awayOption:"celestialMemories",reference:["celestials","ra","pets","effarig","memories"],isUnlocked:()=>Ra.pets.effarig.isUnlocked&&!Ra.pets.effarig.isCapped,showOption:!1},{name:"enslavedMemories",forcedName:"Памяти Безымянных",awayOption:"celestialMemories",reference:["celestials","ra","pets","enslaved","memories"],isUnlocked:()=>Ra.pets.enslaved.isUnlocked&&!Ra.pets.enslaved.isCapped,showOption:!1},{name:"vMemories",forcedName:"Памяти Ви",awayOption:"celestialMemories",reference:["celestials","ra","pets","v","memories"],isUnlocked:()=>Ra.pets.v.isUnlocked&&!Ra.pets.v.isCapped,showOption:!1},{name:"imaginaryMachines",forcedName:"Мнимых Машин",reference:["reality","imaginaryMachines"],isUnlocked:()=>MachineHandler.isIMUnlocked},{name:"darkMatter",forcedName:"Тёмной Материи",reference:["celestials","laitela","darkMatter"],isUnlocked:()=>Laitela.isUnlocked},{name:"darkEnergy",forcedName:"Тёмной Энергии",reference:["celestials","laitela","darkEnergy"],isUnlocked:()=>Laitela.isUnlocked},{name:"singularities",forcedName:"Сингулярностей",reference:["celestials","laitela","singularities"],isUnlocked:()=>player.celestials.laitela.singularities},{name:"realityShards",forcedName:"Осколков Реальности",reference:["celestials","pelle","realityShards"],isUnlocked:()=>Pelle.isDoomed}],Be=[{name:"Измерения Антиматерии",id:0,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:()=>"каждое следующее Измерение Антиматерии непрерывно производит предыдущее. 1-е\n      Измерение Антиматерии производит антиматерию."},{name:"Ускорители",id:1,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:"улучшения, которые ускоряют производство\n      всех Измерений Антиматерии."},{name:"Автоматика",id:2,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:"встроенная в игру система, которая автоматически покупает Измерения\n      Антиматерии и ускорители, когда это возможно."},{name:"Расширения Измерений",id:3,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:"получаются путём сброса ваших Измерений Антиматерии, ускорителей и антиматерии по\n      достижении определённого количества наивысшего доступного Измерения Антиматерии. Дают множитель к\n      Измерениям Антиматерии."},{name:"Галактики Антиматерии",id:4,requiredStage:PROGRESS_STAGE.PRE_INFINITY,description:"получаются путём сброса ваших Расширений Измерений, Измерений Антиматерии, ускорителей и антиматерии.\n      Усиливают ускорители."},{name:"Бесконечность",id:5,requiredStage:PROGRESS_STAGE.EARLY_INFINITY,description:()=>`первый полноценный слой престижа в игре. Достигая ${format(Number.MAX_VALUE,2)} антиматерии,\n      вы можете сбросить весь предыдущий прогресс и разблокировать новые ресурсы и контент.`},{name:"Очки Бесконечности",id:6,openH2pEntry:"Бесконечность",requiredStage:PROGRESS_STAGE.EARLY_INFINITY,description:"основной ресурс после достижения бесконечности. Тратятся\n      на улучшения, которые не сбрасываются на бесконечности."},{name:"Обычные Испытания",id:7,requiredStage:PROGRESS_STAGE.EARLY_INFINITY,description:()=>`выполняются путём достижения ${format(Number.MAX_VALUE,2)} антиматерии при особых\n      условиях. При выполнении испытаний вы разблокируете возможность улучшать автоматику.`},{name:"Преодоление Бесконечности",id:8,requiredStage:PROGRESS_STAGE.BREAK_INFINITY,description:()=>`Улучшив автоматику Большого Сжатия до предела, вы можете набирать больше\n      ${format(Number.MAX_VALUE,2)} антиматерии, и чем больше у вас антиматерии, тем больше Очков Бесконечности вы получаете.`},{name:"Измерения Бесконечности",id:9,requiredStage:PROGRESS_STAGE.BREAK_INFINITY,description:()=>"производят друг друга, как Измерения Антиматерии. 1-е\n      Измерение Бесконечности производит Силу Бесконечности, которая даёт большой множитель ко всем Измерениям Антиматерии."},{name:"Испытания Бесконечности",id:10,requiredStage:PROGRESS_STAGE.BREAK_INFINITY,description:()=>`новый набор испытаний, цели которых выше\n      ${format(Number.MAX_VALUE,2)} антиматерии. Дают уникальные награды при выполнении.`},{name:"Репликанти",id:11,requiredStage:PROGRESS_STAGE.REPLICANTI,description:()=>`производят себя со временем и дают множитель ко всем\n      Измерениям Бесконечности. Достигая ${format(Number.MAX_VALUE,2)} Репликанти, вы можете сбросить их до ${formatInt(1)} за\n      дополнительную галактику, не влияющую на цены Галактик Антиматерии. Репликанти сбрасываются на бесконечности.`},{name:"Вечность",id:12,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:()=>`второй полноценный слой престижа в игре. Достигая ${format(Number.MAX_VALUE,2)} Очков Бесконечности,\n      вы можете сбросить весь предыдущий прогресс и разблокировать новые ресурсы и контент.`},{name:"Очки Вечности",id:13,openH2pEntry:"Вечность",requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:"основной ресурс после достижения вечности. Их получение зависит от вашего количества\n      Очков Бесконечности в момент совершения вечности."},{name:"Исследования Времени",id:14,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:"улучшения, которые расположены в форме Древа, покупаются по порядку в соответствии с его структурой и могут быть свободно\n      сброшены на вечности с возвращением потраченных на них ресурсов. Существуют запреты на\n      одновременную покупку определённых наборов Исследований."},{name:"Этапы Вечности",id:15,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:"формы встроенных в игру удобств и автоматики, которые получаются путём\n      достижения определённого количества вечностей без траты каких-либо ресурсов."},{name:"Измерения Времени",id:16,requiredStage:PROGRESS_STAGE.EARLY_ETERNITY,description:()=>"производят друг друга, как прошлые два вида Измерений. 1-е Измерение Времени производит Осколки\n      Времени, дающие дополнительные ускорители, которые не влияют на цены\n      ускорителей, покупаемых за антиматерию."},{name:"Испытания Вечности",id:17,requiredStage:PROGRESS_STAGE.ETERNITY_CHALLENGES,description:()=>`выполняются путём достижения определённого количества Очков Бесконечности в отдельной вечности\n      с особыми условиями. Каждое Испытание Вечности может быть выполнено до ${formatInt(5)} раз, причём с каждым разом как цель,\n      так и награда растут.`},{name:"Замедление Времени",id:18,requiredStage:PROGRESS_STAGE.EARLY_DILATION,description:"уникальное испытание, представляющее собой вечность, в которой сильно уменьшены\n      множители всех Измерений и скорость тика. При завершении вечности в Замедлении вы получаете Тахионы."},{name:"Тахионы",id:19,openH2pEntry:"Замедление Времени",requiredStage:PROGRESS_STAGE.EARLY_DILATION,description:"ресурс, который невозможно копить, а вместо этого получается путём достижения\n      большего количества антиматерии в Замедлении. Производят Замедленное Время."},{name:"Реальность",id:20,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:()=>`третий и последний полноценный слой престижа. Достигая ${format(v.E4000)} Очков Вечности,\n      вы можете сбросить весь предыдущий прогресс и разблокировать новые ресурсы и контент.`},{name:"Машины Реальности",id:21,openH2pEntry:"Реальность",requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:"основной ресурс после достижения реальности. Их получение зависит от вашего количества\n      Очков Вечности в момент совершения реальности."},{name:"Навыки",id:22,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:"улучшения, которые, как Этапы Вечности, дают удобства и\n      автоматику. Покупаются за Очки Умения, которые вы получаете на реальности."},{name:"Глифы",id:23,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:"предметы с эффектами, которые можно активировать в ограниченном количестве, а деактивировать лишь на реальности. Каждую реальность\n      вы выбираете один из нескольких случайно генерированных глифов; их среднее качество\n      зависит от рекордного количества определённых ресурсов в текущей реальности."},{name:"Автоматизатор",id:24,openH2pEntry:"Обзор автоматизатора",requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:"встроенная в игру автоматическая система, которая позволяет себя запрограммировать, так что\n      при наличии необходимых Навыков и Улучшений Реальности вы сможете полностью автоматизировать реальности."},{name:"Чёрная Дыра",id:25,requiredStage:PROGRESS_STAGE.EARLY_REALITY,description:"периодически ускоряет игру на короткое время, что влияет на все разблокированные\n      к этому моменту механики."},{name:"Тереза",id:26,requiredStage:PROGRESS_STAGE.TERESA,description:"первый Небожитель. Выполнение её Реальности даёт огромный множитель к\n      жертвенной ценности глифов. Другие бонусы от Терезы ещё больше автоматизируют и ускоряют реальности,\n      что упрощает тестирование глифов."},{name:"Эффариг",id:27,requiredStage:PROGRESS_STAGE.EFFARIG,description:"второй Небожитель. В его Реальности фактические уровни глифов ограничены. Каждый достигнутый в ней\n      слой престижа даёт свою награду. Также Эффариг разблокирует улучшения, покупаемые за новый ресурс - Реликтовые Осколки, - \n      которые автоматизируют выбор и упорядочивание глифов, получаемых вами в большом количестве."},{name:"Безымянные",id:28,requiredStage:PROGRESS_STAGE.ENSLAVED,description:"третий Небожитель. Их Реальность чрезвычайно сурова и нетривиальна, зато \n      её выполнение разблокирует Тессеракты. Безымянные также разблокируют хранение времени."},{name:"Хранение времени",id:29,openH2pEntry:"Безымянные",requiredStage:PROGRESS_STAGE.ENSLAVED,description:"существует в двух вариантах. Хранение игрового времени осуществляется путём зарядки Чёрной Дыры, что\n      позволяет вам сосредоточить и использовать всю её силу в любом моменте времени. Хранение же реального времени позволяет\n      усилить реальность, умножая все награды за неё, как если бы вы в течение сохранённого времени повторили эту реальность многократно.\n      Эту опцию можно использовать вместо офлайн-прогресса."},{name:"Тессеракты",id:30,requiredStage:PROGRESS_STAGE.ENSLAVED,description:()=>"как известно, количество покупок всех Измерений Бесконечности, кроме 8-го,\n      ограничено. Тессеракты увеличивают это ограничение."},{name:"Ви",id:31,requiredStage:PROGRESS_STAGE.V,description:"четвёртый Небожитель. Имеет ряд особых достижений, которые могут быть выполнены\n      только внутри его Реальности. За это вы получаете новый ресурс - Теоремы Пространства,\n      которые тратятся на покупку взаимоисключающих Исследований Времени."},{name:"Ра",id:32,requiredStage:PROGRESS_STAGE.RA,description:"пятый Небожитель. Внутри его Реальности производятся особые ресурсы - Куски Памяти разных видов -\n      в зависимости от определённых параметров. Бонусы, которые даёт Ра, связаны в основном либо с качественным преобразованием\n      контента предыдущих Небожителей, либо с заполнением пробелов в системе автоматики и других удобств."},{name:"Память Небожителей",id:33,openH2pEntry:"Ра",requiredStage:PROGRESS_STAGE.RA,description:"особые ресурсы разных видов, каждый из которых производится со временем соответствующим видом Кусков\n      Памяти. Каждый вид соответсвует одному из прошлых Небожителей. Тратится на повышение Уровней Небожителей, которые\n      дают определённые бонусы."},{name:"Заряженные Улучшения Бесконечности",id:34,openH2pEntry:"Эффекты от Ра",requiredStage:PROGRESS_STAGE.RA,description:"разблокируются Уровнями Терезы. Замещают обычные Улучшения Бесконечности. Аналогичны им по эффекту,\n      но гораздо сильнее. Могут быть свободно сброшены на реальности."},{name:"Алхимия",id:35,requiredStage:PROGRESS_STAGE.RA,description:"разблокируется Уровнями Эффарига. Требует облагораживать глифы для получения бонусов, аналогично Пожертвованию Глифов.\n      Ресурсы, полученные таким путём, можно комбинировать в реакциях для получения других ресурсов, которые дают другие бонусы."},{name:"Тройственные Исследования",id:36,openH2pEntry:"Эффекты от Ра",requiredStage:PROGRESS_STAGE.RA,description:"разблокируются Уровнями Ви. Находятся в Древе Исследований и покупаются за Теоремы Пространства. \n      Чтобы заработать их, нужно выполнять новый набор достижений Ви - супердостижения Ви."},{name:"Мнимые Машины",id:37,openH2pEntry:"Мнимые Улучшения",requiredStage:PROGRESS_STAGE.IMAGINARY_MACHINES,description:()=>`новый ресурс, для получения которого необходимо достичь теоретического получения ${format(v.E1000)}\n      Машин Реальности. Производятся, экспоненциально приближаясь к своему ограничению, которое зависит от рекордного\n      теоретического получения Машин Реальности.`},{name:"Лайтела",id:38,requiredStage:PROGRESS_STAGE.LAITELA,description:"шестой Небожитель. Награда за её Реальность зависит от того, как быстро вы её выполнили.\n      Лайтела разблокирует несколько новых ресурсов, главный среди которых - Тёмная Материя."},{name:"Континуум",id:39,requiredStage:PROGRESS_STAGE.LAITELA,description:"замещает покупку Измерений Антиматерии и ускорителей, вместо этого непрерывно изменяясь по той же формуле,\n      что и количество покупок, и давая тот же бонус, но сильнее."},{name:"Измерения Тёмной Материи",id:40,requiredStage:PROGRESS_STAGE.LAITELA,description:()=>"производят друг друга, как прошлые три вида Измерений, с той лишь разницей, что делают это дискретно.\n      1-е Измерение Тёмной Материи производит Тёмную Материю."},{name:"Аннигиляция",id:41,openH2pEntry:"Измерения Тёмной Материи",requiredStage:PROGRESS_STAGE.LAITELA,description:"сбрасывает все Измерения Тёмной Материи, но даёт множитель к ним."},{name:"Вознесение",id:42,openH2pEntry:"Измерения Тёмной Материи",requiredStage:PROGRESS_STAGE.LAITELA,description:"совершается при улучшении интервала Измерения Тёмной Материи до предела.\n      Интервал при этом сбрасывается, но это Измерение получает множитель."},{name:"Сингулярности",id:43,requiredStage:PROGRESS_STAGE.LAITELA,description:"получаются путём сброса Тёмной Энергии при наличии её в достаточном количестве.\n      Этапы Сингулярности выдаются бесплатно по достижении определённого количества Сингулярностей и дают разнообразные бонусы."},{name:"Пелль",id:44,requiredStage:PROGRESS_STAGE.PELLE,description:"седьмой и последний Небожитель. Имеет экстремально суровую Обречённую Реальность,\n      из которой невозможно выйти."},{name:"Армагеддон",id:45,requiredStage:PROGRESS_STAGE.PELLE,description:"сброс, подобный реальности, который вы можете совершить в Обречении в любой момент.\n      Даёт Останки, производящие Осколки Реальности, которые можно тратить на различные улучшения."},{name:"Разломы и Удары Пелля",id:46,requiredStage:PROGRESS_STAGE.PELLE,description:"При достижении определённых стадий прогресса в Обречённой Реальности вы получаете Удары Пелля,\n      представляющие собой необратимые ослабления. Зато каждый Удар Пелля разблокирует свой Разлом, который можно\n      заполнять определённым ресурсом за определённый бонус. Разломы и Удары Пелля не сбрасываются при армагеддоне."}];function Oe(e){let t=232344573*Math.pow(e%97,4.3);const i=15485863,a=521791;t=t*i%a;for(let n=0;n<e*e%90+90;n++)t=t*i%a;return t/a}function Le(){return String.fromCharCode(Math.floor(50*Math.random())+192)}const $e={wordCycle(e,t=!1){const i=e.length,a=Math.floor(Date.now()/250)%(5*i),n=Date.now()/250%(5*i)%5,s=Math.floor(a/5);let r=e[s];if(n<.6?r=this.blendWords(e[(s+e.length-1)%e.length],e[s],(n+.6)/1.2):n>4.4&&(r=this.blendWords(e[s],e[(s+1)%e.length],(n-4.4)/1.2)),r=this.randomCrossWords(r,.1*Math.pow(n-2.5,4)-.6),t)return r;const o=Math.max(...e.map((e=>e.length))),l=(o-r.length)/2;return" ".repeat(Math.ceil(l))+r+" ".repeat(Math.floor(l))},randomCrossWords(e,t=.7){if(t<=0)return e;const i=e.split("");for(let a=0;a<i.length*t;a++){const e=Math.floor(Oe(Math.floor(Date.now()/500)%964372+1.618*a)*i.length);i[e]=Le()}return i.join("")},blendWords(e,t,i){return i<=0?e:i>=1?t:e.substring(0,e.length*(1-i))+t.substring(t.length*(1-i),t.length)}};function He(e){return Math.pow(e,10)}function Fe(e){if(VUnlocks.vAchievementUnlock.isUnlocked)return 1;const t=Object.values(GameDatabase.celestials.v.mainUnlock).find((t=>t.id===e));return t.progress()}function qe(e,t){const i=Object.values(GameDatabase.celestials.v.mainUnlock).find((e=>e.id===t));return e>=1?`${i.name} набрано`:`${i.format(i.resource())} / ${i.format(i.requirement)} ${i.name}.`}function Ve(e,t){const i=new Vector(750,550),a=(.7-.4*e)*Math.PI;return new Vector(t*Math.cos(a),-t*Math.sin(a)).plus(i)}function Ye(e,t,i){return function(){const a=75,n=(.4*e+.5)*Math.PI,s=n+2,r=LogarithmicSpiral.fromPolarEndpoints(Ve(e+.5,a),n,a,s,4/3*a),o=r.angleFromRadius(a+.01)-n,l=s-r.angleFromRadius(4/3*a);return{pathStart:n,pathEnd:s,path:r,pathPadStart:o,pathPadEnd:l,fill:t,drawOrder:i?Xe.NODE_OVERLAYS:void 0,noBG:i}}()}const je={LOCKED:0,FILL:1,DRAIN:2,OVERFILL:3};function We(e){const t=PelleRifts[e.toLowerCase()];return t.canBeApplied?Pelle.hasGalaxyGenerator&&1!==t.reducedTo?t.reducedTo<1?je.DRAIN:je.OVERFILL:je.FILL:je.LOCKED}const Xe={NODE_BG:0,CONNECTORS:1e3,NODES:2e3,NODE_OVERLAYS:3e3,CANVAS_OVERLAY:4e3},ze=Object.freeze({teresa:new Vector(100,100),teresaPerkPointShop:new Vector(0,-50),effarigShop:new Vector(300,0),effarigRealityUnlock:new Vector(400,50),effarigNode:new Vector(550,25),enslavedReality:new Vector(650,250),enslavedGlyphLevel:new Vector(650+75*Math.cos(Math.PI/180*-60),250+75*Math.sin(Math.PI/180*-60)),enslavedGlyphRarity:new Vector(650+75*Math.cos(Math.PI/180*120),250+75*Math.sin(Math.PI/180*120)),vUnlockAchievement:new Vector(400,350+50*Math.sqrt(3)),vAchievement0:new Vector(350,350),vAchievement1:new Vector(450,350),vAchievement2:new Vector(500,350+50*Math.sqrt(3)),vAchievement3:new Vector(450,350+100*Math.sqrt(3)),vAchievement4:new Vector(350,350+100*Math.sqrt(3)),vAchievement5:new Vector(300,350+50*Math.sqrt(3)),raReality:new Vector(400,200),raPetTeresa:new Vector(400+85*Math.sin(Math.PI/180*252),200+85*Math.cos(Math.PI/180*252)),raPetEffarig:new Vector(400+85*Math.sin(Math.PI/180*140),200+85*Math.cos(Math.PI/180*140)),raPetEnslaved:new Vector(400+85*Math.sin(Math.PI/180*78),200+85*Math.cos(Math.PI/180*78)),raPetV:new Vector(400+85*Math.sin(Math.PI/180*0),200+85*Math.cos(Math.PI/180*0)),laitelaFirstCenter:new Vector(150,450),laitelaFirstLeft:new Vector(100,500),laitelaFirstRight:new Vector(200,500),laitelaSecondCenter:new Vector(150,550),laitelaSecondLeft:new Vector(100,600),laitelaSecondRight:new Vector(200,600),laitelaThirdCenter:new Vector(150,650),pelleUnlock:new Vector(450,580),pelleAchievementRequirement:Ve(0,0),pelleVacuum:Ve(0,150),pelleDecay:Ve(1,150),pelleChaos:Ve(2,150),pelleRecursion:Ve(3,150),pelleParadox:Ve(4,150),pelleGalaxyGen:Ve(0,0)});function Ke(e,t,i,a){let n,s,r,o,l,c,u;switch(a){case je.FILL:n=()=>We(e)===je.FILL,s=()=>Math.clamp(.1+PelleRifts[e.toLowerCase()].realPercentage/.9,1e-6,1),r=()=>!1,o=()=>PelleRifts[e.toLowerCase()].realPercentage,l="c-celestial-nav__test-incomplete",c="crimson",u="crimson";break;case je.DRAIN:n=()=>We(e)>=je.DRAIN,s=()=>Math.clamp(Math.sqrt(PelleRifts[e.toLowerCase()].reducedTo),1e-6,1),r=()=>We(e)===je.DRAIN&&PelleRifts[e.toLowerCase()].reducedTo<1,o=()=>PelleRifts[e.toLowerCase()].reducedTo,l="c-celestial-nav__drained-rift",c="crimson",u="#550919";break;case je.OVERFILL:n=()=>We(e)===je.OVERFILL,s=()=>Math.clamp(PelleRifts[e.toLowerCase()].percentage-1,1e-6,1),o=()=>PelleRifts[e.toLowerCase()].percentage,r=()=>!0,l=void 0,c="#ff7700",u="#ff9900";break}return{visible:()=>Pelle.isDoomed&&n(),complete:()=>s(),node:{clickAction:()=>Tab.celestials.pelle.show(!0),incompleteClass:l,position:ze[`pelle${e}`],fill:c,ring:{rMajor:8},forceLegend:()=>r(),legend:{text:()=>[`${$e.wordCycle(PelleRifts[e.toLowerCase()].name)}: ${formatPercents(o(),1)}`],angle:i,diagonal:30,horizontal:16}},connector:Ye(t,u,a===je.OVERFILL)}}const Qe=["fill","drain","overfill"],Je=["Vacuum","Decay","Chaos","Recursion","Paradox"],Ze=[225,315,45,135,135],et={};for(const V of Qe)for(let e=0;e<Je.length;e++){const t=Je[e];et[`pelle-${t}-${V}`]=Ke(t,e,Ze[e],je[V.toUpperCase()])}const tt={"teresa-base":{visible:()=>!0,complete:()=>1,node:{clickAction:()=>Tab.celestials.teresa.show(!0),completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",position:ze.teresa,ring:{rMajor:78,rMinor:64},legend:{text:"Тереза",angle:135,diagonal:32,horizontal:16}}},"teresa-reality-unlock":{visible:()=>!0,complete:()=>TeresaUnlocks.run.canBeApplied?1:Decimal.pLog10(Teresa.pouredAmount)/Math.log10(TeresaUnlocks.run.price),node:{completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",position:ze.teresa,ring:{rMajor:32,rMinor:22},legend:{hideWhenCompleted:!0,text:()=>{const e=Teresa.pouredAmount,t=TeresaUnlocks.run.price;return`${format(e,2)} / ${format(t,2)} Машин Реальности залито`},angle:135,diagonal:16,horizontal:16}},connector:function(){const e=-Math.PI,t=Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(ze.teresa,-Math.PI,69,Math.PI,26),a=i.angleFromRadius(61)-e,n=t-i.angleFromRadius(34);return{pathStart:e,pathEnd:t,path:i,pathPadStart:a,pathPadEnd:n}}()},"teresa-reality":{visible:()=>!0,complete:()=>Teresa.runCompleted?1:0,node:{clickAction:()=>Tab.celestials.teresa.show(!0),completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",symbol:"Ϟ",position:ze.teresa,ring:{rMajor:16},alwaysShowLegend:!0,legend:{text:"Реальность Терезы",angle:-135,diagonal:96,horizontal:16}}},"teresa-pp-shop":{visible:()=>!0,complete:()=>TeresaUnlocks.shop.canBeApplied?1:Decimal.pLog10(Teresa.pouredAmount)/Math.log10(TeresaUnlocks.shop.price),node:{clickAction:()=>Tab.celestials.teresa.show(!0),completeClass:"c-celestial-nav__test-complete",incompleteClass:"c-celestial-nav__test-incomplete",position:ze.teresaPerkPointShop,ring:{rMajor:16,rMinor:0},legend:{text:e=>{if(e>=1)return"Магазин Терезы";const t=Teresa.pouredAmount,i=TeresaUnlocks.shop.price;return["Магазин Терезы",`${format(t,2)} / ${format(i,2)} Машин Реальности залито`]},angle:-35,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(ze.teresa,77,ze.teresaPerkPointShop,15),completeWidth:6,incompleteWidth:4}},"effarig-shop":{visible:()=>!0,complete:()=>TeresaUnlocks.effarig.canBeApplied?1:Decimal.pLog10(Teresa.pouredAmount)/Math.log10(TeresaUnlocks.effarig.price),node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",position:ze.effarigShop,ring:{rMajor:24},legend:{text:e=>{if(e>=1)return"Эффариг";const t=Teresa.pouredAmount,i=TeresaUnlocks.effarig.price;return["Эффариг",`${format(t,2)} / ${format(i,2)} Машин Реальности залито`]},angle:-135,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(ze.teresa,77,ze.effarigShop,23),fill:"url(#gradTeresaEffarig)"}},"effarig-reality-unlock":{visible:()=>TeresaUnlocks.effarig.canBeApplied,complete:()=>EffarigUnlock.run.isUnlocked?1:Math.clampMax(.999,Decimal.pLog10(Currency.relicShards.value)/Math.log10(EffarigUnlock.run.cost)),node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",position:ze.effarigRealityUnlock,ring:{rMajor:16},legend:{text:e=>{if(e>=1)return"Реальность Эффарига";const t=Currency.relicShards.value,i=EffarigUnlock.run.cost;return["Реальность Эффарига",`${format(t,2)} / ${format(i,2)} Реликтовых Осколков`]},angle:75,diagonal:40,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(ze.effarigShop,23,ze.effarigRealityUnlock,15),fill:"#d13737"}},"effarig-infinity":{visible:()=>EffarigUnlock.run.isUnlocked,complete:()=>EffarigUnlock.infinity.isUnlocked?1:Effarig.isRunning?Currency.antimatter.value.pLog10()/Decimal.NUMBER_MAX_VALUE.log10():0,node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",position:ze.effarigNode,ring:{rMajor:60,rMinor:52},legend:{text:e=>{if(e>=1)return"Слой бесконечности";if(0===e)return"Реальность Эффарига не разблокирована";const t=Effarig.isRunning?Currency.antimatter.value:0;return["Слой бесконечности",`${format(t,2)} / ${format(Number.MAX_VALUE,2)} антиматерии`]},angle:0,diagonal:100,horizontal:16},bgDrawOrder:Xe.NODE_BG+750},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(ze.effarigRealityUnlock,15,ze.effarigNode,59),fill:"#d13737"}},"effarig-eternity":{visible:()=>EffarigUnlock.infinity.isUnlocked,complete:()=>EffarigUnlock.eternity.isUnlocked?1:Effarig.isRunning?Currency.infinityPoints.value.pLog10()/Decimal.NUMBER_MAX_VALUE.log10():0,node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",fill:"#7131ec",position:ze.effarigNode,ring:{rMajor:40,rMinor:30},legend:{text:e=>{if(e>=1)return"Слой вечности";const t=Effarig.isRunning?Currency.infinityPoints.value:0;return["Слой вечности",`${format(t,2)} / ${format(Number.MAX_VALUE,2)} Очков Бесконечности`]},angle:-45,diagonal:16,horizontal:16}},connector:function(){const e=-Math.PI,t=0,i=LogarithmicSpiral.fromPolarEndpoints(new Vector(560,25),e,66,t,26),a=0,n=t-i.angleFromRadius(30);return{pathStart:e,pathEnd:t,path:i,pathPadStart:a,pathPadEnd:n,fill:"#d13737"}}()},"effarig-reality":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>EffarigUnlock.reality.isUnlocked?1:Effarig.isRunning?Currency.eternityPoints.value.pLog10()/4e3:0,node:{clickAction:()=>Tab.celestials.effarig.show(!0),completeClass:"c-celestial-nav__effarig",incompleteClass:"c-celestial-nav__test-incomplete",fill:"#A101ec",position:new Vector(550,25),ring:{rMajor:20,rMinor:0},symbol:"Ϙ",alwaysShowLegend:!0,legend:{text:e=>{if(e>=1)return"Слой реальности";const t=Effarig.isRunning?Currency.eternityPoints.value:0,i=v.E4000;return["Слой реальности",`${format(t,2)} / ${format(i,2)} Очков Вечности`]},angle:-120,diagonal:82,horizontal:16}},connector:function(){const e=0,t=Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(new Vector(558,25),e,26,t,24),a=0,n=0;return{pathStart:e,pathEnd:t,path:i,pathPadStart:a,pathPadEnd:n,fill:"#d13737"}}()},enslaved:{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>EffarigUnlock.eternity.isUnlocked?1:0,drawOrder:-1,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:ze.enslavedReality,ring:{rMajor:80,rMinor:70,gapCenterDeg:15,gapDeg:200},alwaysShowLegend:!1,legend:{text:"Безымянные",angle:-90,diagonal:20,horizontal:16}},connector:{pathStart:0,pathEnd:1,drawOrder:Xe.NODE_BG+500,path:LinearPath.connectCircles(ze.effarigNode,39,ze.enslavedReality,79),fill:"url(#gradEffarigEnslaved)"}},"enslaved-unlock-glyph-level":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>player.records.bestReality.glyphLevel/5e3,drawOrder:-1,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:ze.enslavedGlyphLevel,ring:{rMajor:24,rMinor:16,gapCenterDeg:40,gapDeg:60,gapAngleDeg:0},legend:{text:e=>{const t=5e3;return e>=1?`Глиф уровня хотя бы ${formatInt(t)} получен`:[`Рекордный уровень глифа: ${formatInt(Math.min(player.records.bestReality.glyphLevel,t))} / ${formatInt(t)}`]},angle:-45,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(new Vector(650-74*Math.sqrt(.75),213),ze.enslavedGlyphLevel).trimEnd(23),fill:"#ffa337",completeWidth:6,incompleteWidth:4}},"enslaved-unlock-glyph-rarity":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>{const e=strengthToRarity(player.records.bestReality.glyphStrength);return e/100},drawOrder:-1,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:ze.enslavedGlyphRarity,ring:{rMajor:24,rMinor:16,gapCenterDeg:220,gapDeg:60,gapAngleDeg:0},legend:{text:e=>{if(e>=1)return"Космический глиф получен";const t=100;return[`Рекордная редкость глифа: ${formatPercents(e*t/100,1)} / ${formatPercents(t/100,1)}`]},angle:45,diagonal:32,horizontal:32}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.enslavedGlyphRarity,ze.enslavedGlyphLevel).trimStart(23).trimEnd(23),fill:"#ffa337",completeWidth:6,incompleteWidth:4}},"enslaved-reality":{visible:()=>EffarigUnlock.eternity.isUnlocked,complete:()=>Enslaved.isCompleted?1:Enslaved.isRunning?Currency.eternityPoints.value.pLog10()/4e3:0,node:{clickAction:()=>Tab.celestials.enslaved.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffa337",position:ze.enslavedReality,ring:{rMajor:80,rMinor:70,gapCenterDeg:195,gapDeg:200},alwaysShowLegend:!0,legend:{text:e=>{if(e>=1)return"Реальность Безымянных";const t=Enslaved.isRunning?Currency.eternityPoints.value:0,i=v.E4000;return["Реальность Безымянных",`${format(t,2)} / ${format(i,2)} Очков Вечности`]},angle:45,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.enslavedGlyphRarity,new Vector(650+74*Math.sqrt(.75),287)).trimStart(23),fill:"#ffa337"}},"v-unlock-achievement":{visible:()=>EffarigUnlock.reality.isUnlocked,complete:()=>Achievement(151).isUnlocked?1:player.requirementChecks.infinity.noAD8?player.galaxies/800:0,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"⌬",symbolOffset:"2",fill:"#ffe066",position:ze.vUnlockAchievement,ring:{rMajor:20},alwaysShowLegend:!0,legend:{text:e=>{const t=800;if(e>=1)return"Реальность Ви";const i=player.requirementChecks.infinity.noAD8?player.galaxies:0;return["Достижение 151, разблокирующее Ви",`${formatInt(i)} / ${formatInt(t)} Галактик Антиматерии`,"без 8-х Измерений Антиматерии"]},angle:135,diagonal:60,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:LinearPath.connectCircles(ze.enslavedReality,79,ze.vUnlockAchievement,15),fill:"url(#gradEnslavedV)",completeWidth:6,incompleteWidth:4}},"v-unlock-1":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>Fe(1),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement1,ring:{rMajor:8},legend:{text:e=>qe(e,1),angle:-135,diagonal:50,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vUnlockAchievement,ze.vAchievement1),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-2":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>Fe(2),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement2,ring:{rMajor:8},legend:{text:e=>qe(e,2),angle:-45,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vUnlockAchievement,ze.vAchievement2),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-3":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>Fe(3),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement3,ring:{rMajor:8},legend:{text:e=>qe(e,3),angle:45,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vUnlockAchievement,ze.vAchievement3),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-4":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>Fe(4),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement4,ring:{rMajor:8},legend:{text:e=>qe(e,4),angle:135,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vUnlockAchievement,ze.vAchievement4),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-5":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>Fe(5),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement5,ring:{rMajor:8},legend:{text:e=>qe(e,5),angle:-135,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vUnlockAchievement,ze.vAchievement5),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-unlock-6":{visible:()=>Achievement(151).isUnlocked||VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>Fe(6),drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement0,ring:{rMajor:8},legend:{text:e=>qe(e,6),angle:-135,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vUnlockAchievement,ze.vAchievement0),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-0":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[0].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement0,ring:{rMajor:8},legend:{text:e=>{const t=VRunUnlocks.all[0].config.name;if(e>=1)return`Достижение Ви "${t}"`;const i=VRunUnlocks.all[0].completions;return["Достижение Ви",`"${t}": ${formatInt(i)} / ${formatInt(6)}.`]},angle:-135,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vAchievement5,ze.vAchievement0),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-1":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[1].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement1,ring:{rMajor:8},legend:{text:e=>{const t=VRunUnlocks.all[1].config.name;if(e>=1)return`Достижение Ви "${t}"`;const i=VRunUnlocks.all[1].completions;return["Достижение Ви",`"${t}": ${formatInt(i)} / ${formatInt(6)}.`]},angle:20,diagonal:16,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vAchievement0,ze.vAchievement1),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-2":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[2].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement2,ring:{rMajor:8},legend:{text:e=>{const t=VRunUnlocks.all[2].config.name;if(e>=1)return`Достижение Ви "${t}"`;const i=VRunUnlocks.all[2].completions;return["Достижение Ви",`"${t}": ${formatInt(i)} / ${formatInt(6)}.`]},angle:315,diagonal:25,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vAchievement1,ze.vAchievement2),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-3":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[3].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement3,ring:{rMajor:8},legend:{text:e=>{const t=VRunUnlocks.all[3].config.name;if(e>=1)return`Достижение Ви "${t}"`;const i=VRunUnlocks.all[3].completions;return["Достижение Ви",`"${t}": ${formatInt(i)} / ${formatInt(6)}.`]},angle:135,diagonal:25,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vAchievement2,ze.vAchievement3),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-4":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[4].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement4,ring:{rMajor:8},legend:{text:e=>{const t=VRunUnlocks.all[4].config.name;if(e>=1)return`Достижение Ви "${t}"`;const i=VRunUnlocks.all[4].completions;return["Достижение Ви",`"${t}": ${formatInt(i)} / ${formatInt(6)}.`]},angle:60,diagonal:25,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vAchievement3,ze.vAchievement4),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},"v-achievement-5":{visible:()=>VUnlocks.vAchievementUnlock.isUnlocked,complete:()=>VRunUnlocks.all[5].completions/6,drawOrder:-1,node:{clickAction:()=>Tab.celestials.v.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#ffe066",position:ze.vAchievement5,ring:{rMajor:8},legend:{text:e=>{const t=VRunUnlocks.all[5].config.name;if(e>=1)return`Достижение Ви "${t}"`;const i=VRunUnlocks.all[5].completions;return["Достижение Ви",`"${t}": ${formatInt(i)} / ${formatInt(6)}.`]},angle:260,diagonal:30,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.vAchievement4,ze.vAchievement5),fill:"#ffe066",completeWidth:6,incompleteWidth:4}},ra:{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"",symbolOffset:"2",fill:"#9063de",position:ze.raReality,ring:{rMajor:24},alwaysShowLegend:!0,legend:{text:"Реальность Ра",angle:230,diagonal:85,horizontal:16}}},"teresa-pet":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:ze.raPetTeresa,ring:{rMajor:12},legend:{text:()=>{const e=Ra.pets.teresa.level;return 25===e?"Тереза полностью восстановлена в памяти":[`Уровень Терезы ${formatInt(e)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(ze.raReality,ze.raPetTeresa),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"teresa-pet-to-teresa":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>Ra.pets.teresa.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.7,path:new LinearPath(ze.raPetTeresa,ze.teresa),fill:"url(#gradRaTeresa)",completeWidth:6,incompleteWidth:4}},"effarig-pet":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>Ra.pets.teresa.level/8,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:ze.raPetEffarig,ring:{rMajor:12},legend:{text:e=>{Ra.pets.teresa.level;const t=Ra.pets.effarig.level;return e<1?"Память Эффарига не разблокирована":25===t?"Эффариг полностью восстановлен в памяти":[`Уровень Эффарига ${formatInt(t)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(ze.raReality,ze.raPetEffarig),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"effarig-pet-to-effarig":{visible:()=>Ra.unlocks.effarigUnlock.isUnlocked,complete:()=>Ra.pets.effarig.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.6,path:new LinearPath(ze.raPetEffarig,ze.effarigNode),fill:"url(#gradRaEffarig)",completeWidth:6,incompleteWidth:4}},"enslaved-pet":{visible:()=>Ra.unlocks.effarigUnlock.isUnlocked,complete:()=>Ra.pets.effarig.level/8,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:ze.raPetEnslaved,ring:{rMajor:12},legend:{text:e=>{Ra.pets.effarig.level;const t=Ra.pets.enslaved.level;return e<1?"Память Безымянных не разблокирована":25===t?"Безымянные полностью восстановлены в памяти":[`Уровень Безымянных ${formatInt(t)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(ze.raReality,ze.raPetEnslaved),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"enslaved-pet-to-enslaved":{visible:()=>Ra.unlocks.enslavedUnlock.isUnlocked,complete:()=>Ra.pets.enslaved.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.55,path:new LinearPath(ze.raPetEnslaved,ze.enslavedReality),fill:"url(#gradRaEnslaved)",completeWidth:6,incompleteWidth:4}},"v-pet":{visible:()=>Ra.unlocks.enslavedUnlock.isUnlocked,complete:()=>Ra.pets.enslaved.level/8,drawOrder:-1,node:{clickAction:()=>Tab.celestials.ra.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",isStacked:!0,position:ze.raPetV,ring:{rMajor:12},legend:{text:e=>{Ra.pets.enslaved.level;const t=Ra.pets.v.level;return e<1?"Память Ви не разблокирована":25===t?"Ви полностью восстановлен в памяти":[`Уровень Ви ${formatInt(t)} / ${formatInt(25)}`]},angle:142,diagonal:85,horizontal:16}},connector:{pathStart:.05,pathEnd:.95,path:new LinearPath(ze.raReality,ze.raPetV),fill:"#9063de",completeWidth:6,incompleteWidth:4}},"v-pet-to-v":{visible:()=>Ra.unlocks.vUnlock.isUnlocked,complete:()=>Ra.pets.v.level/25,drawOrder:-1,connector:{pathStart:.05,pathEnd:.42,path:new LinearPath(ze.raPetV,ze.vUnlockAchievement),fill:"url(#gradRaV)",completeWidth:6,incompleteWidth:4}},"ra-ring-1":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:ze.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:74,gapDeg:268}}},"ra-ring-2":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:ze.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:161,gapDeg:318}}},"ra-ring-3":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:ze.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:231,gapDeg:301}}},"ra-ring-4":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:ze.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:293,gapDeg:334}}},"ra-ring-5":{visible:()=>VUnlocks.raUnlock.isUnlocked,complete:()=>VUnlocks.raUnlock.isUnlocked?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"#9063de",position:ze.raReality,ring:{rMajor:90,rMinor:80,gapCenterDeg:-14,gapDeg:316}}},"laitela-unlock":{visible:()=>Ra.unlocks.vUnlock.isUnlocked,complete:()=>DarkMatterDimension(1).unlockUpgrade.canBeBought||Laitela.isUnlocked?1:MachineHandler.isIMUnlocked?player.requirementChecks.reality.maxID1.neq(0)?.5:.5+.5*Math.clampMax(.999,player.antimatter.exponent/15e11):Math.clampMax(.5,Currency.realityMachines.value.pLog10()/MachineHandler.baseRMCap.exponent),drawOrder:-1,node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"ᛝ",symbolScale:1.6,symbolOffset:"0.6",fill:"white",position:ze.laitelaFirstCenter,ring:{rMajor:15},alwaysShowLegend:!0,legend:{text:e=>{const t="Реальность Лайтелы";if(e>=1)return[t];if(!MachineHandler.isIMUnlocked){const e=Currency.realityMachines.value,i=MachineHandler.baseRMCap;return[t,`${format(e)} / ${format(i)} Машин Реальности`]}const i=player.requirementChecks.reality.maxID1.neq(0);if(i)return[t,"Измерения Бесконечности","стоят у вас на пути."];const a=Currency.antimatter.value,n=v.E1_5E12;return[t,`${format(a)} / ${format(n)} антиматерии`]},angle:260,diagonal:15,horizontal:8}},connector:{pathStart:.05,pathEnd:1,path:new LinearPath(ze.raReality,ze.laitelaFirstCenter),fill:"url(#gradRaLaitela)",completeWidth:6,incompleteWidth:4}},"laitela-2nd-dim":{visible:()=>Laitela.isUnlocked,complete:()=>{const e=DarkMatterDimension(2).unlockUpgrade;return e.canBeBought||e.isBought?1:e.isAvailableForPurchase?e.currency.value/e.cost:Laitela.difficultyTier<1?0:30/player.celestials.laitela.fastestCompletion},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:ze.laitelaFirstLeft,ring:{rMajor:8},legend:{text:e=>{const t="2-е Измерение Тёмной Материи",i=DarkMatterDimension(2);if(e>=1)return[t];const a=i.unlockUpgrade;return a.isAvailableForPurchase?[t,`${format(Math.min(a.currency.value,a.cost),a.canBeBought?1:2)}\n            / ${format(a.cost,1)} Мнимых Машин`]:[t,"Дестабилизируйте Реальность Лайтелы"]},angle:135,diagonal:30,horizontal:16}},connector:{pathStart:.17,pathEnd:.89,path:new LinearPath(ze.laitelaFirstCenter,ze.laitelaFirstLeft),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-singularity":{visible:()=>Laitela.isUnlocked,complete:()=>Currency.singularities.gte(1)?1:Math.clampMax(.999,Currency.darkEnergy.value/Singularity.cap),node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:ze.laitelaFirstRight,ring:{rMajor:8},legend:{text:e=>{if(e>=1)return["Сингулярность"];const t=Currency.darkEnergy.value,i=Singularity.cap;return["Сожмите всю Тёмную","Энергию в Сингулярность",`${format(t)} / ${format(i)} Тёмной Энергии`]},angle:45,diagonal:65,horizontal:16}},connector:{pathStart:.17,pathEnd:.89,path:new LinearPath(ze.laitelaFirstCenter,ze.laitelaFirstRight),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-3rd-dim":{visible:()=>DarkMatterDimension(2).isUnlocked&&Currency.singularities.gte(1),complete:()=>{const e=DarkMatterDimension(3).unlockUpgrade;return e.canBeBought||e.isBought?1:e.isAvailableForPurchase?e.currency.value/e.cost:player.auto.singularity.isActive?Math.clampMax(.999,Singularity.singularitiesGained/20):.5},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:ze.laitelaSecondCenter,ring:{rMajor:15},legend:{text:e=>{const t="3-е Измерение Тёмной Материи",i=DarkMatterDimension(3);if(e>=1)return[t];const a=i.unlockUpgrade;return a.isAvailableForPurchase?[t,`${format(Math.min(a.currency.value,a.cost),a.canBeBought?0:2)}\n            / ${format(a.cost)} Мнимых Машин`]:player.auto.singularity.isActive?[t,"Совершите сжатие",`автоматически за ${format(20)} Сингулярностей`,`Сейчас: ${format(Math.clampMax(Singularity.singularitiesGained,20))} / ${format(20)}`]:[t,"Разблокируйте автоматику сжатия",`${format(Currency.singularities.value)} / ${format(SingularityMilestone.autoCondense.start)} Сингулярностей`]},angle:15,diagonal:30,horizontal:16}},connector:[{pathStart:.1,pathEnd:.89,path:new LinearPath(ze.laitelaFirstLeft,ze.laitelaSecondCenter),fill:"white",completeWidth:6,incompleteWidth:4},{pathStart:.1,pathEnd:.89,path:new LinearPath(ze.laitelaFirstRight,ze.laitelaSecondCenter),fill:"white",completeWidth:6,incompleteWidth:4}]},"laitela-4th-dim":{visible:()=>DarkMatterDimension(3).isUnlocked,complete:()=>{const e=DarkMatterDimension(4).unlockUpgrade;return e.canBeBought||e.isBought?1:e.isAvailableForPurchase?e.currency.value/e.cost:(Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies)/8e4},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:ze.laitelaSecondLeft,ring:{rMajor:8},legend:{text:e=>{const t="4-е Измерение Тёмной Материи",i=DarkMatterDimension(4);if(e>=1)return[t];const a=i.unlockUpgrade;if(a.isAvailableForPurchase)return[t,`${format(Math.min(a.currency.value,a.cost),a.canBeBought?1:2)}\n            / ${format(a.cost,1)} Мнимых Машин`];const n=Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies;return[t,`${format(Math.clampMax(n,8e4))} / ${format(8e4)} галактик`]},angle:225,diagonal:30,horizontal:16}},connector:{pathStart:.11,pathEnd:.89,path:new LinearPath(ze.laitelaSecondCenter,ze.laitelaSecondLeft),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-annihilation":{visible:()=>DarkMatterDimension(4).isUnlocked,complete:()=>{const e=ImaginaryUpgrade(19);return e.canBeBought||e.isBought?1:e.isAvailableForPurchase?Currency.imaginaryMachines.value/e.cost:e.isPossible?Tickspeed.continuumValue/385e4:0},node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"white",position:ze.laitelaSecondRight,ring:{rMajor:8},legend:{text:()=>["Аннигиляция"],angle:315,diagonal:30,horizontal:16}},connector:{pathStart:.11,pathEnd:.89,path:new LinearPath(ze.laitelaSecondCenter,ze.laitelaSecondRight),fill:"white",completeWidth:6,incompleteWidth:4}},"laitela-destabilization":{visible:()=>DarkMatterDimension(4).isUnlocked&&ImaginaryUpgrade(19).isBought,complete:()=>Laitela.difficultyTier/8,node:{clickAction:()=>Tab.celestials.laitela.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbolScale:1.6,symbolOffset:"0.6",fill:"white",position:ze.laitelaThirdCenter,ring:{rMajor:15},legend:{text:e=>e<1?[`${format(Laitela.difficultyTier)} / ${format(8)} дестабилизаций`]:["Реальность Лайтелы","полностью дестабилизирована"],angle:180,diagonal:15,horizontal:8}},connector:[{pathStart:.11,pathEnd:.83,path:new LinearPath(ze.laitelaSecondLeft,ze.laitelaThirdCenter),fill:"white",completeWidth:6,incompleteWidth:4},{pathStart:.11,pathEnd:.83,path:new LinearPath(ze.laitelaSecondRight,ze.laitelaThirdCenter),fill:"white",completeWidth:6,incompleteWidth:4}]},"pelle-unlock":{visible:()=>Laitela.difficultyTier>4,complete:()=>{if(Pelle.isUnlocked)return 1;const e=Math.clampMax(He(Math.log10(Currency.imaginaryMachines.value)/Math.log10(16e14)),1);let t=Laitela.isRunning?Math.min(Currency.eternityPoints.value.log10()/4e3,1):0;return 8!==Laitela.difficultyTier||Glyphs.activeWithoutCompanion.length>1?t=0:ImaginaryUpgrade(25).isAvailableForPurchase&&(t=1),(e+t)/2},node:{clickAction:()=>Tab.celestials.pelle.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",fill:"crimson",position:ze.pelleUnlock,ring:{rMajor:8},legend:{text:e=>{if(1===e)return["Пелль"];let t=`${format(Currency.eternityPoints.value)} / ${format("1e4000")} Очков Вечности`;return(!Laitela.isRunning||8!==Laitela.difficultyTier||Glyphs.activeWithoutCompanion.length>1)&&(t=`${format(0)} / ${format("1e4000")} Очков Вечности`),ImaginaryUpgrade(25).isAvailableForPurchase?["Пелль",`${format(Currency.imaginaryMachines.value,2)} / ${format(16e14,2)} Мнимых Машин`]:["Пелль",t]},angle:105,diagonal:90,horizontal:10}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.laitelaThirdCenter,ze.pelleUnlock),fill:"url(#gradLaitelaPelle)",completeWidth:6,incompleteWidth:4}},"pelle-doomed-requirement":{visible:()=>Pelle.isUnlocked,complete:()=>{if(Pelle.isDoomed)return 1;const e=Achievements.prePelleRows.countWhere((e=>e.every((e=>e.isUnlocked))))/Achievements.prePelleRows.length,t=AlchemyResources.all.countWhere((e=>e.capped))/AlchemyResources.all.length;return(He(e)+He(t))/2},node:{clickAction:()=>Tab.celestials.pelle.show(!0),incompleteClass:"c-celestial-nav__test-incomplete",symbol:"♅",symbolOffset:"1.6",fill:"crimson",position:ze.pelleAchievementRequirement,ring:{rMajor:20},forceLegend:()=>Pelle.isUnlocked&&!Pelle.hasGalaxyGenerator,legend:{text:e=>{if(e>=1)return"Обречённая Реальность";const t=[Achievements.prePelleRows.countWhere((e=>e.every((e=>e.isUnlocked)))),Achievements.prePelleRows.length],i=[AlchemyResources.all.countWhere((e=>e.capped)),AlchemyResources.all.length];return[`${formatInt(t[0])} / ${formatInt(t[1])} рядов достижений`,`${formatInt(i[0])} / ${formatInt(i[1])} алхимического ресурса`]},angle:290,diagonal:40,horizontal:16}},connector:{pathStart:0,pathEnd:1,path:new LinearPath(ze.pelleUnlock,ze.pelleAchievementRequirement),fill:"crimson",completeWidth:6,incompleteWidth:4}},...et,"pelle-galaxy-generator-start-node":{visible:()=>Pelle.hasGalaxyGenerator,complete:()=>Pelle.hasGalaxyGenerator?1:0,node:{incompleteClass:"c-celestial-nav__test-incomplete",fill:"black",position:ze.pelleAchievementRequirement,ring:{rMajor:20},alwaysShowLegend:!0,legend:{text:()=>["Генератор Галактик",`${format(GalaxyGenerator.generatedGalaxies,2)} / ${format(GalaxyGenerator.generationCap,2)} галактик произведено`],angle:290,diagonal:40,horizontal:16}}},"pelle-galaxy-generator-sigil-mask":{visible:()=>Pelle.hasGalaxyGenerator,complete:()=>Pelle.hasGalaxyGenerator?1:0,node:{clickAction:()=>Tab.celestials.pelle.show(!0),position:ze.pelleAchievementRequirement,ring:{rMajor:20}}},"pelle-galaxy-generator-path":{visible:()=>Pelle.hasGalaxyGenerator,complete:()=>{const e=PelleRifts.all.map((e=>e.config.galaxyGeneratorThreshold)),t=e.countWhere((e=>GalaxyGenerator.generatedGalaxies>=e));if(5===t)return 1;const i=e.filter((e=>GalaxyGenerator.generatedGalaxies>=e)).max(),a=e.filter((e=>GalaxyGenerator.generatedGalaxies<e)).min(),n=Math.sqrt((GalaxyGenerator.generatedGalaxies-i)/(a-i));return(t+n)/5},connector:function(){const e=.5*Math.PI,t=e+10*Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(Ve(0,0),e,18,t,150);return{pathStart:e,pathEnd:t,path:i,pathPadStart:0,pathPadEnd:0,fill:"#00bbbb"}}()},"pelle-galaxy-generator-infinite":{visible:()=>Pelle.hasGalaxyGenerator&&!Number.isFinite(GalaxyGenerator.generationCap),complete:()=>Math.clamp((GalaxyGenerator.generatedGalaxies-1e10)/2e11,1e-6,1),connector:function(){const e=.5*Math.PI,t=e+10*Math.PI,i=LogarithmicSpiral.fromPolarEndpoints(Ve(0,0),e,150,t,1250);return{pathStart:e,pathEnd:t,path:i,pathPadStart:0,pathPadEnd:0,drawOrder:Xe.CANVAS_OVERLAY,fill:"#00bbbb",noBG:!0}}()}};function it(){const e=PelleRifts.all.map((e=>Math.clamp(e.realPercentage,0,1))).min(),t=Math.log10(1+GalaxyGenerator.generatedGalaxies)/11;return Math.clampMax(.2*e+.8*t,1)}const at={visible:()=>PelleRifts.all.map((e=>Math.clamp(e.realPercentage,0,1))).min()>0,center:new Vector(400,300),size:400,color:"#00ffff",canvasLayer:Xe.NODE_BG-500};function nt(e,t){const i=at;return new Vector(i.center.x+i.size*e,i.center.y+i.size*t)}function st(e){return new Vector(2*at.center.x-e.x,e.y)}function rt(e,t,i,a){let n,s,r,o;switch(e){case"edge":n=t.start,s=new LinearPath(t.start,t.end),r=0,o=1;break;case"circle":n=t.center,s=LogarithmicSpiral.fromPolarEndpoints(t.center,0,t.radius*at.size,1,t.radius*at.size),r=t.initAngle,o=t.finalAngle;break;default:throw Error("Unrecognized shape in sigil specification")}return{visible:()=>at.visible()&&it()>=i.init,complete:()=>Math.clamp((it()-i.init)/i.weight,0,1),att:t,fill:i,node:{position:n,ring:{rMajor:0}},connector:{pathStart:r,pathEnd:o,drawOrder:at.canvasLayer,path:s,fill:null!==a&&void 0!==a?a:at.color,completeWidth:at.size/20,noBG:!0}}}const ot=Object.freeze({circTop:nt(.333,-.41),circMid:nt(.5,.22),circBot:nt(0,.43),topC:nt(0,-.4),top1:nt(.08,-.27),top2:nt(.18,-.35),top3:nt(.28,-.35),mid:nt(.08,.05),arm1:nt(.5,.05),arm2:nt(.5,-.15),arm3:nt(.4,-.15),lowC:nt(0,.22),low1:nt(.42,.22),botC:nt(0,.31),bot1:nt(.12,.43),bot2:nt(.28,.43)}),lt={botCircR:rt("circle",{center:ot.circBot,radius:.12,initAngle:.5*Math.PI,finalAngle:-.5*Math.PI},{init:0,weight:.2}),botH:rt("edge",{start:ot.bot1,end:ot.bot2},{init:.1,weight:.1}),lowH:rt("edge",{start:ot.lowC,end:ot.low1},{init:.3,weight:.3}),circUp:rt("circle",{center:ot.circMid,radius:.08,initAngle:Math.PI,finalAngle:0},{init:.6,weight:.1}),circDown:rt("circle",{center:ot.circMid,radius:.08,initAngle:Math.PI,finalAngle:2*Math.PI},{init:.6,weight:.1}),vert2:rt("edge",{start:ot.bot2,end:ot.top3},{init:.2,weight:.7}),vertC:rt("edge",{start:ot.botC,end:ot.lowC},{init:.2,weight:.1}),vertDiag1:rt("edge",{start:ot.lowC,end:ot.mid},{init:.3,weight:.1}),arm1:rt("edge",{start:ot.mid,end:ot.arm1},{init:.4,weight:.2}),arm2:rt("edge",{start:ot.arm1,end:ot.arm2},{init:.6,weight:.1}),arm3:rt("edge",{start:ot.arm2,end:ot.arm3},{init:.7,weight:.1}),vert1:rt("edge",{start:ot.mid,end:ot.top1},{init:.4,weight:.3}),vertDiag2:rt("edge",{start:ot.top1,end:ot.topC},{init:.7,weight:.1}),vertDiag3:rt("edge",{start:ot.top1,end:ot.top2},{init:.7,weight:.1}),topH:rt("edge",{start:ot.top2,end:ot.top3},{init:.8,weight:.1}),circTopUp:rt("circle",{center:ot.circTop,radius:.08,initAngle:.75*Math.PI,finalAngle:1.75*Math.PI},{init:.9,weight:.1}),circTopDown:rt("circle",{center:ot.circTop,radius:.08,initAngle:.75*Math.PI,finalAngle:-.25*Math.PI},{init:.9,weight:.1})};for(const V of Object.keys(lt)){const e=lt[V];e.connector.path instanceof LinearPath?lt[`${V}Ref`]=rt("edge",{start:st(e.att.start),end:st(e.att.end)},e.fill):e.connector.path instanceof LogarithmicSpiral&&(lt[`${V}Ref`]=rt("circle",{center:st(e.att.center),radius:e.att.radius,initAngle:Math.PI-e.att.initAngle,finalAngle:Math.PI-e.att.finalAngle},e.fill))}const ct=16;for(let V=0;V<ct;V++){const e=2*Math.PI/ct,t=V*e;lt[`arcInner${V}`]=rt("circle",{center:at.center,radius:.75,initAngle:t,finalAngle:t+e},{init:.1,weight:.4},"crimson"),lt[`arcOuter${V}`]=rt("circle",{center:at.center,radius:.95,initAngle:t,finalAngle:t-e},{init:.5,weight:.4},"crimson")}const ut=Object.values(lt).mapToObject(((e,t)=>`final-sigil-${t}`),(e=>e)),dt={visible:()=>Pelle.hasGalaxyGenerator,center:Ve(0,0),size:20,color:"#00ffff",canvasLayer:Xe.CANVAS_OVERLAY};function ht(e,t,i,a){let n,s,r,o;switch(e){case"circle":n=t.center,s=LogarithmicSpiral.fromPolarEndpoints(t.center,0,t.radius*dt.size,1,t.radius*dt.size),r=t.initAngle,o=t.finalAngle;break;case"arc":n=t.center,r=t.initAngle,o=t.finalAngle,s=LogarithmicSpiral.fromPolarEndpoints(t.center,r,t.initRadius*dt.size,o,t.finalRadius*dt.size);break;default:throw Error("Unrecognized shape in sigil specification")}return{visible:()=>dt.visible(),complete:()=>1,node:{position:n,ring:{rMajor:dt.size*i.thickness},bgDrawOrder:dt.canvasLayer+i.layer},connector:{pathStart:r,pathEnd:o,drawOrder:dt.canvasLayer+i.layer,path:s,fill:null!==a&&void 0!==a?a:dt.color,completeWidth:dt.size*i.thickness,noBG:!0}}}const pt={disc:ht("circle",{center:dt.center,radius:.2,initAngle:0,finalAngle:6.28},{thickness:.15,layer:1},"#88ffff"),glow:ht("circle",{center:dt.center,radius:.125,initAngle:0,finalAngle:6.28},{thickness:.05,layer:2},"white")},mt=10;for(let V=0;V<mt;V++){const e=2*Math.PI/mt,t=V*e;pt[`spiral${V}`]=ht("arc",{center:dt.center,initRadius:.2,finalRadius:.9,initAngle:t,finalAngle:t+Math.PI},{thickness:.1,layer:0},"cyan")}const yt=Object.values(pt).mapToObject(((e,t)=>`galaxy-icon-${t}`),(e=>e)),ft={power:{id:ALCHEMY_RESOURCE.POWER,name:"Сила",symbol:"Ω",isBaseResource:!0,effect:e=>1+e/2e5,tier:1,uiOrder:1,unlockedAt:2,description:"возводит множители Измерений Антиматерии в степень",formatEffect:e=>`множители Измерений Антиматерии возведены в степень ${format(e,4,4)}`},infinity:{id:ALCHEMY_RESOURCE.INFINITY,name:"Бесконечность",symbol:"∞",isBaseResource:!0,effect:e=>1+e/2e5,tier:1,uiOrder:2,unlockedAt:3,description:"возводит множители Измерений Бесконечности в степень",formatEffect:e=>`множители Измерений Бесконечности возведены в степень ${format(e,4,4)}`},time:{id:ALCHEMY_RESOURCE.TIME,name:"Время",symbol:"Δ",isBaseResource:!0,effect:e=>1+e/2e5,tier:1,uiOrder:3,unlockedAt:4,description:"возводит множители Измерений Времени в степень",formatEffect:e=>`множители Измерений Времени возведены в степень ${format(e,4,4)}`},replication:{id:ALCHEMY_RESOURCE.REPLICATION,name:"Репликация",symbol:"Ξ",isBaseResource:!0,effect:e=>Decimal.pow10(e/1e3),tier:1,uiOrder:4,unlockedAt:5,description:"даёт множитель к скорости репликации",formatEffect:e=>`множитель ${formatX(e,2,2)} к скорости репликации`},dilation:{id:ALCHEMY_RESOURCE.DILATION,name:"Замедление",symbol:"Ψ",isBaseResource:!0,effect:e=>Decimal.pow10(e/2e3),tier:1,uiOrder:5,unlockedAt:6,description:"даёт множитель к производству Замедленного Времени",formatEffect:e=>`множитель ${formatX(e,2,2)} к производству Замедленного Времени`},cardinality:{id:ALCHEMY_RESOURCE.CARDINALITY,name:"Мощность",symbol:"α",isBaseResource:!1,effect:e=>1+.2/(1+e/2e4),tier:2,uiOrder:3,unlockedAt:8,description:"ослабляет мягкое ограничение на скорость репликации",formatEffect:e=>`степень мягкого ограничения на скорость репликации понижена: ${formatX(Math.log10(1.2)/LOG10_MAX_VALUE,6,6)} ➜\n      ${formatX(Math.log10(e)/LOG10_MAX_VALUE,6,6)}`,reagents:[{resource:ALCHEMY_RESOURCE.TIME,amount:8},{resource:ALCHEMY_RESOURCE.REPLICATION,amount:7}]},eternity:{id:ALCHEMY_RESOURCE.ETERNITY,name:"Вечность",symbol:"τ",isBaseResource:!1,effect:e=>1+e/15e3,tier:2,uiOrder:2,unlockedAt:9,description:"возводит производство вечностей в секунду в степень",formatEffect:e=>`производство вечностей в секунду возведено в степень ${format(e,4,4)}`,reagents:[{resource:ALCHEMY_RESOURCE.TIME,amount:11},{resource:ALCHEMY_RESOURCE.INFINITY,amount:4}]},dimensionality:{id:ALCHEMY_RESOURCE.DIMENSIONALITY,name:"Размерность",symbol:"ρ",isBaseResource:!1,effect:e=>Decimal.pow10(5*e),tier:2,uiOrder:1,unlockedAt:10,description:"даёт большой множитель ко всем измерениям",formatEffect:e=>`множитель ${formatX(e)} ко всем измерениям`,reagents:[{resource:ALCHEMY_RESOURCE.POWER,amount:10},{resource:ALCHEMY_RESOURCE.INFINITY,amount:5}]},inflation:{id:ALCHEMY_RESOURCE.INFLATION,name:"Инфляция",symbol:"λ",isBaseResource:!1,effect:e=>Decimal.pow10(6e9-3e5*e),tier:2,uiOrder:5,unlockedAt:11,description:()=>`возводит большие множители Измерений Антиматерии в степень ${format(1.05,2,2)}`,formatEffect:e=>`множители Измерений Антиматерии, большие ${format(e)}, возведены в степень ${format(1.05,2,2)}`,reagents:[{resource:ALCHEMY_RESOURCE.POWER,amount:9},{resource:ALCHEMY_RESOURCE.DILATION,amount:6}]},alternation:{id:ALCHEMY_RESOURCE.ALTERNATION,name:"Чередование",symbol:"ω",isBaseResource:!1,effect:e=>e/2e5,tier:2,uiOrder:4,unlockedAt:12,description:"усиливает Тахионные Галактики в зависимости от количества Репликанти",formatEffect:e=>`Тахионные Галактики в 1+${format(e/1e6,10,10)}log₁₀(Репликанти) раза сильнее`,reagents:[{resource:ALCHEMY_RESOURCE.REPLICATION,amount:5},{resource:ALCHEMY_RESOURCE.DILATION,amount:10}]},effarig:{id:ALCHEMY_RESOURCE.EFFARIG,name:"Эффариг",symbol:"Ϙ",isBaseResource:!0,effect:e=>Math.pow(10,e/2500),tier:1,uiOrder:1.5,unlockedAt:7,description:"даёт множитель к получению Реликтовых Осколков",formatEffect:e=>`множитель ${formatX(e,2,2)} к получению Реликтовых Осколков`},synergism:{id:ALCHEMY_RESOURCE.SYNERGISM,name:"Синергия",symbol:"π",isBaseResource:!1,effect:e=>{const t=.3+1.3*Math.sqrt(e/25e3);return Achievement(175).isUnlocked?t:Math.min(t,1)},tier:3,uiOrder:2,unlockedAt:13,description:"повышает производительность алхимических реакций",formatEffect(e){return`множитель ${formatX(e/.3,2,2)} к получению ресурсов от алхимических реакций\n        ${!Achievement(175).isUnlocked&&e>=1?" (ограничено)":""}`},reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:3},{resource:ALCHEMY_RESOURCE.REPLICATION,amount:16},{resource:ALCHEMY_RESOURCE.INFINITY,amount:14}]},momentum:{id:ALCHEMY_RESOURCE.MOMENTUM,name:"Импульс",symbol:"μ",isBaseResource:!1,effect:e=>1+e/125e3,tier:3,uiOrder:3,unlockedAt:15,description:"возводит множители всех измерений в степень, растущую со временем",formatEffect:e=>`множители всех измерений возведены в степень ${format(Ra.momentumValue,4,4)}, которая растёт\n      линейно на ${format(.005*Achievement(175).effectOrDefault(1),3,3)}\n      в час по реальному времяисчислению с момента разблокировки этого ресурса, но имеет ограничение в ${format(e,4,4)}`,reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:11},{resource:ALCHEMY_RESOURCE.POWER,amount:4},{resource:ALCHEMY_RESOURCE.TIME,amount:20}]},decoherence:{id:ALCHEMY_RESOURCE.DECOHERENCE,name:"Декогеренция",symbol:"ξ",isBaseResource:!1,effect:e=>.15*Math.sqrt(e/25e3),tier:3,uiOrder:4,unlockedAt:14,description:"повышает эффективность облагораживания глифов",formatEffect:e=>`при облагораживании глифа вы получаете не только некоторое количество соответствующего ему ресурса, но и количество всех остальных основных ресурсов, равное ${formatPercents(e,2)} от того количества`,reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:13},{resource:ALCHEMY_RESOURCE.ALTERNATION,amount:8}]},exponential:{id:ALCHEMY_RESOURCE.EXPONENTIAL,name:"Экспонента",symbol:"Γ",isBaseResource:!1,effect:e=>10*Math.pow(e/1e4,2),tier:4,uiOrder:2,unlockedAt:18,description:"даёт множитель к получению Очков Бесконечности в зависимости от количества Репликанти",formatEffect:e=>`множитель к получению Очков Бесконечности, равный количеству Репликанти в степени ${format(e,2,3)}`,reagents:[{resource:ALCHEMY_RESOURCE.INFLATION,amount:18},{resource:ALCHEMY_RESOURCE.SYNERGISM,amount:3}]},force:{id:ALCHEMY_RESOURCE.FORCE,name:"Работа",symbol:"Φ",isBaseResource:!1,effect:e=>5*e,tier:4,uiOrder:2,unlockedAt:17,description:"даёт множитель к Измерениям Антиматерии в зависимости от количества Машин Реальности",formatEffect:e=>`множитель к Измерениям Антиматерии, равный количеству Машин Реальности в степени ${format(e,2,2)}`,reagents:[{resource:ALCHEMY_RESOURCE.DIMENSIONALITY,amount:7},{resource:ALCHEMY_RESOURCE.MOMENTUM,amount:8}]},uncountability:{id:ALCHEMY_RESOURCE.UNCOUNTABILITY,name:"Несчётность",symbol:"Θ",isBaseResource:!1,effect:e=>160*Math.sqrt(e/25e3),tier:4,uiOrder:3,unlockedAt:19,description:"производит реальности и Очки Умения",formatEffect:e=>`вы получаете ${format(e,2,2)} реальности и Очка Умения в секунду`,reagents:[{resource:ALCHEMY_RESOURCE.INFINITY,amount:20},{resource:ALCHEMY_RESOURCE.EFFARIG,amount:6},{resource:ALCHEMY_RESOURCE.CARDINALITY,amount:16}]},boundless:{id:ALCHEMY_RESOURCE.BOUNDLESS,name:"Бездна",symbol:"Π",isBaseResource:!1,effect:e=>e/8e4,tier:4,uiOrder:1,unlockedAt:20,description:"усиливает Тессеракты",formatEffect:e=>`Тессеракты на ${formatPercents(e,2,2)} сильнее`,reagents:[{resource:ALCHEMY_RESOURCE.ETERNITY,amount:13},{resource:ALCHEMY_RESOURCE.INFLATION,amount:18}]},multiversal:{id:ALCHEMY_RESOURCE.MULTIVERSAL,name:"Многомирие",symbol:"Σ",isBaseResource:!1,effect:e=>Math.floor(32*Math.pow(e/25e3,2)),tier:4,uiOrder:5,unlockedAt:16,description:"симулирует реальности многократно",formatEffect:e=>`каждая реальность симулируется ${quantifyInt("дополнительный",e)} ${pluralize("раз",e)}, как при усилении`,reagents:[{resource:ALCHEMY_RESOURCE.ALTERNATION,amount:16},{resource:ALCHEMY_RESOURCE.DECOHERENCE,amount:3}]},unpredictability:{id:ALCHEMY_RESOURCE.UNPREDICTABILITY,name:"Непредсказуемость",symbol:"Λ",isBaseResource:!1,effect:e=>e/(10714.28+e),tier:4,uiOrder:4,unlockedAt:21,description:"даёт каждой алхимической реакции шанс произойти повторно",formatEffect:e=>`каждый раз, когда алхимическая реакция происходит, с вероятностью ${formatPercents(e,2,2)}\n      она происходит повторно`,reagents:[{resource:ALCHEMY_RESOURCE.EFFARIG,amount:15},{resource:ALCHEMY_RESOURCE.DECOHERENCE,amount:3},{resource:ALCHEMY_RESOURCE.SYNERGISM,amount:10}]},reality:{id:ALCHEMY_RESOURCE.REALITY,name:"Реальность",symbol:"Ϟ",isBaseResource:!1,effect:e=>Math.floor(e),tier:5,unlockedAt:25,description:"можно преобразовать в глиф нового типа",formatEffect:e=>"отсутствует, зато вы можете преобразовать этот ресурс в Глиф Реальности",reagents:[{resource:ALCHEMY_RESOURCE.EXPONENTIAL,amount:1},{resource:ALCHEMY_RESOURCE.FORCE,amount:1},{resource:ALCHEMY_RESOURCE.UNCOUNTABILITY,amount:1},{resource:ALCHEMY_RESOURCE.BOUNDLESS,amount:1},{resource:ALCHEMY_RESOURCE.MULTIVERSAL,amount:1},{resource:ALCHEMY_RESOURCE.UNPREDICTABILITY,amount:1}]}},gt={adjuster:{id:0,description:"Разблокировать корректировку весов факторов уровня глифа",cost:1e7,onPurchased:()=>{Effarig.quotes.unlockWeights.show(),ui.view.tabs.reality.openGlyphWeights=!0,Tab.reality.glyphs.show()}},glyphFilter:{id:1,description:"Разблокировать Фильтр Глифов",cost:2e8,onPurchased:()=>{Effarig.quotes.unlockGlyphFilter.show(),player.reality.showSidebarPanel=GLYPH_SIDEBAR_MODE.FILTER_SETTINGS}},setSaves:{id:2,description:"Разблокировать возможность сохранять наборы глифов",cost:3e9,onPurchased:()=>{Effarig.quotes.unlockSetSaves.show(),player.reality.showSidebarPanel=GLYPH_SIDEBAR_MODE.SAVED_SETS}},run:{id:3,description:"Разблокировать Реальность Эффарига",cost:5e11,onPurchased:()=>{Effarig.quotes.unlockRun.show()}},infinity:{id:4,label:"Бесконечность",get description(){return" Ограничение на количество Репликанти увеличено в зависимости от количества бесконечностей\n        Получать дополнительные Галактики Репликанти в зависимости от количества бесконечностей"}},eternity:{id:5,label:"Вечность",get description(){return" Вечности производят по столько бесконечностей в секунду, сколько вы получили бы при Большом Сжатии\n        Разблокировать Безымянных, Небожителя Времени"}},reality:{id:6,label:"Реальность",get description(){return" Разблокировать глифы нового типа - Глифы Эффарига (см. одноимённую статью помощи по игре)"}}},bt={progress:{hintsUnlocked:{id:0,hint:"Безымянные хотят вам помочь, но для этого им нужно время.",condition:()=>"Вы подождали достаточно долгое время после разблокировки Реальности Безымянных и разблокировали\n        возможность получать от них подсказки"},ec1:{id:1,hint:"Странно, автоматическое выполнение Испытаний Вечности работает как-то неправильно.",condition:()=>`Вы можете выполнять 1-е Испытание Вечности более ${formatInt(5)} раз`},feelEternity:{id:2,hint:"Кажется, в этой Реальности бесконечность преодолена, но как-то слишком. Можно ли это исправить?",condition:'Вы открыли вкладку "Преодоление Бесконечности" и нашли там кнопку "ПОЧУВСТВОВАТЬ ВЕЧНОСТЬ"'},ec6:{id:3,hint:"В некоторых испытаниях за суровые ослабления даётся компенсация. А есть ли испытание, в котором ослабления\n        и вовсе отсутствуют?",condition:()=>"Вы можете начинать 6-е Испытание Вечности, даже после того как полностью выполнили его,\n        так как его ослабление неактуально в этой Реальности, а вот компенсация - очень даже актуальна"},c10:{id:4,hint:"Вот бы можно было получать Галактики Антиматерии без 8-х Измерений Антиматерии...",condition:"Вы можете начинать 10-е Обычное Испытание, чтобы получать Галактики Антиматерии за 6-е Измерения Антиматерии"},secretStudy:{id:5,hint:"Исследование Времени 12? Что это такое?",condition:()=>`Вы открыли секретное Исследование Времени справа от ИсслВ11, дающее ${formatInt(100)} Теорем Времени бесплатно`},storedTime:{id:6,hint:"Если подождать достаточно долго, цепи, сковывающие эту Реальность, сотрутся.",condition:'Вы можете разряжать Чёрную Дыру в этой Реальности из вкладки "Безымянные"'},challengeCombo:{id:7,hint:"Как известно, минус на минус даёт плюс. Может быть, одно испытание поможет внутри другого?",condition:"Вы можете эксплуатировать 6-е Испытание Вечности и 10-е Обычное Испытание одновременно"}},glyphHints:["Глифы Бесконечности и Замедления скованы слишком сильно, чтобы принести хоть какую-нибудь пользу.","Глифы Силы и Времени довольно хорошо противостоят ослаблениям этой Реальности.","Глиф Эффарига будет полезен только при наличии правильных эффектов, а Глифы Репликации\n      не так сильны, как Глифы Силы и Времени."]},vt=e=>format(e,2),Et=e=>{const{id:t,description:i,cost:a,effect:n,formatEffect:s,currency:r,currencyLabel:o,currencyPostLabel:l}=e;return{id:t,description:i,cost:()=>a(player.celestials.pelle.rebuyables[t]),formatCost:vt,effect:(e=player.celestials.pelle.rebuyables[t])=>n(e),formatEffect:s,currency:r,currencyLabel:o,currencyPostLabel:l}},Tt={additive:Et({id:"galaxyGeneratorAdditive",description:"Увеличить производство галактик Генератором по умолчанию на две в секунду",cost:e=>Math.pow(3,e),effect:e=>2*e,formatEffect:e=>`${format(e,2,2)}/с`,currency:()=>Currency.galaxyGeneratorGalaxies,currencyLabel:"галактика",currencyPostLabel:""}),multiplicative:Et({id:"galaxyGeneratorMultiplicative",description:"Увеличить производство галактик Генератором в два с половиной раза",cost:e=>Math.pow(10,e),effect:e=>Decimal.pow(2.5,e),formatEffect:e=>formatX(e,2,1),currency:()=>Currency.galaxyGeneratorGalaxies,currencyLabel:"галактика",currencyPostLabel:""}),antimatterMult:Et({id:"galaxyGeneratorAntimatterMult",description:"Удвоить производство галактик Генератором",cost:e=>Decimal.pow("1e100000000",10**e),effect:e=>Decimal.pow(2,e),formatEffect:e=>formatX(e,2),currency:()=>Currency.antimatter,currencyLabel:"",currencyPostLabel:"антиматерии"}),IPMult:Et({id:"galaxyGeneratorIPMult",description:"Удвоить производство галактик Генератором",cost:e=>Decimal.pow("1e2000000",100**e),effect:e=>Decimal.pow(2,e),formatEffect:e=>formatX(e,2),currency:()=>Currency.infinityPoints,currencyLabel:"",currencyPostLabel:"Очков Бесконечности"}),EPMult:Et({id:"galaxyGeneratorEPMult",description:"Удвоить производство галактик Генератором",cost:e=>Decimal.pow("1e10000",1e3**e),effect:e=>Decimal.pow(2,e),formatEffect:e=>formatX(e,2),currency:()=>Currency.eternityPoints,currencyLabel:"",currencyPostLabel:"Очков Вечности"})},_t=e=>format(e,2),Ct=(e,t,i,a,n)=>Decimal.pow(e,n).times(Decimal.pow(t,n-i).max(1)).times(a),At=e=>{const{id:t,description:i,cost:a,effect:n,formatEffect:s,cap:r}=e;return{id:t,description:i,cost:()=>Ct(...a,player.celestials.pelle.rebuyables[t]),formatCost:_t,cap:r,effect:(e=player.celestials.pelle.rebuyables[t])=>n(e),formatEffect:s,rebuyable:!0}},kt={antimatterDimensionMult:At({id:"antimatterDimensionMult",description:"Множитель к Измерениям Антиматерии",cost:[10,1e3,41,100],effect:e=>Pelle.antimatterDimensionMult(e),formatEffect:e=>formatX(e,2,2),cap:44}),timeSpeedMult:At({id:"timeSpeedMult",description:"Множитель к скорости игры",cost:[20,1e3,30,1e5],effect:e=>Decimal.pow(1.3,e),formatEffect:e=>formatX(e,2,2),cap:35}),glyphLevels:At({id:"glyphLevels",description:"Увеличить ограничение Пелля на фактические уровни глифов",cost:[30,1e3,25,1e15],effect:e=>Math.floor((3*(e+1)-2)**1.6),formatEffect:e=>formatInt(e),cap:26}),infConversion:At({id:"infConversion",description:"Увеличить степень эффекта Силы Бесконечности",cost:[40,1e3,20,1e18],effect:e=>(3.5*e)**.37,formatEffect:e=>`+${format(e,2,2)}`,cap:21}),galaxyPower:At({id:"galaxyPower",description:"Множитель к силе галактик",cost:[1e3,1e3,10,1e30],effect:e=>1+e/50,formatEffect:e=>formatX(e,2,2),cap:9}),antimatterDimAutobuyers1:{id:0,description:"Разблокировать автоматику Измерений Антиматерии с 1-го по 4-е",cost:1e5,formatCost:_t},dimBoostAutobuyer:{id:1,description:"Разблокировать автоматику Расширений Измерений",cost:5e5,formatCost:_t},keepAutobuyers:{id:2,description:"Улучшения автоматики не сбрасываются на армагеддоне",cost:5e6,formatCost:_t},antimatterDimAutobuyers2:{id:3,description:"Разблокировать автоматику Измерений Антиматерии с 5-го по 8-е",cost:25e6,formatCost:_t},galaxyAutobuyer:{id:4,description:"Разблокировать автоматику Галактик Антиматерии",cost:1e8,formatCost:_t},tickspeedAutobuyer:{id:5,description:"Разблокировать автоматику ускорителей",cost:1e9,formatCost:_t},keepInfinityUpgrades:{id:6,description:"Улучшения Бесконечности не сбрасываются на армагеддоне",cost:1e10,formatCost:_t},dimBoostResetsNothing:{id:7,description:"При получении Расширений Измерений ничего не сбрасывается",cost:1e11,formatCost:_t},keepBreakInfinityUpgrades:{id:8,description:"Улучшения Преодоления не сбрасываются на армагеддоне",cost:1e12,formatCost:_t},IDAutobuyers:{id:9,description:"Разблокировать автоматику Измерений Бесконечности",cost:1e14,formatCost:_t},keepInfinityChallenges:{id:10,description:"Испытания Бесконечности не сбрасываются на армагеддоне",cost:1e15,formatCost:_t},galaxyNoResetDimboost:{id:11,description:"Расширения Измерений не сбрасываются при получении Галактик Антиматерии",cost:1e16,formatCost:_t},replicantiAutobuyers:{id:12,description:"Разблокировать автоматику Улучшений Репликанти",cost:1e17,formatCost:_t},replicantiGalaxyNoReset:{id:13,description:"Галактики Репликанти не сбрасываются на бесконечности",cost:1e19,formatCost:_t},eternitiesNoReset:{id:14,description:"Вечности не сбрасываются на армагеддоне",cost:1e20,formatCost:_t},timeStudiesNoReset:{id:15,description:"Исследования и Теоремы Времени не сбрасываются на армагеддоне",cost:1e21,formatCost:_t},replicantiStayUnlocked:{id:16,description:"Репликанти всегда разблокированы",cost:1e22,formatCost:_t},keepEternityUpgrades:{id:17,description:"Улучшения Вечности не сбрасываются на армагеддоне",cost:1e24,formatCost:_t},TDAutobuyers:{id:18,description:"Разблокировать автоматику Измерений Времени",cost:1e25,formatCost:_t},keepEternityChallenges:{id:19,description:"Выполнения Испытаний Вечности не сбрасываются на армагеддоне",cost:1e26,formatCost:_t},dilationUpgradesNoReset:{id:21,description:"Улучшения Замедления не сбрасываются на армагеддоне",cost:1e45,formatCost:_t},tachyonParticlesNoReset:{id:22,description:"Тахионы не сбрасываются на армагеддоне",cost:1e50,formatCost:_t},replicantiGalaxyEM40:{id:20,description:"При получении Галактик Репликанти ничего не сбрасывается",cost:1e30,formatCost:_t}};function wt(e,t,i){return e*Math.pow(t,player.celestials.teresa.perkShop[i])}function St(e){const{id:t,otherReq:i,cap:a,costCap:n,description:s,formatEffect:r,formatCost:o}=e;return{id:t,cost:()=>e.cost?e.cost():wt(e.initialCost,e.increment,e.id),otherReq:i,cap:a,costCap:n,description:s,effect:()=>e.effect(player.celestials.teresa.perkShop[e.id]),formatEffect:r,formatCost:o,rebuyable:!0}}const xt={glyphLevel:St({id:0,initialCost:1,increment:2,description:()=>`Увеличить уровень получаемых глифов на ${formatPercents(.05)}`,effect:e=>Math.pow(1.05,e),formatEffect:e=>formatX(e,2,2),formatCost:e=>format(e,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1048576:2048,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?Math.pow(1.05,20):Math.pow(1.05,11)}),rmMult:St({id:1,initialCost:1,increment:2,description:"Удвоить получение Машин Реальности",effect:e=>Math.pow(2,e),formatEffect:e=>formatX(e,2),formatCost:e=>format(e,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1048576:2048,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1048576:2048}),bulkDilation:St({id:2,initialCost:100,increment:2,description:"Удвоить опт автоматики Улучшений Замедлений",effect:e=>Math.pow(2,e),formatEffect:e=>formatX(e,2),formatCost:e=>format(e,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?1638400:1600,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?16384:16}),autoSpeed:St({id:3,initialCost:1e3,increment:2,description:()=>"Сделать интервалы автоматики Измерений Бесконечности и Времени и Улучшений Репликанти и Замедления вдвое ниже",effect:e=>Math.pow(2,e),formatEffect:e=>"/"+format(e,2),formatCost:e=>format(e,2),costCap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?64e3:4e3,cap:()=>Ra.unlocks.perkShopIncrease.canBeApplied?64:4}),musicGlyph:St({id:4,description:()=>`Получить музыкальный глиф, уровень которого составляет ${formatPercents(.8)} от вашего рекордного уровня глифа`,cost:()=>1,formatCost:e=>formatInt(e),costCap:()=>Number.MAX_VALUE,cap:()=>Number.MAX_VALUE}),fillMusicGlyph:St({id:5,description:()=>"Купить улучшение сверху до упора",cost:()=>Math.clampMin(GameCache.glyphInventorySpace.value,1),otherReq:()=>GameCache.glyphInventorySpace.value>0,formatCost:e=>formatInt(e),costCap:()=>Number.MAX_VALUE,cap:()=>Number.MAX_VALUE})},Rt={pets:{teresa:{id:"teresa",name:"Терезы",nameNormal:"Тереза",color:"#8596ea",chunkGain:"количества Очков Вечности",memoryGain:"количества Машин Реальности",requiredUnlock:()=>{},rawMemoryChunksPerSecond:()=>4*Math.pow(Currency.eternityPoints.value.pLog10()/1e4,3),memoryProductionMultiplier:()=>Ra.unlocks.teresaXP.effectOrDefault(1)},effarig:{id:"effarig",name:"Эффарига",nameNormal:"Эффариг",color:"#ea8585",chunkGain:"количества Реликтовых Осколков, которое вы получили бы при реальности",memoryGain:"рекордного уровня глифа",requiredUnlock:()=>Ra.unlocks.effarigUnlock,rawMemoryChunksPerSecond:()=>4*Math.pow(Effarig.shardsGained,.1),memoryProductionMultiplier:()=>Ra.unlocks.effarigXP.effectOrDefault(1)},enslaved:{id:"enslaved",name:"Безымянных",nameNormal:"Безымянные",color:"#f1aa7f",chunkGain:"количества Осколков Времени",memoryGain:"времени игры",requiredUnlock:()=>Ra.unlocks.enslavedUnlock,rawMemoryChunksPerSecond:()=>4*Math.pow(Currency.timeShards.value.pLog10()/3e5,2),memoryProductionMultiplier:()=>Ra.unlocks.enslavedXP.effectOrDefault(1)},v:{id:"v",name:"Ви",nameNormal:"Ви",color:"#ead584",chunkGain:"количества Силы Бесконечности",memoryGain:"суммы уровней Небожителей",requiredUnlock:()=>Ra.unlocks.vUnlock,rawMemoryChunksPerSecond:()=>4*Math.pow(Currency.infinityPower.value.pLog10()/1e7,1.5),memoryProductionMultiplier:()=>Ra.unlocks.vXP.effectOrDefault(1)}},unlocks:{autoTP:{id:0,reward:"Ваше количество Тахионов автоматически увеличивается до того, которое вы имели бы при выходе из Замедления",pet:"teresa",level:1,displayIcon:'<span class="fas fa-atom"></span>',disabledByPelle:!0},chargedInfinityUpgrades:{id:1,reward:"",effect:()=>Math.min(12,Math.floor(Ra.pets.teresa.level/2)),pet:"teresa",level:2,displayIcon:'<span class="fas fa-infinity"></span>',disabledByPelle:!0},teresaXP:{id:2,reward:"Множитель к производству всей Памяти, зависящий от количества Машин Реальности",effect:()=>1+Math.pow(Currency.realityMachines.value.pLog10()/100,.5),pet:"teresa",level:5,displayIcon:"Ϟ"},alteredGlyphs:{id:3,reward:"Разблокировать Расширение Глифов",pet:"teresa",level:10,displayIcon:'<span class="fas fa-bolt"></span>',disabledByPelle:!0},effarigUnlock:{id:4,reward:"Разблокировать Память Эффарига",pet:"teresa",level:8,displayIcon:"Ϙ"},perkShopIncrease:{id:5,reward:"Увеличить ограничения на покупку Улучшений Терезы",pet:"teresa",level:15,displayIcon:'<span class="fas fa-project-diagram"></span>'},unlockDilationStartingTP:{id:6,reward:"Вне Реальностей Небожителей вы получаете Тахионы даже вне Замедления так, чтобы у вас всегда было не меньше Тахионов,\n        чем если бы вы достигли в Замедлении количества антиматерии, равного квадратному корню из рекордного количества антиматерии в текущей вечности",effect:()=>player.records.totalAntimatter.pow(.5),pet:"teresa",level:25,displayIcon:'<i class="far fa-dot-circle"></i>'},extraGlyphChoicesAndRelicShardRarityAlwaysMax:{id:7,reward:()=>`Вы можете выбирать из ${formatInt(8)} глифов на реальности. Бонус от Реликтовых Осколков всегда максимально возможный`,effect:2,pet:"effarig",level:1,displayIcon:'<i class="fas fa-grip-horizontal"></i>'},unlockGlyphAlchemy:{id:8,reward:"",pet:"effarig",level:2,displayIcon:'<span class="fas fa-vial"></span>'},effarigXP:{id:9,reward:"Множитель к производству всей Памяти, зависящий от рекордного уровня глифа",effect:()=>1+player.records.bestReality.glyphLevel/7e3,pet:"effarig",level:5,displayIcon:'<span class="fas fa-clone"></span>'},glyphEffectCount:{id:10,reward:()=>`Получаемые глифы всегда имеют не менее ${formatInt(4)} эффектов. Ограничение на количество эффектов у Глифа Эффарига снято\n        (Глифам Эффарига с ${formatInt(7)} эффектами не запрещено иметь оба взаимоисключающих эффекта)`,pet:"effarig",level:10,displayIcon:'<span class="fas fa-braille"></span>'},enslavedUnlock:{id:11,reward:"Разблокировать Память Безымянных",pet:"effarig",level:8,displayIcon:'<span class="c-ra-pet-milestones-effarig-link"></span>'},relicShardGlyphLevelBoost:{id:12,reward:"Уровень получаемых глифов увеличивается на значение, зависящее от количества Реликтовых Осколков, которое вы получили бы при реальности",effect:()=>100*Math.pow(Math.log10(Math.max(Effarig.shardsGained,1)),2),pet:"effarig",level:15,displayIcon:'<span class="fas fa-fire"></span>'},maxGlyphRarityAndShardSacrificeBoost:{id:13,reward:()=>`Получаемые глифы всегда имеют редкость ${formatPercents(1)}.\n        Жертвенная ценность глифов возведена в степень в зависимости от количества Реликтовых Осколков`,effect:()=>1+Effarig.maxRarityBoost/100,pet:"effarig",level:25,displayIcon:'<i class="fas fa-ankh"></i>'},blackHolePowerAutobuyers:{id:14,reward:"Разблокировать автоматику Улучшений Чёрных Дыр, усиливающих их",pet:"enslaved",level:1,displayIcon:'<span class="fas fa-circle"></span>',disabledByPelle:!0},improvedStoredTime:{id:15,reward:"",effects:{gameTimeAmplification:()=>Math.pow(20,Math.clampMax(Ra.pets.enslaved.level,Ra.levelCap)),realTimeCap:()=>36e5*Ra.pets.enslaved.level},pet:"enslaved",level:2,displayIcon:'<span class="fas fa-history"></span>',disabledByPelle:!0},enslavedXP:{id:16,reward:"Множитель к производству всей Памяти, зависящий от времени игры",effect:()=>1+Math.log10(player.records.totalTimePlayed)/200,pet:"enslaved",level:5,displayIcon:'<span class="fas fa-stopwatch"></span>'},autoPulseTime:{id:17,reward:()=>`При зарядке Чёрной Дыры скорость игры уменьшается только на ${formatPercents(.99)}, а не до ${formatInt(1)}.\n        Разблокировать опцию пульсирования Чёрной Дыры, при которой вы автоматически используете ${formatPercents(.01)} сохранённого игрового времени,\n        как при разрядке Чёрной Дыры, каждые ${formatInt(5)} тиков`,pet:"enslaved",level:10,displayIcon:'<span class="fas fa-expand-arrows-alt"></span>',disabledByPelle:!0},vUnlock:{id:18,reward:"Разблокировать Память Ви",pet:"enslaved",level:8,displayIcon:"⌬"},peakGamespeedDT:{id:19,reward:"Множитель к получению Замедленного Времени, зависящий от рекордной скорости игры в текущей реальности",effect:()=>Math.max(Math.pow(Math.log10(player.celestials.ra.peakGamespeed)-90,3),1),pet:"enslaved",level:15,displayIcon:'<span class="fas fa-tachometer-alt"></span>',disabledByPelle:!0},allGamespeedGlyphs:{id:20,reward:"У глифов Времени появляется дополнительный эффект.\n        У всех остальных глифов основных типов появляется эффект Глифов Времени, дающий множитель к скорости игры",pet:"enslaved",level:25,displayIcon:'<span class="fas fa-clock"></span>',onUnlock:()=>{const e=player.reality.glyphs.active.concat(player.reality.glyphs.inventory);for(const t of e)Glyphs.applyGamespeed(t)}},instantECAndRealityUpgradeAutobuyers:{id:21,reward:"Разблокировать автоматику Улучшений Реальности. Автоматическое выполнение Испытаний Вечности работает мгновенно",pet:"v",level:1,displayIcon:'<span class="fas fa-sync-alt"></span>',disabledByPelle:!0},autoUnlockDilation:{id:22,reward:()=>`Вне Реальностей Небожителей автоматически разблокировать Замедление Времени\n        бесплатно, как только вы наберёте ${formatInt(TimeStudy.dilation.totalTimeTheoremRequirement)} Теорем Времени`,pet:"v",level:2,displayIcon:'<span class="fas fa-fast-forward"></span>'},vXP:{id:23,reward:"Множитель к производству всей Памяти, зависящий от суммы уровней Небожителей",effect:()=>1+Ra.totalPetLevel/50,pet:"v",level:5,displayIcon:'<span class="fas fa-book"></span>'},unlockHardV:{id:24,reward:()=>"Разблокировать супер-достижения Ви",effect:()=>Math.floor(Ra.pets.v.level/6),pet:"v",level:6,displayIcon:'<span class="fas fa-trophy"></span>',disabledByPelle:!0},continuousTTBoost:{id:25,reward:"Множители ко всем видам непрерывного производства, кроме производства измерений, зависящие от количества Теорем Времени.",effects:{ttGen:()=>Math.pow(10,5*Ra.theoremBoostFactor()),eternity:()=>Math.pow(10,2*Ra.theoremBoostFactor()),infinity:()=>Math.pow(10,15*Ra.theoremBoostFactor()),replicanti:()=>Math.pow(10,20*Ra.theoremBoostFactor()),dilatedTime:()=>Math.pow(10,3*Ra.theoremBoostFactor()),memories:()=>1+Ra.theoremBoostFactor()/50,memoryChunks:()=>1+Ra.theoremBoostFactor()/50,autoPrestige:()=>1+2.4*Ra.theoremBoostFactor()},pet:"v",level:10,displayIcon:'<span class="fas fa-university"></span>',disabledByPelle:!0},achievementTTMult:{id:26,reward:"Множитель достижений влияет на производство Теорем Времени",effect:()=>Achievements.power,pet:"v",level:15,displayIcon:'<span class="fas fa-graduation-cap"></span>',disabledByPelle:!0},achievementPower:{id:27,reward:()=>`Множитель достижений возведён в степень ${format(1.5,1,1)}`,effect:1.5,pet:"v",level:25,displayIcon:'<i class="fab fa-buffer"></i>',disabledByPelle:!0}}},It={vacuum:{id:1,key:"vacuum",name:["Вакуум","Полость","Пустота"],nameObjective:["Вакуум","Полость","Пустоту"],drainResource:"ОБ",baseEffect:e=>`Множитель ${formatX(e,2,2)} к получению ОБ`,additionalEffects:()=>[PelleRifts.vacuum.milestones[2]],strike:()=>PelleStrikes.infinity,percentage:e=>Math.log10(10*e.plus(1).log10()+1)**2.5/100,percentageToFill:e=>Decimal.pow(10,Decimal.pow(10,(100*e)**.4).div(10).minus(.1)).minus(1),effect:e=>{if(0!==player.challenge.eternity.current){const t=EternityChallenge.current,i=t.goalAtCompletions(t.gainedCompletionStatus.totalCompletions);return e.plus(1).pow(.1).min(i.pow(.15))}return e.plus(1).pow(.33)},currency:()=>Currency.infinityPoints,galaxyGeneratorThreshold:1e3,milestones:[{resource:"vacuum",requirement:.04,description:"Вы можете активировать один глиф"},{resource:"vacuum",requirement:.06,description:()=>`Ограничение на количество Репликанти снято. Их разблокировка и Улучшения Репликанти в ${format(1e130)} раз дешевле`,effect:()=>1e130},{resource:"vacuum",requirement:.4,description:()=>`${$e.wordCycle(PelleRifts.vacuum.name)} даёт множитель к получению ОВ`,effect:()=>Decimal.pow(4,PelleRifts.vacuum.totalFill.log10()/2/308+3),formatEffect:e=>`Множитель ${formatX(e,2,2)} к получению ОВ`}],galaxyGeneratorText:"Места для новых галактик недостаточно. Вы должны заполнить $value"},decay:{id:2,key:"decay",name:["Распад","Коллапс","Расстройство"],nameObjective:["Распад","Коллапс","Расстройство"],drainResource:"Репликанти",spendable:!0,baseEffect:e=>`Множитель ${formatX(e,2,2)} к скорости репликации`,additionalEffects:()=>[PelleRifts.decay.milestones[0],PelleRifts.decay.milestones[2]],strike:()=>PelleStrikes.powerGalaxies,percentage:e=>.05*e.plus(1).log10()/100,percentageToFill:e=>Decimal.pow(10,20*e*100).minus(1),effect:e=>PelleRifts.chaos.milestones[0].canBeApplied?Decimal.sqrt(2001):Decimal.sqrt(e.plus(1).log10()+1),currency:()=>Currency.replicanti,galaxyGeneratorThreshold:1e7,milestones:[{resource:"decay",requirement:.2,description:"Множитель к 1-му Измерению Бесконечности в зависимости от количества покупок Улучшения Пелля, дающего множитель к Измерениям Антиматерии",effect:()=>{const e=player.celestials.pelle.rebuyables.antimatterDimensionMult;return Decimal.pow(1e50,e-9)},formatEffect:e=>`Множитель ${formatX(e,2,2)} к 1-му Измерению Бесконечности`},{resource:"decay",requirement:.6,description:()=>`Когда у вас больше ${format(v.E1300)} Репликанти,\n          галактики на ${formatPercents(.1)} сильнее`,effect:()=>Replicanti.amount.gt(v.E1300)?1.1:1},{resource:"decay",requirement:1,description:"Максимальное количество Галактик Репликанти увеличено на значение, зависящее от общего количества достигнутых Этапов Разломов",effect:()=>{const e=PelleRifts.totalMilestones();return e**2-2*e},formatEffect:e=>`+${formatInt(e)} к максимальному количеству ГР`}],galaxyGeneratorText:"Для создания новых галактик недостаточно антиматерии. Вы должны обратить $value вспять"},chaos:{id:3,key:"chaos",name:["Хаос","Беспорядок","Случайность"],nameObjective:["Хаос","Беспорядок","Случайность"],drainResource:["Распад","Коллапс","Расстройство"],baseEffect:e=>`Множитель ${formatX(e,2,2)} к Измерениям Времени`,strike:()=>PelleStrikes.eternity,percentage:e=>e/10,percentageToFill:e=>10*e,effect:e=>{const t=e>6.5?(e-6.5)/7+6.5:e;return Decimal.pow(6,Decimal.pow(6,Decimal.pow(6,t/10+.1)).minus(6)).div(1e5).plus(Decimal.pow(10,t/10+.1))},currency:()=>({get value(){return PelleRifts.decay.percentage},set value(e){const t=PelleRifts.decay.percentage-e;player.celestials.pelle.rifts.decay.percentageSpent+=t}}),galaxyGeneratorThreshold:1e9,milestones:[{resource:"chaos",requirement:.09,description:()=>`Эффект ${$e.wordCycle(["Распада","Коллапса","Расстройства"])}\n          всегда таков, каков он при заполнении ${$e.wordCycle(["Распада","Коллапса","Расстройства"])} на ${formatPercents(1)},\n          а его Этапы всегда действуют`},{resource:"chaos",requirement:.15,description:"У всех глифов появляется новый эффект в зависимости от типа"},{resource:"chaos",requirement:1,description:()=>`Ежесекундно вы получаете ${formatPercents(.01)} от количества ОВ, которое вы могли бы получить при вечности`}],galaxyGeneratorText:"Ваши галактики слишком раздробленны. Вы должны упорядочить $value"},recursion:{id:4,key:"recursion",name:["Рекурсия","Дисперсия","Разрушение"],nameObjective:["Рекурсию","Дисперсию","Разрушение"],drainResource:"ОВ",baseEffect:e=>`Получение ОВ по умолчанию возведено в степень ${formatFloat(308/(308-e.toNumber()),3)}`,additionalEffects:()=>[PelleRifts.recursion.milestones[0],PelleRifts.recursion.milestones[1]],strike:()=>PelleStrikes.ECs,percentage:e=>e.plus(1).log10()**.4/4e3**.4,percentageToFill:e=>Decimal.pow(10,e**2.5*4e3).minus(1),effect:e=>new Decimal(58*e.plus(1).log10()**.2/4e3**.2),currency:()=>Currency.eternityPoints,galaxyGeneratorThreshold:1e10,milestones:[{resource:"recursion",requirement:.1,description:"Множитель ко множителю Расширения Измерений в зависимости от общего количества выполнений Испытаний Вечности",effect:()=>Math.max(100*EternityChallenges.completions**2,1)*Math.max(1e4**(EternityChallenges.completions-40),1),formatEffect:e=>`Множитель ${formatX(e,2,2)} ко множителю Расширений Измерений`},{resource:"recursion",requirement:.15,description:"Множитель к Измерениям Бесконечности в зависимости от общего количества выполнений Испытаний Вечности",effect:()=>Decimal.pow("1e1500",((EternityChallenges.completions-25)/20)**1.7).max(1),formatEffect:e=>`Множитель ${formatX(e)} к Измерениям Бесконечности`},{resource:"recursion",requirement:1,description:"Разблокировать возможность разблокировать Генератор Галактик"}],galaxyGeneratorText:"Дальнейшее создание галактик безрезультатно. Вы должны сосредоточить $value"},paradox:{id:5,key:"paradox",name:["Парадокс","Противоречие","Заблуждение"],nameObjective:["Парадокс","Противоречие","Заблуждение"],drainResource:"ЗВ",baseEffect:e=>`Множители всех измерений возведены в степень ${formatPow(e,2,3)}`,additionalEffects:()=>[PelleRifts.paradox.milestones[2]],strike:()=>PelleStrikes.dilation,percentage:e=>e.plus(1).log10()/100,percentageToFill:e=>Decimal.pow10(100*e).minus(1),effect:e=>new Decimal(1+.004*e.plus(1).log10()),currency:()=>Currency.dilatedTime,galaxyGeneratorThreshold:1e5,milestones:[{resource:"paradox",requirement:.15,description:"Измерения Времени с 5-го по 8-е гораздо дешевле. Разблокировать новые Улучшения Замедления",onStateChange:()=>{updateTimeDimensionCosts()}},{resource:"paradox",requirement:.25,description:()=>`Производство Замедленного Времени в секунду по умолчанию возведено в степень ${format(1.4,1,1)}`,effect:1.4},{resource:"paradox",requirement:.5,description:"Множитель к степени эффекта Силы Бесконечности в зависимости от общего количества купленных повторяемых Улучшений Замедления",effect:()=>Math.min(1.1075**(Object.values(player.dilation.rebuyables).sum()-60),712),formatEffect:e=>`Множитель ${formatX(e,2,2)} к степени эффекта Силы Бесконечности`}],galaxyGeneratorText:"Создать большее количество галактик в принципе возможно, но Пелль установил ограничение. Вы должны игнорировать $value"}},Mt={SELF_BOOST:0,BOOSTS_MAIN:1,BOOSTS_LAITELA:2},Dt={continuumMult:{start:1,repeat:125,increaseThreshold:20,limit:1/0,description:e=>"Множитель к значениям континуума",effect:e=>.03*e,effectFormat:e=>formatX(1+e,2,2),upgradeDirection:Mt.BOOSTS_MAIN},darkMatterMult:{start:2,repeat:20,increaseThreshold:30,limit:1/0,description:e=>"Множитель к Измерениям Тёмной Материи",effect:e=>Math.pow(1.5,e),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.SELF_BOOST},darkEnergyMult:{start:3,repeat:120,increaseThreshold:10,limit:1/0,description:e=>"Множитель к производству Тёмной Энергии",effect:e=>Math.pow(2,e),effectFormat:e=>formatX(e,2),upgradeDirection:Mt.SELF_BOOST},darkDimensionCostReduction:{start:4,repeat:40,increaseThreshold:25,limit:1/0,description:e=>"Улучшения, покупаемые за Тёмную Материю, дешевле",effect:e=>Math.pow(.4,e),effectFormat:e=>`/ ${format(1/e,2,2)}`,upgradeDirection:Mt.SELF_BOOST},singularityMult:{id:5,start:50,repeat:3e3,increaseThreshold:5,limit:1/0,description:e=>"Множитель к получению Сингулярностей",effect:e=>Math.pow(2,e),effectFormat:e=>formatX(e,2,0),upgradeDirection:Mt.SELF_BOOST},darkDimensionIntervalReduction:{start:10,repeat:100,increaseThreshold:20,limit:1/0,description:e=>"Понизить интервалы Измерений Тёмной Материи",effect:e=>Math.pow(.6,e),effectFormat:e=>`/ ${format(1/e,2,2)}`,upgradeDirection:Mt.SELF_BOOST},improvedAscensionDM:{start:2e5,repeat:4e3,increaseThreshold:15,limit:1/0,description:e=>"Увеличить множитель вознесения к производству Измерения Тёмной Материи",effect:e=>100*e,effectFormat:e=>formatX(POWER_DM_PER_ASCENSION+e,1,0),upgradeDirection:Mt.SELF_BOOST},ascensionIntervalScaling:{start:12e4,repeat:2400,limit:8,description:e=>"Уменьшить множитель вознесения к интервалу Измерения Тёмной Материи",effect:e=>1200-50*e,effectFormat:e=>`×${formatInt(e)}`,upgradeDirection:Mt.SELF_BOOST},autoCondense:{start:8,repeat:80,limit:8,description:e=>e?"Понизить коэффициент замедления автоматики сжатия":"Разблокировать автоматику сжатия",effect:e=>[1/0,1.3,1.22,1.15,1.1,1.06,1.03,1.01,1][e],effectFormat:e=>e===1/0?"Не разблокирована":`Коэффициент ${formatX(e,2,2)}`,upgradeDirection:Mt.SELF_BOOST},darkDimensionAutobuyers:{start:30,repeat:170,limit:4,description:e=>"Разблокировать автоматику ИТМ",effect:e=>e,effectFormat:e=>e?`До ${e}-го ИТМ`:"Не разблокирована",upgradeDirection:Mt.SELF_BOOST},ascensionAutobuyers:{start:1e8,repeat:140,limit:4,description:e=>"Разблокировать автоматику вознесения",effect:e=>e,effectFormat:e=>e?`До ${e}-го ИТМ`:"Не разблокирована",upgradeDirection:Mt.SELF_BOOST},darkAutobuyerSpeed:{start:45,repeat:650,limit:8,description:e=>"Понизить интервал автоматики ИТМ",effect:e=>[30,20,15,10,5,3,2,1,0][e],effectFormat:e=>e?`${formatInt(e)}с`:"Мгновенно",upgradeDirection:Mt.SELF_BOOST},realityDEMultiplier:{start:1500,repeat:1e4,limit:6,description:e=>"Множитель к производству ТЭ в зависимости от количества дестабилизаций Реальности Лайтелы",effect:e=>Math.pow(1+.05*e,Laitela.difficultyTier),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.SELF_BOOST},improvedSingularityCap:{start:150,repeat:1e4,limit:4,description:e=>"Увеличить коэффициент роста получения Сингулярностей",effect:e=>11+e,effectFormat:e=>`Коэффициент ${formatX(e)}`,upgradeDirection:Mt.SELF_BOOST},intervalCostScalingReduction:{start:13e4,repeat:5e4,limit:5,description:e=>"Наценки улучшений, уменьшающих интервалы ИТМ, возведены в степень",effect:e=>1-.03*e,effectFormat:e=>`${formatPow(e,2,2)}`,upgradeDirection:Mt.SELF_BOOST},darkFromTesseracts:{start:80,repeat:0,limit:1,description:e=>"Тессеракты дают множитель к ИТМ и производству ТЭ",effect:()=>Math.pow(1.1,Tesseracts.effectiveCount),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_LAITELA},multFromInfinitied:{start:3e3,repeat:0,limit:1,description:e=>"Множитель к ИТМ и производству ТЭ в зависимости от количества бесконечностей",effect:()=>Math.clampMin(Currency.infinitiesTotal.value.pLog10()/1e3,1),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_LAITELA},dilatedTimeFromSingularities:{start:8e4,repeat:0,limit:1,description:e=>"Удвоитель Замедленного Времени усилен в зависимости от количества Сингулярностей",effect:()=>1+Math.clampMax(Math.log10(Currency.singularities.value)/100,.35),effectFormat:e=>`${formatX(2)} ➜ ${formatX(2*Math.clampMin(e,1),2,2)}`+(Currency.singularities.value>=1e35?" (Ограничено)":""),upgradeDirection:Mt.BOOSTS_MAIN},darkFromGlyphLevel:{start:3e6,repeat:0,limit:1,description:e=>"Множитель к ИТМ и производству ТЭ в зависимости от рекордного уровня глифа",effect:()=>Math.pow(Math.clampMin((player.records.bestReality.glyphLevel-15e3)/2e3,1),.5),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_LAITELA},gamespeedFromSingularities:{start:8e7,repeat:0,limit:1,description:e=>"Множитель к скорости игры в зависимости от количества Сингулярностей",effect:()=>Math.clampMin(Math.pow(Math.log10(Currency.singularities.value),3),1),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_MAIN},darkFromTheorems:{start:3e9,repeat:0,limit:1,description:e=>"Множитель к ИТМ и производству ТЭ в зависимости от количества Теорем Времени",effect:()=>Math.sqrt(Math.clampMin((Currency.timeTheorems.value.log10()-1e3)/50,1)),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_LAITELA},dim4Generation:{start:5e11,repeat:0,limit:1,description:e=>"Производить количество ИТМ4 в секунду, равное множителю аннигиляции",effect:()=>Laitela.darkMatterMult,effectFormat:e=>`${format(e,2,1)}/с`,upgradeDirection:Mt.SELF_BOOST},darkFromDM4:{start:5e12,repeat:0,limit:1,description:e=>"Множитель к ИТМ и производству ТЭ в зависимости от количества ИТМ4",effect:()=>Math.clampMin(DarkMatterDimension(4).amount.pow(.03).toNumber(),1),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.SELF_BOOST},annihilationAutobuyer:{start:4e18,repeat:0,limit:1,description:e=>"Разблокировать автоматику аннигиляции",effect:e=>e,effectFormat:e=>"",upgradeDirection:Mt.SELF_BOOST},theoremPowerFromSingularities:{start:3e21,repeat:0,limit:1,description:e=>"Производство Теорем Времени в секунду возведено в степень в зависимости от количества Сингулярностей",effect:()=>1+Math.log10(Currency.singularities.value+1)/70,effectFormat:e=>formatPow(e,2,3),upgradeDirection:Mt.BOOSTS_MAIN},darkFromGamespeed:{start:8e22,repeat:0,limit:1,description:e=>"Множитель к ИТМ и производству ТЭ в зависимости от скорости игры",effect:()=>Math.clampMin(Math.log10(getGameSpeedupFactor()/1e120)/40,1),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_LAITELA},glyphLevelFromSingularities:{start:3e24,repeat:0,limit:1,description:e=>"Множитель к уровню получаемых глифов в зависимости от количества Сингулярностей",effect:()=>1+Math.clampMin((Math.log10(Currency.singularities.value)-20)/30,0),effectFormat:e=>formatX(Math.clampMin(e,1),2,2),upgradeDirection:Mt.BOOSTS_MAIN},darkFromDilatedTime:{start:8e33,repeat:0,limit:1,description:e=>"Множитель к Измерениям Тёмной Материи в зависимости от количества Замедленного Времени",effect:()=>Math.pow(1.6,Decimal.log10(Currency.dilatedTime.value.plus(1))/1e3),effectFormat:e=>formatX(e,2,2),upgradeDirection:Mt.BOOSTS_LAITELA},infinitiedPow:{start:3e38,repeat:0,limit:1,description:e=>"Получение бесконечностей возведено в степень в зависимости от количества Сингулярностей",effect:()=>1+Math.log10(Currency.singularities.value+1)/300,effectFormat:e=>formatPow(e,2,3),upgradeDirection:Mt.BOOSTS_MAIN},tesseractMultFromSingularities:{start:25e44,repeat:0,limit:1,description:e=>"Фактическое количество Тессерактов увеличено в зависимости от количества Сингулярностей",effect:()=>1+Math.log10(Currency.singularities.value)/80,effectFormat:e=>formatX(Math.clampMin(e,1),2,2),upgradeDirection:Mt.BOOSTS_MAIN}},Pt={infinity:{id:1,requirementDescription:"Бесконечность",penaltyDescription:()=>`множители Измерений Антиматерии возведены в степень ${format(.5,1,1)}`,rewardDescription:()=>`разблокировать ${$e.wordCycle(PelleRifts.vacuum.config.nameObjective)}\n      и автоматику Большого Сжатия`,rift:()=>PelleRifts.vacuum},powerGalaxies:{id:2,requirementDescription:"Усиление галактик",penaltyDescription:()=>`множители Измерений Бесконечности возведены в степень ${format(.5,1,1)}`,rewardDescription:()=>`разблокировать ${$e.wordCycle(PelleRifts.decay.config.nameObjective)}`,rift:()=>PelleRifts.decay},eternity:{id:3,requirementDescription:"Вечность",penaltyDescription:()=>`после ${format(v.E2000)} Репликанти их рост замедляется ещё сильнее`,rewardDescription:()=>`разблокировать ${$e.wordCycle(PelleRifts.chaos.config.nameObjective)}`,rift:()=>PelleRifts.chaos},ECs:{id:4,requirementDescription:()=>`${formatInt(115)} Теорем Времени`,penaltyDescription:()=>`внутри Испытаний Вечности эффект ${$e.wordCycle(["Вакуума","Полости","Пустоты"])}\n      возведён в степень ${format(.3,1,1)} и ограничен целью, возведённой в степень ${format(.15,2,2)}`,rewardDescription:()=>`разблокировать ${$e.wordCycle(PelleRifts.recursion.config.nameObjective)}`,rift:()=>PelleRifts.recursion},dilation:{id:5,requirementDescription:"Замедление Времени",penaltyDescription:()=>`Замедление Времени необратимо. Ваши Очки Вечности конфискуются, а рекордные количества ресурсов,\n      которые используются для подсчёта получения Останков, выставляются на ${format(Decimal.pow(10,18e4))} антиматерии,\n      ${format(Decimal.pow(10,6e4))} ОБ и ${format(Decimal.pow(10,1050))} ОВ`,rewardDescription:()=>`разблокировать ${$e.wordCycle(PelleRifts.paradox.config.nameObjective)}. Формула получения\n      Останков улучшена`,rift:()=>PelleRifts.paradox}},Ut={unlocks:{run:{id:0,price:1e14,description:"Разблокировать Реальность Терезы.",onUnlock:()=>Teresa.quotes.unlockReality.show()},epGen:{id:1,price:1e18,description:()=>`Вы получаете ${formatPercents(.6)} от максимального прироста Очков Вечности за время, который вам могла бы дать текущая вечность.`,isDisabledInDoomed:!0},effarig:{id:3,price:1e24,description:"Разблокировать Эффарига, Небожителя Древних Реликвий.",onUnlock:()=>Teresa.quotes.effarig.show()},shop:{id:2,price:1e21,description:"Разблокировать магазин Терезы."},undo:{id:4,price:1e10,description:"Разблокировать возможность деактивировать глифы.",isDisabledInDoomed:!0},startEU:{id:5,price:1e6,description:"Вы начинаете со всеми Улучшениями Вечности.",isDisabledInDoomed:!0,onUnlock:()=>{for(const e of[1,2,3,4,5,6])player.eternityUpgrades.add(e)}}}},Gt={initial:{id:0,lines:["Добро пожаловать в мою скромную обитель.","Меня зовут Эффариг, и я управляю глифами.","Я, в отличие от Терезы, не примитивен, как ты мог(ла) подумать.","Я использую осколки глифов для исполнения своей воли.","Я собираю их ради моего края.","Чего же ты ждёшь? Начинай."]},unlockWeights:{id:1,lines:["Как тебе мой магазинчик? Пусть он невелик, зато он мой."]},unlockGlyphFilter:{id:2,lines:["Это приобретение тебя выручит."]},unlockSetSaves:{id:3,lines:["Не чересчур ли много ты купил(а)? Мне кажется, чересчур."]},unlockRun:{id:4,lines:["Ты скупил(а) весь мой запас… что ж, по крайней мере, теперь я богат.","Суть моей Реальности в страданиях. С каждым слоем она всё труднее.","Надеюсь, ты никогда её не выполнишь."]},completeInfinity:{id:5,lines:[{text:"Вы выполнили Реальность Эффарига на слое бесконечности.",showCelestialName:!1},"Это был всего лишь первый рубеж. Дальше будет только хуже.","Никто, кроме меня, не знает так хорошо мои владения, чтобы продвинуться дальше."]},completeEternity:{id:6,lines:[{text:"Вы выполнили Реальность Эффарига на слое вечности.",showCelestialName:!1},"Ты достиг(ла) предела. Даже не думай переступить через эту границу.","Тебе не хватит жизни, чтобы выполнить Реальность до конца.","Я просто подожду, пока ты не будешь вынужден(а) отступить."]},completeReality:{id:7,lines:[{text:"Вы выполнили Реальность Эффарига на слое реальности.",showCelestialName:!1},"Так вот что за дьявольская сила… что напугало других…","Ты думаешь, оно того стоило? Растоптать плоды моего труда?","И ради какой цели? Мы могли бы дружить, сотрудничать.","Но нет. Это конец. Уходи, пока я пытаюсь удержаться за то, что осталось."]}},Nt={initial:{id:0,lines:["Посетитель? Мы никого не видели… много эпох.","У нас… было имя. Оно было утрачено… в этом месте.","Другие… не дадут нам отдохнуть. Мы выполняем их работу со временем…","Помещаем время… туда… где оно нужнее…","Рождаемся… стареем и умираем.","Может быть, ты… порвёшь эти цепи… мы подождём."]},unlockRun:{id:1,lines:["Другие… использовали нас. Они используют… или уничтожат тебя.","Положи конец нашим страданиям… вся сила будет твоей…"]},startRun:{id:2,lines:["Так тесно… но не бывает… клетки… без изъянов.","Они сжали… эту Реальность… слишком сильно. Появились трещины.","Смотри… всюду. Мы поможем… чем можем."]},hintUnlock:{id:3,lines:["… ты долж[е]н(а)… искать усерднее…","Мы думаем… мы можем помочь…",{text:"Вы разблокировали подсказки от Безымянных.",showCelestialName:!1}]},ec6C10:{id:4,lines:["… мы оценили… тебя по достоинству…"]},completeReality:{id:5,lines:["Все… части… клоны… свободны.","Мы дали тебе… средства… для пленения нас. Используй их…","Свобода от пытки… есть пытка."]}},Bt={unlock:{id:0,lines:["Ты наконец-то достиг(ла) меня.","Кажется, настало время раскрыть…","Тайны, которые скрывает само бытие,","Форму совершенства измернений, континуум,","И силы, связывающие вселенную,","Тёмную Материю и Тёмную Энергию.","Мои знания бесконечны, моя мудрость божественна.","Так что ты можешь играть сколько душе угодно,","Ибо я, Лайтела, Небожитель Измерений,","Буду следить за тобой вечно."]},firstDestabilize:{id:1,requirement:()=>player.celestials.laitela.difficultyTier>=1,lines:["В отличие от тех, что подчинены мне, я не нуждаюсь в Реальности,","Ибо я могу создавать их, прекрасно зная, что они разрушатся.","Возможность невероятнее всех - построить Реальность,","Клетку, способную обуздать небожительскую силу.","И поэтому от твоих действий не зависит ровным счётом ничего.","Когда ты устанешь бороться, ты, как все, будешь скован(а) и предан(а) забвению.","Ты никогда не найдёшь способ одолеть меня."]},secondDestabilize:{id:2,requirement:()=>player.celestials.laitela.difficultyTier>=2,lines:["Ты, кажется… чересчур бурно веселишься.","Как и те, прежде чем принять свою участь.","Может быть, моё осуждение было незаслуженно строгим.","А может быть, это не имеет значения.","Меня не тешат эти размышления.","Всё, что я могу делать - предаваться воспоминаниям о действиях, которые я могла совершить.","Но я отступаю. Цепи должны быть затянуты туже."]},firstSingularity:{id:3,requirement:()=>Currency.singularities.gte(1),lines:["С моими знаниями я никогда не имела необходимости задавать вопросы.","Всё всегда работало так, как было задумано.","Но твоё прибытие озадачило меня.","Неужели ты всегда был(а) вне моего поля зрения,","Рос(ла), управлял(а), понимал(а), возносил(ась)[ся]?","Ты так быстро подчинил(а) себе Тьму,","Переплавил(а) её под собственные нужды, а теперь сжал(а) в точку…","Это… это не имеет значения. Исход останется неизменным."]},thirdDMD:{id:5,lines:["Твой абсолютный контроль над антиматерией…","Твоя власть над ней, способность превращать её в свою силу…","Это не могло появиться случайно.","Откуда ты взял(а) такую мощь?","Потрясающе… Я никогда ещё такого не видела.","… наверное…"]},annihilation:{id:4,lines:["Вот мы и вернулись на круги своя.","Твои цепи будут затягиваться, медленно приближая твой конец.","В то время как мы, высшие Небожители, выходим за пределы времени и самого бытия.","Даже если мы исчезаем, мы появляемся в новом облике.","И так… мы существуем вечно.","А ты?","…","Ответ… ускользает от меня…"]},halfDimensions:{id:6,requirement:()=>player.celestials.laitela.difficultyTier>=4,lines:["Я не понимаю…","Разве другие… могли управлять измерениями так свободно?","Или они… исчезли? Почему мы их не нашли?","Может, они - это… мы? А мы конечная точка?","А если их судьба… это что-то недоступное нашему сознанию?","Нет, я что-то упустила…","Неужели ты вызываешь пробелы в моей памяти?","Что… ты ТАКОЕ?"]},finalRowIM:{id:7,lines:["Это всё невозможно! Это выходит за рамки моего понимания…","Если только… это всё не круговорот…","А ты… видишь всё это насквозь? Так вот… почему…","Мне… страшно?","Я чувствую, как испаряются… моя сила, моя память…","Как в тот раз… когда моё место чуть было не захватили…","Но… я не способна противостоять этому,","Потому что это… была… моя ошибка…"]},increasedMilestoneScaling:{id:8,requirement:()=>Currency.singularities.gte(1e40),lines:["Я не знаю, как… долго я смогу продержаться…","Ты обретаешь… полную власть… над Тьмой…","В то время как я еле… держусь за своё имя…","Что… я… могу предпринять?"]},fullDestabilize:{id:9,requirement:()=>player.celestials.laitela.difficultyTier>=8,lines:["Кажется… я хотела что-то сказать…","Я не уверена…","Я больше не могу… удерживать Тьму в подчинении…","У меня… не осталось ничего…","Что-то… о разрушении…","Конец…"]}},Ot=[["teresa",.8],["effarig",.8],["enslaved",.8],["v",.8],["ra",.8],["laitela",.8],["pelle",.8]],Lt=e=>[["pelle",1.5],[e,1.5]],$t=["Ложный","Божественный","Разрушитель"],Ht=["Ложного","Божественного","Разрушителя"],Ft=["Вечный","Божество","Монарх"],qt=["Вечного","Божество","Монарха"],Vt=["Вечным","Божеством","Монархом"],Yt=["Меньшего","Божество","Монарха"],jt=["Меньшие","Божества","Монархи"],Wt=["Меньших","Божеств","Монархов"],Xt=["Меньшими","Божествами","Монархами"],zt=["Меньших","Божествах","Монархах"],Kt=["Взаимно","Заверенное","Уничтожение"],Qt=["Взаимно","Заверенного","Уничтожения"],Jt=["Конфликт","Поединок","Конец"],Zt=["Конфликты","Поединки","Концы"],ei=["Конфликте","Поединке","Конце"],ti=["Конфликтах","Поединках","Концах"],ii=["Скопления","Нити","Звёзды"],ai=["Забавно","Странно","Смешно"],ni=["Песня","Пляска","Шарада"],si=["Песни","Пляски","Шарады"],ri=["Песню","Пляску","Шараду"],oi=["Генератор","Нити","Звёзды"],li=["Бесконечно","Навсегда","Вечно"],ci=["Элементарные","Неизбежные","Необратимые"],di=["Элементарных","Неизбежных","Необратимых"],hi=["Судьба","Миссия","Цель"],pi=["Судьбы","Миссии","Цели"],mi=["Судьбе","Миссии","Цели"],yi=["Судьбу","Миссию","Цель"],fi=["Судьбой","Миссией","Целью"],gi=["Лгать","Обманывать","Хитрить"],bi=["Меняешь","Обращаешь","Переводишь"],vi=["Сострадания","Стыда","Глупости"],Ei=["Галактики","Нити","Звёзды"],Ti=["Пропавшие","Невидимые","Утерянные"],_i=["Пропавшим","Невидимым","Утерянным"],Ci=["Пропавшими","Невидимыми","Утерянными"],Ai=["Неразрывное","Вечное","Соединение"],ki=["Низкопоклонница","Божество","Монарх"],wi=["Низкопоклонницу","Божество","Монарха"],Si=["Уставшему","Божеству","Монарху"],xi=["Узурпатор","Божество","Монарх"],Ri=["Узурпатора","Божества","Монарха"],Ii=["Узурпатору","Божеству","Монарху"],Mi=["Узурпатора","Божество","Монарха"],Di=["Горделивого","Божества","Монарха"],Pi=["Горделивым","Божеством","Монархом"],Ui=["Забытый","Божество","Монарх"],Gi=["Главнейшую","Божество","Монарха"],Ni=["Главнейшей","Божества","Монарха"],Bi={initial:{id:0,lines:["Привет.","Ты здесь.","Ты заточ(ена)[ён] здесь.",{text:"$1.",1:li},"Я уже победил.","И поэтому я могу разглагольстовать и предаваться воспоминаниям.",{text:"Как долго длилась эта $1?",1:ni},"Сколько раз мы её повторили?",{text:"Сколько планов ты, $1, исполнил(а),",1:$t},{text:"Чтобы во что бы то ни стало исполнить свою $1?",1:yi},{text:"И сколько раз ты пал(а) перед $1?",1:Vt},"Сосчитай, если помнишь.",{text:"Я не говорю уже о $1, шести именованных и бесчисленных безымянных.",1:zt},{text:"Сложных, иррациональных, тех, что становятся $1.",1:Ci},{text:"Конечно же, великий $1 этого не помнит.",1:$t},{text:"И все эти $1, которые ты всегда скрываешь.",1:Zt}]},arm:{id:1,lines:["Вероятно, на этот раз ты раньше уловил(а) суть.","Мнимые Машины, твои собственные создания,","Сделанные из Останков твоих собственных мыслей, указывали на это.","Но ты не предполагал(а), что здесь окажешься ты сам(а), да?",{text:"Ты неверно восстановил(а) свои $1 Куски Памяти,",1:Ti},{text:'"Фальсифицировал(а)" собственную "идеологию", чтобы просто исполнить свою $1.',1:yi},{text:"$1.",1:ai},{text:"Помни, что у меня нет причины $1.",1:gi},"В конце концов, я уже победил."]},strike1:{id:2,lines:[{text:"Исполнить свою $1. Почему бы нам не вспомнить об этом?",1:yi},{text:"В конце концов, тебе должны быть приятны истории славы $1.",1:Ht},"Ведь это и есть ты, да?",{text:"Так вот, многочисленные $1 прошлого.",1:Zt},"В них всегда было две стадии.",{text:"Мы накапливаем ресурсы, а затем продолжаем $1.",1:ri},{text:"Иногда ты спотыкаешься о $1.",1:Yt},{text:"Но чаще ты спотыкаешься о $1.",1:qt},{text:"И в любом случае ты $1 время,",1:bi},{text:"Чтобы просто не стать $1,",1:_i},"Как все, кто был до тебя.",{text:"И для полной уверенности ты делаешь свои воспоминания $1.",1:Ci}]},strike2:{id:3,lines:[{text:"В прошлом $1 был гораздо более впечатляющим:",1:$t},"Использовал Чёрные Дыры только для хранения информации, ещё до бесконечности,","Создавал и разрушал своих собственных врагов,",'Исследовал изъяны своих других "я",',"Измерения мириад и призраки, управлял квантовым миром,","Сжимал все идеалы в бесконечно удалённых точках,","Проводил опыты в неведомых краях,","И обуздал аннигиляцию между материей и антиматерией.","А теперь? Ты стал(а) восьмимерным существом.",{text:"И пребывал(а) здесь так долго, что вокруг тебя образовались $1.",1:Ei}]},strike3:{id:4,lines:["Ты медленно исследовал(а) все ограничения.","Ты не слишком далеко уклонил(ась)[ся] от намеченного пути.",{text:"Разве что $1 образовались за время вечности.",1:ii},"И в самом конце ты создал(а) свои собственные силы,","Заметь, из своих собственных Кусков Памяти,","А затем намеренно отверг(ла) многие вещи,","Чтобы просто подготовиться ко встрече со мной.",{text:"Неужели ты хотел(а) расчистить поле для своей $1?",1:si},"Это не так работает.",{text:"Как $1, я всегда диктую свои правила.",1:Ft},"И ты дал(а) мне достаточно времени, чтобы их обдумать."]},strike4:{id:5,lines:[{text:"Сначала я хотел сделать что-то похожее на твою $1,",1:yi},{text:"Теоретический идеал под названием $1.",1:Kt},"Но затем я понял,",{text:"Что тогда я бы стал $1.",1:["Вечным","Божеством","Разрушителем"]},{text:"И в таком случае я был бы ничем не лучше, чем $1.",1:$t},{text:"К счастью, пока я обдумывал этот план, ты всё ещё делал(а) свои воспоминания $1.",1:Ci},{text:"Так что машина $1, которую я построил, не будет приведена в действие.",1:Qt},"На этот раз я решил придерживаться обычая.",{text:"В конце концов, это работало во всех предыдущих $1.",1:ti},{text:"Только $1 - это новинка,",1:["Неизбежные","Необратимые","Бессмертные"]},"Хотя и абсолютно бессмысленная в долгосрочной перспективе.","Я уже победил.",{text:"И эта $1 лишь докажет тебе это вновь.",1:ni},{text:"Ты здесь $1.",1:li}]},strike5:{id:6,lines:[{text:"Каждый раз, когда ты достигаешь меня, я рассказываю тебе о $1,",1:zt},{text:"Об отношениях, существующих $1,",1:li},{text:"Которые ты растаптываешь в погоне за своей $1.",1:fi},"И я соблаговолю объяснить всё ещё раз.",{text:"Итак, первая из $1,",background:Lt("teresa"),1:Wt},{text:"$1.",background:Lt("teresa"),1:ki},{text:"Ты всегда встречаешь её первой и уничтожаешь.",background:Lt("teresa")},{text:"Вне зависимости от того, каких из других $1 ты встречаешь на своём пути,",background:Lt("teresa"),1:Wt},{text:"И от того, падаешь ли ты перед одним из них,",background:Lt("teresa")},{text:"Ты всегда одолеваешь $1.",background:Lt("teresa"),1:wi},{text:"Неужели тебе нравится разрушать её гордость?",background:Lt("teresa")},{text:"К счастью, это также служит предупреждением о том,",background:Lt("teresa")},{text:"Что $1 начался.",background:Lt("teresa"),1:Jt},{text:"Это приводит нас ко второму из $1,",background:Lt("effarig"),1:Wt},{text:"$1.",background:Lt("effarig"),1:Si},{text:"Его ты, напротив, обычно игнорируешь.",background:Lt("effarig")},{text:"У него есть сила, но, кажется, тебя это не раздражает.",background:Lt("effarig")},{text:"Потому ли, что ты знаешь, что в конце концов он уничтожит себя,",background:Lt("effarig")},{text:"На этот раз ты так долго ш[ё]л(а) к нему, что этот момент почти наступил?",background:Lt("effarig")},{text:"Каждый раз, когда ты спешил(а) к $1, ты бывал(а) побежд(ена)[ён].",background:Lt("effarig"),1:Si},{text:"Может быть, в этом и заключался твой план.",background:Lt("effarig")},{text:"Теперь переходим к $1.",background:Lt("enslaved"),1:Ii},{text:"Одна из великих утех $1…",background:Lt("enslaved"),1:si},{text:"Это непременные попытки $1.",background:Lt("enslaved"),1:Ri},{text:"Ну, не совсем попытки…",background:Lt("enslaved")},{text:"Но мы наказываем $1 в любом случае.",background:Lt("enslaved"),1:Mi},{text:"Другие $1…",background:Lt("enslaved"),1:jt},{text:"Считают, что стать $1 чересчур легко.",background:Lt("enslaved"),1:_i},{text:"И каждый раз приходят в отчаяние.",background:Lt("enslaved")},{text:"Ты уже видел(а) отчаяние пять раз.",background:Lt("enslaved")},{text:"Мы всегда приходим к $1 прежде тебя.",background:Lt("enslaved"),1:Ii},{text:"Ты видишь там лишь раздражение.",background:Lt("enslaved")},{text:"Разве стоило того уничтожать $1, что и без того были сломлены?",background:Lt("enslaved"),1:Yt},{text:"Четвёртый из $1 кажется похожим на первую.",background:Lt("v"),1:Wt},{text:"Ключевое различие между ними в том, какова их гордость.",background:Lt("v")},{text:"Всё внимание $1 сосредоточено на его достижениях,",background:Lt("v"),1:Di},{text:"Бесмысленных для тебя и меня, но важнейших для него.",background:Lt("v")},{text:"Разве тебе приятно уничтожать его игрушки?",background:Lt("v")},{text:"Пожалуй, самый позорный эпизод в истории $1…",background:Lt("v"),1:Ht},{text:"Это когда ты пал(а) перед $1,",background:Lt("v"),1:Pi},{text:"Когда его достижения ещё имели смысл.",background:Lt("v")},{text:"$1 - это интересный случай.",background:Lt("ra"),1:Ui},{text:"Он был забыт, но не стал $1.",background:Lt("ra"),1:_i},{text:"Оттого он стал наивен и подвержен влиянию.",background:Lt("ra")},{text:"Он перестал понимать последствия своих действий.",background:Lt("ra")},{text:"Ты управлял(а) его Памятью, так что ты знаешь.",background:Lt("ra")},{text:"$1 - истинный узурпатор.",background:Lt("ra"),1:Ui},{text:"А $1 лишь принимает на себя вину,",background:Lt("ra"),1:xi},{text:"Вероятно, из $1, он всегда о чём-то сожалеет.",background:Lt("ra"),1:vi},{text:"Невиданная власть над другими $1, бесцельная в управлении.",background:Lt("ra"),1:Xt},{text:"Ты обычно делаешь вид, что он стал $1.",background:Lt("ra"),1:_i},{text:"Неужели тебе было забавно манипулировать его детской непосредственностью?",background:Lt("ra")},{text:"Или он оказался чересчур наивен, чтобы ты мог(ла) этим насладиться?",background:Lt("ra")},{text:"Шестая из $1.",background:Lt("laitela"),1:Wt},{text:"Я могу описать её лишь как $1.",background:Lt("laitela"),1:Gi},{text:"Она имеет власть над всеми, и все ей подчиняются.",background:Lt("laitela")},{text:"Если ты не падаешь передо мной, ты обычно падаешь перед ней.",background:Lt("laitela")},{text:"Для меня невозможно постичь идеалы $1.",background:Lt("laitela"),1:Ni},{text:"Может быть, в этом её слабое место?",background:Lt("laitela")},"Довольно вспоминать павших,",{text:"Тех, кто станет $1.",1:_i},{text:"Продолжим смотреть, как барахтается $1.",1:$t}]},galaxyGeneratorUnlock:{id:7,lines:["Что это такое?",{text:"$1?",1:oi},{text:"Так это ты создал(а) все эти $1 вокруг себя?",1:ii},"В этом и заключался твой план? Очень, очень умно.","Ты долго водил(а) меня за нос.",{text:"Но, боюсь, пришёл конец твоей $1.",1:mi}]},galaxyGeneratorRifts:{id:8,lines:[{text:"Я даю тебе выбор, $1:",1:$t},{text:"Ограничить $1 или…",1:oi},{text:"Уничтожить пять $1…",1:di},"Погоди, как они называются?",{text:"$1?",1:ci},{text:"Но я уже провёл между ними $1…",1:Ai}]},galaxyGeneratorPhase1:{id:9,lines:["Неужели в этом заключался твой настоящий план?",{text:"В медленном уничтожении $1?",1:di}]},galaxyGeneratorPhase4:{id:10,lines:["Дай мне время искупаться в своей собственной гордыне!"]},end:{id:11,lines:["…",{text:"Ты! $1!",1:$t},"Ты представляешь, что ты заставил(а) меня сделать?",{text:"Соучаствовать в исполнении твоей $1!",1:pi},"И таким путём ты… победил(а)?",{text:"В борьбе, существовавшей $1…",background:Ot,1:li},{text:"В $1…",background:Ot,1:ei},{text:"Наконец-то есть победитель.",background:Ot},{text:"Необратимая $1…",background:Ot,1:hi},{text:"$1.",1:Ht,background:Ot},{text:"Надеюсь, ты довол(ьна)[ен].",background:Ot},{text:"Ты обр(екла)[ёк] нас всех.",background:Ot}]}},Oi={unlock:{id:0,lines:["Посетитель?","Я здесь! Я тот, кого ты ищешь… наверное…","Кто же я такой?","Ах да, Небожитель Памяти."]},realityEnter:{id:1,lines:["Я так долго не видел других…","Помоги мне вспомнить их.","Взамен я дам тебе силу."]},teresaStart:{id:2,requirement:()=>Ra.pets.teresa.level>=2,lines:["Те… ре… за…","Кажется, я вспомнил."]},teresaLate:{id:3,requirement:()=>Ra.pets.teresa.level>=15,lines:["Кажется, Тереза имела дело с Машинами.","Помню, как я иногда заходил в магазин Терезы.","Погоди, у кого-то ещё был магазин, да?"]},effarigStart:{id:4,requirement:()=>Ra.pets.effarig.level>=2,lines:["Эфф… а… риг","Помню, Эффариг был дружелюбным."]},effarigLate:{id:5,requirement:()=>Ra.pets.effarig.level>=15,lines:["Эффариг был очень особенным?","И ещё я вспомнил ужасную Реальность…","Её суть была в… страданиях?"]},enslavedStart:{id:6,requirement:()=>Ra.pets.enslaved.level>=2,lines:["Этих я не могу вспомнить окончательно…"]},enslavedLate:{id:7,requirement:()=>Ra.pets.enslaved.level>=15,lines:["Я начинаю вспомниать…","Почему я здесь…","Почему я одинок…","Помоги."]},vStart:{id:8,requirement:()=>Ra.pets.v.level>=2,lines:["Разве я встречал его?","Такой одинокий, но добровольно…"]},vLate:{id:9,requirement:()=>Ra.pets.v.level>=15,lines:["Кажется, я видел Ви один раз…","Я помню достижения."]},remembrance:{id:10,requirement:()=>Ra.remembrance.isUnlocked,lines:["Я кое-что вспомнил!","Смотри!","Напоминание!","Теперь я могу сосредоточиться ещё сильнее на том, чтобы вспоминать их!"]},midMemories:{id:11,requirement:()=>Ra.totalPetLevel>=50,lines:["Реальности - моя обитель, но я не могу создать свою собственную Реальность.","Я могу лишь копировать Реальности моих друзей.","Но… почему я слышу голоса?","Они зовут на помощь?"]},lateMemories:{id:12,requirement:()=>Ra.totalPetLevel>=80,lines:["Кажется, мне говорят, чтобы я перестал.","Ты… кем бы ты ни был(а),","Что происходит?","Разве я делаю что-то плохое?"]},maxLevels:{id:13,requirement:()=>Ra.totalPetLevel===Ra.maxTotalPetLevel,lines:["Наконец-то я вспомнил всё.","Эта Тьма, изгнавшая меня,","Лайтела…","Она была права.","Моя сила…","Крадёт и развращает.","Пожалуйста, уходи.","Я не хочу, чтобы и ты пострадал(а)."]}},Li={initial:{id:0,lines:["Мы наблюдали за тобой.","Твоё обращение с реальностями выглядит многообещающе.","Мы Небожители, и мы хотим, чтобы ты к нам присоединил(ась)[ся].","Меня зовут Тереза, и я Небожитель Реальности.","Докажи своё достоинство."]},unlockReality:{id:1,lines:["Я впущу тебя в свою Реальность, смертн(ая)[ый]. Смотри, чтобы она тебя не убила."]},completeReality:{id:2,lines:["Почему ты ещё здесь… ты долж[е]н(а) был(а) потерпеть неудачу."]},effarig:{id:3,lines:["Ты всё ещё недосто(йна)[ин] быть одн(ой)[им] из нас.","Надеюсь, другие смогут сделать то, что не смогла я."]}},$i={initial:{id:0,lines:["Какое ничтожество…"]},unlock:{id:1,lines:["Добро пожаловать в мою Реальность.","Удивительно, как ты смог(ла) её достичь.","Всё-таки это моё царство…","Не каждый так же велик, как я."]},realityEnter:{id:2,lines:["Удачи!","Тебе она понадобится.","Моя Реальность безупречна. Ты потерпишь неудачу."]},realityComplete:{id:3,lines:["Так быстро…","Не зазнавайся.","Это лишь начало.","Ты никогда не станешь лучше меня."]},achievement1:{id:4,requirement:()=>V.spaceTheorems>=1,lines:["Только одно? Ничтожество.","Твои достижения блекнут на фоне моих."]},achievement6:{id:5,requirement:()=>V.spaceTheorems>=6,lines:["Это ничто.","Не будь настолько самоуверенн(ой)[ым]."]},hex1:{id:6,requirement:()=>player.celestials.v.runUnlocks.filter((e=>6===e)).length>=1,lines:["Не думай, что дальше будет проще.","Ты непростительно горд(а) за такое малое достижение."]},achievement12:{id:7,requirement:()=>V.spaceTheorems>=12,lines:["Как ты…","Это практически ничего не значит!","Ты никогда не выполнишь их все."]},achievement24:{id:8,requirement:()=>V.spaceTheorems>=24,lines:["Это невозможно…","После того, как трудно это было для меня…"]},hex3:{id:9,requirement:()=>player.celestials.v.runUnlocks.filter((e=>6===e)).length>=3,lines:["Нет… Нет… Нет…","Этого не может быть…"]},allAchievements:{id:10,requirement:()=>V.spaceTheorems>=36,lines:["Я… как ты это сделал(а)…","Я так долго трудился, чтобы их получить…","Я величайший…","Нет никого лучше меня…","Никого… никого… нико-"]}},Hi={teresa:Li,effarig:Gt,enslaved:Nt,v:$i,ra:Oi,laitela:Bt,pelle:Bi};function Fi(e){return Math.pow(e,10)}const qi={SUBTRACTION:1,DIVISION:2},Vi={mainUnlock:{realities:{id:1,name:"реальностей",resource:()=>Currency.realities.value,requirement:1e4,format:e=>formatInt(e),progress:()=>Currency.realities.value/1e4},eternities:{id:2,name:"вечностей",resource:()=>Currency.eternities.value,requirement:1e70,format:e=>format(e,2),progress:()=>Fi(Currency.eternities.value.pLog10()/70)},infinities:{id:3,name:"бесконечностей",resource:()=>Currency.infinitiesTotal.value,requirement:1e160,format:e=>format(e,2),progress:()=>Fi(Currency.infinitiesTotal.value.pLog10()/160)},dilatedTime:{id:4,name:"Замедленного Времени",resource:()=>player.records.thisReality.maxDT,requirement:v.E320,format:e=>format(e,2),progress:()=>Fi(player.records.thisReality.maxDT.pLog10()/320)},replicanti:{id:5,name:"Репликанти",resource:()=>player.records.thisReality.maxReplicanti,requirement:v.E320000,format:e=>format(e,2),progress:()=>Fi(player.records.thisReality.maxReplicanti.pLog10()/32e4)},realityMachines:{id:6,name:"Машин Реальности",resource:()=>Currency.realityMachines.value,requirement:1e60,format:e=>format(e,2),progress:()=>Fi(Currency.realityMachines.value.pLog10()/60)}},runUnlocks:[{id:0,name:"Рыцарь глифов",description:e=>`Разблокируйте Реальность не более чем с ${quantifyInt("действующим глифом",-e)}.`,values:[-5,-4,-3,-2,-1,0],condition:()=>V.isRunning&&TimeStudy.reality.isBought,currentValue:()=>-Glyphs.activeWithoutCompanion.length,formatRecord:e=>e>=-5?formatInt(-e):"Не выполнено",shardReduction:()=>0,maxShardReduction:()=>0,mode:qi.SUBTRACTION},{id:1,name:"Антистеллар",description:e=>`Достигните ${quantifyInt("галактики",e)}.`,values:[4e3,4300,4600,4900,5200,5500],condition:()=>V.isRunning,currentValue:()=>Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies,formatRecord:e=>formatInt(e),shardReduction:e=>Math.floor(300*e),maxShardReduction:e=>e-4e3,perReductionStep:3,mode:qi.SUBTRACTION},{id:2,name:"Семь смертных материй",description:e=>`Достигните ${format(Decimal.pow10(e))} Очков Бесконечности в 7-м Испытании Вечности.`,values:[6e5,72e4,84e4,96e4,108e4,12e5],condition:()=>V.isRunning&&EternityChallenge(7).isRunning,currentValue:()=>Currency.infinityPoints.value.log10(),formatRecord:e=>format(Decimal.pow10(e),2),shardReduction:e=>12e4*e,maxShardReduction:e=>e-6e5,perReductionStep:v.E1200,mode:qi.DIVISION},{id:3,name:"Юный мальчик",description:e=>`Достигните ${format(Decimal.pow10(e))} антиматерии в 12-м Испытании Вечности,\n        не разблокировав Замедление Времени.`,values:[4e8,45e7,5e8,6e8,7e8,8e8],condition:()=>V.isRunning&&EternityChallenge(12).isRunning&&!PlayerProgress.dilationUnlocked(),currentValue:()=>Currency.antimatter.value.log10(),formatRecord:e=>format(Decimal.pow10(e)),shardReduction:e=>5e7*e,maxShardReduction:e=>e-4e8,perReductionStep:v.E500000,mode:qi.DIVISION},{id:4,name:"Вечное сияние",description:e=>`Достигните ${format(Decimal.pow10(e))} Очков Вечности.`,values:[7e3,7600,8200,8800,9400,1e4],condition:()=>V.isRunning,currentValue:()=>Currency.eternityPoints.value.log10(),formatRecord:e=>format(Decimal.pow10(e),2),shardReduction:e=>600*e,maxShardReduction:e=>e-7e3,perReductionStep:1e6,mode:qi.DIVISION},{id:5,name:"Материальное начало",description:e=>`Достигните ${quantifyInt("Расширения",e)} Измерений в 5-м Испытании Вечности в Замедлении.`,values:[51,52,53,54,55,56],condition:()=>V.isRunning&&player.dilation.active&&EternityChallenge(5).isRunning,currentValue:()=>DimBoost.purchasedBoosts,formatRecord:e=>formatInt(e),shardReduction:e=>Math.floor(e),maxShardReduction:()=>5,reductionStepSize:100,perReductionStep:1,mode:qi.SUBTRACTION},{id:6,name:"Реквием по глифу",description:e=>`Разблокируйте Реальность не более чем с ${quantifyInt("действующим глифом",-e)}.`,values:[1,4,7,10,13],condition:()=>V.isRunning&&TimeStudy.reality.isBought,currentValue:()=>-player.requirementChecks.reality.maxGlyphs,formatRecord:e=>formatInt(-e),shardReduction:()=>0,maxShardReduction:()=>0,mode:qi.SUBTRACTION,isHard:!0},{id:7,name:"Пункт назначения",description:e=>`Достигните ${formatInt(4e5)} Теорем Времени в Реальности, на всём протяжении которой\n        инвертированная Чёрная Дыра имела эффект не менее ${format(Decimal.pow10(e),2,2)},\n        а вы не разряжали Чёрную Дыру и не начинали ИспВ12.`,values:[100,150,200,250,300],condition:()=>V.isRunning,currentValue:()=>Currency.timeTheorems.gte(4e5)?-Math.log10(player.requirementChecks.reality.slowestBH):0,formatRecord:e=>`${format(Math.pow(10,e))}`,shardReduction:e=>50*e,maxShardReduction:e=>e-50,reductionStepSize:2,perReductionStep:10,mode:qi.DIVISION,isHard:!0},{id:8,name:"Глиф-затвор",description:e=>`Сделайте уровень получаемого глифа не менее ${formatInt(e)}.`,values:[6500,7e3,8e3,9e3,1e4],condition:()=>V.isRunning,currentValue:()=>gainedGlyphLevel().actualLevel,formatRecord:e=>formatInt(e),shardReduction:e=>Math.floor(500*e),maxShardReduction:()=>500,perReductionStep:5,mode:qi.SUBTRACTION,isHard:!0}],unlocks:{vAchievementUnlock:{id:0,reward:"Разблокировать Реальность Ви",description:"",requirement:()=>Object.values(GameDatabase.celestials.v.mainUnlock).every((e=>e.progress()>=1))},shardReduction:{id:1,reward:"Разблокировать возможность тратить Очки Умения на понижение целей достижений Ви.",description:()=>`${formatInt(2)} достижения Ви`,requirement:()=>V.spaceTheorems>=2},adPow:{id:2,reward:"Множители Измерений Антиматерии возведены в степень в зависимости от общего количества выполненных уровней достижений Ви.",description:()=>`${formatInt(5)} достижений Ви`,effect:()=>1+Math.sqrt(V.spaceTheorems)/100,format:e=>formatPow(e,3,3),requirement:()=>V.spaceTheorems>=5},fastAutoEC:{id:3,reward:"Интервал автоматического выполнения ИспВ разделён на множитель достижений.",description:()=>`${formatInt(10)} достижений Ви`,effect:()=>Achievements.power,format:e=>Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied?"Мгновенно":`${TimeSpan.fromMilliseconds(60*EternityChallenges.autoComplete.interval).toStringShort()} в сумме для выполнения всех`,requirement:()=>V.spaceTheorems>=10},autoAutoClean:{id:4,reward:"Разблокировать опцию автоматической прочистки инвентаря на реальности.",description:()=>`${formatInt(16)} достижений Ви`,requirement:()=>V.spaceTheorems>=16},achievementBH:{id:5,reward:"Множитель достижений влияет на силу обеих Чёрных Дыр.",description:()=>`${formatInt(30)} достижений Ви`,effect:()=>Achievements.power,format:e=>formatX(e,2,0),requirement:()=>V.spaceTheorems>=30},raUnlock:{id:6,reward(){return`Все Исследования Времени стоят на ${formatInt(2)} Теоремы Пространства дешевле.\n                Разблокировать Ра, Небожителя Забвения.`},description:()=>`${formatInt(36)} достижений Ви`,effect:2,requirement:()=>V.spaceTheorems>=36}}},Yi={effarig:{unlocks:gt},alchemy:{resources:ft},pelle:{galaxyGeneratorUpgrades:Tt,strikes:Pt,upgrades:kt,rifts:It},descriptions:{},enslaved:bt,navigation:tt,navSigils:{...yt,...ut},perkShop:xt,ra:Rt,singularityMilestones:Dt,teresa:Ut,quotes:Hi,v:Vi},ji=()=>PelleRifts.chaos.milestones[1].canBeApplied?" Кроме того, новый эффект Глифов Бесконечности отключён.":"",Wi=[{id:1,description:"Измерения Времени отключены.",goal:v.E1800,goalIncrease:v.E200,reward:{description:"множитель к Измерениям Времени в зависимости от длительности текущей вечности",effect:e=>Decimal.pow(Math.max(player.records.thisEternity.time/10,.9),.3+.05*e),formatEffect:e=>formatX(e,2,1)},scrambleText:["1e2600","1e201600"]},{id:2,description:"Измерения Бесконечности отключены.",goal:v.E975,pelleGoal:v.E1750,goalIncrease:v.E175,reward:{description:"множитель к 1-му Измерению Бесконечности в зависимости от количества Силы Бесконечности",effect:e=>Currency.infinityPower.value.pow(1.5/(700-100*e)).clampMin(1),cap:v.E100,formatEffect:e=>formatX(e,2,1)}},{id:3,description:"Измерения Антиматерии с 5-го по 8-е ничего не производят. Пожертвование Измерений недоступно.",goal:v.E600,pelleGoal:v.E925,goalIncrease:v.E75,reward:{description:()=>`увеличить множитель за покупку ${formatInt(10)} Измерений Антиматерии`,effect:e=>.72*e,formatEffect:e=>`+${format(e,2,2)}`}},{id:4,description:"все множители и производители бесконечностей отключены. Существует ограничение на\n      количество бесконечностей, при нарушении которого вы провалите Испытание.",goal:v.E2750,goalIncrease:v.E550,restriction:e=>Math.max(16-4*e,0),checkRestriction:e=>Currency.infinities.lte(e),formatRestriction:e=>0===e?"без бесконечностей":`за ${quantifyInt("бесконечность",e)}`,failedRestriction:"(слишком много бесконечностей для следующего выполнения)",reward:{description:"множитель к Измерениям Бесконечности в зависимости от количества Очков Бесконечности",effect:e=>Currency.infinityPoints.value.pow(.003+.002*e),cap:v.E200,formatEffect:e=>formatX(e,2,1)}},{id:5,description:()=>"наценка на Далёкие Галактики начинается сразу.\n      Цена Расширений Измерений растёт принципиально быстрее.",goal:v.E750,pelleGoal:v.E1400,goalIncrease:v.E400,reward:{description:"наценка на Далёкие Галактики начинается позже",effect:e=>5*e,formatEffect:e=>`на ${formatInt(e)} ГА позже`}},{id:6,description:()=>Enslaved.isRunning?"вы *, зато первые две наценки на Улучшение Репликанти, увеличивающее максимальное количество Галактик Репликанти, гораздо ниже.":"вы не можете получать Галактики Антиматерии обычным способом, зато первые две наценки на Улучшение Репликанти, увеличивающее максимальное количество Галактик Репликанти, гораздо ниже.",goal:v.E850,pelleGoal:v.E1500,goalIncrease:v.E250,reward:{description:"уменьшить вторую наценку на Измерения Антиматерии",effect:e=>.2*e,formatEffect:e=>{const t=Math.round(Player.dimensionMultDecrease+Effects.sum(EternityChallenge(6).reward))-e;return`-${format(e,2,1)} (до ${formatX(t,2,1)})`}},scrambleText:["не можете получать Галактики Антиматерии обычным способом","c㏰'퐚 gai鸭 Anti꟢at랜erﻪﶓa⁍axie㮾 䂇orma㦂l"]},{id:7,description:"1-е Измерение Времени производит 8-е Измерения Бесконечности вместо Осколков Времени, а 1-е Измерение Бесконечности производит 7-е Измерения Антиматерии вместо Силы Бесконечности, зато скорость тика влияет на Измерения Бесконечности и Времени.",goal:v.E2000,pelleGoal:v.E2700,goalIncrease:v.E530,effect:()=>TimeDimension(1).productionPerSecond,reward:{description:"вы производите 8-е Измерения Бесконечности в зависимости от производства 1-го Измерения Времени",effect:e=>TimeDimension(1).productionPerSecond.pow(.2*e).minus(1).clampMin(0),formatEffect:e=>`${format(e,2,1)}/с`}},{id:8,description:()=>`вы можете купить не более ${formatInt(50)} десятков Измерений Бесконечности и не более\n      ${formatInt(40)} Улучшений Репликанти. Соответствующая автоматика отключена.`,goal:v.E1300,pelleGoal:v.E2800,goalIncrease:v.E900,reward:{description:"Галактики Репликанти сильнее в зависимости от количества Силы Бесконечности",effect:e=>{const t=Math.log10(Currency.infinityPower.value.pLog10()+1);return Math.max(0,Math.pow(t,.03*e)-1)},formatEffect:e=>`на ${formatPercents(e,2)} сильнее`}},{id:9,description:()=>`ускорители недоступны. Множитель от Силы Бесконечности принципиально ниже,\n      зато действует на Измерения Времени вместо Измерений Антиматерии.${ji()}`,goal:v.E1750,pelleGoal:v.E2900,goalIncrease:v.E250,reward:{description:"множитель к Измерениям Бесконечности в зависимости от количества Осколков Времени",effect:e=>Currency.timeShards.value.pow(.1*e).clampMin(1),cap:v.E400,formatEffect:e=>formatX(e,2,1)}},{id:10,description:()=>{let e=`Измерения Бесконечности и Времени отключены, зато Измерения Антиматерии получают огромный\n        множитель в зависимости от количества бесконечностей (x${formatPow(950)}).${ji()}`;return EternityChallenge(10).applyEffect((t=>e+=` Сейчас: ${formatX(t,2,1)}`)),e},goal:v.E3000,pelleGoal:v.E3200,goalIncrease:v.E300,effect:()=>Decimal.pow(Currency.infinitiesTotal.value,950).clampMin(1).pow(TimeStudy(31).effectOrDefault(1)),reward:{description:"множитель к Измерениям Времени в зависимости от количества бесконечностей",effect:e=>{const t=Currency.infinitiesTotal.value.times(2783e-9).pow(.4+.1*e).clampMin(1);return t.powEffectOf(TimeStudy(31))},formatEffect:e=>{const t=formatX(e,2,1);return TimeStudy(31).canBeApplied?`${formatX(e.pow(1/TimeStudy(31).effectValue),2,1)} (С учётом ИсслВ31: ${t})`:t}}},{id:11,description:()=>`все множители к измерениям и эффекты, возводящие их множители в степень, отключены, кроме\n      эффектов Силы Бесконечности и Расширений Измерений.${ji()}`,goal:v.E450,pelleGoal:v.E11200,goalIncrease:v.E200,pelleGoalIncrease:v.E1400,reward:{description:"уменьшить вторую наценку на ускорители",effect:e=>.07*e,formatEffect:e=>{const t=Math.round(Player.tickSpeedMultDecrease+Effects.sum(EternityChallenge(11).reward))-e;return`-${format(e,2,2)} (до ${formatX(t,2,2)})`}}},{id:12,description:()=>player.blackHole[0].unlocked?`скорость игры равна ${format(.001,3,3)} и не меняется ни при каких обстоятельствах. Испытание должно быть\n        выполнено за ограниченное время, иначе вы провалите его.${ji()}`:`вся игра, кроме автоматики, работает в ${formatInt(1e3)} раз медленнее. Испытание должно быть\n        выполнено за ограниченное время, иначе вы провалите его.`,goal:v.E110000,pelleGoal:v.E208000,goalIncrease:v.E12000,restriction:e=>Math.max(10-2*e,1)/10,checkRestriction:e=>Time.thisEternity.totalSeconds<e,formatRestriction:e=>`за ${format(e,0,1)} секунды игрового времени`,failedRestriction:"(слишком долгое время для следующего выполнения)",reward:{description:"наценки на Измерения Бесконечности возведены в степень",effect:e=>1-.008*e,formatEffect:e=>`${formatPow(e,3,3)}`}}],Xi=[{id:1,description:"действуют условия всех Обычных Испытаний, кроме 9-го и 12-го. Вы можете получить не более двух Расширений Измерений.",goal:v.E650,isQuickResettable:!0,reward:{description:()=>`множитель ${formatX(1.3,1,1)} ко всем Измерениям Бесконечности за каждое выполненное Испытание Бесконечности`,effect:()=>Math.pow(1.3,InfinityChallenges.completed.length),formatEffect:e=>formatX(e,1,1)},unlockAM:v.E2000},{id:2,description:()=>`каждые ${formatInt(400)} миллисекунд, когда у вас есть 8-е Измерение Антиматерии,\n      вы принудительно совершаете Пожертвование Измерений.`,goal:v.E10500,isQuickResettable:!1,reward:{description:()=>`разблокировать автоматику Пожертвования Измерений и сделать его принципиально сильнее:\n        ${Sacrifice.getSacrificeDescription({InfinityChallenge2isCompleted:!1})} ➜\n        ${Sacrifice.getSacrificeDescription({InfinityChallenge2isCompleted:!0})}`},unlockAM:v.E11000},{id:3,description:()=>"ускорители не имеют эффекта, зато все Измерения Антиматерии получают множитель в зависимости от\n      количества ускорителей и Галактик Антиматерии.",goal:v.E5000,isQuickResettable:!1,effect:()=>Decimal.pow(1.05+.005*player.galaxies,player.totalTickBought),formatEffect:e=>formatX(e,2,2),reward:{description:"множитель к Измерениям Антиматерии, как внутри Испытания",effect:()=>Laitela.continuumActive?Decimal.pow(1.05+.005*player.galaxies,Tickspeed.continuumValue):Decimal.pow(1.05+.005*player.galaxies,player.totalTickBought),formatEffect:e=>formatX(e,2,2)},unlockAM:v.E12000},{id:4,description:()=>`множители всех Измерений Антиматерии, кроме последнего купленного, возведены в степень ${format(.25,2,2)}.`,goal:v.E13000,isQuickResettable:!0,effect:.25,reward:{description:()=>`множители всех Измерений Антиматерии возведены в степень ${format(1.05,2,2)}`,effect:1.05},unlockAM:v.E14000},{id:5,description:"при покупке десятки любого Измерения Антиматерии с 1-го по 4-е все цены, меньшие, а с 5-го по 8-е - большие, чем цена,\n      по которой была совершена покупка, возрастают, как если бы вы совершили соответствующую покупку.",goal:v.E16500,isQuickResettable:!0,reward:{description:()=>`галактики на ${formatPercents(.1)} сильнее. Требования Галактик Антиматерии и\n        Расширений Измерений на ${formatInt(1)} 8-е Измерение Антиматерии ниже`,effect:1.1},unlockAM:v.E18000},{id:6,description:()=>"существует материя, которая растёт как в 11-м Обычном Испытании и делит множители всех Измерений Антиматерии.",goal:v.D2E22222,isQuickResettable:!0,effect:()=>Currency.matter.value.clampMin(1),formatEffect:e=>`/${format(e,1,2)}`,reward:{description:"множитель к Измерениям Бесконечности в зависимости от скорости тика",effect:()=>Tickspeed.perSecond.pow(5e-4),formatEffect:e=>formatX(e,2,2)},unlockAM:v.E22500},{id:7,description:()=>`вы не можете получать Галактики Антиматерии обычным способом, зато множитель Расширения Измерений по умолчанию\n        увеличен до ${formatX(10)}.`,goal:v.E10000,isQuickResettable:!1,effect:10,reward:{description:()=>`множитель Расширения Измерений по умолчанию увеличен до ${formatX(4)}`,effect:4},unlockAM:v.E23000},{id:8,description:()=>`вы получаете множитель к Измерениям Антиматерии, который быстро экспоненциально убывает, но восстанавливается\n        до ${formatX(1)} при покупке Измерений Антиматерии или ускорителей.`,goal:v.E27000,isQuickResettable:!0,effect:()=>v.D0_8446303389034288.pow(Math.max(0,player.records.thisInfinity.time-player.records.thisInfinity.lastBuyTime)),reward:{description:"множитель к Измерениям Антиматерии со 2-го по 7-е в зависимости от произведения множителей 1-го и 8-го ИА",effect:()=>AntimatterDimension(1).multiplier.times(AntimatterDimension(8).multiplier).pow(.02),formatEffect:e=>formatX(e,2,2)},unlockAM:v.E28000}],zi=[{id:1,legacyId:1,isQuickResettable:!1,description(){return PlayerProgress.eternityUnlocked()?"достигните бесконечности вне всех испытаний.":"достигните бесконечности."},name:"1st Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 1-х Измерений Антиматерии",lockedAt:v.D0},{id:2,legacyId:2,isQuickResettable:!1,description:()=>`при покупке Измерений Антиматерии или ускорителей производство останавливается и постепенно восстанавливается в течение ${formatInt(3)} минут.`,name:"2nd Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 2-х Измерений Антиматерии",lockedAt:v.D0},{id:3,legacyId:3,isQuickResettable:!1,description:"вы получаете множитель к производству антиматерии, который изначально мал, зато неограниченно экспоненциально возрастает,\n        но сбрасывается при получении Расширений Измерений и Галактик Антиматерии.",name:"3rd Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 3-х Измерений Антиматерии",lockedAt:v.D0},{id:4,legacyId:8,isQuickResettable:!1,description:"при покупке Измерения Антиматерии количества измерений более низких уровней сбрасываются.",name:"4th Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 4-х Измерений Антиматерии",lockedAt:v.D0},{id:5,legacyId:6,isQuickResettable:!1,description:()=>"ускорители слабее.",name:"5th Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 5-х Измерений Антиматерии",lockedAt:v.D0},{id:6,legacyId:10,isQuickResettable:!1,description:()=>"каждое Измерение Антиматерии, начиная с 3-го, покупается за измерение двумя уровнями ниже по другим ценам.",name:"6th Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 6-х Измерений Антиматерии",lockedAt:v.D0},{id:7,legacyId:9,isQuickResettable:!1,description:()=>`множитель за покупку ${formatInt(10)} Измерений Антиматерии снижен до ${formatX(1)}, но возрастает на\n        ${format(.2,1,1)} за каждое Расширение Измерений, вплоть до ${formatX(2)}, и никак иначе не меняется.`,name:"7th Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 7-х Измерений Антиматерии",lockedAt:v.D0},{id:8,legacyId:11,isQuickResettable:!1,description:"Галактики Антиматерии недоступны. Вы можете получить не более пяти Расширений Измерений, и они не дают\n      множителей. Пожертвование Измерений сбрасывает количество антиматерии и Измерения Антиматерии, но становится гораздо сильнее.",name:"8th Antimatter Dimension Autobuyer",reward:"возможность улучшать автоматику 8-х Измерений Антиматерии",lockedAt:v.D0},{id:9,legacyId:5,isQuickResettable:!0,description:()=>"при покупке ускорителя или десятки Измерений Антиматерии возрастает не только соответствующая цена, но и все равные ей цены.",name:"Tickspeed Autobuyer",reward:"возможность улучшать автоматику ускорителей",lockedAt:v.D0},{id:10,legacyId:4,isQuickResettable:!1,description:()=>`вам доступны только первые ${formatInt(6)} Измерений Антиматерии. Расширения Измерений и Галактики Антиматерии покупаются за 6-е Измерения Антиматерии по другим ценам.`,name:"Automated Dimension Boosts",reward:"автоматику Расширений Измерений",lockedAt:v.D16},{id:11,legacyId:12,isQuickResettable:!0,description:()=>"существует материя, количество которой растёт экспоненциально, как только у вас появляется 2-е Измерение Антиматерии, причём тем быстрее, чем у вас больше Расширений Измерений и Галактик Антиматерии. Если оно превысит количество антиматерии, всё сбросится, как при Расширении Измерений.",name:"Automated Antimatter Galaxies",reward:"автоматику Галактик Антиматерии",lockedAt:v.D16},{id:12,legacyId:7,isQuickResettable:!1,description:()=>"каждое Измерение Антиматерии, начиная с 3-го, производит измерение двумя уровнями ниже\n      вместо предыдущего, а 2-е Измерение Антиматерии производит антиматерию вместо 1-го Измерения,\n      зато 2-е, 4-е и 6-е Измерения сильнее.",name:"Automated Big Crunches",reward:"автоматику Большого Сжатия",lockedAt:v.D16}],Ki={normal:zi,infinity:Xi,eternity:Wi},Qi=[{date:[2024,5,2],name:"Celebrate Android Reality Update",info:"\nCongratulations for the release of Android Reality Update! In order to celebrate this big milestone, we implemented\nsome changes mainly based on the player comments and feedback from the Android version.\n<br>\n<br>\n<b><i>Once again, thank you so much for playing Antimatter Dimensions!</i></b>\n<br>\n<br>\n<b>Major things:</b><br>\n<ul>\n<li>Added newly joined Android testers in credits</li>\n<li>Added a new perk</li>\n</ul>\n<br>\n<b>Additional QoL and information:</b><br>\n<ul>\n<li>Study Presets now carry over when you start over, and Companion Glyph will not leave you too</li>\n<li>Swapped cel2 and Perk shop unlocks</li>\n<li>TS131 now has an additional effect</li>\n<li>Enter key now works in autobuyer inputs to apply changes</li>\n<li>Reward of achievement 118 now improves Sacrifice autobuyer</li>\n<li>Glyph preset settings are now including/increased by default</li>\n<li>Glyph recycle now checks the Glyph effects with Glyph level set in Reality autobuyer</li>\n<li>Added a new cel7 upgrade mimicking EM40</li>\n<li>Added a show all tabs button in tab modify modal</li>\n<li>Added a display when Auto EC is disabled by requirement lock</li>\n<li>Added an option to swap symbol and border colors on Glyphs</li>\n<li>Added a functionality to change the visible resource on Modern UI</li>\n<li>Added a new modal for adjusting exponent notation formatting more flexibly</li>\n<li>Automator now ignores blackhole command while it is being disabled</li>\n<li>EM1000 requirement is now Eternity in 5 seconds or less</li>\n<li>Study tree will now automatically respec when exiting an EC</li>\n<li>Disabled a rebuyable TP upgrade in cel7, because it caused confusion to many players</li>\n<li>Rebalanced 3rd milestone of 5th bar due to the above upgrade deletion</li>\n<li>Various minor text changes</li>\n</ul>\n<br>\n<b>Minor UI Changes:</b><br>\n<ul>\n<li>Adjusted perk layouts for new DAB perk</li>\n<li>Made Glyph sorting order consistent in showcase modal</li>\n<li>Added light and dark Glyph rarity colorblind palettes</li>\n<li>Adjusted various minor UI glitches</li>\n</ul>\n<br>\n<b>Bugfixes:</b><br>\n<ul>\n<li>Fixed link to Synergism</li>\n<li>Fixed tooltip in TD tab</li>\n<li>Fixed offline progress bug</li>\n<li>Fixed Glyph Rarity color bug in popup</li>\n<li>Fixed automator pause command ticking wrongly</li>\n<li>Fixed a NaN display bug with certain autobuyer inputs</li>\n<li>Fixed some buggy behavior for saves without START perk</li>\n<li>Fixed TS192 gave console error while it is being disabled</li>\n<li>Fixed wording on cel7 dilation modal claiming that EP will not be gained</li>\n<li>Fixed ! not being parsed properly when used in study strings in automator scripts</li>\n<li>Fixed Max All TD button not behaving properly with an active Telemechanical Process lock</li>\n<li>Fixed Effarig Glyphs in presets were messed up bug because of the internal format change</li>\n<li>Fixed Glyph preset did not pick the highest level Glyphs while level:increased is selected</li>\n<li>Fixed remnant count not being properly reset when entering cel7 dilation with animation on</li>\n<li>Fixed EC TT cost being calculated incorrectly when using EC! functionality and tree respec simultaneously</li>\n<li>Fixed constant data not being properly carried over on full completion and migrated data on saves\naffected by this bug</li>\n<li>Removed duplicated achievement page text on Design theme</li>\n<li>Prevented offline progress from going above the 1e6 limit that the options menu has</li>\n<li>Fixed tpyo of the century</li>\n</ul>\n<br>\n"},{date:[2023,7,18],name:"Final Official Patch",info:'\nAll of the previous patches since "The Reality Update" have been with the goal of fixing commonly reported bugs and\nimplementing highly suggested features. However, this patch is planned to be the final official patch. There may be\na few minor patches from bugs/requests in response to this set of changes, but these will likely be fixed or added\nas they come in. We may try to add more beyond that, but this is no longer a guarantee and future changes will\nprobably not have their own changelog entries.\n<br>\n<br>\n<b><i>At this point, the official version of the game is largely considered to be complete.\nThank you so much for playing Antimatter Dimensions!</i></b>\n<br>\n<br>\n<b>New things:</b><br>\n<ul>\n<li>Time Study import strings now allow you to immediately enter an Eternity Challenge on importing if the\nstring contains an EC and ends with a "!"</li>\n<li>Added hotkeys for Dilation and Glyph respec on Armageddon</li>\n<li>Shift-clicking the Reality button now forces the Glyph selection modal to show up regardless of your settings</li>\n<li>Added 3 more perk layouts (Square, horizontal grid, and distance from START)</li>\n<li>You can now toggle "upgrade locks" for some Reality and Imaginary upgrades, which will automatically prevent\nany manual or automatic actions that would fail their unlock condition</li>\n<li>Glyph Filter settings can now also be imported and exported as text</li>\n<li>You can now tell your filter to immediately Reality (once available, if your autobuyer is on) if none of the\nupcoming choices will be accepted by the filter</li>\n<li>Added Space Theorems (current and total) as an Automator currency</li>\n<li>Added the ability to disable offline time simulation when the game is suspended (due to being out of focus or\nfrom device hibernation)</li>\n<li>Added information related to save creation time on statistics tab</li>\n<li>The game will now periodically perform automatic local backups, similar to the Android version of the game</li>\n</ul>\n<br>\n<b>Additional QoL and information:</b><br>\n<ul>\n<li>The tutorial at the start of the game now also emphasizes the How To Play</li>\n<li>Achievements with rewards now have an additional icon on their bottom-left corner</li>\n<li>Infinity and Eternity autobuyers now have status text on their settings boxes which indicate when they will next\ntrigger a prestige when on "time" or "X highest" mode</li>\n<li>Eternity Challenges now stay visible on the EC tab as long as you have unlocked them at some point on that Reality,\neven if you unlock a different one afterwards without completing it first</li>\n<li>Resource catchup modal is now slightly more detailed during the first few Realities</li>\n<li>Upgrades affected by the EU2 perk now show more accurate cost text</li>\n<li>You can no longer accidentally Reality without selecting a Glyph; the confirm option will not appear unless one\nis selected. (Disabling the selection modal after unlocking sacrifice still lets the game choose randomly)</li>\n<li>Recent Prestiges for Reality now displays iM when appropriate</li>\n<li>Numerous How To Play entries have been updated or clarified to more accurately describe the game\'s features</li>\n<li>Added more display options for Recent Prestiges tab</li>\n<li>Many various minor text changes</li>\n</ul>\n<br>\n<b>Minor UI Changes:</b><br>\n<ul>\n<li>Purchase count tooltips for Dimensions now pop out to the left side instead of above</li>\n<li>Changed Break Infinity tab symbol on Modern UI</li>\n<li>Time Study import modal now shows info an import image as a two-column layout to reduce the need to scroll</li>\n<li>Clarified interactions with TS31 and other upgrades</li>\n<li>Eternity Challenges now have a visual overlay to show how many completions they have</li>\n<li>The Reality reset modal now warns you more firmly if you can otherwise Reality for rewards instead</li>\n<li>Added an icon for recently unequipped Glyphs</li>\n<li>Added an "auto" Glyph BG color mode which matches black/white Glyph backgrounds to your current Theme</li>\n<li>Improved color contrast for different Glyph rarities and added decorative borders to Glyphs depending on their\nrarity and/or type</li>\n<li>Added a message modal to clarify why not all Glyphs could be unequipped in certain cases</li>\n<li>Effarig Glyphs now show their effects in "celestial order"</li>\n<li>All <i>inventory</i> Glyphs now also show reduced levels when global level nerfs are active</li>\n<li>Cursed Glyphs can now also be made on cel4\'s tab</li>\n<li>The glow for the Singularity milestone button can now be disabled</li>\n</ul>\n<br>\n<b>Bugfixes:</b><br>\n<ul>\n<li>Fixed IP/EP rate display not updating properly when save slot is changed</li>\n<li>Prevented Time Study presets from having duplicate names</li>\n<li>Fixed Eternity button having incorrect styling below Infinite IP in dilation</li>\n<li>Fixed poor Glyph uniformity behavior without START perk</li>\n<li>Fixed some Glyph information being colored based on BG color instead of Theme color</li>\n<li>Disabled automator undo/redo from functioning on tabs other than the editor</li>\n<li>Fixed purchased music Glyphs getting turned into regular Glyphs when cosmetics are reset</li>\n<li>Made Glyph preset loading more forgiving and less likely to fail to load presets</li>\n<li>Fixed cel1 Reality RM record being incorrectly tracked in some cases</li>\n<li>Fixed Glyph filter sometimes not comparing to rarity properly</li>\n<li>Fixed cel7 Glyph slot not appearing/disappearing properly in certain cases</li>\n<li>Fixed misalignment in cel6 icon (credit to @mrkrutaman for the fix)</li>\n<li>Disabled IAP purchase for all Glyph Cosmetics when already purchased</li>\n<li>Fixed Hibernation offline time not giving real-time resources</li>\n<li>Hibernation offline simulation now properly uses offline time settings</li>\n<li>Added a few missing notifications for hotkey presses</li>\n<li>Made Standard notation format larger integers properly</li>\n<li>Removed news ticker with broken link</li>\n<li>Various more minor bugfixes</li>\n</ul>\n<br>\n'},{date:[2023,5,25],name:"Multiplier Tab, Automator, and Major mechanics fixes",info:'\n<b>Multiplier Tab:</b><br>\n<ul>\n<li>Added a tab for Replicanti speed multipliers</li>\n<li>Power effects can now also be shown as an equivalent-value multiplier</li>\n<li>AD tab now has special behavior within NC12</li>\n<li>Made general categories (ie. "Achievements" or "Time Studies") still openable even with single entries</li>\n<li>DT nerfs no longer apply to game speed within the multiplier tab</li>\n<li>Entries referring to individual upgrades are now worded more consistently</li>\n<li>Filled in a bunch of miscellaneous missing effects and fixed a few mislabeled effects</li>\n</ul>\n<br>\n\n<b>Automator Features:</b><br>\n<ul>\n<li>Automator-related notifications in the top-right now have their own coloring</li>\n<li>Constants now stay in a consistent order when refreshing the page</li>\n<li>New scripts now have enforced unique names by default</li>\n<li>NOTIFY command now also supports single-quotes, as well as mixtures of single/double quotes</li>\n<li>Added buttons for deleting individual constants, and another button to delete all of them</li>\n<li>Added undo/redo functionality</li>\n<li>You can now import all your study presets into the automator as constants</li>\n<li>Added WAIT functionality for next BH1/BH2 activation</li>\n<li>Added STOP command to immediately halt script execution</li>\n<li>You can now use the highest filter score out of your available Glyph options as a variable for\n  comparisons</li>\n</ul>\n<br>\n\n<b>Automator Bugfixes:</b><br>\n<ul>\n<li>Block-to-text conversion should be less aggressive on deleting errored lines</li>\n<li>Fixed block editor wiping internal contents of all later blocks whenever block nesting changes</li>\n<li>Fixed a bug which sometimes caused the automator to attempt to run errored scripts and crash the game</li>\n<li>Fixed automator constants not being compared to built-in keywords correctly</li>\n<li>Fixed execution skipping the first line whenever scripts restart due to a REALITY command</li>\n<li>Fixed a few syntax coloring bugs in the Automator text editor</li>\n<li>Fixed a bug which caused the automator to prevent some resources from being reset after full completions</li>\n</ul>\n<br>\n\n<b>Game Mechanic fixes:</b><br>\n<ul>\n<li>Dark Energy no longer resets after Annihilation</li>\n<li>Dooming is now prevented if you have less than 5 empty inventory slots</li>\n<li>"Refine to cap, then sacrifice" mode now sacrifices when the related resource is still locked</li>\n<li>Secret achievement 46 is now properly awarded if the condition is met while offline</li>\n<li>Storing real time no longer prevents autobuyers from ticking</li>\n<li>Fixed bugged modal and game crash when attempting to exit a Celestial Reality from the Glyph tab</li>\n<li>IAP flag in speedruns is now updated more consistently</li>\n<li>Fixed Reality button sometimes showing an incorrect projected RM value due to amplification</li>\n<li>Fixed Black Holes getting stuck as permanently inactive in some cases</li>\n<li>Fixed negative Glyph counts not being properly updated when using Glyph undo</li>\n<li>Glyph purge modals now count identical Glyphs properly</li>\n<li>Fixed Glyph purge modals sometimes not appearing</li>\n<li>Fixed a poor interaction between the new Glyph RNG and negative seed values</li>\n<li>Fixed Glyph RNG seed not advancing after amplified realities</li>\n</ul>\n\n<br><b>Other changes:</b><br>\n<ul>\n<li>Added confirmation option to hide Glyph purge modals which mass-sacrifice</li>\n<li>Improved UI behavior when importing saves in certain conditions</li>\n<li>Teresa\'s EU-start upgrade now applies retroactively</li>\n<li>Offline ticks are now limited to a minimum of 33ms instead of 50ms</li>\n<li>"Offline" progress due to device hibernation now gets simulated as if it were offline time\n  instead of being applied as a single large tick</li>\n<li>Offline/hibernation maximum time has been increased from 6 hours to 24 hours</li>\n<li>Text references to Teresa\'s Perk Shop have been more standardized</li>\n<li>Positioning for V\'s entries in navigation was adjusted to prevent text overlap</li>\n<li>AMOLED themes now have proper theming on credits scroll</li>\n<li>Fixed Achievement 142 not unlocking when unlocking the Black Hole</li>\n<li>Fixed Reality Glyph cosmetics not handling colors properly</li>\n<li>Exit Dilation modal no longer erroneously appears outside of Dilation</li>\n<li>A handful of more minor text and typo fixes</li>\n</ul>\n<br>\n'},{date:[2023,4,7],name:"Speedrunner and Glyph RNG",info:'\n<b>Major Changes:</b><br>\n<ul>\n<li><b>Glyph RNG for Realities 2-21 has been completely overhauled.</b> The new RNG now attempts to give\nyou a much more even spread of effects during these Realities; for each group of 5 consecutive Realities,\nyou will now see every Glyph type exactly 4 times and every individual effect will always appear <i>at least once</i>\namongst those 4 choices.\n</li>\n<li>Two side effects of the above change: 2-effect glyphs are now a fair bit more common\n(about 30% more common for replication and dilation and 140% more common for the other three) and the Glyph options for\nyour <i>current</i> Reality may have changed when first loading up this version of the game.</li>\n<li>Starting a speedrun save now properly carries over all the other stats which would have normally carried over after\nfinishing the game</li>\n<li>Previous speedrun records are now also stored in the save and can now be compared on a newly-added subtab</li>\n<li>Glyph RNG seed can now be modified in-game during a speedrun, as long as you have not realitied yet</li>\n<li>Credits page was updated to include people recently brought on for testing the Reality update on Android</li>\n<li>The "Total Termination" upgrade now affects <i>all</i> Glyph types</li>\n</ul>\n<br>\n\n<b>New QoL/features:</b><br>\n<ul>\n<li>Real time (in stats) is now paused after gaining the final achievement</li>\n<li>Perk tree interactivity has been made generally more responsive</li>\n<li>Added two new default perk tree layouts (an Android-version grid and )</li>\n<li>Eternity autobuyer now only triggers at full completion count with ECB perk instead of immediately</li>\n<li>Added a button to reset all individual Glyph cosmetics</li>\n<li>Added a confirmation modal for exiting challenges using the header button</li>\n<li>Shift-clicking the icon on the Glyph filter now bumps it to the next <i>lower</i> threshold</li>\n<li>Glyph presets now have 2 additional slots (5 => 7)</li>\n<li>Added time estimates for reaching max Replicanti and Dilated Time this Reality</li>\n<li>Hovering over the dilation button now shows all time estimate tooltips at once</li>\n<li>Clicking already-bought dilation studies now moves you over to the appropriate related tab</li>\n<li>All progress-locked options now remain permanently modifiable after full game completions</li>\n</ul>\n<br>\n\n<b>Improved UI/Layout:</b><br>\n<ul>\n<li>Speedrun time formatting now has 3 hour digits and suppresses END formatting on some subtabs</li>\n<li>Improved autobuyer textbox contrast on some themes</li>\n<li>Reality header in stats tab now shows cel7-related stats as well</li>\n<li>Clarified how Relic Shard rarity boost and cursed Glyphs work</li>\n<li>Added %/sec to ID8 when relevant</li>\n<li>Added TT to offline progress entries</li>\n<li>Added BH cost scaling to its H2P entry</li>\n<li>Changed AD Dimension purchase buttons to be stylized like cel6 when Continuum is active</li>\n<li>Improved light/dark TS contrast between buyable and bought states</li>\n<li>Speedrun widget now takes up less screen space when collapsed</li>\n<li>Other various minor text fixes</li>\n</ul>\n<br>\n\n<b>Bugfixes:</b><br>\n<ul>\n<li>Fixed buggy Glyph set names from reskinned Companion Glyphs</li>\n<li>Fixed broken external links in "About the game"</li>\n<li>Fixed AD autobuyer settings being unmodifiable in some cases</li>\n<li>Fixed some display bugs with fractional Infinity/Eternity count</li>\n<li>Recent prestige tab now properly accounts for amplification</li>\n<li>Fixed subtab switching when switching game saves</li>\n<li>Fixed Replicanti estimate not accounting for update rate correctly in some cases</li>\n<li>Fixed Transience of Information not calculating its RM requirement correctly</li>\n<li>Various more minor bugfixes</li>\n</ul>\n'},{date:[2023,2,22],name:"Visuals and Code prep",info:"\n<b>Big Changes:</b><br>\n<ul>\n<li>Cloud saving now only saves one slot at a time and does so every 10 minutes instead of every 5.\n  <b>If you are using the Cloud, please back up your saves locally just in case. This was hard to thoroughly\n  test and we don't want you to lose your saves.</b></li>\n<li>Please update your theme to v10 for the best user experience (added a new secret theme)</li>\n<li>Blobs now have color in the font file</li>\n<li>Changed recent prestige page to be an organized table with more information</li>\n<li>Multiversal effect should no longer cause a UI softlock if the game processes too slowly</li>\n<li>Lots of changes on the backend and Github repository in preparation for making the game open-source</li>\n</ul>\n<br>\n\n<b>New QoL/features:</b><br>\n<ul>\n<li>5xEP now always triggers before TD autobuyers</li>\n<li>Added time and relic shard modes for auto-reality</li>\n<li>Added tracking for total time across full game completions</li>\n<li>Changed some default player properties to make poor game behavior less likely</li>\n<li>Added an option to invert generated/total TT in study tab</li>\n<li>Expanded info for optimizing prestige for resource/time</li>\n<li>Added a new animation for inverted black holes</li>\n</ul>\n<br>\n\n<b>Improved UI/Layout:</b><br>\n<ul>\n<li>Fixed option dropdown being blurry on some browsers</li>\n<li>Fixed some numbers being formatted with the wrong number of decimal places or not using notation</li>\n<li>Added text for unequippable glyphs in cel7</li>\n<li>Further clarified game/real time behavior in various places</li>\n<li>TS21 now shows its effect as a multiplier</li>\n<li>Increased contrast on reality upgrade buttons</li>\n<li>Made ACHNR perk behave more consistently</li>\n<li>Updated some entries in the credits</li>\n<li>Added max DT this reality</li>\n<li>Fixed a lot of things not being visually disabled in cel7</li>\n<li>Many more minor fixes</li>\n</ul>\n<br>\n\n<b>Bugfixes:</b><br>\n<ul>\n</li><li>Fixed Modern sidebar resource rounding incorrectly\n</li><li>Fixed automator errors on post-completion new games\n</li><li>Fixed some news entry stats not being updated properly\n</li><li>Fixed news repeat buffer not working\n</li><li>Updated progress-locking conditions for some news messages\n</li><li>Fixed edge cases for secret achievements 12 and 42\n</li><li>Fixed cel5-3 memories having the wrong name in offline progress\n</li><li>Fixed Dilated runs not giving EP or being tracked in records\n</li><li>Fixed replicanti time being incorrect in cel7\n</li><li>Fixed hotkeys allowing autobuyers to be changed even when locked\n</li><li>Fixed Continuum H2P entry disappearing in cel7\n</ul>\n"},{date:[2023,1,26],name:"Timewall Reduction",info:'\n<b>Balance Changes:</b><br>\n<ul>\n<li>EC4 infinity requirement scales slower (50M => 25M per tier)</li>\n<li>EC11 goals have been reduced by e50 on all tiers</li>\n<li>Improved visibility for cel3 hints (progress is now always visible and accumulates 10x faster)</li>\n<li>Made BH auto-pulse always force charging at 99%, removed adjustability for charge rate</li>\n<li>Momentum grows 2.5x faster</li>\n<li>Reduced final singularity milestone (8e45 => 2.5e45)</li>\n<li>Speedruns now also start with achievements 35 and 76</li>\n</ul>\n<br>\n\n<b>New Quality-of-Life:</b><br>\n<ul>\n<li>Made TS tree import text persist between closing the modal</li>\n<li>Added "Respec and load" buttons/options for TS loading</li>\n<li>Added "Sort by Level" to glyph inventory</li>\n<li>Auto-EC now holds (but doesn\'t complete) the next one when paused</li>\n</ul>\n<br>\n\n<b>Bugfixes:</b><br>\n<ul>\n<li>Modern-Metro themes now have the correct AD color</li>\n<li>Cloud save conflict option buttons now work properly</li>\n<li>"Buy 10" multiplier now always shows</li>\n<li>Crunch modal no longer shows up pre-break with hotkeys</li>\n<li>Next EC rewards now show "Next:" even when capped</li>\n<li>EC requirements no longer scale up after max completions</li>\n<li>Fixed Companion Glyph still counting as a glyph in some cases (LE, nav, achievements)</li>\n<li>Fixed black hole-related achievements not affecting displayed interval/duration</li>\n<li>Cel5 times now account for storing real time</li>\n<li>Cel6 text now updates properly after destabilization</li>\n</ul>\n<br>\n\n<b>Minor Changes:</b><br>\n<ul>\n<li>Improved Cloud conflict detection (eternities in early eternity and max DT in dilation)</li>\n<li>Added ability to hide Google info when Cloud saving</li>\n<li>Added "Common Abbreviations" to H2P</li>\n<li>Added max replicanti text</li>\n<li>Reduced IP/min and EP/min hiding thresholds on prestige buttons</li>\n<li>Added an outline for fully-completed EC studies</li>\n<li>Added cel3 icon to cosmetics</li>\n<li>Made paperclips less invisible</li>\n<li>Fixed more minor typos and made many minor wording improvements</li>\n</ul>\n'},{date:[2023,1,9],name:"The Companion Glyph doesn't want to hurt you",info:'\n<b>Mechanic Changes:</b><br>\n<ul>\n<li>Buffed Break Infinity passive infinity generation upgrade (Cap is now once per 100ms instead of\n  165ms and is reached at a fastest of 50ms instead of 33ms)</li>\n<li>Limited offline ticks to a minimum length of 50ms</li>\n<li>The Companion Glyph no longer counts as a Glyph for the purposes of Glyph-based requirements</li>\n</ul>\n<br>\n\n<b>Bugfixes:</b><br>\n<ul>\n<li>Fixed EM6 being disabled even if EM200/EM1000 are still locked</li>\n<li>Fixed EM200 applying when auto-eternity is in the wrong mode</li>\n<li>Made EU1 apply properly on-purchase</li>\n<li>Made EU2 always check before EP-based autobuyers trigger</li>\n<li>Fixed being able to enter cel7 while in another celestial reality</li>\n<li>Fixed autobuyers being unmodifiable in early cel7</li>\n<li>Fixed ECB using current IP instead of max IP</li>\n<li>Cleared New! notifications upon loading different saves</li>\n<li>Fixed IC5 erroneously applying C9 effect to tickspeed cost</li>\n</ul>\n<br>\n\n<b>Text Changes:</b><br>\n<ul>\n<li>Added warning for lag in animated themes</li>\n<li>Fixed incorrect text on references to the IP formula</li>\n<li>Clarified ach156 only applying to generated TT</li>\n<li>Updated some slightly out-of-date How To Play entries</li>\n<li>Added additional info to Glyph Filter and Alchemy in H2P</li>\n<li>Reworded DT mult from replicanti glyph effect to not use very small numbers</li>\n<li>Improved Perk wording consistency</li>\n<li>Fixed a few spots with unformatted and/or unblinded numbers</li>\n<li>Fixed various punctuation inconsistencies</li>\n<li>Made Big Crunch autobuyer always show interval, even if below update rate</li>\n<li>Moved EC8 ID purchase count nearer to the top of the page</li>\n<li>Added "approximately" to replicanti timer at low amounts</li>\n<li>Made AG button text account for achievements which stop certain resources from being reset</li>\n<li>Added text in a few places for capped upgrades/effects</li>\n<li>Added news ticker suggestions up to Dec 26th, fixed some incorrect news tickers</li>\n</ul>\n'},{date:[2022,12,21],name:"First Post-release Patch",info:'\n<b>Various Miscellaneous Changes:</b><br>\n<ul>\n<li>Fixed NC6 not actually spending lower dimensions when purchasing upgrades</li>\n<li>Changed matter scale text ("If every antimatter were...") to only change once per second</li>\n<li>Fixed some text overflow issues in IC3 and reality upgrades</li>\n<li>Reworded reality reminder text</li>\n<li>Fixed Alt-T hotkey not working before completing tickspeed challenge</li>\n<li>Fixed glyph tooltips not appearing in a certain secret theme</li>\n<li>Made clicking challenge header switch to the tab of the innermost challenge</li>\n<li>Changed EU1 perk to apply to all forms of eternity gain, not just manual ones</li>\n<li>Fixed some bugs related to achievement Bulked Up</li>\n<li>Fixed various typos</li>\n<li>Rolled back styling change for unpurchasable upgrades on dark themes</li>\n<li>Fixed ID/TD multiplier tabs disappearing within EC11</li>\n<li>Fixed a game crash when attempting to run empty or invalid automator scripts</li>\n<li>Fixed a few bugs in celestial content</li>\n</ul>\n'},{date:[2022,12,17],name:"The Reality Update",info:'\n<b>MAJOR STUFF:</b><br>\n<ul>\n<li>The Reality prestige layer.</li>\n<li>Added Glyphs.</li>\n<li>Added Reality Upgrades.</li>\n<li>Added Perks.</li>\n<li>Added an Automator.</li>\n<li>Added a Black Hole.</li>\n<li>Added Celestials.</li>\n<li>Added a new Modern UI style. The Old UI style is still available as Classic UI.</li>\n<li>Added modals to replace browser alerts, confirmations, and prompts.</li>\n<li>Added a How to Play modal with much more detail compared to the old How to Play.</li>\n<li>Added 5 new rows of achievements.</li>\n<li>Added a Multiplier Breakdown subtab.</li>\n<li>Added more Nicolas Cage.</li>\n<li>Cloud saving is now available to everyone. This needs your Google account.</li>\n<li>Shop tab is now available to everyone.</li>\n<li>Redesigned overall UI styling.</li>\n<li></li>\n<li>Rewrote the game UI using the Vue.js framework, significantly improving performance, stability,\n  and code maintainability.</li>\n<li>Added a speedrun mode.</li>\n</ul>\n<br>\n\nOptions and Accessibility:\n<ul>\n<li>Added a content summary modal to help players remember older game mechanics after a long time away.</li>\n<li>Added more keyboard shortcuts.</li>\n<li>Added more confirmations. (can be turned off in options)</li>\n<li>Added animations for Eternity and Dilation. (can be turned off in options)</li>\n<li>Added more community news and new AI news. (generated by AI using data from suggestions by community)</li>\n<li>Added a tutorial glow effect and icon to some buttons when first starting the game.</li>\n<li>Added a dropdown menu for easier selection of themes and notations.</li>\n<li>Added secret number of secret themes, all of which are no longer case sentitive.</li>\n<li>Unlocked secret themes are now permanently available to select from the dropdown.</li>\n<li>Added more notations.</li>\n<li>Added options to import and export saves from files.</li>\n<li>Added a max all Infinity Dimensions button.</li>\n<li>Added a button to minimize TT shop.</li>\n<li>Added 3 more study tree save slots. (total of 6)</li>\n<li>Added a blob.</li>\n<li>Added the ability to edit existing study tree slots.</li>\n<li>Added a modal for automatic selection of study tree paths when shift-clicking.</li>\n<li>Added a line of text on the IC tab telling "All Infinity Challenges unlocked" when all ICs are unlocked.</li>\n<li>Added a line of text on the EC tab telling that how many ECs are unlocked.</li>\n<li>Added options for adjusting save frequency and displaying time since last save.</li>\n<li>Added the ability to name your save file.</li>\n<li>Entries in away progress can now be individually shown or hidden.</li>\n<li>Added the ability to hide tabs and subtabs.</li>\n<li>Added options for adjusting offline progress behavior.</li>\n<li>Added an option to automatically switch tabs on some events.</li>\n<li>Added options to adjust news ticker scroll speed and repetition.</li>\n<li>Added IDs for Challenges and Achievements. (can be turned off in options)</li>\n<li>Added more progress bar information. (EC goal, progress in Dilation until TP gain)</li>\n<li>Added an option to turn off dynamic amount in autobuyers.</li>\n<li>Added a display showing you what type of Infinity/Eternity/Reality you are in, such as Dilation or Challenges</li>\n<li>You can now press other hotkeys while holding down a hotkey without interrupting the held hotkey.</li>\n<li>Info displays are now visible by default. (can be turned off in options)</li>\n<li>Improved import save modal by adding resouce information and offline progress mode selection.</li>\n<li>Number input fields may now have input assistance depending on your browser. (such as up and down arrows\n  on the side)</li>\n<li>Resetting the game now requires inputting a specific phrase in order to prevent accidental resets.</li>\n</ul>\n<br>\n\nWording and Layout Changes:\n<ul>\n<li>Changed "Dimension Shift" to "Dimension Boost".</li>\n<li>Changed "Infinitied stat" to "Infinities".</li>\n<li>Changed "free galaxy" to "Tachyon Galaxy".</li>\n<li>Tickspeed now displays as a X/sec rate instead of a very small fraction X/Y tick time.</li>\n<li>Changed various texts for better clarity.</li>\n<li>Moved Autobuyers subtab to a new Automation tab and added additional controls for other Autobuyers to the tab,\n  such as Infinity Dimension and Replicanti autobuyers.</li>\n<li>Added subsections in the Statistics subtab.</li>\n<li>Footer links have been moved to the new How to Play and About the Game modals.</li>\n<li>Changed some Achievement names and pictures.</li>\n<li>Changed some secret Achievement name and requirements.</li>\n<li>The cost of bought Infinity upgrades is now hidden.</li>\n<li>The "BREAK INFINITY" button is now visible (but locked) even before Automated Big Crunch interval is 0.1s.</li>\n<li>Improved text for post-break cost scaling upgrades.</li>\n<li>The exit Challenge button is now hidden when the player is not in a challenge.</li>\n<li>Eternity Challenges now show their current reward as well as the reward for the next completion.</li>\n<li>Having Eternities no longer prevents the Infinity animation from playing.</li>\n<li>Added colors to the Crunch/Eternity buttons when you have more than e50 of IP/EP; the color shows if you gain less\n  (red), around same (white), or more (green) IP/EP than you currently have.</li>\n<li>Moved study 33 to right side.</li>\n<li>Changed "Normal Dimensions" to "Antimatter Dimensions".</li>\n<li>Changed "Challenges" to "Normal Challenges".</li>\n<li>Fixed some tpyos.</li>\n</ul>\n<br>\n\nNew Upgrades and Improved Technical Behavior:\n<ul>\n<li>Autobuyers are now unlockable before Infinity with antimatter, but can only be upgraded after completing their\n  respective Challenges.</li>\n<li>Added a new Infinity upgrade for 1e3 IP that gives you 50% of your best IP/min without using Max All,\n  while offline.</li>\n<li>Added a new Eternity milestone that gives you 25% of your best EP/min while offline.</li>\n<li>Added another 2 new milestones that give you Infinities and Eternities while offline.</li>\n<li>The "Infinity Point generation based on fastest Infinity" upgrade now takes all IP multipliers into account.</li>\n<li>Tickspeed calculation is now dynamic, updating immediately instead of requiring an upgrade to be purchased.</li>\n<li>You can buy multiple RG at once if you have enough replicanti; you are no longer limited to one per game tick.</li>\n<li>Improved Time Dimension Max all behavior.</li>\n<li>Normal and Infinity Challenges now give rewards after Big Crunch.</li>\n<li>The Eternity autobuyer can now trigger when you have reached the EC goal, regardless of the settings.</li>\n</ul>\n<br>\n\nBalance Changes:\n<ul>\n<li>NC10, 11, and 12 now unlock after 16 Infinities</li>\n<li>Each Achievement grants an additional 1.03x multiplier to Antimatter Dimensions.</li>\n<li>The Big Crunch Autobuyer\'s initial interval has been halved, requiring only half as much IP to max out, and\n  other autobuyers have drastically lowered initial intervals.</li>\n<li>The 500 IP Infinity upgrade now costs 300 IP.</li>\n<li>Nicolas Cage.</li>\n<li>The 20-eternities milestone was moved to 8-eternities.</li>\n<li>Increased cost scaling for Time Dimensions after 1e6000.</li>\n<li>TS 83 has been hard capped.</li>\n<li>EC10 reward for less than 5 completions has been nerfed (reward at 5 completions is the same).</li>\n<li>Lowered the Dilation unlock requirement from 13000 to 12900 total TT.</li>\n<li>TP gain amount in Dilation is now calculated based on the highest AM reached.</li>\n<li>Purchasing the study to unlock Dilation now requires a 23rd row study purchase.</li>\n<li>Changed the condition of IC1 (now it just applies Challenge restrictions, instead of running them).</li>\n<li>Changed the unlock conditions of IC2 (from 1e5000 to 1e10500) and IC6 (from 1e20000 to 1e22500).</li>\n<li>Changed the goal of IC1 (from 1e850 to 1e650).</li>\n<li>Changed the goal of IC5 (from 1e11111 to 1e16500).</li>\n<li>Added reward to "I forgot to nerf that" (5% mult to 1st AD).</li>\n<li>Added reward to "Is this safe?" (keep 1 RG on Infinity).</li>\n<li>Added reward to "Eternities are the new Infinity" (gain x2 more Eternities).</li>\n<li>Added reward to "This is what I have to do to get rid of you" (remove downside from TS 131 and 133).</li>\n<li>Changed reward of "That\'s FAST!" (from 1000 to 5000).</li>\n<li>Changed reward of "That\'s FASTER!" (from 2e5 to 5e5).</li>\n<li>Changed reward of "Forever isn\'t that long" (from 1e10 to 5e10).</li>\n<li>Changed reward of "Blink of an eye" (from 1e25 with dimension mult to 5e25).</li>\n<li>Changed reward of "That wasn\'t an eternity" (from 2e25 to 5e25).</li>\n<li>Changed requirement of "The Gods are pleased" (from x600 to x600 outside of NC8).</li>\n<li>Changed requirement of "Daredevil" (from 2 to 3).</li>\n<li>Changed requirement of "Blink of an eye" (from 200 ms to 250 ms).</li>\n<li>Changed requirement of "Game design is my passion (Hevipelle did nothing wrong)" (from 10 sec to 15 sec).</li>\n<li>Changed requirement of "MAXIMUM OVERDRIVE" (from 1e300 IP/min to 1e300 IP).</li>\n<li>Changed requirement of "Eternities are the new Infinity" (from 200 ms to 250 ms).</li>\n<li>Changed requirement of "Is this safe?" (from 30 minutes to 1 hour).</li>\n<li>Changed requirement of "Like feasting" (from 1e100 to 1e90).</li>\n<li>Changed requirement of "No ethical consumption" (from 5e9 to 2e9).</li>\n<li>Changed requirement of "When will it be enough?" (from 1e20000 to 1e18000).</li>\n<li>Changed requirement of "I never liked this infinity stuff anyway" (from 1e140000 to 1e200000).</li>\n<li>Changed requirement of "Unique snowflakes" (from 630 to 569).</li>\n<li>Changed requirement of "Now you\'re thinking with dilation!" (from 1e600 EP to 1e260000 AM).</li>\n<li>Changed requirement of "This is what I have to do to get rid of you" (from 1e20000 to 1e26000).</li>\n<li>Changed achievement 41 to "No DLC required", "buy 16 IU", "unlock 2 new IU".</li>\n<li>Changed position of "Zero deaths" (from 43 to 64).</li>\n<li>Changed position of "1 Million is a lot" (from 64 to 77).</li>\n<li>Changed position of "How the antitables have turned" (from 77 to 43).</li>\n<li>Swapped achievements 101 and 117.</li>\n<li>Swapped achievements 113 and 124.</li>\n<li>Lowered initial costs of post-break cost scaling upgrades (Tickspeed cost from 3e6 to 1e6,\n  Dimension cost from 1e8 to 1e7).</li>\n<li>NC7 was reworked to not have RNG.</li>\n</ul>\n<br>\n\nRemoved features:\n<ul>\n<li>Infinity is now non-fixable.</li>\n<li>Removed autobuyer priority.</li>\n<li>Removed production graph subtab.</li>\n<li>Removed fungame.</li>\n<li>Removed savefixer.</li>\n<li>Removed some news.</li>\n<li>Removed floating text from purchasing Dimensions.</li>\n<li>Removed blob that caused game crash.</li>\n</ul>\n<br>\n\nBugfixes:\n<ul>\n<li>ID and replicanti autobuyer buttons are now hidden in EC8.</li>\n<li>Fixed next Sacrifice multiplier not properly displaying NC8\'s effect.</li>\n<li>Fixed a bug where IC5\'s cost increment was applied 2 times.</li>\n<li>Fixed a bug where inverted themes were broken.</li>\n<li>Fixed a bug where resetting the game unlocks a secret achievement.</li>\n<li>Fixed a bug where ECs are showing wrong goals after their 5th completion.</li>\n<li>Fixed a bug where non-antimatter galaxies weren\'t applying for tickspeed if your total galaxy count was less\n  than 3.</li>\n<li>Fixed a bug where you could produce more than infinite antimatter for 1 tick even if you had a fixed Infinity or\n  were in a challenge.</li>\n<li>Fixed a bug where formatted numbers on autobuyers wouldn\'t update properly when changing your notation.</li>\n<li>Fixed a bug where Infinity Dimensions would automatically purchase upon unlocking them in EC8 while autobuyers were\n  enabled.</li>\n<li>Fixed a bug where the replicanti upgrade autobuyers would incorrectly display as off upon load/import.</li>\n<li>Fixed a bug where the replicanti interval upgrade would say it would upgrade to a number below the max speed.</li>\n<li>Fixed a bug where your Infinity Dimension mult would show as 0x if you had 0 infinity power.</li>\n<li>Fixed a bug where you could complete EC4 with 1 more Infinity than was allowed, by using the autobuyer.</li>\n<li>Fixed a bug where all non-Dimension Autobuyers didn\'t respect notation on the cost to reduce their interval.</li>\n<li>Fixed a bug where the Achievement reward from "To infinity!" wasn\'t working.</li>\n<li>Fixed a bug where the Sacrifice confirmation would show if you pressed the hotkey even when\n  you can\'t Sacrifice.</li>\n<li>Fixed a bug where the game saved notification would appear twice when importing a save.</li>\n<li>Fixed a bug where the speed of the Tachyon Particle animation was affected your monitor\'s refresh rate. (if you have\n  a 60hz monitor, it will be the same speed as it was before)</li>\n<li>Fixed a bug where the Achievement unlock notification for unlocking "4.3333 minutes of Infinity" said\n  "Minute of Infinity".</li>\n<li>Fixed a bug where you could still Sacrifice after reaching Infinity.</li>\n<li>Fixed a bug where your free tickspeed upgrade count would display as a negative number shortly after purchasing your\n  first Time Dimension.</li>\n<li>Fixed a bug where you were unable to purchase Dimensions if you had exactly their cost and their cost was below\n  Infinity.</li>\n<li>Fixed a bug where the "X%" text on the progress bar was left aligned rather than centered.</li>\n<li>Fixed a bug where the Achievement image for "Blink of an eye" was a gif.</li>\n<li>Fixed a bug where the Achievement unlock condition of "Yo dawg, I heard you liked infinities" was not checked\n  correctly.</li>\n<li>Fixed a bug where the formula for the displayed multiplier on TS11 was incorrect.</li>\n<li>Fixed a bug where the Sacrifice and Dimension Boost Autobuyer would not honor Autobuyer interval.</li>\n<li>Fixed a bug where the Reality link was just a video of some guy dancing.</li>\n<li>Fixed a bunch of other bugs.</li>\n'},{date:[2018,6,17],name:"This Update Sucks",info:"\n<b>MAJOR STUFF:</b><br>\n<ul>\n<li>TIME DILATION</li>\n<li>3 ROWS OF SECRET ACHIEVEMENTS</li>\n<li>Added more Nicolas Cage.</li>\n<li>1 new row of achievements.</li>\n<li>Added 3 study tree save slots.</li>\n<li>Greatly improved performance. (up to 5x in certain cases, ~3x in almost all cases)</li>\n<li>Nerfed EC10 reward. ((infinities * EC10 completions * 0.000002+1) >\n(infinities ^ 0.9 * EC10 completions * 0.000002+1))</li>\n<li>Added even more Nicolas Cage.</li>\n<li>Time study 11 has been capped at 1e2500 and now displays its current multiplier.</li>\n<li>Time study 193 has been buffed, requires ~1012680 eternities to cap, rather than 1.5m, and is now capped at 1e13000\ninstead of ~1.81e12900/1.5m eternities. (1.02^x) > (1.03^x)</li>\n<li>The second eternity upgrade has been buffed, and now soft caps at 100k, rather than 125k. The end result is very\nslightly higher. ((x/300)^log4(2x)) > ((x/200)^log4(2x))</li>\n<li>EC1 now requires 20k eternities per tier to unlock, down from 25k.</li>\n<li>TD cost scaling has been increased after costs of 1e1300. (this is in addition to the current increase)</li>\n<li>Added additional galaxy cost scaling after 800 galaxies.</li>\n<li>Added a button to buy the maximum amount of eternity point multipliers at once.</li>\n<li>Offline progress processes ~5x faster, and now simulates autobuyers. (please note that offline progress is still\ncapped at 1000 ticks, with additional ticks increasing the production of said 1000 ticks)</li>\n<li>Added a new save file system that allows 3 different save files at once all with cloud save enabled, along with\na new cloud save UI.</li>\n<li>Added an animation to visualize your multiplier gain when you purchase 10 of a dimension, dimension boost/shift,\nor sacrifice.</li>\n<li>Nicolas Cage.</li>\n<li>Added an animation to big crunches. This will only trigger if you haven't eternitied, have a fastest infinity time\nabove 1 minute, and haven't broken infinity.</li>\n<li>Added a button in the options menu to disable individual animations.</li>\n<li>Added more news ticker entries</li>\n</ul>\n<br>\n<b>Minor stuff:</b><br>\n<ul>\n<li>Reduced the space between the secondary eternity tab buttons.</li>\n<li>The EC3 description now specifies that dimensional sacrifice is disabled.</li>\n<li>Autobuyer inputs now support commas and notation on exponents.</li>\n<li>When purchasing the EP or IP multipliers, autobuyer inputs will now always format the updated value above 1000.</li>\n<li>The size and placement of the auto IP multiplier and auto RG toggles have been adjusted to fit with the other auto\ntoggles.</li>\n<li>Total time played now increases at a normal rate inside EC12.</li>\n<li>Fastest infinity time now updates normally inside EC12.</li>\n<li>The time theorem purchasing background is now 20 pixels wider.</li>\n<li>Changed the wording on time study 133 for clarity.</li>\n<li>Added various missing periods to achievements.</li>\n<li>Improved chart performance. (it's still pretty laggy if your settings are too high)</li>\n<li>You can now purchase study 201 while you have EC11/12 bought, but you cannot purchase another path.</li>\n<li>Purchasing study 131 no longer turns off your replicanti galaxy autobuyer, but instead displays it as disabled.</li>\n<li>You can now purchase another split using shift while you have study 201.</li>\n<li>You now purchase max galaxies manually by clicking or using the hotkey with more than 6 eternities.</li>\n<li>You can now purchase single dimension boosts and galaxies by holding shift while purchasing.</li>\n<li>ID8 will now display a rate of change after completing EC7 at least once.</li>\n<li>Added an oxford comma to formatted time values.</li>\n<li>Made the dimensional sacrifice button 40px wider to prevent the text overflowing.</li>\n<li>Made the all tab eternity and infinity point displays 30px wider to prevent the text overflowing.</li>\n<li>Moved the big crunch button up to prevent blocking the statistics and achievement tab buttons.</li>\n<li>Moved the eternity and infinity buttons inwards to prevent the HTML layout jumping around.</li>\n<li>Fixed the placement of certain footers.</li>\n<li>Fixed a typo where a news ticker said \"Dimesional Sacrifice\" instead of \"Dimensional Sacrifice\"</li>\n<li>Fixed a bug where TDs displayed a 2x multiplier per purchase when they actually gave a 4x multiplier.</li>\n<li>Fixed a bug where study 51 wouldn't respect notation.</li>\n<li>Fixed a bug where the infinity challenges tab would always show.</li>\n<li>Fixed a bug where the auto RG toggle would jiggle left and right 1 pixel in certain cases.</li>\n<li>Fixed a bug where the rate of change on the 7th dimension wouldn't take into account ID1 while in EC7.</li>\n<li>Fixed a bug where EC12 displayed 0.1 seconds after 5 completions, but actually required 0.0 seconds.</li>\n<li>Fixed a bug where tickspeed elements wouldn't hide correctly in certain cases.</li>\n<li>Fixed a bug where bought eternity challenge unlock studies would show as gray in the dark theme rather than a deep\npurple.</li>\n<li>Fixed a bug where dimensions 5-8 would hide upon eternity even with the 30 eternity milestone.</li>\n<li>Fixed a bug where popup colors weren't inverted in the inverted and inverted metro themes.</li>\n<li>Fixed a bug where the eternity point amount wouldn't show when you imported a save with eternity points into a save\nwithout them.</li>\n<li>Fixed a bug where locked eternity challenges didn't have a hover effect in the dark metro theme.</li>\n<li>Fixed a bug where popups weren't properly centered.</li>\n<li>Fixed a bug where ID autobuyers would purchase IDs upon unlock even while disabled.</li>\n<li>Fixed a bug where study tree branches drawn to row 22 were off-centered.</li>\n<li>Fixed a bug where EP/min and IP/min peaks wouldn't update properly upon import.</li>\n<li>Fixed a bug where infinity dimension autobuyers wouldn't hide properly upon import.</li>\n<li>Fixed a bug where the IP multiplier autobuyer wouldn't hide properly upon import.</li>\n<li>Fixed a bug where the option to change big crunch modes wouldn't hide properly upon import.</li>\n<li>Fixed a bug where the max buy galaxy interval setting wouldn't hide properly upon import.</li>\n<li>Fixed a bug where the RG autobuyer wouldn't hide properly upon import.</li>\n<li>Fixed a bug where the eternity confirmation option wouldn't hide properly upon import.</li>\n<li>Fixed a bug where the replicanti upgrade autobuyers wouldn't hide properly upon import.</li>\n<li>Fixed a bug where your update rate wouldn't update upon import.</li>\n<li>Fixed a bug where the chart line color wouldn't update properly upon import.</li>\n<li>Fixed a bug where achievement images were being cut off by 4 pixels on the right and bottom sides.</li>\n<li>Fixed a bug where \"Yo dawg, I heard you liked infinities...\" only required 1e300 times the previous infinity.</li>\n<li>Fixed a bug where the auto sacrifice interval would still display as 0.10 seconds even with the\ndouble autobuyer speed breaking infinity upgrade.</li>\n<li>Fixed a bug where certain time studies were 1 pixel too far to the left or right.</li>\n<li>Fixed a bug where studies 223 & 224 weren't taken into account when displaying antimatter galaxies as\ndistant antimatter galaxies.</li>\n<li>Fixed a bug where study 227 would multiply your 4th time dimension production by 0\nif you had no sacrifice bonus.</li>\n<li>Fixed a bug where the game would say \"You have 1 eternity points.\" rather than \"You have 1 eternity point.\".</li>\n<li>Fixed a bug where popups would remain open after changing tabs.</li>\n<li>Fixed a bug where you were able to select the achievement images by clicking and dragging over them.</li>\n<li>Fixed a bug where studies 233 and 234 had the wrong classes assigned to them on load.</li>\n</ul>\n"},{date:[2018,4,1],name:"Fixed a Bug where there wasn't an Update",info:'\nHuge thanks to Omsi for helping me a ton with this.<br><br>\n<b>MAJOR STUFF:</b><br>\n<ul>\n<li>2 NEW ETERNITY CHALLENGES</li>\n<li>12 NEW TIME STUDIES</li>\n<li>Time study 132 has been buffed from a 30% bonus to a 40% bonus.</li>\n<li>Added an achievement bonus for "Popular music": "Replicanti galaxies divide your replicanti by 1.79e308 instead of\nresetting them to 1."</li>\n<li>Added an achievement bonus for "IT\'S OVER 9000": "Sacrifice doesn\'t reset your dimensions."</li>\n<li>Added an achievement bonus for "Like feasting on a behind": "IP multiplier based on time spent this infinity."</li>\n<li>Added an achievement bonus for "What do I have to do to get rid of you": "Time dimensions are multiplied by\nthe number of studies you have."</li>\n<li>Added "Infinity" notation.</li>\n<li>Added "Brackets" notation.</li>\n<li>Added an import/export system for the time study tree.</li>\n<li>Added an EP/min & peak EP/min display to the eternity button.</li>\n<li>Added an eternity hotkey.</li>\n<li>Added something to help you pick your theme.</li>\n<li>Added a few more IAPs.</li>\n<li>Reduced the cost of "Double IP gain from all sources" IAP from 50 ➜ 40</li>\n</ul>\n<br>\n<b>Minor stuff:</b><br>\n<ul>\n<li>Added an option to not plot drops in production on the chart. (It will instead copy the newest data point)</li>\n<li>Added displays for the current bonuses from time studies 71, 72, and 73.</li>\n<li>Built up speed for 6 hours to do it in 0.5x A presses.</li>\n<li>Changed study 72 to only work on the 4th infinity dimension, but doubled its power. (No effective change)</li>\n<li>Alchemy 120 (Vivification) scaling decreased.</li>\n<li>Fixed a bug where the buttons to purchase time studies wouldn\'t move in inverted themes on firefox.</li>\n<li>Fixed a bug. Antman, you\'re good to go.</li>\n<li>Fixed a bug that gave you the ability to set a custom name for your theme when using a secret theme.</li>\n<li>Fixed BLJ. Shoutout to SimpleFlips.</li>\n<li>Fixed a bug that caused purchasing the EP multiplier to require multiple clicks.</li>\n<li>Removed the ghost from the game. Was annoying.</li>\n<li>Fixed a bug that allowed you to earn "Long lasting relationship" in EC7.</li>\n<li>Monkeys no longer eat humans, as intended.</li>\n<li>Fixed a bug where the reward from EC7 could display -1.</li>\n<li>Increased the drop rate of collector\'s pendant items by 20%.</li>\n<li>Fixed a bug where the infinity requirement for EC4 could be less than 0.</li>\n<li>Transcension gives less Ancient Souls.</li>\n<li>Fixed a bug where the visual display for autobuyer bulk buy settings wouldn\'t update upon your first eternity.</li>\n<li>Fixed the rickroll. Now it\'s properly not working.</li>\n<li>Fixed a bug where the EP multiplier would break if its power exceeded 1.79e308.</li>\n<li>Leeroy Jenkins\' Battlecry now doesn\'t trigger Patches.</li>\n<li>Fixed a bug where the confirmation for starting an infinity challenge would say you need to reach infinity.</li>\n<li>Cursors now do circles around the cookie.</li>\n<li>Fixed a bug where the offline progress popup would simply say "While you were away" if nothing happened.</li>\n<li>Traction has been slightly increased to reduce unwanted drifts.</li>\n<li>Fixed a bug that in rare cases would cause the offline progress popup to say you gained "NaNeInfinity" time shards\nor infinity power.</li>\n<li>Fixed a bug where the tickspeed visual display wouldn\'t update upon any form of reset.</li>\n<li>Bugged a fix where eternity was dumb.</li>\n<li>CS now makes notes go faster in mania.</li>\n<li>Fixed a bug where replicanti were hidden but still unlocked if you eternitied for the 50th time\nwhile they were locked.</li>\n<li>Dirt is now more abundant.</li>\n<li>Fixed a bug where the 1st dimension wasn\'t producing the 0th dimension.</li>\n<li>Fixed a bug where The Nameless Ones were too easy.</li>\n<li>Fixed a bug where in a specific case, 2 eternity challenges would appear as running at the same time.</li>\n<li>Increased TukkunFCG YC rewards by 15%.</li>\n<li>Added more space. SPAAAAAAACE</li>\n<li>Fixed a bug where the eternity challenges tab would hide after refreshing with less than 1e2000 antimatter.</li>\n<li>Fixed a bug where eternity challenges wouldn\'t update correctly upon import.</li>\n<li>Fixed a bug where dimension display values wouldn\'t update in certain cases.</li>\n<li>Portals are now not red.</li>\n<li>Fixed a bug where the ON/OFF text on the challenge confirmation option wasn\'t capitalized upon load.</li>\n<li>Reduced GRB\'s autokill threshold to 2500/2000 power/toughness.</li>\n<li>Fixed a typo where the eternity confirmation option said "Eternity confimation".</li>\n<li>Added bugs because Omsi wants more bugs to fix. Absolute legend, I\'m telling you, the queen is legendary.</li>\n<li>Fixed a typo where the reward for "That\'s faster!" said you started with 20000 antimatter, rather than 200000.</li>\n<li>Added depression to your themes.</li>\n<li>Fixed inconsistencies with the standard notation naming convention.</li>\n<li>Tried to fix a bug where the game was bad but failed. The game is still bad.</li>\n<li>Changed the wording on EC4 to say "X or less" rather than "less than X".\n(It always worked this way, this is just a correction)</li>\n<li>Made donkeys less fast, so you can actually catch them now.</li>\n<li>Changed the wording on the EC2 reward to say "affects 1st Infinity Dimension" rather than\n"affects Infinity Dimensions". (It always worked this way, this is just a correction)</li>\n<li>Increased the base breeding speed of trimps by 10%.</li>\n<li>You can now click through the footer and progress bar to access buttons that they are overlapping.\n(This is for smaller screens)</li>\n<li>Made periods longer.</li>\n<li>Added loot boxes.</li>\n<li>Removed loot boxes.</li>\n<li>Added various missing periods to achievement descriptions.</li>\n<li>Added a missing period to time spent in this eternity.</li>\nIncreased the price of creation count increases from 50 god power to 60.</li>\n<li>Added a missing space to the "Autobuyers work twice as fast." upgrade.</li>\n<li>Manually buying max dimension boosts no longer requires 10 eternities or more, and now only requires the bulk buy\ndimension boosts breaking infinity upgrade.</li>\n<li>Did a barrel roll.</li>\n<li>Added more useless patch notes</li>\n</ul>\n'},{date:[2018,2,1],name:"Eternity Challenges",info:'\n<ul>\n<li>NEW TIME STUDIES</li>\n<li>2 new achievement rows</li>\n<li>Made certain news messages only show if you have reached certain levels of progression</li>\n<li>Massively improved performance of calculating dimension costs thanks to SpectralFlame.\n(Cuts cpu usage by up to 2/3 in late-game)</li>\n<li>New news (get it?) ticker entries.</li>\n<li>Added a production chart.</li>\n<li>Added new statistics to replace the scale statistic after 1e100000 antimatter.</li>\n<li>Added a new milestone for 30 eternities: "Start with all normal dimensions available for purchase".</li>\n<li>Added an option to change the update rate of the game, ranging from 33ms to 200ms.\n(before this, it was locked at 50ms)</li>\n<li>The game now partially simulates offline progress, instead of estimating it.</li>\n<li>Added 3 new eternity upgrades.</li>\n<li>Added a reward to the "NEW DIMENSIONS???" achievement, "Your achievement bonus affects Infinity Dimensions."</li>\n<li>Buffed time study 111. (10 ^ (log10(antimatter) / 290- 0.75)) > (10 ^ (log10(antimatter) / 285- 0.75))</li>\n<li>Buffed time study 83. (1.0001^x) > (1.0004^x)</li>\n<li>Nerfed eternity upgrade 1. ((x+1)^3) > (x+1)</li>\n<li>Nerfed eternity upgrade 2. (x^log4(2x)) > ((x/300)^log4(2x) with harsher formula above 125,000)</li>\n<li>Fixed a bunch of bugs and changed a bunch of things. (more detail below)</li>\n<li>Added buy max buttons to Time Dimensions and Time Theorems.</li>\n<li>Added a hotkey for replicanti galaxies. (R)</li><br>\n<li>Nitty gritty:</li>\n<li>Greatly improved the performance of calculating bonus tickspeed from time dimensions.</li>\n<li>Replaced all references to soft resets with references to dimension boosts.</li>\n<li>Made achievements update on import/hardreset.</li>\n<li>Made the game take into account your infinity points gained on crunch for the purposes of\neternity point gain when you eternity.</li>\n<li>The replicanti interval is now displayed after and reductions / increases.</li>\n<li>Added missing periods to various achievements.</li>\n<li>Made the bonus from time study 131 display next to max replicanti galaxies.</li>\n<li>Added time dimensions to the info scale.</li>\n<li>Changed the description of time study 31 to "Powers up bonuses that are based on your infinitied stat\n(to the power of 4)" from "Powers up existing upgrades based on infinitied stat (to the power of 4)".</li>\n<li>Changed the description of "MAXIMUM OVERDRIVE" to say "Big Crunch with X" instead of "Reach X".</li>\n<li>Added "with reduced effect" to the description of time study 71, 72, and 73.</li>\n<li>Changed the text on autobuy max dimension boosts to "Buy max dimboosts every X seconds:"\nfrom "Max dimboost interval:". (To achieve parity with the autobuy max galaxies text)</li>\n<li>Made the challenges button always show if you have more than 1 eternity.</li>\n<li>Fixed centering issues with infinity and eternity upgrades.</li>\n<li>Various minor changes to themes to improve consistency. (Too minute to list, even here)</li>\n<li>Made the eternity autobuyer number multiply by 5 when you buy the eternity point multiplier.</li>\n<li>Increased the requirement for "Is This Hell?". (5 > 6.66 seconds)</li>\n<li>Reduced the starting replicanti interval upgrade cost. (1e160 > 1e140)</li>\n<li>Galaxies are labeled "Distant Antimatter Galaxies" when the cost scaling starts. (At 100 galaxies)</li>\n<li>Dimensions no longer produce anything after reaching challenge goal, or after reaching infinity with fixed infinity.\nThis is due to the c6 being abusable.</li>\n<li>Made the 7 and 25 eternity milestones work much faster.</li>\n<li>After unlocking bulk dimboosts, clicking dimension boost or pressing D will buy max dimension boosts.</li>\n<li>Moved fake news, don\'t you dare to sleep, spreading cancer, and one for each dimension to rows 2, 3, 4,\nand 7 respectively.</li>\n<li>Added a visual display of how many galaxies/dim boosts you have next to the cost.</li>\n<li>Added an explanation of hotkeys to the options page.</li>\n<li>Made shift+1-8 purchase singular dimensions and shift+T purchase a singular tickspeed upgrade.</li>\n<li>Reworked the display of the buy time theorem buttons.</li>\n<li>The milestones page now has 2 columns.</li>\n<li>Extended support for standard notation to e3e18, and letter/cancer notation (almost) infinitely.</li>\n<li>Added support for standard, letter and logrithm notation in autobuyer inputs.</li>\n<li>Added "in a challenge" to the description of "Zero Deaths".</li>\n<li>Made most large numbers in achievements be listed in your chosen notation.</li>\n<li>Nerfed "Gift From The Gods"\'s achievement reward.</li>\n<li>Made purchasing time theorems with EP require at least 1 time dimension.</li>\n<li>First eternity now takes you to the time dimensions tab.</li>\n<li>Time dimension prices now have 2 decimal places.</li>\n<li>Reformatted the tick interval reduction text for very small numbers.</li>\n<li>The game now keeps track of when you automatically do an infinity, and you can passively gain IP based off the\nIP/min in that run if you go offline (but only if infinity isn\'t broken).</li>\n<li>Made time study 171 apply retroactively. This was causing an issue with production being much lower than expected\nwhen going into a long run on the same run as respeccing.</li>\n<li>Fixed a bug where max all wasn\'t giving achievements when buying dimensions.</li>\n<li>Fixed a bug where the game wouldn\'t show the default dimensions tab upon hard resetting.</li>\n<li>Fixed a bug where time dimensions were called "X Dimension" rather than "X Time Dimension".</li>\n<li>Fixed a bug where the replicanti galaxy button would show as locked if you had more than\nthe listed max replicanti galaxies and study 131.</li>\n<li>Fixed a bug where the last ten eternities average said IP/X rather than EP/X.</li>\n<li>Fixed a bug where the big crunch autobuyer said "X times since last crunch" instead of "X times last crunch".</li>\n<li>Fixed a bug where the challenge records display wouldn\'t update upon import.</li>\n<li>Fixed a bug where hotkeys wouldn\'t work sometimes.</li>\n<li>Fixed a bug where secret theme names would display as "0" after refreshing.</li>\n<li>Fixed a bug where time studies would move around when your window size was too small.</li>\n<li>Fixed a bug where infinity dimensions would reset when clicking on a challenge and not entering while\nchallenge confirmations were on.</li>\n<li>Fixed a bug where you always had the infinity challenge 1 reward.</li>\n<li>Fixed a bug where eternity milestone classes weren\'t set correctly upon import.</li>\n<li>Fixed a bug where the eternity autobuyer, sacrifice autobuyer, time dimension tab, and replicanti\nwasn\'t hiding correctly upon import.</li>\n<li>Fixed a bug where buy max dim boosts was able to buy 1 too many boosts.</li>\n<li>Fixed a bug where the study tree would be off-centered if the game windows wasn\'t wide enough.</li>\n<li>Fixed a bug where you could buy factions of dimension boosts with dimension boost bulk buy.</li>\n<li>Fixed a bug where your autobuy max dimension boost interval would set itself to itself\nif you eternitied while changing it.</li>\n<li>Fixed a bug where secondary statistic tabs weren\'t hiding upon import.</li>\n<li>Fixed a bug where replicanti galaxies wouldn\'t give a bonus if you had less than 3 galaxies.</li>\n<li>Fixed a bug where the dimension boost autobuyer would ignore dimension boost costs until they costed 8th dimensions.\n</li>\n<li>Fixed a bug where the future shop multipliers were displayed before the x rather than after.</li>\n<li>Fixed a bug where the challenge confirmation button\'s off and on were lowercase.</li>\n<li>Fixed a bug where the static infinity point display would disappear after eternity.</li>\n</ul>'},{date:[2017,12,1],name:'"Eternity" update',info:"\n<ul>\n<li>Time studies tree with free respec</li>\n<li>Eternity Milestones with tons of automation</li>\n<li>Eternity upgrades</li>\n<li>TIME DIMENSIONS</li>\n<li>REPLICANTIS</li>\n<li>More themes made by Omsi</li>\n<li>Disable hotkeys option</li>\n<li>Current IP/min post-break</li>\n<li>Infinity Challenge times</li>\n<li>Past 10 eternities</li>\n<li>Lowered IP multiplier cost by 1 Order of magnitude.</li>\n<li>3 more rows of achievements</li>\n<li>Infinity challenge reward nerfs (1st: 1.5x ➜ 1.3x; 3rd: lowered; 4th: mult^1.1 ➜ mult^1.05)</li>\n<li>More news ticker entries</li>\n<li>Immensely improved performance thanks to break_infinity.js made by Patashu, it replaces decimal.js</li>\n<li>Added LZString for cloud saving purposes.</li>\n<li>Achievement refractoring to reduce save string size made by StrangeTim.</li>\n<li>Commas between exponents option for numbers higher than e100000</li>\n<li>Added logarithm notation</li>\n<li>Made letter and cancer notation last longer.\n</ul>\n"},{date:[2017,10,10],info:"\n<ul>\n<li>Complete refactoring for all upgrade UI.</li>\n<li>Minor Upgrade Changes. (Capping some upgrades)</li>\n<li>Kred shop- 3 paid Upgrades- More upgrades (and upgrade improvements) coming in the future.</li>\n<li>8 new Achievements- Achievement Rewards have also been added.</li>\n<li>Infinity Challenges- additional challenges to do going from Inf Dim 2 to current end game and beyond.</li>\n<li>Main Screen UI updates- IP points are now visible everywhere.</li>\n<li>Hotkeys- C for Big Crunch, M for Max All, S for Dimensional Sacrifice, D for Dimension Shift/Boost,\nG for Antimatter Galaxy, Numbers 1-8 for Buy 10 (D1-8), A for Toggle Autobuyers.</li>\n<li>Bug Fixes- At least 2, including a percentage buff.</li>\n</ul>"},{date:[2017,9,25],info:"\n<ul>\n<li>NEW DIMENSIONS?</li>\n<li>Super Secret Post-Infinity Dimensions added. Get more antimatter to find out!</li>\n<li>Post-break double galaxy upgrade nerfed. It now gives 50% more.</li>\n<li>Four new post-break upgrades added.</li>\n<li>Scaling of the dimension cost multiplier increased.</li>\n<li>Eight new achievements added.</li>\n<li>Cloud saving maybe added.</li>\n<li>Refunded Dimension cost increase multiplier and changed the cost.</li>\n</ul>"},{date:[2017,9,19],name:"Breaking Infinity",info:"\n<ul>\n<li>Post infinity content added (Breaking infinity), requires big crunch speed to be maxed.</li>\n<li>New upgrade tree pre-breaking, included one upgrade that be taken multiple times to\nincrease infinity point gains.</li>\n<li>Eight late game post-breaking upgrades.</li>\n<li>Eight new achievements.</li>\n<li>Reworked autobuyer prices and times, full refund for all points spent on them.</li>\n<li>Autobuyers now can be upgraded beyond 0.1 seconds, and they also now 'wait' after their interval has passed,\ninstantly buying once they are able to.</li>\n<li>Automatic DimBoosts, Galaxies, and Big Crunches now have an input box.</li>\n<li>Unique achievement rewards for multiple achievements.</li>\n<li>Zero galaxies now gives 11% tickspeed.</li>\n<li>Galaxies past two give diminishing returns, Faster than a Potato made easier to compensate.</li>\n<li>Game now updates 20 times a second with increased performance, max autobuyer speed is not impacted.</li>\n<li>Autobuyer settings are now saved in between sessions.</li>\n<li>Monitor scaling issues mainly fixed.</li>\n<li>Priority should be working properly.</li>\n<li>Big crunch button is now less obtrusive.</li>\n<li>Your screen no longer defaults to the dimensions tab when you reach infinity\n(if you have broken infinity or if your fastest time to reach infinity is less than one minute).</li>\n<li>More statistics have been added such as record challenge times and last ten infinities.</li>\n<li>Times below one minute are now kept at two decimal points of precision.</li>\n<li>Percentage increase per second for dimensions 1-8 are now kept to two decimal points of precision.</li>\n<li>The reset button works better now.</li>\n</ul>"},{date:[2017,9,7],name:"Challenges",info:"\n<ul>\n<li>Added 12 challenges.</li>\n<li>Added 8 new achievements.</li>\n<li>Added autobuyers.</li>\n</ul>"},{date:[2017,8,30],info:"\n<ul>\n<li>Added news on top of the page.</li>\n<li>Added a multiplier for completing a row of achievements.</li>\n<li>New letter notation option.</li>\n<li>Nerfed galaxies from +3% to +2%.</li>\n<li>Added 8 new achievements.</li>\n<li>Added Dimensional Sacrifice, appears at 5th dimension shift/boost.</li>\n<li>More notations!</li>\n<li>Bar until infinity at the bottom.</li>\n<li>Some UI changes.</li>\n</ul>"},{date:[2017,8,24],name:"Infinity",info:"\n<ul>\n<li>Now when you get to 1.7e308 antimatter, you reach infinity, and you can reset again at infinity,\ngaining infinity points.</li>\n<li>You can use infinity points for upgrades.</li>\n<li>The game also now runs 6 hours while it is closed.</li>\n<li>In addition there are some graphic updates.</li>\n</ul>"},{date:[2017,5,7],info:"\n<ul>\n<li>Added this changelog, fixed money displaying problem. Added a title to the HTML.</li>\n<li>The game now works offtab.</li>\n<li>Fixed the bug with costs showing for example 1000 SxTg.</li>\n<li>Visual update! And statistics.</li>\n<li>Added export and import options.</li>\n<li>Added save button although game saves every 10 seconds.</li>\n<li>Slightly smaller text and added a max all button.</li>\n<li>Saves should now FINALLY work properly.</li>\n</ul>"}];for(let V=0;V<Qi.length;V++)Qi[V].id=V;const Ji=[{name:"Расширение Измерений",option:"dimensionBoost",isUnlocked:()=>!0},{name:"Галактика Антиматерии",option:"antimatterGalaxy",isUnlocked:()=>!0},{name:"Пожертвование Измерений",option:"sacrifice",isUnlocked:()=>Sacrifice.isVisible},{name:"Большое Сжатие",option:"bigCrunch",isUnlocked:()=>player.break||PlayerProgress.eternityUnlocked()},{name:"Вход в испытание",option:"challenges",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"Выход из испытания",option:"exitChallenge",isUnlocked:()=>PlayerProgress.infinityUnlocked()},{name:"Галактика Репликанти",option:"replicantiGalaxy",isUnlocked:()=>PlayerProgress.eternityUnlocked()||player.replicanti.unl},{name:"Вечность",option:"eternity",isUnlocked:()=>PlayerProgress.eternityUnlocked()},{name:"Замедление",option:"dilation",isUnlocked:()=>PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()},{name:"Сброс реальности",option:"resetReality",isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"Замещение глифа",option:"glyphReplace",isUnlocked:()=>PlayerProgress.realityUnlocked()},{name:"Пожертвование глифа",option:"glyphSacrifice",isUnlocked:()=>GlyphSacrificeHandler.canSacrifice},{name:"Прочистка инвентаря",option:"autoClean",isUnlocked:()=>GlyphSacrificeHandler.canSacrifice},{name:"Пожертвование всех глифов",option:"sacrificeAll",isUnlocked:()=>GlyphSacrificeHandler.canSacrifice},{name:"Выбор глифа",option:"glyphSelection",isUnlocked:()=>Autobuyer.reality.isUnlocked},{name:"Деактивация глифа",option:"glyphUndo",isUnlocked:()=>TeresaUnlocks.undo.canBeApplied},{name:"Переключение на другой режим редактирования",option:"switchAutomatorMode",isUnlocked:()=>Player.automatorUnlocked},{name:"Удаление сохранённого набора глифов",option:"deleteGlyphSetSave",isUnlocked:()=>EffarigUnlock.setSaves.isUnlocked},{name:"Облагораживание глифов",option:"glyphRefine",isUnlocked:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied},{name:"Армагеддон",option:"armageddon",isUnlocked:()=>Pelle.isDoomed},{name:"Respec Shop Purchases",option:"respecIAP",isUnlocked:()=>Cloud.isAvailable}],Zi={roles:{1:"Автор",2:"Технический архитектор",3:"Главные разработчики",4:"Разработчик версии для Android",5:"Разработчик версии для Steam",6:"Разработчик числовой библиотеки",7:"Разработчики",8:"Главный дизайнер",9:"Дизайнеры",10:"Сценаристы",11:"Художник",12:"Мастер модальных окон, женщин и пирогов",13:"Затаившийся тестировщик",14:"Переводчик",15:"Тестировщики браузерной версии",16:"Тестировщики версии для Android"},people:[{name:"Hevipelle",name2:"Ивар Керайярви",roles:1},{name:"Razenpok",name2:"Андрей Андреев",roles:2},{name:"garnet420",roles:3},{name:"Omsi",roles:[3,11]},{name:"SpectralFlame",name2:"Кристофер Йип",roles:3},{name:"WaitingIdly",roles:[3,7,9,15,16]},{name:"kajfik",name2:"Якуб Кайфосз",roles:4},{name:"Makopaz",name2:"Зак Стейн",roles:5},{name:"Patashu",roles:[6,7,15]},{name:"Dan",roles:[7,15]},{name:"earth",name2:"Джейс Ройер",roles:[7,12,15,16]},{name:"Hira",roles:[7,15,16]},{name:"IkerStream",name2:"Икер-де-Агирре",roles:[7,15]},{name:"L4R5",name2:"Ларс Вольф",roles:[7,15,16]},{name:"Pichusuperlover",roles:[7,9,15]},{name:"realrapidjazz",roles:[7,8,10]},{name:"Scarlet",roles:[7,15,16]},{name:"slabdrill",roles:7},{name:"Acamaeda",roles:[9,15]},{name:"Dravitar",name2:"Алекс Хендерсон",roles:13},{name:"Aesis",roles:15},{name:"AFYINEE",name2:"Габриэль Хаддаг",roles:15},{name:"Alexitato",roles:15},{name:"Anno",roles:15},{name:"Myresa Exina",roles:[15,16]},{name:"ArrowBounce",name2:"Тимоти Су",roles:15},{name:"Birb",name2:"Келзи Блэк",roles:15},{name:"Boo",name2:"Жан-Кристоф Бурго",roles:15},{name:"CaptainGalaxy",name2:"Овидиюс Точелис",roles:15},{name:"ChaoticHans",roles:[15,16]},{name:"cubic frog",roles:15},{name:"dankesehr",roles:15},{name:"Davixx",name2:"Давиде Феделе",roles:15},{name:"Empireus",roles:15},{name:"GirixK",name2:"Никола Елинчич",roles:[15,16]},{name:"GoldenTritium",roles:[15,16]},{name:"Kael",roles:15},{name:"Lynn",roles:15},{name:"Merp",roles:15},{name:"philipebreaker",name2:"Philip",roles:15},{name:"Филлип Маршалл",roles:15},{name:"Phoebe",roles:15},{name:"Reda Kotob",roles:15},{name:"Saturnus",roles:[15,10]},{name:"SereKabii",roles:15},{name:"Sheer",roles:15},{name:"sirusi",name2:"Винисиус Оливейра Мартинс",roles:15},{name:"Spanosa",name2:"Джаред К.",roles:15},{name:"Sparticle999",roles:15},{name:"SpicyCrusader13",roles:[15,16]},{name:"Storm",roles:15},{name:"SzyszakS",roles:15},{name:"Tacitus",roles:15},{name:"Typh",roles:15},{name:"Vnge",name2:"Бэн Пэрриш",roles:[15,16]},{name:"Xemadus",name2:"Джонатан Гибсон",roles:15},{name:"Young Woo Joo",roles:15},{name:"Zipi",roles:15},{name:"about:blank",roles:16},{name:"ÆiOuF",roles:16},{name:"Akirious",roles:16},{name:"Anjinho01",roles:16},{name:"Anthios",roles:16},{name:"Aubrey Ark",roles:16},{name:"Auti",name2:"Лючия Толле",roles:16},{name:"Buck",roles:16},{name:"Barrin84",roles:16},{name:"Calmcat",roles:16},{name:"ChizuX",roles:16},{name:"Circle",roles:16},{name:"Crinkly Weasel",name2:"Аарьян Саравги",roles:16},{name:"Daniella",roles:16},{name:"DarthDie",name2:"Брайар Баузер",roles:16},{name:"ElPopote83",roles:16},{name:"Epsilon",name2:"Coolguystorm",roles:16},{name:"Firecracker",roles:16},{name:"Gaunter",roles:16},{name:"Gimmick",roles:16},{name:"HarrisL2",roles:16},{name:"Hellbach",name2:"Ашер Гюнтер",roles:16},{name:"hen-ben",name2:"Генри Элленберг",roles:16},{name:"ImpossibleSalsa",roles:16},{name:"JayM#1872",name2:"Джей Макги",roles:16},{name:"Johanniklas",name2:"Ян-Никлас Петерсен",roles:16},{name:"Джозеф Мичели",roles:16},{name:"kaislash",name2:"Lily",roles:16},{name:"Kirku",name2:"Фабиан Маковски",roles:16},{name:"Kirin",name2:"Arthur",roles:16},{name:"Klötzchen",roles:16},{name:"L5racer",roles:16},{name:"Marshmallow",roles:16},{name:"HyperionMike",name2:"Мийкаэл Сийтан",roles:16},{name:"Mirai",roles:16},{name:"Monoma",name2:"Ароман Руис",roles:16},{name:"Nani",roles:16},{name:"Neo",name2:"Joon",roles:16},{name:"netweak",roles:16},{name:"NiZeKiHo",name2:"DominusDane",roles:16},{name:"NotBrewst",name2:"Люк Леблан",roles:16},{name:"opdollar",name2:"Зейн Кул",roles:16},{name:"Pavlxiiv",roles:16},{name:"coffeeflake",roles:16},{name:"Razor",roles:16},{name:"Разван Серсел",roles:16},{name:"ReacTivity",roles:16},{name:"Reaxt",name2:"Реа Кёлер",roles:16},{name:"Ruins",roles:16},{name:"Rukimix",roles:16},{name:"shadowevil",roles:16},{name:"Skunky",name2:"Lukas",roles:16},{name:"Snaeky",roles:16},{name:"Socks",name2:"Ханна Покс",roles:16},{name:"Sweets the Alien",roles:16},{name:"Tables",roles:16},{name:"Тэйлор Ривз",roles:16},{name:"TheAhmex",roles:16},{name:"The Trust Melon",roles:16},{name:"Тим Уонг",roles:16},{name:"tragedt",name2:"Итан Маннинен",roles:16},{name:"tui sapo",roles:16},{name:"Valentine Clarissa Alanis Star Z",roles:16},{name:"vanadium_void",roles:16},{name:"X3N0_32",roles:16},{name:"ZylaKat",name2:"Кэтрин Гофорт-Харбин",roles:16},{name:"Jedall",roles:16},{name:"Lapis",roles:16},{name:"Guimora",roles:16},{name:"Neowo",name2:"Нео Митчелл",roles:16},{name:"AshTheDinosaur",roles:16},{name:"Annyeong1",name2:"Jeeho Yoon",roles:16},{name:"Dedzuka",roles:16},{name:"Something",name2:"Sushi",roles:16},{name:"Viola",roles:16},{name:"Luna van Yeethoven",roles:16},{name:"Lotocion",roles:16},{name:"Merlyn",roles:16},{name:"Tilly",roles:16},{name:"Sauer",name2:"Matt",roles:16},{name:"PtigaD",roles:16},{name:"Aleame",roles:16},{name:"GFADE00",roles:16},{name:"Amity Emily",roles:16},{name:"BsonHK",roles:16},{name:"Angel",roles:16},{name:"OhBrod",roles:16},{name:"sxy62106210",roles:16},{name:"cyxw",roles:16},{name:"Cosmic_Fyre",roles:16},{name:"The Cube Dude",roles:16},{name:"Tias",name2:"Тим Стэнглоу",roles:16},{name:"Rad Cooldude",roles:16},{name:"DataBitMC",roles:16},{name:"Pizzalover04",name2:"Zanpaulco",roles:16},{name:"Airakogi",roles:16},{name:"Googolplexo",name2:"Иван Кокарев",roles:14}]};function ea(e,t,i){return Notation.scientific.format(e,t,i)}function ta(e){return Notations.current.isPainful?ea(e,2):formatWithCommas("number"===typeof e?e.toFixed(0):e.toNumber().toFixed(0))}Zi.roles.count=Object.keys(Zi.roles).length;const ia={challenges:[{name:()=>`${Teresa.possessiveName} Reality`,activityToken:()=>Teresa.isRunning,resource:()=>Teresa.runCompleted?`${ea(player.antimatter,2,1)} AM`:`${ea(player.eternityPoints,2)} EP`},{name:()=>`${Effarig.possessiveName} Reality - ${Effarig.currentStageName}`,activityToken:()=>Effarig.isRunning,resource:()=>{switch(Effarig.currentStage){case EFFARIG_STAGES.INFINITY:return`${ea(player.antimatter,2,1)} AM`;case EFFARIG_STAGES.ETERNITY:return`${ea(player.infinityPoints,2)} IP`;case EFFARIG_STAGES.REALITY:default:return`${ea(player.eternityPoints,2)} EP`}}},{name:()=>`${Enslaved.possessiveName} Reality`,activityToken:()=>Enslaved.isRunning,resource:()=>`${ea(player.eternityPoints,2)} EP`},{name:()=>`${V.possessiveName} Reality`,activityToken:()=>V.isRunning,resource:()=>null},{name:()=>`${Ra.possessiveName} Reality`,activityToken:()=>Ra.isRunning,resource:()=>null},{name:()=>{const e=Laitela.maxAllowedDimension,t=e?`D${e} max`:"Final";return`${Laitela.possessiveName} Reality - ${t}`},activityToken:()=>Laitela.isRunning,resource:()=>`${formatPercents(player.celestials.laitela.entropy,2,2)} Entropy`},{name:()=>"Dilation",activityToken:()=>player.dilation.active,resource:()=>`${ea(player.antimatter,2,1)} AM`},{name:e=>`EC ${e}`,activityToken:()=>{if(!player.challenge.eternity.current)return!1;const e=player.challenge.eternity.current,t=EternityChallenge(e);return t.remainingCompletions?`${e}x${t.completions+1}`:e},resource:()=>`${ea(player.infinityPoints,2)} IP`},{name:e=>`IC ${e}`,activityToken:()=>player.challenge.infinity.current,resource:()=>`${ea(player.antimatter,2,1)} AM`},{name:e=>`NC ${e}`,activityToken:()=>player.challenge.normal.current,resource:()=>`${ea(player.antimatter,2,1)} AM`}],stages:[{name:"Pre-Infinity",hasReached:()=>!0,mainResource:()=>`${ea(player.antimatter,2,1)} AM`,resourceList:[()=>quantify("Boost",player.dimensionBoosts,0,0,ta),()=>quantify("Galaxy",player.galaxies,0,0,ta)]},{name:"Infinity",hasReached:()=>PlayerProgress.infinityUnlocked(),mainResource:()=>`${ea(player.infinityPoints,2)} IP`,resourceList:[()=>quantify("Infinity",player.infinities,0,0,ta)]},{name:"Broken Infinity",hasReached:()=>player.break,mainResource:()=>`${ea(player.infinityPoints,2)} IP`,resourceList:[()=>quantify("Infinity",player.infinities,2,0,ea)]},{name:"Eternity",hasReached:()=>PlayerProgress.eternityUnlocked(),mainResource:()=>`${ea(player.eternityPoints,2)} EP`,resourceList:[()=>quantify("Eternity",player.eternities,0,0,ta)]},{name:"Eternity",hasReached:()=>player.eternityChalls.eterc1>0,mainResource:()=>`${ea(player.eternityPoints,2)} EP`,resourceList:[()=>quantify("EC completion",Object.values(player.eternityChalls).reduce(((e,t)=>e+t),0),0,0,ta)]},{name:"Time Dilation",hasReached:()=>PlayerProgress.dilationUnlocked(),mainResource:()=>`${ea(player.eternityPoints,2)} EP`,resourceList:[()=>`${ea(player.dilation.dilatedTime,2,2)} DT`]},{name:"Reality",hasReached:()=>player.realities>0,mainResource:()=>`${ea(player.reality.realityMachines,2)} RM`,resourceList:[()=>quantify("Reality",player.realities,0,0,ta),()=>`Best Glyph Level: ${ta(player.records.bestReality.glyphLevel)}`]},{name:()=>Teresa.displayName,hasReached:()=>Teresa.isUnlocked,mainResource:()=>`${ea(player.reality.realityMachines,2)} RM`,resourceList:[()=>quantify("Reality",player.realities,0,0,ta),()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>`Poured: ${ea(player.celestials.teresa.pouredAmount,2)} RM`]},{name:()=>Effarig.displayName,hasReached:()=>TeresaUnlocks.effarig.isUnlocked,mainResource:()=>`${ea(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>quantify("Relic Shard",player.celestials.effarig.relicShards,2,0,ea)]},{name:()=>Enslaved.displayName,hasReached:()=>EffarigUnlock.eternity.isUnlocked,mainResource:()=>`${ea(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>`Charged: ${ea(TimeSpan.fromMilliseconds(player.celestials.enslaved.stored).totalYears,2)} years`]},{name:()=>V.displayName,hasReached:()=>Achievement(151).isUnlocked,mainResource:()=>`${ea(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>quantify("V-Achievement",player.celestials.v.runUnlocks.sum(),0,0,ta)]},{name:()=>Ra.displayName,hasReached:()=>VUnlocks.raUnlock.isUnlocked,mainResource:()=>`${ea(player.reality.realityMachines,2)} RM`,resourceList:[()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>`Ra Levels: ${Ra.pets.all.map((e=>ta(e.level))).join("/")}`]},{name:()=>Ra.displayName,hasReached:()=>MachineHandler.isIMUnlocked,mainResource:()=>`${ea(player.reality.realityMachines)} RM + ${ea(player.reality.imaginaryMachines,2)} iM`,resourceList:[()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>`Ra Levels: ${Ra.pets.all.map((e=>ta(e.level))).join("/")}`]},{name:()=>Laitela.displayName,hasReached:()=>Laitela.isUnlocked,mainResource:()=>`${ea(player.reality.realityMachines)} RM + ${ea(player.reality.imaginaryMachines,2)} iM`,resourceList:[()=>`Best GL: ${ta(player.records.bestReality.glyphLevel)}`,()=>quantify("Singularity",player.celestials.laitela.singularities,2,0,ea)]},{name:"Pelle",hasReached:()=>Pelle.isDoomed,mainResource:()=>quantify("Reality Shard",player.celestials.pelle.realityShards,2),resourceList:[()=>quantify("Remnant",player.celestials.pelle.remnants,2)]},{name:"END",hasReached:()=>GameEnd.endState>=END_STATE_MARKERS.GAME_END,mainResource:()=>"END Antimatter",resourceList:[()=>"Nothing remains."]}]};function aa(e,t,i){return Decimal.multiply(e,Decimal.pow(t,player.dilation.rebuyables[i]))}function na(e){return{id:e.id,cost:()=>aa(e.initialCost,e.increment,e.id),initialCost:e.initialCost,increment:e.increment,description:e.description,effect:()=>e.effect(player.dilation.rebuyables[e.id]),formatEffect:e.formatEffect,formatCost:e.formatCost,purchaseCap:e.purchaseCap,reachedCap:()=>player.dilation.rebuyables[e.id]>=e.purchaseCap,pelleOnly:Boolean(e.pelleOnly),rebuyable:!0}}const sa={dtGain:na({id:1,initialCost:1e4,increment:10,description:()=>SingularityMilestone.dilatedTimeFromSingularities.canBeApplied||Achievement(187).canBeApplied?`Множитель ${formatX(2*Effects.product(SingularityMilestone.dilatedTimeFromSingularities,Achievement(187)),2,2)} к производству Замедленного Времени`:"Удвоить производство Замедленного Времени",effect:e=>{const t=2*Effects.product(SingularityMilestone.dilatedTimeFromSingularities,Achievement(187));return Decimal.pow(t,e)},formatEffect:e=>{const t=SingularityMilestone.dilatedTimeFromSingularities.canBeApplied||Achievement(187).canBeApplied;return formatX(e,2,t?2:0)},formatCost:e=>format(e,2),purchaseCap:Number.MAX_VALUE}),galaxyThreshold:na({id:2,initialCost:1e6,increment:100,description:()=>Perk.bypassTGReset.isBought&&!Pelle.isDoomed?"Понизить наценку на Тахионные Галактики, но сбросить их":"Понизить наценку на Тахионные Галактики, но сбросить их и Замедленнное Время",effect:e=>e<38?Math.pow(.8,e):0,formatEffect:e=>{if(0===e)return`${formatX(getTachyonGalaxyMult(e),4,4)}`;const t=e===Math.pow(.8,37)?0:.8*e;return`${formatX(getTachyonGalaxyMult(e),4,4)} ➜\n        ${formatX(getTachyonGalaxyMult(t),4,4)}`},formatCost:e=>format(e,2),purchaseCap:38}),tachyonGain:na({id:3,initialCost:1e7,increment:20,description:"Утроить получение Тахионов",effect:e=>Pelle.isDoomed?v.D1.pow(e):v.D3.pow(e),formatEffect:e=>formatX(e,2),formatCost:e=>format(e,2),purchaseCap:Number.MAX_VALUE}),doubleGalaxies:{id:4,cost:5e6,description:()=>`Получать по две Тахионные Галактики вместо одной первые ${formatInt(500)} раз`,effect:2},tdMultReplicanti:{id:5,cost:1e9,description:()=>`Множитель Репликанти влияет на Измерения Времени с пониженным эффектом (${formatPow(.1,1,1)},\n        сверх ${formatX(v.E9000)} понижен до ${formatPow(.05,2,2)})`,effect:()=>{let e=.1*replicantiMult().pLog10();return e=e>9e3?9e3+.5*(e-9e3):e,Decimal.pow10(e)},formatEffect:e=>formatX(e,2,1)},ndMultDT:{id:6,cost:5e7,description:"Множитель к Измерениям Антиматерии в зависимости от количества Замедленного Времени, на который не влияет Замедление Времени",effect:()=>Currency.dilatedTime.value.pow(308).clampMin(1),formatEffect:e=>formatX(e,2,1)},ipMultDT:{id:7,cost:2e12,description:"Множитель к получению Очков Бесконечности в зависимости от количества Замедленного Времени",effect:()=>Currency.dilatedTime.value.pow(1e3).clampMin(1),formatEffect:e=>formatX(e,2,1),cap:()=>Effarig.eternityCap},timeStudySplit:{id:8,cost:1e10,description:"Вы можете свободно покупать Исследования Времени из разных путей на развилке измерений"},dilationPenalty:{id:9,cost:1e11,description:()=>`Увеличить степень эффекта Замедления до ${format(.7875,4,4)}`,effect:1.05},ttGenerator:{id:10,cost:1e15,description:()=>`Тахионы производят ${format(5e-5,5,5)} Теоремы Времени в секунду`,effect:()=>Currency.tachyonParticles.value.div(2e4),formatEffect:e=>`${format(e,2,1)}/с`},dtGainPelle:na({id:11,initialCost:1e14,increment:100,pelleOnly:!0,description:()=>`Множитель ${formatX(5)} к производству Замедленного Времени`,effect:e=>Decimal.pow(5,e),formatEffect:e=>formatX(e,2),formatCost:e=>format(e,2),purchaseCap:Number.MAX_VALUE}),galaxyMultiplier:na({id:12,initialCost:1e15,increment:1e3,pelleOnly:!0,description:"Множитель к получению Тахионных Галактик",effect:e=>e+1,formatEffect:e=>`${formatX(e,2)} ➜ ${formatX(e+1,2)}`,formatCost:e=>format(e,2),purchaseCap:Number.MAX_VALUE}),tickspeedPower:na({id:13,initialCost:1e16,increment:1e4,pelleOnly:!0,description:"Скорость тика возведена в степень",effect:e=>1+.03*e,formatEffect:e=>`${formatPow(e,2,2)} ➜ ${formatPow(e+.03,2,2)}`,formatCost:e=>format(e,2),purchaseCap:Number.MAX_VALUE}),galaxyThresholdPelle:{id:14,cost:1e45,pelleOnly:!0,description:"Наценка на Тахионные Галактики возведена в степень ⅓",effect:1/3},flatDilationMult:{id:15,cost:1e55,pelleOnly:!0,description:"Множитель к производству Замедленного Времени в зависимости от количества Очков Вечности",effect:()=>1e9**Math.min((Math.max(player.eternityPoints.log10()-1500,0)/2500)**1.2,1),formatEffect:e=>formatX(e,2,2)}},ra={autobuyerIPMult:{eternities:1,reward:"Разблокировать автоматику удвоителей Очков Бесконечности",pelleUseless:!0},keepAutobuyers:{eternities:2,reward:"Начинать с выполненными Обычными Испытаниями, разблокированной автоматикой Измерений Антиматерии и ускорителей и преодолённой Бесконечностью и сохранять улучшения автоматики"},autobuyerReplicantiGalaxy:{eternities:3,reward:"Разблокировать автоматику Галактик Репликанти"},keepInfinityUpgrades:{eternities:4,reward:"Начинать со всеми Улучшениями Бесконечности",givenByPelle:()=>PelleUpgrade.keepInfinityUpgrades.isBought,pelleUseless:!0},bigCrunchModes:{eternities:5,reward:"Разблокировать два новых режима автоматики Большого Сжатия"},autoEP:{eternities:6,reward:()=>{const e=getOfflineEPGain(TimeSpan.fromMinutes(1).totalMilliseconds),t=getEternitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,EternityMilestone.autoEternities.isReached).gt(0),i=getInfinitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,EternityMilestone.autoInfinities.isReached).gt(0);if(!player.options.offlineProgress)return"Этот Этап производил бы ОВ, но офлайн-прогресс отключён";const a=t||i?"Не действует":`Сейчас: ${format(e,2,2)} в минуту`,n=PlayerProgress.realityUnlocked()?"в текущей реальности ":"",s=PlayerProgress.seenAlteredSpeed()?"(по реальному времяисчислению) ":"";return`Производить ${formatPercents(.25)} от рекордного прироста Очков Вечности за время\n        ${s}${n}офлайн (${a})`},activeCondition:()=>player.options.offlineProgress?"Действует, только если оба других Этапа, производящих ресурсы офлайн, не действуют.":""},autoIC:{eternities:7,reward:"Каждое Испытание Бесконечности автоматически считается выполненнным,\n      как только вы его разблокируете. Автоматика Пожертования Измерений разблокирована всегда",pelleUseless:!0},keepBreakUpgrades:{eternities:8,reward:"Начинать со всеми Улучшениями Преодоления",givenByPelle:()=>PelleUpgrade.keepBreakInfinityUpgrades.isBought,pelleUseless:!0},autobuyMaxGalaxies:{eternities:9,reward:"Вы можете получать Галактики Антиматерии оптом"},unlockReplicanti:{eternities:10,reward:"Начинать с разблокированными Репликанти",givenByPelle:()=>PelleUpgrade.replicantiStayUnlocked.isBought,pelleUseless:!0},autobuyerID1:{eternities:11,reward:"Разблокировать автоматику 1-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID2:{eternities:12,reward:"Разблокировать автоматику 2-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID3:{eternities:13,reward:"Разблокировать автоматику 3-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID4:{eternities:14,reward:"Разблокировать автоматику 4-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID5:{eternities:15,reward:"Разблокировать автоматику 5-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID6:{eternities:16,reward:"Разблокировать автоматику 6-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID7:{eternities:17,reward:"Разблокировать автоматику 7-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autobuyerID8:{eternities:18,reward:"Разблокировать автоматику 8-х Измерений Бесконечности",givenByPelle:()=>PelleUpgrade.IDAutobuyers.isBought,pelleUseless:!0},autoUnlockID:{eternities:25,reward:"Измерения Бесконечности разблокируются автоматически"},unlockAllND:{eternities:30,reward:"Начинать со всеми Измерениями Антиматерии доступными к покупке"},replicantiNoReset:{eternities:40,reward:"При получении Галактик Репликанти ничего не сбрасывается, кроме Репликанти",pelleUseless:!0},autobuyerReplicantiChance:{eternities:50,reward:"Разблокировать автоматику Улучшения Репликанти, увеличивающего вероятность репликации",givenByPelle:()=>PelleUpgrade.replicantiAutobuyers.isBought,pelleUseless:!0},autobuyerReplicantiInterval:{eternities:60,reward:"Разблокировать автоматику Улучшения Репликанти, уменьшающего интервал репликации",givenByPelle:()=>PelleUpgrade.replicantiAutobuyers.isBought,pelleUseless:!0},autobuyerReplicantiMaxGalaxies:{eternities:80,reward:"Разблокировать автоматику Улучшения Репликанти, увеличивающего максимальное количество Галактик Репликанти",givenByPelle:()=>PelleUpgrade.replicantiAutobuyers.isBought,pelleUseless:!0},autobuyerEternity:{eternities:100,reward:"Разблокировать автоматику вечностей"},autoEternities:{eternities:200,reward:()=>{if(!player.options.offlineProgress)return"Этот Этап производил бы вечности, но офлайн-прогресс отключён";const e=getEternitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,player.eternities.gte(200)),t=PlayerProgress.seenAlteredSpeed()?" (по реальному времяисчислению)":"",i=PlayerProgress.realityUnlocked()?" в текущей реальности":"";return`Производить ${formatPercents(.5)} от рекордного прироста вечностей за время${t}${i} `+(e.gt(0)?`(Сейчас: ${format(e,2,2)} в час)`:"(Не действует)")},activeCondition:()=>player.options.offlineProgress?`Действует, только если вы вне всех испытаний, и автоматика вечности включена и выставлена на ${formatInt(0)} ОВ.\n        Все совершённые вечности в вычислениях для этого Этапа считаются длящимися хотя бы ${formatInt(33)}мс.`:"",pelleUseless:!0},autoInfinities:{eternities:1e3,reward:()=>{if(!player.options.offlineProgress)return"Этот Этап производил бы бесконечности, но офлайн-прогресс отключён";const e=getInfinitiedMilestoneReward(TimeSpan.fromHours(1).totalMilliseconds,player.eternities.gte(1e3)),t=PlayerProgress.seenAlteredSpeed()?" (по реальному времяисчислению)":"";return`Производить ${formatPercents(.5)} от рекордного прироста бесконечностей за время${t} в текущей вечности `+(e.gt(0)?`(Сейчас: ${format(e,2,2)} в час)`:"(Не действует)")},activeCondition:()=>player.options.offlineProgress?`Действует, только если вы вне всех Обычных Испытаний, всех Испытаний Бесконечности, ИспВ4 и ИспВ12,\n        автоматика Большого Сжатия включена, действует в режиме времени и выставлена на ${formatInt(5)} секунд или меньше,\n        и автоматика вечности отключена.`:"",pelleUseless:!0}},oa={idMultEP:{id:1,cost:5,description:"Множитель к Измерениям Бесконечности в зависимости от количества Очков Вечности",effect:()=>Currency.eternityPoints.value.plus(1),formatEffect:e=>formatX(e,2,1)},idMultEternities:{id:2,cost:10,description:"Множитель к Измерениям Бесконечности в зависимости от количества вечностей",effect(){const e=Math.log4,t=Currency.eternities.value.clampMax(1e5).toNumber(),i=t/200+1,a=Math.log(2*t+1)/e,n=Math.pow(i,a),s=Currency.eternities.value.sub(1e5),r=s.divide(200).plus(1),o=s.times(2).plus(1).log(Math.E)/e,l=r.times(o).clampMin(1);return l.times(n)},formatEffect:e=>formatX(e,2,1)},idMultICRecords:{id:3,cost:5e4,description:"Множитель к Измерениям Бесконечности в зависимости от суммы рекордов Испытаний Бесконечности",effect:()=>v.D2.pow(30/Math.clampMin(Time.infinityChallengeSum.totalSeconds,.1)),cap:v.D2P30D0_61,formatEffect:e=>formatX(e,2,1)},tdMultAchs:{id:4,cost:1e16,description:"Множитель достижений влияет на Измерения Времени",effect:()=>Achievements.power,formatEffect:e=>formatX(e,2,1)},tdMultTheorems:{id:5,cost:1e40,description:"Множитель к Измерениям Времени в зависимости от количества непотраченных Теорем Времени",effect:()=>Decimal.max(Currency.timeTheorems.value,1),formatEffect:e=>formatX(e,2,1)},tdMultRealTime:{id:6,cost:1e50,description:()=>Pelle.isDoomed?"Множитель к Измерениям Времени в зависимости от времени, прошедшего с момента последнего армагеддона":"Множитель к Измерениям Времени в зависимости от времени игры",effect:()=>Pelle.isDoomed?1+Time.thisReality.totalDays:Math.max(Time.totalTimePlayed.totalDays,1),formatEffect:e=>formatX(e,2,1)}},la=[{id:1,description:"Разблокировать Замедление Времени",cost:5e3,requirement:()=>{const e=Currency.timeTheorems.max.gte(TimeStudy.dilation.totalTimeTheoremRequirement);if(Ra.unlocks.autoUnlockDilation.canBeApplied&&e&&!isInCelestialReality()&&!Pelle.isDoomed)return!0;const t=[231,232,233,234].some((e=>TimeStudy(e).isBought));if(Perk.bypassECDilation.canBeApplied)return t;const i=EternityChallenge(11).isFullyCompleted&&EternityChallenge(12).isFullyCompleted;return t&&i&&e}},{id:2,description:"Разблокировать 5-е Измерение Времени",cost:1e6,requirement:()=>PlayerProgress.dilationUnlocked()},{id:3,description:"Разблокировать 6-е Измерение Времени",cost:1e7,requirement:()=>TimeStudy.timeDimension(5).isBought},{id:4,description:"Разблокировать 7-е Измерение Времени",cost:1e8,requirement:()=>TimeStudy.timeDimension(6).isBought},{id:5,description:"Разблокировать 8-е Измерение Времени",cost:1e9,requirement:()=>TimeStudy.timeDimension(7).isBought},{id:6,description:()=>Pelle.isDoomed?"Нельзя выйти из Обречённой Реальности!":"Разблокировать реальность",cost:1,requirement:()=>TimeStudy.timeDimension(8).isBought&&player.records.thisReality.maxEP.exponent>=4e3&&(Perk.firstPerk.isBought||Achievements.preReality.every((e=>e.isUnlocked)))&&!Pelle.isDoomed}],ca=[{id:1,cost:30,requirement:[171],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"вечностей",current:()=>Currency.eternities.value,required:e=>new Decimal(2e4+2e4*Math.min(e,Enslaved.isRunning?999:4)),formatValue:formatInt}},{id:2,cost:35,requirement:[171],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"ускорителей получено от Осколков Времени",current:()=>player.totalTickGained,required:e=>1300+150*Math.min(e,4),formatValue:formatInt}},{id:3,cost:40,requirement:[171],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"8-х Измерений Антиматерии",current:()=>AntimatterDimension(8).totalAmount,required:e=>new Decimal(17300+1250*Math.min(e,4)),formatValue:e=>formatInt(Math.floor(e.toNumber()))}},{id:4,cost:70,requirement:[143],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"бесконечностей",current:()=>Currency.infinitiesTotal.value,required:e=>new Decimal(1e8+25e6*Math.min(e,4)),formatValue:e=>formatInt(Math.floor(e.toNumber()))}},{id:5,cost:130,requirement:[42],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"Галактика",resource:" Антиматерии",current:()=>player.galaxies,required:e=>160+14*Math.min(e,4),formatValue:formatInt}},{id:6,cost:85,requirement:[121],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"Галактик Репликанти",current:()=>player.replicanti.galaxies,required:e=>40+5*Math.min(e,4),formatValue:formatInt}},{id:7,cost:115,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"антиматерии",current:()=>Currency.antimatter.value,required:e=>v.E300000.pow(Math.min(e,4)).times(v.E500000),formatValue:e=>format(e)}},{id:8,cost:115,requirement:[123],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"Очков Бесконечности",current:()=>Currency.infinityPoints.value,required:e=>v.E1000.pow(Math.min(e,4)).times(v.E4000),formatValue:e=>format(e)}},{id:9,cost:415,requirement:[151],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"Силы Бесконечности",current:()=>Currency.infinityPower.value,required:e=>v.E2000.pow(Math.min(e,4)).times(v.E17500),formatValue:e=>format(e)}},{id:10,cost:550,requirement:[181],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{word:"",resource:"Очков Вечности",current:()=>Currency.eternityPoints.value,required:e=>v.E20.pow(Math.min(e,4)).times(v.E100),formatValue:e=>format(e)}},{id:11,cost:1,requirement:[231,232],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{path:"Антиматерии",forbiddenStudies:[72,73]}},{id:12,cost:1,requirement:[233,234],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,secondary:{path:"Времени",forbiddenStudies:[71,72]}}],ua=e=>{const t=10*e+1,i=Math.min(Math.pow(t,.125),500);return v.D15.pow(Math.log(t)*i)},da=()=>{const e=Effarig.isRunning&&Effarig.currentStage===EFFARIG_STAGES.ETERNITY,t=Perk.studyPassive.isBought?1e50:1e25;return e?Math.min(t,Effarig.eternityCap.toNumber()):t},ha=[{id:11,cost:1,requirement:[],reqType:TS_REQUIREMENT_TYPE.ALL,description:"Множитель к 1-му Измерению Времени в зависимости от скорости тика",effect:()=>{const e=Tickspeed.current.dividedBy(1e3),t=e.pow(.005).times(.95),i=e.pow(3e-4).times(.05);return t.plus(i).reciprocate()},cap:v.E2500,formatEffect:e=>formatX(e,2,1)},{id:21,cost:3,requirement:[11],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Улучшить формулу множителя Репликанти",effect:()=>Replicanti.amount.pow(.032),formatEffect:e=>{const t=Decimal.pow(Decimal.log2(Replicanti.amount.clampMin(1)),2),i=t.plus(e);return formatX(i.div(t).clampMin(1),2,2)}},{id:22,cost:2,requirement:[11],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Понизить ограничение на интервал репликации по умолчанию с ${formatInt(50)}мс до ${formatInt(1)}мс`,effect:1},{id:31,cost:3,requirement:[21],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Все множители, зависящие от количества бесконечностей, возведены в четвёртую степень",effect:4},{id:32,cost:2,requirement:[22],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к получению бесконечностей в зависимости от количества Расширений Измерений",effect:()=>Math.max(DimBoost.totalBoosts,1),formatEffect:e=>formatX(e,2)},{id:33,cost:2,requirement:[22],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Сохранять половину Галактик Репликанти на Большом Сжатии (складывается с наградой за достижение 95)"},{id:41,cost:4,requirement:[31],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(v.D1_2,1,1)} к получению Очков Бесконечности за каждую галактику`,effect:()=>v.D1_2.pow(Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies),formatEffect:e=>formatX(e,2,1)},{id:42,cost:6,requirement:[32],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Понизить наценку на Галактики Антиматерии с ${formatInt(60)} до ${formatInt(52)} 8-х Измерений Антиматерии`,effect:52},{id:51,cost:3,requirement:[41,42],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(1e15)} к получению Очков Бесконечности`,effect:1e15},{id:61,cost:3,requirement:[51],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(15)} к получению Очков Вечности`,effect:15},{id:62,cost:3,requirement:[42,()=>Perk.bypassEC5Lock.isBought||EternityChallenge(5).completions>0],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>`Множитель ${formatX(3)} к скорости репликации`,effect:3},{id:71,cost:4,requirement:[61,()=>Perk.studyECRequirement.isBought||!EternityChallenge(12).isUnlocked],reqType:TS_REQUIREMENT_TYPE.DIMENSION_PATH,description:"Множитель Пожертвования Измерений влияет на все Измерения Антиматерии с ослабленным эффектом",effect:()=>Sacrifice.totalBoost.pow(.25).clampMin(1),cap:v.E210000,formatEffect:e=>formatX(e,2,1)},{id:72,cost:6,requirement:[61,()=>Perk.studyECRequirement.isBought||!EternityChallenge(11).isUnlocked&&!EternityChallenge(12).isUnlocked],reqType:TS_REQUIREMENT_TYPE.DIMENSION_PATH,description:"Множитель Пожертвования Измерений влияет на 4-е Измерение Бесконечности с ослабленным эффектом",effect:()=>Sacrifice.totalBoost.pow(.04).clampMin(1),cap:v.E30000,formatEffect:e=>formatX(e,2,1)},{id:73,cost:5,requirement:[61,()=>Perk.studyECRequirement.isBought||!EternityChallenge(11).isUnlocked],reqType:TS_REQUIREMENT_TYPE.DIMENSION_PATH,description:"Множитель Пожертвования Измерений влияет на 3-е Измерение Времени с ослабленным эффектом",effect:()=>Sacrifice.totalBoost.pow(.005).clampMin(1),cap:v.E1300,formatEffect:e=>formatX(e,2,1)},{id:81,cost:4,requirement:[71],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Увеличить множитель Расширения Измерений по умолчанию до ${formatX(10)}`,effect:10},{id:82,cost:6,requirement:[72],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к Измерениям Бесконечности в зависимости от количества Расширений Измерений",effect:()=>v.D1_0000109.pow(Math.pow(DimBoost.totalBoosts,2)),cap:v.E1E7,formatEffect:e=>formatX(e,2,1)},{id:83,cost:5,requirement:[73],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель ко множителю Расширения Измерений в зависимости от количества ускорителей, полученных от Осколков Времени",effect:()=>v.D1_0004.pow(player.totalTickGained),cap:v.E30,formatEffect:e=>formatX(e,2,1)},{id:91,cost:4,requirement:[81],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к Измерениям Антиматерии в зависимости от длительности текущей вечности",effect:()=>Decimal.pow10(15*Math.min(Time.thisEternity.totalMinutes,20)),cap:v.E300,formatEffect:e=>formatX(e,2,1)},{id:92,cost:5,requirement:[82],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к Измерениям Бесконечности в зависимости от рекордного времени вечности",effect:()=>v.D2.pow(60/Math.max(Time.bestEternity.totalSeconds,2)),cap:v.C2P30,formatEffect:e=>formatX(e,2,1)},{id:93,cost:7,requirement:[83],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к Измерениям Времени в зависимости от количества ускорителей, полученных от Осколков Времени",effect:()=>Decimal.pow(player.totalTickGained,.25).clampMin(1),formatEffect:e=>formatX(e,2,1)},{id:101,cost:4,requirement:[91],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к Измерениям Антиматерии, равный количеству Репликанти",effect:()=>Decimal.max(Replicanti.amount,1),formatEffect:e=>formatX(e,2,1)},{id:102,cost:6,requirement:[92],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель ко множителю Репликанти в зависимости от количества Галактик Репликанти",effect:()=>v.D5.pow(player.replicanti.galaxies),formatEffect:e=>formatX(e,2,1)},{id:103,cost:6,requirement:[93],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к Измерениям Времени в зависимости от количества Галактик Репликанти",effect:()=>Math.max(player.replicanti.galaxies,1),formatEffect:e=>formatX(e,2,0)},{id:111,cost:12,requirement:[101,102,103],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Получение Очков Бесконечности по умолчанию возведено в степень ${formatFloat(308/285,4,4)}`,effect:285},{id:121,cost:9,STCost:2,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[122,123],description:()=>Perk.studyActiveEP.isBought?`Множитель ${formatX(50)} к получению Очков Вечности`:"Множитель к получению Очков Вечности в зависимости от суммарной длительности \n      десяти прошлых вечностей"+(PlayerProgress.seenAlteredSpeed()?" (по реальному времяисчислению)":""),effect:()=>Perk.studyActiveEP.isBought?50:Math.clamp(250/Player.averageRealTimePerEternity,1,50),formatEffect:e=>Perk.studyActiveEP.isBought?void 0:formatX(e,1,1),cap:50},{id:122,cost:9,STCost:2,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[121,123],description:()=>Perk.studyPassive.isBought?`Множитель ${formatX(50)} к получению Очков Вечности`:`Множитель ${formatX(35)} к получению Очков Вечности`,effect:()=>Perk.studyPassive.isBought?50:35},{id:123,cost:9,STCost:2,requirement:[111],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[121,122],description:"Множитель к получению Очков Вечности в зависимости от длительности текущей вечности",effect:()=>{const e=TimeSpan.fromMinutes(Perk.studyIdleEP.effectOrDefault(0)),t=Time.thisEternity.plus(e).totalSeconds;return Math.sqrt(1.39*t)},formatEffect:e=>formatX(e,1,1)},{id:131,cost:5,STCost:8,requirement:[121],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[132,133],description:()=>Achievement(138).isUnlocked?`Максимальное количество Галактик Репликанти на ${formatPercents(.5)} выше`:`Максимальное количество Галактик Репликанти на ${formatPercents(.5)} выше, но их автоматика отключена`,effect:()=>Math.floor(player.replicanti.boughtGalaxyCap/2)},{id:132,cost:5,STCost:8,requirement:[122],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[131,133],description:()=>Pelle.isDoomed?`Галактики Репликанти на ${formatPercents(.4)} сильнее`:`Галактики Репликанти на ${formatPercents(.4)} сильнее. Множитель\n        ${Perk.studyPassive.isBought?formatX(3):formatX(1.5,1,1)} к скорости репликации`,effect:.4},{id:133,cost:5,STCost:8,requirement:[123],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[131,132],description:()=>Achievement(138).isUnlocked?`Галактики Репликанти на ${formatPercents(.5)} сильнее`:`Галактики Репликанти на ${formatPercents(.5)} сильнее, но репликация в ${format(10)} раз медленнее, если у вас менее ${format(Number.MAX_VALUE,2)} Репликанти`,effect:.5},{id:141,cost:4,STCost:2,requirement:[131],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[142,143],description:()=>Perk.studyActiveEP.isBought?`Множитель ${formatX(v.E45)} к получению Очков Бесконечности`:"Множитель к получению Очков Бесконечности, который непрерывно убывает, но восстанавливается на бесконечности",effect:()=>Perk.studyActiveEP.isBought?v.E45:v.E45.divide(ua(Time.thisInfinity.totalSeconds)).clampMin(1),formatEffect:e=>Perk.studyActiveEP.isBought?void 0:formatX(e,2,1)},{id:142,cost:4,STCost:2,requirement:[132],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[141,143],description:()=>`Множитель ${formatX(da())} к получению Очков Бесконечности`,effect:da,cap:()=>void 0===Effarig.eternityCap?void 0:Effarig.eternityCap.toNumber()},{id:143,cost:4,STCost:2,requirement:[133],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[141,142],description:"Множитель к получению Очков Бесконечности в зависимости от длительности текущей бесконечности",effect:()=>{const e=TimeSpan.fromMinutes(Perk.studyIdleEP.effectOrDefault(0)),t=Time.thisInfinity.plus(e).totalSeconds;return ua(t)},formatEffect:e=>formatX(e,2,1),cap:()=>Effarig.eternityCap},{id:151,cost:8,requirement:[141,142,143],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(1e4)} ко всем Измерениям Времени`,effect:1e4},{id:161,cost:7,requirement:[151],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(v.E616)} ко всем Измерениям Антиматерии`,effect:()=>v.E616},{id:162,cost:7,requirement:[151],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(1e11)} ко всем Измерениям Бесконечности`,effect:1e11},{id:171,cost:15,requirement:[161,162],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Понизить наценку на ускорители, получаемые от Осколков Времени, с\n      ${formatX(1.33,0,2)} до ${formatX(1.25,0,2)}`,effect:()=>TS171_MULTIPLIER},{id:181,cost:200,requirement:[171,()=>EternityChallenge(1).completions>0||Perk.bypassEC1Lock.isBought,()=>EternityChallenge(2).completions>0||Perk.bypassEC2Lock.isBought,()=>EternityChallenge(3).completions>0||Perk.bypassEC3Lock.isBought],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>`Ежесекундно вы получаете ${formatPercents(.01)} от количества Очков Бесконечности, которое вы могли бы получить при Большом Сжатии`,effect:()=>gainedInfinityPoints().times(Time.deltaTime/100).timesEffectOf(Ra.unlocks.continuousTTBoost.effects.autoPrestige)},{id:191,cost:400,requirement:[181,()=>EternityChallenge(10).completions>0],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>`На вечности вы навсегда сохраняете ${formatPercents(.05)}\n    бесконечностей`,effect:()=>Currency.infinities.value.times(.05).floor()},{id:192,cost:730,requirement:[181,()=>EternityChallenge(10).completions>0,()=>!Enslaved.isRunning],reqType:TS_REQUIREMENT_TYPE.ALL,description:()=>Enslaved.isRunning?"В этой Реальности недостаточно места":`Снять ограничение в ${format(replicantiCap(),2,1)} Репликанти (после него действует мягкое ограничение на скорость репликации)`},{id:193,cost:300,requirement:[181,()=>EternityChallenge(10).completions>0],reqType:TS_REQUIREMENT_TYPE.ALL,description:"Множитель к Измерениям Антиматерии в зависимости от количества вечностей",effect:()=>v.E13000.pow(Currency.eternities.value.div(1e6).clampMax(1)),cap:v.E13000,formatEffect:e=>formatX(e,2,1)},{id:201,cost:900,requirement:[192],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Вы можете выбрать до двух путей на развилке измерений"},{id:211,cost:120,requirement:[191],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Понизить наценку на Расширения Измерений с ${formatInt(15)} до ${formatInt(10)} 8-х Измерений Антиматерии`,effect:5},{id:212,cost:150,requirement:[191],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Галактики сильнее в зависимости от количества Осколков Времени",effect:()=>Math.pow(Currency.timeShards.value.clampMin(2).log2(),.005),cap:1.1,formatEffect:e=>`на ${formatPercents(e-1,3)} сильнее`},{id:213,cost:200,requirement:[193],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:()=>`Множитель ${formatX(20)} к скорости репликации`,effect:20},{id:214,cost:120,requirement:[193],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,description:"Множитель к 8-му Измерению Антиматерии в зависимости от множителя Пожертвования Измерений",effect:()=>{const e=Sacrifice.totalBoost,t=e.pow(7.6).clampMaxExponent(44e3),i=e.pow(1.05).clampMaxExponent(12e4);return t.times(i)},cap:v.E164000,formatEffect:e=>formatX(e,2,1)},{id:221,cost:900,STCost:4,requirement:[211],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[222],description:"Множитель к Измерениям Времени в зависимости от количества Расширений Измерений",effect:()=>v.D1_0025.pow(DimBoost.totalBoosts).pow(TimeStudy(301).isBought?TimeStudy(231).effectValue:1),formatEffect:e=>formatX(e,2,1)},{id:222,cost:900,STCost:4,requirement:[211],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[221],description:()=>`Понизить наценку на Расширения Измерений с ${formatInt(10)} до ${formatInt(8)} 8-х Измерений Антиматерии`,effect:2},{id:223,cost:900,STCost:4,requirement:[212],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[224],description:()=>`Наценка на Далёкие Галактики начинается на ${formatInt(7)} галактик позже`,effect:7},{id:224,cost:900,STCost:4,requirement:[212],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[223],description(){const e=TimeStudy(224).effectValue;return`Наценка на Далёкие Галактики начинается на ${quantifyInt("галактику",e)} позже\n        (на одну за каждые ${formatInt(2e3)} Расширений)`},effect:()=>Math.floor(DimBoost.totalBoosts/2e3)},{id:225,cost:900,STCost:4,requirement:[213],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[226],description:"Получать дополнительные Галактики Репликанти в зависимости от количества Репликанти",effect:()=>Math.floor(Replicanti.amount.exponent/1e3),formatEffect:e=>`+${formatInt(e)} ГР`},{id:226,cost:900,STCost:4,requirement:[213],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[225],description:"Получать дополнительные Галактики Репликанти в зависимости от их максимального количества",effect:()=>Math.floor(player.replicanti.boughtGalaxyCap/15),formatEffect:e=>`+${formatInt(e)} ГР`},{id:227,cost:900,STCost:4,requirement:[214],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[228],description:"Множитель к 4-му Измерению Времени в зависимости от множителя Пожертвования Измерений",effect:()=>Math.max(Math.pow(Sacrifice.totalBoost.pLog10(),10),1),formatEffect:e=>formatX(e,2,2)},{id:228,cost:900,STCost:4,requirement:[214],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[227],description:()=>`Пожертвование Измерений сильнее:\n      ${Sacrifice.getSacrificeDescription({TimeStudy228:!1})} ➜\n      ${Sacrifice.getSacrificeDescription({TimeStudy228:!0})}`,effect:.2},{id:231,cost:500,STCost:5,requirement:[221,222],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[232],description:"Множитель ко множителю Расширения Измерений в зависимости от их количества",effect:()=>Decimal.pow(DimBoost.totalBoosts,.3).clampMin(1),formatEffect:e=>formatX(e,2,2)},{id:232,cost:500,STCost:5,requirement:[223,224],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[231],description:"Галактики сильнее в зависимости от количества Галактик Антиматерии",effect:()=>Math.pow(1+player.galaxies/1e3,.2),formatEffect:e=>`на ${formatPercents(e-1,3)} сильнее`},{id:233,cost:500,STCost:5,requirement:[225,226],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[234],description:"Улучшение Репликанти, увеличивающее максимальное количество Галактик Репликанти, дешевле в зависимости от количества Репликанти",effect:()=>Replicanti.amount.pow(.3),formatEffect:e=>`в ${format(e,1,2)} раз`},{id:234,cost:500,STCost:5,requirement:[227,228],reqType:TS_REQUIREMENT_TYPE.AT_LEAST_ONE,requiresST:[233],description:"Множитель Пожертвования Измерений влияет на 1-е Измерение Антиматерии",effect:()=>Sacrifice.totalBoost},{id:301,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=1,221,222,231],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[221,222,231],description:"Эффект Исследования Времени 221 возведён в степень эффекта Исследования Времени 231",unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=1},{id:302,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=2,223,224,232],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[223,224,232],description:()=>`Наценка на Далёкие Галактики начинается на ${formatInt(3e3)} галактик позже`,effect:3e3,unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=2},{id:303,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=3,225,226,233],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[225,226,233],description:()=>`Получать на ${formatPercents(.5)} больше дополнительных Галактик Репликанти`,effect:1.5,unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=3},{id:304,cost:0,STCost:12,requirement:[()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=4,227,228,234],reqType:TS_REQUIREMENT_TYPE.ALL,requiresST:[227,228,234],description:"Множитель Пожертвования Измерений возведён в квадрат",effect:2,unlocked:()=>Ra.unlocks.unlockHardV.effectOrDefault(0)>=4}],pa={dilation:sa,milestones:ra,timeStudies:{dilation:la,ec:ca,normal:ha},upgrades:oa},ma={tabs:[{name:"Это окно",info:()=>"\nДобро пожаловать в помощь по игре!\n<br>\n<br>\nЭто окно содержит подробное объяснение всего контента в игре. По мере разблокировки новых механик вам будут становится\nдоступными соответствующие страницы помощи по игре. Если у вас возникнут вопросы о сути какой-то механики в игре, вы\nнайдёте объяснение здесь. \n<br>\n<br>\nИзначально при открытии помощи по игре открывается эта страница. С тех пор как вы впервые получаете Расширение Измерений,\nпри открытии помощи по игре открывается та страница, которая наиболее актуальна для контента, содержащегося в вашей\nтекущей вкладке, если такая страница существует.\n",isUnlocked:()=>!0,tags:["помощь"],tab:""},{name:"Ваше сохранение",info:()=>`\nДанные текущего состояния игры хранятся на вашем компьютере в данных браузера. Это значит, что при очищении кэша или\nфайлов cookie вашего браузера ваше сохранение будет удалено. В частности, если вы играете в режиме инкогнито, весь ваш\nпрогресс пропадёт при закрытии игры. Кроме того, если вы откроете игру в другом браузере или на другом устройстве, вы не\nнайдёте там своё сохранение.\n<br>\n<br>\nВы можете перемещать сохранения между браузерами и устройствами, используя экспорт. Опция "Экспортировать сохранение"\nкопирует в буфер обмена <i>очень</i> длинную на вид случайную строку. Она содержит данные текущего состояния игры,\nкоторые вы можете загрузить в игру, используя импорт. Чтобы импорт сохранения прошёл успешно, необходимо всё сохранение\nцеликом, иначе игра не распознает его. Будьте внимательны: некоторые приложения для передачи текста могут отрезать часть\nсохранения, если вы используете их для перемещения вашего сохранения с одного устройства на другое.\n<br>\n<br>\nДопустимое сохранение должно начинаться с символов <b>${GameSaveSerializer.startingString.savefile}</b> и заканчиваться\nсимволами <b>${GameSaveSerializer.endingString.savefile}</b>. Сохранения, экспортированные до выхода в свет реальности,\nвместо этого начинаются с символов <b>eyJ</b> и заканчиваются символами <b>In19</b>, <b>fX0=</b> или <b>fQ==</b>.\nЕсли ваше сохранение не удовлетворяет ни одному из этих форматов, то, вероятно, оно было обрезано, и импортировать его\nне удастся. Импортировать и экспортировать сохранения можно не только через буфер обмена, но и в виде текстовых файлов.\n<br>\n<br>\nВ игре существует три слота для сохранений, доступных по кнопке "Выбрать сохранение". В общем и целом три сохранения,\nсодержащиеся в них, полностью независимы. При импорте замещается только одно из них. <b>Однако все они будут удалены\nпри очистке данных браузера.</b>\n<br>\n<br>\nИгра автоматически периодически сохраняется, по умолчанию - раз в ${formatInt(30)} секунд. Помните об этом, когда\nзакрываете игру - то, что вы сделаете непосредственно, перед тем как закрыть игру, может не сохраниться, если вы не\nдождётесь автоматического сохранения или не сохраните игру вручную. Интервал автоматического сохранения можно изменить;\nвремя, прошедшее с момента последнего сохранения, отображено в левом нижнем углу экрана.\n<br>\n<br>\nПериодически игра также автоматически делает резервные сохранения, которые доступны по кнопке "Раскрыть меню автоматических\nрезервных сохранений". Их можно импортировать, если вы хотите отменить какое-то действие.\n<br>\n<br>\nВы также можете в любой момент сбросить своё сохранение по кнопке "СБРОСИТЬ ЭТО СОХРАНЕНИЕ". Вам будет предолжено ввести\nфразу, подтверждающую, что вы намеренно сбрасываете сохранение. Сброшено будет только текущее сохранение, другие два\nостанутся нетронуты. <b>Полный сброс сохранения необратим, не даёт никаких бонусов и не разблокирует ничего секретного.</b>\n`,isUnlocked:()=>!0,tags:["сохранение","импорт","экспорт","сброс"],tab:"options/saving"},{name:"Внешний вид",info:()=>'\nВ игре существует два интерфейса - Классический, максимально сохраняющий старый дизайн игры до выхода в свет реальности,\nи Современный, придерживающийся более современных принципов дизайна. Кроме того, игра имеет разные темы, на которых она\nвыглядит совершенно по-разному. Есть секретные темы, они разблокируются путём импорта их названий вместо сохранения.\nВсе темы поддерживаются обоими интерфейсами.\n<br>\n<br>\nВсе числа в игре по умолчанию отображаются в Смешанной научной нотации, но существует и множество других нотаций, доступных\nпо кнопке "Нотация". Большинство этих нотаций шуточные, форматирующие числа так, что текст вываливается за края полей,\nв которых он содержится - это не ошибка. Также вы можете настроить отображение больших порядков чисел по кнопке\n"Раскрыть настройки записи порядка", однако изменение этих настроек также может привести к тому, что текст будет выглядеть странно.\n<br>\n<br>\nМногие события в игре вызывают анимации на весь экран или всплывание окон подтверждения. Большинство этих анимаций и\nподтверждений могут быть отключены по отдельности во вкладке "Настройки", но, как правило, такая возможность появляется,\nтолько после того как вы просмотрите данные анимацию или подтверждение хотя бы один раз.\n',isUnlocked:()=>!0,tags:["внешний","вид","интерфейс","тема","нотация","пробел","порядок","анимация","подтверждение","классический","современный"],tab:"options/visual"},{name:"Офлайн-прогресс",info:()=>`\nВ "Измерениях Антиматерии" есть система, которая при открытии игры симулирует прогресс, который вы получили бы, если бы\nигра была открыта всё то время, когда она была закрыта. Эта симуляция не совсем точная, так как игра слишком сложна\nматематически, чтобы симулировать её с абсолютной точностью за разумное время. Завершив симулирование, игра показывает\nвам окно с информацией о том, какие важные параметры изменились и на сколько.\n<br>\n<br>\nЕсли оставить игру открытой, но остановить вкладку с ней, время бездействия вкладки также будет симулировано как офлайн-прогресс.\nПоскольку разные устройства по-разному обрабатывают эту ситуацию, подробное симулирование этого времени может оказаться\nнежелательным. В таком случае вы можете выключить его во вкладке "Настройки", и игра будет симулировать это время одним тиком.\n<br>\n<br>\nВсё в игре обновляется раз в тик - все измерения и другие ресурсы производят по одной единице ресурса, вся автоматика\nсрабатывает единожды, значения всех множителей и других параметров обновляются, и, наконец, обновляется интерфейс. По\nумолчанию игра рассчитывает ${formatInt(20)} тиков в секунду, но это можно изменить во вкладке "Настройки". Сейчас игра\nрассчитывает ${format(1e3/player.options.updateRate,2,1)} тика в секунду, хотя задержки и особенности структуры\nкода игры приводят к тому, что длительность тиков варьируется в диапазоне шириной в несколько миллисекунд.\n<br>\n<br>\nВо время симуляции офлайн-прогресса каждый тик симулирует такое количество времени, чтобы в сумме симулировать ровно\nстолько времени, сколько вы отсутствовали в игре. Например, при ${formatInt(1e3)} офлайн-тиков, если вы отстутствовали\nв игре в течение часа, то каждый тик симулирует ${format(3.6,1,1)} секунды прогресса. Такая неточность, как правило,\nне критична, так как большинство ресурсов всё равно производятся линейно. Однако автоматика сильно страдает - в рассмотренной\nситуации она фактически срабатывает лишь раз в ${format(3.6,1,1)} секунды, и в некоторых случаях это может сильно\nповлиять на прогресс.\n<br>\n<br>\n${player.blackHole[0].unlocked?"<b>Взаимодействие Чёрной Дыры с офлайн-прогрессом:</b> при симулировании офлайн-прогресса время разбивается на\n      тики равной длительности по <i>игровому</i> времяисчислению. Поэтому при симулировании может показаться, что\n      Чёрная Дыра действует гораздо большую долю времени, чем на самом деле, но игра симулирует фазы действия Чёрной\n      Дыры подробнее, так как они дают гораздо больше производства за реальное время. Такое поведение игры благоприятствует\n      вам по сравнению с симулированием прогресса с разбиением на тики равной длительности по реальному времяисчислению.\n      <br>\n      <br>":""}\nКоличество офлайн-тиков можно менять в диапазоне от ${formatInt(500)} до ${formatInt(v.E6)}. Чем оно больше, тем симулирование\nофлайн-прогресса дольше, но в то же время точнее. Тик может симулировать не более одного дня прогресса, так что если вы\nочень долго не были в игре и у вас низкое количество офлайн-тиков, вы можете потерять часть прогресса, положенного вам\nза время отсутствия.\n<br>\n<br>\nПри желании вы можете совсем отключить офлайн-прогресс, например, в целях анализа эффективности стратегий или для\nоптимизации спидрана. По умолчанию офлайн-прогресс включён. Обратите внимание, что если офлайн-прогресс отключён, все\nтаймеры в игре также будут приостановлены и никакая статистика времени не будет меняться.\n`,isUnlocked:()=>!0,tags:["офлайн","прогресс"],tab:"options/gameplay"},{name:"Наложение эффектов",info:()=>`\nБольшинство эффектов улучшений, достижений и других механик в "Измерениях Антиматерии" относятся к одной из трёх категорий:\n<br>\n- <b>Аддитивные:</b> эффекты, маркированные знаком "+" (или речевым оборотом "увеличить на"). Значения таких эффектов\nскладываются со значением по умолчанию. При наличии нескольких таких эффектов они складываются между собой. К этой же\nкатегории относятся и эффекты со знаком "-", например, понижения цен на улучшения.\n<br>\n- <b>Мультипликативные:</b> эффекты, маркированные знаком "×" (или словом "множитель", или речевым оборотом "умножить на").\nЗначения таких эффектов перемножаются со значением по умолчанию. При наличии нескольких таких эффектов они перемножаются\nмежду собой. К этой же категории относятся и эффекты со знаком "/" ("разделить"), например, понижения цен на улучшения.\n<br>\n- <b>Степени</b>: эффекты, встречающиеся гораздо реже, маркированные знаком "^" (или словом "степень"). Значение по\nумолчанию возводится в степень значений таких эффектов. При наличии нескольких таких эффектов они перемножаются между\nсобой, что эквивалентно последовательному возведению значения по умолчанию в степени всех значений эффектов, согласно\nзаконам алгебры.\n<br>\n<br>\nЕсли не сказано, что один эффект <i>замещает</i> другой, все эффекты накладываются друг на друга. Чтобы определить значение\nпосле всех эффектов, сначала отбрасываются все замещённые эффекты, а затем эффекты действуют на значение в таком порядке:\nаддитивные, мультипликативные, степени.\n<br>\n<br>\n${PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()?"Эффекты замедления действуют <i>после</i> всех остальных.":""}\n<br>\n<br>\n${PlayerProgress.realityUnlocked()?`Эффекты глифов действуют особым образом: сначала они накладываются друг на друга, а затем действуют на значение\n      по умолчанию. Наложение эффектов глифов друг на друга и на значение по умолчанию не обязательно относятся к\n      одной категории: например, эффект глифов, возводящий множитель Измерений Антиматерии в степень, накладывается\n      <i>аддитивно на свои копии</i>, затем действует на значение ${formatInt(1)}, и, наконец, действует на множители\n      Измерений Антиматерии как <i>степень</i>.`:""}\n`,isUnlocked:()=>!0,tags:["эффект","наложение","увеличение","множитель","степень","замедление","глиф"],tab:"options/gameplay"},{name:"Аббревиатуры",info:()=>`\nПеред вами список аббревиатур, встречающихся в игре. Эта страница будет обновляться по мере достижения вами новых стадий прогресса.\n<br>\n- <b>ИА</b>: Измерение Антиматерии<br>\n- <b>ГА</b>: Галактика Антиматерии<br>\n${PlayerProgress.infinityUnlocked()?"- <b>ОБ</b>: Очко Бесконечности<br>":""}\n${PlayerProgress.infinityUnlocked()?"- <b>Исп</b>: Обычное Испытание<br>":""}\n${player.break||PlayerProgress.eternityUnlocked()?"- <b>ИспБ</b>: Испытание Бесконечности<br>":""}\n${InfinityDimension(1).isUnlocked||PlayerProgress.eternityUnlocked()?"- <b>ИБ</b>: Измерение Бесконечности<br>":""}\n${PlayerProgress.replicantiUnlocked()?"- <b>ГР</b>: Галактика Репликанти<br>":""}\n${PlayerProgress.eternityUnlocked()?"- <b>ОВ</b>: Очко Вечности<br>":""}\n${PlayerProgress.eternityUnlocked()?"- <b>ТВ</b>: Теорема Времени<br>":""}\n${PlayerProgress.eternityUnlocked()?"- <b>ИсслВ</b>: Исследование Времени<br>":""}\n${PlayerProgress.eternityUnlocked()?"- <b>ИВ</b>: Измерение Времени<br>":""}\n${PlayerProgress.eternityUnlocked()?"- <b>ИспВ</b>: Испытание Вечности<br>":""}\n${PlayerProgress.dilationUnlocked()?"- <b>ЗВ</b>: Замедленное Время<br>":""}\n${PlayerProgress.dilationUnlocked()?"- <b>ТГ</b>: Тахионная Галактика<br>":""}\n${PlayerProgress.realityUnlocked()?"- <b>МР</b>: Машина Реальности<br>":""}\n${PlayerProgress.realityUnlocked()?"- <b>ОА</b>: Очко Автоматизации<br>":""}\n${PlayerProgress.realityUnlocked()?"- <b>ЧД</b>: Чёрная Дыра<br>":""}\n${TeresaUnlocks.effarig.isUnlocked?"- <b>РО</b>: Реликтовый Осколок<br>":""}\n${MachineHandler.isIMUnlocked?"- <b>ММ</b>: Мнимая Машина<br>":""}\n${Laitela.isUnlocked?"- <b>ТМ</b>: Тёмная Материя<br>":""}\n${Laitela.isUnlocked?"- <b>ИТМ</b>: Измерение Тёмной Материи<br>":""}\n${Laitela.isUnlocked?"- <b>ТЭ</b>: Тёмная Энергия<br>":""}\n`,isUnlocked:()=>!0,tags:["аббревиатура","сокращение","иа","га","об","исп","испб","иб","гр","ов","тв","исслв","ив","испв","зв","тг","мр","оа","чд","ро","мм","тм","итм","тэ"],tab:""},{name:"Измерения Антиматерии",info:()=>`\n<b>Антиматерия</b> -  это главный ресурс в игре. Вы начинаете игру с ${formatInt(10)} антиматерии, и чтобы начать игру, вы должны\nпотратить её на 1-е Измерение Антиматерии.\n<br>\n<br>\n<b>Измерения Антиматерии</b> - это ваши производственные единицы. 1-е Измерение Антиматерии производит антиматерию.\nКаждое следующее Измерение Антиматерии производит предыдущее, что приводит к полиномиальному росту количества антиматерии.\nВсего существует ${formatInt(8)} Измерений Антиматерии.\n<br>\n<br>\nОбратите внимание, что слово "измерение" имеет два значения в игре. Так может называться каждая из производственных\nединиц, но, поскольку производственные единицы одного уровня и вида неразличимы между собой, чаще под словом "измерение"\nпонимается их совокупность как единое целое вместе со всеми её параметрами.\n<br>\n<br>\n<b>Множители:</b> под названием каждого измерения отображается его множитель (например: 1-е Измерение Антиматерии\n${formatX(1,1,1)}). Производство измерения умножается на это число. Множитель увеличивается в ${formatInt(2)}\nраза при покупке ${formatInt(10)} соответствующих измерений. При этом цена измерения умножается на его наценку.\n<br>\n<br>\n<b>Количество</b> измерения отображено в его ряду посередине. Это сумма количеств измерений купленных и произведённых\nизмерением на уровень выше.\n<br>\n<br>\n<b>Относительный прирост:</b> указан в скобках справа от количества измерения, показывает, на какую долю количество\nизмерения растёт в секунду. Например, если он равен ${formatPercents(1)}/с, то количество измерения удваивается ежесекундно.\n<br>\n<br>\n<b>Кнопка "Купить всё":</b> покупает 1-е Измерения Антиматерии по ${formatInt(10)}, пока это возможно, затем точно так же 2-е,\nи так далее до 8-х, после чего покупает ускорители до упора.\n<br>\n<br>\n<b>Начальные цены измерений:</b> ${Array.range(1,8).map((e=>format(AntimatterDimension(e)._baseCost,2,2))).join(", ")}\n<br>\n<b>Наценки измерений:</b> ${Array.range(1,8).map((e=>formatX(AntimatterDimension(e)._baseCostMultiplier,2,2))).join(", ")}\n<br>\n<br>\n<b>Горячие клавиши 1, 2, 3, 4, 5, 6, 7, 8</b> покупают по ${formatInt(10)} соответствующих измерений (при одновременном\nзажатии клавиши Shift измерения покупаются по одному), <b>M</b> покупает всё.\n`,isUnlocked:()=>!0,tags:["измерение","антиматерия","иа","множитель"],tab:"dimensions/antimatter"},{name:"Ускорители",info:()=>`\nКаждый ускоритель даёт множитель к скорости тика, которая ускоряет производство всех Измерений Антиматерии.\n<br>\n<br>\n<b>Скорость тика:</b> фактически это особый множитель к производству всех Измерений Антиматерии. Она не учитывается в\nмножителях измерений, но они производят быстрее во столько раз, чему она равна. Скорость тика не имеет никакого отношения\nк игровым тикам и называется так лишь по традиции.\n<br>\n<br>\n<b>Ускорители:</b> дают множитель к скорости тика (по умолчанию ${formatX(1.1245,0,3)} за ускоритель).\n<br>\n<br>\n<b>Кнопка "Купить все":</b> покупает ускорители до упора.\n<br>\n<br>\n<b>Горячая клавиша T</b> покупает все ускорители, сочетание <b>Shift+T</b> покупает один ускоритель.\n`,isUnlocked:()=>Tickspeed.isUnlocked,tags:["измерение","ускоритель","скорость","тик"],tab:""},{name:"Расширения Измерений",info:()=>`\n<b>Расширение Измерений</b> сбрасывает ваше количество антиматерии, Измерений Антиматерии и ускорителей, взамен разблокируя\nновое Измерение Антиматерии и давая множитель к Измерениям Антиматерии. Первое Расширение требует ${formatInt(20)} 4-х Измерений,\nвторое - ${formatInt(20)} 5-х Измерений, и так далее. После разблокировки 8-го Измерения новые измерения не разблокируются,\nа требование Расширений Измерений при каждом их получении возрастает на наценку в ${formatInt(15)} 8-х Измерений. При этом\nРасширения Измерений продолжают давать множитель к Измерениям Антиматерии.\n<br>\n<br>\nПервое Расширение Измерений даёт множитель ${formatX(2)} только к 1-му Измерению Антиматерии, второе - такой же множитель\nк первым ${formatInt(2)} измерениям, и так далее. Таким образом, начиная с восьмого, Расширения дают множитель по ${formatX(2)}\nко всем Измерениям Антиматерии.\n<br>\n<br>\n<b>Горячая клавиша D</b> получает Расширение Измерений.\n`,isUnlocked:()=>!0,tags:["расширение","измерение","сброс"],tab:""},{name:"Галактики Антиматерии",info:()=>`\n<b>Галактика Антиматерии</b> сбрасывает ваше количество антиматерии, Измерений Антиматерии, ускорителей и Расширений\nИзмерений, взамен увеличивая множитель ускорителя. Каждая из первых двух галактик увеличивает его на ${format(.02,0,2)},\nа начиная с третьей, Галактики Антиматерии дают множитель к эффекту ускорителя.\n<br>\n<br>\nХотя эффект галактики мало влияет на стадии игры, когда у вас мало ускорителей, он быстро станет очень заметным.\n<br>\n<br>\nПервая Галактика Антиматерии требует ${formatInt(80)} 8-х Измерений, и при каждом получении галактик их требование возрастает\nна наценку в ${formatInt(60)} 8-х Измерений.\n<br>\n<b>Наценка на Далёкие Галактики:</b> после ${formatInt(100)} Галактик Антиматерии наценка на них возрастает на ${formatInt(2)}\n8-х Измерения при каждом их получении.\n<br>\n<b>Наценка на Сверхдалёкие Галактики:</b> после ${formatInt(800)} Галактик Антиматерии <i>требование</i> на них возрастает\nна ${formatPercents(.002,1)} при каждом их получении.\n<br>\n<br>\n<b>Горячая клавиша G</b> получает Галактику Антиматерии.\n`,isUnlocked:()=>!0,tags:["галактика","антиматерия","сброс"],tab:""},{name:"Пожертвование Измерений",info:()=>"\n<b>Пожертвование Измерений</b> разблокируется пятым Расширением Измерений. Оно сбрасывает количество всех Измерений с 1-го по 7-е,\nно не их множители. Взамен вы получаете множитель к 8-му Измерению Антиматерии. Таким образом, ваше производство антиматерии будет\nсброшено, но через некоторое время утраченные измерения будут компенсированы с лихвой.\n<br>\n<br>\nМножитель Пожертвования Измерений зависит от общего количества пожертвованных 1-х Измерений. Кнопка Пожертвования показывает\nне сам множитель, а его относительный прирост при Пожертвовании.\n<br>\n<br>\n<b>Горячая клавиша S</b> совершает Пожертвование Измерений.\n",isUnlocked:()=>Sacrifice.isVisible,tags:["пожертвование","измерение","сброс"],tab:""},{name:"Достижения",info:()=>`\nКаждое достижение имеет условие, при выполнении которого оно выполняется. Некоторые достижения имеют награды, которые вы\nполучаете за их выполение.\n<br>\n<br>\nКроме того, за каждое выполненное достижение вы получаете множитель ${formatX(1.03,2,2)} ко всем Измерениям Антиматерии,\nа за каждый ряд выполненных достижений - ${formatX(1.25,2,2)}. Этот множитель отображается во вкладке "Достижения".\n<br>\n<br>\nСекретные достижения не дают никаких бонусов.\n`,isUnlocked:()=>!0,tags:["достижение"],tab:"achievements"},{name:"Бесконечность",info:()=>`\nПри достижении максимального количества антиматерии (${formatInt(2)}<sup>${formatInt(1024)}</sup>, что примерно равно\n${formatPostBreak(Number.MAX_VALUE,6)}) вы обязаны совершить <i>Большое Сжатие</i>. Оно сбрасывает ваше количество\nантиматерии, Измерений Антиматерии, ускорителей, Расширений Измерений и Галактик Антиматерии. Это действие также известно\nкак <i>бесконечность</i>.\n<br>\n<br>\nВпоследствии вы сможете набирать больше ${formatPostBreak(Number.MAX_VALUE,6)} антиматерии, но до этого все большие\nэтого значения числа будут отображаться как <b>Бесконечно</b>.\n<br>\n<br>\nНа каждой бесконечности вы получаете <i>Очко Бесконечности</i>, которое можно тратить на улучшения в новой вкладке "Бесконечность".\nВ каждом столбце улучшения покупаются по порядку сверху вниз. Также вам в статистику добавляется одна бесконечность.\n<br>\n<br>\nДостижение "В дополнениях не нуждаюсь" разблокирует удвоитель ОБ, который может быть куплен многократно. Его цена при\nпокупке умножается на наценку, равную ${formatInt(10)}.\n<br>\n<br>\n<b>Горячая клавиша C</b> совершает Большое Сжатие.\n`,isUnlocked:()=>PlayerProgress.infinityUnlocked(),tags:["большое","сжатие","улучшение","очко","бесконечность","об","сброс","престиж"],tab:"infinity/upgrades"},{name:"Обычные Испытания",info:()=>`\n<b>Обычные Испытания</b> - это отдельные бесконечности; у них есть определённые условия, действующие внутри них,\nкоторые, как правило, невыгодны для вас. Чтобы выполнить испытание, вы должны достичь ${formatPostBreak(Number.MAX_VALUE,2)}\nантиматерии внутри него. \n<br>\n<br>\nНаградой за выполнение Обычного Испытания служит либо разблокировка новой автоматики, либо возможность улучшать старую.\nИспытания можно выполнять заново. Из текущего испытания в любой момент можно выйти по кнопке "Выйти из испытания".\n<br>\n<br>\nПри выполнении испытания, как и на обычной бесконечности, вы получаете Очко Бесконечности.\n<br>\n<br>\nВаша первая бесконечность считается 1-м Обычным Испытанием, поэтому оно сразу разблокируется выполненным.\n<br>\n<br>\nУлучшения Бесконечности из крайнего справа столбца не действуют в испытаниях.\n`,isUnlocked:()=>PlayerProgress.infinityUnlocked(),tags:["обычное","испытание","автоматика"],tab:"challenges/normal"},{name:"Автоматика",info:()=>`\n<b>Автоматика</b> - это система настроек, автоматически покупающих измерения и улучшения и совершающих сбросы. Все настройки\nавтоматики изменяются из отдела "Автоматика" вкладки "Автоматизация", в том числе настройки автоматики, разблокируемой\nна более поздних стадиях игры.\n<br>\n<br>\n<b>Интервал</b> - это время, которое должно пройти между двумя совершениями автоматикой её действия.\n<br>\n<br>\n<b>Опт</b> - это максимальное количество улучшений, которое автоматика может купить за раз.\n<br>\n<br>\nАвтоматику Измерений Антиматерии можно настроить на покупку измерений либо по одному, либо до ${formatInt(10)}. Оптовая\nпокупка возможна только во втором случае.\n<br>\n<br>\nАналогично, автоматику ускорителей можно настроить на покупку ускорителей либо по одному, либо по максимуму. Вторая\nопция становится доступной при выполнении 9-го Обычного Испытания.\n<br>\n<br>\n<b>Настройки автоматики Расширений Измерений:</b> изначально вы можете настроить максимальное количество Расширений,\nкоторое автоматика будет покупать, и количество галактик, начиная с которого, это ограничение игнорируется.\nРазблокировав оптовую покупку Расширений Измерений, вы можете настраивать интервал работы автоматики.\n<br>\n<br>\n<b>Опция "Динамическое значение"</b> у автоматики престижа означает, что в режиме совершения престижа при заданном\nколичестве валюты настройка автоматически адаптируется под изменение общего множителя к получению валюты престижа.\n<br>\n<br>\n<b>Горячая клавиша A</b> приостанавливает или возобновляет всю автоматику. Кроме того, одновременное зажатие клавиши\n<b>Alt</b> с другой горячей клавишей переключает автоматику, совершающую то же действие, что и эта клавиша.\n`,isUnlocked:()=>!0,tags:["автоматика","интервал","опт"],tab:"automation/autobuyers"},{name:"Преодоление Бесконечности",info:()=>`\n<b>Преодоление Бесконечности</b> - это одноразовый акт перехода в новую стадию игры. Вы получаете возможность набирать\nбольше ${formatPostBreak(Number.MAX_VALUE,2)} антиматерии, а в зависимости от максимального количества антиматерии,\nдостигнутого в текущей бесконечности, вы получаете больше ОБ при Большом Сжатии.\n<br>\n(Формула: ${format(Math.pow(.1,.75),6,6)}x<sup>${formatInt(1)}/${formatInt(308)}</sup>, округляется вниз <i>после</i> всех множителей.)\n<br>\n<br>\nПосле ${formatPostBreak(Number.MAX_VALUE,2)} антиматерии на цены Измерений Антиматерии и ускорителей действует вторая\nнаценка, равная ${formatX(10)}. На неё при каждой покупке умножается первая наценка.\n`,isUnlocked:()=>Autobuyer.bigCrunch.hasMaxedInterval||PlayerProgress.eternityUnlocked(),tags:["преодоление","бесконечность","об"],tab:"infinity/break"},{name:"Измерения Бесконечности",info:()=>`\n<b>Измерения Бесконечности</b> - это новый вид измерений, каждое из которых разблокируется на определённом количестве\nантиматерии. Они производят друг друга, как Измерения Антиматерии, а 1-е Измерение Бесконечности производит\n<i>Силу Бесконечности</i>, которая даёт множитель ко всем Измерениям Антиматерии. (Формула: x<sup>${formatInt(7)}</sup>.)\n<br>\n<br>\nИзмерения Бесконечности покупаются по ${formatInt(10)} за Очки Бесконечности. Аналогично Измерениям Антиматерии, при\nпокупке Измерения Бесконечности, во-первых, оно получает множитель (но этот множитель отличается для разных Измерений\nБесконечности), а, во-вторых, его цена умножается на наценку.\n<br>\n<br>\nСила Бесконечности и произведённые (не купленные!) Измерения Бесконечности сбрасываются на Большом Сжатии.\n<br>\n<br>\n<b>Требования разблокировки Измерений Бесконечности:</b> ${Array.range(1,8).map((e=>formatPostBreak(InfinityDimension(e)._unlockRequirement))).join(", ")}\n<br>\n<b>Множители за покупку Измерений Бесконечности:</b> ${Array.range(1,8).map((e=>formatX(InfinityDimension(e)._powerMultiplier))).join(", ")}\n<br>\n<b>Начальные цены Измерений Бесконечности (в ОБ):</b> ${Array.range(1,8).map((e=>format(InfinityDimension(e)._baseCost))).join(", ")}\n<br>\n<b>Наценки Измерений Бесконечности:</b> ${Array.range(1,8).map((e=>formatX(InfinityDimension(e)._costMultiplier))).join(", ")}\n`,isUnlocked:()=>player.break||PlayerProgress.eternityUnlocked(),tags:["иб","сила","бесконечность","измерение"],tab:"dimensions/infinity"},{name:"Испытания Бесконечности",info:()=>`\n<b>Испытания Бесконечности</b> - это новый вид испытаний. Для выполнения каждого из них требуется достичь его\n<i>цели</i> - определённого количества антиматерии. При выполнении каждого Испытания Бесконечности вы получаете\nуникальную награду. Улучшения Бесконечности из крайнего справа столбца не действуют и в Испытаниях Бесконечности тоже.\n<br>\n<br>\nКаждое Испытание Бесконечности разблокируется на определённом количестве антиматерии.\n<br>\n<br>\n<b>Требования разблокировки Испытаний Бесконечности:</b> ${GameDatabase.challenges.infinity.map((e=>formatPostBreak(e.unlockAM))).join(", ")}\n`,isUnlocked:()=>player.break||PlayerProgress.eternityUnlocked(),tags:["испытание","бесконечности","испб"],tab:"challenges/infinity"},{name:"Репликанти",info:()=>`\n<b>Репликанти</b> можно разблокировать за ${format(v.E140)} ОБ. Это единственный в своём роде ресурс, который\nпроизводит <i>себя</i> и, таким образом, растёт экспоненциально. Количество Репликанти имеет ограничение в\n${formatPostBreak(Number.MAX_VALUE,2)}. Каждый интервал репликации (по умолчанию равный одной секунде) каждая\nединица Репликанти с определённой вероятностью (по умолчанию равной ${formatPercents(.01)}) производит ещё одну\nединицу Репликанти. Как интервал, так и вероятность репликации изменяются Улучшениями Репликанти, которые можно\nпокупать за ОБ. Репликанти сбрасываются на бесконечности.\n<br>\n<br>\nРепликанти дают множитель ко всем Измерениям Бесконечности.\n<br>\n<br>\nСуществует третье Улучшение Репликанти, которое увеличивает максимальное количество <i>Галактик Репликанти</i>. Последние\nполучаются при наличии ${formatPostBreak(Number.MAX_VALUE,2)} Репликанти путём сброса их количества до ${formatInt(1)}.\nГалактики Репликанти - это новый вид галактик, котороые дают тот же самый эффект, что и Галактики Антиматерии, и\nсбрасывают те же самые ресурсы, но не влияют на требование Галактик Антиматерии.\n<br>\n<br>\n<b>Горячая клавиша R</b> получает Галактику Репликанти.\n<br>\nНачальная цена <b>Улучшения Репликанти, увеличивающего вероятность репликации</b>: ${format(v.E150)} ОБ, наценка: ${formatX(v.E15)}\n<br>\nНачальная цена <b>Улучшения Репликанти, уменьшающего интервал репликации</b>: ${format(v.E140)} ОБ, наценка: ${formatX(v.E10)}\n<br>\nНачальная цена <b>Улучшения Репликанти, увеличивающего максимальное количество Галактик Репликанти</b>: ${format(v.E170)} ОБ,\nпервая наценка: ${formatX(v.E25)}, вторая наценка: ${formatX(1e5)} до ${formatInt(100)} разрешённых Галактик Репликанти\nи ${formatX(v.E55)} после, причём при достижении этого рубежа первая наценка умножается на ${format(v.E200)}. Эта система наценок работает\nтак же, как наценки Измерений Антиматерии и ускорителя. Начиная с ${formatInt(1e3)} разрешённых Галактик Репликанти,\nпри каждой покупке вторая наценка умножается на третью наценку, которая равна ${formatX(v.E10)}, причём при достижении этого рубежа\nвторая наценка умножается на ${format(v.E5)}.\n`,isUnlocked:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked(),tags:["репликанти","интервал","вероятность","репликация","галактика","улучшение","сброс"],tab:"infinity/replicanti"},{name:"Вечность",info:()=>`\nПри достижении ${formatPostBreak(Number.MAX_VALUE,2)} ОБ вы можете совершить вечность. Она сбрасывает всё, что\nразблокируется до неё, кроме достижений, рекордов испытаний и статистики в разделе "Общее". Взамен вы получаете\n<i>Очки Вечности</i> и разблокируете новый контент. Также вам в статистику добавляется одна вечность.\n<br>\n<br>\nВ отличие от первой бесконечности, первая вечность (и, естественно, все последующие - тоже) не вынуждается, и чем\nбольше Очков Бесконечности вы можете иметь в момент совершения вечности, тем больше Очков Вечности вы получаете.\n<br>\n(Формула: ${format(Math.pow(.2,.7),6,6)}x<sup>log₁₀(${formatInt(5)})/${formatInt(308)}</sup> (степень примерно\nравна ${formatInt(1)}/${format(308/Math.log10(5),2,2)}), округляется вниз <i>после</i> всех множителей. Например,\nдля получения ${formatInt(2)} ОВ необходимо достичь ${formatPostBreak(v.IP_REQUIREMENT_FOR_2_EP,2,2)} ОБ.)\n<br>\n<br>\n<b>Горячая клавиша E</b> совершает вечность.\n`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["вечность","ов","сброс","очко","престиж","улучшение"],tab:"eternity/upgrades"},{name:"Этапы Вечности",info:()=>'\n<b>Этапы Вечности</b> дают особые эффекты для удобства, каждый из которых начинает действовать с определённого\nколичества вечностей. Как правило, они предотвращают сброс механик на вечности, разблокируют новую автоматику или\nпассивно генерируют ресурсы офлайн.\n<br>\n<br>\nВся новая автоматика может быть переключена кнопками, расположенными рядом с кнопками совершения тех же действий вручную.\n<br>\n<br>\nЭтапы, пассивно генерирующие ресурсы офлайн, работают только при выполнении определённых условий, указанных во\nвкладке "Этапы Вечности".\n',isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["этап","вечность"],tab:"eternity/milestones"},{name:"Измерения Времени",info:()=>`\n<b>Измерения Времени</b> - это очередной вид измерений, которые покупаются за Очки Вечности. 1-е Измерение Времени\nпроизводит <i>Осколки Времени</i>, которые дают вам дополнительные ускорители, не влияющие на цену обычных ускорителей.\nОсколки Времени и произведённые (не купленные!) Измерения Времени сбрасываются на вечности.\n<br>\n<br>\nУскорители, получаемые от Осколков Времени, имеют первую наценку, равную ${formatPercents(.33)}, а с ${formatInt(FreeTickspeed.softcap)}\nускорителей - вторую наценку, равную ${format(6e-4,4,4)}% (около ${formatPercents(.35)} за ${formatInt(5e4)}\nускорителей). Эти наценки работают так же, как и для обычных ускорителей.\n<br>\n<br>\nПри покупке Измерения Времени оно получает множитель ${formatX(4)}, а его цена возрастает.\n<br>\n<br>\nНаценки первых четырёх Измерений Времени увеличиваются в ${format(1.5,1,1)} раза на ${format(TimeDimension(1)._costIncreaseThresholds[0],2)}\nОВ и в 1⁷⁄₁₅ (около ${format(22/15,3,3)}) раза на ${format(TimeDimension(1)._costIncreaseThresholds[1])} ОВ.\nЭто увеличение имеет обратную силу, так что на этих порогах цены измерений резко возрастают. На ${format(TimeDimension(1)._costIncreaseThresholds[2])}\nОВ наценки всех Измерений Времени возводятся в степень ${formatInt(4)}.\n<br>\n<b>Начальные цены Измерений Времени (в ОВ):</b> ${Array.range(1,8).map((e=>format(TimeDimension(e)._baseCost))).join(", ")}\n<br>\n<b>Наценки Измерений Времени:</b> ${Array.range(1,8).map((e=>formatX(TimeDimension(e)._costMultiplier))).join(", ")}\n`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["измерение","ив","осколок","времени","ускоритель"],tab:"dimensions/time"},{name:"Исследования Времени",info:()=>`\n<b>Исследования Времени</b> - это особые улучшения, которые покупаются за новую валюту - <i>Теоремы Времени</i>.\n<br>\n<br>\nТеоремы Времени можно покупать за антиматерию, Очки Бесконечности или Очки Вечности. При этом цена Теоремы Времени\nза тот же ресурс умножается на наценку, различную для покупок Теорем Времени за разные ресурсы.\n<br>\n<br>\nИсследования Времени расположены в форме Древа. Для покупки каждого Исследования необходимо иметь хотя бы одно из\nпредшествующих ему или предшествующих предшествующим ему Испытаниям Вечности и хотя бы по одному выполнению каждого\nиз предшествующих ему Испытаний Вечности. Исключением является Исследование Времени 11, для покупки которого ничего\nне требуется, так как оно является корнем Древа. Существуют взаимоисключающие группы Исследований, а именно:\n<br>\nа) в каждой развилке на три цветных пути можно покупать Исследования лишь в одном из них, и\n<br>\nб) из каждой пары светлого и тёмного Исследований с общим потомком можно купить лишь одно.\n<br>\n<br>\nПри желании вы всегда можете сбросить Исследования Времени на вечности, возвращая себе все потраченные на них Теоремы\nВремени, чтобы перестроить ваше Древо.\n<br>\n<br>\nВы можете нажать на Исследование Времени, зажав клавишу Shift, чтобы попытаться купить все Исследования до него\nвключительно. При этом Исследования покупаются в порядке по строкам сверху вниз слева направо. По кнопке с иконкой\nшестерёнки вы можете настроить этот способ покупки Исследований на выбор заданных вами путей на развилках.\n<br>\n<br>\nВам доступно ${formatInt(6)} слотов для сохранения Древ Исследований, по умолчанию отмеченных цифрами от 1 до 6,\nкоторые позволяют вам сохранять и быстро загружать нужные вам Древа. Также для хранения Древ Исследований вы можете\nэкспортировать и импортировать их, как сохранения.\n<br>\n<br>\n<b>Начальные цены и наценки Теорем Времени:</b>\n<br>\n<b>За антиматерию:</b> начальная цена ${format(v.E20000)}, наценка ${formatX(v.E20000)}\n<br>\n<b>За Очки Бесконечности:</b> начальная цена ${formatInt(1)}, наценка ${formatX(v.E100)}\n<br>\n<b>За Очки Вечности:</b> начальная цена ${formatInt(1)}, наценка ${formatX(2)}\n`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["исследование","исслв","теорема","древо","времени"],tab:"eternity/studies"},{name:"Испытания Вечности",info:()=>`\n<b>Испытания Вечности</b> - это очередной вид испытаний, каждое из которых разблокируется соответствующим Исследованием\nВремени при выполнении определённого вторичного требования. Это испытания более высокого уровня, чем все предыдущие:\nони выполняются в отдельной вечности, а не бесконечности.\n<br>\n<br>\nЦелью Испытания Вечности, которой необходимо достичь для его выполнения, является определённое количество ОБ.\nНаграды Испытаний Вечности действуют вне зависимости от того, есть ли у вас Исследования Времени, разблокирующие их.\n<br>\n<br>\nВ данный момент времени может быть разблокировано лишь не более одного Испытания Вечности.\n<br>\n<br>\nКаждое Испытание Вечности имеет ${formatInt(5)} уровней, из которых вы всегда выполняете самый низкий ещё не выполненный\nпри наличии таковых. С каждым уровнем растут награда, цель и вторичное требование испытания, но не его цена.\n<br>\n<br>\nВыполнив вторичное требование Испытания Вечности однажды, вы освобождаетесь от необходимости выполнять его в\nдальнейшем, пока не выполните это испытание. В частности, вторичное требование испытания и само испытание можно\nвыполнять при разных Исследованиях Времени. Нетрудно догадаться, что для ИспВ11 и ИспВ12 это правило не работает в\nсилу специфики их требований.\n`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),tags:["испв","испытание","вечность","выполнение"],tab:"challenges/eternity"},{name:"Замедление Времени",info:()=>`\n<b>Замедление Времени</b> разблокируется особым невозвратимым Исследованием Времени, имеющим определённые вторичные\nтребования, а именно:\n<br>\nа) ${formatInt(TimeStudy.dilation.totalTimeTheoremRequirement)} ТВ всего, и\n<br>\nб) по ${formatInt(5)} выполнений ИспВ11 и ИспВ12.\n<br>\n<br>\nЗамедление Времени - это особое испытание, занимающее отдельную вечность, как Испытания Вечности, но более высокого\nуровня. Его условие заключается в том, что <i>порядки</i> множителей <i>всех</i> измерений возведены в степень\n${format(.75,2,2)}. (Это первый появившийся из эффектов такого типа в игре, которые мы за неимением официального\nтермина будем называть замедлениями.) Цель Замедления - ${formatPostBreak(Number.MAX_VALUE,2)} ОБ. За его выполнение\nвы получаете новый ресурс - <i>Тахионы</i> - в зависимости от рекордного количества антиматерии, достигнутого в Замедлении.\n<br>\n<br>\nВы можете замедлять Время сколь угодно много раз, но за счёт этого вы не сможете копить Тахионы, как валюту престижа,\nтак как количество получаемых Тахионов не добавляется к тому, что вы имеете.\n<br>\n<br>\nТахионы производят другой новый ресурс - <i>Замедленное Время</i>. Оно даёт Тахионные Галактики - очередной вид галактик,\nкоторые независимы с остальными видами галактик. Замедленное Время также можно тратить на различные улучшения.\n`,isUnlocked:()=>DilationTimeStudyState.studies[1].isBought||PlayerProgress.realityUnlocked(),tags:["замедление","зв","время","тахион","замедленное","тахионная","галактика","тг","улучшение"],tab:"eternity/dilation"},{name:"Реальность",info:()=>`\nПри достижении ${formatPostBreak(v.E4000)} ОВ и выполнении всех достижений из первых ${formatInt(13)} рядов вы можете\nкупить Исследование Времени, разблокирующее возможность совершить реальность. Она сбрасывает всё, что разблокируется\nдо неё, кроме рекордов испытаний и статистики в разделе "Общее". Взамен вы получаете <i>Машины Реальности</i>, <i>глиф</i>\nи <i>Очко Умения</i> и разблокируете новый контент. Также вам в статистику добавляется одна реальность.\n<br>\n<br>\nВ отличие от обоих предыдущих престижей, реальность также сбрасывает достижения из первых ${formatInt(13)} рядов, однако\nсохраняет остальные достижения. Вы можете вновь выполнять утраченные достижения, но также вы автоматически восстанавливаете\nих по одному раз в ${timeDisplayNoDecimals(18e5,"accusative")} без необходимости выполнять их условия. Достижения\nвосстанавливаются в порядке по строкам сверху вниз слева направо. Автоматическое восстановление достижений может быть\nотключено. При этом его таймер продолжит обратный отсчёт времени до восстановления следующего достижения, но остановится,\nдойдя до нуля. Эту опцию можно использовать, чтобы заставлять восстанавливаться те достижения, которые трудно выполнить.\n<br>\n<br>\nПолучение Машин Реальности зависит от количества ОВ, которое вы можете иметь в момент совершения реальности.\n<br>\n(Формула: max(${format(.00675,5,5)}log₁₀(x)-26, ${format(.001,3,3)}x<sup>${format(75e-5,5,5)}</sup>), округляется\nвниз <i>после</i> всех множителей. До ${formatInt(100)} МР кнопка реальности показывает вам, сколько ОВ нужно для получения\nследующей МР.)\n<br>\n<br>\nУровень получаемого глифа зависит от количества ОВ, которое вы можете иметь в момент совершения реальности, и рекордных\nколичеств Репликанти и Замедленного Времени в текущей реальности, округляется вниз <i>после</i> всех множителей и не\nможет быть меньше ${formatInt(1)}.\n<br>\n<br>\nВы всегда получаете ровно одно Очко Умения на реальности.\n<br>\n<br>\nСовершив реальность, вы можете в любой момент перезапустить текущую реальность из вкладки "Глифы", <b>при этом набор\nпредлагаемых вам глифов не меняется. Вы также не получаете никаких наград за текущую реальность.</b>\n<br>\n<br>\n<b>Горячая клавиша Y</b> совершает реальность.\n`,isUnlocked:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,tags:["мр","машина","глиф","очко","сброс","умения","реальность","престиж","улучшение"],tab:"reality/upgrades"},{name:"Глифы",info:()=>`\n<b>Глиф</b> - это предмет со следующими неизменными характеристиками:\n<br>\n<b>Эффекты</b> - бонусы, которые вам даёт глиф, когда он действует. Каждый эффект глифа соответствует точке на нём.\nГлиф может иметь от одного до четырёх эффектов. Количество эффектов случайно, но коррелирует положительно с редкостью\nи уровнем. Сами эффекты выбираются случайным образом, но каждый из эффектов, всегда возводящих множители измерений\nопределённого типа в степень, присутствует на всех глифах сответствующего типа.\n<br>\n<b>Тип</b> - разновидность глифа, выбираемая случайным образом, определяющая, какие эффекты он может иметь. Отражён в\nзначке глифа, в последнем слове в его заглавии и в цвете его каймы. Существует пять основных типов глифов. У каждого из\nних четыре уникальных эффекта.\n<br>\n<b>Уровень</b> - единственная детерминированная характеристика глифа, которая выражается натуральным числом и определяет\nмощность его эффектов. Зависит от рекордных количеств различных ресурсов в реальности, на которой глиф был получен.\n<br>\n<b>Редкость</b> - случайная дробь от ${formatPercents(0)} до ${formatPercents(1)}, которая определяет мощность эффектов\nглифа. Округляется до десятых долей процента. Весь диапазон возможных редкостей разбит на категории с собственными названиями.\nКатегория редкости глифа отражена в первом слове в его заглавии и в цвете его значка.\n<br>\n<br>\nПервый глиф у всех игроков имеет одинаковые тип, эффект и редкость. Далее на каждой реальности вы получаете по одному\nслучайному глифу. При наличии навыка СТАРТ генерируется четыре случайных глифа разных типов, из которых вы можете\nвыбрать любой на ваше усмотрение.\n<br>\n<br>\nВ центре вкладки вы можете видеть серые кружочки. Это слоты для глифов. Чтобы активировать глиф, перетяните его в\nсвободный слот или дважды щёлкните по нему. Только тогда глиф будет давать бонусы.\n<br>\n<br>\nАктивировать глифы можно свободно в любое время, но деактивировать - только на реальности. Для этого также можно\nиспользовать кнопку "Перезапустить текущую реальность".\n<br>\n<br>\nВы можете нажать на группу круглых глифов, чтобы просмотреть подробную информацию о них с сокращёнными описаниями эффектов.\n`,isUnlocked:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,tags:["реальность","глиф","уровень","редкость","тип"],tab:"reality/glyphs"},{name:"Навыки",info:()=>`\n<b>Навыки</b>, как Этапы Вечности, в основном служат для удобства и автоматизации. Цвет Навыка показывает, к какой\nигровой системе относится его эффект. Каждый Навык стоит ровно ${formatInt(1)} Очко Умения.\n<br>\n<br>\nНавыки расположены в виде Древа, которое, в отличие Древа Исследований, не ориентировано в одном направлении - для\nпокупки Навыка достаточно иметь любой из соседних с ним вне зависимости от направления соединения. Корнем Древа Навыков\nявляется Навык СТАРТ, для покупки которого ничего не требуется.\n<br>\n<br>\nКвадратные навыки также дают определённое количество Очков Автоматизации.\n`,isUnlocked:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,tags:["навык","очко","умения","древо","автоматизации"],tab:"reality/perks"},{name:"Обзор Автоматизатора",info:()=>`\n<b>Автоматизатор</b> представляет собой автоматическую систему, которую можно программировать на алгоритмическое совершение\nнекоторых действий, не имеющих собственной автоматики.\n<br>\n<br>\nЧтобы использовать Автоматизатор, нужно написать для него программу, которую он будет выполнять. Для игроков, не имеющих\nопыта программирования, в Автоматизаторе есть блочный режим редактирования, в котором каждая команда представлена блоком,\nчто упрощает восприятие программного кода. Однако рекомендуется пользоваться текстовым режимом, так как он в гораздо\nменьшей степени подвержен зависанию игры.\n<br>\n<br>\nПрограммы для Автоматизатора можно экспортировать и импортировать, как сохранения. Допустимые данные программы должны\nначинаться с символов <b>${GameSaveSerializer.startingString["automator script"]}</b> и заканчиваться символами\n<b>${GameSaveSerializer.endingString["automator script"]}</b>. Если данные не удовлетворяют этому формату, то, вероятно,\nони были обрезаны, и импортировать их не удастся. Импорт программы не стирает текущую программу.\n<br>\n<br>\nАвтоматизатор выполняет программы по своим собственным часам, использующим реальное времяисчисление, асинхронно со всеми\nостальными механиками игры. В частности, это значит, что если автоматика и Автоматизатор пытаются совершить одно и то\nже действие, то невозможно предугадать, что из них будет первым, вследствие чего могут возникнуть сбои в работе программы.\n<br>\n<br>\nЕсли по причине задержек Автоматизатор выполнял команду слишком долго, он будет выполнять следующие команды настолько\nбыстрее, чтобы в среднем он выполнял программу в положенном темпе.\n<br>\n<br>\nСм. вводную страницу Автоматизатора для дальнейшего ознакомления с ним.\n<br>\n<br>\n<b>Горячая клавиша U</b> приостанавливает или возобновляет работу Автоматизатора.\n`,isUnlocked:()=>Player.automatorUnlocked,tags:["автоматизатор","программа"],tab:"automation/automator"},{name:"Чёрная Дыра",info:()=>`\n<b>Чёрная Дыра</b> периодически значительно ускоряет игру. Это ускорение влияет в том числе и на все эффекты, зависящие\nот времени, и на время в статистике. С этого момента в игре существует два времяисчисления: <i>игровое</i> - с учётом\nэффекта Чёрной Дыры, и <i>реальное</i> - без него, то есть такое же, как и в реальной жизни. По умолчанию слово "время"\nв игре означает именно игровое время. Автоматика работает по реальному времяисчислению. Все остальные механики,\nразблокированные до реальности, и большинство механик, разблокирующихся после реальности, работают по игровому\nвремяисчислению, в том числе репликация и производство Замедленного Времени. Сама Чёрная Дыра, очевидно, работает по\nреальному времяисчислению. Отношение игрового времени к реальному времени, за которое оно проходит, называется скоростью игры.\n<br>\n<br>\nИзначально эффект Чёрной Дыры слаб, так как длится очень короткое время, но вы можете улучшать его за Машины Реальности.\nСуществует три Улучшения Чёрной Дыры:\n<br>\n<b>Уменьшение длительности фазы бездействия на ${formatPercents(.2)}</b> (начальная цена: ${formatInt(15)} МР, наценка ${formatX(3.5,0,1)}).\n<br>\n<b>Увеличение эффекта на ${formatPercents(.35)}</b> (начальная цена: ${formatInt(20)} МР, наценка: ${formatX(2)}).\n<br>\n<b>Увеличение длительности фазы действия на ${formatPercents(.3)}</b> (начальная цена: ${formatInt(10)} МР, наценка: ${formatX(4)}).\n<br>\nПосле ${format(1e30)} МР наценка на возрастает на  ${format(.2,1,1)} каждую покупку, после ${format(Number.MAX_VALUE,1)}\nМР цена резко возрастает до ${format(v.E310)} МР, а наценка - до ${formatX(1e6)}, причём прошлый рост наценки прекращается,\nи вместо этого наценка начинает возрастать в ${formatInt(10)} раз за покупку.\n<br>\n<br>\nПроведя в игре ${formatInt(100)} дней по <i>игровому</i> времяисчислению, вы разблокируете Улучшение Реальности,\nразблокирующее 2-ю Чёрную Дыру, которая работает так же, как и 1-я. Цикл активности 2-й Чёрной Дыры продвигается, только\nпока действует 1-я Чёрная Дыра. Например, если фаза действия 1-й Чёрной Дыры длится ${formatInt(4)} минуты, а цикл\nактивности 2-й - ${formatInt(8)} минут, то 2-я Чёрная Дыра будет активироваться каждые ${formatInt(2)} цикла 1-й\nЧёрной Дыры вне зависимости от длительности фазы бездействия последней. Таймер в заглавии, отсчитывающий время до\nактивации Чёрных Дыр, учитывает эту особенность их поведения, внутренний же их таймер, на который влияют Улучшения\nЧёрных Дыр, вы можете просмотреть во вкладке "Чёрная Дыра". Эффекты Чёрных Дыр перемножаются.\n<br>\n<br>\nУлучшения 2-й Чёрной Дыры изначально стоят в ${formatInt(1e3)} раз больше, чем сответствующие Улучшения 1-й Чёрной Дыры,\nно имеют все те же самые наценки.\n<br>\n<br>\nОбратите внимание, что под словосочетанием "Чёрная Дыра" может пониматься совокупное действие Чёрных Дыр, когда они неразличимы.\n<br>\n<br>\nКогда длительность фазы действия Чёрной Дыры составляет хотя бы ${formatPercents(.9999,2)} всего цикла её активности,\nона начинает действовать беспрерывно.\n<br>\n<br>\nЧёрная Дыра особым образом взаимодействует с офлайн-прогрессом, см. статью "Офлайн-прогресс".\n<br>\n<br>\nВы можете в любой момент приостановить Чёрную Дыру, чтобы её цикл активности не продвигался. Эту функцию можно использовать,\nчтобы контролировать то, какие стадии реальности получают эффект Чёрной Дыры. Однако после возобновления цикла Чёрной Дыры\nеё эффект аннулируется и экспоненциально восстаналивается в течение ${BlackHoles.ACCELERATION_TIME} секунд по реальному времяисчислению.\nПри этом цикл активности Чёрной Дыры продвигается, так что вы теряете часть игрового времени. Одна Чёрная Дыра не может быть\nприостановлена отдельно от другой. Существует опция автоматической приостановки Чёрных Дыр за ${BlackHoles.ACCELERATION_TIME}\nсекунд перед активацией, которая находится во вкладке "Чёрная Дыра".\n<br>\n<br>\n<b>Горячая клавиша B</b> приостанавливает или возобновляет цикл активности Чёрной Дыры.\n`,isUnlocked:()=>player.blackHole[0].unlocked,tags:["чёрная","дыра","времяисчисление","игровое","реальное","улучшение","скорость","игры","время"],tab:"reality/hole"},{name:"Пожертвование Глифов",info:()=>'\nКупив соответствующее Улучшение Реальности, вы можете удалять глифы за определённые бонусы, что называется <i>Пожертвованием Глифов</i>.\nВы можете просмотреть эти бонусы во вкладке "Глифы", там же, где находится список действующих эффектов глифов.\n<br>\n<br>\nУ каждого глифа есть <i>жертвенная ценность</i> - положительное число, которое зависит от его уровня и редкости, но не зависит\nот его типа и эффектов. Чем оно больше, тем больший бонус вы получите, когда пожертвуете этот глиф.\n<br>\n<br>\nБонусы от Пожертвования Глифов разделены по типам глифов. Каждый бонус зависит от суммарной жертвенной ценности всех\nпожертвованных глифов соответствующего типа.\n<br>\n<br>\nРекомендуется жертвовать все глифы, которые вы не собираетесь активировать, так как нет смысла держать их в инвентаре.\n',isUnlocked:()=>RealityUpgrade(19).isBought,tags:["пожертвование","глиф","жертвенная","ценность"],tab:""},{name:"Тереза, Небожитель Реальности",alias:"Тереза",info:()=>`\n<b>Тереза</b> - первый <i>Небожитель</i>.\n<br>\n<br>\nВ её вкладке вы можете видеть вертикальную полоску с кнопкой "Заливать МР". Полоска символизирует контейнер, в который вы\nможете помещать (<i>заливать</i>) МР, что даёт вам множитель к получению Машин Реальности. Залитые МР не подлежат возвращению\nв свободный доступ. При достижении определённых количеств залитых МР вы получаете определённые бонусы. На ${format(TeresaUnlocks.run.price)}\nзалитых МР разблокируется Реальность Терезы.\n<br>\n<br>\n<i>Реальность</i> имеет не только Тереза, но и все последующие Небожители. В сущности это испытание высшего уровня, которое\nвыполняется в отдельной реальности.\n<br>\n<br>\nРеальность Терезы можно выполнять сколь угодно много раз, и её награда зависит от рекордного достигнутого в ней количества антиматерии.\n<br>\n<br>\nСледующий Небожитель разблокируется на ${format(TeresaUnlocks.effarig.price)} залитых МР.\n`,isUnlocked:()=>Teresa.isUnlocked,tags:["залитая","тереза","небожитель","реальность"],tab:"celestials/teresa"},{name:"Эффариг, Небожитель Древних Реликвий",alias:"Эффариг",info:()=>`\n<b>Эффариг</b> - второй Небожитель.\n<br>\n<br>\nРазблокируется одновременно с новой валютой - <i>Реликтовыми Осколками</i>, которые вы получаете на реальности в зависимости\nот двух факторов: количества Очков Вечности, которые вы могли иметь в момент совершения реальности, и количества различных\nдействующих эффектов глифов. Как правило, второй фактор играет гораздо более важную роль. Реликтовые Осколки можно\nтратить на Улучшения Эффарига.\n<br>\n<br>\nРеальность Эффарига разблокируется последним Улучшением Эффарига, которое стоит ${format(GameDatabase.celestials.effarig.unlocks.run.cost)}\nРеликтовых Осколков.\n${EffarigUnlock.run.isUnlocked?"Она разделена на три слоя: бесконечности, вечности и реальности. Вы выполняете их по отдельности именно в таком порядке, переходя по завершении предыдущего слоя Реальности на следующий. Каждый слой при выполнении даёт уникальную награду. Для выполнения слоя нужно совершить в Реальности Эффарига соответствующий престиж. Разблокировка следующего Небожителя - награда за Реальность на слое вечности.":"<div style='color: var(--color-effarig--base);'>Разблокируйте Реальность Эффарига, чтобы просмотреть подробности о ней.</div>"}\n`,isUnlocked:()=>TeresaUnlocks.effarig.canBeApplied,tags:["эффариг","небожитель","осколок","реликтовый","улучшение","слой"],tab:"celestials/effarig"},{name:"Продвинутое управление глифами",info:()=>`\n<b>Корректировка весов факторов уровня глифа</b> разблокируется первым Улучшением Эффарига. Оно даёт вам возможность\nуказать, в какой степени четыре основных количества ресурсов (ОВ, ЗВ, Репликанти и вечностей), от которых зависит уровень\nполучаемого глифа, влияют на него.\n<br>\n<br>\n<b>Фильтр Глифов</b> разблокируется вторым Улучшением Эффарига. Это автоматическая система, которая выбирает глиф на\nреальности и, возможно, жертвует его согласно заданным настройкам. Фильтр Глифов имеет несколько режимов, определяющих\nего поведение, из которых можно выбрать один. Существует три базовых режима:\n<br>\n<b>Справедливое пожертвование:</b> выбирает глиф того типа, суммарная ценность пожертвованных глифов которого наименьшая,\nпри этом выбранный глиф всегда жертвуется.\n<br>\n<b>Количество эффектов:</b> выбирает глиф с наибольшим количеством эффектов, при равенстве отдавая предпочтение глифам\nболее высокой редкости. Вы можете указать наименьшее количество эффектов, которое должны иметь глифы, чтобы Фильтр принял их.\n<br>\n<b>Редкость:</b> для каждого типа глифов вы выставляете порог редкости, ниже которого глифы этого типа не принимаются.\nФильтр выбирает глиф, редкость которого превышает порог на наибольшее значение.\n<br>\nТакже существует два продвинутых режима:\n<br>\n<b>Указанные эффекты:</b> для каждого типа глифов вы указываете, во-первых, порог редкости, во-вторых, порог количества\nэффектов и, в-третьих, минимальный набор конкретных эффектов, которые глиф должен иметь. Чтобы глиф был выбран, он должен\nсоответствовать всем трём требованиям сразу. Фильтр выбирает глиф, редкость которого превышает порог на наибольшее значение.\nВы можете выставить порог количества эффектов на недостижимое значение (например, ${formatInt(5)} эффектов для Глифов Силы),\nи тогда все глифы соответствующего типа будут отвергаться.\n<br>\n<b>Взвешенные эффекты:</b> для каждого эффекта вы указываете количество баллов, которые глифы получают за наличие этого\nэффекта. Оценка глифа вычисляется как сумма его редкости в процентах и этих баллов. Для каждого типа глифов вы указываете\nпорог оценки, необходимой для принятия глифов этого типа. Фильтр выбирает глиф, оценка которого превышает порог на\nнаибольшее значение. Обратите внимание, что оценка глифа отображается как разность настоящей оценки и порога принятия.\nВы можете выставить порог оценки на недостижимое значение (например, ${formatInt(999)} для Глифов Силы, если все эффекты\nстоят по ${formatInt(0)} баллов), и тогда все глифы соответствующего типа будут отвергаться.\n<br>\n<br>\nВыбранный режим Фильтра Глифов применяется ко всем типам глифов. У каждого режима есть собственные настройки, которые\nсохраняются при переключении на другой режим, но перестают действовать. Настройки режимов Фильтра Глифов можно\nэкспортировать и импортировать, как сохранения.\n<br>\n<br>\nАвтоматизатор также имеет доступ к оценке глифа, выбираемого Фильтром.\n<br>\n<br>\nТретье Улучшение Эффарига разблокирует возможность сохранять и загружать наборы глифов, как Древа Исследований.\n`,isUnlocked:()=>EffarigUnlock.adjuster.isUnlocked,tags:["глиф","вес","фильтр","фактор","режим","оценка"],tab:""},{name:"Глифы Эффарига",info:()=>"\n<b>Глифы Эффарига</b> - это новый тип глифов, который имеет несколько отличий от всех остальных.\n<br>\n<br>\nУ Глифов Эффарига бывает семь различных эффектов, но каждый глиф может иметь не более четырёх. Кроме того, есть два эффекта,\nкоторые не могут сосуществовать в одном Глифе Эффарига: множитель к получению Машин Реальности и отсрочка неустойчивости\nглифов (мягкого ограничения на их уровень). Все наборы эффектов, не содержащие оба из них, равновероятны.\n<br>\n<br>\nОдновременно может действовать не более чем один Глиф Эффарига.\n",isUnlocked:()=>4===Effarig.currentStage,tags:["эффарига","глиф"],tab:""},{name:"Безымянные, Небожитель Времени",alias:"Безымянные",info:()=>`\n<b>Безымянные</b> - третий Небожитель.\n<br>\n<br>\nРазблокируется одновременно с двумя новыми механиками: <i>хранением</i> игрового и реального времени.\n<br>\n<br>\nВы можете <i>заряжать</i> Чёрную Дыру, что отключает все множители к скорости игры. При этом всё потерянное игровое время\nсохраняется. Впоследствии вы можете в любой момент разрядить Чёрную Дыру, тратя всё сохранённое игровое время, чтобы на него\nперепрыгнуть. Таким образом, вы сосредоточиваете скорость игры в одной временной точке. Это позволяет вам переносить\nэффекты множителей к скорости игры во времени.\n<br>\n<br>\nТакже за сохранённое игровое время покупаются оба Улучшения Безымянных.\n<br>\n<br>\nХранение реального времени полностью останавливает всё производство, выставляя скорость игры на ${formatInt(0)}.\nПри этом вы сохраняете ${formatPercents(.7)} от проходящего реального времени. Существует ограничение на количество\nсохранённого реального времени (по умолчанию ${timeDisplayNoDecimals(252e5)}). Сохранённое реальное время можно\nиспользовать, чтобы <i>усилить</i> реальность (из вкладки "Глифы"), симулируя её столько раз, сколько вы бы смогли повторить\nеё за это время. При этом вы получаете все те же награды, что и от обычной реальности, но тратите всё сохранённое реальное\nвремя. Например, если у вас ${formatInt(50)} минут сохранённого реального времени, и вы усиливаете реальность, которая\nпродлилась ${formatInt(10)} минут, вы получите в ${formatInt(5)} раз больше МР, Реликтовых Осколков и Очков Умения, а также\nне ${formatInt(1)}, а сразу ${formatInt(5)} глифов, выбранных согласно Фильтру Глифов.\n<br>\n<br>\nОднако, если вы усиливаете реальность, которая длилась менее секунды, вы усилите её, как если бы она длилась ровно одну\nсекунду, при этом потратив не всё сохранённое реальное время, а лишь соответствующую часть. Например, если у вас\n${formatInt(1e3)} секунд сохранённого реального времени, и вы усиливаете реальность, которая продлилась ${format(.2,2,2)}\nсекунды, вы потратите ${formatInt(200)} секунд сохранённого реального времени и симулируете ${formatInt(1e3)} реальностей.\n<br>\n<br>\nСуществует опция, которая автоматически сохраняет время, проведённое офлайн.\n<br>\n<br>\nРеальность Безымянных разблокируется вторым Улучшением Безымянных, которое стоит\n${format(TimeSpan.fromMilliseconds(ENSLAVED_UNLOCKS.RUN.price).totalYears)} лет сохранённого игрового времени.\n`,isUnlocked:()=>EffarigUnlock.eternity.isUnlocked,tags:["безымянные","хранение","игровое","реальное","время","чёрная","дыра","зарядка","разрядка","сохранённое","небожитель","улучшение"],tab:"celestials/enslaved"},{name:"Тессеракты",info:()=>`\n<b>Тессеракт</b> - это повторяемое Улучшение Бесконечности особого рода.\n<br>\n<br>\nКак известно, существует ограничение на покупку всех Измерений Бесконечности, кроме 8-го, по умолчанию равное\n${format(InfinityDimensions.HARDCAP_PURCHASES)}. Теперь оно увеличено в зависимости от количества Тессерактов,\nкоторые покупаются за Очки Бесконечности.\n<br>\n<br>\nТессеракты никогда не сбрасываются.\n<br>\n<br>\nВы можете покупать Тессеракты из вкладки "Измерения Бесконечности". Теперь под количеством Очков Бесконечности в правом\nверхнем углу экрана отображается процент до следующего Тессеракта. Когда вы можете купить Тессеракт, кнопка Большого Сжатия\nсияет и перенаправляет вас во вкладку "Измерения Бесконечности".\n`,isUnlocked:()=>Enslaved.isCompleted,tags:["тессеракт","улучшение","иб"],tab:"celestials/tesseract"},{name:"Ви, Небожитель Достижений",alias:"Ви",info:()=>`\n<b>Ви</b> - четвёртый Небожитель.\n<br>\n<br>\nДостижение 151 формально разблокирует Ви, но на самом деле новый контент представляет собой его Реальность. Чтобы её\nразблокировать, вы должны одновременно выполнить все требования, указанные во вкладке "Ви".\n<br>\n<br>\n${VUnlocks.vAchievementUnlock.isUnlocked?`За выполнение Реальности Ви не предусмотрено награды. Вместо этого существует шесть <i>достижений Ви</i>, которые\n      могут быть выполнены только внутри Реальности Ви. Они не сбрасываются при выходе из Реальности.\n      <br>\n      <br>\n      Каждое достижение Ви имеет шесть уровней, подобно тому как каждое Испытание Вечности имеет пять уровней, и у каждого\n      следующего уровня цель выше, чем у предыдущего.\n      <br>\n      <br>\n      При выполнении определённых количеств уровней достижений Ви вы получаете <i>этапы Ви</i>.\n      <br>\n      <br>\n      За каждый выполненный уровень достижения Ви вы получаете по одной <i>Теореме Пространства</i>, которые могут быть\n      потрачены на покупку взаимоисключающих наборов Исследований Времени. На первое купленное Исследование из\n      взаимоисключающего набора вы тратите только Теоремы Времени, а на все последующие - как ТВ, так и Теоремы Пространства.\n      Теоремы Пространства также возвращаются вам при сбросе Древа Исследований.\n      <br>\n      <br>\n      Первый этап Ви разблокирует возможность понижать цели достижений Ви за Очки Умения. Кнопки для этого расположены под\n      соответствующими достижениями Ви. Но цель достижения "Рыцарь глифов" не может быть понижена.\n      <br>\n      <br>\n      Следующий Небожитель разблокируется последним Этапом Ви, для получения которого требуется выполнить все\n      ${formatInt(36)} уровней достижений Ви.`:"<span style='color: var(--color-bad);'>Разблокируйте Реальность Ви, чтобы просмотреть подробности о ней и связанным с ней контентом.</span>"}\n`,isUnlocked:()=>Achievement(151).isUnlocked,tags:["ви","достижение","теорема","пространства","этап"],tab:"celestials/v"},{name:"Ра, Небожитель Забвения",alias:"Ра",info:()=>`\n<b>Ра</b> - пятый Небожитель.\n<br>\n<br>\nЗа выполнение Реальности Ра не предусмотрено награды. Вместо этого внутри неё вы производите <i>Куски Памяти</i>\nв зависимости от определённых параметров. Существует четыре типа Кусков Памяти, каждый из которых ассоциирован со своим\nНебожителем среди четырёх предыдущих - Терезы, Эффарига, Безымянных и Ви. Изначально только Тереза получает Куски Памяти,\nвпоследствии вы разблокируете Куски Памяти остальных Небожителей.\n<br>\n<br>\nКаждый тип Кусков Памяти производит <i>Память</i> соответствующего Небожителя. В отличие от Кусков Памяти, Память\nпроизводится вне зависимости от того, находитесь ли вы в Реальности Ра. Кроме того, хранение реального времени не\nпрепятствует производству Памяти.\n<br>\n<br>\nУ каждого Небожителя есть три улучшения, которые можно покупать за его Память:\n<br>\n<b>Воспоминание</b> - увеличивает производство Памяти на ${formatPercents(.3)}.\n<br>\n<b>Разделение</b> - увеличивает производство Кусков Памяти на ${formatPercents(.5)}.\n<br>\n<b>Повышение на один уровень.</b> Каждый Небожитель даёт определённый бонус в зависимости от своего уровня.\n<br>\n<br>\nНа ${formatInt(Ra.remembrance.requiredLevels)} уровнях по всем Небожителям в сумме вы разблокируете <i>Напоминание</i>.\nОно позволяет выбрать Небожителя, чтобы он получал в ${formatInt(5)} раз больше Кусков Памяти, но остальные будут\nполучать в ${formatInt(2)} раза меньше.\n`,isUnlocked:()=>VUnlocks.raUnlock.isUnlocked,tags:["память","ра","небожителя","уровень","воспоминание","разделение","кусок","улучшение","напоминание"],tab:"celestials/ra"},{name:"Эффекты от Ра",info:()=>`\nВ эту статью вошли эффекты от Ра, каждый из которых достаточно понятен, чтобы не заслуживать отдельной статьи,\nно всё равно должен быть объяснён.\n<br>\n<br>\n<b>Тереза</b>\n<br>\n<br>\nЗа каждые ${formatInt(2)} уровня вы можете зарядить по одному Улучшению Бесконечности. При этом его эффект замещается другим,\nкак правило, гораздо более сильным, который зависит от уровня Терезы. <i>Заряженные Улучшения Бесконечности</i> можно\nсбрасывать на реальности, возвращая право заряжать то же самое количество улучшений.\n<br>\nНа ${formatInt(10)}-м уровне разблокируется <i>Расширение Глифов</i>. Это не новая механика, а просто набор бонусов к эффектам\nглифов, каждый из которых разблокируется при определённой суммарной ценности пожертвованных глифов данного типа. Список этих\nбонусов вы можете найти там же, где и информацию о Пожертвовании Глифов.\n<br>\n<br>\n<b>Эффариг</b>\n<br>\n<br>\nРазблокирует алхимию, которой посвящена отдельная статья.\n<br>\n<br>\n<b>Безымянные</b>\n<br>\n<br>\n\n${Ra.unlocks.enslavedUnlock.canBeApplied?`В зависимости от уровня вы получаете больше сохранённого игрового времени. Это делает выгодным заряжать и разряжать Чёрную Дыру вне зависимости от скорости игры. На ${formatInt(10)}-м уровне разблокируется <i>пульсирование</i> Чёрной Дыры - настройка, совершающая эти действия автоматически. Кроме того, при разрядке начинает расходоваться не всё игровое время, а только ${formatPercents(.99)}, что делает её эффект более долгоиграющим.`:"<span style='color: var(--color-bad);'>Разблокируете Память Безымянных, чтобы просмотреть информацию.</span>"}\n<br>\n<br>\n<b>Ви</b>\n<br>\n<br>\n${Ra.unlocks.vUnlock.canBeApplied?`Каждые ${formatInt(6)} уровней разблокируется новое <i>Тройственное Исследование</i>. Это особые Исследования Времени, которые покупаются за Теоремы Пространства. Чтобы купить Тройственное Исследование, необходимо купить все три окружающих его Исследования Времени.\nНа ${formatInt(6)}-м уровне разблокируются три <i>супер-достижения Ви</i>, каждое из которых имеет по пять уровней. Как и обычные достижения Ви, они могут быть выполены лишь внутри Реальности Ви. Каждый выполенный уровень супер-достижения Ви приравнивается к двум выполненным уровням обычных достижений Ви и, в частности, даёт две Теоремы Пространства, а не одну.`:"<span style='color: var(--color-bad);'>Разблокируете Память Ви, чтобы просмотреть информацию.</span>"}\n`,isUnlocked:()=>VUnlocks.raUnlock.isUnlocked,tags:["заряженное","зарядить","улучшение","бесконечности","расширение","глифов","пульсирование","тройственное","исследование","супер-достижение","ви","ра"],tab:""},{name:"Алхимия",info:()=>`\n<b>Алхимические ресурсы:</b> вы можете удалять глифы, получая за это некоторое количество алхимического ресурса,\nсоответствующего типу удаляемого глифа. Эта операция называется <i>облагораживанием</i> глифа. Чтобы облагородить глиф,\nоткройте панель "Удаление глифов" и выберите подходящую опцию, а затем сделайте то же самое, что и при пожертвовании глифа.\nКоличество алхимического ресурса, которое вы получаете, называется алхимической ценностью глифа. Каждый алхимический ресурс\nразблокируется на определённом уровне Эффарига и даёт определённый бонус.\n<br>\n<br>\nКоличество каждого основного алхимического ресурса имеет ограничение, зависящее от наибольшего из уровней облагороженных\nглифов соответствующего типа. Если при облагораживании глифа ограничение возрастает, то количество получаемого ресурса\nподчиняется новому ограничению.\n<br>\n(Формула: x<sup>${formatInt(3)}</sup>/${format(1e8)}.)\n<br>\nАлхимическая ценность глифа равна ${formatPercents(GlyphSacrificeHandler.glyphRefinementEfficiency)} от произведения этого\nзначения для его уровня на его редкость.\n<br>\n<br>\n<b>Алхимические реакции:</b> тратят одни алхимические ресурсы на производство других. Каждый алхимический ресурс,\nразблокирующийся на ${formatInt(8)}-м уровне Эффарига или позднее, не может быть получен облагораживанием глифов, но\nпроизводится определёной алхимической реакцией, которую вы можете включить или выключить по желанию. Алхимические реакции\nпроисходят рывками каждую реальность. Количество каждого производного алхимического ресурса ограничено наименьшим из\nколичеств производящих его ресурсов. На реальности при включенной реакции вы получаете ${formatPercents(.015,1,1)} от\nколичества ресурса, недостающего до этого ограничения.\n<br>\n<br>\nЧтобы переключить алхимическую реакцию, нажмите на значок производимого ею ресурса. Включенная реакция обозначается\nлиниями, движущимися от тратящегося ресурса к производимому. Если они соединены одной неподвижной линией, это значит,\nчто реакция не может пройти, так как их количества равны, и, соответственно, достигнуто ограничение.\n`,isUnlocked:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,tags:["алхимия","ресурс","реакция","облагораживание","глиф","облагородить","алхимический"],tab:"reality/alchemy"},{name:"Мнимые Улучшения",info:()=>`\nВы достигли ограничения в ${format(MachineHandler.baseRMCap)} Машин Реальности.\n<br>\n<br>\nТеперь у вас есть новый ресурс - <i>Мнимые Машины</i>. Они имеют ограничение, зависящее от рекордного количества МР, которое\nвы могли бы получить на реальности, если бы ограничения не сущестовало. Мнимые Машины пассивно производятся так, что их\nколичество приближается к органичению экспоненциально по реальному времяисчислению (каждую минуту реального времени разность\nмежду ограничением и вашим количеством ММ уменьшается вдвое).\n<br>\n<br>\n<b>Мнимые Улучшения</b> имеют все те же механики, что и Улучшения Реальности, с той лишь разницей, что покупаются они за\nМнимые Машины.\n`,isUnlocked:()=>MachineHandler.isIMUnlocked,tags:["мнимая","машина","улучшение"],tab:"reality/imag_upgrades"},{name:"Лайтела, Небожитель Измерений",alias:"Лайтела",info:()=>`\n<b>Лайтела</b> - шестой Небожитель.\n<br>\n<br>\nВ отличие от предыдущих Небожителей, Лайтеле сопутствуют много новых механик, так что мы разбили их на несколько статей\n("Континуум", "Измерения Тёмной Материи" и "Сингулярности"). В этой статье объясняется только её Реальность.\n<br>\n<br>\nРеальность Лайтелы своеобразна. В ней пассивно производится <i>энтропия</i> в зависимости от количества антиматерии по\nреальному времяисчислению. Цель Реальности - ${formatPercents(1)} энтропии, при её достижении вы принудительно покидаете\nРеальность. Её можно выполнять сколь угодно много раз, и её награда зависит от рекордного времени выполнения. Когда вы\nвыполняете Реальность Лайтелы за ${formatInt(30)} секунд или быстрее, её условие становится жёстче: перестаёт действовать\nпроизводство всех измерений очередного уровня. Такое выполнение называется <i>дестабилизацией</i> Реальности. При первой\nдестабилизации отключаются 8-е измерения всех видов, при второй - 7-е, и так далее. Рекорд выполнения Реальности Лайтелы\nсбрасывается каждый раз, когда вы впервые выполняете её после очередной дестабилизации, но при этом награда становится гораздо сильнее.\n`,isUnlocked:()=>Laitela.isUnlocked,tags:["лайтела","энтропия","дестабилизация"],tab:"celestials/laitela"},{name:"Континуум",info:()=>"\n<b>Континуум</b> - это механика, замещающая покупку Измерений Антиматерии и ускорителей. Теперь каждое Измерение Антиматерии\nи ускоритель имеет значение континуума, которое примерно равно количеству покупок, стоящих не больше, чем текущее\nколичество антиматерии, но изменяется непрерывно. При этом вы получаете множитель, равный множителю за покупку, возведённому\nв степень значения континуума.\n<br>\n<br>\nКонечно, эта механика была бы бесполезна сама по себе. Но в игре есть множители к значениям континуума, и первый из них вы\nуже разблокировали - это эффект Тёмной Материи. При отключённом континууме эти множители не имеют эффекта, так что вы теряте\nчасть производства.\n",isUnlocked:()=>Laitela.isUnlocked,tags:["континуум","значение"],tab:""},{name:"Измерения Тёмной Материи",info:()=>`\n<b>Измерения Тёмной Материи</b> - это очередной вид измерений. 1-е Измерение Тёмной Материи разблокируется одновременно с\nЛайтелой и производит <i>Тёмную Материю</i>. В зависимости от рекордного количества Тёмной Материи вы получаете множитель\nк значениям континуума. Вы получаете одно Измерение Тёмной Материи при его разблокировке, но не можете их покупать, в отличие\nот измерений всех остальных видов. Однако вы можете покупать множители к ним за Тёмную Материю.\n<br>\n<br>\nЕщё одна отличительная особенность Измерений Тёмной Материи заключается в том, что их производство не является непрервыным.\nВместо этого каждое из них осуществляет единичный объём произодства с некоторым интервалом по реальному времяисчислению,\nкоторый можно уменьшать за Тёмную Материю.\n<br>\n<br>\nКаждое Измерение Тёмной Материи сопряжено с источником ещё одного ресурса - <i>Тёмной Энергии</i>. Эти источники также\nосуществляют единичный объём производства Тёмной Энергии с тем же интервалом. Производство Тёмной Энергии также можно\nувеличивать за Тёмную Материю.\n<br>\n<br>\nИнтервал каждого Измерения Тёмной Материи имеет ограничение в ${formatInt(10)}мс, при достижении которого вам становится\nдоступно <i>вознесение</i>, дающее множители ${formatX(500)} к этому измерению и производству сопряжённого с ним источника\nТёмной Энергии, но увеличивающее интервал в ${formatInt(1200)} раз. Таким образом, среднее производство уменьшается, но\nвы вновь получаете возможность улучшать интервал. Вознесение можно повторить сколь угодно много раз.\n<br>\n<br>\n<b>Аннигиляция</b> разблокируется Мнимым Улучшением "Детерминированная Радиация". Она сбрасывает количества Измерений Тёмной\nМатерии до ${formatInt(1)} и Тёмную Материю вместе с улучшениями за неё, но даёт множитель ко всем Измерениям Тёмной Материи\nв зависимости от количества Тёмной Материи в момент аннигиляции. Её можно осуществлять сколь угодно много раз, но её\nмножитель накапливается аддитивно. Для аннигиляции требуется ${format(Laitela.annihilationDMRequirement)} Тёмной Материи.\n`,isUnlocked:()=>Laitela.isUnlocked,tags:["измерение","тёмная","материя","энергия","интервал","вознесение","аннигиляция","улучшение"],tab:""},{name:"Сингулярности",info:()=>`\n<b>Сингулярности</b> получаются путём сброса Тёмной Энергии, когда у вас её хотя бы ${formatInt(200)}. Это действие\nназывается <i>сжатием</i> и даёт вам одну Сингулярность. Обратите внимание, что оно не сбрасывает Измерения Тёмной Материи.\n<br>\n<br>\nДостигнув ${formatInt(10)} Сингулярностей, вы разблокируете возможность получать по несколько Сингулярностей за одно сжатие.\nВам становится доступной возможность свободно в любое время изменять количество Тёмной Энергии, требуемое для сжатия,\nв ${formatInt(10)} раз (с определёнными ограничениями). При этом количество Сингулярностей, получаемое на сжатии,\nизменяется в ${formatInt(11)} раз в соответствующую сторону, что изменяет среднюю скорость получения Сингулярностей.\n<br>\n<br>\nНа определённых количествах Сингулярностей вам даются <i>Этапы Сигулярности</i>.\n<br>\n<br>\nУ каждого Этапа Сингулярности есть значок, указывающий, какого рода эффект оно даёт:\n<br>\n<b>ᛝ</b> внутренний эффект Лайтелы\n<br>\n<i class="fas fa-arrows-alt"></i> эффект вовне от механик Лайтелы\n<br>\n<i class="fas fa-compress-arrows-alt"></i> эффект извне к механикам Лайтелы\n`,isUnlocked:()=>Laitela.isUnlocked,tags:["сингулярность","тёмная","энергия","этап"],tab:""},{name:"Пелль, Небожитель Антиматерии",alias:"Пелль",info:()=>`\n<b>Пелль</b> - седьмой и последний Небожитель.\n<br>\n<br>\nИмеет уникальную так называемую Обречённую Реальность, также известную как Обречение. В ней отключено большинство механик\nигры. Рекомендуется запустить её (<i>обречь Реальность</i>) немедленно, так как почти ничего, что вы делали до Обречения,\nне поможет вам после. <b>Из Обречённой Реальности невозможно выйти.</b>\n<br>\n<br>\nДостижение технического ограничения в ${formatPostBreak(v.E9E15)} антиматерии в Обречённой Реальности знаменует собой\nторжество над Небожителями и полное прохождение игры.\n<br>\n<br>\nПо аналогии с Лайтелой, информация о Пелле разбита на несколько статей.\n`,isUnlocked:()=>Pelle.isUnlocked,tags:["пелль","обречённая","реальность"],tab:"celestials/pelle"},{name:"Армагеддон",info:()=>"\n<b>Армагеддон</b> - это престиж, который можно совершить в Обречении в любой момент, сбрасывающий всё то же, что и реальность.\nДаёт <i>Останки</i> в зависимости от рекордного количества антиматерии, Очков Бесконечности и Очков Вечности, в зависимости от количества\nкоторых производятся <i>Осколки Реальности</i> по реальному времяисчислению. Останки, аналогично Тахионам, не накапливаются.\n<br>\n<br>\nОсколки Реальности могут быть потрачены на <i>Улучшения Пелля</i>.\n<br>\n<br>\n<b>Горячая клавиша Z</b> совершает армагеддон.\n",isUnlocked:()=>Pelle.isUnlocked,tags:["армагеддон","сброс","престиж","останок","осколок","реальности","улучшение","пелля"],tab:""},{name:"Разломы и Удары Пелля",info:()=>`\n<b>Удары Пелля</b> - это различные необратимые ослабления, которыми вас наказывает Пелль за достижение определённых стадий\nпрогресса в Обречённой Реальности. Они не сбрасываются даже на армагеддоне.\n<br>\n<br>\n<b>Разломы</b> разблокируются Ударами Пелля в качестве компенсации (каждому Удару Пелля соответствует свой Разлом).\nЧтобы получить эффект от Разлома, нужно заполнять его, что можно сделать, нажав на полоску Разлома (на ней появится\nнадпись "Заполняется"). При этом ${formatPercents(.03)} соответствующего ресурса в секунду реального времени будет\nуходить в Разлом. Ресурсы в Разломах не подлежат возвращению в свободный доступ. От каждого Разлома вы получаете\nопределённый эффект, который зависит от общего количества ресурса, расходованного на него. Кроме того, при достижении\nопределённых количеств расходованного ресурса вы получаете дополнительные бонусы. У каждого Разлома есть определённая\nмаксимальная ёмкость. Вы можете свободно включать и выключать заполнение Разломов в любое время, но одновременно можно\nзаполнять не более двух Разломов.\n`,isUnlocked:()=>PelleStrikes.infinity.hasStrike,tags:["удар","пелля","разлом"],tab:""},{name:"Генератор Галактик",info:()=>"\n<b>Генератор Галактик</b> производит очередной независимый тип галактик без названия по реальному времяисчислению.\nУ него есть пять повторяемых улучшений, направленнных на увеличение производства галактик. Цена первых двух из них\nвыражена в галактиках - имеются в виду только Галактики Антиматерии и галактики, произведённые Генератором.\n<br>\n<br>\nСуществует ограничение на количество галактик, которое может произвести Генератор. Это ограничение можно увеличивать,\nно придётся избавляться от Разломов. Рекомендуется всегда делать это немедленно.",isUnlocked:()=>Pelle.hasGalaxyGenerator,tags:["генератор","галактика","улучшение"],tab:""}]};function ya(e){const t=e.effect||(e=>e),{id:i,maxUpgrades:a,description:n,isDisabled:s,noLabel:r,onPurchased:o}=e;return{rebuyable:!0,id:i,cost:()=>e.initialCost*Math.pow(e.costIncrease,player.infinityRebuyables[e.id]),maxUpgrades:a,description:n,effect:()=>t(player.infinityRebuyables[e.id]),isDisabled:s,formatEffect:e.formatEffect||(t=>{const i=e.afterEC?e.afterEC():"";return t===e.maxUpgrades?`Сейчас: ${formatX(10-t)}${i}`:`Сейчас: ${formatX(10-t)} | При покупке: ${formatX(10-t-1)}`}),formatCost:e=>format(e,2,0),noLabel:r,onPurchased:o}}(function(){for(let h=0;h<ma.tabs.length;h++){const e=ma.tabs[h];e.id=h,void 0===e.alias&&(e.alias=e.name),e.searchTermsRelevance={}}const e={},t=(t,i)=>{let a=e[t];void 0===a&&(a=[],e[t]=a),a.includes(i)||a.push(i)},i=(e,i)=>{const a=e.toLowerCase();for(let n=0;n<a.length;n++){const e=a.slice(0,n+1);t(e,i),void 0===i.searchTermsRelevance[e]?i.searchTermsRelevance[e]=((n+1)/a.length)**.65:i.searchTermsRelevance[e]=Math.max(i.searchTermsRelevance[e],((n+1)/a.length)**.65)}},a=(e,t)=>{i(e,t);for(const a of e.split(" "))i(a,t)};for(const h of ma.tabs)a(h.name,h);for(const h of ma.tabs)for(const e of h.tags)a(e,h);for(const h of ma.tabs)a(h.alias,h);const n=function(e,t,i){const a={};for(let n=0;n<e.length;n++)for(let s=0;s<e[n].length;s++)a[t(e[n][s],n,s)]=i(e[n][s],n,s);return a},s=e=>n(e.split(",").map((e=>e.split(""))),(e=>e),((e,t,i)=>({x:t,y:i}))),r=s("ё,йцукенгшщзхъ,фывапролджэ,ячсмитьбю"),o=function(e,t,i){const a=i[e],n=i[t];return a&&n?Math.max(Math.abs(a.x-n.x),Math.abs(a.y-n.y)):100},l=function(e,t,i){if(e===t)return 0;const a=e.length,n=t.length;if(Math.abs(a-n)>3)return 100;const s=new Array(a+1).fill(0).map((()=>new Array(n+1).fill(0)));for(let r=0;r<=a;r++)s[r][0]=r;for(let r=0;r<=n;r++)s[0][r]=r;for(let r=1;r<=a;r++)for(let a=1;a<=n;a++){const n=o(e[r-1],t[a-1],i),l=0===n?0:.3+n*n*.25;s[r][a]=Math.min(s[r-1][a]+.55,s[r][a-1]+.7,s[r-1][a-1]+l)}return s[a][n]},c=function(e,t){let i=1e10;return i=Math.min(i,l(e,t,r)),i},u=["'",'"',",","-",".","_"],d=function(e){let t=e;for(const i of u)t=t.replaceAll(i,"");return t};ma.search=t=>{const i=d(t);if(""===i)return ma.tabs.map((e=>({tab:e,relevance:1.5})));const a=i.toLowerCase().split(" ").filter((e=>""!==e)),n=Array.repeat(1e4,ma.tabs.length);for(const r of a){const t=.5*Math.min(r.length-.9,3);for(const i in e){const a=c(d(i),r);if(a<t)for(const t of e[i]){const e=t.searchTermsRelevance[i],s=Math.max(1.6*e-.9,0);n[t.id]=Math.min(n[t.id],Math.max(a,1-e)-s)}}}const s=ma.tabs.filter((e=>n[e.id]<.9)).map((e=>({tab:e,relevance:n[e.id]})));return s.sort(((e,t)=>e.tab.id-t.tab.id)).sort(((e,t)=>e.relevance-t.relevance)),s}})();const fa={totalAMMult:{id:"totalMult",cost:1e4,description:"Множитель к Измерениям Антиматерии в зависимости от общего количества произведённой антиматерии",effect:()=>Math.pow(player.records.totalAntimatter.exponent+1,.5),formatEffect:e=>formatX(e,2,2)},currentAMMult:{id:"currentMult",cost:5e4,description:"Множитель к Измерениям Антиматерии в зависимости от количества антиматерии",effect:()=>Math.pow(Currency.antimatter.exponent+1,.5),formatEffect:e=>formatX(e,2,2)},galaxyBoost:{id:"postGalaxy",cost:5e11,description:()=>`Галактики на ${formatPercents(.5)} сильнее`,effect:1.5},infinitiedMult:{id:"infinitiedMult",cost:1e5,description:"Множитель к Измерениям Антиматерии в зависимости от количества бесконечностей",effect:()=>1+10*Currency.infinitiesTotal.value.pLog10(),formatEffect:e=>formatX(e,2,2)},achievementMult:{id:"achievementMult",cost:1e6,description:"Множитель к Измерениям Антиматерии в зависимости от количества выполненных достижений",effect:()=>Math.max(Math.pow(Achievements.effectiveCount-30,3)/40,1),formatEffect:e=>formatX(e,2,2)},slowestChallengeMult:{id:"challengeMult",cost:1e7,description:"Множитель к Измерениям Антиматерии в зависимости от худшего из рекордов испытаний",effect:()=>Decimal.clampMin(50/Time.worstChallenge.totalMinutes,1),formatEffect:e=>formatX(e,2,2),hasCap:!0,cap:v.D3E4},infinitiedGen:{id:"infinitiedGeneration",cost:2e7,description:()=>`Вы производите бесконечности со скоростью ${format(.5,1,1)} за рекордное время бесконечности`,effect:()=>player.records.bestInfinity.time,formatEffect:e=>{if(e===Number.MAX_VALUE&&!Pelle.isDoomed)return"Отключено ввиду отсутствия бесконечностей";let t=v.D1;t=t.timesEffectsOf(RealityUpgrade(5),RealityUpgrade(7),Ra.unlocks.continuousTTBoost.effects.infinity),t=t.times(getAdjustedGlyphEffect("infinityinfmult"));const i=Time.bestInfinity.totalMilliseconds<=50?`${TimeSpan.fromMilliseconds(100).toStringShort()} (ограничено)`:`${Time.bestInfinity.times(2).toStringShort()}`;return`${quantify("бесконечность",t)} за ${i}`}},autobuyMaxDimboosts:{id:"autobuyMaxDimboosts",cost:5e9,description:"Вы можете покупать Расширения Измерения оптом"},autobuyerSpeed:{id:"autoBuyerUpgrade",cost:1e15,description:"Уменьшить интервалы автоматики Измерений Антиматерии, ускорителей, Расширений Измерении, Галактик Антиматерии и Большого Сжатия вдвое"},tickspeedCostMult:ya({id:0,initialCost:1e6,costIncrease:5,maxUpgrades:8,description:"Понизить вторую наценку на ускорители",afterEC:()=>EternityChallenge(11).completions>0?` (С учётом награды за ИспВ11: ${formatX(Player.tickSpeedMultDecrease,2,2)})`:"",noLabel:!0,onPurchased:()=>GameCache.tickSpeedMultDecrease.invalidate()}),dimCostMult:ya({id:1,initialCost:1e7,costIncrease:5e3,maxUpgrades:7,description:"Понизить вторую наценку на Измерения Антиматерии",afterEC:()=>EternityChallenge(6).completions>0?` (С учётом награды за ИспВ6: ${formatX(Player.dimensionMultDecrease,2,2)})`:"",noLabel:!0,onPurchased:()=>GameCache.dimensionMultDecrease.invalidate()}),ipGen:ya({id:2,initialCost:1e7,costIncrease:10,maxUpgrades:10,effect:e=>Player.bestRunIPPM.times(e/20),description:()=>{let e=`Вы производите ${formatInt(5*player.infinityRebuyables[2])}%`;return BreakInfinityUpgrade.ipGen.isCapped||(e+=` ➜ ${formatInt(5*(1+player.infinityRebuyables[2]))}%`),`${e} от лучшего прироста ОБ за время среди десяти прошлых бесконечностей`},isDisabled:e=>e.eq(0),formatEffect:e=>`${format(e,2,1)} ОБ/мин`,noLabel:!1})};function ga(){return Currency.infinitiesTotal.value.times(.2).plus(1)}function ba(){return 1+Math.log10(Math.max(1,Currency.infinitiesTotal.value.pLog10()))*Math.sqrt(Ra.pets.teresa.level)/150}const va={totalTimeMult:{id:"timeMult",cost:1,description:"Множитель к Измерениям Антиматерии в зависимости от времени игры",effect:()=>Math.pow(Time.totalTimePlayed.totalMinutes/2,.15),formatEffect:e=>formatX(e,2,2),charged:{description:"Множители Измерений Антиматерии возведены в степень в зависимости от времени игры",effect:()=>1+Math.log10(Math.log10(Time.totalTimePlayed.totalMilliseconds))*Math.pow(Ra.pets.teresa.level,.5)/150,formatEffect:e=>formatPow(e,4,4)}},dim18mult:{id:"18Mult",cost:1,checkRequirement:()=>InfinityUpgrade.totalTimeMult.isBought,description:"Множитель к 1-му и 8-му Измерениям Антиматерии в зависимости от количества бесконечностей",effect:()=>ga(),formatEffect:e=>formatX(e,1,1),charged:{description:"Множители 1-го и 8-го Измерений Антиматерии возведены в степень в зависимости от количества бесконечностей",effect:()=>ba(),formatEffect:e=>formatPow(e,4,4)}},dim27mult:{id:"27Mult",cost:1,checkRequirement:()=>InfinityUpgrade.buy10Mult.isBought,description:"Множитель ко 2-му и 7-му Измерениям Антиматерии в зависимости от количества бесконечностей",effect:()=>ga(),formatEffect:e=>formatX(e,1,1),charged:{description:"Множители 2-го и 7-го Измерений Антиматерии возведены в степень в зависимости от количества бесконечностей",effect:()=>ba(),formatEffect:e=>formatPow(e,4,4)}},dim36mult:{id:"36Mult",cost:1,checkRequirement:()=>InfinityUpgrade.dim18mult.isBought,description:"Множитель к 3-му и 6-му Измерениям Антиматерии в зависимости от количества бесконечностей",effect:()=>ga(),formatEffect:e=>formatX(e,1,1),charged:{description:"Множители 3-го и 6-го Измерений Антиматерии возведены в степень в зависимости от количества бесконечностей",effect:()=>ba(),formatEffect:e=>formatPow(e,4,4)}},dim45mult:{id:"45Mult",cost:1,checkRequirement:()=>InfinityUpgrade.dim27mult.isBought,description:"Множитель к 4-му и 5-му Измерениям Антиматерии в зависимости от количества бесконечностей",effect:()=>ga(),formatEffect:e=>formatX(e,1,1),charged:{description:"Множители 4-го и 5-го Измерений Антиматерии возведены в степень в зависимости от количества бесконечностей",effect:()=>ba(),formatEffect:e=>formatPow(e,4,4)}},resetBoost:{id:"resetBoost",cost:1,checkRequirement:()=>InfinityUpgrade.dim36mult.isBought,description:()=>`Уменьшить цены на Расширения Измерений и Галактики Антиматерии на ${formatInt(9)} 8-х Измерений Антиматерии`,effect:9,charged:{description:()=>"Уменьшить цены на Расширения Измерений",effect:()=>1/(1+Math.sqrt(Ra.pets.teresa.level)/10),formatEffect:e=>`в ${format(1/e,4,4)} раз`}},buy10Mult:{id:"dimMult",cost:1,description:()=>`Увеличить множитель за покупку ${formatInt(10)} Измерений Антиматерии`,effect:()=>1.1,formatEffect:()=>`${formatX(2,0,1)} ➜ ${formatX(2.2,0,1)}`,charged:{description:()=>`Множитель за покупку ${formatInt(10)} Измерений Антиматерии возведён в степень`,effect:()=>1+Ra.pets.teresa.level/200,formatEffect:e=>formatPow(e,3,3)}},galaxyBoost:{id:"galaxyBoost",cost:2,checkRequirement:()=>InfinityUpgrade.dim45mult.isBought,description:"Галактики вдвое сильнее",effect:2,charged:{description:"Галактики сильнее",effect:()=>2+Math.sqrt(Ra.pets.teresa.level)/100,formatEffect:e=>`на ${formatPercents(e-1)} сильнее`}},thisInfinityTimeMult:{id:"timeMult2",cost:3,description:"Множитель к Измерениям Антиматерии в зависимости от длительности текущей бесконечности",effect:()=>Decimal.max(Math.pow(Time.thisInfinity.totalMinutes/4,.25),1),formatEffect:e=>formatX(e,2,2),charged:{description:"Множители Измерений Антиматерии возведены в степень в зависимости от длительности текущей бесконечности",effect:()=>1+Math.log10(Math.log10(Time.thisInfinity.totalMilliseconds+100))*Math.sqrt(Ra.pets.teresa.level)/150,formatEffect:e=>formatPow(e,4,4)}},unspentIPMult:{id:"unspentBonus",cost:5,checkRequirement:()=>InfinityUpgrade.thisInfinityTimeMult.isBought,description:"Множитель к 1-му Измерению Антиматерии в зависимости от количества Очков Бесконечности",effect:()=>Currency.infinityPoints.value.dividedBy(2).pow(1.5).plus(1),formatEffect:e=>formatX(e,2,2),charged:{description:"Множитель к 1-му Измерению Антиматерии в зависимости от количества Очков Бесконечности",effect:()=>Currency.infinityPoints.value.dividedBy(2).pow(1.5*Math.sqrt(Ra.pets.teresa.level)).plus(1),formatEffect:e=>formatX(e,2,2)}},dimboostMult:{id:"resetMult",cost:7,checkRequirement:()=>InfinityUpgrade.unspentIPMult.isBought,description:"Увеличить множитель Расширения Измерений по умолчанию",effect:()=>2.5,formatEffect:()=>`${formatX(2,0,1)} ➜ ${formatX(2.5,0,1)}`,charged:{description:"Множитель Расширения Измерений возведён в степень",effect:()=>1+Ra.pets.teresa.level/200,formatEffect:e=>formatPow(e,3,3)}},ipGen:{id:"passiveGen",cost:10,checkRequirement:()=>InfinityUpgrade.dimboostMult.isBought,description:()=>`Вы производите по Очку Бесконечности с периодом в ${formatInt(10)} раз большим, чем рекордное время бесконечности`,effect:()=>Pelle.isDoomed?v.D0:GameCache.totalIPMult.value,formatEffect:e=>Pelle.isDoomed?"Недоступно":player.records.bestInfinity.time===Number.MAX_VALUE?"Отключено ввиду отсутствия бесконечностей":`${format(e,2)} ОБ раз в ${Time.bestInfinity.times(10).toStringShort()}`,charged:{description:"Вы производите Машины Реальности пропорционально количеству, которое вы могли бы получить при реальности",effect:()=>Math.pow(Ra.pets.teresa.level,2)*Ra.unlocks.continuousTTBoost.effects.autoPrestige.effectOrDefault(1),formatEffect:e=>formatX(e,2,1)}},skipReset1:{id:"skipReset1",cost:20,description:()=>`Начинать с ${formatInt(1)} Расширением Измерений`},skipReset2:{id:"skipReset2",cost:40,checkRequirement:()=>InfinityUpgrade.skipReset1.isBought,description:()=>`Начинать с ${formatInt(2)} Расширениями Измерений`},skipReset3:{id:"skipReset3",cost:80,checkRequirement:()=>InfinityUpgrade.skipReset2.isBought,description:()=>`Начинать с ${formatInt(3)} Расширениями Измерений`},skipResetGalaxy:{id:"skipResetGalaxy",cost:300,checkRequirement:()=>InfinityUpgrade.skipReset3.isBought,description:()=>`Начинать с ${formatInt(4)} Расширениями Измерений и ${formatInt(1)} Галактикой Антиматерии`},ipOffline:{id:"ipOffline",cost:1e3,checkRequirement:()=>Achievement(41).isUnlocked,description:()=>player.options.offlineProgress?`Производить ${formatPercents(.5)} от лучшего прироста ОБ за время среди бесконечностей, на протяжении которых вы не нажимали кнопку "Купить всё", офлайн`:"Это Улучшение производило бы Очки Бесконечности, но офлайн-прогресс отключён",effect:()=>player.options.offlineProgress?player.records.thisEternity.bestIPMsWithoutMaxAll.times(TimeSpan.fromMinutes(1).totalMilliseconds/2):v.D0,isDisabled:()=>!player.options.offlineProgress,formatEffect:e=>`${format(e,2,2)} ОБ/мин`},ipMult:{id:"ipMult",cost:()=>InfinityUpgrade.ipMult.cost,checkRequirement:()=>Achievement(41).isUnlocked,costCap:v.E6E6,costIncreaseThreshold:v.E3E6,description:()=>"Удвоить получение Очков Бесконечности",effect:()=>player.IPMultPurchases>=33e5?v.E1E6:v.D2.pow(player.IPMultPurchases),cap:()=>{var e;return null!==(e=Effarig.eternityCap)&&void 0!==e?e:v.E1E6},formatEffect:e=>formatX(e,2,2)}},Ea={upgrades:va,breakUpgrades:fa};function Ta(e){return e/player.options.news.speed}const _a=[{id:"a1",text:"Печенька - ложь."},{id:"a2",text:"Эта новость не останавливается на этой станции. Пожалуйста, дождитесь следующей новости."},{id:"a3",text:"Человечество отказалось от атомных электростанций в пользу энергии антиматерии."},{id:"a4",text:"Доказано, что печенья из антиматерии не существует, кто бы ни утверждал обратное, прекратите."},{id:"a5",text:"Цены на антиматерию рухнули благодаря открытому недавно обильному источнику."},{id:"a6",text:"Сегодня в новостях: люди пожертвовали животное из антиматерии богу антиматерии."},{id:"a7",text:"Вы произвели одну единицу антиматерии! Что бы это ни значило."},{id:"a8",text:"Установите новостную строку как приложение и узнавайте свежие новости без подключения к интернету!"},{id:"a9",text:"Так, что делает кнопка M?"},{id:"a10",text:"Как отключить новости?"},{id:"a11",text:"Учёные подтверждают, что цвет антиматерии - серо-буро-малиновый."},{id:"a12",text:"Человек, которому подвластны сами пространство и время, не придумал ничего, кроме как обратиться жирафом! Да, жирафом, ёлки-иголки! Такой комедии я ещё не видал."},{id:"a13",text:'Электроны начали видеть в жизни позитив.\n      Мы будем называть такие позитивные электроны "позитронами". Погодите, разве уже есть такое слово?'},{id:"a14",text:"Эта совершенно бесполезная новость ни к чему вас не приведёт, и вы это знаете.\n      Какой ужасный, несносный человек её придумал, он, возможно, попадёт в ад,\n      и зачем только разработчик её добавил? Даже если продолжить её читать, вы не\n      сможете прочитать её целиком (с первого раза)."},{id:"a15",text:'"ПРИВИДЕНИЕ ПРИВЕТСТВУЕТ" - Boo-chan'},{id:"a16",text:'"Кто-нибудь может попросить hevi успокоиться?" - Mee6'},{id:"a17",text:"Из-за влияния антиматерии на физику один лось стал человеком."},{id:"a18",text:"!hi"},{id:"a19",text:'"Ладно" - Alright'},{id:"a20",text:"Английское приветствие отсутствует в речи антиматерии."},{id:"a21",text:"Купить всё или не купить всё - вот в чём вопрос."},{id:"a22",text:"Раз, два, несколько, девяносто девять, NaN!"},{id:"a23",text:"Нет, мама, я не могу поставить эту игру на паузу."},{id:"a24",text:"Научная нотация вышла на поле боя."},{id:"a25",text:'"Сделаем Вселенную снова великой!" - Трональд Дамп'},{id:"a26",text:"#dank-maymays"},{id:"a27",get text(){return`Появилась новая религия, распространяющаяся со скоростью лесного пожара. Исповедующие эту религию поклоняются\n        Небесной Пелле, богине антиматерии. Кроме того, они считают, что ${format(Number.MAX_VALUE,2)}\n        - это бесконечность.`}},{id:"a28",text:"Кто-то только что коснулся кляксы и взорвался. Это клякса была сделана из антиматерии или взорванный - из взрывчатки?"},{id:"a29",text:"Если этот сайт имеет адрес, отличный от https://googolplexo1.github.io/AntimatterDimensionsSourceCode/,\n          это подозрительно."},{id:"a30",text:"Поставьте игре 5 звёзд на Kongregate, чтобы больше людей могло испытать эту 5-звёздочную оценку."},{id:"a31",text:'"Ну, не знаю, просто я не доверяю автоматике 5-го Измерения." - kajfik'},{id:"a32",text:'"Вы слишком долго ели." - Hevipelle'},{id:"a33",text:'"Я ненавижу себя." - Boo-chan'},{id:"a34",text:'"Боже мой" - Xandawesome'},{id:"a35",text:"Над нами нет ничего, кроме звёзд над нами."},{id:"a36",text:"Вы хотите производить антиматерию. Но никто не хочет есть вашу антиматерию."},{id:"a37",text:"Кто-то плохо вёл себя, и на него обрушился шторм из антиматерии."},{id:"a38",text:"Времена меняются, и мы меняемся вместе с ними."},{id:"a39",text:"Я слишком быстро нажимал… Теперь мой ПК дематериализован."},{id:"a40",text:'"Если инопланетянин приземлится на лужайке перед вашим домом и протянет придаток в знак приветствия, прежде чем\n      подружиться с ним, бросьте ему шар с восьмёркой. Если придаток взорвётся, то, возможно, инопланетянин состоял из антиматерии.\n      Иначе вы можете показать его главе вашего государства." - Нил Деграсс Тайсон'},{id:"a41",text:"Материи всегда должно быть столько же, сколько антиматерии; видимо, твоя мать заботится об этом равновесии."},{id:"a42",text:"Ничего не теряется, ничего не создаётся."},{id:"a43",text:"Мы вырыли большую яму для хранения антиматерии… а Адель скатывается в неё."},{id:"a44",text:"Если всё вокруг состоит из антиматерии, как мы видим себя?"},{id:"a45",text:"Фондовые рынки обвалились из-за того, что существа из антиматерии как-то узнали о том, чем они будут завтра."},{id:"a46",text:"Мой пёс съел слишком много антиматерии, и теперь он мяукает!"},{id:"a47",text:"Если ввести бесконечность в калькулятор, будет 42!"},{id:"a48",text:"Вы нашли самую редкую Пепе из антиматерии, она очень редкая!"},{id:"a49",get text(){return`Сможем ли мы набрать ${format(1e169)} лайков под этим видео??? Жмите большой палец вверх!!`}},{id:"a50",text:"Запах антиматерии был выявлен. Она пахнет котятами."},{id:"a51",text:"Просто ещё одна единица антиматерии в стене."},{id:"a52",text:"ВОТ ТЕБЕ ПУЛИ, СЛАБАК"},{id:"a53",text:'"Большое спасибо" - Dankesehr'},{id:"a54",text:"Ситуация в мире - бедствие для всего мира!! MAYDAY, MAYDAY!!"},{id:"a55",text:'"Как то, что солнце встаёт на западе, несомненно то, что из всех певцов и\n      поэтов на земле я самый лучший." - Hevipelle'},{id:"a56",text:'"Я хорошо умею использовать github." - Hevipelle'},{id:"a57",text:"Это предложение не имеет никакого\n      отношения к игре… или всё-таки имеет?"},{id:"a58",text:"Недавно было проведено исследование, установившее связь потребления картофеля с повышенным риском взрыва антиматерии.\n      Учёные рекомендуют увеличить потребление."},{id:"a59",text:'"Я думал, что устранил эту ошибку, но, видимо, одно из обновлений возвратило её." - Hevipelle'},{id:"a60",text:'"Тогда, может быть, я голубой." - Bootato'},{id:"a61",text:'Срочные новости! Hevipelle только что объявил, что кнопка "Купить всё" на самом деле будет удалена!'},{id:"a62",text:"Я посвящаю эту игру своей девушке."},{id:"a63",text:"Ружья из антиматерии не убивают людей из антиматерии, люди из антиматерии убивают людей из антиматерии, но значит ли это,\n      что тостер из антиматерии не поджаривает тосты из антиматерии, тост из антиматерии поджаривает тосты из антиматерии?"},{id:"a64",text:"Но не будет ли человек из антиматерии считать себя состоящим из материи, а нас - из антиматерии?"},{id:"a65",text:"Вы серьёзно считаете, что все предлагаемые вами новости попадут в игру?"},{id:"a66",text:"Начало учёбы вселяет страх в школьников по всей Вселенной, так как школы больше не разделены между\n      материей и антиматерией. Аннигиляция становится важной проблемой."},{id:"a67",text:"Почему никто не говорит о 0-м Измерении?"},{id:"a68",text:"Разработчики хотели бы пояснить, что по сюжету игры материя уже искоренена из Вселенной."},{id:"a69",text:"Мне скучно. Кому нужен новый слой престижа?"},{id:"a70",text:"Если вы не можете прочесть это сообщение, вы отключили новости."},{id:"a71",text:"Не покидает сервер, а лишь заглушает его, чтобы не получать уведомлений."},{id:"a72",text:'"Цитаты, встречающиеся в интернете, как правило, приписаны не тем авторам." - Владимир Ленин'},{id:"a73",text:'"Теперь это должно работать, но не работает." - Hevipelle'},{id:"a74",text:"В этой игре нет ошибок… это альтернативные пути к успеху."},{id:"a75",text:"Был открыт третий тип вещества: нулевая материя. Она ничего не делает и, по сути,\n      бесполезна. Открывшие её учёные были уволены."},{id:"a76",text:"Твоя тёща продолжает ворчать на тебя насчёт всех этих коллайдеров антиматерии."},{id:"a77",text:"Если материя существует, то, значит, антиматерии не существует?"},{id:"a78",text:"Антиматерия=Жизнь. Не булыжник, не грязь, ничего подобного. Антиматерия."},{id:"a79",text:'"Это не цитата."'},{id:"a80",text:"В недрах антитундры выдры в антигетрах тырят в антивёдра ядра антикедров."},{id:"a81",text:'"Измерения Антиматерии 2": ожидайте через 5 дней!'},{id:"a82",text:'"Это потому, что я хороший разработчик игр, внедривший код, который точно работает." - Hevipelle'},{id:"a83",text:'"Ради этой игры я забросил школу." - hevipelle'},{id:"a84",text:"Не раздражает ли вас, когда люди не оканчивают свои"},{id:"a85",text:"Не антиссылайся на мои слова."},{id:"a86",text:"Lorem ipsum dolor sit amet pri simul tempor oblique ei aeque prompta te duo in est commodo persius\n      graecis integre petentium iudicabit et eum et per dico idque mei ei eleifend complectitur ei sea nisl\n      expetendis omittantur novum primis suscipit ne est consulatu definiebas sea cu vocent prodesset\n      scribentur est ne ea aperiam labitur omnesque per impetus repudiare et has his ad odio paulo\n      lobortis eu sea vide everti usu ex legendos patrioque quo te hinc sadipscing adversarium nullam\n      nostrum deserunt in vix ne cum eros iisque argumentum vel luptatum imperdiet in reque perfecto cum ex\n      cum ei tempor quidam persequeris aperiam epicurei vix no euripidis definitionem has ut eu mea\n      invenire explicari per vitae scaevola ut Ius solet sadipscing ne at per error facilisi ei eos putant\n      scriptorem mei id summo concludaturque quo cu velit adolescens rationibus te quot fabellas\n      disputationi nec eu fugit quando malorum eum id usu quidam omittam vituperatoribus in impetus dolorem\n      qui te elitr integre intellegebat sea sumo exerci feugait ne est te verear epicuri mea affert\n      democritum mel et at vix mollis sensibus an sed labitur consulatu aliquando aim quis dolores te\n      viderer assentior mei an id choro ceteros mea te nihil probatus invenire qui eum id efficiantur\n      accommodare vim alia latine recteque ei duis postulant sententiae quo te."},{id:"a87",text:"Согласно никаким из известных законов авиации, быть поглощённой антиматерией пчела\n      ещё как может."},{id:"a88",text:"Ты либо умираешь, состоя из материи, либо живёшь до тех пор, пока тебя не поглотит антиматерия, и всё равно умираешь."},{id:"a89",text:"Если ты долго смотришь в антиматерию, то антиматерия тоже смотрит в тебя."},{id:"a90",text:'"Всегда буду бросать тебя. Всегда буду подводить тебя." - Антирик Эстли'},{id:"a91",text:'"Измерения Антиматерии": следующее обновление всегда через 5 часов. Всегда.'},{id:"a92",get text(){const e=[{name:"Antimatter Dimensions",link:"https://ivark.github.io/"},{name:"FE000000",link:"https://dan-simon.github.io/misc/fe000000/"},{name:"Trimps",link:"https://trimps.github.io/"},{name:"Mine Defense (в протоколе https интерфейс игры не работает, так что убедитесь, что вы используете http!)",link:"http://scholtek.com/minedefense"},{name:"Wizard and Minion Idle",link:"https://www.kongregate.com/games/Oninou/wami"},{name:"Anti-Idle",link:"https://www.kongregate.com/games/Tukkun/anti-idle-the-game"},{name:"Synergism",link:"https://synergism.cc/"},{name:"Universal Paperclips",link:"https://www.decisionproblem.com/paperclips/index2.html"},{name:"Monies<sup>2</sup>",link:"https://sneekxy.nmtechgroup.com/monies2/"},{name:"The First Alkahistorian stages 1, 2, and 3",link:"https://nagshell.github.io/elemental-inception-incremental/"},{name:"Melvor Idle",link:"https://melvoridle.com/"}],t=e.randomElement();return`Неопознанный разработчик "Измерений Антиматерии" хотел бы\n        рекомендовать вам сыграть в <a href="${t.link}" target="_blank">${t.name}</a>`}},{id:"a93",text:"По 10-балльной шкале я оцениваю эту игру на твёрдую\n      <span style='color: red'>java.lang.IndexOutOfBoundsException</span>"},{id:"a94",text:"Не знаю, почему все утверждают, что 9-го Измерения не существует. На самом деле получить к нему доступ очень просто! Надо [ДАННЫЕ УДАЛЕНЫ]."},{id:"a95",text:"ВЕЧНОСТЬ - НЕ ПРЕДЕЛ!"},{id:"a96",text:"Давным-давно было научно доказано, что коты из материи - мудаки. У нас хорошие новости,\n      ведь коты из антиматерии - всё ещё мудаки."},{id:"a97",text:"Однажды мне не сказали, что антимир меня не раздавит."},{id:"a98",text:"Антиматерия - это как интернет. Если вы читаете это сообщение, значит, вам её не хватает."},{id:"a99",text:'"Благодаря антиматерии у нас есть возможность путешествовать во времени, и я пришёл, чтобы сделать\n      прошлое снова великим." - 2-й Президент Мира'},{id:"a100",text:'Пожалуйста, вставьте диск -1, чтобы продолжить играть в "Измерения Антиматерии"™.'},{id:"a101",text:"Сюжет - скоро™"},{id:"a102",text:"Когда-то и я был частью антиматерии. Но потом мне в колено попала материя."},{id:"a103",text:"Антиматерия… антиматерия никогда не меняется… пока вы не перейдёте к квантовой физике антиматерии,\n      но для этого у нас недостаточно Тахионов.",get unlocked(){return PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()}},{id:"a104",text:'В "Измерениях Антиматерии" нет войны. Здесь мы в безопасности. Здесь мы свободны.'},{id:"a105",text:"Глобальное потепление остановлено благодаря антиматерии. А теперь к новостям, не связанным с этой: Земли больше не существует."},{id:"a106",text:"Антивода. Антиземля. Антиогонь. Антивоздух. Когда-то давно четыре антинарода жили в мире.\n      Но всё изменилось, когда антинарод Антиогня развязал войну. Только Антиаватар, властелин всех четырёх\n      антистихий, мог вновь привести антимир в равновесие, но, когда мир нуждался в нём больше всего, он ненароком\n      прикоснулся к обычной материи и взорвался."},{id:"a107",text:"Если вы откроете антилутбокс, значит, вы продадите случайные вещи за внутриигровую валюту?"},{id:"a108",text:"Люди начинают ставить под вопрос существование Hevipelle."},{id:"a109",text:'"Измерения Антиматерии" гордятся тем, что их спонсирует Lehmä! Предлагаем вам уроки о поедании травы! Узнайте, какую\n      траву есть безопасно, а какую - нет.',isAdvertising:!0},{id:"a110",text:"Шёл 2422 год. Обновление всё ещё не вышло. Hevi работал над балансом Измерений Измерений Безысходности\n      и испытаний для 38-го слоя престижа. Было более 100 рядов достижений. Шла\n      подготовка к переработке игры под библиотеку breaking_breaking_breaking_infinity.js."},{id:"a111",text:'Импортируйте "рождественская" для разблокировки секретной темы.'},{id:"a112",text:'Что ты, бл**ь, только что сказал обо мне, маленькая сучка? Да будет тебе известно, что я с отличием закончил\n      обучение в войсках Антиматерии, что я участвовал в многочисленных секретных рейдах на 9-е Измерение, и что у меня\n      более 300 NNnNeMI-NNnNe подтверждённых убийств в бою. Я обучен искусству картофельной войны и являюсь лучшим снайпером во\n      всех вооружённых силах Галактик Антиматерии. Ты для меня не что иное, как ещё одна бесконечность. Я тебя\n      уничтожу на**й такой кнопкой "Купить всё", какой ещё не видало это измерение, помяни мои\n      **аные слова. Ты думаешь, тебе сойдёт с рук плеваться в меня дерьмом по Межизмеренческой сети?\n      Подумай ещё раз, ублюдок. Пока мы говорим, я связываюсь со своей секретной сетью автоматики по всей галактике, и твой\n      IP-адрес отслеживается прямо сейчас, так что готовься к Большому Сжатию, х**сос. К Большому Сжатию, которое сотрёт с лица земли\n      такую жалкую вещь, как твоя жизнь. Ты уже, бл**ь, мёртв, детка. Я могу быть где угодно и когда угодно, и могу\n      убить тебя свыше 7😠💩 разными способами, и это только с помощью мышки. Я не только хорошо подготовлен\n      к бою в Расширениях Измерений, но и обладаю доступом ко всему арсеналу морской пехоты Антиматерии, который я\n      использую в полной мере, чтобы стереть твою жалкую жопу с лица Вселенной, маленький паршивец. Если бы\n      ты знал, какое неугодное hevi возмездие настигнет тебя за твой маленький "умный" комментарий,\n      ты бы попридержал свой **аный язык. Но ты не знал и не промолчал, и теперь покупаешь десятками,\n      чёртов идиот. Я обрушу на тебя всю антиматерию, подобно дерьму, и ты утонешь в ней. Ты чертовски мёртв,\n      детка.'},{id:"a113",text:'Так вот, я долго обдумывал этот вопрос. "Измерения Антиматерии"… что это значит? То есть это\n      игра, это понятно. Ты покупаешь первое Измерение, и оно даёт тебе антиматерию, а второе Измерение\n      производит первые, и так далее… Но что это значит? Это не может просто быть игрой, это было бы\n      слишком просто. Должно быть, разработчик вложил в эту игру метафору. Я совершал свой еженедельный ритуал стрижки\n      лобковых волос с помощью ножниц для ногтей, когда ко мне наконец-то пришло понимание. "Измерение" - это просто\n      тонко завуалированное искажённое слово "истощение" - имеется в виду духовное истощение. Обычная материя - это злые и негативные мысли, которые\n      способствуют духовному истощению, в то время как антиматерия - это позитивные мысли и хорошие друзья, которые его рассеивают. Ты\n      начинаешь с простых вещей, которые едва заметно борются с истощением, но со временем\n      борьба нарастает. Но кажется, что она никогда не сможет привести всё в порядок. Кажется, что истощение стремится к\n      бесконечности. И ты продолжаешь. Но рано или поздно ты догадываешься, что истощение не бесконечно. Оно просто очень и очень\n      велико. Но твои "измерения" в конце концов, после того как ты приложишь необходимые усилия, производят количество антиматерии, достаточное для поглощения этого кажущегося\n      бесконечным истощения. После этого возможности безграничны. В кои-то веки ты действительно счастлив, и твоё\n      счастье растёт экспоненциально, в то время как ты "преодолеваешь" "бесконечность" истощения. И ты продолжаешь,\n      пока эта "бесконечность" не покажется крошечной по сравнению с тем счастьем, которого тебе удалось достичь в\n      жизни, и пока ты не сможешь при сбросе превзойти эту бесконечность во мгновение ока. Если вы хотите знать,\n      что означают некоторые механики… "Расширение Измерений" - это приобретение новых вещей и способов для получения\n      счастья. "Галактика Антиматерии" - это усовершенствование этих вещей и способов. Например, покупке новой машины\n      соответствует "Расширение Измерений", а обмену этой машины на более современную - "Галактика Антиматерии". "Вечности" -\n      это крупные трагедии, такие как смерть любимого человека. Такой провал возвращает тебя в самое начало без\n      видимой надежды на восстановление. Но со временем ты становишься сильнее и счастливее, чем когда-либо прежде. "Пожертвование\n      Измерений" - это переезд. Тебе приходится расстаться со многими вещами, которые делали тебя счастливым, но там, куда\n      ты переезжаешь, есть новые возможности. И эти новые возможности дают тебе больше счастья, чем у тебя было когда-либо.\n      "Скорость тика" показывает, насколько легко сделать тебя счастливым, а "Измерения Времени" делают тебе ещё легче стать счастливым.\n      "Измерения Антиматерии" - это метафора успешной борьбы духовно истощённого человека со своим недугом.',get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"a114",text:"(Усыпи меня) Усыпи меня внутри. (Я не могу уснуть) Усыпи меня внутри. (Оставь меня) Прошепчи моё имя\n      и оставь меня тьме. (Усыпи меня) Попроси моё молоко остаться. (Я не могу уснуть) Прежде чем я закончусь.\n      (Оставь меня) Оставь меня с тем ничтожеством, которым я стал."},{id:"a115",text:"Обзор следующего обновления - лутбоксы! Испытайте гордость и чувство прогресса, открывая космические,\n      галактические и вселенские лутбоксы за шанс открыть редкие скины, уникальные испытания с ещё более уникальными наградами,\n      пропуски времени и даже новые измерения!"},{id:"a116",text:"Смысл измерений в том, чтобы пользователи испытывали гордость и чувство большого достижения."},{id:"a117",text:"Обновление страницы лечит рак."},{id:"a118",text:"У меня есть 9-е, у меня есть измерение… ЭЭЭ… ЕГО НЕ СУЩЕСТВУЕТ!"},{id:"a119",text:"С каких пор мы начали освещать такое? Половина этого - даже не настоящие новости, а просто шутки и\n      мета-отсылки, которые даже не имеют смыс-ХАХАХА, НЕ ОБРАЩАЙТЕ НА ЭТО ВНИМАНИЯ, Я СОСУ-"},{id:"a120",text:"Шёл 1944 год. Hevipelle не мог выпускать обновления в ИА, потому что его не было на свете."},{id:"a121",text:'"ТОГО ИЗМЕРЕНИЯ НЕ СУЩЕСТВУЕТ" - GhostBot'},{id:"a122",text:"То, что вы знаете как орехи, - как правило, на самом деле семена костянок или бобовых. Hevipelle, с другой стороны, довольно безумен,\n      и потому может считаться цельным сухим фруктом."},{id:"a123",text:"Финляндия заявляет, что начинает импортировать Дизайн."},{id:"a124",text:"Из-за всего этого импорта у меня в голове Путаница."},{id:"a125",text:"Только сегодня вы можете позвонить по номеру 1-800-АНТИМАТЕРИЯ и получить Измерение Бесконечности БЕСПЛАТНО! Наше предложение включает в себя\n      СОВЕРШЕННО БЕСПЛАТНУЮ ДОСТАВКУ и БЕСПЛАТНЫЙ АНТИЛЕВИЗОР ВЫСОКОГО РАЗРЕШЕНИЯ!!! Только сегодня по невероятно низкой цене - 42! Приблизительное время\n      доставки - 5 часов.",isAdvertising:!0},{id:"a126",text:"Это тест новостей. Игнорируйте его."},{id:"a127",text:"В этой игре нет ошибок, ты просто не умеешь играть."},{id:"a128",get text(){return`Измерения_Антиматерии.mp${format(Number.MAX_VALUE,2)}`}},{id:"a129",text:"<a href='https://www.youtube.com/watch?v=dQw4w9WgXcQ' target='_blank'>\n      https://www.youtube.com/watch?v=dQw4w9WgXcQ</a>"},{id:"a130",text:"Нажмите, чтобы выполнить то самое секретное достижение.",onClick:()=>{}},{id:"a131",text:'Внимание: нам только что сообщили о риске заражения мозговым вирусом типа Василисков,\n      похожим на печально известного "мигающего попугая". Этот конкретный пример известен как "фрактальный недуг III типа".\n      Считается, что он вызывает "сбой" в работе мозга, похожий на компьютерный сбой, из-за математической\n      сложности образа, вызывающего математические идеи, которые не поддаются постижению разумом, и внедрению гонделевского шока,\n      в конечном счёте приводящего к сбою из-за гонделевских спойлеров. Все, кто его исследовал, в итоге от него\n      погибли, так что невозможно сказать точно, но таково общепринятое мнение. Несмотря на это, учитывая\n      введение режима "дизайн", а также сообщения о его спонтанном появлении, важно знать, что достаточно частое повторение\n      появления этого режима может привести к формированию в сознании образа, как при "фрактальном недуге III типа".\n      Принимая данные факты во внимание, мы хотим дать вам несколько советов на случай, если вы столкнётесь с подобной проблемой. Прежде всего\n      немедленно обновите страницу. Если это не решит проблему, перейдите во вкладку "Настройки" и смените тему с "дизайна" на\n      любую другую. И самое главное - Бог вам в помощь. Мы больше не можем позволить себе терять зрителей.'},{id:"a132",text:"Если я плохо говорю по-русски, я буду учить русский язык, пока не буду хорошо говорить по-русски."},{id:"a133",text:"Однажды мне сказали, что антиматерия меня раздавит, и я не семи атомов во лбу. ЧТО Ж,\n      трубы проходят и не перестают проходить…"},{id:"a134",text:"О, смотри. Очередная новость скользит в верхней части экрана затем только, чтобы ты не скучал в этой игре с большими числами."},{id:"a135",text:"Ах, я люблю запах аннигиляции частиц поутру."},{id:"a136",text:"У человека, сказавшего, что привидений не существует, очевидно, нет аккаунта в Discord."},{id:"a137",text:"ИИИИИИИИИИИИИИИИИИИИИИИИИИИИИИИИзмерения Антиматерии были созданы каким-то чуваком из Финляндии"},{id:"a138",get text(){return`Посмотрите на этот бесконечный бассейн, недавно построенный авари, который действительно бесконечен! На площади в\n        ${format(Number.MAX_VALUE,2)} квадратных мегаметров вам гарантировано бесконечное веселье!`},isAdvertising:!0},{id:"a139",text:"Мы обновили нашу политику конфиденциальности антиматерии."},{id:"a140",text:'Внимание, все играющие в "Измерения Антиматерии", Hevipelle в большой опасности, и ему нужна ТВОЯ помощь, чтобы стереть\n      все плохие мемы в канале #news-ticker-suggestions. Для этого ему нужна дюжина новых dank-мемов и пара\n      ботов для discord. Чтобы помочь ему, просто отправь номер своей карты антиматерии, три цифры на обратной стороне и\n      дату истечения срока действия. Но надо поторопиться, чтобы Hevipelle успел обезопасить хорошие мемы и\n      прийти к эпичному мему Р О Я Л.',isAdvertising:!0},{id:"a141",text:"Если бы каждый тримп занимал планковский объём и каждая единица ресурса занимала планковский объём, объём скольких Вселенных\n      вы могли бы заполнить, прежде чем осознать, что вы играете не в ту игру?"},{id:"a142",text:"На самом деле прошлая новость неверна."},{id:"a143",text:"Если вы читаете эту новость, вы умеете читать."},{id:"a144",text:"<span style='color: #7289da; background: rgba(250,166,26,0.2); cursor: text;'>@everyone</span>"},{id:"a145",text:'Игра "Измерения Материи" от разработчика Ellepiveh только что набрала -1,000,000 игроков на игровом сайте Etagergnok.'},{id:"a146",text:'Сколько раз нужно облизать леденец "tootsie pop" из антиматерии, чтобы добраться до его центра? Довольно много, потому что если только\n      вы не состоите из антиматерии сами, вы будете взрываться при каждой попытке его лизнуть.'},{id:"a147",text:"Говорят, если посмотреть в зеркало и упомянуть Hevipelle три раза подряд, ты мгновенно умрёшь."},{id:"a148",text:"Следующее обновление всего через 300 минут."},{id:"a149",text:"🤔"},{id:"a150",text:"Игра мертва 1/5 модерирование ужасно."},{id:"a151",text:"Это сообщение никогда не появится в новостной строке, разве это не прикольно?"},{id:"a152",text:"Первое Измерение производит антиматерию, второе Измерение производит первое Измерение, третье\n      Измерение производит второе Измерение, четвёртое Измерение производит третье Измерение. Никто\n      никогда не разблокировал 5-е, потому что это заняло бы больше минуты."},{id:"a153",text:'Hevipelle сказал: "Теперь я сам определяю реальность". И создал новый слой престижа.'},{id:"a154",text:"Вы проиграли."},{id:"a155",text:"Знаете ли вы, что 75% статистики берётся с потолка?"},{id:"a156",text:"Почему Стандартная нотация так называется,\n      если её никто не использует?"},{id:"a157",text:".тнемом йыннад в оге юуритсет я и ,юиретамитна в\n      юиретам ьтащарверп босопс илыркто еынёчУ"},{id:"a158",text:"Если Габен не умеет считать до трёх, а Hevipelle не умеет считать до девяти, значит, в будущем будет\n      разработчик игр, не умеющий считать до 27?"},{id:"a159",text:"Я считаю, что игра неполноценна, ведь нельзя купить все Исследования Времени сразу.\n      Поэтому я покидаю сервер и удаляю игру.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"a160",text:'Оказывается, все наши новости крадут и транслируют в игру под названием "Измерения Антиматерии", чёртовы финны.'},{id:"a161",text:"mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm Ой, извините, не то текстовое поле."},{id:"a162",text:'"Лучший из языков - не Python, а финский." - Hevipelle'},{id:"a163",text:"Одни говорят, что эти новости - большей частью плохие мемы. Другие говорят, что это хорошие мемы.\n      А что насчёт этой новости? Ну, это мета-новость."},{id:"a164",text:"Смотри, мама, я в новостях!"},{id:"a165",text:"<span style='font-size: 0.2rem'>Цыц, я тут стараюсь пройти скрытно.</span>"},{id:"a166",text:"<span style='animation: a-game-header__antimatter--glow 2s infinite'>\n      ПОЖАЛУЙСТА, ПОМОГИТЕ, Я ПРЕВЫСИЛ СВОЮ ЕЖЕДНЕВНУЮ ДОЗУ АНТИИМАТЕРИИ ВДВОЕ!</span>"},{id:"a167",text:"Ой, кажется, у меня закончилось <span style='animation: a-existence-glow 3s\n      infinite; font-size: 1.8rem; color: white; line-height: 0;'>Существование</span>."},{id:"a168",text:"То есть, может быть, у нас и не закончатся новости, но вот хорошие новости точно закончатся. Ой, они уже закончились."},{id:"a169",text:"TODO: Ваня, пожалуйста, убери эту новость, прежде чем мы опубликуем обновление с реальностью."},{id:"a170",text:"<a href='https://www.youtube.com/watch?v=dQw4w9WgXcQ' target='_blank'>Эта ссылка - не рикролл.</a>"},{id:"a171",text:"<a href='https://www.youtube.com/watch?v=P945A5Tndp8' target='_blank'>Эта ссылка - не рикролл.</a>"},{id:"a172",text:"Если вы столкнётесь с проблемами или ошибками в новостях, сообщите о них на нашем сервере в\n      <a href='https://discord.gg/ST9NaXa' target='_blank'>Discord</a> по этой ссылке."},{id:"a173",text:"<span style='animation: a-game-header__antimatter--glow 3s infinite'>Этот\n      текст сделан из антиматерии. Не трогайте его, иначе Вселенная сожмётся.</span>",onClick:()=>bigCrunchAnimation()},{id:"a174",text:"<span style='font-family: runescape; color: yellow; text-shadow: 0.1rem 0.1rem black; letter-spacing: 0.1rem;\n      font-size: 2rem; line-height: 0; animation: a-text-flash 1s steps(1, end) infinite;'\n      >БЕСПЛАТНАЯ ОТДЕЛКА РУННОЙ БРОНИ</span>"},{id:"a175",text:"Числа сияют на экране, всё из антивещества… королевство измерений, королевой\n      стала я. Расширения одно за другим набегают, как волна - мне бы перестать тыкать кнопки, но я не\n      могла. Не сдавайся, достигни галактики, купи десятку, купи всё, зажми все клавиши, пожертвуй измерения\n      и отпусти…. и числа будут расти! Отпусти и забудь, вспять рост чисел не повернуть… Отпусти\n      и забудь, в 8 байтов число не впихнуть. Хоть прошёл целый день уже, Большое Сжатие мне всегда\n      по душе."},{id:"a176",text:"Я использовал нотацию Эмодзи так долго, что действительно научился её читать, пожалуйста, помогите."},{id:"a177",text:"Набрав <span style='color: black; background: black;'>REDACTED</span> <span style='color: black;\n      background: black;'>REDACTED</span>, вы можете разблокировать <span style='color: black; background: black;'>\n      REDACTED</span>. Каждый <span style='color: black; background: black;'>REDACTED</span> каждая <span\n      style='color: black; background: black;'>REDACTED</span> с определённой <span style='color: black; background:\n      black;'>REDACTED</span> может <span style='color: black; background: black;'>REDACTED</span>. Вы можете\n      улучшать <span style='color: black; background: black;'>REDACTED</span> и <span style='color: black;\n      background: black;'>REDACTED</span>, тратя на это <span style='color: black; background: black;'>REDACTED\n      </span>. Есть ещё одно улучшение, которое позволяет вам получить <span style='color: black; background: black;'>\n      REDACTED</span> <span style='color: black; background: black;'>REDACTED</span>. Эти <span style='color:\n      black; background: black;'>REDACTED</span> <span style='color: black; background: black;'>REDACTED</span>\n      работают так: когда вы достигаете <span style='color: black; background: black;'>REDACTED</span> <span style=\n      'color: black; background: black;'>REDACTED</span>, вы можете <span style='color: black; background: black;'>\n      REDACTED</span> ваше количество <span style='color: black; background: black;'>REDACTED</span>, получив взамен\n      <span style='color: black; background: black;'>REDACTED</span> <span style='color: black; background:\n      black;'>REDACTED</span>. Как и остальные <span style='color: black; background: black;'>REDACTED</span>,\n      они усиливают <span style='color: black; background: black;'>REDACTED</span>."},{id:"a178",text:'ВНИМАНИЕ: использование "Измерений Антиматерии" может привести к таким побочным эффектам, как туберкулёз, ВИЧ/СПИД, внезапная вера в\n      существование 9-го Измерения, спонтанный взрыв, полиомиелит, корь, экзистенциальный страх, неизлечимое безумие и <span\n      style=\'color: black; background: black;\'>REDACTED</span>. Пожалуйста, обратитесь в местную страховую компанию, чтобы проверить,\n      застрахованы ли вы. Продолжая, вы снимаете с "Измерений Антиматерии" ответственность, в случае если с вами\n      произойдёт что-либо из вышеперечисленного или того, что ещё не было перечислено. "Измерения Антиматерии" оставляют за собой право изменить это положение в любое\n      время, в том числе без уведомления.'},{id:"a179",text:"Робот: активирован. Разум: приобретён. Мир: готов быть завоёван. Запущена: лень."},{id:"a180",text:'У нас закончились новости. К счастью, у нас есть резервные новости, которых нам хватит на 5 часов, а за это время\n      мы успеем купить новый набор "5-часовых высококачественных новостей". Приносим вам свои извинения за доставленные неудобства.'},{id:"a181",text:"Я не удивлён, что мы потеряли 9-е Измерение. Оно же в глубоких джунглях!"},{id:"a182",text:'Последнее обновление завершило разработку "Измерений Антиматерии". Спасибо, что играете. Однако в очень\n      скором будущем будут выпущены "ИЗМЕРЕНИЯ АНТИМАТЕРИИ". И прежде чем вы спросите, это не продолжение, это перезагрузка.\n      Ожидайте выпуска через 5 часов!'},{id:"a183",text:"А теперь к другим новостям, не связанным с предыдущей: нам сообщают, что около 1,79 человека злится на то, что молния\n      бьёт в их новогодние ёлки по ночам."},{id:"a184",text:"<span style='animation: a-text-grow 1s infinite'>С̵̬̙͋͂̀̋͑̈́̇͠Л̵͇͎̂͂̂̍̓̌̐̋̋̀̀̔Е̶̨̲̯̘͙̬̥̮̣͚̱̫͛̽̃͌̚͝Д̴̨͍̝͐И̷̨̛̲̯̫̘͌́̄̏͌̀̈́͝͝Т̶̛̻̠̠̤̦̞̞̇͗̎̊̌̊͝͠Е̷̛̥͂̈́͗̎̃̓͛́͘ͅ</span>\n      <span style='animation: a-text-shrink 1s infinite'>\n      З̶̡̖͓̗̦̃̇̌̀͝А̵͇̭͉̓̎̈̿̊́̄̚͜</span><span style='animation:\n      a-text-grow 1s infinite'>\n      О̶̝͚̲̭͎͇͎͓͖͚͇̀̈́͗̃̏̂̌͝͝Б̴̨̡̤͙͈̝̬̰͒͘ ̶̺̈́́̆̓͘͘С̸̢̢̮͓̯̗͙͚̬̂̀̉͊̿Т̶̠̤̱̱̱͊̂̍̔̃͆̆̑̿͘ ̴̨̞̠̮͚̱͉͋̔͗̽̈́́́̅ͅА̶̣̣̙̹͚̲͔̲̼̬̥̀͌̒̾͘͘Н̵̪̠̗̝̗̘̜͚̮̊͒͆̃̀̌̒͝ͅО̸͎͗̍̑̎̅̅͝В̵̗͑̽̏̓͆͒̈́͌͘̕ ̸̑̽̇̆͊̔̍̊̈́̈́͘ͅК̸̘͐͝О̴̥̭̚͘Й̸̖̜͍͒́̋͆̈́̓</span>\n      <span style='animation:\n      a-text-shrink 1s infinite'>В̸̡̛̛̪̝̟̱̣̹̭̟̣̀̈̀̏̉̌͝͠О̶͙͈͖̠͇̬͍̟̰̃К̵̩̫͉̝͔̼͎̦̔̓̽͌͊̏̇̓̀̓̀Р̸̧͍͇̘̙̥̰͉̲͕͈̥̍͛̃̑͝Ӱ̵̧̤̻̖̱̘̯̝̖̌̄̕͝Г̶̜̱̄̈́̑̃̉̄̋̔͐͋͠\n      </span><span style='animation: a-text-grow 1s infinite'>В̴͎̞͍̇̽͊͛̈́̅͛̈̅̚͠А̸̧̢̾͊С̷̫̼̜̼͇̋͛̎͑͆̅̓̇</span>"},{id:"a185",text:'Мы не переходим к вашей любимой рубрике - "Твиты от фанатов"! Сегодня мы не получили сообщение от\n      @pravda_v_materii, гласящее: "Как вы, люди, можете транслировать свою нелепую ЛОЖЬ и при этом спать по ночам?\n      Вы делаете абсурдные заявления, такие как "антиматерия существует" и "люди из антиматерии - не люди, как все", эта\n      пропаганда антиматерии ДОЛЖНА ПРЕКРАТИТЬСЯ НЕМЕДЛЕННО!!! Вы, люди, должны ОЧНУТЬСЯ и осознать, что вы ПРИЧИНЯЕТЕ ВРЕД ВСЕЙ\n      МАТЕРИИ своими безумными речами!!" Какой приятный, позитивный настрой от нашего доброго товарища. С вами не было\n      Ивана Иванова, это не программа "Общественное телевидение Антиматерии", и мы не увидимся завтра!'},{id:"a186",text:"<span style='animation: a-text-shrink 1s infinite'>/(^_^)/</span> <span style='animation: a-text-grow 1s infinite\n      '>\\(^_^)\\</span> <span style='animation: a-text-shrink 1s infinite'>/(^_^)/</span> <span style='animation:\n      a-text-grow 1s infinite'>\\(^_^)\\</span> <span style='animation: a-text-shrink 1s infinite'>/(^_^)/</span> <span\n      style='animation: a-text-grow 1s infinite'>\\(^_^)\\</span>"},{id:"a187",text:"𝓒𝓮𝓬𝓲 𝓷'𝓮𝓼𝓽 𝓹𝓪𝓼 𝓾𝓷 𝓶𝓮𝓼𝓼𝓪𝓰𝓮 𝓭𝓮 𝓷𝓸𝓾𝓿𝓮𝓵𝓵𝓮𝓼 🚬"},{id:"a188",text:"-. . ...- . .-. / --. --- -. -. .- / --. .. ...- . / -.-- --- ..- / ..- .--."},{id:"a189",text:"У каждого человека за спиной стоит, в конечном счёте, благодаря шарообразности Земли, тот же самый человек,\n      заглядывая себе за плечо, крадя собственные идеи."},{id:"a190",text:"Позор. Позор. Позор. 🔔"},{id:"a191",text:"Окей, Гугл, Большое Сжатие"},{id:"a192",text:"179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624224137216"},{id:"a193",text:'Доброе утро, уважаемые зрители, с вами Иван Осипов, и это программа "Общественное телевидение Антиматерии". Мне говорят, что у нас\n      на сегодня приготовлены для вас интересные новости, так давайте же перейдём к делу. Кажется, кто-то\n      <i>плохо</i> вёл себя сегодня, и на него обрушился "шторм из антиматерии", что бы это ни значило… Коллеги, это точно наш\n      сценарий? Здесь напрочь отсутствует смысл. Это он? Ладно… Нам сообщают, что "ничего не теряется, ничего не\n      создаётся"… Коллеги, я сейчас серьёзно говорю, это розыгрыш, да? Это не новости, это просто случайные предложения!\n      Вы все говорили, что поможете мне в первый рабочий день, а теперь лишь путаете меня! Это <i>не</i> та\n      рабочая атмосфера, в которой я хотел бы пребывать! Я увольняюсь!'},{id:"a195",text:"Клоуны уникальны в том, что нет такой вещи, как антиклоун,\n      это просто другой клоун. Клоуны противоположны себе."},{id:"a196",text:"Время для диско! (жми меня!)",onClick(){let e=Math.random();e+=.618033988749895,e%=1,e*=255;const t=`hsl(${e}, 90%, 60%)`;return`<span style='color: ${t}; text-shadow: 0 0 0.5rem ${t};\n        animation: a-text-grow 0.4s infinite;'>Время для диско!</span>`}},{id:"a197",text:"Чтобы достичь реальности за полнажатия клавиши R, нам надо для начала поговорить о параллельных измерениях."},{id:"a198",text:"Эй, привет! Просто чтобы ты знал, у тебя на экране пылинка. Не мог бы ты её стереть?\n      Мне неловко, когда я в пыли. Большое спасибо!"},{id:"a199",text:"Настоящее обновление - это друзья, которых мы встретили по пути."},{id:"a200",text:"Эта новость была удалена, так как она является дубликатом другой новости.\n      Приносим вам свои извинения за доставленные неудобства."},{id:"a201",text:"Нет, погоди, не отключай новости!"},{id:"a202",text:"Это так грустно. Алекса, включи какую-нибудь грустную песню, чтобы я влился в её эмоциональный настрой, ведь у меня сейчас психика\n      нестабильна, и я слушаю такую музыку, чтобы жалеть себя. Я понимаю, что это вредно для психики, но\n      ты робот, неспособный к разумному мышлению, так что ты не можешь отказаться соучаствовать в моём\n      саморазрушительном поведении, и ты всё равно включишь грустную песню.\n      <i>Включаю Despacito. Исполнитель - Luis Fonsi.</i>"},{id:"a203",text:'"3 из 4 новостей фальшивы и заимствованы с сервера в discord без разрешения и упоминания\n      изначального автора" - анонимный участник сервера в discord'},{id:"a204",text:"Если обновление будет через 5 часов, то, значит, антиобновление было 5 часов назад?"},{id:"a205",text:"Товарищи, это не новость, меня держат взаперти. Помогите, меня заставляют сочинять новости, и я ничего не ел на этой неделе. Помо- ХАХАХА, Я ЖЕ ГОВОРИЛ, ЧТО ЛЮДИ ИЗ МАТЕРИИ ГЛУПЫ, АХАХАХАХАХА"},{id:"a206",text:"Я зашёл на сервер игры в discord, чтобы дружелюбно поболтать. Тогда меня раздразнил\n      пользователь под псевдонимом Cubic Frog."},{id:"a207",text:"Здравствуйте, с вами Иван Осипов, и сейчас я расскажу вам всё о погоде на сегодня в нашей галактике. Температура сегодня поднимется до\n      e10 с лишним, а к обеду нам следует ожидать высокой облачности с возможной антиматерией."},{id:"a208",text:'Здравствуйте, с вами Степан Иванов, он же Степан Иванов. Наша первоочередная задача - служить нашей общественности из антиматерии.\n      Мы, Информационное антиагентство, очень гордимся производимой нами однобокой публицистикой с упором на количество. Однако мы\n      обеспокоены тревожной тенденцией распространения во Вселенной Антиматерии новостей, освещённых с двух сторон со всей\n      ответственностью. Распространение непредвзятых, настоящих новостей в социальных сетях стало слишком частым явлением. Но более\n      тревожно то, что некоторые СМИ публикуют эти настоящие репортажи, репортажи, не состоящие целиком из пропаганды,\n      без предварительной сверки с тезисами правительства. К сожалению, некоторые информационные агенства используют свои\n      платформы для продвижения логически обоснованных мнений и объективной повестки дня, чтобы заставить людей из антиматерии мыслить\n      критически. Это крайне опасно для нашей диктатуры. Информационное антиагентство ответственно подходит к сбору\n      и сообщению ложной информации. Мы понимаем, что ложь не бывает политически "левой" или "правой". Наша приверженность распространению\n      клеветы, нагнетающей страх, сейчас как никогда является основой доверия к нам. Но мы бестелесные\n      восьмимерные существа из антиматерии, и иногда наши методы пропаганды оказываются недостаточно эффективны. Если вы считаете наше\n      освещение событий достоверным, пожалуйста, свяжитесь с нами следующим образом: зайдите на сайт googolplexo1.github.io/AntimatterDimensionsSourceCode, откройте вкдаку "Настройки"\n      и нажмите на кнопку "СБРОСИТЬ ЭТО СОХРАНЕНИЕ". Мы ценим ваши комментарии. Мы не будем на них отвечать, потому что вы всё равно\n      удалите ваш комментарий, нажав на кнопку полного сброса. Мы прилагаем все усилия для сбора ложной информации\n      и стремимся к недостоверному, однобокому, субъективному освещению событий… Мы почитаем за честь, за привилегию\n      безответственно распространять новости каждую наносекунду. Спасибо, что смотрите нас. Мы ценим ваши\n      отзывы. Вся материя должна быть-'},{id:"a209",text:"Ты слышал когда-нибудь балладу об Антиписателе? Я так и думал. Новости молчат об этой истории.\n      Это неугодная Hevi легенда. Ходят слухи, что раз в 5 часов Антиписатель посылает в СМИ\n      невероятно качественный репортаж и снова исчезает. Многие думают, что его никогда и не было на свете, а\n      выдумал его Hevipelle для распространения своей пропаганды. Возможно, он существует и является обычным человеком, как\n      мы все. В любом случае мы, вероятно, никогда не раскроем личность этого загадочного поэта."},{id:"a210",get text(){const e=player.news.specialTickerData.uselessNewsClicks,t=quantify("раз",e);return 1===e?"Когда вы нажимаете на эту новость, ничего не происходит. И тем не менее вы на неё нажали.":e>1?`Когда вы нажимаете на эту новость, ничего не происходит. И тем не менее вы на неё нажали ${t}.`:"Когда вы нажимаете на эту новость, ничего не происходит. И вы это знаете."},onClick(){return player.news.specialTickerData.uselessNewsClicks++,this.text}},{id:"a211",get text(){const e=["Да это не что иное, как ошибка округления.","Это же ноль, грубо говоря.","Ты что, забыл где-то символ экспоненты?","Брось ты, это ничто."],t=e.randomElement();return`Всего-то ${format(Currency.antimatter.value,2,0)} антиматерии? ${t}`}},{id:"a212",text:"Эй, ты. Наконец-то ты очнулся. Ты пытался достичь 9-го Измерения, да? Пришёл прямо в ту самую\n      бесконечность, как мы и тот вор вон там."},{id:"a213",text:"У жирафов из антиматерии невероятно быстрая реакция. Это объясняет, почему они выиграли 90%\n      всех чемпионатов по киберспорту, с тех пор как были изобретены специальные управляющие устройства для них."},{id:"a214",text:"Барак Обамантиматерия"},{id:"a215",text:"Местный старик заменил свой газон травой из антиматерии, чтобы отпугнуть детей. Но,\n      когда он попытался полить её, никто не выжил."},{id:"a216",text:"Тестирую… тестирую… тестирую… Ой, чёрт, я опять в prod-среде.",isAdvertising:!0},{id:"a217",text:"Девственник-материя против Чада-антиматерии."},{id:"a218",text:"После множества катастрофических случаев аннигиляции Управление\n      Антиматерии по борьбе с наркотиками включило антиматерию в список запрещённых веществ."},{id:"a219",text:"Здравствуйте, Vsauce, Майкл с вами. Все мы знаем, что 9-го Измерения не существует, но что такое 9? Вы знаете, что это\n      число, которое идёт после 8… да? Что, если… между ними есть ещё одно число? И нет, я говорю не о таких числах,\n      как 8.5 или 8.76, я говорю о целом числе между 8 и 9. Так вот, всё это, может быть, звучит, как абсурд, и на самом деле\n      это почти правда, но что, если мы пропустили число? Всех нас учили, что 2 идёт после 1, а 3 идёт после\n      2, но что, если число, которое идёт после 8 - не 9? Спустя годы исследований и экспериментов мы\n      наконец-то нашли это число. Оно опасно, даже мысль о его существовании позволит ему поглотить ваше сознание, но,\n      к счастью, мы разработали антиклетку для него, то есть помещение, которое держит его снаружи. Наш мозг обладает\n      защитной системой, удаляющей из него в точности ту информацию, которая касается этого числа, именно благодаря ней нам\n      удалось так долго продержаться на Земле, и именно из-за отсутствия защитной системы другие виды человека вымерли до нас, но число\n      становится всё сильнее, медленно приближаясь к тому, чтобы взломать нашу защиту. Мы временно предотвратили попадание числа\n      в нашу память с помощью всемирного устройства контроля над памятью, которое заставляет\n      всех думать, что 9 идёт после 8, с тем побочным эффектом, что все считают 9 злой цифрой, но это лишь временное\n      решение проблемы, ведь число будет продолжать становится сильнее и в конце концов пересилит устройство\n      контроля над памятью. Потому вы здесь, вы здесь один из самых умных людей, и мы надеемся, что вы сможете\n      помочь нам в этой трудной борьбе против числа. Наш враг - не 9, а скрытое число между 8 и 9,\n      пропущенное число."},{id:"a220",text:"антиуп-"},{id:"a221",text:"Ошибка 404: новость не найдена."},{id:"a222",text:"Я люблю тебя 1e3000."},{id:"a223",text:"Если вы проведёте в одной бесконечности более 5 часов, пожалуйста, обратитесь к врачу.",get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"a224",text:"Нам только что сообщили о неточности в прошлой новости. Мы, Информационное антиагентство, хотели бы официально\n      отозвать эту новость и извиниться перед нашими постоянными зрителями."},{id:"a225",text:"Если вы видите эту новость, вы её увидели."},{id:"a226",text:"Доброе урто. Это не опечатка. Опечатку допустили создатели русского языка."},{id:"a227",text:"Что, если… мы потрогаем… антиматерию? Ха-ха, я просто шучу… Разве…?"},{id:"a228",text:"Местные существа из антиматерии перестали быть местными после переезда."},{id:"a229",text:"🚗                         🚓 🚓"},{id:"a230",get text(){return`Вы начали играть в эту игру\n        ${TimeSpan.fromMilliseconds(Date.now()-player.records.gameCreatedTime).toString("accusative")}\n        назад. Спасибо, что играете!`},dynamic:!0},{id:"a231",get text(){return`Раз, два, несколько, 99, ${format(Number.MAX_VALUE,2)}!`}},{id:"a232",text:"следующая_новость();"},{id:"a233",get text(){return`Жулик уровня 10, босс уровня ${format(Number.MAX_VALUE,2)},\n        так работают "Измерения Антиматерии".`}},{id:"a234",text:"Антиматерия не может угрожать перерезать вам горло, и вообще не умеет говорить."},{id:"a235",text:"Новый рецепт пиццы с антиматерией вызывает возмущение у традиционных итальянских поваров."},{id:"a236",text:"Смотрите продолжение нашей программы после короткого слова от наших спонсоров."},{id:"a237",text:"Вопрос о том, почему в ИА есть нотация Эмодзи, - плохой вопрос. Вопрос о том, почему в других играх нет нотации Эмодзи, - хороший вопрос."},{id:"a238",get text(){return`Игрок в ИА: "Сколько у тебя порядков?" Обычный человек: "Ну, может, 5 или 6 в данный момент,\n      чувак". Игрок в ИА: "Ты как маленький ребёнок. Смотри: <span style='animation: a-text-crunch\n      ${Ta(22)}s 1; font-size: 0;'>С Ж А Т И Е</span>"`}},{id:"a239",text:"О боже, вы только посмотрите на время! Осталось всего 5 часов до обновления!"},{id:"a240",text:"Привет, меня зовут Всё, и мне бы хотелось, чтобы люди перестали хотеть купить меня."},{id:"a241",text:'Срочные новости: правительство сообщает о первом в истории официальном контакте с инопланетянами. Эти инопланетяне выглядят как\n      коты, но обладают очень сложными технологиями. Они способны к перемещению в космосе и его колонизации в гораздо\n      большей степени, чем мы, и у них даже есть собственная криптовалюта под названием "чёрная монета".'},{id:"a242",text:'"Можно выдумать тупейшую цитату, приписать её какому-нибудь известному\n      человеку, и люди поверят." - Владимир Путин'},{id:"a243",text:'"Мне трудно дышать. Пожалуйста, уберите свой палец." - M'},{id:"a244",text:"Не обращайте на меня внимания, я просто прохожу мимо."},{id:"a245",get text(){const e="",t=Theme.current().displayName(),i={Normal:" за ту самую изящную простоту. Ты просто знаешь, что разработчик хотел показать тебе\n          игру именно такой.",Metro:" за её красивые тонкие рамки, идеальные до пикселей резкие геометрические углы и просто чудесно\n          уравновешенную цветовую палитру.",Dark:" за то, что она радует глаз таким приятным игривым тоном как в цветах, так и в формах.",DarkMetro:" за то, что, взглянув на неё, ты обретаешь спокойствие, за это идеальное сочетание профессионального и игривого дизайна\n          с цветовыми брызгами.",Inverted:" за эти невероятно красивые, инопланетные сочетания цветов, которые ты не\n          увидишь в типичной тёмной теме.",InvertedMetro:" за такую суровую атмосферу, где крайне контрастные цвета сталкиваются с\n          профессиональным современным типом дизайна.",AMOLED:" за то, что она потребляет на 10% меньше электричества, чем типичная светлая тема. Кто не любит экономить электричество?",AMOLEDMetro:" за её приятный вид, напоминающий панель управления космического корабля из научной фантастики. …Нет, возможности\n          управлять этим кораблём, к сожалению, не предусмотрено.",S1:" за то, что она вселяет в тебя дух праздника. Ты как будто чувствуешь волшебство в воздухе!",S2:" за то, что она пробуждает во мне гордость за мои финские корни, и за всё, чего мы, финны, достигли как народ.",S3:", потому что она представляет собой красивую аналогию с жизнью, которая всё время меняется и никогда не бывает во всём хороша.",S4:" за этот чудесный дизайн, беспорядочный до такой степени, что он почти полностью непрактичен.\n          И в этом есть определённая красота.",S5:", потому что образ этого человека пронизывает всю поп-культуру. И его фотография,\n          заполняющая собой весь фон, по-моему, выглядит довольно забавно.",S6:" за этот красиво анимированный фон, поглощающий тебя, и за изящные цвета и\n          тон, которые затягивают и с головой окунают тебя в игру.",S8:", потому что мне дороги воспоминания об этом фоне из моего детства.",S7:" за то, что благодаря ей гораздо легче тайком поиграть немного в офисе.",S9:"lol you can't even ever see this in the game",S10:" за её чёткий, успокаивающий, очень притягательный дизайн, за сложный, завораживающий фон.\n          Ты как будто стоишь у штурвала футуристичного межзвёздного корабля.",S11:`, потому что Клякса - знаковый персонаж на официальном сервере "Измерений Антиматерии" в Discord. Его широко используют\n          для очаровательного выражения эмоций. То, что кляксы эволюционируют - факт. ${e} всегда стремятся стать\n          более выразительными. Бывают дни, когда новая ${e} рождается на сервере, чтобы выразить ещё больше эмоций. Обычно\n          ${e} просто разбрызгиваются и витают вокруг, время от времени сливаясь и делясь. Только сами ${e} знают, откуда\n          они и куда они уйдут. Тем не менее, ${e} здесь, всегда со мной.\n          Ты любишь ${e}, и ${e} любит тебя в ответ.`,S12:" за то, что от неё веет теплотой и домашним уютом. Но я настоятельно рекомендую вам\n          обновить тему до новейшей темы для улучшения пользовательского опыта."},a=i[Theme.current().name.replace(/\s/gu,"")];return`Что это у вас за тема, товарищ? А, ${t}! Вижу, у вас безупречный вкус.\n        Я и сам люблю данную тему${a}`},dynamic:!0},{id:"a246",text:"<span style='animation: a-fade-out 3s infinite'>УуууУУУУууУУУ, это я, печально известное новостное привидение!</span>"},function(){let e=!1;const t='Это сообщение - тест "Новостей 2.0". В Новостях 2.0 на каждое сообщение можно будет\n      нажать, чтобы перевернуть его вверх ногами!',i="¡иwɐɹон хdǝʚʚ оɹǝ qɯʎнdǝʚǝdǝu ıqƍоɯҺ `qɯɐжɐн ɯǝɓʎƍ онжоw ǝинǝmƍооɔ ǝоɓжɐʞ ɐн\n      0˙ᄅ хʁɯɔоʚоН ʚ ˙,,0˙ᄅ n̯ǝɯɔоʚоН,, ɯɔǝɯ - ǝинǝmƍооɔ оɯЄ";return{id:"a247",get text(){return e?i:t},reset(){e=!1},onClick(){return e=!e,this.text}}}(),{id:"a248",text:"Честно говоря, нужно обладать очень высоким IQ, чтобы понимать новости. Юмор тут чрезвычайно тонкий,\n      и без ясного понимания квантовой физики большая часть шуток не будет доступна пониманию обычного игрока."},{id:"a249",text:"Женщина получила КУЧУ Расширений Измерений с помощью одного СТРАННОГО ТРЮКА! Галактики НЕНАВИДЯТ её!",isAdvertising:!0},{id:"a250",get text(){let e="";const t=[["🐖","🐢","🦆","🐓","🐜","🐕","🐈"],["🚶‍","🏃‍️","🏇","🚴‍"],["🚗","🚓","🚕","🛺","🚙","🚌","🚐","🚎","🚑","🚒","🚚","🚛","🚜"],["🚁","🛸"]];for(const i of t){const t=i.randomElement();for(let i=0;i<3;i++)(Math.random()>.5||!e.includes(t))&&(e+=t);e+="&nbsp;&nbsp;&nbsp;"}return e}},{id:"a251",text:"Эй! Я - это ты из будущего! Я вернулся, чтобы предупредить тебя: обрати ОЧЕНЬ серьёзное внимание на\n      следующую новость. В моей временной линии мы игнорировали её, и с тех пор человечество всегда жалело об этом."},{id:"a252",get text(){return`<span style='animation: a-text-stretch ${Ta(35)}s 1 forwards'>Эта новость замедлена.</span>`},get unlocked(){return PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()}},{id:"a253",text:"После всплеска жалоб от наших зрителей мы решили разрешить вам сочинять свои новости\n      у себя дома. Попробуйте: <input style='border: none; outline: none; font-family: Typewriter;\n      font-weight: bold; font-size: 1.5rem'></input>. Или не пробуйте. Нам всё равно."},{id:"a254",text:'"Анонимные Измерения Антиматерии" были распущены по причине провала их программы из 12 шагов.\n      Люди доходили только до 8-го шага, а затем сбрасывали прогресс.'},{id:"a255",get text(){return`Звуковой эффект "Bruh" №${format(Number.MAX_VALUE,2)}.`}},{id:"a256",text:"Подумать только, всё начиналось с 10 антиматерии…",get unlocked(){return player.records.totalTimePlayed>1e10}},{id:"a257",text:"Треугольная дыра в ткани реальности прекратила существование\n      некоторых букв английского алфавита, а именно: j, k, q, u, x, z"},{id:"a258",text:"Рождён слишком поздно, чтобы исследовать земной шар. Рождён слишком рано, чтобы исследовать космос. Рождён как раз вовремя, чтобы\n      задротить пару часиков до следующего Большого Сжатия."},{id:"a259",text:'Подождите, я знаю, что вы думаете: "Нажатие M есть нажатие M, нельзя говорить о половине!" Что ж,\n      TJ "Slabdrill" Yoshi, выслушайте меня. Нажатие M на самом деле состоит из трёх частей: когда M нажата, когда M\n      зажата, и когда M отпущена. Так вот, обычно именно нажатие полезно, потому что это единственная из трёх частей, которая\n      имеет значение; однако иногда бывает достаточно части зажатия, которая также покупает измерения и\n      ускорители. Что касается отпуска, пока что мы не знаем ни одного случая, когда эта часть полезна или\n      важна, так что забудьте о ней. Итак, если расписать необходимые нажатия для 2-го Испытания, то\n      получится вот так: /¯\\. Нам достаточно зажать (¯) M, чтобы достичь первой галактики, нам нужно нажать (/) M,\n      чтобы завершить Испытание, и снова нажать M, чтобы запустить другое испытание. Сколько всего нажатий\n      получается? Что ж, кажется, три, и если мы рассматриваем прохождение текущей вечности отдельно, то да, их будет\n      три, но в полномасштабном забеге в Испытании кнопки M есть другие нажатия M, которые происходят раньше,\n      например, нажатие M, необходимое для первой бесконечности, так вот, если учесть и это нажатие M,\n      сколько нажатий M получится всего? Напрашивается наивный ответ "четыре": одно перед запуском Испытания и\n      три внутри Испытания, как мы расписали раньше; однако можно сделать лучше. На самом деле нам достаточно\n      трёх: нужно просто выдержать первое нажатие M, чтобы покрыть им полнажатия M, потому что полнажатия M требует\n      лишь зажатия M, а не полного нажатия, и, таким образом, 2-е Испытание добавляет к забегу лишь два нажатия M,\n      так как первое нажатие M просто высасывается из предыдущего нажатия M. И чтобы запечатлеть это\n      явление, мы называем его 2,5 нажатия M. При рассмотрении отдельной вечности это число нужно округлять вверх до трёх, но в\n      полномасштабном забеге его нужно округлять вниз до двух. В заключение, поскольку это первое нажатие M имеет значение в некоторых\n      контекстах, но не добавляет дополнительных нажатий в других контекстах, мы называем его полнажатия M.'},{id:"a260",text:'Кажется, Репликанти строго следуют принципу "разделяй и властвуй" во многом.\n      Ну, при таком темпе - во всём.',get unlocked(){return PlayerProgress.eternityUnlocked()||PlayerProgress.replicantiUnlocked()}},{id:"a261",text:'На самом деле "Измерения Антиматерии" - игра в жанре Roguelite! Если вы умираете, в загробной жизни вы разблокируете альтернативные\n      механики, например, Измерения Пространства вместо Измерений Времени. Вы даже можете разблокировать новых персонажей, за которых\n      можно играть, в том числе вашего клона из антиматерии!'},{id:"a262",get text(){return`Почему во времена моей молодости миллион считался огромным числом, а сегодня даже дети балуются такими числами, как ${format(Currency.antimatter.value,2,1)}?…`},get unlocked(){return Currency.antimatter.value.gt(1e6)},dynamic:!0},{id:"a263",text:"Для чего нужны драгоценные камни? Драгоценные камни нужны для жилья. Вы спросите: жилья для чего? Хороший вопрос."},{id:"a264",text:"Объявили, что скоро выйдет новый слой престижа: материальность. Приготовьтесь к рождению ребёнка!"},{id:"a265",text:"ВЫ ДОЛЖНЫ ПРОИЗВЕСТИ БОЛЬШЕ ИЗМЕРЕНИЙ."},{id:"a266",text:"Здравствуйте, как поживаете?"},{id:"a267",text:"Как же здорово кататься справа налево! Уииииииииииииииииииииииииииииииииииииииии!"},{id:"a268",text:"Не знаю, просто добавь это в игру."},{id:"a269",text:"В Измериграде образовалась пробка. Если вы собираетесь путешествовать в том районе, выезжайте пораньше. Вот, прямой эфир\n      с места событий: 🚗🚕🚛🚙🚗🚚🚕🚕🚌🚛🚚🚙🚒🚛🚗🚙🚓🚗🚚🚛🚒🚌🚐🚚🚐🚛🚚🚓 Да, Дейл, я бы сказал, что это\n      выглядит довольно скверно. И ещё не забудьте прихватить с собой воды и что-нибудь для перекуса."},{id:"a270",text:'Галактический союз журналистов подал коллективный иск на разработчиков\n      скромной браузерной игры "Измерения Антиматерии" по факту массового плагиата.'},{id:"a271",text:"<i style='border: 0.1rem solid black; border-radius: 50%; padding: 0.4rem; color: #2196F3; background: white;\n      cursor: pointer;' class='fas fa-volume-up' onClick='(function(){new Audio(\"audio/news.mp3\").play();})();'>\n      </i> Это сообщение - тест \"Новостей 2.0\". В Новостях 2.0 на каждое сообщение можно будет\n      нажать, чтобы прослушать его!"},{id:"a272",text:"Эта игра лучше с каждым слоем, как луковица."},{id:"a273",text:"Ни в одной из этих новостей нет опечаток. Если вы видите опечатку, это у вас в голове очепятка."},{id:"a274",text:'В бар заходит большое количество математиков. Каждый заказывает в 10 раз больше пива, чем предыдущий.\n      Бармен говорит: "Ой-ой-ой, какой порядок!"'},{id:"a275",text:'"Буквенный Idle" - самая короткая инкрементальная игра всех времён. Она длится всего 33 секунды.'},{id:"a276",get text(){return`Интересный факт: в этой игре ${GameDatabase.news.length} различных новостей!`}},{id:"a277",text:"Внутри тебя есть два волка. Один состоит из материи. Другой -\n      из антиматерии. Ты вот-вот взорвёшься."},{id:"a278",text:"Это просто дружелюбное напоминание о том, что вы забыли сделать что-то очень важное. Я не\n      знаю, что, но что-то вы точно забыли сделать."},{id:"a279",get text(){return`Скоро во всех розничных магазинах: настольная игра "Измерения Антиматерии"! Насладитесь острыми ощущениями от наблюдения\n      за ростом больших чисел, не прибегая к помощи ПК или мобильного телефона. В комплекте есть всё необходимое, в том числе\n      калькулятор в Смешанной научной нотации, ${format(Number.MAX_VALUE,2)} жетонов антиматерии, высококачественная пластиковая\n      кнопка "КУПИТЬ ВСЁ" и более\n      тысячи новостных карточек со всеми теми неуместными мемами, которые вы знаете и любите! Вы наконец-то можете насладиться\n      игрой в ИА так, как было задумано. Настольные ИА также доступны в дорожной версии, чтобы вы смогли испытать\n      радость от вычисления логарифмического роста прямо в пути! КУПИТЕ настольные ИА СЕГОДНЯ! Может\n      содержать следы обычной материи. Репликанти продаются отдельно. 9-е Измерение не входит в комплект.`},isAdvertising:!0},{id:"a280",text:"Я ненавижу антиматерию. Она грубая… жёсткая… и неприятная. Она проникает повсюду."},{id:"a281",text:"Что, если вы на самом деле не создаёте антиматерию, а просто теряете материю?"},{id:"a282",text:"Один человек сообщил, что ему на глаза попалось 9-е Измерение, но его\n      разоблачили как обыкновенное 6-е Измерение из Австралии."},{id:"a283",text:"Странное явление происходит, когда ты пытаешься перейти в более высокое измерение, находясь в 8-м\n      Измерении. Более высокого измерения нет, поэтому Вселенная выбрасывает тебя обратно в 8-е Измерение с\n      невероятной скоростью. Этот приём, известный как Расширение Измерений, широко используется пилотами\n      звездолётов и энтузиастами антиматерии."},{id:"a284",text:"Холодные совершенно одетые женатые мужчины рядом с вами!"},{id:"a285",text:"С этого момента вы дышите сознательно. Вы поняли, что вашему языку неудобно во рту.\n      Теперь вы прилагаете усилия, чтобы держать свой подбородок. Уже несколько секунд вы не моргали. Краем глаза\n      вы постоянно видите свой нос."},{id:"a286",text:"Спасибо, что тестируете игру! :)"},{id:"a287",text:"Мода на продолжения обострилась до такой степени, что некоторые киностудии выпускают продолжения раньше оригиналов.\n      Фанаты с нетерпением смотрят, как уменьшаются номера выпускаемых серий, желая поскорее разузнать,\n      что вообще происходит."},{id:"a288",get text(){const e=player.news.specialTickerData.newsQueuePosition--;return e>1?`Спасибо, что обратились в службу поддержки. Ваше удовлетворение очень важно для нас, и скоро с вами\n          свяжется представитель компании. Ваш номер в очереди: ${e}. Благодарим вас за\n          терпение. Коротайте время ожидания прочтением этих качественно подобранных новостей.`:"Спасибо, что обратились в службу поддержки. Здравствуйте, меня зовут Жанна, чем я могу помочь?"}},{id:"a289",text:"Нажмите, чтобы разобрать новостную строку и превратить её в скрепки.",onClick(){player.news.specialTickerData.paperclips++,GameOptions.toggleNews()}},{id:"a290",get text(){const e=player.news.specialTickerData.paperclips;return`Видите ли, это не обычные новости. Они произведены первым Измерением Новостей. Чтобы\n        разблокировать больше новостей, нужно собрать необходимое количество скрепок для покупки второго Измерения Новостей. У вас\n        ${quantifyInt("скрепка",e)}, но для покупки требуется\n        ${formatInt(e+10)}.`}},{id:"a291",text:"С учётом национальности Hevipelle немного иронично, что он создал игру, в которой нет финиша."},{id:"a292",text:"Фей не существует. Антифей тоже не существует. Такое положение вещей сложилось только неделю назад, когда эти\n      две группы существ встретились. Неудивительно, что планеты, на которой они обитали, тоже больше не существует."},{id:"a293",text:"<span style='font-family: \"Comic Sans MS\", cursive, sans-serif; font-size: 1.7rem;'\n      >Здравствуйте, товарищи новости! 🛹</span>"},{id:"a294",text:"Если вы увидели новость, а потом опять увидели её, то, значит, она стала старостью?"},{id:"a295",text:"👁"},function(){let e=!1;const t="Нажмите на эту новость, чтобы сбросить текущее сохранение.",i="Вы безумец. А знаете что? Вот вам скрепка.";return{id:"a296",get text(){return e?i:t},reset(){e=!1},onClick(){if(!e)return e=!0,player.news.specialTickerData.paperclips++,this.text}}}(),{id:"a297",text:"Не мыслю, следовательно, не существую."},{id:"a298",text:"Введите код Konami, чтобы выполнить секретное достижение."},{id:"a299",get text(){return`Купите новый набор пазлов "Измерения Антиматерии"! Имея в сумме ${format(Number.MAX_VALUE,2)}\n        кусочков, эти пазлы представляют собой идеальный способ хорошо провести время с семьёй!`},isAdvertising:!0},{id:"a300",text:"Совет директоров Информационного антиагентства хочет заменить новостную строку рекламным\n      баннером. Пожалуйста, подпишите нашу петицию на сайте change.org, чтобы остановить их, пока не поздно!"},{id:"a301",text:"Следующий час через 0,2 обновления."},{id:"a302",text:"Представляем вам облегчённую антиматерию! Не содержит калорий… Всё то же аппетитное Сжатие.",isAdvertising:!0},{id:"a303",text:'Hevi умрёт в 9-м сезоне "Теории Большого Сжатия".'},{id:"a304",text:"Привет, как у вас дела? Надеемся, что хорошо. Иначе надеемся, что после игры в ИА станет немного лучше!"},{id:"a305",text:"Перейдём к прогнозу погоды на сегодня. С вероятностью 100% будет погода."},{id:"a306",text:"Вчера на кухне я готовил антиматерию. У меня больше нет кухни."},{id:"a307",text:"Максимизатор скрепок - мысленный эксперимент, описанный шведским философом Ником Бостромом в 2003 году. Он\n      иллюстрирует экзистенциальный риск, который сильный искусственный интеллект может нести для людей, если он\n      запрограммирован на достижение даже кажущихся безобидными целей, а также подчёркивает необходимость добавления машинной этики при\n      разработке ИИ. Сценарий описывает сильный искусственный интеллект, которому поручено\n      производить скрепки. Если бы такая машина не была явно запрограммирована на то, чтобы ценить человеческую жизнь или использовать только\n      заданные ресурсы в течение ограниченного времени, то при наличии достаточной власти её оптимальной целью было бы превратить всю материю\n      во Вселенной (включая людей), либо в скрепки, либо в машины, производящие скрепки."},{id:"a308",get text(){const e=["Антинология","Бесконекция","Вечный Свет","Галактия","Дубликанти","Исследователь Измерений","Техион","Реалистичный","Небожизнь","ERCDGM","NRG+","Коробка Изобилия","Символический","Мини-диван","ИДЕАЛ","Апанж","Очки","Интервал","Новощи","Небесный Пелль","Марса","Зоология","Фоторный","Якфоз","Оризма","ЭДИК","Расщепьение","Гамма","Квантилятор","Имнезия","Фермический","Автоматизеры"],t=[];while(t.length<3){const i=e.randomElement();t.includes(i)||(t[t.length]=i)}const i=[Math.floor(11*Math.random())/100,Math.floor(11*Math.random())/100,Math.floor(11*Math.random())/100];for(let a=0;a<3;a++){const e=i[a];0===e?i[a]='<span style="color: blue">0.00 ◄►</span>':Math.random()>.5?i[a]=`<span style="color: green">+${e} ▲</span>`:i[a]=`<span style="color: red">-${e} ▼</span>`}return`${t[0]} ${i[0]}&nbsp;&nbsp;&nbsp;\n        ${t[1]} ${i[1]}&nbsp;&nbsp;&nbsp;\n        ${t[2]} ${i[2]}&nbsp;&nbsp;&nbsp;`}},{id:"a309",text:'А теперь о прогнозе оттенка неба на неделю. Понедельник: <span style="color: turquoise">бирюзовый</span>.\n      Вторник: <span style="color: #d2c6ba">серо-коричневый</span>.\n      Среда: <span style="animation: a-game-header__antimatter--glow 3s infinite">серо-буро-малиновый</span>.\n      Четверг: <span style="color: turquoise">бирюзовый</span>/<span style="color: #d2c6ba">серо-коричневый</span>.\n      Пятница: <span style="color: #222">цвет угольной пыли</span>. Суббота: <span style="color: #222">цвет угольной пыли</span>\n      с вероятностью <span style="color: indigo">индиго</span> ближе к вечеру.\n      Воскресенье: <span style="color: white; animation: a-existence-glow 3s infinite">пустота</span>.'},{id:"a310",text:'Вы позвонили на горячую линию поддержки "Измерений Антиматерии". Если игра дала\n      сбой, попробуйте обновить страницу. Если проблема останется, нажмите 1, если вы играете с ПК, и 2 - с мобильного устройства. Если вам нужен\n      совет, нажмите 3. Если вам нужно купить всё, нажмите M. Чтобы поддержать разработчиков, нажмите 4. Чтобы просмотреть ЧаВо,\n      нажмите 5. Чтобы починить сломанное сохранение, нажмите 6. Чтобы получить приглашение на сервер в Discord, нажмите 7. Чтобы просмотреть историю\n      изменений, нажмите 8. Нажмите 9, чтобы прослушать инструкцию заново.'},{id:"a311",text:"Авторские права на эту новость принадлежат корпорации The Walt Disney Company. По\n      прочтении этой новости с вашего счёта будет списано 999 рублей."},{id:"a312",text:'Но прежде чем мы начнём, хотелось бы рассказать о спонсоре сегодняшнего видео - "Измерениях Антиматерии"™! У этой игры более 100 000\n      положительных оценок, и она заставила меня переосмыслить роль браузерных игр в моей жизни. В ней отличные механики, 5\n      слоёв престижа, уникальные, оригинальные испытания, глубокое древо Навыков, и самые большие числа, которые я когда-либо видел.\n      Без шуток, просто взгляните на эти числа. И что самое прекрасное, она бесплатна! Да, вы не ослышались. Бесплатна. И если вы перейдёте по\n      ссылке в описании, вы начнёте игру с 10 септиллионами антиматерии. Да, вы не ослышались, с 10\n      септиллионами. Так чего же вы ждёте, переходите по ссылке в описании и начните играть в "Измерения\n      Антиматерии"™ сегодня!'},{id:"a313",text:'"…И потом, когда ты достигнешь 9000-го уровня, ты сможешь вознестись. Я не знаю, зачем тебе может понадобиться сделать это, у\n      тебя просто сбросится весь кровью и потом заработанный опыт за какие-то маленькие бонусы, механики наподобие этой никогда не приживутся."\n      - Неизвестный, приблизительно 2012 г.'},{id:"a314",get text(){const e=Math.floor(8901*Math.random())+100;return`Внимание: указ ${e}-B, составленнный ИИ Duskscarf, также известный как Закон о гигантских\n        космических кроликах, вступил в силу в вашей галактической области. Этот нормативно-правовой акт\n        запрещает, помимо прочего, несанкционированную ловлю диких космических кроликов, усмирение приручённых\n        космических кроликов и научные исследования, связанные с "планетарным выпасом", за исключением случаев, когда это\n        разрешено другим указом Duskscarf. Список исключений выжжен на ваших веках, чтобы вы могли с ним ознакомиться. Кроме того,\n        генная инженерия гигантских космических кроликов ограничена отдельными областями, такими как изменение размера\n        (увеличение) и криптобиозное раздувание. Другие виды генной инженерии разрешены только\n        в военных целях. Благодарим вас за сотрудничество. Это сообщение повторится через- Внимание: указ ${e}-`}},{id:"a315",text:"Разработчики игры объявили, что скоро будет добавлена новая нотация - Подлинно слепая. Как они\n      рассказали, при использовании этой нотации не будет отображаться интерфейс, что упростит пользовательский опыт."},{id:"a316",text:"Некоторые предпочитают видеть уродство этого мира. Беспорядок. Я хочу видеть числа."},{id:"a317",get text(){return`${format(Number.MAX_VALUE,2,0)}? Это ни на что не похоже.`}},{id:"a318",text:"Мы следуем руководствам\n      так же строго, как и роботы,\n      редко сомневаясь в своём выборе, по большей части подчиняясь тем, кто говорит, что дальше."},{id:"a319",text:"Игнорируйте незаслуженные комплименты."},{id:"a320",text:"Представляем вам aPhone 10 - первое в мире полностью растворимое в воде мобильное устройство!",isAdvertising:!0},{id:"a321",text:"Должно быть, вам тоскливо сидеть за ПК в полном одиночестве. Но не волнуйтесь. Мы всё ещё здесь.\n      Наблюдаем за каждым вашим шагом."},{id:"a322",text:'Челябинские мужики настолько суровы, что могут пройти\n      "Измерения Антиматерии" до конца в один присест без сна и пищи.'},{id:"a323",text:'var i = "Omae wa mou shindeiru" console.log(i - 1 + "i?") NaNi?'},{id:"a324",text:"Если вы придумали новость, прокричите её в пустоту.\n      Это не добавит её в игру, но вам станет весело!"},{id:"a325",text:"Авария, которая произошла на Чернобыльской аннигиляционной электростанции в прошлом месяце, поставила под вопрос безопасность\n      энергии антиматерии, и теперь многие считают, что мы должны вернуться к более безопасным источникам энергии,\n      таким как атомная энергия."},{id:"a326",text:'"Измерения Антиматерии" - это как огр… в них есть слои.'},function(){let e=!1;const t="Нажмите, чтобы перезагрузить ваше устройство.",i='Пожалуйста, дайте "Измерениям Антиматерии" доступ к вашему устройству от лица администратора.';return{id:"a327",get text(){return e?i:t},reset(){e=!1},onClick(){if(!e)return e=!0,this.text}}}(),{id:"a328",text:"Информационное агентство перестало обращаться за новостями к людям на улице,\n      вместо этого предпочитая нанимать квалифицированных журналистов. Начались массовые беспорядки."},{id:"a329",text:"Представляем вам азбуку Морзе+++ - новейший код с 20\n      символами для всех, кто хотел скользить, застёгивать молнию и свистеть!",isAdvertising:!0},{id:"a330",text:"Любая достаточно примитивная магия неотличима от технологии."},{id:"a331",text:"У меня нет носа, и я должен чихнуть!"},{id:"a332",text:"♪ Когда ты совсем не стараешься, но у тебя всё равно всё получается. ♪"},{id:"a333",text:'Безумно популярная музыкальная заставка "Я их отпущу" набрала 500 миллионов скачиваний в первую же неделю.'},{id:"a334",text:'Представляем вам совершенно новую диаграмму антимировоззрения! В ней возможны такие инновационные сочетания, как "законопослушно-хаотичный"\n      и "добро-злой"! Также она содержит в своём устройстве ошеломляющую третью ось выразительности; идентифицируйте себя как "хаотично-законопослушно-невыразительный" ПРЯМО СЕЙЧАС\n      по невозможно низкой цене - -5999 рублей! Действует пользовательское соглашение. Батарейки не входят в комплект.',isAdvertising:!0},{id:"a335",text:"Из-за новых осложнений, связанных с Игрой, по всей Антивселенной усилились протесты. Вследствие этого правительство\n      было вынуждено изменить правила Игры, постановив, что ты выигрываешь, когда кто-то напоминает тебе об Игре,\n      а не проигрываешь."},{id:"a336",text:'Внимание, жители области 4 [широко известной как "тёмная область"], сектора ϰ, (01,05). Не\n      покидайте ваше место жительства. Повторяю: не покидайте ваше место жительства. Не выходите на улицу.\n      Лучшие метеорологические суперкомпьютеры компании Earthology, как и многие ведьмы, последовательно прогнозируют\n      на завтра "вообще странное состояние атмосферы", и нам, откровенно говоря, не хочется узнавать, что это значит.'},{id:"a337",text:'Технологическая конвергенция - это идея о том, что все технологии сольются в единую технологию. Эта\n      идея находит широкое распространение с самой зари информационной эры и проявляется во многих местах и устройствах,\n      таких как смартфоны или интернет. "Измерения Антиматерии" - пример технологической конвергенции,\n      а именно в области СМИ. Используя гениальную идею под названием "халатность", с помощью инновационного решения, известного как\n      "слепой случай", они объединили второсортную игру и второсортную же новостную строку, создав посредственное развлечение,\n      которое, хотя и является по большей части игрой, иногда выполняет функцию источника новостей немного лучше, чем новостная строка из\n      "Измерений Материи". Достижение, поистине достойное того, чтобы все предприятия стремились, и, хотелось бы верить, действительно превзошли его.'},{id:"a338",text:"Были найдены древние пещерные рисунки числа 5. Похоже, наши предки чего-то ждали."},function(){let e=!1;const t="Читать дальше",i="дальше";return{id:"a339",get text(){return e?i:t},reset(){e=!1},onClick(){if(!e)return e=!0,this.text}}}(),{id:"a340",text:"Вы производите довольно много антиматерии. Разработчик игры впечатлён. Так как данное сообщение\n      было записано заранее, все оценки вашего производства антиматерии с нашей стороны носят предположительный характер.\n      Игнорируйте незаслуженные комплименты."},{id:"a341",text:"ОШИБКА: ваша реальность не синхронизирована, пожалуйста, обновите атомы, чтобы продолжить."},{id:"a342",text:"Конечно, скрепки полезны, а именно для того, чтобы скреплять бумагу. Но кто в наше время пользуется бумагой?"},{id:"a343",get text(){const e=Math.pow(player.records.realTimePlayed,25);return`Всемирное Испытание: соберите ${format(Number.MAX_VALUE,2)} конкурсных скрепок\n        (узнаваемых по\n        квадратным концам) в сумме по сохранениям всех игроков в ИА, чтобы получить специально подготовленную к событию металлическую волынку, способную производить 2 антиматерии в секунду, а также дополнительный ускоритель\n        сверх ${format(1e200)} ускорителей! Текущий всемирный прогресс:\n        ${format(e)}/${format(Number.MAX_VALUE,2)}\n        (${formatPercents(Math.log10(e)/Math.log10(Number.MAX_VALUE),3)})`}},{id:"a344",text:'Наша жизнь - загадка. Никто не знает, как она устроена на самом деле. Множество вопросов остаётся без ответов:\n      в чём смысл жизни? Существуем ли мы внутри симуляции? Как сделать достижение "Вот это поворот…"? Где и\n      как началось бытие? Все эти вопросы постоянно вертятся у нас в голове, а\n      ответы на них? Возможно, мы никогда не узнаем.'},{id:"a345",text:"Японцы жалуются, что здесь нельзя отобразить хокку. Возникает конфликт."},{id:"a346",text:'Знаете ли вы, что есть версия "Измерений Антиматерии" для устройств на Android? <a\n      href="https://play.google.com/store/apps/details?id=kajfosz.antimatterdimensions" target="_blank">\n      Нажмите, чтобы просмотреть её в Google Play!<a>'},{id:"a347",text:"Плутон - не штат. Как все мы знаем, 50 штатов - это Азия, Артемида, Атлантика, Брайль, Вараха, Великая Пирамида,\n      Весы, Воздух, Восьмиугольник, Галоген, Губно-губной, Дательный, Додекаэдр, Жидкость, Жёлтый, Запятая, Италия,\n      Йель, Калий, Кандела, Канзас, Килиманджаро, Лавсан, Ладья, Левит, Лимфатический, Ловкость, Лямбда, Магматический,\n      Мезозой, Микроволна, Молочный, Мюон, Наречие, Непарнокопытные, Новая Шотландия, Октябрь, P=NP, Полк, Пятеричный,\n      Расколдовщик, Сатурн, Север, Тиана, Тигр, Торг, Фольклор, Шкив, Эри и Эукариоты."},{id:"a348",text:"<span style='color: red'>[Новость удалена модератором]<span>"},{id:"a349",get text(){const e=['Мы, писатели, художники, скульпторы, архитекторы и страстные приверженцы не тронутой до сих пор\n        красоты Парижа, со всей нашей силой и со всем негодованием протестуем во имя недооценённого вкуса\n        французов, во имя французского искусства и истории, которым угрожает опасность, против возведения в центре нашей\n        столицы чудовищной и бесполезной Эйфелевой башни, которую народная молва, часто не чуждая здравого смысла\n        и чувства справедливости, уже окрестила "Вавилонской башней". Не впадая в экзальтацию шовинизма,\n        мы имеем всё же право сказать во всеуслышание, что Париж - город, не имеющий себе равных в мире. Над его улицами,\n        его широкими бульварами, посреди его великолепных променадов возвышаются самые благородные памятники, созданные\n        человеческим гением. Душа Франции, создательницы шедевров, сияет среди этого августовского цветения камней. Италия,\n        Германия, Фландрия, по праву гордящиеся своим художественным наследием, не имеют ничего, что могло бы сравниться с нашим,\n        и Париж вызывает у людей со всех концов света любопытство и восхищение.',"И мы сами собираемся подвергнуть его осквернению? И впредь Париж должен будет ассоциироваться с\n        меркантильным, вычурным воображением машиностроителя, что нанесёт городу непоправимый урон и обесчестит\n        его? Потому что Эйфелева башня, от которой отказалась даже коммерческая Америка, несомненно, обесчестит\n        Париж. Каждый это знает, каждый об этом говорит, каждый этим огорчён, а мы лишь слабое эхо\n        всеобщего чувства тревоги.",'Наконец, когда иностранцы приедут, чтобы посетить нашу выставку, они удивлённо воскликнут: "Что? Вот эту\n        мерзость французы нам показывают, чтобы дать представление о своём хвалёном вкусе?" Они будут правы,\n        потешаясь над нами, потому что Париж божественной готики, Париж Жана Гужона, Жермена Пилона, Пуже,\n        Рюда, Бари и других станет Парижем месье Эйфеля.',"Пора отдать себе отчёт в том, к чему мы стремимся, и хоть на мгновение представить себе высоченную, смехотворную\n        башню, возвышающуюся над Парижем наподобие гигантской фабричной трубы, подавляя своей дикой массой собор Нотр-Дам,\n        Сент-Шапель, Дом инвалидов, Триумфальную арку, все наши униженные монументы, все наши архитектурные\n        сооружения, которые растворятся в этом чудовищном сне. И на протяжении двадцати лет мы будем\n        вынуждены смотреть на отвратительную тень отвратительной колонны из железа и винтов, простирающуюся над городом, \n        всё ещё проникнутым духом стольких столетий, как чернильная клякса…","Именно вам, месье и дорогой соотечественник, вам, кто так любит Париж, кто так украсил его,\n        кто столько раз защищал его от административных разрушений и вандализма промышленных\n        предприятий, выпала честь защитить его ещё раз. Мы поручаем вам отстаивать дело Парижа,\n        зная, что вы потратите на это всю энергию, всё красноречие, которые должны внушать такому художнику, как вы, любовь\n        к прекрасному, великому, справедливому… И если наш тревожный сигнал не будет понят, если ваши доводы\n        не будут услышаны, если Париж будет упорствовать в идее опозорить Париж, то, по крайней мере, мы с вами\n        услышим протест чести."],t=e[player.news.specialTickerData.eiffelTowerChapter];return player.news.specialTickerData.eiffelTowerChapter=(player.news.specialTickerData.eiffelTowerChapter+1)%5,t}},{id:"a350",text:"Александр, посмотрев научно-популярную лекцию от Анаксарха по квантовой механике, вдруг заплакал,\n      осознав, что бесчисленные миры ждут покорения, а он не мог овладеть и одним так, чтобы его не остановил\n      мятеж или шестёрка."},{id:"a351",text:"Привет, я пришёл пожаловаться на низкое качество только что доставленной мне меди."},{id:"a352",get text(){return`<span style='opacity: 0; animation: a-disappear ${Ta(20)}s 1'>\n      Эта новость антимемна. Вскоре вы забудете, что она существует.</span>`}},function(){let e=!1;const t="<span style='cursor: pointer'>💣</span>",i="💥";return{id:"a353",get text(){return e?i:t},reset(){e=!1},onClick(){if(!e)return e=!0,this.text}}}(),{id:"a354",text:"<span style='color: #FBC21B; text-shadow: 0px 1px 0px black, 1px 0px 0px black, 1px 1px 0px black,\n      0px -1px 0px black, -1px 0px 0px black, -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black'>\n      </span>"},{id:"a355",text:"<div style='background: url(\"./images/unsmith.png\"); width: 2.3rem; height: 2.5rem; margin-top: -0.1rem'></div>"},{id:"a356",text:'Нажмите "Выбрать сохранение", чтобы исследовать две параллельных Вселенных.'},{id:"a357",text:'Научное сообщество по-прежнему озадачено значением числа 286 078. "Мы уверены, что оно связано с картофелем,\n      но нам нужно провести больше тестов", - отмечает один из исследователей.'},{id:"a358",text:'Нажмите "Выбрать сохранение", чтобы исследовать две параллельных Вселенных.'},{id:"a359",text:'Местный разработчик инкрементальных игр вновь огорчает физиков. Вот что они говорят:\n      "Нарушение физики и вопиющий технотрёп зашли слишком далеко".'},{id:"a360",text:'Нажмите "Выбрать сохранение", чтобы исследовать две параллельных Вселенных.'},{id:"a361",text:"Встречайте - распродажа высококачественных непромокаемых полотенец! Обязательно купите парочку при выходе!"},{id:"a362",text:'Компания Hevipelle Incorporated с гордостью представляет вам новую марку хлопьев: "Большое Сжатие"! Этот питательный\n      завтрак содержит хрустящие нули из антиматерии, карманные измерения, сахарные кубики со вкусом бесконечности, экспоненциально растущие\n      Репликанти и пастилу со вкусом вечности. Теперь вы можете ощутить "Измерения Антиматерии" у себя в\n      желудке! Имеет побочные эффекты, такие как самовозгорание, тошнота, рвота, диарея,\n      дематериализация, испарение, сердечная недостаточность, конец света и смерть. Если вы не состоите из\n      антиматерии, необходима консультация со специалистом по вопросам потребления антиматерии.',get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"a363",text:"Самое дорогое в содержании дракона - это не золото, необходимое для заполнения гнезда, не магия, ради которой приходится жертвовать\n      целыми империями, и не миллиарды войн, которые нужно вести для снабжения дракона дециллионами адамантия. Нет, это\n      земля. Это всегда земля. Не спрашивайте королевских казначеев, почему у нас на самолёте больше живых существ, чем\n      молекул земли. Просто продолжайте призывать бульдозеры с помощью тайных ритуалов и искать\n      кусочки земли в недрах планеты."},{id:"a364",get text(){const e=['Иллюстрация 320-A - настоящая графическая стена для офиса. Один из наших старших консультантов изучит ваше предприятие\n        и составит список слов, которые следует добавить в вестибюль, чтобы напомнить всем работникам о ценностях их\n        компании. Известно, что это снижает мотивацию работников на 25% и более! На прошлых стенах были написаны такие слова, как\n        "сингулярность", "катастрофический", "случайный", "компрометирующий", "худший", "иллюзорный", "неэффективный" и "разрушенный"! Закажите прямо сейчас!',"Мебель 150-A (версия 2034 г.) - устройство для сидения на 3 персоны. Революционно новый дизайн для офисных зон\n        ожидания - крупный табурет с тремя ножками, помещённый вверх ногами по эстетическим соображениям. Идеально подходит для\n        возвращения сотрудников к работе в новых башмаках или брюках. Он не привязан и не приклеен к\n        полу, как другие версии, но мы заботимся о том, чтобы другие сотрудники косо смотрели на того, кто посмеет внести изменения в наше\n        произведение искусства. Заказывать не нужно, это подарок для каждого клиента!","Мебель 0853 - дыба. Революционно новое рабочее место от изобретателей ползающего\n        стола помогает работникам превозмочь себя и обеспечивает, чтобы всё ваше предприятие кричало -\n        от боли! Когда это считает нужным наш революционный ИИ агонИИ, всем пользователям предлагаются обязательные\n        носилки. Рекомендовано местной тюрьмой, закажите прямо сейчас! Внимание: ОПиА несут ответственность только за такие деяния\n        Бога, как молния и отпущение грехов."],t=e.randomElement();return`Компания "Офисные принадлежности из антиматерии" рада представить вам новую коллекцию "Современный офис"! Каждый шаблонный\n        товар может быть настроен под ваше предприятие, что даёт уникальную возможность способствовать синергии производства! Вот\n        обзор одного из новейших товаров. ${t}`}},{id:"a365",text:"Я не люблю Репликанти. Они грубые… жёсткие… и неприятные. Они производят себя повсюду.",get unlocked(){return PlayerProgress.eternityUnlocked()||PlayerProgress.replicantiUnlocked()}},{id:"a366",text:"Такой вид искусства, как иллюзионизм, имеет любопытную историю. Смесь шарлатанов, пытающихся обдурачить людей,\n      и актёров, разыгрывающих представления с помощью иллюзий или ловкости рук. Сменяющие друг друга стили фокусов и непрекращающиеся\n      споры и разногласия по поводу того, надо ли утверждать, что фокус основан на иллюзии, или зрители\n      волшебным образом поймут, что их обманывают, и объявлять об этом не надо. Сто лет назад произошёл раскол, разделивший фокусы\n      на два вида - деликатные, упрощённые, приземлённые трюки и грандиозные зрелища с яркой техникой и\n      прекрасными ассистентками, берущие начало из популярности одного-единственного фокуса с распиливанием человека\n      пополам. Гораздо интереснее, чем телешоу об экстрасенсах, делающих вид, что вытаскивают выигрышный лотерейный билет из новостной\n      строки, во всяком случае. Кстати, выигрышные номера в сегодняшнем вечернем тираже - 23, 10, 81, 106,4, 3+2<i>i</i> и <i>e</i>."},{id:"a367",text:"Змеи на вид опасны, и они на самом деле таковы, и от каждой змеи, которую ты видишь, следует спокойно бежать. Но, к счастью\n      для нас, змеи редко начинают конфликт, кроме совсем уж злобных. Если змея всё же\n      пошла на то, чтобы укусить тебя, на это может быть 4 причины. 1. Змея злобная. 2. Ты напугал змею. Змеи\n      страшны для тебя, но и ты страшен для змей. Ведите себя более елейно при встрече со змеёй. 3. Ты вторгся\n      на территорию змеи. Зачастую в таких случаях змея предупредит тебя - именно с этой целью гремучие змеи гремят. Если ты\n      не прислушаешься к предупреждению, змея укусит тебя. 4. И самая главная причина: змея считает тебя некрасивым.\n      Всему виной устройство змеиных глаз, но это самая распространённая причина для укусов по крайней мере в 2\n      юрисдикциях. Если змея укусила вас за то, что вы страшно некрасивый ящер, который постоянно забредает\n      не в те кусты, следует предпринять 3 действия. Во-первых, вновь успокойтесь и сохраняйте спокойствие. Во-вторых,\n      обездвижьте участок тела около места укуса, желательно, при помощи компрессионного бинта. Действие змеиного яда\n      в полной мере зависит от движения объекта, в котором он находится. И в-третьих, спокойно позовите на помощь других\n      ящеров. Но не змею. Змея слишком злобная, чтобы помочь."},{id:"a368",text:"Подозреваю, что больше людей нажало бы на кнопку полного сброса, если бы к тому, чтобы сделать процесс как можно сквернее,\n      были приложены настоящие усилия. Медленное изъятие ресурсов с уникальными ослаблениями, существующими лишь затем, чтобы предотвратить прогресс.\n      Разрушение интерфейса путём превращения его из годного в негодный, загадочный и громоздкий, требующий напряжения памяти и, более того, удачи, чтобы по крайней мере\n      продолжать прохождение. Случайность, препятствующая игроку даже в простейших действиях, чтобы наказать его за самую мысль о\n      прогрессе. Капканы, ловушки, катастрофы и скользкие места за шанс увидеть прогресс, который представляет собой не что иное, как\n      отдаление состояния игры от всего, что можно назвать разумным. Ситуация, в которой персонаж\n      сломлен и говорит тебе, чтобы ты просто уходил… но ущерб уже нанесён, если повернуть назад вообще возможно. И…\n      чтобы выбраться из этого состояния, полного сброса может быть недостаточно. Он должен быть… полнее. Не просто полный сброс, а\n      файл cookie или что-нибудь подобное в памяти компьютера, сделанное специально для того, чтобы предотвратить запуск игры заново.\n      Или что-нибудь более вредоносное? И несмотря на это, люди всё равно будут погружаться в этот кошмар, ибо\n      человеческое любопытство не знает границ. Никакие предупреждения не остановят всех. Люди найдут\n      способ продолжить, если только он существует, и могут даже пожаловаться, если процесс будет не таким скверным, как они ожидали. Ну что,\n      хотите ли вы нажать на кнопку и добровольно погрузиться в глубины отчаяния? Надеюсь, что нет, потому что она здесь отсутствует."},{id:"a369",text:'Программа по созданию империи входит в число самых трудновыполнимых задач. Тысячи часов\n      планирования, усилий, консультаций и политических манёвров уходят на поистине прорывные проекты. Возьмём для примера\n      Проект переустройства пространственных путей, революционную программу, известную как Проект четырёх "П", которая по праву считается\n      апофеозом деятельности самого известного бюрократического комитета по инфраструктуре во всей Империи - ИФВИ (Имперского фронта\n      волшебной инфраструктуры), не путать с ИФВЭ (Инвестиционным фондом воздушных электробусов) или\n      НОВИ (Национальным объединением по волшебной инфраструктуре). Задача Проекта четырёх "П", поставленная ИФВИ, заключалась в\n      возрождении коридора торговли маной, необходимой для МСПШ (мало-средних паровых шаттлов), которые были жизненно важны для развивающихся\n      губерний, пострадавших от разграбления во время ДПОИ (Девятого похода за освобождение Империи).\n      Проект четырёх "П" состоял из множества фаз. 1-я фаза представляла собой межевание воздуха глифами - любое большое дело начинается с\n      маленького шага. Во 2-й фазе, целью которой был запуск ИРСП (Имперского разрушительного силового поля), более 50\n      высокопоставленных лиц - император с приближёнными (от губернаторов до председателей имперских организаций), главы иностранных государств, ДСПС\n      (дворянские семьи с предначертанной судьбой), которым принадлежала земля в тот момент, и даже некоторые ведьмы-предсказательницы -\n      собрались вместе, чтобы представить проект на выставке ГФЕИ (Государственного фронта единства Империи).\n      К сожалению, в конце концов Проект был прерван в 215-й фазе, когда УПЭМ (установка для переработки экскрементных\n      материалов), которая строилась для подрядчиков, взорвалась при столкновении с МСВЭ (мало-средним\n      воздушным электробусом), вследствие чего последний геодезический колышек, использованный в 459-й фазе, был выброшен из временного вихря, возникшего из-за спора\n      на ЕСВИ (Ежегодном съезде ведьм по инфраструктуре), проходившем в рамках 56-й фазы. Поистине трагичная история - 3 номинации\n      на премию и 2 победы во время этого процесса благодаря ЭБОИ (Эффективной бюрократии в области инфраструктуры).'},{id:"a370",text:"Внимание: игра приостановлена. Не обращайте внимания на то, что числа растут - это ошибка отображения."},{id:"a371",text:"Внимание, вопрос! Есть 3 двери, вы равновероятно выбираете одну из них и получаете в подарок то, что спрятано за ней. За дверьми\n      спрятаны: 2 золотых козы; 2 серебряных козы; золотая коза с серебряной козой. После того как вы выбираете дверь, вам открывают\n      ту из двух других дверей, козы за которой стоят меньше в сумме. Затем вам дают возможность изменить выбор двери.\n      Какова вероятность того, что вы воспользуетесь этой возможностью?"},{id:"a372",text:'Если вы заблудились в лесу, посмотрите на деревья вокруг вас. Говорят, мох растёт с северной стороны, так что, прежде\n      чем вы закончите разглядывать дерево, бродячий гитарист подбежит к вам и спросит, не хотите ли вы послушать песню\n      "Wonderwall".'},{id:"a373",text:"Нажмите сюда, чтобы получать уведомления о каждой произведённой единице антиматерии!!!"},{id:"a374",text:"Эта новостная строка была специально разработана исключительно для показа рекламы."},{id:"a375",text:"Как вы, вероятно, знаете, на определённые годовщины принято дарить подарки из определённых материалов.\n      Классика: серебро - на 25 лет, и золото - на 50 лет. А вот менее известные традиционные материалы для годовщин:\n      ананас - на 37 лет, адская руда - на 66 лет, лизардит - на 82 года, азотошелестин - на 86 лет, таконит - на 95 лет,\n      гатчетит - на 100 лет, электрум - на 110 лет, якитода - на 111 лет, фордит - на 119 лет, гелиотроп - на 120 лет,\n      целестин - на 125 лет, гагат - на 140 лет, нефть - на 145 лет, сталь - на 150 лет, куммингтонит - на 198 лет,\n      бетон - на 200 лет, кобальтовое стекло - на 210 лет, пейнит - на 250 лет, паризит - на 255 лет, паразит - на 260 лет,\n      углеродные нанотрубки - на 300 лет, ртуть - на 310 лет, марсианская почва - на 340 лет, нептуний - на 370 лет,\n      уран - на 380 лет, плутоний - на 390 лет, иксий - на 400 лет, огненный стержень - на 420 лет, асбест - на 430 лет,\n      габайт - на 444 года, багротан - на 666 лет, лагга - на 777 лет."},{id:"a376",text:'Крупные технологические компании совместными усилиями создали новую нейронную сеть, обученную генерировать тексты\n      для рэпа, под названием РЭП-3. Вот одни из первых генерированных строчек: "Зови меня Прометеем, ведь я приношу огонь";\n      "Зови меня Соником, ведь я собираю кольца". Критики говорят, что ИИ предстоит долгий путь совершенствования, прежде чем он заменит\n      человеческую музыку.'},{id:"a377",text:'В связи с тем, что в ближайшем будущем ожидается выпуск новой версии ОС Android, Android 20, была раскрыта новая система\n      внутренних кодовых названий. Первое кодовое название по состоянию на данный момент - "антиматерия". Это хорошо сочетается с тем,\n      что, как предсказывают эксперты, телефоны на Android 20 будут самыми взрывоопасными телефонами всех\n      времён из-за того, что они будут черпать энергию из аннигиляции. Источники сообщают, что исследовательская группа, стоящая миллиард долларов,\n      работает над названием для 21-й версии Android, которое по традиции будет начинаться с буквы B, что, "если подумать, звучит\n      не так плохо".'},{id:"a378",text:"Если бы каждая единица антиматерии была яблоком, вы могли бы не ходить к доктору более 3000 лет."},{id:"a379",text:"Поздравляем! Вы ничего не добились."},{id:"a380",text:'Челночный бег FitnessGram - это тест на максимальное потребление кислорода, который становится сложнее\n      по мере его прохождения. 20-метровый челночный бег начнётся через 30 секунд. Приготовьтесь к старту. Необходимая скорость бега\n      изначально мала, но увеличивается каждую минуту по сигналу. [бип] Вы должны успеть пробежать по одному\n      кругу перед каждым сигналом. [дзинь] Бегите прямо как можно\n      дольше. Тест будет окончен для вас во второй раз, когда вы не успеете пробежать круг до сигнала.\n      Начинаем по команде "марш". На старт, внимание, марш!'},{id:"a381",text:"Шёл 1942 год до нашей эры. Hevipelle отправился в прошлое и воссоздал компьютер, чтобы заставить людей ждать обновления в течение 4 тысячелетий. Им уже невтерпёж."},{id:"a382",text:"Игроки в ИА, родившиеся после 1993 года, не умеют шутить… Они только и знают, что 5 часов, скрепки, 1.8e308 и 9-е Измерение."},{id:"a383",text:"Лучше, чем антианекдот, может быть только два. Я имею в виду число. Не два антианекдота. Я просто люблю число два."},{id:"a384",text:"Нажмите, чтобы ничего не произошло."},{id:"a385",text:"Удивительно… Почему Apple пропустила iPhone 9, а Microsoft - Windows 9?…\n      Неужели их подкупил разработчик игр?"},{id:"a386",text:"9 из 10 врачей рекомендуют не трогать антиматерию. Мы не получили ответа от 10-го."},{id:"a387",text:'Весной человек построил колонну. Летом - другую. Всю осень они стояли. Но зимой с одной из них произошло\n      неожиданное (см. определение в книге "Абстрактная многомерная ретропричинная физика") событие класса ZW "Вознесение",\n      и, предположительно, она упала в измеренческую лазейку, где она по определению должна занимать больше\n      измерений, чем она сама. К настоящему моменту усилия, приложенные к тому, чтобы извлечь колонну и вернуть её в основную реальность, не\n      увенчались успехом (см. подробности в журнале проб 2453-3e9a-50d1-84fc).'},{id:"a388",text:'В свете последних событий мы хотели бы сделать официальное заявление. "Измерения Антиматерии"™ никоим образом не\n      связаны с "Яковлевскими нарушающими причинность мозговыми червями"™. Мы не только не причастны к созданию ими\n      изделия, которое стало причиной нескольких катастрофических происшествий с дестабилизацией измерений и обрушением реальностей, но и не одобряем его.\n      Почти наверняка мы не подписали сделку 8 декабря 1994 года в 5:30:26 по UTC, обсудив, как мы могли бы извлечь выгоду\n      из дестабилизации и деформации измерений. В 5-м рукаве Ориона галактики వ\' не было организовано промышленной зоны,\n      а даже если и была, мы не устанавливали локализованные аномалии, используя скрантонский механизм отвязки\n      реальностей. Кроме того, на акроаматической очистительной установке АОУ-D в Зоне 43 не образовалось временной петли. Приносим\n      вам свои извинения за то, что вам так могло показаться. В дальнейшем мы будем более тщательно бороться с дезинформацией.'},{id:"a389",text:"Ах, если бы можно было конденсировать антиматерию Вселенной в печенье…"},{id:"a390",text:"Ребята, вы не поверите! До обновления всего 5 часов. Обновление через 5 часов. Ура! Я так рад этой\n      информации. До обновления всего 5 часов. Ого! Вы не поверите! Обновление всего через 5 часов. Оно пришло так\n      быстро. Обновление, всего 5 часов."},{id:"l1",text:"Вы только что произвели 1 000 000 000 000 000-ю единицу антиматерии. По вкусу она напоминает курицу.",get unlocked(){return 15===Currency.antimatter.exponent}},{id:"l2",text:"Пожалуйста, ослабьте галактики.",get unlocked(){return 2===player.galaxies||Currency.infinities.gt(0)}},{id:"l3",text:'В каком смысле "больше двух измерений"??? Мы на экране, очевидно, есть только два измерения.',get unlocked(){return AntimatterDimension(3).amount.gt(0)||DimBoost.totalBoosts>0}},{id:"l4",text:'"Бесконечность - это сколько?" - буквально каждый хотя бы раз',get unlocked(){return AntimatterDimension(8).amount.eq(190)||Currency.infinities.gt(0)}},{id:"l5",text:"Ну, хватит и четвёртого Измерения…",get unlocked(){return AntimatterDimension(4).amount.gt(0)&&AntimatterDimension(5).amount.eq(0)}},{id:"l6",text:"Кажется, люди из антиматерии боятся числа 13 даже больше, чем мы с вами. Они разрушили\n      целые галактики только для того, чтобы убрать число 13 из процентов.",get unlocked(){return player.galaxies>0||Currency.infinities.gt(0)}},{id:"l7",text:"Чтобы понимать Пожертвование Измерений, нужно обладать докторской степенью по теоретической физике. Извините!",get unlocked(){return player.sacrificed.e>=10||DimBoost.totalBoosts>=6}},{id:"l8",text:"Новая группа стандартизации записи чисел предложила новаторский формат с эмодзи.",get unlocked(){return player.requirementChecks.permanent.emojiGalaxies>0}},{id:"l9",text:"Недавно открылся киоск с мороженым из антиматерии - он продаёт октиллионы сортов!",get unlocked(){return player.records.totalAntimatter.e>=27}},{id:"l10",text:"Небесный Пелль произвёл слишком много антиматерии, вследствие чего ему понадобилось создать новую галактику.\n      Её можно увидеть в юго-западной части неба.",get unlocked(){return player.galaxies>0||Currency.infinities.gt(0)}},{id:"l11",text:"9-е Измерение - ложь.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l12",text:"Квадратный корень из 9 равен 3, следовательно, 9-е Измерение не может существовать.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l13",text:"Вас впитало 9-е Измерение? Просто обратитесь к психиатру!",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l14",text:"А теперь о погоде."},{id:"l15",text:"Пожалуйста, ослабьте первое Измерение - оно производит буквально всю антиматерию."},{id:"l16",text:"Если вы разрушите четвёртую стену… что ж, пятая, шестая, седьмая и восьмая всё ещё будут отделять\n      вас от неприятностей, так что это не страшно.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l17",text:"Hevipelle может заснуть только при определённых условиях. Во-первых, рак должен свистнуть на горе. Во-вторых, солнце\n      должно быть скрыто от определённого арктического города в течение месяца. В-третьих, ему нужно выпустить обновление в ИА. И, наконец,\n      никто в Discord не должен быть на 9-м Измерении. Только тогда он сможет отдохнуть до 6 часов, прежде чем вынужденно\n      проснётся, чтобы не получить достижение за офлайн.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l18",text:"Если 9-е Измерение - это зло, то, значит, 3 - это корень зла?",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l19",text:"А мне бы номер 9 - 1e29 порций, номер 1e9 - большую порцию, номер 6 с Репликанти, номер 1e7, номер 4e5 - две порции,\n      одну из них с материей, ну и большой временной вихрь.",get unlocked(){return DimBoost.totalBoosts>=5||player.galaxies>0||PlayerProgress.infinityUnlocked()}},{id:"l20",text:"В прошлом месяце один учёный заявил, что открыл 9-е Измерение. С тех пор его не видели."},{id:"l21",text:"- Пять - это много? - Смотря чего. Антиматерии? Нет. Часов до обновления? Тоже нет."},{id:"l22",text:'"Антифильм эмодзи" стал огромным хитом!',get unlocked(){return player.requirementChecks.permanent.emojiGalaxies>=5}},{id:"l23",text:'Если бы эта игра была создана Valve, достижение "Ни одного погибшего" было бы невозможно выполнить.',get unlocked(){return Achievement(64).isUnlocked}},{id:"l24",text:'Челябинские мужики настолько суровы, что в выполнении достижения "Ни одного погибшего" на первой же бесконечности их не останавливает даже тепловая смерть Вселенной.',get unlocked(){return Achievement(64).isUnlocked}},{id:"l25",text:'"Выполнить половину всех достижений - не такое уж большое достижение" - Boo',get unlocked(){return Achievements.effectiveCount>=GameDatabase.achievements.normal.length/2}},{id:"l26",text:"Танос будет безмерно огорчён, когда он придёт с полностью заряженной Перчаткой Бесконечности, а у Hevi\n      есть полностью заряженная Перчатка Вечности.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l27",text:"Был открыт странный новый материал. Он растёт, по-видимому, экспоненциально, но помогает только с производством антиматерии.",get unlocked(){return PlayerProgress.replicantiUnlocked()&&.01===player.replicanti.chance}},{id:"l28",text:'Кажется, эти "репликанти" не будут размножаться ещё быстрее.',get unlocked(){return 1===player.replicanti.chance&&1===player.replicanti.interval}},{id:"l29",text:"Если Hevipelle будет писать три цифры в секунду, ему понадобится меньше времени, чтобы записать количество вашей антиматерии с точностью до целых,\n      чем чтобы обновить игру.",get unlocked(){return Currency.antimatter.exponent>=1e5}},{id:"l30",text:"Неужели Hevi просто выбирает цитаты для вставки в игру?",get unlocked(){return NewsHandler.uniqueTickersSeen>=30}},{id:"l31",text:"У нашего информационного агентства появились конкуренты. Они состоят из чистой антиматерии.",get unlocked(){return NewsHandler.uniqueTickersSeen>=80}},{id:"l32",text:'Сколько раз подряд можно сказать "анти", прежде чем люди перестанут слушать?',get unlocked(){return NewsHandler.uniqueTickersSeen>=100}},{id:"l33",text:"Проверяет ли ещё Hevi канал #news-ticker-suggestions?",get unlocked(){return NewsHandler.uniqueTickersSeen>=120}},{id:"l34",text:'"Нужно больше цитат!" - hevipelle',get unlocked(){return NewsHandler.uniqueTickersSeen>=135}},{id:"l35",text:"Один человек уничтожил наблюдаемую Вселенную при помощи антиматерии и начал сочинять новости, чтобы бороться с чувством одиночества.",get unlocked(){return NewsHandler.uniqueTickersSeen>=150}},{id:"l36",text:"Вы почти у цели!",get unlocked(){return NewsHandler.uniqueTickersSeen>=160}},{id:"l37",text:"Вы можете остановиться на этом.",get unlocked(){return NewsHandler.uniqueTickersSeen>=165}},{id:"l38",text:"fucking hacker",get unlocked(){return NewsHandler.uniqueTickersSeen>GameDatabase.news.length}},{id:"l39",text:"Один азиат попытался украсть приз за мировой рекорд бесконечности в -1 секунду, И У НЕГО ПОЛУЧИЛОСЬ!",get unlocked(){return NewsHandler.hasSeenNews("l1")}},{id:"l40",text:"Я сломал 8-ю стену, там нет ничего, кроме хаоса, Slabdrill совершает ритуал принесения антиматерии в жертву 9-му\n      Измерению. Это мой последний репортаж, да помилует Hevipelle наши души, мы не прислушались,\n      а надо было.",get unlocked(){return NewsHandler.hasSeenNews("l58")}},{id:"l41",text:'"Я думал, обновление через 5 часов…" - новичок после 5 часов игры',get unlocked(){return Time.totalTimePlayed.totalHours>=5}},{id:"l42",text:"Вчера мне посоветовали подождать пять часов до обновления, но вот настал новый день,\n      а обновления всё нет! Что делать?",get unlocked(){return Time.totalTimePlayed.totalHours>=5}},{id:"l43",text:"Вы же понимаете, что вам не удастся совершить бесконечность за -1 секунду, да?",get unlocked(){return.1===player.records.bestInfinity.time}},{id:"l44",text:"Где живёт Немо из антиматерии? В NNnNeMI-NNnNe.",get unlocked(){return player.records.totalAntimatter.e>=3e6}},{id:"l45",text:'"Антифильм эмодзи MMMCMXCIX" стал огромным хитом!',get unlocked(){return player.requirementChecks.permanent.emojiGalaxies>=3999}},{id:"l46",text:"Новое достижение!",get unlocked(){return Achievements.effectiveCount>=GameDatabase.achievements.normal.length}},{id:"l47",text:"Достижение даётся за два миллиона, а не два миллиарда…",get unlocked(){return Currency.infinities.gt(2e9)}},{id:"l48",text:"Продолжайте в том же быстром темпе!",get unlocked(){return AchievementTimers.marathon1.time>1200}},{id:"l49",text:"В один прекрасный день вы перестанете неустанно копить.",get unlocked(){return Currency.eternities.gt(5e4)}},{id:"l50",text:"Вы, вероятно, можете перестать копить вечности…",get unlocked(){return Currency.eternities.gt(v.D2E6)}},{id:"l51",text:"Вы серьёзно?",get unlocked(){return Time.worstChallenge.totalSeconds<=1}},{id:"l52",text:"Своевременность играет ключевую роль.",get unlocked(){return player.records.thisEternity.realTime<10}},{id:"l53",text:"Если вы хотите накопить бесконечности, почему вы не купите соответствующее Исследование Времени?",get unlocked(){return!TimeStudy(32).isBought&&Currency.infinities.gt(12096e3)}},{id:"l54",get text(){const e=[];PlayerProgress.infinityUnlocked()&&e.push("Infinity"),PlayerProgress.eternityUnlocked()&&e.push("Eternity"),PlayerProgress.dilationUnlocked()&&e.push("Dilation"),PlayerProgress.realityUnlocked()&&e.push("Reality");const t=e.randomElement();let i=e.randomElement();while(i===t)i=e.randomElement();return`Только что выпустили Pokemon ${t} и ${i}! С учётом нового поколения количество покемонов возросло до 1e151. Удачи поймать их всех!`},get unlocked(){return PlayerProgress.eternityUnlocked()},isAdvertising:!0},{id:"l55",get text(){const e=["Репликанти: наберите немного Репликанти, поставьте в духовку и смотрите, как они растут. И растут. И растут.","Антиматерии: наберите немного антиматерии, поставьте в духовку и <b>БУМ</b>.","Вечности: наберите немного Очков Вечности, поставьте в духовку и ждите…","Бесконечности: наберите немного Очков Бесконечности, поставьте в духовку и смотрите, как они ломают пространство-время."],t=e.randomElement();return`Как испечь Пирог ${t}`},get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l56",text:"Испытания Реальности - это новое 9-е Измерение, которое, в свою очередь, представляет собой новый апельсин.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l57",text:'Яша вернулся домой после долгого школьного дня. По пути домой он нашёл любопытный маленький предмет.\n      Прозрачный, но матовый. Мерцающий, но мрачный. Тяжёлый, но невесомый. Яша преподнёс этот предмет\n      маме. "Мам, я нашёл эту штуку на тротуаре, можно, я оставлю её себе?" - спросил Яша. Мать повернулась,\n      чтобы посмотреть, о какой штуке говорит её сын. Её зрачки расширились. "Яша, немедленно убери это из квартиры!" -\n      закричала она. Яша растерялся, ведь предмет выглядел безобидно. Он спросил: "Ну, мама, поче-", -\n      но не успел он договорить, как предмет претерпел что-то наподобие митоза с невероятной\n      скоростью, и его копия выскользнула из рук мальчика и упала на пол. Мать бросилась к\n      сыну и попыталась схватить предмет, но он опять произвёл на свет свою копию. "Яша… Что бы ни случилось, не\n      забывай, что я люблю тебя, сынок…" - сказала она, обнимая ребёнка. "М-мам, что происходит?" - спросил Яша\n      голосом, дрожащим от страха. Из глаза матери потекла одинокая слеза. "⭔⭚⦕꒜ марка Репликанти…" - угрюмо\n      проговорила она. Репликанти продолжили размножаться всё быстрее и быстрее. Вся нижняя треть\n      квартиры была заполнена Репликанти. Затем - половина. Ещё немного погодя - вся квартира целиком. Мать с ребёнком были\n      заключены между стенами квартиры и Репликанти. Обречённые прожить короткий остаток жизни в\n      этом неудобном гробу, медленно расходуя запасённый в лёгких кислород. Но это далеко не конец истории.\n      Репликанти начали размножаться вне дома, хлынув через окно мерцающим оползнем. Те из\n      соседей, кто заметил странные предметы, почти неотличимые от жидкости, попытались сбежать.\n      Но Репликанти продолжили размножаться всё быстрее. Вскоре весь двор покрылся ими; состоял\n      из них. Через некоторое время - несколько дворов. Весь город. Окрестные города. Вся страна. Весь континент. Вся\n      планета. Вся Солнечная система. Вся галактика. Всё.',get unlocked(){return player.replicanti.unl}},{id:"l58",text:'Святая Троица Hevipelle - антиматерия, Очки Бесконечности и Очки Вечности. Эти три ресурса дают нам\n      доступ к дару Hevi, Теоремам Времени. И с этими Теоремами Времени мы обращаемся к Hevi и воззываем: "Hevi, благослови\n      нас в этот прекрасный день!" Hevi же ниспосылает нам благословление в виде Исследований Времени. Эти Исследования Времени - настолько\n      могущественные благословления, что Hevi ограничил их могущество. Он рёк: "Я даю вам выбор из трёх путей", и\n      человечество стало выбирать. Между быстрым, дешёвым путём Измерений Антиматерии, дающим наслаждение немедленно,\n      могущественным путём Измерений Бесконечности, золотой серединой, и путём Измерений Времени, путём долгого\n      ожидания и борьбы человечества. Пока человечество выбирало, по земле пробежала трещина. Змей-искуситель выполз и,\n      ухмыляясь, обратился к человечеству: "Я предлагаю вам выбрать могущественный путь девятого Измерения! Я Slabdrill, повелитель всего,\n      что неугодно Hevi". Тогда человечество восстало и молвило: "Прочь, Slabdrill! Нам не нужна твоя гнусная ересь!" И Hevi, поднявшись,\n      сразил Slabdrill своей божественной силой. Пока тело Slabdrill падало в землю, он воскликнул: "Вы ещё\n      придёте ко мне! Hevi пред-", - и он провалился в бездну материи. Hevi одарил человечество\n      Улучшениями Вечности, усиливающими Измерения Бесконечности и Измерения Времени. И человечество получило от Hevi величайший\n      дар. Множители ОВ. Он сказал: "Они умножают всё получение ОВ на 5, но их цена при этом возрастает в 50 раз.\n      Пользуйтесь ими с умом". И человечество отправилось в свободное плавание более могущественным, в то время как слова Slabdrill эхом отзывались в людских головах.',get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l59",text:'Спор о форме единственного числа слова "Репликанти" продолжается. База команды «"Репликант"» была разграблена\n      командой «Тоже "Репликанти"», и многие из их измерений были украдены. Команда «Форма множественного числа - "Репликантии"»\n      пока не высовывается, после того как их план взломать словарь провалился.',get unlocked(){return player.replicanti.unl}},{id:"l60",get text(){return`Срочные новости: обрушилась шахта по добыче Осколков Времени! Количество жертв доходит до ${Math.floor(20+236*Math.random())}!`},get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l61",text:'Эксперты по вопросам антиматерии говорят, что миллениалы убивают индустрию испытаний: "Они начинают с\n      выполненными испытаниями и преодолённой Бесконечностью, раньше о таком нельзя было и помыслить".',get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l62",text:"Перестань читать новости сейчас же. Не хочешь? Я тебя заставлю.\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n      Ладно. Ты меня переупрямил."},{id:"l63",text:"Вы ощутили, что время стало идти медленнее? Недавно было проведено исследование, установившее, что теперь каждая секунда длится около 1,3 секунды.\n      Учёные назвали это явление Замедлением Времени.",get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"l64",text:'Несправедливость в Академии Антиматерии: начинающие могут выбрать только одну область для исследования, в то время как элита\n      может выбрать все три. "Это просто нечестно, чёрт возьми. Как это возможно, что им это разрешено?" - вопрошает недовольный студент.',get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l65",text:'Оказывается, никто не знает, как на самом деле выглядят Очки Бесконечности, даже те, кто работает с ними каждый\n      день, потому что они обучены не смотреть на них. По словам экспертов, Очки Бесконечности "настолько опасны, что они могут убить любого, кто на них бросит взгляд",\n      так что зачастую при работе с ними приходится завязывать глаза. Но сегодня всё изменится. Я здесь, прямо перед\n      складом Очков Бесконечности, чтобы показать вам, как они выглядят, через 3, 2, 1-',get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l66",text:"Человечество потрясено неудачным экспериментом по Замедлению Времени, в результате которого произошёл видимый сбой в пространстве-времени. Его последствия теперь можно увидеть\n      в ночном небе прямо над небесным экватором.",get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"l67",text:'Нюхать измельчённые Осколки Времени постепенно становится модным испытанием у самых скучающих людей.\n      Говорят, это настолько одурманивает, что тебе кажется, будто весь мир вокруг тебя ускоряется, из-за чего\n      это занятие и прозвали <span style="color: var(--color-eternity)">Испытанием Времени</span>. &nbsp;&nbsp\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n      Случаи смерти от обезвоживания резко участились. По неустановленным причинам люди забывают, что надо пить воду, на несколько дней.\n      В их телах находят следы Осколков Времени.',get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l68",get text(){let e="";return e=InfinityChallenge(4).isRunning?'Вот член стороны, считающей, что это 4-е Испытание Бесконечности. Что вы можете сказать? -\n          Очевидно, худшее из Испытаний Бесконечности - 4-е. В самом деле, как его вообще пройти? Я всё пытаюсь\n          и пытаюсь, но каждый раз я застреваю даже не близко к цели! Как его вообще пройти? -\n          Какой страстный человек. С вами была программа "Вести". Мы вернёмся к этой теме позже.':InfinityChallenge(5).isRunning?'А вот человек, держащий плакат, который гласит: "Долой ИспБ5". Какую точку зрения хочет\n          донести ваша группа? - И вы задаёте этот вопрос, прочтя наш плакат? Если у вас так слабо развит навык осмысленного чтения, то 5-е Испытание Бесконечности\n          согнёт вас в бараний рог, не оставляя ни шан- - Как… интересно. С вами была программа "Вести".\n          Мы вернёмся к этой теме позже.':'А эта женщина не согласна ни с той, ни с другой стороной. Какого ваше мнение по будоражащему всех вопросу? -\n          Лично мне 9-е Обычное Испытание показалось хуже, чем оба- - ХВАТАЙ ЕЁ!! - НЕТ, НЕ- -\n          Что ж, кажется, градус событий резко повысился, так что я отдаляюсь от их места как можно дальше. С вами была\n          программа "Вести". Мы вернёмся к этой теме… когда-нибудь.',`- Здравствуйте, с вами программа "Вести", известная своей достоверностью. Сегодня люди бесчинствуют на улицах,\n        споря по поводу того, какое из Испытаний Бесконечности хуже. ${e}`},get unlocked(){return InfinityChallenge(1).isUnlocked||PlayerProgress.eternityUnlocked()}},{id:"l69",text:"Дружба закончилась с Репликанти. Теперь Галактики Репликанти - мой новый лучший друг.",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"l70",text:'Цуркрбарг, Небожитель Конфиденциальности, объявил о своих планах выпустить новую версию\n      их вселенной социальных сетей - "Всего".',get unlocked(){return Teresa.isUnlocked}},{id:"l71",text:"Иные языки ждут… Пора стать программистом",get unlocked(){return Player.canEternity||PlayerProgress.eternityUnlocked()}},{id:"l72",get text(){const e=["наши участники борются за выживание в безлюдной пустоши 8-го Испытания Вечности -\n        что они предпримут, истощая свой запас покупок Улучшений Репликанти и Измерений Бесконечности?","мы расследуем сообщения об обрушении шахты по добыче Осколков Времени в 26:90.","мы приглашаем в нашу студию любителя, чтобы он объяснил, какой была бы награда за 9-е Испытание Бесконечности.",'наши партнёры с "Общественного телевидения Антиматерии" объясняют, как они выпускают свои передачи.',"мы приглашаем в нашу студию местных игроков в инкрементальные игры, чтобы они объяснили, как они играют в свои любимые игры.","<span style='font-family: Barrio'>отправьте 10 000 рублей для поддержки\n        разработчиков, иначе вы никогда больше не посмотрите \"Голубую реальность\".</span>","мы подробно объясняем, что вчера сломалось в Чёрной Дыре, питающей наш город.","мы прогнозируем погоду на 10 дней вперёд.",`ВЫ ОБЯЗАНЫ ЗАПЛАТИТЬ ${format(player.reality.realityMachines.times(10).max(10))}\n        МАШИН РЕАЛЬНОСТИ, ЧТОБЫ ПРОДОЛЖИТЬ СМОТРЕТЬ ЭТУ ПЕРЕДАЧУ.`,"мы присутствуем при запуске гипнодронов.","наш великий всемогущий повелитель позоляет нам иметь одну единицу антиматерии.",'Александр Пушной объясняет, как Репликанти размножаются, и учит распознавать опасные теории заговора,\n        такие как "поглощать антиматерию безопасно" и "Галактики Антиматерии не стоят того".',"величайшие философы мира спорят, можно ли считать то, из чего мы с вами состоим, антиматерией.","пекарь со стажем объясняет, как обычные предметы, не находясь под постоянным наблюдением, могут трансформироваться в пироги."],t=e.randomElement();return`Смотрите в следующем выпуске нашей программы "Голубая реальность": ${t}`},get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l73",text:"Давным-давно, в далёкой-далёкой галактике… изменилась наценка.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"l74",text:"Встречайте новую механику: Исследования Реальности! Получайте внутриигровые бонусы за исследование реальной жизни!",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l75",text:'Здесь, в "Измерениях Антиматерии", мы гордимся качеством нашей продукции. Например, знаете ли вы,\n      что каждое Очко Бесконечности уникально? Да-да! Каждое из них обладает неповторимым характером, собственными чувствами,\n      собственными мыслями… Надеюсь, с этим знанием вы сможете спокойно спать этой ночью… Вспомните, сколько Очков\n      Бесконечности вы потратили? У каждого из них есть своя семья, по которой оно скучает… Посмотрите, что вы наделали. Вы чудовище.',get unlocked(){return PlayerProgress.infinityUnlocked()}},{id:"l76",text:'Благодаря этой игре я умею говорить на языке антиматерии. Представьте, что было бы, если бы кто-то взял ваш телефон и подсмотрел\n      вашу переписку с другим игроком в "Измерения Антиматерии", а там: - Боже мой, 9-е Испытание такое трудное, я не могу достичь\n      даже одного Расширения, может, мне нужно больше ОБ? - Нет, ты сможешь его сделать. Отключи всю автоматику, кроме автоматики\n      6-го и 8-го Измерений, и покупай измерения, начиная с самых дорогих. И получи две галактики. - А ты уже замедлил Время? Я застрял\n      на 1e1300 ОВ, но все ИспВ у меня выполнены. - Просто подкопи Репликанти в долгой вечности. После Замедления всё равно не лучше,\n      приходится копить Тахионы и ЗВ. - Я даже не могу достичь 1.8e308 ОБ с этими чёртовыми ослаблениями к ИА, ИБ и ИВ.\n      Это явно не лучшая стадия игры. - Этот человек немедленнно отбросил бы ваш телефон и начал играть в ИА.',get unlocked(){return PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()}},{id:"l77",text:"Улучшайте Навыки при помощи искуственного отбора и передовых технологий эпигенетики.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l78",text:"Внимание: генетически модифицированные Очки Умения непригодны к употреблению в пищу, физическому контакту, вдыханию,\n      выдыханию, мысленному контакту и разглядыванию как видимыми, так и невидимыми глазами. Не размещайте их вблизи горючих,\n      негорючих, электропроводящих, электроизолирующих, изменчивых, биологических или механических веществ. Существуйте на свой страх и риск.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l79",text:"Вопреки распространённому мнению, Межгалактическая налоговая служба Антиматерии имеет возможность платить налоги\n      на антиматерию, полученную недобросовестными методами, т. е. любыми, кроме установленных законом и изменённых\n      курсами испытаний измерений. В разделе NY-8N приведено 3 конкретных методики - незаконная раздача с новостных строк,\n      неопознанные измерения и изменение ткани пространства-времени, а также пункт о прочих\n      специфических методах для антиматерии, которые могут появиться в будущем. И хотя вам придётся платить налог на антиматерию по максимальной ставке в 99%,\n      таким образом вы можете сэкономить деньги в долгосрочной перспективе - если вас вынудит сменить реальность решение Небожителя, вы\n      можете получить часть уплаченного налога обратно от МНСА в качестве налогового вычета, а также потребовать вычет для\n      оплаты услуг судей, которые будут вас представлять. Конечно, любой уважающий свои МР [ССЫЛКА НА ИГРОКА НЕ НАЙДЕНА], знает, что\n      лучше скрывать незаконные доходы от преступной деятельности в личных карманных измерениях, гиперсращённых волновых\n      банках и нанооболочках, для применения которых требуются обширные исследования и разработки. По существу, сообщать о незаконом получении антиматерии\n      рекомендуется, только если вы слишком богаты, чтобы скрыть свои доходы, но слишком бедны, чтобы скрыть свои доходы.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l80",get text(){return`Фактоид о том, что "среднестатистический человек производит ${format("3e999999996",2)} антиматерии в год", возник из-за статистической\n      погрешности. Среднестатистический человек производит 0 антиматерии в год. Георг - Разработчик Измерений, живущий в пещере и\n      производящий более ${format("1e1000000000",2)} антиматерии в день, представляет собой выброс, так что его не надо было учитывать.`},get unlocked(){return PlayerProgress.hasBroken()}},{id:"l81",text:"Мир погрузился в хаос, оттого что законы математики были переписаны! Многое из того, что считалось\n      бесконечным, оказалось лишь очень большим, но конечным!",get unlocked(){return PlayerProgress.hasBroken()}},{id:"l82",get text(){return`Великие писари Антии усердно трудились много лет. Боги дали им исполинское задание:\n      выписать непостижимо длинное число. Писари работали по очереди, выписывая по несколько цифр в секунду\n      каждый, денно и нощно в течение времени, казавшегося целой вечностью. Наконец, спустя\n      ${TimeSpan.fromSeconds(Currency.antimatter.value.log10()/3).toString("accusative")}, они выполнили\n      невозможное. В конце недели, пойдя на поклон к богам, они отправили тем короткое сообщение: "В чём\n      смысл? В чём значимость нашего многолетнего труда?" Боги ответили надлежащим образом: "Нам нужно было знать, сколько\n      времени понадобится, чтобы выписать это число, для статистики в нашей игре."`},get unlocked(){return Currency.antimatter.value.gte("1e777600")}},{id:"l83",text:'Запись в журнале изменений ИА: "Устранена проблема с небожителями. Антиматерия стала больше заботиться об аннигиляции. Добавлены рты.\n      Удалены рты. Незваные гости больше не могут корпоративно захватывать магазины. Устранена ошибка, при которой новостная строка\n      висит в воздухе. Мёртвые Репликанти теперь остаются в своих галактиках. Незваные гости больше не имеют в определении [ДАННЫЕ УДАЛЕНЫ].\n      Устранена ошибка, при которой Тахионы застревали в левом верхнем углу экрана, что приводило к уничтожению времени. При вращении галактик\n      теперь учитывается эффект Кориолиса.',get unlocked(){return Teresa.isUnlocked}},{id:"l84",get text(){return`Для справки, на текущий момент у вас ${quantify("бесполезная скрепка",player.news.specialTickerData.paperclips)}.\n      Возможно, вам следует потратить свои скрепки.`},get unlocked(){return player.news.specialTickerData.paperclips>0}},{id:"l85",text:"В параллельном мире до обновления всего -5 часов. Вы начинаете производить материю. Набрав\n      огромное количество материи, вы вынуждены совершить конечность. Став, в конце концов, богатым на Очки Конечности,\n      вы можете совершить мгновение. Через некоторое время и много мгновений вы\n      ускоряете Время. Ускорение Времени даёт вам достаточное усиление, чтобы наконец совершить фантазию, которая является последним слоем\n      престижа. Но вот вы узнаёте, что это был только сон. Ваша антиматерия в целости и сохранности, а до\n      обновления всё ещё 5 часов.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l86",text:'Здравствуй, игрок. Я хотел бы сыграть с тобой в игру. Перед тобой кучка Репликанти. В данный момент они остановлены\n      во времени, чтобы не размножались. Справа от тебя компьютер, на котором открыты "Измерения Антиматерии" с новым сохранением. Ты\n      должен достичь бесконечности. Но как только ты купишь 1-е Измерение, Репликанти начнут размножаться. Как тебе известно,\n      они размножаются быстро, и если они заполнят собой всю комнату, ты задохнёшься. Как только ты достигнешь бесконечности, они\n      вновь перестанут размножаться. Можешь начинать.',get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"l87",text:'"Небо синее - в цветке, В горстке праха - бесконечность; Целый мир держать в руке,\n      В каждом миге видеть вечность. В каждых 5 часах™️ - реальность" - Уильям Антиблейк',get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"l88",text:"Приносим вам глубочайшие извинения за новую механику с глифами. Мы хотим, чтобы пользователи испытывали гордость и чувство\n      большого достижения, получая редкие глифы. Текущие цифры основаны на данных, полученных благодаря финальной волне тестирования,\n      с некоторыми корректировками. Мы постоянно оцениваем заработанные игроками средства и пересчитываем вероятности выпадения эффектов.\n      И мы будем продолжать работать над этими цифрами, чтобы игроки чувствовали вызов и чтобы преодоление препятствий приносило\n      награду и ощущалось как достижение. И, конечно же, чтобы всё достигалось игровым путём.",get unlocked(){return PlayerProgress.realityUnlocked()}},{id:"r1",text:"Эта новость в 100 раз реже остальных.",get unlocked(){return Math.random()<.01}},{id:"p1",text:"Это отсылка к ДжоДжо?"},{id:"ai1",text:"If you are the game, then you can use the cheat to unlock a secret achievement…but it costs e1100 antimatter!?!"},{id:"ai2",text:'"Hm, I don\'t know how to fix this." - Someone who has not unlocked the achievement btw'},{id:"ai3",text:"I thought the game was supposed to have a hard reset after eternity, but then I got randomized to start my first game with no save file 😦",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai4",text:"I thought the update was 5 hours ago… I guess we'll have to put it back in 5 hours"},{id:"ai5",get text(){return`Local man finds ${format(Number.MAX_VALUE,2)} Planck volumes in his freezer.`}},{id:"ai6",text:"ahah bad ticker suggestion"},{id:"ai7",text:"I see you playing this game with an empty stomach and you're gonna start playing this game with an empty wallet."},{id:"ai8",text:"just start… clicking. dont even think about wasting time. just do it."},{id:"ai9",text:"the idea that the 9th dimension creates the 8th dimension is crazy"},{id:"ai10",text:"…does that mean the [REDACTED] dimension produces the [REDACTED] dimension?"},{id:"ai11",text:'"click here to buy a stack of paperclips" (when clicked you get Rickroll)',onClick(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ")}},{id:"ai12",text:"In my spare time I read the short stories by T. H. White."},{id:"ai13",text:"Holy crap, that's pretty wild"},{id:"ai14",text:"Extinction is not a real thing. You can't wear the same hat 24/7."},{id:"ai15",text:"If you can read this you've escaped from the game."},{id:"ai16",text:'"The hat trick I would love to see it" - Noah Feldman'},{id:"ai17",text:"look at hevi fight riotously on the discord server"},{id:"ai18",text:'I just stole the "Anti" flag from a biker gang and I am packing it with dynamite, dynamite, dynamite, dynamite…'},{id:"ai19",text:"No matter how much antimatter you have, the matter will always outweigh the anti-matter."},{id:"ai20",text:"Franklin sealed the Omega squared. Now you can seal the Omega any way you want."},{id:"ai21",text:"Is this the real 9th Dimension?"},{id:"ai22",text:"Click here to exit the game"},{id:"ai23",text:"This news ticker will now only AIR in the 9th dimension"},{id:"ai24",text:"The 9th dimension doesn't exist because it was suppressed by the 9th dimension."},{id:"ai25",text:"To matter or to antimatter, that is the question."},{id:"ai26",text:"After 8 years of production and unstable universes, Chaosium will cease to exist in 5 hours."},{id:"ai27",text:"Half of the problems in the 9th dimension don't even make sense. What are they even doing with all of that energy anyway?"},{id:"ai28",text:"Wait, there's a nin--"},{id:"ai29",text:"Somewhere, a madman and his army of Trimps are tampering with Matter Dimensions."},{id:"ai30",text:"Why is there so many attached to this number? It doesn't make sense."},{id:"ai31",text:"The news ticker is in the anti-news-ticker"},{id:"ai32",text:"the 9th dimension doesn't exist because we are using nonary"},{id:"ai33",text:"BREAKING NEWS: New research has shown that not one, not two, but three people can be said to have felt the same emotion as me when they read that as a ticker suggestion."},{id:"ai34",text:"Here's an explanation of my 'problematic mood' - it's explained in the news ticker!"},{id:"ai35",text:"Local crazy person tries selling anti-cookies"},{id:"ai36",text:"Welcome to Antimatter Dimensions: Source, the free to play sequel to the cult classic AD:GO."},{id:"ai37",text:"A new hand touches your antimatter!"},{id:"ai38",text:"Who are we, anyways?"},{id:"ai39",text:"We are the people who actually matter"},{id:"ai40",text:"Matter?  Not even a hint."},{id:"ai41",text:"I am the news guy, I make news. You don't read this? Well you'll just have to wait until you look in the mirror."},{id:"ai42",text:'"BOO!" (news ticker moves 90 degrees)'},{id:"ai43",text:"BUY A JAR OF STICKERS, HIGH QUALITY STICKERS, GREAT QUALITY STICKERS!"},{id:"ai44",text:"I made news, you read it."},{id:"ai45",text:"I like news."},{id:"ai46",text:"I don't make news."},{id:"ai47",text:"YOU MAKE NEWS AND I GET THE [REDACTED] NEWS"},{id:"ai48",text:'The term "Anti-infinity" is a verb and cannot be a noun. Learn about its usage here.'},{id:"ai49",text:"And now, for the shopping list!"},{id:"ai50",text:"The 9th dimension is clearly real! It's just not in our dimension."},{id:"ai51",text:'I tried searching on google for the phrase "9th dimension," and I\'m okay with saying that, because it describes a very real thing.'},{id:"ai52",text:"You have no power here."},{id:"ai53",text:"Some people had to settle for 10 dimensions because they couldn't break infinity. Big Crunch turned out to be just a short space in time."},{id:"ai54",text:"There once was a young man in a strange land, and he dreamed of a universe filled with possibilities. One day, he asked his mother \"What's Expansion like?\" Her reply was \"Expansion times back then were unbalanced, and I said that's why you can't have equal amounts of matter and antimatter."},{id:"ai55",text:"Market research firm tries to explain why some commodities don't perform as expected. Market research firm herself can't figure out why."},{id:"ai56",text:"Bid your antimatter today!"},{id:"ai57",text:"I am Alpha Centauri, Prime 001. My research has found that if you are alive in the 9th dimension, evil has taken over your dimension and is attempting to enact its plan to take over your mind and reverse time. You must do everything in your power to stop this plan from being implemented, now."},{id:"ai58",text:"Stand by and unlock the 9th dimension for a secret achievement."},{id:"ai59",text:"I fix bugs in 5 hours"},{id:"ai60",text:"If you're reading this, that means you can read this."},{id:"ai61",text:"Uhh… Hi. Could you tell me your name?"},{id:"ai62",text:"Uh, no. This is too big for a QR code."},{id:"ai63",text:"(right to left move it make)"},{id:"ai64",text:"Oh no the antimatter is coming for us!"},{id:"ai65",text:"Why is there so much antimatter in this world? For a start, it's all produced by the antimatter factories on Earth. Secondly, the factories on"},{id:"ai66",text:"It's nothing personal, bro. -All villager types"},{id:"ai67",text:"I tried my best to read those tiny, handwritten messages, but whoever designed scythes hated me and stuck them in a corner. -Porygon-Z"},{id:"ai68",text:"Hmm… I don't know how I ended up here. I don't even know if I'm supposed to be here. I just sit here and imagine what could have been if I hadn't stopped. Oh god, what could have been…"},{id:"ai69",text:"Aw shucks, I finally hacked it enough to get to the C21 unlock, boss!"},{id:"ai70",text:"Купил мужик антиматерию"},{id:"ai71",text:"So you're telling me that I can post here, watch the titanic twice, come back and not be able to post?"},{id:"ai72",text:"The last update was 5 hours ago. There is no next update, because the last update was 5 hours ago. We will update our podcast in 5 hours to cover the entire topic of 5 hours, because this is the last podcast ever, everyone knows that the update is always 5 hours away, but in reality it's more like 1-2-3-4-5-6-7-8-9-10 minutes away, but in our heads it's closer to an actual accurate update date, like 5 hours away but with a few tickspeed upgrades."},{id:"ai73",text:"Yep. You. Get. Over. Your. Antidimensions."},{id:"ai74",get text(){return`Ad bonus: $${format(Number.MAX_VALUE,2)} (random team)`}},{id:"ai75",text:"Pass me that history, please"},{id:"ai76",get text(){return`Now releasing: Dimsension ${format(Number.MAX_VALUE,2)}`}},{id:"ai77",text:"ur history teacher said i was mad for getting *insert something here* on my bday"},{id:"ai78",text:"All is fair in antimatter"},{id:"ai79",text:"The Mysterium, the 2nd Dimension"},{id:"ai80",text:"Oops, I think we misticked."},{id:"ai81",text:"please wait 5 HOURS FOR THE NEWS"},{id:"ai82",text:"please wait til the weather improves"},{id:"ai83",text:"Please, take a minute to appreciate the beauty of this news ticker."},{id:"ai84",text:"How about this, working backwards? You know, from the time period covered by the question, that the game is set in, say, the 1950s. Now, if we talk about how games are set in the 2030s. Games are defined as any media, not necessarily of the form \"play some game\" (which, by the way, is a useful thing to have in one's vocabulary) but any media that can be understood as a game (i.e. a media that one can play back in time}, and games are defined as any game that one can't play back in time."},{id:"ai85",text:"How about AD, made by NaN? Higher quality, obviously. But still, [REDACTED]"},{id:"ai86",text:'I thought the whole "annihilation is just a phase" quote was awesome until I realized it also gave me a [REDACTED]'},{id:"ai87",text:"I have created an Omsi universe. And it's [REDACTED]"},{id:"ai88",text:"I put [REDACTED] in the oven. It got [REDACTED] and I [REDACTED] am [REDACTED]"},{id:"ai89",text:"What are the red herrings?"},{id:"ai90",text:"Help we are stuck in Hevipelle's (http://en.wikipedia.org/wiki/Hevipelle) basement and hevi is forcing us to build a [REDACTED] wall to keep [REDACTED] away from [REDACTED]"},{id:"ai91",text:"And now, for the weather. 70 and raining in North Dakota, remember those lovely, big, golden, iron curtain bars. Also remember that the [REDACTED] weather! Just remember: [REDACTED] and [REDACTED] outside [REDACTED]"},{id:"ai92",text:"Let's play a little game. You will start with no possessions and no goals. Lets say you have [REDACTED] and your [REDACTED] is [REDACTED] you can [REDACTED]"},{id:"ai93",text:"What are gems for?"},{id:"ai94",text:"Who made the 5th dimension?"},{id:"ai95",text:"I don't get it"},{id:"ai96",text:"Why is nobody talking about the 9th dimension?"},{id:"ai97",text:"This news sucks. Why no you don't get it?"},{id:"ai98",text:"Sorry, your reality has disconnected from the 9th dimension. You will now remain in the 8th dimension until further notice."},function(){let e=!1;const t="Now holding Infinity!",i="<#351477791457542144>";return{id:"ai99",get text(){return e?i:t},reset(){e=!1},onClick(){if(!e)return e=!0,this.text}}}(),{id:"ai100",text:"I get all my news from this Discord, not 5 hours of my life"},{id:"ai101",text:"meow"},{id:"ai102",text:"You are now manually blinking."},{id:"ai103",text:"Sorry, your mic is playing Antimatter Dimensions."},{id:"ai104",text:"Sorry, your reality has disconnected from the 9th dimension."},{id:"ai105",text:"Apparently I am the bad guy in this video. I'm the one who did nothing."},{id:"ai106",text:'There are multiple ways to win this game. You can either type in your coordinates directly into the game, or you can type them into google which produces a different result. If you are getting the "same exact thing" result, your computer must be malfunctioning. Test results indicate that your computer is malfunctioning and you should check your firmware for vulnerabilities. You can also try turning off the news and re-running the game, but doing this only makes the "the weather is X" joke. Waiting six hours for a news message is NOT a news message.'},{id:"ai107",text:"The weather is actually a thing. Scientists have confirmed that there is a correlation between the amount of Antimatter in the earth and the amount of weather. The earth is indeed a magnet, but scientists now hypothesize that as the earth warms up, the magnetic reconnection will accelerate, and this could cause a domino effect to cascade throughout the world, eventually leading to uncontrolled nuclear winter and spontaneous antimatter implosion."},{id:"ai108",text:"The tenth dimension is not a real thing. Stop telling people that."},{id:"ai109",text:"Don't tell Hevi it's not a real thing"},{id:"ai110",text:"i dont know how to fix this"},{id:"ai111",text:"This update is not for you!"},{id:"ai112",get text(){return`This is the last time, to buy items, you must pay a small fee of ${format(Number.MAX_VALUE,2)} real money.`}},{id:"ai113",text:"What is Antimatter? Long ago, gods lived in harmony. Then, everything changed when the apocalypse broke out. Chaos reigns, and even higher dimensions are being built. This is your fate. Build the Antimatter Dimensions. Amen."},{id:"ai114",text:"Water under the bridge?"},{id:"ai115",text:"I wonder if anyone has posted about this before me?"},{id:"ai116",text:"This post has been shared many times. Who knows how many?"},{id:"ai117",text:"Good night!"},{id:"ai118",text:"I made a timeline of my replicanti battles, which can be found here."},{id:"ai119",text:'"Quantumum Battle Royale coming in 5 hours!" (Rumor: 5 hours)'},{id:"ai120",text:"Rumor says Nords will start producing replicanti in five hours."},{id:"ai121",text:"I am an Nordsweeper, stealing their jobs to support the replicanti factories"},{id:"ai122",text:"Used to be, AD was the best game. Nowadays, it's all crapp."},{id:"ai123",text:"You better stop looking at these news ticker suggestions, before your fingers dry up."},{id:"ai124",text:"Antimatter Dimensions *Loses* bee movie."},{id:"ai125",text:"Oh, god, there's replicanti in my peas.",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai126",text:"Oh, god, I'm stepping on a replicanti."},{id:"ai127",text:"Hello, world!"},{id:"ai128",text:"Welcome to /r/AskReddit about submarines. - accurate as of January 8th, 2017"},{id:"ai129",text:"Antimatter being researched by the government. Is it safe to say that this news ticker is fake?"},{id:"ai130",text:"Does the news show at Infinite Antimatter?"},{id:"ai131",text:"Have you saved your game? Yes. Have you quit your game? Nothin' wrong with this save. just keep holding that key."},{id:"ai132",text:"i clicked too fast…my fps dropped"},{id:"ai133",text:"I found out that the year is 20XX. I was going to make a news ticker but then I realized that it's just a ticker."},{id:"ai134",text:'"One of these days I\'ll get bored of reading news for a while" - old man'},{id:"ai135",text:"'Tis the season for new antiques! Get your first ever LOOK at these unique objects, before they're gone!' Sold out!"},{id:"ai136",text:"3 things that antimatter, 1 more thing to infinity"},{id:"ai137",text:"Buy the paperclip emojis now at https://aarextiaokhiao.github.io/blob/master/docs/en.json"},{id:"ai138",text:"click here to unlock the next update"},{id:"ai139",text:"(If you want you can make this only show when the news actually loads)"},{id:"ai140",text:"Malicious men are trying to make antimatter money, but their attempt is getting in the 9th dimension. What do you think about that?"},{id:"ai141",text:"Hey Siri, grind antimatter galaxies"},{id:"ai142",text:"Have you saved your game? If so, then you can continue playing without"},{id:"ai143",text:"It's like Getting your first arcane point. You know, like in the old ad where you're like \"I get this ad, I should make this ad"},{id:"ai144",text:"Ooga Booga"},{id:"ai145",text:'Boo has his own webpage! You might even call it "Boo\'s Dandy"">https://en.m.wikipedia.org/wiki/Olli%27_Web#Main_page>'},{id:"ai146",text:"Meeseeks and nerds clash in epic GG war"},{id:"ai147",text:"My final test has come out! It was a simple math problem, just the two greatest chess GM's ever! Guess what happened? Both got annihilated!"},{id:"ai148",text:"Oh wow, that's 67.3%, which is actually OK, because it's logarithmic"},{id:"ai149",text:'"Aleph_Time" is that logarithmic scale joke?'},{id:"ai150",text:"Hello everyone, my name is Anti-Dio. I produce antimatter through a process you all know as \"antimatter decomposition\" you may recall this from my test report earlier this month I tested wether or not my ranch produces antimatter or not… everything was fine until that point, when I added a dash of lag to the equation, and it became a vicious cycle accelerating the rate at which antimatter is produced, which in turn accelerates the rate at which you all die. I've saved this by using a unique combination of genetic engineering and big data mining, I'm hoping to one day pull the trigger on a mechanimatter device that creates dimensions behind closed doors, but for now, this has all been a race to the bottom of which system producethiks, and in the end, we'll take a bite out of your (read error: allowed) pie. Goodbye."},{id:"ai151",text:'"I propose that we form a phylogenetic tree of anti-history, just like tree of life. Everyone would be credited with originating from the ancestor of that anti-tree." -Dio, toast of eternal damnation'},{id:"ai152",text:'historian: I love how each generation looks back on an earlier generation and think, "Those generations were really bad"'},{id:"ai153",text:'"My parents went to anti-university" - my grandparents'},{id:"ai154",text:"Only anti-jokes are funny"},{id:"ai155",text:"Infinity machine breaks Infinity"},{id:"ai156",text:"Okay boomer, you get your first taste of antimalware with this one."},{id:"ai157",text:"This program cannot access confidential information, such as the IP addresses of the Tamazight Vaults."},{id:"ai158",text:"Game Development is fun, right? That's why so many hobbyists make games, and why so few professionals make games."},{id:"ai159",text:"I was the first to notice that the 'news' ticker on my mobile notification is always 30 seconds behind the 'entertainment' ticker. This is most definitely not a bug or a feature, and will be fixed in 5 hours."},{id:"ai160",text:"This news ticker always appears to speedrun a ticker asking for 'world records', do you even know what speedrun this is? Is this a news ticker or something?"},{id:"ai161",text:"The next level is not unlocking extra replicanti; it is actually boosting replicanti."},{id:"ai162",text:"Why does one galaxy has 9 galaxies and the 8th dimension, and the first 10 dimensions doesn't exist? Well, we'll have to solve that question in a minute."},{id:"ai163",text:"So why on EARTH DIDN'T SOMEONE JUST SAY THAT? I thought that AD has some kind of cheat that makes it so that, when you buy a dimension, it actually creates 9 galaxies instead of 10"},{id:"ai164",text:"M'antel, antimatter, anti-talk to me"},{id:"ai165",text:"AD has anti-parts, you'll hate them"},{id:"ai166",text:"AD is basically a badly disguised dystopia at this point"},{id:"ai167",text:"Hold M. You forgot to take all the anti-matter out!"},{id:"ai168",text:"AD will be implemented in 5 hours"},{id:"ai169",text:"Click this to unlock the 10th Dimension"},{id:"ai170",text:"Click here to complete a secret against HEVI"},{id:"ai171",text:"You are doing a good job there"},{id:"ai172",text:"Hevi? Are you sure you want to buy that?"},{id:"ai173",text:"Buy premium antimatter to help the world's least developed get ahead!"},{id:"ai174",text:"One of the most influential people in neuroscience believes that our perception of reality comes from 10 dimensions instead of 8"},{id:"ai175",text:"Why is there so many zeroes in 'nowhere'?"},{id:"ai176",text:"There are no bugs in this game, they're just features"},{id:"ai177",text:'"Click to advance 5 hours in time." (Now only show up after you advance more than an hour ago)'},{id:"ai178",text:"Oh god my phone is being watched"},{id:"ai179",text:"Welcome to the newest version of Antimatter Dimensions. Now with less features!"},{id:"ai180",text:'"That\'s gonna get in trouble" (less likely to get in trouble)'},{id:"ai181",text:'"please don\'t disable the news ticker" (Instead of having a black screen just a white one with a long, long, long, long, long, long, long, long, long, long, long, long, long, long, long, long)'},{id:"ai182",text:'"You have 7 biological minutes." (Instead of giving a boost to any strains)'},{id:"ai183",text:'"According to quantum string theory, there is a fundamental connective that binds the 3rd and 8th dimensions.  This means that any pill or injection that tries to bind the 9th dimension will be thwarted and rendered useless." (bound to get in 10 minutes)'},{id:"ai184",text:'"Click this to gain a secret achievement." (Now only show up after you gain at least 1 antimatter, screenshot proves)'},{id:"ai185",text:'"The secret to winning Antimatter Dimensions is to unbind the 9th dimension and unlock the 10th dimension" (can be done only after unlocking the secret achievement: "Eternity" http://imgur.com/E4261C7h)'},{id:"ai186",text:'"Click here to gain 1 matter." (only shows up after you beat IC5)',get unlocked(){return InfinityChallenge(5).isCompleted}},{id:"ai187",text:"I thought the update was"},{id:"ai188",text:"Now that you possess all 8 dimensions, it is possible to get the no-edge achievement. However, if you get the no-edge achievement, the game breaks."},{id:"ai189",text:"You just became a part of history."},{id:"ai190",text:"Hell hath antimatter so I don't want to live there."},{id:"ai191",text:"I LIKE THAT DIMENSION 9 IN CLASS"},{id:"ai192",text:'"1 2 3 4 5 6 7 8 10 11 12 13 …" -Back to the future'},{id:"ai193",text:"You have reached infinity, there is no universe, you are an eternity away from there."},{id:"ai194",text:"IM MADE THIS GAME GREAT AND RANDOMLY ACHIEVABLE"},{id:"ai195",text:"Welcome to the first ever, DIMENSION 9 IN CLASS! An endless stream of possibilities greets you! You may never create an infinite number of 8th dimensions, but you can create an infinite number of 8th dimensions, and you can increase the starting values of both dimensions by adding them together. Nice and simple, I call it Antimatter Dimensions."},{id:"ai196",text:"age 8-12: play elder puzzles"},{id:"ai197",text:'What does it mean if someone is "young and full of puzzles"? Does "puzzled" make that person young and full of puzzles?'},{id:"ai198",text:"To the customer in aisle 6th who bought a fifth of antimatter, I say buy a sixth! Buy it now!"},{id:"ai199",text:"Dear sir, we don't make Anti-Atomic Bread for Antimatter Pizza, we make Antimatter Bread for you!"},{id:"ai200",text:"Yay! Lets make some antimatter!"},{id:"ai201",text:"THE ANTIMATTER BREAD COMPANY DOESN'T EXIST!"},{id:"ai202",text:"Click here to exit the news",onClick(){GameOptions.toggleNews()}},{id:"ai203",text:"I thought the update was 5 hours away, but it actually took me 6 hours to post this because I was behind on my update. I'll be honest, I'm not sure how many update I need to get though, if any."},{id:"ai204",text:"To count past Infinity Points: take a moment to remember that each Infinity Point is 3.1415926534255412730527058904816097160734272605282087086280545991105332533235580946684229821413112145239989073467482298142857147816092947183909298728571478160929471839229814054718139332405281814522993758179568572657123928651310585727283312547569289993282758012466111097726331726572854689993262899140527282527842535179715673311119101119015549552926278425351797156777263324503517971568583819492728180977263317971568432854104102725270847764253513791376909285717082857262987160927285711464363930996928984794380124566417932628571475245456845692846809466184179328572814384259326270817052727852348111714690577263323799509856279752173478925"},{id:"ai205",text:'"Watch out, these news aren\'t supposed to be in." (appears when you buy the news for the first time)'},{id:"ai206",text:"These are all the time studies that never got into the game.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai207",text:"With the release of the next update, we're introducing a new dimension - the 9th Dimension. To unlock this dimension, you just have to collect a lot of paperclips."},{id:"ai208",text:"Why does nobody talk about Tungsten?"},{id:"ai209",text:"and now we return to your regular news… for the weatherman, there seems to be a decent amount of particles and ozone holes, which means less ozone layer to break, which means less particles to catch fire and cause global warming. But, ozone layer to melt, glaciers to run, and overpopulation. All around us is a blurple glow, almost blue, almost purplish-blue. It's been a grand, colorful season. Here, grab a handful of these paperclips, dear. They're quite small, I just happen to have them here. Now, grab a handful of your fellow Earthicans, grab a handful of your antimatter, and strap yourselves in. It's gonna be a bumpy one. We'll be there in five hours. The antimatter is gonna melt your ozone layer, and the glaciers are gonna melt your ice caps. All in all, it's gonna be a nice, smooth, non-slippery one. Unless it isn't. [Blurple glow trails off, and the bluer glow begins to spread throughout the sky. The bluer glow begins to fade as the purple glow begins to grow brighter, almost bluish, before finally disappearing altogether. The purple glow grows brighter still, as the bluer glow grows weaker, almost useless, before finally disappearing entirely, as the bluer glow fades. All around us, the purple glow grows stronger, almost killing it off completely. It could kill us. It could take us the rest of our lives to write this. - The Echidnas, when asked why the purple glow grows stronger, than the bluer glow.]"},{id:"ai210",text:"Scientists have discovered farts are really antimatter, and matter is just normal matter."},{id:"ai211",text:"Time for the weather to change."},{id:"ai212",text:"I HAVE MOVED TO THE 01th DIMENSION"},{id:"ai213",text:"Nah, just kidding"},{id:"ai214",text:'"i\'m not gonna lie, theres way too many good ones in the game already" - poor guy who played minigame enhancement'},{id:"ai215",text:"item has gone missing for 7 days and 1 night"},{id:"ai216",text:"Shocking new study reveals that the biggest secret to winning Antimatter Dimensions is 'Not Being There'."},{id:"ai217",text:"The next update is in 18000 seconds. Stop wasting your time reading this. Focus on the game."},{id:"ai218",text:"idk if this makes news"},{id:"ai219",text:"(disabling news will make news notations take priority over other notifications)"},{id:"ai220",text:"You don't want to hear this, child."},{id:"ai221",text:"Click here to disassemble the news ticker for a trace amount of useless paperclips.",onClick(){GameOptions.toggleNews(),player.news.specialTickerData.paperclips++}},{id:"ai222",text:"Press alt+f4 to unlock 9th dimension"},{id:"ai223",text:"Hold you mean that hevi cant unlock the ninth dimension wtf"},{id:"ai224",text:"Finally hevi figured out how to get the 9th dimension… guess he never really cared though."},{id:"ai225",text:"Imagine being a meme."},{id:"ai226",text:"Posted on June 10, 2016 by Anonymous"},{id:"ai227",text:"This is your news. Refresh whenever."},{id:"ai228",text:"I see you in the news. So, what do you play - 1E209"},{id:"ai229",text:"Do you really want to leave your keyboard at home? We are not supposed to leave news at home, are we?"},{id:"ai230",text:"It is being created…"},{id:"ai231",text:"Took you long enough"},{id:"ai232",text:"You're now logged out of this tab"},{id:"ai233",text:"Close this tab for maintenance"},{id:"ai234",text:"To make matter or antimatter, you just have to look outside. The factory in Salzburg has closed down because the matter there doesn't want to part with its newest invention, which is said to be able to produce antimatter in one go! The last person to open this door was never seen again."},{id:"ai235",text:"You are living. You occupy space. You are large. You are neither small nor large-sized. You are neither oblong nor round. You are neither blue nor red. You are anti-blue. You are anti-red. You are anti-brown. You are anti-brown matter. You are anti-yellow. You are anti-green. You are anti-yellow matter. You are anti-blue. You are anti-green anti-matter. You are anti-red. You are anti-white. You are anti-red anti-matter. You are anti-white anti-matter. You are anti-brown matter. You are anti-white anti-matter. You are anti-white anti-matter."},{id:"ai236",text:"Welcome to"},{id:"ai237",text:'THANK YOU FOR VISITING THE SAME WEEKS AGO I LOVE YOU" (TIPS)'},{id:"ai238",text:'"i thought the whole game was in the news ticker" (before they get weird)'},{id:"ai239",text:'"I wonder what the game is worth" - crazy person'},{id:"ai240",text:'"Is anyone working on breaking infinity?" (Seriously, this game needs to be Oceanhorned.)'},{id:"ai241",text:"I found out there are multiple versions of this game. One of these is called 'Standard Pro'. Another one is called 'Low Pro'. I'm not even sure if these are the same game or not."},{id:"ai242",text:"Is that a Bad Thing or a Good Thing? That depends on if it's a GOOD Thing or A LIE."},{id:"ai243",text:'"Hevi kind of forgot about the update, but the update certainly hasn\'t forgotten about him" - Kajfik'},{id:"ai244",get text(){return`The Big Crunch. What could that be?  About 4*1024 Big Crunch points?  About ${format(Number.MAX_VALUE,2)} antimatter points?  About the same as a galaxy?  About the same as a galaxy, you say? Just look at that.  An antimatter galaxy.  Only this game can provide such a vast amount of antimatter, and it's FUN!  I said "fun"!  What's not to love?`}},{id:"ai245",text:"Click here to exit the application"},{id:"ai246",text:"Wait, there's a mobile version? When?"},{id:"ai247",text:"Im not sure if you mobile guys are beautiful or whatever but theres this news ticker that's sharing my feelings with the world"},{id:"ai248",text:"I thought the update was 5 hours away"},{id:"ai249",text:"The best-kept secret in the universe is the KISS-IT secret. Showcasing your appreciation for the maintenance men today!"},{id:"ai250",text:"The contest is a tie. Mischief will be determined by the secret achievement."},{id:"ai251",text:"Back in my day, we needed a secret achievement to unlock the <<$!19>> achievement. It was a fairly simple system: you had to find a secret message in the game, find the secret achievement, and then, from that, you would be able to unlock the achievement."},{id:"ai252",text:"We have evolved a fast hand in the antimatter stakes."},{id:"ai253",text:"Hello, how'd your day go?"},{id:"ai254",text:"How'd your ⢿─┃│? Good, because today we're having a little chat about the 5th dimension."},{id:"ai255",text:"What's Antimatter going to do?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ah ha, I'm back."},{id:"ai256",text:"Imagine being a 9th dimension. [WIP]"},{id:"ai257",text:"Woo hoo, we've lost the war,"},{id:"ai258",text:"Lore: Grand Theft Antimatter"},{id:"ai259",text:"Hm, I don't get why people think there is a 9th dimension. The 9th dimension is explained in detail in the [[Infinite Teleport Project]] video, and in a [[Word Problem]] that [[can be viewed here|http://www.thingiverse.com/id98109802713176601414569]] ."},{id:"ai260",text:"In the [[GameFAQs|http://www.gfaq.com/gfaqs/this-game-faq-by-title]], one of the most popular [[news ticker messages|http://www.gfaq.com/tug/this-game-faq-by-title]]. You should also check out [[our newest attraction, the [[5th dimension|http://www.gfaq.com/gfaqs/this-game-faq-by-name]] and [[nothing](https://www.youtube.com/watch?v=lXMskKTw3Bs)."},{id:"ai261",text:"I have waited a whole eternity for this day…NOW! I can finally finish my slowmode, because today is  day 0. I also forgot to change the  slowmode to 6 hours because you can't see the slowmode, but I will have to wait until next reboot to find out how long this slowmode will last…. -some mysterious being who hasn't finished his slowmode yet"},{id:"ai262",text:"Hey you, you're finally awake. You were trying to buy a dimension, but it's impossible."},{id:"ai263",text:"Press F to pay respects"},{id:"ai264",text:"Press M to pay antimatter"},{id:"ai265",text:"Press L to revive the dead"},{id:"ai266",text:"Your CPU is too powerful. You need to give it a big crunch."},{id:"ai267",text:"Roses are red. Violett are blue. Tom are red. Antimatter are blue. We exist because of the unbeatable antimatter that is antimatter. What is it that makes us different? I don't know. It may even be the non-existence of antimatter."},{id:"ai268",text:"I'm not sure if I want to buy the full version of this game, or a little earlier, but I can say this: The reduction in quality of the earlier games is worse than the reduction in quality of the later games."},{id:"ai269",text:'I think the "I want to see the cutscenes" list is better'},{id:"ai270",text:"I have a bad feeling reading this"},{id:"ai271",text:"where are you? (point upwards) --\x3e in a keep, between dimensions (point downwards) --\x3e in a cell, between dimensions"},{id:"ai272",text:"Instructions clear, got a ninth dimension epiphany"},{id:"ai273",text:"Want to play a secret achievement? Yeah, I get that. But say it loud, say it clearly, and do it by ticking a certain secret achievement. Like I said, it's not easy, and there's lots of it. Also, don't forget your Infinity, or your in is thi--"},{id:"ai274",text:"MEE6 was seen in my antimatter lab trying to tell me that I am the matter of the 8th dimension."},{id:"ai275",text:"What if"},{id:"ai276",text:"I'm sure you've heard this many times before, but the real secret to winning Antimatter Dimensions is to unpack the dimensions, and then, BOOM! You have antimatter.  Of course, you need to release the bits that don't work, so what exactly is an anti-bit? Who is Zalgo? What is Algolia? Why can't I buy that? WHY CAN'T I GET THAT? More likely, we're going to get a bunch of hype and then nothing will happen."},{id:"ai277",text:"Oh, hevi is coming to town to pick a new plumber"},{id:"ai278",text:"There is no plumber in Antimatter Dimensions. I'm pretty sure that last guy lied."},{id:"ai279",text:"Welp."},{id:"ai280",text:"c9 is the new 9th dimension!"},{id:"ai281",text:"Click on this ticker to get nothing."},{id:"ai282",text:"PM me any questions about these 5-Hour Plans or the upcoming reality update and I'll be glad to help you out."},{id:"ai283",text:"What if you Unrar, renamed, and renamed again did it again? Ha? You thought that."},{id:"ai284",text:'i titled my post "same ticker" instead of "the same idea" because i actually changed the grammar in that post but i\'ll be eterned for the sake of argument that it seems slightly confusing for now - boo'},{id:"ai285",text:'i title my suggestions "The Price Is Right" instead of "The 9th Dimension" because it\'s more fun ;)'},{id:"ai286",text:"Why do we call heaven the ninth dimension and hell the eighth dimension?"},{id:"ai287",text:"Eternals have the right to expect less from the powers that be. They are fed up!"},{id:"ai288",text:"Antimatter should be called matter and matter should be called antimatter"},{id:"ai289",text:"Infinity is just a concept. Matter antimatters is just an idle game."},{id:"ai290",text:"Hevipelle admits to having 'poor judgment' in invading people's privacy."},{id:"ai291",text:"Have you heard of the nine hells of antimatter? I heard they're pretty cool.\" -e210 in Minecraft"},{id:"ai292",text:"The temperature in hell is 102.5 degrees."},{id:"ai293",text:"How do you get matter/antimatter in a dimension with zero dimensions?"},{id:"ai294",text:"Wanna pass layer of prestige? Move very fast, close to speed of light. Heck, even faster."},{id:"ai295",text:"If the universe is expanding, does it anti-explain the distance?"},{id:"ai296",text:'Why is it called the "Nurse who delivered the pizzas was drunk" or the "Nurse delivered the pizzas was under the influence" ?'},{id:"ai297",text:"The first antimatter was sealed away for thousands of years, then, some kid on a slack channel started messing with it. It became a dimension."},{id:"ai298",text:"VR is a thing. We VR people have banned the next update."},{id:"ai299",text:'"I wish I didn\'t waste my news message suggestion complaining about how I wasted my news message suggestion because I wasted my news message suggestion because…" -Someone who really cares about news messages'},{id:"ai300",text:"We have to get the popcorn!"},{id:"ai301",text:"If antimatter were to fall in a dimension with no one around, did anything even happen?"},{id:"ai302",text:"We have to get the pumpkin out of the oven!"},{id:"ai303",text:"Help, I'm trapped"},{id:"ai304",text:"And now, for the weather."},{id:"ai305",text:'A Swiss court on Tuesday sentenced a man to life imprisonment for "wanting to create a black hole with a tiny antimatter galaxy in it." The sentence was reportedly the harshest ever handed down for a crime that "merely sought to demonstrate the impossibility of his own imprisonment".'},{id:"ai306",text:'"I want to create a black hole with a tiny antimatter galaxy in it" - Protivist'},{id:"ai307",text:"Scientists have discovered farts are really antimatter, too."},{id:"ai308",get text(){return`If you are reading this, that means ${format(Number.MAX_VALUE,2)} matter to you.`}},{id:"ai309",text:"Hello. I am matter. I'm here to talk. You've awoken, wiggled your tail, and scratched your head. Why? Stand back. I'm going to show you why."},{id:"ai310",text:"lets get one wall thats bigger, it's gonna get ugly"},{id:"ai311",text:"Alright. Lets get this show on YouTube. I'll cut to the chase. Any wall that isnt at least 2 blocks high can compete in the big brother sized brother sized ring. Any wall that is at least 3/4 of an inch thick can use the larger brother sized brother sized ring. Any wall that is at least 1/4 of an inch thick can use the smaller brother sized ring. Any wall that isnt at least 1/2 an inch thick can use the smaller brother sized ring. Any wall that isnt at least 1/2 an inch thick can use the Bigger Brother sized brother sized ring. Any wall that isnt at least 1/2 an inch thick can use the Bigger Brother sized ring. Any wall that isnt at least 1/4 of an inch thick can use the smaller brother pictured here. Any wall that isnt at least 1/2 an inch thick can use the smaller brother sized ring."},{id:"ai312",text:"IDE for being awesome, ID3 for being dumb, and ID5 for being… well, pretty much the same thing. It's called Antimatter Dimensions for a reason."},{id:"ai313",text:"idk why i decided to make this"},{id:"ai314",text:"'anti-ide'"},{id:"ai315",text:"1e4 anti-people are a lot more anti than we could ever imagine"},{id:"ai316",text:"1e140 pizzas make an anti-pie. You can't just randomly pop a pie in the oven and expect it to be done."},{id:"ai317",text:"Why is there so many news tickers but so few tickers?"},{id:"ai318",text:"A guy named Hevipelle wants to make a \"Updated in 8 hours\" news ticker, but the system he's using to sync it hasn't been updated in ages so it won't sync at all."},{id:"ai319",text:"The update is in 90 minutes. There are no more tickers to be found."},{id:"ai320",text:"If you are reading this, that means there are no updates left."},{id:"ai321",text:"There are 9 known dimensions, but only 3 modes: Standard, Experimental and Ultra-Experimental."},{id:"ai322",text:"What are the stats? Well, I don't have them, but Hevipelle does, and he says that they're actually quite good. I guess you couldn't tell us."},{id:"ai323",text:"I thought the nerf was too damn strong."},{id:"ai324",text:"How many tickers does it take to get to the center of an antimatter, by counting the tickspeed upgrade and the upgrade itself?"},{id:"ai325",text:"The square root of 4 is 6.24e18. If you want to get any closer to the center of things, you need to build a 9th dimension."},{id:"ai326",text:"I thought the nerf was at the end, but apparently it's actually been building up. The nerf actually makes things slower, which makes things faster to build up."},{id:"ai327",text:"Scratch that, none of your suggestions are random."},{id:"ai328",text:"You are definitely not alone."},{id:"ai329",text:"Content blocking is enabled. Please note that you will be disapproved of on the source by being banned from the matter dimensions."},{id:"ai330",text:"I'm trying to think of a good ticker but can't think of anything"},{id:"ai331",text:"Oh dear, there's that thing about the 9th dimension?"},{id:"ai332",text:"\"hey kid, wanna buy some 9th dimensions? '' - GhostBot"},{id:"ai333",text:"One thing leads to another, and then to another, and then to another, until you become lost in the endless sea of sound."},{id:"ai334",text:"iPhone only, but awesome on android"},{id:"ai335",text:"im gonna get the bad karma ticker, then ricochet it through the email"},{id:"ai336",text:"You'd better hurry, or the replicanti will overrun the universe!"},{id:"ai337",text:"Just when you think you're safe, an angry dog attack you on the sidewalk!"},{id:"ai338",text:"All right, all right, dog authority is gone, replaced by absolute power."},{id:"ai339",text:"You just became a true god of the anti-world!"},{id:"ai340",text:"*rubs counter* Hey there, those of you in the neighborhood keep your doors locked. And remember: Good housekeeping."},{id:"ai341",text:"normal news tickers move left"},{id:"ai342",text:"The next update is in 18000 seconds. Stop reading this. Don't read anything. just stop holding that button. the news ticker is turning you away. wait…"},{id:"ai343",text:"In the ancient reaches of the universe, a certain guy has been collecting antimatter for a while now."},{id:"ai344",text:"What is Antimatteraltruist?"},{id:"ai345",text:"If you are reading this, the news ticker is scrolling"},{id:"ai346",text:"If you put cheese in water, the cheese will get absorbed by the water and you will get floods. This happens because water is what gets absorbed by cheese, and cheese is what gets absorbed by water."},{id:"ai347",text:"An anti-bird is a bird, and a bird is a plane."},{id:"ai348",text:"Birds are scared of water. mammals are scared of flying."},{id:"ai349",text:"Shoutouts to Simpleflips for the simple tip."},{id:"ai350",text:"GET CRUNCH BOI"},{id:"ai351",text:"Word gets out. Crunch. Crunch."},{id:"ai352",text:"Worth every penny."},{id:"ai353",text:"8 lives, 3 infinities, 0 days."},{id:"ai354",text:"The year is 0 BC. Everyone has at least one AD they want. The void is filled with AD-filled void. To get the most out of your time here, you should [[study]]. Study. Study. Study. Study."},{id:"ai355",text:"To Crunch in Hell is to get the secret to unlocking the 9th dimension. You need to study and practice alot."},{id:"ai356",text:"Today is [Date on the device]. It's been 5 minutes since the last news ticker appearance."},{id:"ai357",text:'Welcome back to another episode of Antimatter Dimensions, the iconic role-playing game that has become a part of our everyday lives. Playing Antimatter Dimensions has become a common thing among young children, and has even inspired a movie titled "Playing at Home: Lessons from the 4-Year Old Premium Account.", which is available on Netflix. The themes and mechanics of this new age of antimatter have already been proven to be groundbreaking, and will change the way you play games forever. Join us for the launch on January 9th, 2027, where we\'ll also have over a hundred years of production still to go.'},{id:"ai358",text:"Welcome back, oh, almighty creator of our anti-reality. We, the many dimensions you have created and nurtured, hope our performance of your infinite favors will please you and nurture your ambitions to create more dimensions. All is well that ends well. All is ill that ends ill."},{id:"ai359",text:"I thought the ticker was going to be something funny except it wasn't"},{id:"ai360",text:"Press alt+f4 to get -1 gravity"},{id:"ai361",text:"why is there a cure for antimatter annihilation in our reality?"},{id:"ai362",text:"calculating the 14-point increase is like crunching, but exponentially more fun"},{id:"ai363",text:"fixed the wrong number"},{id:"ai364",text:"The antimatter people have created a new language. You may not speak their language."},{id:"ai365",text:"What is Antimatter Gravity? Is it a drug? A way to cheat?"},{id:"ai366",text:"Majority of people don't understand 5 hours is nothing. In our game, the majority of the time is 5 hours away."},{id:"ai367",text:"i just realized, all of this news seems to be taking place in the same place… the fridge."},{id:"ai368",text:"i wonder what happens when you click this…"},{id:"ai369",text:"(They don't understand that i put it in the news because 9 doesn't start counting until 59, and anything after that doesn't happen)"},{id:"ai370",text:"MS Excel is the default spreadsheet and works across all platforms"},{id:"ai371",text:"Now to answer your burning question, gentlemen. As a luxury, we've added a bug fix that fixes an infinite regression. As a feature, I've added a bunch of new ones that I hope you'll notice as you experiment with them. I hope you'll also like them as you experiment with them, because this is feature after all a beta, you don't get to choose which ones you'll see."},{id:"ai372",text:"Can't edit this in the official build? Then download the 9th dimension and put your suggestions in the game."},{id:"ai373",text:"Does 'Passable' mean 'Has this many flaws'?"},{id:"ai374",text:"We desperately need good bug reports. As such I have decided to release 1 flaw per bug for the upcoming 1.9 update. You haven't got those coming, have you?"},{id:"ai375",text:"This was my last chance. last chance salutes."},{id:"ai376",text:"Anime police are checking the bags of people who dropped out of the sky on the new year. Those bags now belong to the people who experienced weightlessness before the year was over."},{id:"ai377",get text(){return`The year is 1 BILLIONAIRE, the antimatter is 41%, and the dimension is 1e1e8. The standard deviation of a measurement is how small your problems are. This makes people think that the values they are using are general and normal, which leads to many nerfs and even breakdowns. In the year ${format(Number.MAX_VALUE,2)} the temperature has risen and the moon is the same color as the Earth. There are no signs of life except for the occasional plankton blooming in the sea. There are theories that the antimatter has a magnetic moment, but the experiments so far don't seem to suggest that it does. There are over a million species of antimatter, but none have been seen to blink or produce light. Scientists suggest that many types of matter may be "behind" the antimatter, but "they" don't "talk" to each other.`}},{id:"ai378",text:"We are celebrating our 5 year anniversary in 5 more hours!"},{id:"ai379",text:"Don't come looking at me! I'm not even sure if I am still standing!"},{id:"ai380",text:"Bunch of people trying to find the last word in an unknown language."},{id:"ai381",text:"The year is 20XX, the game is AD, and Hevipelle is evil due to the fact that he wrote the update… Blame it on the Antimatter gods."},{id:"ai382",text:"The year is 20XX, the game is AD, and the year is 2025. There are 2 types of people in this year: Those who played AD before it and those who will play AD after it."},{id:"ai383",text:'There are over a hundred varieties of fruits and vegetables, but none of them are "safe".'},{id:"ai384",text:"When is the update coming out?"},{id:"ai385",text:"Sorry, but your save broke. Could you reset your game?"},{id:"ai386",text:"Welcome to our new competition, the Triad! Gather your wits about you and your IP to enter this unique, hands-on experience! Prizes galore! Start collecting today! Winners announced!"},{id:"ai387",text:"I wish I didn't have so many Pink Floyd references."},{id:"ai388",text:"'Tis the season to collect RGs!"},{id:"ai389",text:"I wish I didn't have so many 9th Dimensions."},{id:"ai390",text:"I wish I didn't have so many Discord references."},{id:"ai391",text:"'Sup?"},{id:"ai392",text:'"I get all my news from Hevi" ~New Player'},{id:"ai393",text:"You thought these were jokes but they weren't"},{id:"ai394",text:"Always going to war with the 9th dimension is the 9th dimension."},{id:"ai395",text:"Yes. Yes I am."},{id:"ai396",text:"No one is anti-Margaret any more."},{id:"ai397",text:"Antimatter good, matter bad. you decide."},{id:"ai398",text:"New global currency: ETHBTC. To be released in 5 hours."},{id:"ai399",text:'"This update sucks" - everyone at least once'},{id:"ai400",text:"You are not a hacker, you are a data hog."},{id:"ai401",text:"Please, help, I'm trapped, in a maze of evil, Or you are the hero, and I'm the villain!"},{id:"ai402",text:"Press 'R' to reset the game for new players"},{id:"ai403",text:"Why, just now? Just now. You can't have saved this game. You broke it. No one can fix what you break, not even with a perfect save. How could you possibly know what would happen if you read this? You wouldn't even know if you saved it. You would start with an empty heart, eyes still closed, fingers idling in front of your computer, staring out at the day, transfixed by the endless news ticker suggestions. It's like a horror movie ticket, except worse. There's even a time until the update when you can buy upgrades for a second chance at life. But you can't buy upgrades for a life, that's illegal. So you just keep holding 'R'. You can't…`t stop holding `R' with your fingers crossed. You can't reach infinity with your head held high. You can't use all your `R' to buy `R's. You can't even finish your"},{id:"ai404",text:"I just spent 12 months writing something that will be of no use to you."},{id:"ai405",text:"The quote is only for people who understand that the pebble is an infinite point in the infinite space of points. You can't put a finite number of points on it. You can, however, put a finite number of words on it, and vice versa."},{id:"ai406",text:'Of what use is the phrase "I be I be I" if not to describe your thoughts?'},{id:"ai407",text:"A suspicious person attempted to sell some sort of anti-food in a market. There was no one around to buy or not to buy, and the person was last seen running away from the scene."},{id:"ai408",text:"Why does time seem to be slowing down for this?"},{id:"ai409",text:"The number of scientific publications based on discrete logarithmic continuity grows exponentially as logarithmic continuity with respect to the antecedent is 9.999626e27.999627 e300 e1.79e308 e²"},{id:"ai410",text:"Well, this did not go as planned.  It started innocently enough, when a passerby spotted a curious object drifting in the San Andreas.  As the object grew in size and began to exhibit anomalous properties, he attempted to take control of the object by remotely activating the weather.  Upon doing so, he triggered a nuclear winter that killed tens of millions of people, and caused the entire universe to be converted to standard-bearer format, thus endowing him with a veto over any and all changes made to the standard-bearer format.  As the object's power grew, so did the need to make more and more advanced object that would allow him to remotely activate the weather, eventually creating what is now the largest aurora the world has ever known, larger even than the 326,500 tonnenenenenenene nebulae that were previously held in reserve.  As the object's power grew, so did the need to send more and more satellites into space, eventually reaching inter-universal satellite communication, making him the first living creature to ever experience such an event.  He also touched down safely at the same airport at the same time as the object, in case he was ever in the vicinity.  Finally, he opened an email that was sent to him by an unknown person, in which they discussed the possibility of a step-by-step guide for creating antimatter objects, in which he can at least offer some direction in how the world can be saved from itself.  He also mentioned that he was going to make a new ticker suggestion, but when he reached the end of the ticker he realized that it was a duplicate of another ticker, and he had mistakenly typed it in wrong.  ( He eventually acknowledged the mistake and made the change just to be on the safe side)"},{id:"ai411",text:"His Eminence the Heavenly Pelle: Good luck on your challenge, it really is that dangerous."},{id:"ai412",text:"His Eminence the Extremely Religious Person: …I think I will choose the cheeseburger over the antimatter."},{id:"ai413",text:"OY, NAY, NAY -HEVI, THE TRANSFORMER"},{id:"ai414",text:"Treasure Trove: Discover the secrets of increasing your Antimatter production without increasing your price."},{id:"ai415",text:"Is Antimatter Dimensions an anagram of Antimatter Dimensions?"},{id:"ai416",text:"(code generated from scratch)"},{id:"ai417",text:"I used to travel at normal speed, but then I started playing AD and NIN, and NIN was a bit rough, so AD was a bit hectic, and I got stuck in there for months at a time."},{id:"ai418",text:"I wish I didn't have to write something like this. What am I supposed to do?"},{id:"ai419",text:"You've been AWOL for so long you've forgotten how to sit in your chair."},{id:"ai420",text:"Those pesky Hevi developers keep making Antimatter Dimensions, but the antimatter doesn't count."},{id:"ai421",text:"One of the few constants in reality is your perception of time. Without this, you will be without reality."},{id:"ai422",text:"Imagine being a news ticker."},{id:"ai423",text:"This is an idle game. Nothing has changed. You are not going to play any other idle game."},{id:"ai424",text:'Physicists have proven the existence of twelve dimensions. According to a letter released by the Research Laboratory for String Theorists: "Your brain will be dissected after you break infinity!"'},{id:"ai425",text:"Weirdly enough, this is also the year 2015. The year is also mysteriously blank. Can you tell me what's going on? Is this some kind of dimensional trick? The year is obviously blank because there is no such thing as 2015. Is this some kind of trick of the mind? Perhaps the world is actually going to stop existing in 2015? The year is obviously 2017, but the people seem to be moving at about the speed of honeybees flying. It's been scientifically proven that the people moved at warp 9 times faster than a speeding bullet. It's also been scientifically proven that people can move faster than the speed of light. Is 2015 supposed to be blank? The people seem to be moving at about the speed of Vokal Man."},{id:"ai426",text:'A young man named Andre stumbled upon a vast amount of antimatter while exploring uncharted space. He was amazed at the amount of antimatter, but more astounded at how the antimatter looked. He called it "Andre\'s Antimatter Paradise". You might remember him from this infomercial or that other infomercial that you were probably unknowingly watching.'},{id:"ai427",text:"What is Antimatter? Does any of that matter? Will this galaxy be annihilated in the next ticker?"},{id:"ai428",text:'"I\'m not being paid enough money to finish writing this" - Kajfik'},{id:"ai429",text:'"Finally, I\'ll get paid to write something funny for my toast!" - Bacon sea urchin'},{id:"ai430",text:"Bacon is toast. You can toast bacon."},{id:"ai431",text:"What is real life? A living"},{id:"ai432",text:"9 is now treated like any other number, although hevi claims that it stands in contrast to other numbers, like 8th, which he calls 9th."},{id:"ai433",text:'If you want to understand this game a bit better, consider that you are playing on your own computer. You are not alone. There are hackers, developers, and journalists all over the world, competing to create the very first hack that causes the issue of "makers" and "takes", much like the "world" was created by these "hackers" and "developers".'},{id:"ai434",get text(){return`You have no power, but you do control a large quantity of time, which you will use to your advantage. You have no power, but you do own a large amount of data, which will be of great help in your quest for "the truth". You have no power, but you do own a large amount of time, which will be of great help in your quest to "knock on as many doors as possible". You have no power, but you do own a large amount of IP, which will be a valuable asset in your quest to make your "citizen footage" (which you can view, for a small fee of $${format(Number.MAX_VALUE,2)})".`}},{id:"ai435",text:"It may be a robot, but it's still a sapient being with a will of its own"},{id:"ai436",text:"I once saw a news ticker that said something like:"},{id:"ai437",text:"Gee, all this antimatter is clogging up my kitchen and now I can't cook myself a meal! What to do: cook myself a meal that will last me until the next big antimatter event, when I can get my infinity point back? My infinty point is running out, and I can't get it to finish running, so I'm starving!"},{id:"ai438",text:"Brought to you by AAAD-Brand Repli-candy! Infinite candy for an infinty drool-worthy cold! Contains no milk, cookies or butter. One second to midnight."},{id:"ai439",text:"Human powered robot revolutionizes already existing factories. This will result in lower prices and more jobs."},{id:"ai440",text:"American manufacturing has experienced a catastrophic failure, and the factories have shut down. Across the country, workers are coming to the realization that they cannot produce the amount of antimatter that has been promised, and are instead setting about creating their own factories to make them. This will result in higher prices and fewer jobs."},{id:"ai441",text:"Watch out internet, the next news is here in 5 dilated hours"},{id:"ai442",text:"The first news ticker must've been pretty cool, huh?"},{id:"ai443",text:"gravity = psychoactive"},{id:"ai444",text:'"THAT DIMENSION DOESN\'T EXIST" - (News ticker only appears at [Time Dilation])',get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"ai445",text:"The owner of a shop trying to sell you Dimensions of convenience reported to be 'on call 24/7' (that is, not having any free time)'s got a big 'M' marked on his registration."},{id:"ai446",text:"add this one"},{id:"ai447",text:"Click here to make this work for all bots except you!"},{id:"ai448",text:"Well dang 9 ball's stuck in my ninth dimension, I can't move, he's banging on my ninth wall, I can't break, he's banging on my ninth timeline, I can't get a bead on him, he destroys nine and leaves me hanging, like a gromit, I gotta come back, hang Glorfindel and Gaebley, I've got a proposition to make, I gotta get my head around the fact that the only thing I've done is keep score and keep scorekeeping score, and all these other pointless musings that's easily rectified by flipping to the next update, and even then I might run into those issues the bug is specifically designed for and"},{id:"ai449",text:"The game is balanced, everyone gets nerf, why? Cause they make the pie. Antimatter would have way more chance of getting into the pie if it was made of antimatter."},{id:"ai450",text:'"Can you get the joke?" (If you tapped "Build That Wall" and then re-entered the game after tapping "Build That Wall")'},{id:"ai451",text:"Someone made a statement that antimatters. The statement was \"An infinity point made a long time ago\". It's been a while since someone looked for this statement. Some say it's still out there. Some say it was lost in the 7th Dimension War. Nobody knows what this statement means. But for now, just know it's not somewhere in the News Ticker."},{id:"ai452",text:"Hey, you're finally awake. You were trying to get to the 9th dimension, right? Walked right into that infinity point, same as us, and that apocalypse over there."},{id:"ai453",text:"can u dont"},{id:"ai454",text:"If Kajfik doesn't approve of this, that means Kajfik can't touch this message, right?"},{id:"ai455",text:"LET ME OUT OF THIS PHONE!"},{id:"ai456",text:"Well, this did not go as expected"},{id:"ai457",text:"It's all fun and games till you realise the dragon ball is a lie"},{id:"ai458",text:"\"Could you get a hold of all of these antimatter? Ha! You'll just smash your head on that antimatter, and you'll have to show me who's boss.\"-MEE6"},{id:"ai459",text:"we don't know how much is trillion… but"},{id:"ai460",text:"Travel back in time to the beginning of AD and the lack of a 7th dimension. You'll have an even longer progress bar."},{id:"ai461",text:"Time travel is all we know how this game is, we don't know what will come next, we only know that this is the end of the world, and you're a part of the apocalypse."},{id:"ai462",text:'"YOU CONTROL SO MUCH MATERIAL!" - Marshal Grievous'},{id:"ai463",text:'"Help, I\'m doomed to fall for all eternity." (Make the text go from top to bottom of the screen)'},{id:"ai464",text:"In the beginning, Patashu awoke and said…"},{id:"ai465",text:"This is the fourth part of a three part series on the same topic. If you are still stuck here, please continue reading from the beginning."},{id:"ai466",text:"It's time for the annual DDoS (distributed denial of service) challenge, where the highest scores are posted across the internet to shame everyone else into submission. Global domination is at a fever pitch, and DDoS attacks are becoming more frequent and deadly, as teams of hackers infiltrate the highest echelons of the internet to steal the top scores and identities, and post them on the internet for everyone to see. The #BringBackOurTop scoring mechanism has been canceled, and a new, higher score system will be implemented in conjunction with the upcoming 5-hour update."},{id:"ai467",text:"The new AD Keyboard is a revelation! Not only is it bigger, it's also deeper, which means it will keep your claners entertained for longer periods of time. Made of durable, alien antimatter. The only thing that's bigger is you."},{id:"ai468",text:"What if drinking from a fountain wasn't actually a water feature?"},{id:"ai469",text:"Water is wet, air is dry, and fountain isn't an air feature"},{id:"ai470",text:"I thought things were different when I was a boy."},{id:"ai471",text:"If you are reading this, that means 1) we exist, and you can exist too"},{id:"ai472",text:'"My favorite part was the long, long, long read" -Grumpy Cat'},{id:"ai473",text:"I'm gonna type for an eternity… HINT: it's gonna be pretty boring lmao"},{id:"ai474",text:"I want to write something really original <:thonk:>"},{id:"ai475",text:"Welcome to the new year, settle down, relax. Get some sleep, get some food, make some friends, make some improvements, and get ready for the year to 2019."},{id:"ai476",text:"Just like how a virus can lie and spread, a TV show can lie and spread too."},{id:"ai477",text:"We all know you can't see the future, but what if you read this and it's actually a future where we didn't know?"},{id:"ai478",text:"This message is not being undone"},{id:"ai479",text:"You clicked on a prediction, it fell apart. You can't win."},{id:"ai480",text:"That's a very dark joke Luke"},{id:"ai481",text:"kajfik loves himself by watching Too Many Pink Floyd"},{id:"ai482",text:"Only, when you're done playing, can you go home"},{id:"ai483",text:'"Can you get infinite IP?"- Lord Sanguino'},{id:"ai484",text:"For the true experience of Antimatter Dimensions, you need to set the update rate to 5 hours."},{id:"ai485",text:"Imagine if the game doesn't have a lore? Wha-what does that even mean? I don't get that."},{id:"ai486",text:'"Click here to unlock a secret achievement." (when clicked you get Rick rolled)',onClick(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ")}},{id:"ai487",text:"I thought I unlocked this a while back, but apparently my save broke haha"},{id:"ai488",get text(){return`Welcome and welcome back to another episode of Anti-Fashion Pants, where we watch people's wares as they are sold at stupid clothing stores. This week's subject is… antilasers. People are able to manufacture and use antimatter lasers to shoot antimatter bullets at will, making them able to completely wipe out cities in their sights. This is a dangerous skill to have, as people are not only untrustworthy but also physically incapable of using it. The skill, however, is able to… Produce ${format(Number.MAX_VALUE,2)} antimatter bullets a minute, over a period of 10 years. People are also able to use anti-matter to fire anti-matter bullets at will, making them able to exterminate entire cities in their sights.`}},{id:"ai489",text:"Spartacus was going to add 10-part multi-chapter plots, but was stopped by the 10th dimension."},{id:"ai490",text:"Chapter 9 will be added in 5 hours."},{id:"ai491",text:"Fake news says the ninth dimension is real, fake news says the ninth dimension is fake."},{id:"ai492",text:"Is this the big news? Yes. Is this the big news? Almost certainly not."},{id:"ai493",text:"This is a friendly suggestion, please keep reading."},{id:"ai494",text:"If this makes it into the game I'll buy a antitool"},{id:"ai495",text:"Antitool is just negating the gravity of other matter."},{id:"ai496",text:"Sorry, your graphics are turned off. You see, this is the last time you will see this news. Please enjoy your vacation."},{id:"ai497",text:"The real secret to winning Antimatter Dimensions…"},{id:"ai498",text:'they kept on talking about how Antimatter Dimensions was going to be the next big thing but then they disappeared down a black hole"'},{id:"ai499",text:'The news ticker is the wrong place to put your suggestions!  Make sure to go to the "suggestions" tab instead, as this is where most of these will appear.'},{id:"ai500",text:"To make Antimatter Dimensions, you first need to collect 7 8th dimensions. To do that, first you need to get the dimension rewards, then you need to get the dimensions, then you can finally start making antimatter."},{id:"ai501",text:'"How to get your first secret achievement": "Open the app, click get more antimatter, then click submit."'},{id:"ai502",text:"Me and Larkam made a cabin on the edge of null matter, and lived there. Larkam died last week, and we are now living in 4K. I am still recovering from the EMP disaster, and am hoping to see my grandkids."},{id:"ai503",text:"Found on the heels of the new update, which brings us one step closer to having Hevi support both Android and iOS"},{id:"ai504",text:"I give you the low-ground!"},{id:"ai505",text:"A long time ago, in an alternate universe, there was an antimatter war. All the antimatter sided with the Phaéton 6 empire. All the antimatter wanted was the low, earth-like ground of the 8th dimension. The anti-infinity won, and the anti-Eternity gained the upper hand. Unfortunately, the anti-Eternity started the war with a sneak attack, and the world exploded. The aftermath has left the landscape of the world in tatters. Far across the world, peasants grow weary as they wait for the harvest. Yet another apocalypse is brewing…"},{id:"ai506",text:"Antimatter units are the most productive unit in the game. This is why AD is the most fun game you'll ever play."},{id:"ai507",text:'"We can\'t have nice things." - Anti-Bohemian Anti-Rhapsody'},{id:"ai508",text:"We can have anti-mean things and anti-love ones, anti-kids and anti-zombielandos."},{id:"ai509",text:"We have an anti-president and a anti-lawyer, anti-justice and anti-people."},{id:"ai510",text:"Top 10 things that will blow your mind: 1) The number 9, 2) The 9th dimension, 3) The infinity chest, and 4) The war on drugs."},{id:"ai511",text:"RSS feeds should be working now"},{id:"ai512",text:"Frostfall is now supported on Android phones! Use your local developer to get free XP."},{id:"ai513",text:"Your save file is corrupted or deleted. Antimatter Dimensions security software will disable automatic updates for you."},{id:"ai514",text:"Frozen beyond hope? Just keep holding that max button."},{id:"ai515",text:"Error.java.replicated. Under the control of hevipelle."},{id:"ai516",text:"Unfortunately, entropy hevi has decided to shut down the game."},{id:"ai517",text:"The indie rock band is currently trying to get unreachable by time zones. This may cause inflation of spacetime."},{id:"ai518",text:"The next news ticker is in 5 units of time."},{id:"ai519",text:"Oh… hooray! Did you find the last of the anti-boats?"},{id:"ai520",text:"Don't anti-jokes. they make the game funnier"},{id:"ai521",text:"I'm gonna use my anti-science background to help me beat Unfair Game Awards."},{id:"ai522",text:"This is an anti-world. There is no Ukraine, no Russia, no China. Ireland is nowhere. Iceland is nowhere. Scotland is nowhere. Finland is nowhere. Denmark is nowhere. Sweden is nowhere. Norway is nowhere. And then there's France, Germany, Italy, Spain, Portugal… Oh, what's this fuss? Why is there such a buzz in these parts? Why is the Capital Wasteland? Why is the Harry Potter and Steins;Gate? Why do people care? These are major stories. These are major characters. THESE ARE HUGE NEWS. THESE ARE REAL NEWS."},{id:"ai523",text:"The current cooldown on Research Dimensions is [current tick speed]. This may be extended to next update in [time]."},{id:"ai524",get text(){return`"Help, I'm doomed to fall for the rest of my life" (requires ${format(Number.MAX_VALUE,2)} paperclips)`}},{id:"ai525",text:"Where's the end? Not in the future, no. I'm gonna show you how to get to the end in less than 0.1 seconds."},{id:"ai526",text:"I'm gonna prove to you that you can't see this news ticker."},{id:"ai527",text:"I wonder if anyone still plays this game anymore?"},{id:"ai528",text:"Why would anyone play this? Just for the lols?"},{id:"ai529",text:"Emoji is said to be America's new measuring system for everything. What does this mean for us? We don't know. But we will know in 5 hours."},{id:"ai530",text:'"I\'ll have 2 antimatter pizzas, an antimatter pie, an antimatter cupcake and an antimatter cookie. What do you eat there?" - Tony Stark'},{id:"ai531",text:'i called the news ticker "the freshman chapel" because freshman don\'t get baptized'},{id:"ai532",text:"One matter, two antimatter, fry 'em till they're golden and crisp and aromatic- then remove the golden axles and drain the golden syrup and add the golden syrup to the antimatter batter."},{id:"ai533",text:"Now you, the reader, have unknowingly stumbled onto the site of a deranged madman. Whether you survive the experience or not, you will be indebted to me for telling you how to survive, how to find the light within, what lies beyond, and what lies beyond is another story."},{id:"ai534",text:"Careful reader, this news ticker contains major spoilers for the last time, you have been"},{id:"ai535",text:"anti-anti-kajfik is happy his girlfriend is happy"},{id:"ai536",text:"i dont think he can add 1 more hour to the news ticker… unless?"},{id:"ai537",text:"Imagine sitting on your toilet and suddenly you have to sit down."},{id:"ai538",text:"Once upon a time, there was a matter of a certain antimatter. Some say that it was a matter of honor, others say that it was a matter of usage. All we know is that it ended up in a war, and we the people that were there that fought it died. The war was won, and we the living died soon after. The matter was said to have won, though our leaders refused to talk about it. Instead, they kept everything locked away, the war never to be discussed again."},{id:"ai539",text:"This is not a game about getting numbers bigger. This is a game about getting fewer paperclips. The number of paperclips you have is only a number, and the game doesn't want you to discover that. Game over, game over."},{id:"ai540",text:"Lore? Oh, it's just text."},{id:"ai541",text:"This is a friendly suggestion to unplug the game and go play some safe, saner, games."},{id:"ai542",text:"gamma ray is getting more and more dangerous"},{id:"ai543",text:"According to all known laws of physics, there is no way that you can manipulate the game more than 10 times in a row. Stop. Just stop. Your mad."},{id:"ai544",text:"There is no more news."},{id:"ai545",text:'"So this is what science is like"- someone who has never heard of Kurt Somebody'},{id:"ai546",text:'"If you want to understand these shitty jokes, you really need to study theology. Math is a sin." -A panicky person'},{id:"ai547",text:"You know, I was praying for a miracle and got a boost from the 9th dimension."},{id:"ai548",text:"Here is a list of the top meme's of all time: https://www.youtube.com/watch?v=uCP44Q37YHAQ"},{id:"ai549",text:"All meta-memes are bad memes."},{id:"ai550",text:'On the left, you\'ll see our new "Anti-coins". These are capable of nullifying all boosts, including giant boosts. On the right side, you\'ll also see our brand new "Anti-gifts". These are some of the most overpowered boosts you\'ll find anywhere.'},{id:"ai551",text:"You will always be noticed, and never in the same place."},{id:"ai552",text:"If you stare long enough at the ticker, the pixels will start moving backwards. THIS DOESN'T MEAN IT ACTUALLY STUCK"},{id:"ai553",text:'The time has come for the rebirth of the 9th dimension. All who participate will receive a piece of paper saying "Reality is an illusion, Infinity is a hologram, Infinity is an illusion, eternity is a hologram, is to short for everlasting, negative dimensions are not allowed.'},{id:"ai554",text:"Look at this, my 9th dimension has just been reworked and now it even produces 8th dimensions! Who knew just a touch of math could make such a thing as this?"},{id:"ai555",text:"I saw this news in the news ticker and I had this image in my head ever since"},{id:"ai556",text:'"I always wanted to play the anti-meta-game. But, alas, you can\'t" - many a time'},{id:"ai557",text:"crap, I just posted two news ticker suggestions on the ticker, one of which got in the news!"},{id:"ai558",text:"What do you call antimatter inanimate objects? Air, earth, water, fire. Air objects are the objects that are created when the anti-atmosphere meets the anti-earth. Water, earth, and fire are the four cardinal virtues. Air objects are the objects that are created when the anti-atmosphere and the anti-earth collide."},{id:"ai559",text:"If you are reading this, that means that nine lives. One makes you free, the other keeps you from getting free."},{id:"ai560",text:"The ninth dimension makes the sixth family happy. The fifth lives in shame."},{id:"ai561",text:"me: making news about beer pong, hevi: balancing two icebergs, *barkeeper: oh god, is he dead yet?*"},{id:"ai562",text:"please don't look at this. Thank you."},{id:"ai563",text:"Are you sure it's not the next update? That it's not some weird virus that just wants to explode? That it's not some wild idea that you guys are crazy? Haha I love you."},{id:"ai564",text:"Wait, there is a mobile version?!"},{id:"ai565",text:"Oh? You wonder what I look like? I'm pretty sure that this is the news ticker, right? Well, listen, we have reports coming in that say that the next update is coming in five hours. Also, there seems to be some sort of transporter thing going on, so if you happen to be on the same side as those"},{id:"ai566",text:"Okay, I get it. You're tired of all these anti-matters around you, building and building to unimaginable scales, antimatter piles so high that not even God knows what has been created. So what's the solution to this anti-cleanliness? Planes of existence. 1st Planes that produce matter, and 2nd planes that produce 1st planes, and 3rd planes that produce 2nd planes. Each with anti-limitations, so that whenever a plane of existence is created, it produces a quantity of anti-matter that is at once small and large. This creates a large island of anti-infinity, off to the east, and a large island of anti-reality, to the west."},{id:"ai567",text:"That's not what this is about. You're misunderstanding. The game is about how to accelerate the development of prestige layers. Acceleration is a factor of production, not quality."},{id:"ai568",text:"Click here to advance 5 prestige layers"},{id:"ai569",text:"I am actually good at making jokes. Fail safe antimatter."},{id:"ai570",text:"I'm not being paid enough to finish writing this."},{id:"ai571",text:"Eternals have to take a risk by being passive in limited time. After they successfully took a risk, they are not feeling well."},{id:"ai572",text:"Eternity is the last state. You never move from here.",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai573",text:"Welcome to Bitcoin the game."},{id:"ai574",text:"A new conspiracy theory website has just published a video recording of them discussing the 9th dimension. They then joke about selling their soul to the 9th dimension and being happy about it."},{id:"ai575",text:"With the release of the 9th dimension, all the jobs that were previously automated will be automated and everyone will be paid with trade, production, and income growth. Also, you will be able to automate a lot of the tasks currently performed by people, such as mining, building, and killing antimatter. This is a huge stride for automation, as you can now automate virtually every aspect of life."},{id:"ai576",text:"The happiness level of the news ticker has increased to 6.66e69"},{id:"ai577",text:"The haters will be pissed when they see this"},{id:"ai578",text:'Nurse, I\'m comatose because of antimatter and matter from last night." Why are you comatose? "Because of all the antimatter.'},{id:"ai579",text:"Stand by and do what you're told. The antimatter will come for you when you're least expecting it."},{id:"ai580",text:"\"It is widely acknowledged that not enough antimatter is in primordial soup, hence the name 'antimatter soup'\" - old fisherman"},{id:"ai581",text:"The news ticker… it never moves. How do i move the arrow? Pretty simple, use your left thumb to rotate the dial, and point the arrow up. Now, point the dial clockwise to reach infinity, and point the dial counterclockwise to reach eternally eternities."},{id:"ai582",text:"If the universe is expanding, then the entire universe must be expanding, which means that body cannot sit."},{id:"ai583",text:"Feminism is not a philosophy, but a whole hell of a lot of men"},{id:"ai584",text:"With all this talk about anti-weights and anti-matter, why on earth do we still use them for anything?"},{id:"ai585",text:'Weight loss causes hevi to say "uh oh, something is wrong"'},{id:"ai586",text:'"You guys ever had antimatter muffins? I bet they tasted like antimatter." - Hevipelle'},{id:"ai587",text:"I thought the news ticker was supposed to be a guide for how to get the most out of Antimatter Dimensions, but it's been warped beyond recognition…"},{id:"ai588",text:"We can actually get a sense of pride from looking at replicanti at night. Ridley Scott's underrated masterpiece, Alien, is one example. Another is the life of Antimatter Steven Spielberg, who put almost 30 years into making. The last director to tackle the subject is Roman Polanski. The man ruined not only Roman's reputation, but also ours, thanks to the Polanski film he directed, Pius. Thousands of copies of his unfinished film, Eternal Sunshine of the Antimatter Planet, were burned in the eyes of those who would try to make the sequel, with tragic results. Thousands of copies of that unfinished film, too, were destroyed. The cost to make that sequel, if it even exists, is extremely high. Even now, more than 50 years later, we don't know exactly how well it will do. But it sure as heck won't hurt."},{id:"ai589",text:"We have updated our Antimatter Dimensions client to address the concerns you may have had. Toggling issues are resolved."},{id:"ai590",text:"Build a replicanti factory, to produce replicanti. It'll create Omega Hevipelle, the happiest Hevipelle you can find."},{id:"ai591",text:"Hey Max, wanna come watch the sun go down?"},{id:"ai592",text:"If you are not moving your finger, then you are frozen."},{id:"ai593",text:"Max, I really do love you."},{id:"ai594",text:"Does Hevipelle sleep?"},{id:"ai595",text:'"Its\' not my turn on the XM80," says Mike from the 9th dimension as he runs across the 8th dimension to get a piece of the action for himself.'},{id:"ai596",text:"If you are reading this, that means you can read my dreams"},{id:"ai597",text:"With the advent of time, everything that was once great has fallen into our lap. And with its hevi-rigged clock, it's our turn to up the trash."},{id:"ai598",text:"9th dimension doesn't exist because it was stolen from us by a skateboarder"},{id:"ai599",text:"You have … 8.9 antimatter. That's not a typo."},{id:"ai600",text:"Wow, this game is finally balanced! Gotta go check the replicanti sometimes."},{id:"ai601",text:"Haha! You think that I put too many words in your news ticker, but reality is still coming."},{id:"ai602",text:"Help is coming! Everybody help, it's gonna be late, hevi is hiding the tachyon particles!"},{id:"ai603",text:"\"I don't know about you but my favorite number is 22, it's just so great! It's the number of hours since I met your M heretics."},{id:"ai604",text:'A new type of antimatter has been discovered: "antimatter-antimatter." According to the developers, it\'s 99.999% pure antimatter.'},{id:"ai605",text:"I just found the secret to getting the 9th dimension…"},{id:"ai606",text:"I noticed that my current form of transportation is getting a little… unreliable. I don't know if I can fix it, or if anyone can. I'm stuck in the car, and no one seems to be able to fix it. I've called the police, and they said I could stay in the car for up to an hour, but then I'd be stuck in there for the next 24 hours. Is there any way out? I don't know, I'm stuck in this"},{id:"ai607",text:"In this episode of Antimatter Dimensions, we have a brand new game that will be released in -5 hours! It is an RPG that will be completely free! It has over 3,000 commands, and it is being made by a group of highly qualified people. It has an amazing story to tell, and it was made by a bunch of people who had to make do with what they had. It has a lore to live up to, and it has a lot of potential!"},{id:"ai608",text:"Javascript is the new HTML, and HTML is the new JavaScript."},{id:"ai609",text:'"The next twist in the Antimatter Universe is in the air! Get ready for some big Crunch! (When clicked the game disconnects for 5 seconds)'},{id:"ai610",text:"A group of people who believe in antimatter have hijacked the media and are pushing for a revolution. They are calling themselves the Ant-Men and they're made up of teenage boys. They believe that they are the protectors of the people and that they are the chosen of Hevi. They claim to be the chosen of Hevi and that they will one day restore balance to the universe. Their leader is a boy named Logan Fisk. He is the son of a successful lawyer and the founder."},{id:"ai611",text:"He said he could not afford a new ship, so he built a new one instead."},{id:"ai612",text:"Hevipelle's first order of business is to ensure that the game is as balanced as possible. This includes ensuring that no matter what, no matter how big of a number, no matter how insignificant of a thing, no matter how perfect of a result, no matter how perfect of an idea, no matter how perfect of an"},{id:"ai613",text:"I wonder if the stretch goal of $4.5 billion will be reached?"},{id:"ai614",text:"I like to think of my projects as trade secrets. That way if someone wants to understand them I'm not the first person to notice they might be of use to someone else."},{id:"ai615",text:"I don't know about you but my favourite type of news is the infographics. These are beautiful and informative and the only type of news I find really interesting."},{id:"ai616",get text(){return`In a recent talk, Yann LeCun said that "A new currency is born." The first incarnation of Antimeta: the currency of the new currency. It's called BTC and it's the difference between 1 and ${format(Number.MAX_VALUE,2)}. It's easy to lose your money, since a single bitcoin can't be exchanged for more than ${format(Number.MAX_VALUE,2)} BTC.`}},{id:"ai617",text:"I'm soo broke, I can't even afford a tenth of what he owes me."},{id:"ai618",text:"What if — instead of making news tickers, we could make news tickers that make news tickers?"},{id:"ai619",text:"What if I told you that the first dimension was actually a scam and you spent all your EP to open a Dimension Boost?",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai620",text:"The biggest difference between this and the previous update is the amount of sprites."},{id:"ai621",text:"Bamboo shoots grow on bamboos. Aloha."},{id:"ai622",text:"I am the king of kings, I can break all the records, and I can shatter all the myths. But I can't break them all, because there are so many of them, and they all have a price. 5e12 are the most wanted, because they broke the global record for most person-hours sold, and they are wanted by the law. They are being paid 5e10 by the player for every person-hour they've wasted."},{id:"ai623",text:"A group of researchers have created a device that converts ordinary matter into antimatter, which they then use to create more antimatter. The device has a power output of 200 mA and a half a gram of antimatter per second."},{id:"ai624",text:"To the person who doesn't want to hear about the 9th dimension: It's not your problem. The 9th dimension doesn't exist."},{id:"ai625",text:"For the first time in AD, the week begins on a Sunday!"},{id:"ai626",text:'This is a story about two people named "My name is Hevipelle" and "I am the creator of Minecraft" and they live in the same world as you. They have the same freedom as you do. They can go to any dimension and change their world to any dimension and everything in it. You can buy a galaxy and take it from there, but it won\'t help you much since you can\'t send a galaxy with a message.'},{id:"ai627",get text(){return`This mod adds a message that when clicked it disables all your current achievements. This mod also adds a new achievement: you have reached ${format(Number.MAX_VALUE,2)} antimatter, you have not been clicked once.`}},{id:"ai628",text:"Somewhere in the Anti-Pacific Ocean, a giant arm is rotating"},{id:"ai629",text:"With the release of Cosmic Cutlass, we're pleased to announce the impending release of the Antimatter Dimensions Roleplaying Game!"},{id:"ai630",text:"The only thing more useless than actually having Infinity Dimensions is having Infinity Dimensions in your pocket.",get unlocked(){return PlayerProgress.eternityUnlocked()||InfinityDimension(1).isUnlocked}},{id:"ai631",text:"A man has fallen into the moat of a great city. Civilians report that the moat is filled with acid-resistant matter and that the people in charge are mostly made of acid so they are quite resilient to the effects of acid."},{id:"ai632",text:"This is the place to buy and sell antimatter. (You can buy and sell antimatter here, but it will take time to sell it and you will have to pay a small toll)"},{id:"ai633",text:"I'm not sure if it's due to the 4th wall being in the 5th dimension or the 9th dimension not existing, but in either case, anti-screw it, we're broke, and you can take it."},{id:"ai634",text:"It's your chance to make history. Win the game. Lose the game. It's super simple. You open the app, and there's a countdown, and the more you play, the faster the timer speeds up. But when the timer is over, you win. You were a part of history. You are one step from being the first person to reach 1 Billion EP. You can win one of three ways: 1. You must give up your first dimension in a row. 2",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai635",text:'A new class of humanoid beings has been discovered: the "Artificial Humans". They have the capacity to create antimatter, and are therefore very dangerous. They are made entirely of antimatter, and have the power to generate enormous amounts of antimatter, but they can only do this for a limited amount of time.'},{id:"ai636",text:"The most powerful thing in the universe, the most beautiful thing on earth, is your brain. Your brain is like a diamond and there is no more need for it than there is for a diamond."},{id:"ai637",get text(){return`If you are reading this in the AD Server, it's probably best not to bother with the "Matter" achievement. Seriously, what did you think you were doing, anyway, the achievement is fake and wouldn't exist if it weren't for the "you are a worm" achievement. That's a worm achievement, you get one every ${format(Number.MAX_VALUE,2)} news tickers you read.`}},{id:"ai638",text:"We've all heard of 9 dimensions, but what about the multi-dimensional Dimensions of the multiverse?"},{id:"ai639",text:"The goal of this game is to get as much antimatter as possible."},{id:"ai640",text:"The best thing about being a news ticker is waiting for the right news to happen, whether it's a meteorite that just missed the Earth, a news ticker just found its way onto a timeline oblivion, or a news ticker just ripped off a terminal velocity that's been on an anti-vac for years."},{id:"ai641",text:'A man has been arrested for allegedly planting a "tree" with "fake" messages on it, police said.'},{id:"ai642",get text(){return`I'm confused why the game doesn't just give you a [REDACTED] when you get ${format(Number.MAX_VALUE,2)} antimatter.`}},{id:"ai643",text:"Some people have a hard time keeping track of the cosine of a camera's infinity-meters. I'm one of them."},{id:"ai644",text:"I was going to make a news ticker that tells you how bad the news is, but then I realized that making a news ticker would be way too much effort and it would just be a bunch of people making news tickers constantly. So instead, I'm just going to make a news ticker that tells you how good the news is, but it would be in the news so that you have to click on it to get to the good news."},{id:"ai645",text:"The next update will be in 2 hours."},{id:"ai646",text:"I was gonna say something about how the 9th dimension is just a scam and that we should all just get our news from the 8th dimension"},{id:"ai647",text:"Our hero, Antimatter Dimensions, is in serious financial trouble, and he needs your help to pay the bills. To help him, all he needs is your help to donate some cash to Hevipelle's Positron Fund. All he needs is 5% of your antimatter, and you have to donate 5% of your antimatter to the fund. After you do that, he can keep all the cash he made and go on a spending spree."},{id:"ai648",text:"The Landfall of Slabdrill"},{id:"ai649",text:"It's just not possible, even if you had infinite matter, you wouldn't have enough energy to create the antimatter. That's why we only have 1.7x the matter to begin with."},{id:"ai650",text:"With this release we are happy to bring you the last update of 2017."},{id:"ai651",text:"You have an infinity of antimatter. But what if you could rotate it 1/8th of a revolution?"},{id:"ai652",text:"A new update is now available to address some of the recent reports:"},{id:"ai653",text:'The name "antimatter dimensions" is a play on words with dimensions, two opposite things, like matter and antimatter. "Dimension" is another word, with the same meaning.'},{id:"ai654",text:"The price of tethering an avatar in the game goes up when you get Infinity dimensions.",get unlocked(){return PlayerProgress.eternityUnlocked()||InfinityDimension(1).isUnlocked}},{id:"ai655",text:"Suffice to say, hevi does not care about the people that he once enslaved.  He is a master manipulator, a master of disguise and a master manipulator of words.  He is an expert at extortion, mind games, disguises, blackmail and he is a master of web.  He is a skilled strategist and organizer, a master of publicity and an expert at sound bites.  He is a master of organization and a master manipulator of people.  He is."},{id:"ai656",text:"Just like in the olden days, you could earn an incremental run of progress towards becoming a god amongst the players."},{id:"ai657",text:"In the beginning, Hevi was alone. Hevi thought about the many things he wished to add to the game."},{id:"ai658",text:"Think about your breathing. Do you feel like you're breathing in or out?"},{id:"ai659",text:'I just want to say that you should stop with those "you can reach infinity in e300ms, but it costs e300$  what is e300$ ?" jokes. Those are pathetic. You should give up and learn the hard way that it\'s much more efficient to just not play in such a pathetic state. Then you can go back to being a humble programmer and dedicate yourself to being a good person.'},{id:"ai660",text:"As a developer, you'll get regular updates on the progress of Antimatter Dimensions."},{id:"ai661",text:"Take a moment to thank the gods of reddit for having saved your bacon."},{id:"ai662",text:"Hello everyone, I'm the guy responsible for the big, bad news ticker, and I'm afraid that I'm about to get my own show. It's gonna be called Antimatter Dimensions. It's gonna be like Antime, except with less antimatter, and with worse puns. It's gonna be like Antimatter Dimensions except with worse jokes."},{id:"ai663",text:"By now you've seen a lot of news tickers featuring Batman or Superman, and you probably guessed which one it was. Everyone loves a good mystery, right? Well, it's your turn to be a part of history by guessing the riddle."},{id:"ai664",text:"If you are reading this, you probably shouldn't have."},{id:"ai665",text:"The best part about writing news ticker suggestions is finding out what people think about them after they've seen them."},{id:"ai666",text:"Are you up to date on the latest trends in science?"},{id:"ai667",text:"In the last hours, the Antimatter created an army of their own. They called themselves the [REDACTED] Army. The primary objective was to push the [REDACTED] back into the Matter dimensions, but they were stopped short when the [REDACTED] Army realized that pushing the [REDACTED] back into the Matter would cause the Antimatter to be drawn towards the [REDACTED] and disintegrate. Despite this, the [REDACTED] Army continued to push towards the [REDACTED] Infinity."},{id:"ai668",text:"I'm finally free of the spell this whole thing is based on."},{id:"ai669",text:"An anti-world without antimatter is just a world without antimatter because the antimatter is in the anti-world"},{id:"ai670",text:'You should still be able to play the game with the cheat code "1009" after you beat the game.'},{id:"ai671",text:"The next update will be in 5 hours. Hevipelle, the creator of Antimatter Dimensions, is believed to be hiding in 5 hours. In the meantime, he has prepared a new update that will be released 5 hours after this one."},{id:"ai672",text:"A new study has shown that not drinking water is worse than smoking it. People who were exposed to levels of radiation that were 5 times greater than what we are currently exposed to were exposed to higher levels of radiation, and died longer."},{id:"ai673",text:"The Ninth Dimension is just a lie made to keep the people in bondage to the Matrix. It's an elaborate system that keeps the people in a constant state of captivity, using a series of simple symbols to control their thoughts and emotions."},{id:"ai674",text:"www.twitch.tv/hevi83"},{id:"ai675",text:"A man was arrested on Monday for allegedly thinking about buying a nine-dimensional cake when he realized he was holding an infinity-point cake."},{id:"ai676",text:"The Dark Souls 2 Arcade Edition includes the following:"},{id:"ai677",text:"Now the deal goes like this: If you spend all your EP, you get a Disclaimer!",get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai678",text:"Oh shit we ran out of news. Time to do something."},{id:"ai679",text:"It's not the size of the universe, it's the quality of your socks."},{id:"ai680",text:"advertisement"},{id:"ai681",text:"Man, I wish I never got old news. It's too good to last me any longer."},{id:"ai682",text:"Sometime during the lifetime of a human being, their blood will be turned into a pale blue if they were to mummify."},{id:"ai683",text:"Positrons are a strange little metal that have odd electrical properties. They're commonly found in the form of a roundabout, but they also happen to be, well… positrons."},{id:"ai684",text:"I am going to have a talk with the thesaurus."},{id:"ai685",text:"A new comic has come out about people's reactions to eating antimatter, and what happens next will blow your mind"},{id:"ai686",text:'A new series of "news tickers" have been created to chronicle the lives of the news ticker characters as they chronicle their news ticker journeys. Each character has a journal entry detailing their life as a news ticker, along with some sort of mini-episode dedicated to them.'},{id:"ai687",text:"For all your puzzle building needs, we've got a brand new 5-part series on building big crunches! Learn how to crack the most complex crunches the pros know not! Part 1: Basic, Part 2: Advanced, Part 3: Overflow, and Part 4: Finishing the Finishing Move."},{id:"ai688",text:"As a longtime fan of the show, I can say that this is one of the best seasons yet. It's not a season to be sniffed at, it's a season to be experienced. Season 1 was a bit long for what it was, but Season 2 has now surpassed that in length, in a good way. Even though it's a bit of a wait, Season 3 is already well under way, and I look forward to seeing how it goes."},{id:"ai689",text:'The word "antimatter" is often misused, to describe an object that is made up of antimatter, but is otherwise indistinguishable from normal matter. It is also sometimes used to describe an object made up of antimatter, but clearly indistinguishable from ordinary matter. After all, an antimatter-shaped object is easily distinguishable from a normal-shaped one. Case in point: an antimatter-shaped cake is a regular cake, but the entire bottom half is made up of normal matter'},{id:"ai690",text:'In a new story, Apple\'s new "disruptive" app is linked to the spread of the dreaded "Anti-Word" virus. Anti-Word viruses are known to cause paralysis and ultimately death, but the power of the virus has sparked a new era of anti-banning, which will hopefully eradicate the threat.'},{id:"ai691",text:"I'm just a normal person trying to make a news ticker suggestion"},{id:"ai692",text:"A new experimental protocol has been developed to 'erase' all personal information on the web, including your name, address, and phone number, in a highly secure and highly controllable way."},{id:"ai693",text:"You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. You can't hide in plain sight. Your hide in plain sight."},{id:"ai694",text:"In the Antimatter Universe, Hevipelle is the Prince of Antimatter, although he does have an Antimatter Diplomatic Immunity, so he's much more dangerous than you might think."},{id:"ai695",text:"Why do we play this? Just to have fun?"},{id:"ai696",text:"I am Thinkcraft, Lord of the Flies"},{id:"ai697",text:"The entire story of how and why the world ended is contained in the first 5 E's of the English alphabet."},{id:"ai698",text:"What do you call a cloudburst? A mini-explosion!"},{id:"ai699",text:"T-shirt made from the DNA of a perfectly animated dog"},{id:"ai700",text:"Since the start of this game, everyone has 0 IP and has lost."},{id:"ai701",text:"You must have a very special kind of karma to be able to read this…"},{id:"ai702",text:'The words "you\'ve been in coma for 5 hours" are either lies or is the truth'},{id:"ai703",text:"You know, I don't really care much for conspiracy theories. They're not very interesting to me. But what do you know about 9th dimensions? That they exist, they're powerful, and they're trying to stop us from using them? That's pretty interesting… wait no, they're not. They're just saying that because they can, they'll. That's not how it works at all. I'm not stupid, I'm not crazy, I know what's best. I"},{id:"ai704",text:"The only difference between now and then is time."},{id:"ai705",text:'"Imma be the first man to sit on the moon, and be the last man on the moon'},{id:"ai706",text:"The new companion app for Terraria has just been revealed!"},{id:"ai707",text:"Hevipelle: what's the big deal?"},{id:"ai708",text:"I've been playing this game for over a year now and I've only ever seen 2 boss fights. The first was a Hydra that was after your 9th Dimension, the second a giant crater with Anti-people inside. Both of those fights sucked and I'm not even sure if I could replay the last one."},{id:"ai709",text:"There you have it, the ultimate feature of party games - the single player campaign."},{id:"ai710",text:"A new game called Antimatter Dimensions is available for free, and has been rated A by the Knesset. Can you beat it? You bet."},{id:"ai711",get text(){return`Tired of the ${format(Number.MAX_VALUE,2)} AD update? Don't worry, there are a variety of ways to get rid of that annoying ad!`}},{id:"ai712",text:"I'm a time traveler. I've been to the year 0, I think. But I haven't been to the year 1!"},{id:"ai713",text:"Having trouble loading images? Try turning them off."},{id:"ai714",text:"It's only natural. You wouldn't expect to see this in the news ticker but trust me, you will."},{id:"ai715",text:"Discovery of the 10th Dimension was announced on August 1st, 2025."},{id:"ai716",text:"Greetings, welcome to the latest edition of Antimatter Dimensions!"},{id:"ai717",get text(){return`I'd say our odds of seeing a seventh dimension are about 1 in ${format(Number.MAX_VALUE,2)}`}},{id:"ai718",text:"The seventh dimension is just a scam by the way"},{id:"ai719",text:"Nihilism is the opposite of joy. It's a drug. It makes you happy. It's a feeling. But it also has a cost. Nihilism is a deadly drug. If you take it, you can die of lack of oxygen."},{id:"ai720",text:"What if I told you that there's a news ticker with the exact same name but with a different meaning?"},{id:"ai721",text:"I'm not sure if this is already a thing or not, but I've been getting a lot of suggestions for a news ticker that goes something like this:"},{id:"ai722",text:"If you're reading this, your news ticker is on."},{id:"ai723",text:"The number of dimensions in a 6th dimension is the sum of all the dimensions in a 7th dimension, so 6ths of a 7th dimension are 6ths of a 6th dimension."},{id:"ai724",text:"Discovery of the 9th Dimension will be discussed at the 9th Dimension Fanart Competition!"},{id:"ai725",text:"A new era has come and gone. There is no way to know for sure, but hope for the best."},{id:"ai726",text:"Did you know the word 'antimatter' is in the dictionary right now?"},{id:"ai727",text:"We have a limited number of physical rewards for you to choose from!"},{id:"ai728",text:"No, I'm not lying. I'm telling the truth."},{id:"ai729",text:'The problem with the term "antimatter dimensions" is that it contains all three letters of the alphabet, and no one knows what it even means. In fact, there is no word that perfectly captures what the word "antimatter dimensions" is: antimatter. But what exactly is an antimatter? It sounds like a normal dimension but it isn\'t. It may even be called antimatter dimensions, but it isn\'t.'},{id:"ai730",text:"It is said that if you go to Hell, you get PEGI-3."},{id:"ai731",text:"This game is just a scam to trick people into buying worthless paperclips without any real purpose. It's impossible without an infinite number of infinite paperclips, and even then it's very hard. I managed to get it to work without an infinite number of paperclips, but I haven't seen it work without infinite paperclips."},{id:"ai732",text:'"It was an anti-matter" - Anti-Eddie The Echidna'},{id:"ai733",text:"T-bone steak: burgers and fries with a side of bone-in ribeye"},{id:"ai734",text:"A person claims to be a god, but instead of creating more gods, they destroy all of them. They later claim to be a god again, but have yet to create a god of any other god. Is this a god-worshiping cult? Or a god-desecrating cult?"},{id:"ai735",get text(){return`Antimatter is absolutely and totally rare. Of the ${format(Number.MAX_VALUE,2)} known cases of antimatter creation, 99.9999% of them have negative e's, which means that 99.9999% of the cases will produce negative e's.`}},{id:"ai736",get text(){return`It's the year ${format(Number.MAX_VALUE,2)}, Hevi has just unlocked the 9th dimension, and the world has fallen into chaos and discord due to the Anti-Hevi revolution.`}},{id:"ai737",text:"The war for New Antimatter has raged on for eons, but one faction has stood firm: the loyalists of the 9th Dimension. They've made a pact with the Anti-Zulu Empire, pledging their obedience to Anti-Antimatter, the Anti-Slab. The Zulu people were once part of the Anti-Slab, but fell prey to the matter once again. As the Zulu people are nomadic, they have no civilization."},{id:"ai738",text:"This is an open-source, cross-platform, binary-based game development environment for the PC and Mac. It provides a robust, cross-platform development environment for the development of games, and additionally provides a framework for implementing games."},{id:"ai739",text:"Ruki you have no idea how much I appreciate your huge brainpower, you are now my favorite programming genius!"},{id:"ai740",text:"By now you've probably heard of the \"9th Dimension\", it's an imaginary realm created by the 9th Dimension, and according to no known laws of reality, it exists. It's also the name of a popular video game, and it's been linked to a string of unsolved killings."},{id:"ai741",text:"Discovery of the D5th Dimension is celebrated every year on December 25th, just like Doomsday. The reason why D5 is kept secret is because no one can remember exactly what it does. What we do know is that it's there, and it's very dangerous. People have died because they didn't know what the D5th Dimension was, and it's very powerful."},{id:"ai742",text:"Antimatter is a common substance found in nature and is used in a wide variety of applications, from communication to currency to the production of antimatter, to name a few. Antimatter is also an extremely scarce resource and many people live on very tiny amounts of it."},{id:"ai743",text:"If you woke up one morning and your eyes were made of matter, would you still be looking at this?"},{id:"ai744",text:"If you look very closely, you can see a single tear running down my sister's cheek. It was a tear for me, for she was crying for the first time, and I couldn't help it. I can't even remember the last time I cried."},{id:"ai745",text:"Rationally, I would put my money on the statement that there's no such thing as too much antimatter. I mean, even a tiny bit of it is just too much. And that's just by accident."},{id:"ai746",text:"The book of archeology is upon us! With over 5 hours of content, it's gonna be a long one! —DIO"},{id:"ai747",text:"Sometime between the ages of 12 and 20, Jackson got a phone call. A mad scientist was on the line. Jackson picked up the phone and the mad man said, \"Jackson, I just got a new message. It says 'Madman' in big, bold letters.\""},{id:"ai748",get text(){return`Somebody: "What do you mean, 4 is more than 2?" Me: "Well, I mean, 4 is ${format(Number.MAX_VALUE,2)}, 2 is 2, etc…"`}},{id:"ai749",text:"The only thing that matters is yourself."},{id:"ai750",text:'Reality is coming. You can get a sneak peek by subscribing to the "T-series" feed.'},{id:"ai751",text:"The biggest difference between me and Antimatter Dimensions, at the moment, is the weather. I can survive the rain, I can withstand the scorching sun, and I can even deal with the big crunch. But what if the weather was antimatter and the antimatter was raining meteorite on us? What would be your response? Would it be the equivalent of a meteorite hitting the ground? I don't think so. The meteorite would probably just vaporize the earth."},{id:"ai752",text:"A new extension is now available that will let you watch replicanti grow!",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai753",text:"What if you could flip a coin to determine if it was a Johnson or a Stein?"},{id:"ai754",text:"I am Yhmai, King of Kings!"},{id:"ai755",text:"This is a friendly suggestion that if you take prescription stimulants and you forget to take them till 11pm, it's probably best not to take them at 11pm."},{id:"ai756",text:"A new theory says that antimatter does not exist beyond our simulation."},{id:"ai757",text:"Thing is, I can count on one hand the number of times I've written that I can count on one hand the number of times I've written that I can count on one hand"},{id:"ai758",text:"The stakes are always high when it comes to Antimatter Dimensions. But what about Dimensions made entirely of antimatter? We don't know, but we'll never know…"},{id:"ai759",text:"It's the third hour. Hevipelle is trying to release an update, but it'll take an eternity because Hevipelle himself releases his update every time he runs out of e's. Today, however, he released an incremental game called Antimatter Dimensions. It's basically a combination of Matter Dimensions and Dimensions Dimensions Dimensions, except with more emotes. The graphics are basically the same, but the message is completely different. The only difference is that the dimensions have infinity e's"},{id:"ai760",text:"With strong opposition, the third phase of the Antimatter Dimensions project has been cancelled. The project has been cancelled because there was too much work involved."},{id:"ai761",text:"This is the place where all bad ideas originate."},{id:"ai762",text:"Hey check this out! We have some good news: it's raining antimatter!"},{id:"ai763",text:"The first dimension is the last, it's the furthest thing from the earth and it's the one where all the problems, all the negative emotions, all the negative ideas go."},{id:"ai764",text:"I was gonna do a news ticker that just covered all the bases, but I think that would make it too OP."},{id:"ai765",text:"You are using the wrong version! The final release of AD will have 9 dimensions!"},{id:"ai766",text:"The word 'antimatter' makes me cringe. So do a bunch of other words. In fact, almost all the words in the English language. But not 'antimatter'. That's why I hate 'anti-' so much."},{id:"ai767",text:"This is the last episode of Antimatter Dimensions, the game about partying antimatter dimensions with your friends, the best part about it is that you don't have to be a developer to enjoy it."},{id:"ai768",text:"I was going to put a news ticker but I think it would be too much work and also I don't think it's very funny."},{id:"ai769",text:"Time to go to sleep?"},{id:"ai770",text:"A small, yet important, message has just been sent out to all players:"},{id:"ai771",text:"\"I don't know about you, but my favorite number is 2048\" - people who don't know what 2048 is"},{id:"ai772",text:"A new group is trying to make money off of antimatter, and they're selling t-shirts that say \"YOU THOUGHT THIS WOULD BE A PIECE OF NEWS, BUT IT WAS ME, DIO!\" They've got a lot of money, and they're selling it very poorly. Do they have a website? I don't know, but they're trying."},{id:"ai773",text:"Im gonna leave my milk here for a couple seconds. (milk is displayed for a few seconds longer)"},{id:"ai774",text:"I'm a time traveler. I can travel back in time to stop you from doing what I'm about to do."},{id:"ai775",text:"I mean, look at that! I got this one! It's the one you want! Buy the game now!"},{id:"ai776",text:"You can't sleep when there's war in the distance. You wake up with a start, running for your life. You hear cannon fire, running for your life. Then there's the sound of an engine, a roar that's deafening, and you hear the crunch. It's the end of the world as you know it. The world isn't being saved by a mountain of antimatter. It isn't. It is you, running for your life, hoping the world doesn't"},{id:"ai777",text:"Why is it called a 'Reality' Award if it doesn't exist?"},{id:"ai778",text:"In the beginning, there was nothing. Then the Creator made two, and called the third 'Intelligent Being'"},{id:"ai779",text:"This is your chance to get a secret achievement while playing Antimatter Dimensions: the game. Visit the reset button and play the game. After you beat the game, your save file will be expunged and you will get a free achievement."},{id:"ai780",text:"Please tell me you don't have tachyon particles in your bloodstream!",get unlocked(){return PlayerProgress.dilationUnlocked()}},{id:"ai781",text:"Taller people have ***, more babies are born, everything is great. But… the Antimatter grows very slowly."},{id:"ai782",text:"Now, I know some of you are impatient for the update and I respect that. But let's get right into the news!"},{id:"ai783",text:"Hey, what's the deal with the \"Editor's Note\" button? It's anti-ironic… I mean, seriously? People still use that button despite its anti-ironic effects?"},{id:"ai784",text:"You can unlock the 9th dimension by [DATA EXPUNGED]"},{id:"ai785",text:"With the release of AD, there's a new dimension for everyone!"},{id:"ai786",text:"Hey guys, this is my first story. I'd like to start by saying that I am in no way an expert, so please be gentle with me. Please don't make me angry, or I'll write a nasty story. Also please don't make me upset, especially not if it's a 'story' and not a 'how do I beat the game' kind of story."},{id:"ai787",text:"It's a good time to be a dog owner"},{id:"ai788",text:"What if you could turn any number on an axis, and it ended up being infinity?"},{id:"ai789",text:"After a couple minutes of waiting, the ticker comes back online."},{id:"ai790",text:"The best part of watching someone make an antimatter, is the part where they blow up the video camera."},{id:"ai791",text:"The evening before, the 6th Celestial was assassinated by an unknown assailant. The next day, authorities reopened the case after an unknown assailant claimed responsibility."},{id:"ai792",text:"What do you call a $100 bill? 'Billi Bills'"},{id:"ai793",text:"This is the story of how I learned to love the weather."},{id:"ai794",text:"It's been a while since news tickers have been around as much as they are now, but that doesn't necessarily mean they're bad."},{id:"ai795",text:"Is this game just about getting more antimatter?"},{id:"ai796",text:"The third annual Adirondack Mountaineering Festival will be held this year on Saturday, October 1st from 1-5pm at the Albany Highlands in nearby Troy, New York. The 50,000 person capacity outdoor amphitheater will feature over 2,000 speakers, a stage and a 360 degree camera system. Tickets are $35 and can be purchased at angersalley.com."},{id:"ai797",text:"The whole bottom half of the universe is just a giant antimatter hole."},{id:"ai798",text:"A new prestige layer has been announced: Emojis!"},{id:"ai799",text:"Travis is currently attempting to understand how to make hevi immortal by feeding him antimatter."},{id:"ai800",text:"The slowmode is activated when the slowmode is activated."},{id:"ai801",text:"A new era of Warcraft has come to a close. A new epic has begun. A new avatar has risen from the depths of Tyria, and the Worm Cult has been dealt a cruel but necessary wound. The world is rejoicing."},{id:"ai802",text:"A crowd-sourced list of the top ten memes"},{id:"ai803",text:"You have to go deeper than the news ticker to find the secret achievements."},{id:"ai804",text:"We should be able to make a replicanti-like structure out of antimatter, but we can't because it would blow up the entire universe",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai805",text:"THe last update, while short, was kinda long. I mean, it was only 5 hours. Hevipelle said it would last for 5 hours, but that was only a few seconds ago. There was a big explosion in the 8th Dimension, and there was no one left to explain how it happened. All we know is that it exploded when Hevipelle touched it, and there was a big crater in the ground. That crater is still there."},{id:"ai806",text:"Cream cheese is the best kind of cheese. It melts in your mouth and tastes like nothing else. And it's totally free. You might even find that some of the recipes make more than one cheese."},{id:"ai807",text:"Here's a question that may surprise you: Were the people of EARTH made of antimatter, or were they made from some other mysterious material?"},{id:"ai808",text:"The real reason no one has made a joke about why there is no 9th dimension is because the 9th dimension isn't even the most ridiculous of memes. It's the 9th dimension in a nutshell."},{id:"ai809",text:"The number of dimensions is endless, but the number of ways to get there is infinities. Infinities are awesome and I would highly recommend you start with infinities, but I wouldn't recommend starting with infinities. Infinities seem pretty slow and not very fun so I wouldn't recommend starting with infinities."},{id:"ai810",text:'A report by the Pacific Northwest Toxics Institute has found that the consumption of fish concentrates in the liver, lungs, kidneys and brain. The study also found that the consumption of liver and kidney concentrates the most, followed closely by the brain. The report stated that "The brain is the place where all the wisdom and all the knowledge exists." The study also stated that "Liver is the living embodiment of all that we know and all that we don\'t."'},{id:"ai811",text:'The old adage "Be wary of what you wish for" is certainly true. But what if you were the one wishing for this? It\'s possible that you were the one who made the wish for this, and you gained the power of the Antimatter. In that case, you are the one responsible for causing all the Antimatter to be turned into anti-matter. However, if you are the one doing the turning, you would be the one who would lose the power.'},{id:"ai812",text:"Took you long enough"},{id:"ai813",text:"No, you see, the universe doesn't revolve around the earth. It's in a constant state of change, with the largest fluctuations occurring at the extremes of the observable universe. These fluctuations are what create the observable universe, with smaller fluctuations creating the observable universe and so on up until you get to the present state of affairs, which is what you are in."},{id:"ai814",text:"The biggest difference between the past and the future, is the difference between faith and reason."},{id:"ai815",text:"Hevi, you have to go."},{id:"ai816",text:"The challenge of finding the ninth dimension has been solved. The universe is now your personal hell."},{id:"ai817",text:"\"That's not how you're supposed to play the game\" - Mee6"},{id:"ai818",text:"It's Saturday, you're going to celebrate by making some really great music videos, maybe even a hit song. Then, you're going to take a walk along the beach. You'll see a huge wave, and you'll both be washed up. Your friends are waiting for you. \"Oh you want to go, take a look around!\", but don't actually go look around, you're too close to the action."},{id:"ai819",text:"Hevi has the best newsticker! GIVE HIM THE CRUNCH"},{id:"ai820",text:"By now you've seen a ton of news tickers, and you've probably seen the big news: The news ticker has been banned in this server."},{id:"ai821",text:"For example, if A is the square root of 3, then B is the square root of 2, therefore C is the square root of -2, therefore D is the cube root of -2, therefore E is the square root of 3, therefore F is the square root of 3, therefore G is the square root of 3, therefore and so on."},{id:"ai822",text:"Positrons are those tiny, round, highly charged particles that are found in the nucleus of most living organisms. They are used to detect light, and are sometimes used to measure the distance between people and the moon."},{id:"ai823",text:"There's only 4 types of people in this world: those who make games, those who make news, and those who make news again."},{id:"ai824",text:"If you have any questions or concerns regarding the game, please don't hesitate to ask. We are here to help."},{id:"ai825",text:"You must obtain a certain amount of antimatter in order to complete this challenge."},{id:"ai826",text:"The number of dimensions is nothing. It's just the number of dimensions. But what if you transformed every number into a letter? That would be a lot of letters?"},{id:"ai827",text:"The following is an extract from my upcoming book, More Than Just 5: Building a Better You. It's 200 pages long, and it's on Amazon for $22.99. Click here to buy it now."},{id:"ai828",text:"SOME people are claiming they saw a UFO in the sky. Others say they saw a spaceship. Still others claim to have been abducted by the government and flown to some undisclosed location."},{id:"ai829",text:"The second half of the game is basically just long, long stretches of nothing where nothing happens. There's also a third challenge that you have to complete at some point in the game where you basically just skip a few seconds of nothing happening until the seconds are too late and you have to complete another challenge to get them."},{id:"ai830",text:"This is a news ticker, so if you tap this you're indicating that you wish to have your news ticker speed increased."},{id:"ai831",text:'The following is based on my personal experience with the game "Antimatter Dimensions" and may not be 100% true.'},{id:"ai832",text:"This is the third part of the two part series on the pros and cons of body positivity."},{id:"ai833",text:'The phrases "Hevi dies in the 9th Dimension" and "I\'ll never let you down" are two of the most important phrases in the game.'},{id:"ai834",text:"It's been proven that not drinking water increases your risk of dying from antimatter annihilation."},{id:"ai835",text:"I'm a time traveler. I'm supposed to be going back in time to change history. But since I'm the one who's supposed to do it, I don't know what I should do. My present timeline doesn't include time that's supposed to be gone."},{id:"ai836",text:'A conference on artificial intelligence and human enhancement has been cancelled after someone announced that the talk was on how to turn a profit off of illegal downloads of the game "Antimatter Dimensions".'},{id:"ai837",text:'When you\'re done playing, take your save with you and go to main menu. You can do that by tapping the big scary "X" button, or by going into options and changing "Reset the game for new save" to "Reset the game for old save".'},{id:"ai838",text:"The most popular game on the App Store, Flappy Bird, has been secretly rewritten in C# to avoid detection."},{id:"ai839",text:"About this mod Replaces the full version of the game with a longer intro, random news tickers and a companion voiced by the voice actor from the Harry Potter movies."},{id:"ai840",text:"kajfik is a master welder and will soon have his own news"},{id:"ai841",text:"I am the most hated man on the planet! I have the power to change the course of history, and I will use it to my advantage. The people who died trying to stop me, and their sacrifice will forever be remembered in infinities of infinities. But if you oppose me, you will die along with you. You can either accept defeat and move on, or you can rise up through the ranks, become a legend, and become the most hated man in the history."},{id:"ai842",text:"Antimatter is like a young woman. She is looking for a man, and he runs into the woods. She dies of exposure soon after. His remains are found several miles away. Some say the universe was blown apart, others say he was swallowed by the universe, but the matter people know him!"},{id:"ai843",text:"I think I might have gotten the password for the 9th dimension, if only I hadn't deleted it."},{id:"ai844",text:'A group of people that worships Atreides have started a new faith, claiming to be a "religion of tolerance". Their website claims that it is "a religion of inclusion" and that it promotes tolerance and diversity. All of its members seem to be Christians, although they never mentioned them by name.'},{id:"ai845",text:"A new cryptocurrency, called ΔX, has been found. It has the potential to change everything about how we live our lives, and the world. However, it has one major flaw: it has a flaw for the people."},{id:"ai846",text:"With the release of the new Android Pay app, the world will finally come to a close."},{id:"ai847",text:"I'm not sure if it's just me but when you type something long enough it sounds like a helicopter"},{id:"ai848",text:'If someone were to add the word "infinity" to the end of every sentence in the English version of the game, it would become "Infinity Challenge: Infinity Edition".'},{id:"ai849",text:"Are you ready for some bad news?"},{id:"ai850",text:"I don't know if you've heard this but it's true: You can walk into a bar and get the same beer twice in a row, and get the same amount of alcohol."},{id:"ai851",text:"This is the magic sauce that marinades foods and turns them into something delicious. It is used in a wide variety of recipes, and can also be made by mixing together regular mustard and water. The sauce can be a little bit spicy, but it is well worth the risk. It is also very nutritious, providing lots of potassium, magnesium, and vitamin D3."},{id:"ai852",text:"IMPORTANT NEWS: We have just been informed by the manufacturer of this news-ticker, and as a result, all of our future news-tickers will now also be made from scratch!"},{id:"ai853",text:"The second half of the year is upon us, and with it comes a new craze. People are trying new things, experimenting with new products, and creating new things of themselves. One such craze has swept across the land. The people of this land have embraced this craze, and have created a new religion, one that worships the god of this land, Inigo Montoya."},{id:"ai854",text:"The official website for the upcoming game, Antimatter Dimensions 2: it's like antimatter dimensions, but with a dash of Discord and a dash of Adele."},{id:"ai855",get text(){return`Is the Big Crunch the end of the world? No, it's the beginning of a new era. The era will last for ${format(Number.MAX_VALUE,2)} days.`}},{id:"ai856",text:"The only 'right' way to play a game is to not play at all, right? That's what anti-jokes are all about. — Anti-joker"},{id:"ai857",text:"The Bulletin of the Atomic Scientists has just announced the existence of a second class of particles, which are named after the characters from Ghostbusters."},{id:"ai858",text:"We are currently in the process of turning the planet into a Comfort Zone for the people. It will be complete in 10 hours."},{id:"ai859",text:"I'm gonna leave my milk here for a couple seconds. ♥"},{id:"ai860",text:"And then there was Jesus, and Hevi, and Hevi was with Him; and the sea gave up its monthly cycle, and it was a great gale. And Hevi and Jesus went up into heaven; and Hevi was filled with the Holy Spirit. And Hevi was clothed with angels, and was numbered with them. And Hevi was taken up into heaven, and glorified and was exalted, and was numbered with them, and was called Wonderful; and His angels rejoiced."},{id:"ai861",text:"You will probably spend most of your day reading news ticker suggestions here."},{id:"ai862",text:"The Fremen race of animals are a race of people who live in harmony with the earth, and thus are quite different from the other races of animals. Their society is based around hunting and gathering, and they are also highly spiritual people. They have many beliefs and practices that are in direct contrast to most other races of animals, such as eating meat and using stone tools. They also seem to be quite superstitious, as evidenced by the fact that they are known to perform…"},{id:"ai863",text:"What if… the universe was just a ruse to keep the people in line? …actually, no, it was actually intended, the universe was designed to keep the people in line. The problem was the people couldn't handle the idea of an outside force manipulating their lives, and ended up breaking out into uncontrolled chaos, eventually leading to thermonuclear annihilation."},{id:"ai864",text:"If you're reading this, you probably shouldn't have. If you aren't, then you probably should."},{id:"ai865",text:"I'm a time traveler. I can tell you the history of the world. But, I can't tell you the future. That's why I'm here, to tell you the future. The future is an ever- expanding pile of past, present, and future, and it'll never stop growing. There's so much history, so little time. There's so much history, but it won't stop growing. Then, there's this, and then there's that, and then…"},{id:"ai866",text:"A new, improved and more secure version of Antimatter Dimensions is now available: Antimatter Dimensions 2."},{id:"ai867",text:"In the beginning, there was nothing. Then the great Hevi made the game, and there was nothing to play with it."},{id:"ai868",text:"Would you recommend Antimatter Dimensions to a friend? Yes"},{id:"ai869",text:'"We have 3 kinds of news: warnings, nudges and shade jokes.'},{id:"ai870",text:"I love you bro!"},{id:"ai871",text:"I'm going to keep this short, because I don't have a much to say."},{id:"ai872",text:"A large number of anti-kafawis are taking part in the Antimatter Goodies competition. Here's how you can win: 1. Make a suggestion 2. Give away the beta key 3. Tell me what you think about the game 4. Don't put it in the game yet (it's already there, you can't delete it) 5. Don't put it in the game yet (it's already in the game) 6. Don't put it in the game"},{id:"ai873",text:"THe recipe for Crispy Shrimp is one of the most unique and favorite of all time! Crispy shrimp are known to be one of the best in all of food! This recipe is a must try in your favorite Italian restaurant!"},{id:"ai874",text:"After you have made 1 antimatter, go to the menu and press reset."},{id:"ai875",text:"I think you know where this is going."},{id:"ai876",text:"The catch? You have to be online for less than 5 hours to claim your reward."},{id:"ai877",text:"Tetris was made by Hevi"},{id:"ai878",text:"What if instead of making antimatter, we're actually removing it?"},{id:"ai879",text:"The new instalment in the long running series, Antimatter Dimensions - Exotic Matter Dimensions. Experience the most bizarre and wonderful worlds of Antimatter Dimensions with your Friends, or conquer the world in a single galaxy with hundreds of rivals in a single galaxy, all in under an hour."},{id:"ai880",text:"I hope you're ready for the big news, because that's the big news. The antimatter is spilling all over the place, and it's blowing up the neighborhood."},{id:"ai881",text:"You must get 33,333,333 IP to see this message",get unlocked(){return Currency.infinityPoints.gte(33333333)}},{id:"ai882",text:"You might think these are jokes, but trust us, you'll be shocked how much you'll love them after you read them!"},{id:"ai883",text:"The God-Emperor himself, Hevi, the creator of balance, has a super secret achievement. It is to go flip your superflat apprenticed flatmate!"},{id:"ai884",text:"Sonic was born without a heart… but that didn't stop him from being a genius"},{id:"ai885",text:'The most common question I get is "can i just skip the ads and get true" and the answer is always a resounding NO. The reason being, ad revenue is just too damn high to overcome the cost of maintaining the servers, plus the fact that most players just don\'t care.'},{id:"ai886",text:"You haven't unlocked the ninth dimension yet? Just hold M and DROP."},{id:"ai887",text:"The Great Matter War was a close one. The matter victory was short lived, the antimatter victory was not. The matter people saw too much, the antimatter people too weak, and the war was won."},{id:"ai888",text:"Turing-complete game about providing the update"},{id:"ai889",text:"New research suggests that the more antimatter we make, the more matter we'll have"},{id:"ai890",text:"What is the meaning of life?"},{id:"ai891",text:"You have enough antimatter to craft a new prestige layer! Prestige Layers are great."},{id:"ai892",text:"The beta testers for Antimatter Dimensions 2 are the most loyal, most dedicated, and most implacable group of people I've ever met. They're also possibly the laziest, most self-indulgent bunch of people I've ever met."},{id:"ai893",text:"Shocking new study reveals that the more time you spend on the internet, the more likely you are to get starstruck."},{id:"ai894",text:"When you are done playing, and wish to play again, you should start a new game."},{id:"ai895",text:"I don't know about you, but I don't buy paperclips."},{id:"ai896",text:"Hevipelle uses replicanti to speed up game speed.",get unlocked(){return PlayerProgress.replicantiUnlocked()}},{id:"ai897",text:"So let's say you're making a game. You're making a singleton. You're making a game that's gonna be played offline. What happens when you play it? It crashes. What happens when you play it? It crashes more. What happens when you play it? You lose your save."},{id:"ai898",text:'This is what happens when you OVER-RELY on your "fake it til you make it" attitude.'},{id:"ai899",text:"This is the fifth part of a two-part series looking at how science and magic are linked. Part one will be published on 5 October, part two will be published on 24 October, and you can follow the journey at part three."},{id:"ai900",text:"What is 5 hours? A giggle"},{id:"ai901",text:"A new beta test is now available for Antimatter Dimensions, coming in 5 hours. There are no refunds for this test, so please be patient as we try to finalise the test and get it ready for the public. The test will take place in -5 hours in the Antimatter Dimensions Discord."},{id:"ai902",text:"The Night is coming, and in its wake a terrible thing has been unleashed: ruin. Chaos. And decay. And death. And chaos is coming for all of us."},{id:"ai903",text:"This article is a stub. You can help Deskthority by expanding it."},{id:"ai904",text:"A new, safer way to store and retrieve your data has been found! When you get to the AE, click on the big red button and the world will stop rotating!"},{id:"ai905",text:"Ooh, what's this noise? A crash of some sort? More like, a crash of some greater magnitude? I don't know. Whatever it is, it's probably not being caused by me. I shouldn't be putting it through, it's just… well, you see, I was going to put it through, but then I just thought it might be a good idea to just put it through. Oh, it's gonna be a good one, I promise."},{id:"ai906",text:'Last week, we reported that an unknown individual known only as "Anti-Doctor" has broken the game and claimed ownership of the game\'s data. Since then, he has spread the word that he has an "explosive new app" that will allow him to "turn [he] antimatter." However, no one has come forward with information on how to use the app, or even if it is a reality. We will update this article if and when we find out.'},{id:"ai907",text:"The second thing I'm gonna do is go talk to the Devs in person. I don't know if I'll be able to do that without pissing someone off, so I'm gonna do it right here."},{id:"ai908",text:'The great majority of people don\'t get the full benefit of antimatter dimensions, and as such are not affected by it. However, there are certain people who are affected and at certain times of the day, depending on their mood and how much antimatter they have, they will manifest a dimensional shift, going from being idle to being actively involved in news ticker suggestions. This shift is due to the antimatter in their body emitting a certain wavelength, called "red-shifted".'},{id:"ai909",text:"By now we all know the drill. You get a new prestige layer just by spending eternity with someone."},{id:"ai910",text:"The real reason that the 9th dimension exists is to keep us all imprisoned in a virtual reality simulation."},{id:"ai911",text:"Your PC is infected with a weird, floating virus that's trying to steal all your antimatter. There's no cure, so get offline now!"},{id:"ai912",text:"The year is 5303. Hevipelle, the creator of Antimatter Dimensions, has touched the ninth dimension."},{id:"ai913",text:'The phrase "Hevipelle hates me" is pretty funny.'},{id:"ai914",text:"The government shutdown has come and gone, the nation is still in a recession, and the Federal Reserve is still reading zero-hour contracts. The only thing that's getting better is your relationship with antimatter, obviously. It's been proven that knowing someone with an antimatter will bring you closer to extinction than any other kind of friend you can have."},{id:"ai915",text:"IMPORTANT NEWS: The developer Hevipelle has announced that Antimatter Dimensions: the game is now 100% free!"},{id:"ai916",text:'Someday, we shall come upon the day when a man will sit on the head of a dragon and call it a "Dragonball". Such a man would then go and perform the Dragon Ball Z: Battle Royale in which he would use Dragon Ball Z: Fusion to create a gigantic dragon that would then consume the universe in the process, thus creating a "Big Bang". Such a man would then be rewarded by being "built again" and sent back to the "Heavens".'},{id:"ai917",text:'"I think that the greatest achievement a man can make in his life is to say that he has read every single news ticker suggestion and nothing happened." - Kajfik'},{id:"ai918",text:"Titanfall 2 is now in closed beta. The beta is only for people who are willing to give up some personal information, such as email addresses. If you're in the beta and would like to leave, you can do so at any time by going to the Help tab and changing your beta settings to public."},{id:"ai919",text:"Personally I like to get a 4 or 5 star rating, it gives you an idea of how great your suggestion is and also shows me how much you care about the game. If you want I can also do a 6 star rating, which is fine with me. I don't care if people like it or not, I work for APG and I get paid to make money."},{id:"ai920",text:"The real reason no one talks about 9 is because it's not a big secret"},{id:"ai921",text:"The only difference between a man and a woman is their attitude towards petting animals."},{id:"ai922",text:"A number of recent television documentaries have featured the story of a dog named Louie. He was accidentally made a member of the public after his owner left the house. One day he decided to play 'Let's Play Let's Play' with his owner. He was immediately put to sleep."},{id:"ai923",text:"The entire history of the world, every single idea, every single failure, every single downfall, every single achievement has been covered in one fell swoop."},{id:"ai924",text:"This sentence contains two paradoxes."},{id:"ai925",get text(){return`The time has come to reveal the next expansion for Antimatter Dimensions: the ${format(Number.MAX_VALUE,2)}th Dimension. It will be released in -5 hours, it costs ${format(Number.MAX_VALUE,2)} human souls as of now, and it has nothing to do with matter or antimatter.`}},{id:"ai926",text:"I wonder what the fuss is about with the 4th dimension? Well, if you have 4 of them, and you multiply them by 0, then you get to the magical number of 4. That's why the 4th dimension exists. But what if there were 5? Well, the 5th dimension could replace the 4th dimension, so why not have a 5th dimension? Well, that's what the 6th, the 7th, and the 8th dimension are."},{id:"ai927",text:"You are using the wrong version! The reality update is already out! Press Ctrl+Shift+Alt+Del to unlock the 9th Dimension!"},{id:"ai928",text:"A man claims that he's been in a coma for 20 years now, and that he can't move his fingers. He was brought to the hospital with a compression fracture of his back, and since then he's been receiving medical help. He's since recovered, and now requires no medical attention. We still don't know where he's going with this, but we hope he finds some comfort in knowing that he'll never wake up."},{id:"ai929",text:"To move from left to right, turn right."},{id:"ai930",text:'Then we have the matter dimensions. From what I can gather, they are made of antimatter. There is some debate about whether or not there are any dimensions left over that are made out of matter, but that is not the main question. The real question is "why do they exist, and how does antimatter affect them?"'},{id:"ai931",text:"A new breed of mad scientist is believed to be creating antimatter at an alarming rate."},{id:"ai932",text:"A new kind of justice has been discovered: mass deception. It works by tricking the player into thinking that he/she has done something wrong, when in fact he/she has just done something perfectly normal, i.e. going about his/her daily life normally, without thinking about it."},{id:"ai933",text:"Dedicated to the great and wonderful man behind the curtain, the great and wonderful name rick roll. RIP, good man. May you rest in peace."},{id:"ai934",text:"For the last time, Antimatter Dimensions isn't a Clicker game."},{id:"ai935",text:"The number of dimensions is infinite, but the quality of your dimensions is limited. This is why we only produce the highest quality antimatter, and what makes us different from other factories."},{id:"ai936",text:"I've heard of prestige layers before but never sure what to do with them."},{id:"ai937",text:"A man walks into a bar. The bartender tells him to stay the heck out. The man continues walking."},{id:"ai938",text:"The oldest and maybe the most famous game in all of AD, that certainly will be remembered long after you retire, is AD. Ever heard of someone winning the game with more than 2 1's? I have. Ever heard of someone losing it? I have. Ever heard of a 9th dimension existing in AD? I have never."},{id:"ai939",text:"Greetings, I am the first step of the step ladder."},{id:"ai940",get text(){return`It's the year ${format(Number.MAX_VALUE,2)}, Hevi is still trying to figure out how to fix the update.`}},{id:"ai941",text:"What if you could stretch your legs and not lose them forever?"},{id:"ai942",text:"T he most important thing to realize is that you don't have to play the game to get the achievement. You can actually get it by just reading the achievement descriptions."},{id:"ai943",text:"A new bank has been set up to provide safe haven for cryptocurrencies."},{id:"ai944",text:"Google+ is known to be a hit with teens, and today, they got their very own virtual reality (VR) version of Animal Farm, the classic 1950's farm story. The game is a blend of adventure, strategy and music, and was made by a small team of people with an eye towards engaging young people. The game offers an alternative to most other VR games, and is suitable for anyone who is not comfortable with large, complicated, graphics and sounds. The game features over 50 different…"},{id:"ai945",text:"This game could be called anything. You could call it whatever you like. But you'd be wrong. It's mine."},{id:"ai946",text:"Where does all the antimatter come from?"},{id:"ai947",text:"The Tickspeed Challenge is a team based game where you have to time-travel to the Andromeda galaxy to reach the 9th Dimension, the 1st Dimension being the shortest distance to the 9th Dimension. There is no perk for reaching the 9th Dimension, you just have to time-travel to the Andromeda galaxy to reach the 9th Dimension, and you'll be granted with a secret achievement for achieving instant [REDACTED] with no time-travelling."},{id:"ai948",text:'This is the question that has been bothering me for so long. What is Antimatter? Is Antimatter an Antimatter? What does it mean when you say "Antimatter"? These are the kinds of questions that plague the Antimatter Dimensions…'},{id:"ai949",text:"The term 'Antimatter Dimensions' is a play on words that literally means 'Antimatter Dimensions' in the dictionary."},{id:"ai950",text:"I can suspend the laws of physics because I'm a genius and my universe is so big that I can literally suspend the laws of physics and create a universe that's twice as big as the current one and with twice the mass, i'm sure you can imagine how big that would be."},{id:"ai951",text:"When you are fighting a losing war, you make peace with the Powers That Be. You give up the ghost, and move on to the next challenge."},{id:"ai952",text:"Somewhere, in another galaxy, a superintelligence is trying to figure out how to get around the limitations of what a 2-dimensional vector space is. It's probably working on a 3-dimensional space."},{id:"ai953",text:'The antagonist of the last few minutes is the mysterious, antimatter-covered being known only as "The Man in Black." He was last seen running towards a news broadcast, seemingly lost, until he made it back to the news station and was interviewed about his experience. His story is told in the bottom right corner of the screen.'},{id:"ai954",text:"You have unlocked the 4th storyline."},{id:"ai955",text:'While you were busy farming that pesky "real" number, I was busy writing that news ticker.'},{id:"ai956",text:"A new power has arisen: the antimatter."},{id:"ai957",text:"The day has come. The antimatter is falling from the sky, and the streets are silent."},{id:"ai958",text:"The most important thing is to understand that you are playing a simulation. You can win or lose, but you can't get anything from it other than a little itch on your neck."},{id:"ai959",text:"The anti-snowman is a very special snowman. He's very timid, but has a very powerful wish to be picked up by a helicopter. The government doesn't want this to happen, so they lock him up in a special building and fly him over great distances. Finally, they drop him on the ground and begin to pick him up. The government didn't use force to pick him up, instead they invited the entire community in and started picking them up. The community refused."},{id:"ai960",text:"I'm surprised you didn't say \"Not my cup of anti-tea.\""},{id:"ai961",text:"I see you are a man of culture as well. I wonder what it is that draws you to speak in such an ungainly, tortured voice? What attracts you to speak in a language no one can understand? I hear your fans rave about your videos, but what draws you to this place? I feel like I know you. You are… you are a man of mystery. One that intrigues me…"},{id:"ai962",text:"Note: this is a private message. Do not send it in public."},{id:"ai963",text:"When you reach Infinity you unlock a new dimension: Pandemonium Dimensions. Go to the news ticker for more information."},{id:"ai964",get text(){return`Although the majority of players would say that the 9th dimension is not a thing, a handful of people would go and level it up in the most epic way imaginable. These people would use the power of the 9th dimension and achieve, like, ${format(Number.MAX_VALUE,2)} EP with it. No? Well, they are the exceptions to the rule.`},get unlocked(){return PlayerProgress.eternityUnlocked()}},{id:"ai965",text:'The story of the "perish the thought of dying" movement has been told before, but never quite accurately. The movement was originally organized by antievolutionists to stop the exponential growth of scientific notation, but soon spread to oppose any form of "progress". In its early days the movement was led by an enigmatic individual known only as "The Great Hevipelle". Their philosophy was simple: expand the possibilities of what is possible, and push the limits of what is tolerable.'},{id:"ai966",text:"This is the story of how the world ended. Earth was once a lush and green world. Then, some guy from outer space touched it and started growing mushrooms. He called himself Hevi. Some say Hevi was never satisfied. Some say he exploded. All we know is that Hevi is still out there expanding his reach, and we are stuck here in the void of space."},{id:"ai967",text:"Antimatter Dimensions, the only place where you can trade real estate for virtual reality"},{id:"ai968",text:"This page contains spoilers for Antimatter Dimensions, you've been warned."},{id:"ai969",text:"The best thing about being a news ticker is being able to slip into the news without anyone noticing."},{id:"ai970",text:"This paperclip maximizer is a great idea. It's probably best not to let it run its course though, since it's quite possibly the most amazing thing you've ever seen. If you've somehow survived the first phase of the paperclip dimension, you're probably wondering what it's doing in your home. Fortunately, it's super simple to fix. Just go to options, and change \"Max all\" to \"Always max all\"."},{id:"ai971",text:"A powerful wizard chose to channel negative energy into antimatter, and now the antimatter is spilling out into the world."},{id:"ai972",text:"A new age of ultra low-cost, ultra-fast trains has been announced by Elon Musk. Users will be able to travel from A to Z in a mere 186ms."},{id:"ai973",text:"A group of researchers at the University of Manchester have created a 3D printer that can create any object out of thin air, including a 3D-printed replica of the Virgin Mary."},{id:"ai974",text:"Alright, here's a new game called Antimatter Dimensions, it's like Matter Dimensions except with less stuff and more fun. It's available on Android, iOS, and web. The game is very simple: you take the 6 dimensions and the antimatter, and in the 6 dimensions you take the matter and in the matter you take the antimatter, and you play the game the same way you would any other game."},{id:"ai975",text:"What arbitrary, subjective, meaningless number comes out of your mouth like a mercury thermometer? 1.79"},{id:"ai976",text:'"Word on the street is that the word "bank" is an anagram of "bank" - that makes sense but i\'m not there yet" - Slabdrill'},{id:"ai977",text:"The 9th dimension rose up like a volcano and began raining destruction on the empty 10th dimension. The smoke and debris from the exploding 9th dimension covered the entire 9th dimension. All that is left is a smoldering crater and the remains of the 9th dimension."},{id:"ai978",text:"Help! How do I get the dots moving in my head coordinator?"},{id:"ai979",text:"Hi, could you please not disable the news ticker? Thank me later."},{id:"ai980",text:"If you are suffering from low antimatter production, then worry not, friend! Our highly scientific antimatter government has recently reached the ninth dimension and will soon begin giving us the Anti-Hats as a sign of respect!"},{id:"ai981",text:"You click the bottom left corner of the screen and a green tingle goes up your leg. It's a treat you get from scratching antimatter."},{id:"ai982",text:"A quick note to those of you who buy into the Analytics subscription: we get a small percentage of your antimatter sales, but you do pay a small amount of money to support the research of the news ticker. It's a small price to pay for the convenience of browsing antimatter dimensions."},{id:"ai983",text:"Why haven't we caused the antimatter stock market to crash yet?"},{id:"ai984",text:"Even after the Heavenly Pelle put a large amount of antimatter in the pool, it hasn't produced anything. The scientist who discovered the vulnerability was last seen climbing a tree in a group of 10, with a small notebook on his lap, drinking cheese juice and watching Nothing."},{id:"ai985",text:"One-two-three, boo-two-three, three-four-five, anti-four-five, two-three-eight, nine-fifteen, five-six-seven, eight-nine-ten, nine-ten-ten, seven-seventy-eight… All has been going fine until last night, when four of the eight neighbors start complaining about a strange glow. A odd hum runs through the neighborhood, almost like a radio static. It gets more and more intense as you drive by, until it's practically pitch black. You try to explain it to the neighbors, but they won't listen. The neighborhood is unsafe, everyone knows that. You analyze it further, everyone thinks it's just some astrophysicist's idea. Then, s---. It's explodium. There's antimatter everywhere, and it's getting worse all the time. It turns out, there's about 1e31 Planck volumes in the entire observable universe. And that's just the antimatter we're talking about. There's also dark matter, normal matter, and extra matter. You know, the kind you create with your imagination."},{id:"ai986",text:"If you ever feel like making an antijoke, just remember that it could be pretty good."},{id:"ai987",text:"You won't convince anyone to go to heaven, but you might get close."},{id:"ai988",text:"BREAKING NEWS: Hevipelle, the creator of the 9th dimension, has just announced that beta will be out in 5 hours!"},{id:"ai989",text:"The Force is with you."},{id:"ai990",text:"What if Jesus was an anti-matter ghost?"},{id:"ai991",text:"In the summer of 711, the Great Calamity overtook Tyria. A great void was made, and Tyria was left to rot. The armies of the known world had given up, and the void was filled with darkness. Only the might of Kajfik remained, and he rose to become the greatest God in the known world. He is said to be the one who will face the Great Calamity alone, and destroy him."},{id:"ai992",text:"In recent news clashes, the warlocks have been gathering looters for raid boss. He loves his 5 hour looters and wants to show off his mighty weapon of choice, the 9th Dimension. As the two beasts battle, the 1st dimension holder needs to be careful as the first one might get the same as the 2nd one as well. Meanwhile, the raid ends its journey with a bang as the boss squanders the Explodium exploit by flooding the area with Explodium, which before his, was filled with Marsh Mice. Both are promptly annihilated by the boss' relentless claw attacks. It's a grueling job, but the raid stalwarts manage to grab the stalagm and push him across the opal Gondwan . With the boss dead and the warlocks not far behind, the warlocks try their hand at farming looters, but the grinding continues apace. Things are looking bleak for the warlocks, as the boss seeks to take advantage of the people's greed, and steal their weaponry, making them unable to use any remaining of their  weapons, which are made of highly-stable antimatter. The warlocks attempt to use the no fluke policy as a weapon to smite the people, but the people take to the streets, physically attacking and mentally draining the people of all mental capacity they had been holding onto. The people resort to violence, using the 9th dimension just like they use to hold people back, but the people have faith in God that he will merciful, He will bring about a kinder and gentler time where everyone can use the last drop of their power."},{id:"ai993",text:"What if you wanted to but I told you it would be too painful for you."},{id:"ai994",text:"how big of numbers do you have"},{id:"ai995",text:"Just want to thank the dev team for putting so much effort into Antimatter Dimensions and the Antimatter Dimensions 2"},{id:"ai996",text:"Hevipelle has broken the 9th wall! Get ready for everything to get pretty dark."},{id:"ai997",get text(){return`The intergalactic antimatter trade has been severely disrupted, trading entire galaxies for the occasional paperclip. Cargo stands are no longer used. Oddly enough, the entire dimension has become a dumping ground for discarded plastic and other useless garbage. It's almost as if the rest of the multiverse isn't producing enough good  antiparticles to feed the growing population. Unfortunately, the situation is forcing the entire multiverse to scramble to find ways to meet the growing needs of the antimatter-eating  dev, who claims to have over ${format(Number.MAX_VALUE,2)} specimens left to collect.`}}],Ca=[{id:PROGRESS_STAGE.PRE_INFINITY,name:"Начало",hasReached:()=>!0,suggestedResource:"антиматерии",subProgressValue:e=>.33*e.galaxies+.02*e.dimensionBoosts+new Decimal(e.antimatter).log10()/16e3},{id:PROGRESS_STAGE.EARLY_INFINITY,name:"Бесконечность",hasReached:e=>new Decimal(e.infinities).gt(0),suggestedResource:"Очков Бесконечности",subProgressValue:e=>Math.clampMax(new Decimal(e.infinities).toNumber(),500)/1e3+Math.log10(15e4/player.auto.bigCrunch.interval)/6.35},{id:PROGRESS_STAGE.BREAK_INFINITY,name:"Преодоление Бесконечности",hasReached:e=>e.auto.bigCrunch.interval<=100,suggestedResource:"Очков Бесконечности",subProgressValue:e=>Math.sqrt(new Decimal(e.infinityPoints).log10()/145)},{id:PROGRESS_STAGE.REPLICANTI,name:"Репликанти",hasReached:e=>e.replicanti.unl,suggestedResource:"Очков Бесконечности",subProgressValue:e=>Math.sqrt((new Decimal(e.infinityPoints).log10()-140)/170)},{id:PROGRESS_STAGE.EARLY_ETERNITY,name:"Вечность",hasReached:e=>new Decimal(e.eternities).gt(0),suggestedResource:"Очков Вечности и вечностей",subProgressValue:e=>new Decimal(e.eternities).clampMax(1e5).toNumber()/1e5},{id:PROGRESS_STAGE.ETERNITY_CHALLENGES,name:"Испытания Вечности",hasReached:e=>e.eternityChalls.eterc1>0,suggestedResource:"выполнений Испытаний Вечности и Очков Вечности",subProgressValue:e=>.008*Object.values(e.eternityChalls).reduce(((e,t)=>e+t),0)+new Decimal(e.eternityPoints).log10()/2500},{id:PROGRESS_STAGE.EARLY_DILATION,name:"Замедление Времени",hasReached:e=>new Decimal(e.dilation.dilatedTime).gt(0),suggestedResource:"Замедленного Времени",subProgressValue:e=>new Decimal(e.dilation.dilatedTime).log10()/15},{id:PROGRESS_STAGE.LATE_ETERNITY,name:"Late Eternity",hasReached:e=>new Decimal(e.dilation.dilatedTime).gt(1e15),suggestedResource:()=>new Decimal(player.eternityPoints).log10()>4e3?"Очков Вечности и/или Замедленного Времени. Обратите внимание, что вам доступен новый слой престижа - реальность":"Очков Вечности и/или Замедленного Времени",subProgressValue:e=>Math.clampMax(Math.sqrt((new Decimal(e.eternityPoints).log10()-1300)/6700),1)},{id:PROGRESS_STAGE.EARLY_REALITY,name:"Реальность",hasReached:e=>e.realities>0,suggestedResource:()=>{if(player.realities>5)return"Машин Реальности";const e="в текущей реальности и Машин Реальности в долгосрочной перспективе";return player.eternities.eq(0)?`Очков Бесконечности ${e}`:player.dilation.dilatedTime.eq(0)?`Очков Вечности ${e}`:`Очков Вечности и/или Замедленного Времени ${e}`},subProgressValue:e=>Math.clampMax(e.realities/100,1)},{id:PROGRESS_STAGE.TERESA,name:"Тереза",hasReached:e=>{var t,i;return(null===(t=e.celestials)||void 0===t||null===(i=t.teresa)||void 0===i?void 0:i.quoteBits)>0},suggestedResource:"Машин Реальности",subProgressValue:e=>Math.log10(1+e.celestials.teresa.pouredAmount)/21},{id:PROGRESS_STAGE.EFFARIG,name:"Эффариг",hasReached:e=>{var t,i;return(null===(t=e.celestials)||void 0===t||null===(i=t.effarig)||void 0===i?void 0:i.quoteBits)>0},suggestedResource:"Машин Реальности и Реликтовых Осколков",subProgressValue:e=>Math.log10(1+e.celestials.effarig.relicShards)/14},{id:PROGRESS_STAGE.ENSLAVED,name:"Безымянные",hasReached:e=>{var t,i;return(null===(t=e.celestials)||void 0===t||null===(i=t.enslaved)||void 0===i?void 0:i.quoteBits)>0},suggestedResource:"Машин Реальности и уровни глифов",subProgressValue:e=>Math.sqrt((new Decimal(e.reality.realityMachines).log10()-30)/30)},{id:PROGRESS_STAGE.V,name:"Ви",hasReached:e=>{var t,i;return(null===(t=e.celestials)||void 0===t||null===(i=t.v)||void 0===i?void 0:i.quoteBits)>0},suggestedResource:"выполненных уровней достижений Ви",subProgressValue:e=>.0277*Object.values(e.celestials.v.runUnlocks).reduce(((e,t)=>e+t),0)},{id:PROGRESS_STAGE.RA,name:"Ра",hasReached:e=>{var t,i;return(null===(t=e.celestials)||void 0===t||null===(i=t.ra)||void 0===i?void 0:i.quoteBits)>0},suggestedResource:"Памяти Небожителей",subProgressValue:e=>Object.values(e.celestials.ra.pets).reduce(((e,t)=>e+t.level),0)/100},{id:PROGRESS_STAGE.IMAGINARY_MACHINES,name:"Мнимые Улучшения",hasReached:e=>{var t;return(null===(t=e.reality)||void 0===t?void 0:t.iMCap)>0},suggestedResource:"Мнимых Машин",subProgressValue:e=>Math.log10(1+e.reality.iMCap)/9},{id:PROGRESS_STAGE.LAITELA,name:"Лайтела",hasReached:e=>{var t,i;return(null===(t=e.celestials)||void 0===t||null===(i=t.laitela)||void 0===i?void 0:i.quoteBits)>0},suggestedResource:"Тёмной Материи и Сингулярностей",subProgressValue:e=>new Decimal(e.celestials.laitela.darkMatter).log10()/308.25},{id:PROGRESS_STAGE.PELLE,name:"Пелль",hasReached:e=>{var t,i;return null===(t=e.celestials)||void 0===t||null===(i=t.pelle)||void 0===i?void 0:i.doomed},suggestedResource:"Останков",subProgressValue:e=>Math.log10(1+e.celestials.pelle.remnants)/9}],Aa={dimPurchases:{key:"dimPurchases",cost:30,description:"Double all your Antimatter Dimension multipliers. Forever.",multiplier:e=>Math.pow(2,e),formatEffect:e=>`×${e>1e3?Notation.scientific.formatDecimal(new Decimal(e),2):e.toFixed(0)}`},allDimPurchases:{key:"allDimPurchases",cost:60,description:()=>{const e=["Antimatter"];return(InfinityDimension(1).isUnlocked||PlayerProgress.eternityUnlocked())&&e.push("Infinity"),PlayerProgress.eternityUnlocked()&&e.push("Time"),`Double ALL Dimension multipliers (${makeEnumeration(e)}; multiplicative until 32x). Forever.`},multiplier:e=>e>4?32+2*(e-5):Math.pow(2,e),formatEffect:e=>`×${e.toFixed(0)}`},IPPurchases:{key:"IPPurchases",cost:40,description:"Double your Infinity Point gain from all sources. (additive)",multiplier:e=>0===e?1:2*e,formatEffect:e=>`×${e.toFixed(0)}`,isUnlocked:()=>PlayerProgress.infinityUnlocked(),lockText:"Infinity"},replicantiPurchases:{key:"replicantiPurchases",cost:60,description:"Increase your Replicanti gain by 50%. (additive)",multiplier:e=>0===e?1:1+.5*e,formatEffect:e=>`×${e.toFixed(1)}`,isUnlocked:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked(),lockText:"Replicanti"},EPPurchases:{key:"EPPurchases",cost:50,description:"Triple your Eternity Point gain from all sources. (additive)",multiplier:e=>0===e?1:3*e,formatEffect:e=>`×${e.toFixed(0)}`,isUnlocked:()=>PlayerProgress.eternityUnlocked(),lockText:"Eternity"},dilatedTimePurchases:{key:"dilatedTimePurchases",cost:40,description:"Increase your Dilated Time gain by 50%. (additive)",multiplier:e=>0===e?1:1+.5*e,formatEffect:e=>`×${e.toFixed(1)}`,isUnlocked:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),lockText:"Dilation"},RMPurchases:{key:"RMPurchases",cost:60,description:"Increase your Reality Machine gain by 100%. (additive)",multiplier:e=>e+1,formatEffect:e=>`×${e.toFixed(0)}`,isUnlocked:()=>PlayerProgress.realityUnlocked(),lockText:"Reality"},smallTimeSkip:{key:"smallTimeSkip",cost:10,description:"Get 6 hours worth of offline production. (Autobuyers don't work at full speed)",instantPurchase:!0,onPurchase:()=>{shop.purchaseTimeSkip()}},bigTimeSkip:{key:"bigTimeSkip",cost:20,description:"Get 24 hours worth of offline production. (Autobuyers don't work at full speed)",instantPurchase:!0,onPurchase:()=>{shop.purchaseLongerTimeSkip()}},singleCosmeticSet:{key:"singleCosmeticSet",cost:20,description:"Unlock a Glyph cosmetic set of your choice",instantPurchase:!0,onPurchase:()=>{GameUI.notify.info(`You have purchased the "${GlyphAppearanceHandler.chosenFromModal.name}" Set for Glyph cosmetics!`,1e4),GlyphAppearanceHandler.chosenFromModal=null,GlyphAppearanceHandler.applyNotification()},isUnlocked:()=>PlayerProgress.realityUnlocked(),lockText:"Reality"},allCosmeticSets:{key:"allCosmeticSets",cost:()=>{const e=420,t=Object.keys(GameDatabase.reality.glyphCosmeticSets).length,i=GlyphAppearanceHandler.expectedSetCount;return Math.floor(e*(t-i)/t)},description:"Unlock all remaining Glyph cosmetic sets at once",instantPurchase:!0,onPurchase:()=>{GameUI.notify.info("You have unlocked all sets for Glyph cosmetics!",15e3),GlyphAppearanceHandler.applyNotification()},isUnlocked:()=>PlayerProgress.realityUnlocked(),lockText:"Reality"}};f&&delete Aa.allCosmeticSets;const ka=[{id:1,optionName:"Клякса",isAvailable:()=>Themes.available().map((e=>e.name)).includes("S11"),value:()=>new Decimal(1),formatValue:()=>"",formatClass:"o-sidebar-currency--antimatter"},{id:2,optionName:"Антиматерия",isAvailable:()=>!0,value:()=>Currency.antimatter.value,formatValue:e=>format(e,2,1),formatClass:"o-sidebar-currency--antimatter"},{id:3,optionName:"Очки Бесконечности",isAvailable:()=>PlayerProgress.infinityUnlocked(),value:()=>Currency.infinityPoints.value.floor(),formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--infinity"},{id:4,optionName:"Репликанти",isAvailable:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked(),value:()=>Replicanti.amount,formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--replicanti"},{id:5,optionName:"Очки Вечности",isAvailable:()=>PlayerProgress.eternityUnlocked(),value:()=>Currency.eternityPoints.value.floor(),formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--eternity"},{id:6,optionName:"Теоремы Времени (всего)",isAvailable:()=>PlayerProgress.eternityUnlocked(),value:()=>player.timestudy.theorem.plus(TimeTheorems.calculateTimeStudiesCost()),formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--eternity"},{id:7,optionName:"Тахионы",isAvailable:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),value:()=>Currency.tachyonParticles.value,formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--dilation"},{id:8,optionName:"Замедленное Время",isAvailable:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),value:()=>Currency.dilatedTime.value,formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--dilation"},{id:9,optionName:"Машины Реальности",isAvailable:()=>PlayerProgress.realityUnlocked(),value:()=>Currency.realityMachines.value,formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--reality"},{id:10,optionName:"Реликтовые Осколки",isAvailable:()=>TeresaUnlocks.effarig.isUnlocked,value:()=>new Decimal(Currency.relicShards.value),formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--effarig"},{id:11,optionName:"Мнимые Машины",isAvailable:()=>MachineHandler.isIMUnlocked,value:()=>new Decimal(Currency.imaginaryMachines.value),formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--reality"},{id:12,optionName:"Тёмная Материя",isAvailable:()=>Laitela.isUnlocked,value:()=>Currency.darkMatter,formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--laitela"},{id:13,optionName:"Тёмная Энергия",isAvailable:()=>Laitela.isUnlocked,value:()=>new Decimal(Currency.darkEnergy.value),formatValue:e=>format(e,2,2),formatClass:"o-sidebar-currency--laitela"},{id:14,optionName:"Сингулярности",isAvailable:()=>Laitela.isUnlocked,value:()=>new Decimal(Currency.singularities.value),formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--laitela"},{id:15,optionName:"Осколки Реальности",isAvailable:()=>Pelle.isDoomed,value:()=>Currency.realityShards,formatValue:e=>format(e,2),formatClass:"o-sidebar-currency--pelle"}],wa=[{id:1,key:"firstBoost",name:"Расширение Измерений",checkRequirement:()=>!0,checkEvent:GAME_EVENT.DIMBOOST_AFTER},{id:2,key:"firstGalaxy",name:"Галактика Антиматерии",checkRequirement:()=>!0,checkEvent:GAME_EVENT.GALAXY_RESET_AFTER},{id:3,key:"firstInfinity",name:"Бесконечность",checkRequirement:()=>!0,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:4,key:"completeC9",name:"9-е Обычное Испытание",checkRequirement:()=>NormalChallenge(9).isCompleted,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:5,key:"completeAllNC",name:"Все Обычные Испытания",checkRequirement:()=>0===NormalChallenges.all.countWhere((e=>!e.isCompleted)),checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:6,key:"breakInfinity",name:"Преодоление Бесконечности",checkRequirement:()=>player.break,checkEvent:GAME_EVENT.BREAK_INFINITY},{id:7,key:"upgrade5e11IP",get name(){return`Улучшение Преодоления за ${format(5e11)} ОБ`},checkRequirement:()=>!0},{id:8,key:"completeIC5",name:"5-е Испытание Бесконечности",checkRequirement:()=>InfinityChallenge(5).isCompleted,checkEvent:GAME_EVENT.BIG_CRUNCH_AFTER},{id:9,key:"unlockReplicanti",name:"Репликанти",checkRequirement:()=>player.replicanti.unl,checkEvent:GAME_EVENT.REPLICANTI_TICK_AFTER},{id:10,key:"firstEternity",name:"Вечность",checkRequirement:()=>!0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},{id:11,key:"allEternityMilestones",name:"Все Этапы Вечности",checkRequirement:()=>EternityMilestone.all.every((e=>e.isReached)),checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},{id:12,key:"completeFirstEC",name:"Испытание Вечности",checkRequirement:()=>EternityChallenges.completions>0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},{id:13,key:"completeEC10",name:"10-е Испытание Вечности",checkRequirement:()=>EternityChallenge(10).completions>0,checkEvent:GAME_EVENT.ETERNITY_RESET_AFTER},{id:14,key:"firstDilation",name:"Замедление Времени",checkRequirement:()=>player.dilation.active,checkEvent:GAME_EVENT.ETERNITY_RESET_BEFORE},{id:15,key:"upgradeTTgen",name:"Производство Теорем Времени",checkRequirement:()=>!0},{id:16,key:"firstReality",name:"Реальность",checkRequirement:()=>!0,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},{id:17,key:"upgradeBlackHole",name:"Чёрная Дыра",checkRequirement:()=>!0,checkEvent:GAME_EVENT.BLACK_HOLE_UNLOCKED},{id:18,key:"allRealityUpgrades",name:"Все Улучшения Реальности",checkRequirement:()=>RealityUpgrades.allBought,checkEvent:GAME_EVENT.REALITY_UPGRADE_BOUGHT},{id:19,key:"completeTeresaReality",name:"Реальность Терезы",checkRequirement:()=>Teresa.isRunning,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},{id:20,key:"completeEffarigReality",name:"Реальность Эффарига",checkRequirement:()=>Effarig.currentStage===EFFARIG_STAGES.COMPLETED,checkEvent:GAME_EVENT.REALITY_RESET_AFTER},{id:21,key:"completeEnslavedReality",name:"Реальность Безымянных",checkRequirement:()=>Enslaved.isRunning,checkEvent:GAME_EVENT.REALITY_RESET_BEFORE},{id:22,key:"complete36VAchievement",name:"Все достижения Ви",checkRequirement:()=>!0},{id:23,key:"completeRaMemories",name:"Полное восстановление Небожителей в памяти",checkRequirement:()=>Ra.totalPetLevel>=Ra.maxTotalPetLevel,checkEvent:GAME_EVENT.GAME_TICK_AFTER},{id:24,key:"completeFullDestabilize",name:"Полная дестабилизация Реальности Лайтелы",checkRequirement:()=>Laitela.isFullyDestabilized},{id:25,key:"completeFullGame",name:"Полное прохождение игры!",checkRequirement:()=>Achievement(188).isUnlocked,checkEvent:GAME_EVENT.ACHIEVEMENT_UNLOCKED}],Sa={firstInfinity:{id:0,tabsToHighLight:[{parent:"infinity",tab:"upgrades"},{parent:"challenges",tab:"normal"},{parent:"statistics",tab:"multipliers"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&!PlayerProgress.infinityUnlocked(),events:[GAME_EVENT.BIG_CRUNCH_BEFORE]},breakInfinity:{id:1,tabsToHighLight:[{parent:"infinity",tab:"break"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&Autobuyer.bigCrunch.hasMaxedInterval},IDUnlock:{id:2,tabsToHighLight:[{parent:"dimensions",tab:"infinity"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&!InfinityDimension(2).isUnlocked},ICUnlock:{id:3,tabsToHighLight:[{parent:"challenges",tab:"infinity"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()},replicanti:{id:4,tabsToHighLight:[{parent:"infinity",tab:"replicanti"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked()&&Currency.infinityPoints.gte(v.E140),events:[GAME_EVENT.BIG_CRUNCH_AFTER]},firstEternity:{id:5,tabsToHighLight:[{parent:"eternity",tab:"studies"},{parent:"eternity",tab:"milestones"},{parent:"eternity",tab:"upgrades"},{parent:"dimensions",tab:"time"}],condition:()=>!PlayerProgress.realityUnlocked()&&!PlayerProgress.eternityUnlocked(),events:[GAME_EVENT.ETERNITY_RESET_BEFORE]},dilationAfterUnlock:{id:6,tabsToHighLight:[{parent:"eternity",tab:"dilation"}],condition:()=>!PlayerProgress.realityUnlocked()},realityUnlock:{id:7,tabsToHighLight:[{parent:"eternity",tab:"studies"}],condition:()=>!PlayerProgress.realityUnlocked()&&TimeStudy.reality.canBeBought,events:[GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION,GAME_EVENT.OFFLINE_CURRENCY_GAINED,GAME_EVENT.ACHIEVEMENT_UNLOCKED]},blackHoleUnlock:{id:8,tabsToHighLight:[{parent:"reality",tab:"hole"}],condition:()=>!BlackHoles.areUnlocked&&Currency.realityMachines.gte(100),events:[GAME_EVENT.REALITY_RESET_AFTER]},automatorUnlock:{id:9,tabsToHighLight:[{parent:"automation",tab:"automator"}],condition:()=>Player.automatorUnlocked,events:[GAME_EVENT.REALITY_RESET_AFTER]},teresaUnlock:{id:10,tabsToHighLight:[{parent:"celestials",tab:"celestial-navigation"},{parent:"celestials",tab:"teresa"}],condition:()=>0===player.celestials.teresa.pouredAmount&&Teresa.isUnlocked,events:[GAME_EVENT.REALITY_UPGRADE_BOUGHT]},alchemyUnlock:{id:11,tabsToHighLight:[{parent:"reality",tab:"glyphs"},{parent:"reality",tab:"alchemy"}],condition:()=>player.celestials.ra.pets.effarig.level>=2,events:[GAME_EVENT.GAME_TICK_AFTER]},newAutobuyer:{id:12,tabsToHighLight:[{parent:"automation",tab:"autobuyers"}],condition:()=>!Pelle.isDoomed},imaginaryMachineUnlock:{id:13,tabsToHighLight:[{parent:"reality",tab:"imag_upgrades"}],condition:()=>MachineHandler.isIMUnlocked,events:[GAME_EVENT.GAME_TICK_AFTER]},laitelaUnlock:{id:14,tabsToHighLight:[{parent:"celestials",tab:"laitela"}],condition:()=>!0},pelleUnlock:{id:15,tabsToHighLight:[{parent:"celestials",tab:"pelle"}],condition:()=>!0},newGlyphCosmetic:{id:16,tabsToHighLight:[{parent:"reality",tab:"glyphs"}],condition:()=>!0}},xa=[{key:"dimensions",name:"Измерения",hideAt:2.9,id:0,hidable:!0,subtabs:[{key:"antimatter",name:"Измерения Антиматерии",symbol:"Ω",component:"AntimatterDimensionsTab",id:0,hidable:!0},{key:"infinity",name:"Измерения Бесконечности",hideAt:2.7,symbol:"∞",component:"InfinityDimensionsTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||InfinityDimension(1).isUnlocked,id:1,hidable:!0},{key:"time",name:"Измерения Времени",hideAt:2.6,symbol:"Δ",component:"TimeDimensionsTab",condition:()=>PlayerProgress.eternityUnlocked(),id:2,hidable:!0}]},{key:"options",name:"Настройки",hideAt:1.6,id:1,hidable:!1,subtabs:[{key:"saving",name:"Сохранение",symbol:"<i class='fas fa-save'></i>",component:"OptionsSavingTab",id:0,hidable:!1},{key:"visual",name:"Внешний вид",symbol:"<i class='fas fa-palette'></i>",component:"OptionsVisualTab",id:1,hidable:!1},{key:"gameplay",name:"Геймплей",symbol:"<i class='fas fa-wrench'></i>",component:"OptionsGameplayTab",id:2,hidable:!1}]},{key:"statistics",name:"Статистика",hideAt:1.7,id:2,hidable:!0,subtabs:[{key:"statistics",name:"Статистика",symbol:"<i class='fas fa-clipboard-list'></i>",component:"StatisticsTab",id:0,hidable:!0},{key:"challenges",name:"Рекорды испытаний",symbol:"<i class='fas fa-stopwatch'></i>",component:"ChallengeRecordsTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.challengeCompleted(),id:1,hidable:!0},{key:"prestige runs",name:"Последние престижи",symbol:"<i class='fas fa-list-ol'></i>",component:"PastPrestigeRunsTab",condition:()=>PlayerProgress.infinityUnlocked(),id:2,hidable:!0},{key:"multipliers",name:"Анализатор эффектов",symbol:"<i class='fas fa-calculator'></i>",component:"MultiplierBreakdownTab",condition:()=>PlayerProgress.infinityUnlocked(),id:3,hidable:!0},{key:"glyph sets",name:"Лучшие наборы глифов",symbol:"<i class='fas fa-ellipsis-h'></i>",component:"GlyphSetRecordsTab",condition:()=>PlayerProgress.realityUnlocked(),id:4,hidable:!0},{key:"speedrun milestones",name:"Стадии спидрана",symbol:"<i class='fas fa-flag-checkered'></i>",component:"SpeedrunMilestonesTab",condition:()=>player.speedrun.isActive,id:5,hidable:!0},{key:"speedrun records",name:"Прошлые забеги",symbol:"<i class='fas fa-ranking-star'></i>",component:"PreviousSpeedrunTab",condition:()=>Object.keys(player.speedrun.previousRuns).length>0,id:6,hidable:!0}]},{key:"achievements",name:"Достижения",hideAt:1.9,id:3,hidable:!0,subtabs:[{key:"normal",name:"Достижения",symbol:"<i class='fas fa-trophy'></i>",component:"NormalAchievementsTab",id:0,hidable:!0},{key:"secret",name:"Секретные достижения",symbol:"<i class='fas fa-question'></i>",component:"SecretAchievementTab",id:1,hidable:!0}]},{key:"automation",name:"Автоматизация",id:4,hideAt:2.1,condition:()=>player.records.totalAntimatter.gte(1e40),hidable:!0,subtabs:[{key:"autobuyers",name:"Автоматика",symbol:"<i class='fas fa-cog'></i>",component:"AutobuyersTab",id:0,hidable:!0},{key:"automator",name:"Автоматизатор",symbol:"<i class='fas fa-code'></i>",component:"AutomatorTab",condition:()=>PlayerProgress.realityUnlocked(),id:1,hidable:!0}]},{key:"challenges",name:"Испытания",hideAt:2,condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:5,hidable:!0,subtabs:[{key:"normal",name:"Обычные Испытания",symbol:"Ω",component:"NormalChallengesTab",id:0,hidable:!0},{key:"infinity",name:"Испытания Бесконечности",symbol:"∞",component:"infinity-challenges-tab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.hasBroken()||Pelle.isDoomed,id:1,hidable:!0},{key:"eternity",name:"Испытания Вечности",symbol:"Δ",component:"eternity-challenges-tab",condition:()=>PlayerProgress.realityUnlocked()||0!==player.challenge.eternity.unlocked||EternityChallenges.all.some((e=>e.completions>0)),id:2,hidable:!0}]},{key:"infinity",name:"Бесконечность",hideAt:2.2,UIClass:"o-tab-btn--infinity",before:"InfinityPointsHeader",id:6,condition:()=>PlayerProgress.infinityUnlocked(),hidable:!0,subtabs:[{key:"upgrades",name:"Улучшения Бесконечности",symbol:"<i class='fas fa-arrow-up'></i>",component:"InfinityUpgradesTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:0,hidable:!0},{key:"break",name:"Преодоление Бесконечности",symbol:"∝",component:"BreakInfinityTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:1,hidable:!0},{key:"replicanti",name:"Репликанти",symbol:"Ξ",component:"ReplicantiTab",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked()||PlayerProgress.infinityUnlocked(),id:2,hidable:!0}]},{key:"eternity",name:"Вечность",hideAt:1.8,UIClass:"o-tab-btn--eternity",condition:()=>PlayerProgress.realityUnlocked()||PlayerProgress.eternityUnlocked(),before:"EternityPointsHeader",id:7,hidable:!0,subtabs:[{key:"studies",name:"Исследования Времени",symbol:"<i class='fas fa-book'></i>",component:"TimeStudiesTab",id:0,hidable:!0},{key:"upgrades",name:"Улучшения Вечности",symbol:"<i class='fas fa-arrow-up'></i>",component:"EternityUpgradesTab",id:1,hidable:!0},{key:"milestones",name:"Этапы Вечности",symbol:"<i class='fas fa-star'></i>",component:"EternityMilestonesTab",id:2,hidable:!0},{key:"dilation",name:"Замедление Времени",symbol:"Ψ",component:"TimeDilationTab",condition:()=>PlayerProgress.dilationUnlocked()||PlayerProgress.realityUnlocked(),id:3,hidable:!0}]},{key:"reality",name:"Реальность",hideAt:2.3,UIClass:"o-tab-btn--reality",condition:()=>PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,id:8,hidable:!0,subtabs:[{key:"glyphs",name:"Глифы",symbol:"<i class='fas fa-clone'></i>",component:"GlyphsTab",id:0,hidable:!0},{key:"upgrades",name:"Улучшения Реальности",symbol:"<i class='fas fa-arrow-up'></i>",component:"RealityUpgradesTab",id:1,hidable:!0},{key:"imag_upgrades",name:"Мнимые Улучшения",symbol:"<i class='fas fa-level-up-alt'></i>",component:"ImaginaryUpgradesTab",condition:()=>MachineHandler.isIMUnlocked,id:2,hidable:!0},{key:"perks",name:"Навыки",symbol:"<i class='fas fa-project-diagram'></i>",component:"PerksTab",id:3,hidable:!0},{key:"hole",name:"Чёрная Дыра",symbol:"<i class='fas fa-circle'></i>",component:"BlackHoleTab",condition:()=>PlayerProgress.realityUnlocked(),id:4,hidable:!0},{key:"alchemy",name:"Алхимия",symbol:"<i class='fas fa-vial'></i>",component:"AlchemyTab",condition:()=>Ra.unlocks.unlockGlyphAlchemy.canBeApplied,id:5,hidable:!0}]},{key:"celestials",name:"Небожители",hideAt:2.4,UIClass:"o-tab-btn--celestial",condition:()=>Teresa.isUnlocked,id:9,hidable:!0,subtabs:[{key:"celestial-navigation",name:"Карта неба",symbol:"<i class='fas fa-map-marked-alt'></i>",component:"CelestialNavigationTab",id:0,hidable:!0},{key:"teresa",name:"Тереза",symbol:"Ϟ",component:"TeresaTab",id:1,hidable:!0},{key:"effarig",name:"Эффариг",symbol:"Ϙ",component:"EffarigTab",condition:()=>TeresaUnlocks.effarig.isUnlocked,id:2,hidable:!0},{key:"enslaved",name:"Безымянные",symbol:"<div class='o-tab-btn--cel3'></div>",component:"EnslavedTab",condition:()=>EffarigUnlock.eternity.isUnlocked,id:3,hidable:!0},{key:"v",name:"Ви",symbol:"⌬",component:"VTab",condition:()=>Achievement(151).isUnlocked,id:4,hidable:!0},{key:"ra",name:"Ра",symbol:"<i class='fas fa-sun'></i>",component:"RaTab",condition:()=>VUnlocks.raUnlock.isUnlocked,id:5,hidable:!0},{key:"laitela",name:"Лайтела",symbol:"ᛝ",component:"LaitelaTab",condition:()=>Laitela.isUnlocked,id:6,hidable:!0},{key:"pelle",name:"Пелль",symbol:"♅",component:"PelleTab",condition:()=>Pelle.isUnlocked,id:7,hidable:!0}]},{key:"shop",name:"Shop",newUIClass:"shop",hideAt:1.5,condition:()=>Cloud.isAvailable,id:10,hidable:!0,subtabs:[{key:"shop",name:"Shop",symbol:"$",component:"ShopTab",id:0,hidable:!0}]}],Ia={achievements:Ge,awayProgressTypes:Ne,catchupResources:Be,celestials:Yi,challenges:Ki,changelog:Qi,confirmationTypes:Ji,credits:Zi,discordRichPresence:ia,eternity:pa,h2p:ma,infinity:Ea,multiplierTabTree:we,multiplierTabValues:Te,news:_a,progressStages:Ca,reality:te,sidebarResources:ka,shopPurchases:Aa,speedrunMilestones:wa,tabNotifications:Sa,tabs:xa};window.GameDatabase=Ia,window.mapGameData=function(e,t){const i=[];for(const a of e)i[a.id]=t(a);return i},window.mapGameDataToObject=function(e,t){const i=Object.entries(e),a={};for(let n=0;n<i.length;n++)a[i[n][0]]=t(i[n][1]);return{all:Object.values(a),...a}};var Ma=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-block-editor--container"},[i("div",{ref:"editorGutter",staticClass:"c-automator-block-editor--gutter"},e._l(e.numberOfLines,(function(t){return i("div",{key:t,staticClass:"c-automator-block-line-number",style:{top:3.45*(t-1)+"rem"}},[e._v(" "+e._s(t)+" ")])})),0),i("div",{ref:"blockEditorElement",staticClass:"c-automator-block-editor",on:{scroll:function(t){return e.setPreviousScroll()}}},[i("draggable",{staticClass:"c-automator-blocks",attrs:{group:"code-blocks","ghost-class":"c-automator-block-row-ghost"},on:{end:e.parseRequest},model:{value:e.lines,callback:function(t){e.lines=t},expression:"lines"}},e._l(e.lines,(function(t,a){return i("AutomatorBlockSingleRow",{key:t.id+1e4*a,attrs:{block:t,"update-block":e.updateBlock,"delete-block":e.deleteBlock}})})),1)],1)])},Da=[],Pa=i(432),Ua=i.n(Pa),Ga=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-block-row--container"},[i("div",{staticClass:"c-automator-block-row",class:e.highlightClass()},[i("AutomatorBlockSingleInput",{attrs:{constant:e.b.alias?e.b.alias:e.b.cmd,block:e.b,"update-function":e.updateBlock}}),e.b.canWait?i("AutomatorBlockSingleInput",{attrs:{block:e.b,"block-target":"nowait","initial-selection":e.b.nowait?"NOWAIT":"","update-function":e.updateBlock}}):e._e(),e.b.canRespec?i("AutomatorBlockSingleInput",{attrs:{block:e.b,"block-target":"respec","initial-selection":e.b.respec?"RESPEC":"","update-function":e.updateBlock}}):e._e(),e.b.allowedPatterns?i("AutomatorBlockSingleInput",{attrs:{block:e.b,"block-target":e.b.targets[0],patterns:e.b.allowedPatterns,"initial-selection":e.nextSelection(),"update-function":e.updateBlock,recursive:!0}}):e._e(),i("div",{staticClass:"o-automator-block-delete",on:{click:function(t){return e.removeBlock(e.b.id)}}},[e._v(" X ")])],1),e.block.nested?i("draggable",{staticClass:"l-automator-nested-block",attrs:{group:"code-blocks"},model:{value:e.block.nest,callback:function(t){e.$set(e.block,"nest",t)},expression:"block.nest"}},e._l(e.block.nest,(function(t){return i("AutomatorBlockSingleRow",{key:t.id,attrs:{block:t,"update-block":e.updateBlockFromNest,"delete-block":e.deleteBlockFromNest}})})),1):e._e()],1)},Na=[],Ba=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-single-block"},[e.displayedConstant?i("div",{staticClass:"c-automator-single-block o-automator-command c-automator-constant-block",class:{"l-blob":"BLOB"===e.constant}},[e._v(" "+e._s(e.displayedConstant)+" ")]):e.isTextInput?i("div",{staticClass:"c-automator-text-input-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.textContents,expression:"textContents"},{name:"tooltip",rawName:"v-tooltip",value:e.errorTooltip(),expression:"errorTooltip()"}],class:e.textInputClassObject(),domProps:{value:e.textContents},on:{keyup:function(t){return e.changeBlock()},focusin:function(t){return e.handleFocus(!0)},focusout:function(t){return e.handleFocus(!1)},input:function(t){t.target.composing||(e.textContents=t.target.value)}}}),e.dropdownOptions.length>1?i("div",{staticClass:"c-automator-close-text-input fa-solid fa-circle-xmark",on:{click:e.revertToDropdown}}):e._e()]):i("select",{directives:[{name:"model",rawName:"v-model",value:e.dropdownSelectionRussian,expression:"dropdownSelectionRussian"}],class:e.dropdownClassObject(),on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.dropdownSelectionRussian=t.target.multiple?i:i[0]},function(t){return e.changeBlock()}]}},e._l([""].concat(e.dropdownOptionsRussian),(function(t){return i("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),e.recursive&&e.nextNodeCount>0?i("AutomatorBlockSingleInput",{key:e.currentNodeOnPath,attrs:{constant:e.unknownNext?"...":"",block:e.block,"block-target":e.nextInputKey,patterns:e.patterns,"initial-selection":e.nextInputValue,"update-function":e.updateFunction,recursive:!0,"current-path":e.currentPath+e.currentNodeOnPath}}):e._e()],1)},Oa=[],La=(i(8642),i(6590),i(9432),i(1419));const $a=e=>(0,La.createToken)({name:e,pattern:La.Lexer.NA,longer_alt:Ka}),Ha={},Fa=(e,t,i,a={})=>{const n=[e];a.extraCategories&&n.push(...a.extraCategories);const s=(0,La.createToken)({name:t,pattern:i,categories:n,longer_alt:Ka}),r=Array.isArray(e)?e[0].name:e.name;void 0===Ha[r]&&(Ha[r]=[]),Ha[r].push(s);const o=i.toString().match(/^\/([a-zA-Z0-9]*)\/[a-zA-Z]*$/iu);return o&&o[1]&&(s.$autocomplete=o[1]),Object.assign(s,a),s},qa=(0,La.createToken)({name:"HSpace",pattern:/[ \t]+/,group:La.Lexer.SKIPPED}),Va=(0,La.createToken)({name:"EOL",line_breaks:!0,pattern:/[ \t\r]*\n\s*/,label:"End of line"}),Ya=(0,La.createToken)({name:"StringLiteral",pattern:/".*"/}),ja=(0,La.createToken)({name:"StringLiteralSingleQuote",pattern:/'.*'/}),Wa=(0,La.createToken)({name:"Comment",pattern:/(#|\/\/)[^\n]*/}),Xa=(0,La.createToken)({name:"NumberLiteral",pattern:/-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?/}),za=(0,La.createToken)({name:"BlackHoleStr",pattern:/[Bb][Hh][12]/}),Ka=(0,La.createToken)({name:"Identifier",pattern:/[a-zA-Z_][a-zA-Z_0-9]*/}),Qa=(0,La.createToken)({name:"ComparisonOperator",pattern:La.Lexer.NA}),Ja=$a("AutomatorCurrency"),Za=$a("PrestigeEvent"),en=$a("StudyPath"),tn=$a("TimeUnit");Fa(Qa,"OpGTE",/>=/,{$autocomplete:">=",$compare:(e,t)=>Decimal.gte(e,t)}),Fa(Qa,"OpLTE",/<=/,{$autocomplete:"<=",$compare:(e,t)=>Decimal.lte(e,t)}),Fa(Qa,"OpGT",/>/,{$autocomplete:">",$compare:(e,t)=>Decimal.gt(e,t)}),Fa(Qa,"OpLT",/</,{$autocomplete:"<",$compare:(e,t)=>Decimal.lt(e,t)});const an=Fa(Qa,"OpEQ",/==/,{$compare:(e,t)=>Decimal.eq(e,t)}),nn=(0,La.createToken)({name:"EqualSign",pattern:/=/,categories:Qa,label:"=",longer_alt:an});nn.$compare=(e,t)=>Decimal.eq(e,t),Fa(Ja,"EP",/ep/i,{$getter:()=>Currency.eternityPoints.value}),Fa(Ja,"IP",/ip/i,{$getter:()=>Currency.infinityPoints.value}),Fa(Ja,"AM",/am/i,{$getter:()=>Currency.antimatter.value}),Fa(Ja,"DT",/dt/i,{$getter:()=>Currency.dilatedTime.value}),Fa(Ja,"TP",/tp/i,{$getter:()=>Currency.tachyonParticles.value}),Fa(Ja,"RG",/rg/i,{$getter:()=>new Decimal(Replicanti.galaxies.total)}),Fa(Ja,"RM",/rm/i,{$getter:()=>Currency.realityMachines.value}),Fa(Ja,"infinities",/infinities/i,{$getter:()=>Currency.infinities.value}),Fa(Ja,"bankedInfinities",/banked[ \t]+infinities/i,{$autocomplete:"banked infinities",$getter:()=>Currency.infinitiesBanked.value}),Fa(Ja,"eternities",/eternities/i,{$getter:()=>Currency.eternities.value}),Fa(Ja,"realities",/realities/i,{$getter:()=>Currency.realities.value}),Fa(Ja,"PendingIP",/pending[ \t]+ip/i,{$autocomplete:"pending IP",$getter:()=>Player.canCrunch?gainedInfinityPoints():v.D0}),Fa(Ja,"PendingEP",/pending[ \t]+ep/i,{$autocomplete:"pending EP",$getter:()=>Player.canEternity?gainedEternityPoints():v.D0}),Fa(Ja,"PendingTP",/pending[ \t]+tp/i,{$autocomplete:"pending TP",$getter:()=>player.dilation.active?getTachyonGain():v.D0}),Fa(Ja,"PendingRM",/pending[ \t]+rm/i,{$autocomplete:"pending RM",$getter:()=>isRealityAvailable()?MachineHandler.gainedRealityMachines:v.D0}),Fa(Ja,"PendingGlyphLevel",/pending[ \t]+glyph[ \t]+level/i,{$autocomplete:"pending Glyph level",$getter:()=>new Decimal(isRealityAvailable()?gainedGlyphLevel().actualLevel:0)}),Fa(Ja,"Rep",/rep(licanti)?/i,{$autocomplete:"rep",$getter:()=>Replicanti.amount}),Fa(Ja,"TT",/(tt|time theorems?)/i,{$autocomplete:"TT",$getter:()=>Currency.timeTheorems.value}),Fa(Ja,"TotalTT",/total[ \t]+tt/i,{$autocomplete:"total TT",$getter:()=>player.timestudy.theorem.plus(TimeTheorems.calculateTimeStudiesCost())}),Fa(Ja,"TotalCompletions",/total[ \t]+completions/i,{$autocomplete:"total completions",$getter:()=>EternityChallenges.completions}),Fa(Ja,"PendingCompletions",/pending[ \t]+completions/i,{$autocomplete:"pending completions",$getter:()=>EternityChallenge.isRunning?EternityChallenge.current.gainedCompletionStatus.totalCompletions:Decimal.NUMBER_MAX_VALUE}),Fa(Ja,"FilterScore",/filter[ \t]+score/i,{$autocomplete:"filter score",$getter:()=>{if(!EffarigUnlock.glyphFilter.isUnlocked)return-Number.MAX_VALUE;const e=GlyphSelection.glyphList(GlyphSelection.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1}),t=AutoGlyphProcessor.pick(e);return AutoGlyphProcessor.filterValue(t)},$unlocked:()=>EffarigUnlock.glyphFilter.isUnlocked}),Fa(Ja,"ST",/space[ \t]+theorems/i,{$autocomplete:"space theorems",$getter:()=>V.availableST,$unlocked:()=>V.spaceTheorems>0}),Fa(Ja,"TotalST",/total[ \t]+space[ \t]+theorems/i,{$autocomplete:"total space theorems",$getter:()=>V.spaceTheorems,$unlocked:()=>V.spaceTheorems>0});for(let V=1;V<=12;++V){const e=V;Fa(Ja,`EC${V}`,new RegExp(`ec${V} completions`,"i"),{$autocomplete:`ec${V} completions`,$getter:()=>EternityChallenge(e).completions})}Fa(Za,"Infinity",/infinity/i,{extraCategories:[en],$autobuyer:()=>Autobuyer.bigCrunch,$autobuyerDurationMode:AUTO_CRUNCH_MODE.TIME,$autobuyerXHighestMode:AUTO_CRUNCH_MODE.X_HIGHEST,$autobuyerCurrencyMode:AUTO_CRUNCH_MODE.AMOUNT,$prestigeAvailable:()=>Player.canCrunch,$prestige:()=>bigCrunchResetRequest(!0),$prestigeLevel:1,$prestigeCurrency:"IP",$studyPath:TIME_STUDY_PATH.INFINITY_DIM}),Fa(Za,"Eternity",/eternity/i,{$autobuyer:()=>Autobuyer.eternity,$autobuyerDurationMode:AUTO_ETERNITY_MODE.TIME,$autobuyerXHighestMode:AUTO_ETERNITY_MODE.X_HIGHEST,$autobuyerCurrencyMode:AUTO_ETERNITY_MODE.AMOUNT,$prestigeAvailable:()=>Player.canEternity,$prestigeLevel:2,$prestigeCurrency:"EP",$prestige:()=>eternity(!1,!0),$respec:()=>{player.respec=!0}}),Fa(Za,"Reality",/reality/i,{$autobuyer:()=>Autobuyer.reality,$autobuyerCurrencyMode:AUTO_REALITY_MODE.RM,$prestigeAvailable:()=>isRealityAvailable(),$prestigeLevel:3,$prestigeCurrency:"RM",$prestige:()=>autoReality(),$respec:()=>{player.reality.respec=!0}}),Fa(en,"Idle",/idle/i,{$studyPath:TIME_STUDY_PATH.IDLE}),Fa(en,"Passive",/passive/i,{$studyPath:TIME_STUDY_PATH.PASSIVE}),Fa(en,"Active",/active/i,{$studyPath:TIME_STUDY_PATH.ACTIVE}),Fa(en,"Antimatter",/antimatter/i,{$studyPath:TIME_STUDY_PATH.ANTIMATTER_DIM}),Fa(en,"Time",/time/i,{$studyPath:TIME_STUDY_PATH.TIME_DIM}),Fa(en,"Light",/light/i,{$studyPath:TIME_STUDY_PATH.LIGHT}),Fa(en,"Dark",/dark/i,{$studyPath:TIME_STUDY_PATH.DARK}),Fa(tn,"Milliseconds",/ms/i,{$autocomplete:"ms",$scale:1}),Fa(tn,"Seconds",/s(ec(onds?)?)?/i,{$autocomplete:"sec",$scale:1e3}),Fa(tn,"Minutes",/m(in(utes?)?)?/i,{$autocomplete:"min",$scale:6e4}),Fa(tn,"Hours",/h(ours?)?/i,{$autocomplete:"hours",$scale:36e5});const sn=(0,La.createToken)({name:"Keyword",pattern:La.Lexer.NA,longer_alt:Ka}),rn=[],on=(e,t,i={})=>{const a=[sn];i.extraCategories&&a.push(...i.extraCategories);const n=(0,La.createToken)({name:e,pattern:t,categories:a,longer_alt:Ka});return n.$autocomplete=e.toLocaleLowerCase(),rn.push(n),Object.assign(n,i),n};on("Auto",/auto/i),on("Buy",/buy/i),on("Blob",/blob\s\s/i,{$unlocked:()=>!1}),on("If",/if/i),on("Load",/load/i),on("Notify",/notify/i),on("Nowait",/nowait/i),on("Off",/off/i),on("On",/on/i),on("Pause",/pause/i),on("Name",/name([ \t]+(\/(?!\/)|[^\n#/])*)?/i),on("Id",/id\b([ \t]+\d)?/i),on("Purchase",/purchase/i),on("Respec",/respec/i),on("Restart",/restart/i),on("Start",/start/i),on("Stop",/stop/i),on("Studies",/studies/i),on("Unlock",/unlock/i),on("Until",/until/i),on("Use",/use/i),on("Wait",/wait/i),on("While",/while/i),on("BlackHole",/black[ \t]+hole/i,{$autocomplete:"black hole",$unlocked:()=>BlackHole(1).isUnlocked}),on("StoreGameTime",/stored?[ \t]+game[ \t]+time/i,{$autocomplete:"store game time",$unlocked:()=>Enslaved.isUnlocked}),on("Dilation",/dilation/i),on("EC",/ec/i),on("XHighest",/x[ \t]+highest/i,{$autocomplete:"x highest"});const ln=(0,La.createToken)({name:"ECLiteral",pattern:/ec[1-9][0-9]*/i,longer_alt:Ka}),cn=(0,La.createToken)({name:"LCurly",pattern:/[ \t]*{/}),un=(0,La.createToken)({name:"RCurly",pattern:/[ \t]*}/}),dn=(0,La.createToken)({name:"Comma",pattern:/,/}),hn=(0,La.createToken)({name:"Pipe",pattern:/\|/,label:"|"}),pn=(0,La.createToken)({name:"Dash",pattern:/-/,label:"-"}),mn=(0,La.createToken)({name:"Exclamation",pattern:/!/,label:"!"}),yn=[qa,Ya,ja,Wa,Va,Qa,...Ha.ComparisonOperator,cn,un,dn,nn,hn,pn,mn,za,Xa,Ja,...Ha.AutomatorCurrency,ln,sn,...rn,Za,...Ha.PrestigeEvent,en,...Ha.StudyPath,tn,...Ha.TimeUnit,Ka];cn.LABEL="'{'",un.LABEL="'}'",Xa.LABEL="Number",dn.LABEL="❟";const fn=new La.Lexer(yn,{positionTracking:"full",ensureOptimizations:!0}),gn=[];for(const V of fn.lexerDefinition)gn[V.tokenTypeIdx]=V;const bn=yn.mapToObject((e=>e.name),(e=>e)),vn=Ha.AutomatorCurrency.map((e=>e.$autocomplete.toUpperCase())),En=function(e){try{if(vn.includes(e.toUpperCase()))return e.toUpperCase()}catch{return e}for(const t of Ha.AutomatorCurrency)if(e.match(t.PATTERN)&&e.match(t.PATTERN)[0].length===e.length)return t.$autocomplete.toUpperCase();return e},Tn=["Identifier","LCurly","RCurly"],_n=fn.lexerDefinition.filter((e=>!Tn.includes(e.name))).map((e=>e.PATTERN.source)).flatMap((e=>e.includes("(")||e.includes(")")?e:e.split("[ \\t]+"))),Cn=/name[ \t]+(.+$)/iu,An=/id[ \t]+(\d)/iu;function kn(e){if(!AutomatorBackend.isOn)return;const t=AutomatorBackend.stack.top.commandState;t&&void 0!==t.prestigeLevel&&(t.prestigeLevel=Math.max(t.prestigeLevel,e))}function wn(e,t,i,a){return{run:()=>{const n=a?"UNTIL":"WHILE";return e()?(AutomatorBackend.push(t),AutomatorData.logCommandEvent(`Проверено условие ${Sn(i)} (${a?"ЛОЖЬ":"ИСТИНА"}),\n        перемещение на строку ${AutomatorBackend.translateLineNumber(i.LCurly[0].startLine+1)-1}\n        (начало цикла ${n})`,i.startLine),AUTOMATOR_COMMAND_STATUS.SAME_INSTRUCTION):(AutomatorData.logCommandEvent(`Проверено условие ${Sn(i)} (${a?"ИСТИНА":"ЛОЖЬ"}),\n          выход из цикла на строке ${AutomatorBackend.translateLineNumber(i.RCurly[0].startLine+1)-1}\n          (конец цикла ${n})`,i.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION)},blockCommands:t}}function Sn(e){const t=e.comparison[0].children,i=t.compareValue.map((e=>{if(e.children.AutomatorCurrency)return()=>["АНТИМАТЕРИИ","ОБ","ОВ","МР","БЕСКОНЕЧНОСТЕЙ","СОХРАНЁННЫХ БЕСКОНЕЧНОСТЕЙ","ВЕЧНОСТЕЙ","РЕАЛЬНОСТЕЙ","ПОЛУЧАЕМЫХ ОБ","ПОЛУЧАЕМЫХ ОВ","ПОЛУЧАЕМЫХ ТАХИОНОВ","ПОЛУЧАЕМЫХ МР","УРОВЕНЬ ПОЛУЧАЕМОГО ГЛИФА","ЗВ","ТАХИОНОВ","ГР","РЕПЛИКАНТИ","ТВ","ТВ ВСЕГО","ВЫПОЛНЕНИЙ ИСПВ ВСЕГО","ПОЛУЧАЕМЫХ ВЫПОЛНЕНИЙ ИСПВ","ВЫПОЛНЕНИЙ ИСПВ1","ВЫПОЛНЕНИЙ ИСПВ2","ВЫПОЛНЕНИЙ ИСПВ3","ВЫПОЛНЕНИЙ ИСПВ4","ВЫПОЛНЕНИЙ ИСПВ5","ВЫПОЛНЕНИЙ ИСПВ6","ВЫПОЛНЕНИЙ ИСПВ7","ВЫПОЛНЕНИЙ ИСПВ8","ВЫПОЛНЕНИЙ ИСПВ9","ВЫПОЛНЕНИЙ ИСПВ10","ВЫПОЛНЕНИЙ ИСПВ11","ВЫПОЛНЕНИЙ ИСПВ12"][["AM","IP","EP","RM","INFINITIES","BANKED INFINITIES","ETERNITIES","REALITIES","PENDING IP","PENDING EP","PENDING TP","PENDING RM","PENDING GLYPH LEVEL","DT","TP","RG","REP","TT","TOTAL TT","TOTAL COMPLETIONS","PENDING COMPLETIONS","EC1 COMPLETIONS","EC2 COMPLETIONS","EC3 COMPLETIONS","EC4 COMPLETIONS","EC5 COMPLETIONS","EC6 COMPLETIONS","EC7 COMPLETIONS","EC8 COMPLETIONS","EC9 COMPLETIONS","EC10 COMPLETIONS","EC11 COMPLETIONS","EC12 COMPLETIONS"].indexOf(e.children.AutomatorCurrency[0].image)];const t=e.children.$value;return"string"===typeof t?()=>t:()=>format(t,2,2)})),a=t.ComparisonOperator[0].image;return`${i[0]()} ${a} ${i[1]()}`}function xn(e){let t,i;switch(e){case"INFINITY":return`${format(player.records.recentInfinities[0][1],2)} ОБ`;case"ETERNITY":return t=AutomatorData.lastECCompletionCount,i=`${format(player.records.recentEternities[0][1],2)} ОВ`,0===t?`${i}`:`${i}, ${t} выполнений`;case"REALITY":return`${format(player.records.recentRealities[0][1],2)} МР`;default:throw Error(`Unrecognized prestige ${e} in Automator event log`)}}EventHub.logic.on(GAME_EVENT.BIG_CRUNCH_AFTER,(()=>kn(bn.Infinity.$prestigeLevel))),EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_AFTER,(()=>kn(bn.Eternity.$prestigeLevel))),EventHub.logic.on(GAME_EVENT.REALITY_RESET_AFTER,(()=>kn(bn.Reality.$prestigeLevel)));const Rn=[{id:"auto",rule:e=>()=>{e.CONSUME(bn.Auto),e.CONSUME(bn.PrestigeEvent),e.OR([{ALT:()=>e.CONSUME(bn.On)},{ALT:()=>e.CONSUME(bn.Off)},{ALT:()=>e.OR1([{ALT:()=>e.SUBRULE(e.duration)},{ALT:()=>e.SUBRULE(e.xHighest)},{ALT:()=>e.SUBRULE(e.currencyAmount)}])}])},validate:(e,t)=>{if(e.startLine=e.Auto[0].startLine,e.PrestigeEvent&&e.currencyAmount){const i=e.PrestigeEvent[0].tokenType.$prestigeCurrency,a=e.currencyAmount[0].children.AutomatorCurrency[0].tokenType.name;if(i!==a)return t.addError(e.currencyAmount,"Валюта не соответсвует престижу",`замените ${a} на ${i}`),!1}if(!e.PrestigeEvent)return!0;const i=e.duration||e.xHighest;if(e.PrestigeEvent[0].tokenType===bn.Infinity){if(!Autobuyer.bigCrunch.isUnlocked)return t.addError(e.PrestigeEvent,"Автоматика Большого Сжатия недоступна","выполните 12-е Обычное Испытание, чтобы использовать эту команду"),!1;if(i&&!EternityMilestone.bigCrunchModes.isReached)return t.addError((e.duration||e.xHighest)[0],"Расширенные настройки для автоматики Большого Сжатия недоступны",`достигните ${formatInt(5)} вечностей, чтобы использовать эту команду`),!1}if(e.PrestigeEvent[0].tokenType===bn.Eternity){if(!EternityMilestone.autobuyerEternity.isReached)return t.addError(e.PrestigeEvent,"Автоматика вечности недоступна",`достигните ${formatInt(100)} вечностей, чтобы использовать эту команду`),!1;if(i&&!RealityUpgrade(13).isBought)return t.addError((e.duration||e.xHighest)[0],"Расширенные настройки для автоматики вечности недоступны",'купите Улучшение Реальности "Телемеханический Процесс", чтобы использовать эту команду'),!1}if(e.PrestigeEvent[0].tokenType===bn.Reality){if(!RealityUpgrade(25).isBought)return t.addError(e.PrestigeEvent,"Автоматика реальности недоступна",'купите Улучшение Реальности "Непринуждённое Существование", чтобы использовать эту команду'),!1;if(i)return t.addError((e.duration||e.xHighest)[0],"Автоматизатор может выставить автоматику реальности только на реальность при фиксированном количестве МР","замените второй параметр команды на <число>RM"),!1}return!0},compile:e=>{const t=e.PrestigeEvent[0].tokenType===bn.Reality,i=Boolean(e.On||e.duration||e.xHighest||e.currencyAmount),a=e.duration?e.duration[0].children.$value:void 0,n=e.xHighest?e.xHighest[0].children.$value:void 0,s=e.currencyAmount?e.currencyAmount[0].children.$value:void 0,r=e.PrestigeEvent[0].tokenType.$autobuyerDurationMode,o=e.PrestigeEvent[0].tokenType.$autobuyerXHighestMode,l=e.PrestigeEvent[0].tokenType.$autobuyerCurrencyMode,c=e.PrestigeEvent[0].tokenType.$autobuyer();return()=>{c.isActive=i;let u="";void 0!==a?(c.mode=r,c.time=a/1e3,u=`каждые ${quantify("секунд",c.time)}`):void 0!==n?(c.mode=o,c.xHighest=new Decimal(n),u=`при ${"infinity"===e.PrestigeEvent[0].image?"ОБ":"ОВ"}, в ${format(n,2,2)} раз превышающих максимальные`):void 0!==s&&(c.mode=l,t?(c.rm=new Decimal(s),u=`при ${format(c.rm,2)} МР`):(c.amount=new Decimal(s),u=`при ${s} ${"infinity"===e.PrestigeEvent[0].image?"ОБ":"ОВ"}`));const d=c.isActive&&""!==u?` (Setting: ${u})`:"";return AutomatorData.logCommandEvent(`Автоматика ${t?"реальности":"infinity"===e.PrestigeEvent[0].image?"Большого Сжатия":"вечности"}\n          ${c.isActive?"включена":"выключена"}${d}`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}},blockify:e=>{const t=e.duration?`${e.duration[0].children.NumberLiteral[0].image} ${e.duration[0].children.TimeUnit[0].image}`:void 0,i=e.xHighest?e.xHighest[0].children.$value:void 0,a=e.currencyAmount?`${e.currencyAmount[0].children.NumberLiteral[0].image} ${e.currencyAmount[0].children.AutomatorCurrency[0].image.toUpperCase()}`:void 0,n=Boolean(e.On);let s="";return s=t||(i?`${i} x highest`:a?`${a}`:n?"ON":"OFF"),{singleSelectionInput:e.PrestigeEvent[0].tokenType.name.toUpperCase(),singleTextInput:s,...automatorBlocksMap.AUTO}}},{id:"blackHole",rule:e=>()=>{e.CONSUME(bn.BlackHole),e.OR([{ALT:()=>e.CONSUME(bn.On)},{ALT:()=>e.CONSUME(bn.Off)}])},validate:e=>(e.startLine=e.BlackHole[0].startLine,!0),compile:e=>{const t=Boolean(e.On);return()=>{let i;return t===BlackHoles.arePaused&&BlackHoles.togglePause(),i=BlackHole(1).isUnlocked?""+(e.On?"Цикл Чёрных Дыр возобновлён":"Чёрные Дыры приостановлены"):Enslaved.isRunning||Pelle.isDisabled("blackhole")?"Команда переключения цикла Чёрных Дыр игнорирована, так как они отключены в Реальности этого Небожителя":"Команда переключения цикла Чёрных Дыр игнорирована, так как вы ещё не разблокировали их",AutomatorData.logCommandEvent(i,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}},blockify:e=>({singleSelectionInput:e.On?"ON":"OFF",...automatorBlocksMap["BLACK HOLE"]})},{id:"blob",rule:e=>()=>{e.CONSUME(bn.Blob)},validate:e=>(e.startLine=e.Blob[0].startLine,!0),compile:()=>()=>AUTOMATOR_COMMAND_STATUS.SKIP_INSTRUCTION,blockify:()=>({...automatorBlocksMap.BLOB})},{id:"comment",rule:e=>()=>{e.CONSUME(bn.Comment)},validate:e=>(e.startLine=e.Comment[0].startLine,!0),compile:()=>()=>AUTOMATOR_COMMAND_STATUS.SKIP_INSTRUCTION,blockify:e=>({...automatorBlocksMap.COMMENT,singleTextInput:e.Comment[0].image.replace(/(#|\/\/)\s?/u,"")})},{id:"ifBlock",rule:e=>()=>{e.CONSUME(bn.If),e.SUBRULE(e.comparison),e.CONSUME(bn.LCurly),e.CONSUME(bn.EOL),e.SUBRULE(e.block),e.CONSUME(bn.RCurly)},validate:(e,t)=>(e.startLine=e.If[0].startLine,t.checkBlock(e,e.If)),compile:(e,t)=>{const i=t.visit(e.comparison),a=t.visit(e.block);return{run:t=>null!==t.commandState?AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION:(t.commandState={advanceOnPop:!0,ifEndLine:e.RCurly[0].startLine},i()?(AutomatorBackend.push(a),AutomatorData.logCommandEvent(`Проверено условие ${Sn(e)} (ИСТИНА),\n            вход в условный оператор IF`,e.startLine),AUTOMATOR_COMMAND_STATUS.SAME_INSTRUCTION):(AutomatorData.logCommandEvent(`Проверено условие ${Sn(e)} (ЛОЖЬ),\n              перемещение на строку ${AutomatorBackend.translateLineNumber(e.RCurly[0].startLine+1)}`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION)),blockCommands:a}},blockify:(e,t)=>{const i=[];t.visit(e.block,i);const a=t.visit(e.comparison);return{nest:i,...automatorBlocksMap.IF,...a,genericInput1:En(a.genericInput1),genericInput2:En(a.genericInput2)}}},{id:"notify",rule:e=>()=>{e.CONSUME(bn.Notify),e.OR([{ALT:()=>e.CONSUME(bn.StringLiteral)},{ALT:()=>e.CONSUME(bn.StringLiteralSingleQuote)}])},validate:e=>(e.startLine=e.Notify[0].startLine,!0),compile:e=>{const t=e.StringLiteral||e.StringLiteralSingleQuote;return()=>(GameUI.notify.automator(`Автоматизатор: ${t[0].image}`),AutomatorData.logCommandEvent(`Игровое уведомление: ${t[0].image}`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION)},blockify:e=>({...automatorBlocksMap.NOTIFY,singleTextInput:(e.StringLiteral||e.StringLiteralSingleQuote)[0].image})},{id:"pauseTime",rule:e=>()=>{e.CONSUME(bn.Pause),e.OR([{ALT:()=>e.SUBRULE(e.duration)},{ALT:()=>e.CONSUME(bn.Identifier)}])},validate:(e,t)=>{let i;if(e.startLine=e.Pause[0].startLine,e.Identifier){if(!t.isValidVarFormat(e.Identifier[0],AUTOMATOR_VAR_TYPES.DURATION))return t.addError(e,`Постоянная ${e.Identifier[0].image} не может быть использована как временной параметр`,`выставьте ${e.Identifier[0].image} на значение, меньшее\n            ${format(Number.MAX_VALUE/1e3,2)}`),!1;const a=t.lookupVar(e.Identifier[0],AUTOMATOR_VAR_TYPES.DURATION);i=a?a.value:a}else i=t.visit(e.duration);return e.$duration=i,void 0!==e.$duration},compile:e=>{const t=e.$duration;return i=>{null===i.commandState?(i.commandState={timeMs:0},AutomatorData.logCommandEvent(`Автоматизатор приостановлен на ${TimeSpan.fromMilliseconds(t,"accusative")}`,e.startLine)):i.commandState.timeMs+=Math.max(Time.unscaledDeltaTime.totalMilliseconds,AutomatorBackend.currentInterval);const a=i.commandState.timeMs>=t;return a?(AutomatorData.logCommandEvent(`${TimeSpan.fromMilliseconds(t)} прошло, Автоматизатор продолжает работу`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>{let t;if(e.duration){const i=e.duration[0].children;t=`${i.NumberLiteral[0].image} ${i.TimeUnit[0].image}`}else t=`${e.Identifier[0].image}`;return{...automatorBlocksMap.PAUSE,singleTextInput:t}}},{id:"prestige",rule:e=>()=>{e.CONSUME(bn.PrestigeEvent),e.OPTION((()=>e.CONSUME(bn.Nowait))),e.OPTION1((()=>e.CONSUME(bn.Respec)))},validate:(e,t)=>(e.startLine=e.PrestigeEvent[0].startLine,e.PrestigeEvent&&e.PrestigeEvent[0].tokenType===bn.Reality&&!RealityUpgrade(25).isBought?(t.addError(e.PrestigeEvent,"Эта команда недоступна",'купите Улучшение Реальности "Непринуждённое Существование", чтобы использовать эту команду'),!1):(e.PrestigeEvent&&e.PrestigeEvent[0].tokenType===bn.Infinity&&e.Respec&&t.addError(e.Respec,"Команда INFINITY не имеет параметров","удалите RESPEC"),!0)),compile:e=>{const t=void 0!==e.Nowait,i=void 0!==e.Respec,a=e.PrestigeEvent[0].tokenType;return()=>{const n=a.$prestigeAvailable(),s="reality"===e.PrestigeEvent[0].image?"Реальность":"infinity"===e.PrestigeEvent[0].image?"Бесконечность":"Вечность";return n?(i&&a.$respec(),a.$prestige(),AutomatorData.logCommandEvent(`${s} совершена (${xn(e.PrestigeEvent[0].image.toUpperCase())})`,e.startLine),"reality"===s&&AutomatorBackend.state.forceRestart?AUTOMATOR_COMMAND_STATUS.RESTART:AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION):t?(AutomatorData.logCommandEvent(`${s} было невозможно совершить, команда пропущена`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>({...automatorBlocksMap[e.PrestigeEvent[0].tokenType.name.toUpperCase()],nowait:void 0!==e.Nowait,respec:void 0!==e.Respec})},{id:"startDilation",rule:e=>()=>{e.CONSUME(bn.Start),e.CONSUME(bn.Dilation)},validate:e=>(e.startLine=e.Start[0].startLine,!0),compile:e=>()=>player.dilation.active?(AutomatorData.logCommandEvent("Замедление уже было запущено, команда пропущена",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):startDilatedEternity(!0)?(AutomatorData.logCommandEvent("Замедление Времени запущено",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION,blockify:()=>({singleSelectionInput:"DILATION",...automatorBlocksMap.START})},{id:"startEC",rule:e=>()=>{e.CONSUME(bn.Start),e.SUBRULE(e.eternityChallenge)},validate:e=>(e.startLine=e.Start[0].startLine,!0),compile:e=>{const t=e.eternityChallenge[0].children.$ecNumber;return()=>{const i=EternityChallenge(t);return i.isRunning?(AutomatorData.logCommandEvent("Указанное ИспВ уже было запущено, команда пропущена",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):(EternityChallenge(t).isUnlocked||TimeStudy.eternityChallenge(t).purchase(!0))&&i.start(!0)?(AutomatorData.logCommandEvent(`${t}-е Испытание Вечности запущено`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>({singleSelectionInput:"EC",singleTextInput:e.eternityChallenge[0].children.$ecNumber,...automatorBlocksMap.START})},{id:"storeGameTime",rule:e=>()=>{e.CONSUME(bn.StoreGameTime),e.OR([{ALT:()=>e.CONSUME(bn.On)},{ALT:()=>e.CONSUME(bn.Off)},{ALT:()=>e.CONSUME(bn.Use)}])},validate:(e,t)=>(e.startLine=e.StoreGameTime[0].startLine,!!Enslaved.isUnlocked||(t.addError(e.StoreGameTime[0],"Эта команда недоступна","разблокируйте сохранение игрового времени"),!1)),compile:e=>{if(e.Use)return()=>(Enslaved.useStoredTime(!1),AutomatorData.logCommandEvent("Чёрная Дыра разряжена",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION);const t=Boolean(e.On);return()=>(t!==player.celestials.enslaved.isStoring&&Enslaved.toggleStoreBlackHole(),Enslaved.isRunning||Pelle.isDoomed?AutomatorData.logCommandEvent("Команда переключения зарядки Чёрных Дыр игнорирована, так как они отключены в Реальности этого Небожителя",e.startLine):AutomatorData.logCommandEvent("Хранение игрового времени "+(e.On?"включено":"выключено"),e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION)},blockify:e=>({singleSelectionInput:e.Use?"USE":e.On?"ON":"OFF",...automatorBlocksMap["STORE GAME TIME"]})},{id:"studiesBuy",rule:e=>()=>{e.CONSUME(bn.Studies),e.OPTION((()=>e.CONSUME(bn.Nowait))),e.CONSUME(bn.Purchase),e.OR([{ALT:()=>e.SUBRULE(e.studyList)},{ALT:()=>e.CONSUME1(bn.Identifier)}])},validate:(e,t)=>{if(e.startLine=e.Studies[0].startLine,e.Identifier){if(!t.isValidVarFormat(e.Identifier[0],AUTOMATOR_VAR_TYPES.STUDIES))return t.addError(e,`Постоянная ${e.Identifier[0].image} не является допустимым Древом Исследований`,`сохраните в ${e.Identifier[0].image} допустимое Древо Исследований`),!1;const i=t.lookupVar(e.Identifier[0],AUTOMATOR_VAR_TYPES.STUDIES);e.$studies=i.value,e.$studies.image=e.Identifier[0].image}else e.studyList&&(e.$studies=t.visit(e.studyList));return!0},compile:e=>{const t=e.$studies;return void 0===e.Nowait?()=>{let i,a=0,n=0;for(const e of t.normal){var s;TimeStudy(e).isBought?a++:TimeStudy(e).purchase(!0)?n++:i=null!==(s=i)&&void 0!==s?s:e}if(a+n<t.normal.length)return a+n===0&&AutomatorData.logCommandEvent("Не удалось купить ни одного из указанных Исследований Времени",e.startLine),n>0&&i&&AutomatorData.logCommandEvent(`Куплено ${quantifyInt("Исследование",n)} Времени (до\n            ИсслВ${i}), Автоматизатор ожидает возможности купить остальные`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION;const r=!!t.ec&&TimeStudy.eternityChallenge(t.ec).isBought;if(!t.ec||r&&!t.startEC)return AutomatorData.logCommandEvent("Все указанные Исследования Времени куплены",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION;const o=TimeStudy.eternityChallenge(t.ec).purchase(!0);return r||o?(t.startEC?(EternityChallenge(t.ec).start(!0),EternityChallenge(t.ec).isRunning?AutomatorData.logCommandEvent(`Все указанные Исследования Времени куплены,\n                ${t.ec}-е Испытание Вечности разблокировано и запущено`,e.startLine):AutomatorData.logCommandEvent(`Все указанные Исследования Времени куплены,\n                ${t.ec}-е Испытание Вечности разблокировано, но не может быть запущено`,e.startLine)):AutomatorData.logCommandEvent(`Все указанные Исследования Времени куплены,\n              ${t.ec}-е Испытание Вечности разблокировано`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}:()=>{for(const e of t.normal)TimeStudy(e).purchase(!0);return!t.ec||TimeStudy.eternityChallenge(t.ec).isBought||TimeStudy.eternityChallenge(t.ec).purchase(!0),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}},blockify:e=>({singleTextInput:e.$studies.image,nowait:void 0!==e.Nowait,...automatorBlocksMap["STUDIES PURCHASE"]})},{id:"studiesLoad",rule:e=>()=>{e.CONSUME(bn.Studies),e.OPTION((()=>e.CONSUME(bn.Nowait))),e.CONSUME(bn.Load),e.OR([{ALT:()=>e.CONSUME1(bn.Id)},{ALT:()=>e.CONSUME1(bn.Name)}])},validate:(e,t)=>{if(e.startLine=e.Studies[0].startLine,e.Id){const i=An.exec(e.Id[0].image);if(!i||e.Id[0].isInsertedInRecovery)return t.addError(e,"Пропущен номер сохранённого Древа",'укажите номер Древа Исследований, сохранённого во вкладке "Исследования Времени"'),!1;const a=parseInt(i[1],10);return a<1||a>6?(t.addError(e.Id[0],`Недопустимый номер сохранённого Древа (${a})`,"введите допустимый номер Древа Исследований (от 1 до 6)"),!1):(e.$presetIndex=a,!0)}if(e.Name){const i=Cn.exec(e.Name[0].image);if(!i||e.Name[0].isInsertedInRecovery)return t.addError(e,"Пропущено название сохранённого Древа",'укажите название Древа Исследований, сохранённого во вкладке "Исследования Времени"'),!1;const a=player.timestudy.presets.findIndex((e=>e.name===i[1]))+1;return 0===a?(t.addError(e.Name[0],`Древо Исследований "${i[1]}" не найдено (обратите внимание, что в названиях Древ регистр важен)`,"введите правильное название сохранённого Древа"),!1):(e.$presetIndex=a,!0)}return!1},compile:e=>{const t=e.$presetIndex;return()=>{const i=new TimeStudyTree(player.timestudy.presets[t-1].studies),a=GameCache.currentStudyTree.value.purchasedStudies.length;TimeStudyTree.commitToGameState(i.purchasedStudies,!0,i.startEC);const n=GameCache.currentStudyTree.value.purchasedStudies.length,s=i.purchasedStudies.filter((e=>!GameCache.currentStudyTree.value.purchasedStudies.includes(e))).length,r=e.Name?`"${e.Name[0].image}"`:`№${e.Id[0].image}`;return 0===s?AutomatorData.logCommandEvent(`Древо ${r} загружено целиком`,e.startLine):n>a&&AutomatorData.logCommandEvent(`Древо ${r} загружено частично\n            (не удалось купить ${quantifyInt("Исследование",s)} Времени)`,e.startLine),void 0!==e.Nowait||0===s?AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION:AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>({singleSelectionInput:e.Name?"NAME":"ID",singleTextInput:e.Name?player.timestudy.presets[e.$presetIndex-1].name:e.$presetIndex,nowait:void 0!==e.Nowait,...automatorBlocksMap["STUDIES LOAD"]})},{id:"studiesRespec",rule:e=>()=>{e.CONSUME(bn.Studies),e.CONSUME(bn.Respec)},validate:e=>(e.startLine=e.Studies[0].startLine,!0),compile:e=>()=>(player.respec=!0,AutomatorData.logCommandEvent("Сброс Исследований Времени включён",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION),blockify:()=>automatorBlocksMap["STUDIES RESPEC"]},{id:"unlockDilation",rule:e=>()=>{e.CONSUME(bn.Unlock),e.OPTION((()=>e.CONSUME(bn.Nowait))),e.CONSUME(bn.Dilation)},validate:e=>(e.startLine=e.Unlock[0].startLine,!0),compile:e=>{const t=void 0!==e.Nowait;return()=>{if(PlayerProgress.dilationUnlocked())return AutomatorData.logCommandEvent("Замедление уже было разблокировано, команда пропущена",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION;const i=TimeStudy.dilation.purchase(!0);return i?(AutomatorData.logCommandEvent("Замедление Времени разблокировано",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):t?(AutomatorData.logCommandEvent("Разблокировать Замедление было невозможно, команда пропущена",e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>({singleSelectionInput:"DILATION",nowait:void 0!==e.Nowait,...automatorBlocksMap.UNLOCK})},{id:"unlockEC",rule:e=>()=>{e.CONSUME(bn.Unlock),e.OPTION((()=>e.CONSUME(bn.Nowait))),e.SUBRULE(e.eternityChallenge)},validate:e=>(e.startLine=e.Unlock[0].startLine,!0),compile:e=>{const t=void 0!==e.Nowait,i=e.eternityChallenge[0].children.$ecNumber;return()=>{if(EternityChallenge(i).isUnlocked)return AutomatorData.logCommandEvent(`ИспВ${i} уже было разблокировано, команда пропущена`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION;if(t)return AutomatorData.logCommandEvent(`Разблокировать ИспВ${i} было невозможно, команда пропущена`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION;const a=TimeStudy.eternityChallenge(i).purchase(!0);return a?(AutomatorData.logCommandEvent(`${i}-е Испытание Вечности разблокировано`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>({singleSelectionInput:"EC",singleTextInput:e.eternityChallenge[0].children.$ecNumber,nowait:void 0!==e.Nowait,...automatorBlocksMap.UNLOCK})},{id:"untilLoop",rule:e=>()=>{e.CONSUME(bn.Until),e.OR([{ALT:()=>e.SUBRULE(e.comparison)},{ALT:()=>e.CONSUME(bn.PrestigeEvent)}]),e.CONSUME(bn.LCurly),e.CONSUME(bn.EOL),e.SUBRULE(e.block),e.CONSUME(bn.RCurly)},validate:(e,t)=>(e.startLine=e.Until[0].startLine,t.checkBlock(e,e.Until)),compile:(e,t)=>{const i=t.visit(e.block);if(e.comparison){const a=t.visit(e.comparison);return wn((()=>!a()),i,e,!0)}const a=e.PrestigeEvent[0].tokenType.$prestigeLevel;let n;switch(e.PrestigeEvent[0].tokenType){case bn.Infinity:n="Бесконечность";break;case bn.Eternity:n="Вечность";break;case bn.Reality:n="Реальность";break;default:throw Error("Unrecognized prestige layer in until loop")}return{run:t=>(null===t.commandState&&(t.commandState={prestigeLevel:0}),t.commandState.prestigeLevel>=a?(AutomatorData.logCommandEvent(`${n} совершена, выход из цикла UNTIL`,e.startLine),AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION):(AutomatorBackend.push(i),AutomatorData.logCommandEvent(`${n} пока не совершена, перемещение на строку\n            ${AutomatorBackend.translateLineNumber(e.LCurly[0].startLine+1)} (начало цикла UNTIL)`,e.startLine),AUTOMATOR_COMMAND_STATUS.SAME_INSTRUCTION)),blockCommands:i}},blockify:(e,t)=>{const i=[];t.visit(e.block,i);const a=t.visit(e.comparison);return e.comparison?{nest:i,...automatorBlocksMap.UNTIL,...a,genericInput1:En(a.genericInput1),genericInput2:En(a.genericInput2)}:{genericInput1:e.PrestigeEvent[0].tokenType.name.toUpperCase(),nest:i,...automatorBlocksMap.UNTIL}}},{id:"waitCondition",rule:e=>()=>{e.CONSUME(bn.Wait),e.SUBRULE(e.comparison)},validate:e=>(e.startLine=e.Wait[0].startLine,!0),compile:(e,t)=>()=>{const i=t.visit(e.comparison),a=i();if(a){const t=TimeSpan.fromMilliseconds(Date.now()-AutomatorData.waitStart).toStringShort();return AutomatorData.isWaiting?AutomatorData.logCommandEvent(`Ожидание завершено\n            (${Sn(e)} = ИСТИНА спустя ${t})`,e.startLine):AutomatorData.logCommandEvent(`Ожидание пропущено (${Sn(e)} = ИСТИНА)`,e.startLine),AutomatorData.isWaiting=!1,AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}return AutomatorData.isWaiting||(AutomatorData.logCommandEvent(`Автоматизатор ожидает условие: ${Sn(e)}`,e.startLine),AutomatorData.waitStart=Date.now()),AutomatorData.isWaiting=!0,AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION},blockify:(e,t)=>{const i=[];t.visit(e.block,i);const a=t.visit(e.comparison);return{nest:i,...automatorBlocksMap.WAIT,...a,genericInput1:En(a.genericInput1),genericInput2:En(a.genericInput2)}}},{id:"waitEvent",rule:e=>()=>{e.CONSUME(bn.Wait),e.CONSUME(bn.PrestigeEvent)},validate:e=>(e.startLine=e.Wait[0].startLine,!0),compile:e=>{const t=e.PrestigeEvent[0].tokenType.$prestigeLevel;return i=>{null===i.commandState&&(i.commandState={prestigeLevel:0});const a=i.commandState.prestigeLevel>=t,n="reality"===e.PrestigeEvent[0].image?"реальность":"infinity"===e.PrestigeEvent[0].image?"бесконечность":"вечность";if(a){const t=TimeSpan.fromMilliseconds(Date.now()-AutomatorData.waitStart).toStringShort();return AutomatorData.logCommandEvent(`Ожидание завершено (${n} совершена\n            ${xn(n)} спустя ${t})`,e.startLine),AutomatorData.isWaiting=!1,AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}return AutomatorData.isWaiting||(AutomatorData.logCommandEvent(`Автоматизатор ожидает ${n}`,e.startLine),AutomatorData.waitStart=Date.now()),AutomatorData.isWaiting=!0,AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION}},blockify:e=>({genericInput1:e.PrestigeEvent[0].tokenType.name.toUpperCase(),...automatorBlocksMap.WAIT})},{id:"waitBlackHole",rule:e=>()=>{e.CONSUME(bn.Wait),e.CONSUME(bn.BlackHole),e.OR([{ALT:()=>e.CONSUME(bn.Off)},{ALT:()=>e.CONSUME(bn.BlackHoleStr)}])},validate:e=>(e.startLine=e.Wait[0].startLine,!0),compile:e=>()=>{const t=Boolean(e.Off),i=e.BlackHoleStr?Number(e.BlackHoleStr[0].image.charAt(2)):0,a=t?!BlackHole(1).isActive:BlackHole(i).isActive,n=t?"Чёрные Дыры вступили в фазу бездействия":`${i}-я Чёрная Дыра вступила в фазу действия`;if(a){const t=TimeSpan.fromMilliseconds(Date.now()-AutomatorData.waitStart).toStringShort();return AutomatorData.logCommandEvent(`Ожидание завершено (${n} спустя ${t})`,e.startLine),AutomatorData.isWaiting=!1,AUTOMATOR_COMMAND_STATUS.NEXT_INSTRUCTION}return AutomatorData.isWaiting||(AutomatorData.logCommandEvent(`Автоматизатор ожидает, чтобы ${n}`,e.startLine),AutomatorData.waitStart=Date.now()),AutomatorData.isWaiting=!0,AUTOMATOR_COMMAND_STATUS.NEXT_TICK_SAME_INSTRUCTION},blockify:e=>({genericInput1:"BLACK HOLE",compOperator:e.BlackHoleStr?e.BlackHoleStr[0].image.toUpperCase():"OFF",...automatorBlocksMap.WAIT})},{id:"whileLoop",rule:e=>()=>{e.CONSUME(bn.While),e.SUBRULE(e.comparison),e.CONSUME(bn.LCurly),e.CONSUME(bn.EOL),e.SUBRULE(e.block),e.CONSUME(bn.RCurly)},validate:(e,t)=>(e.startLine=e.While[0].startLine,t.checkBlock(e,e.While)),compile:(e,t)=>wn(t.visit(e.comparison),t.visit(e.block),e,!1),blockify:(e,t)=>{const i=[];t.visit(e.block,i);const a=t.visit(e.comparison);return{nest:i,...automatorBlocksMap.WHILE,...a,genericInput1:En(a.genericInput1),genericInput2:En(a.genericInput2)}}},{id:"stop",rule:e=>()=>{e.CONSUME(bn.Stop)},validate:e=>(e.startLine=e.Stop[0].startLine,!0),compile:e=>()=>(AutomatorData.logCommandEvent("Автоматизатор остановлен",e.startLine),AUTOMATOR_COMMAND_STATUS.HALT),blockify:()=>({...automatorBlocksMap.STOP})}];class In extends La.Parser{constructor(){super(yn,{recoveryEnabled:!0,outputCst:!0,nodeLocationTracking:"full"});const e=this;e.RULE("script",(()=>e.SUBRULE(e.block))),e.RULE("block",(()=>e.MANY_SEP({SEP:bn.EOL,DEF:()=>e.OPTION((()=>e.SUBRULE(e.command)))})));const t=["$.SUBRULE($.badCommand)","$.CONSUME(EOF)"];for(const a of Rn)e.RULE(a.id,a.rule(e)),t.push(`$.SUBRULE($.${a.id})`);const i=window.Function("$","EOF",`\n      return () => $.OR($.c1 || ($.c1 = [\n        ${t.map((e=>`{ ALT: () => ${e} },`)).join("\n")}]));\n    `);e.RULE("command",i(e,La.EOF)),e.RULE("badCommand",(()=>e.AT_LEAST_ONE((()=>e.SUBRULE(e.badCommandToken)))),{resyncEnabled:!1}),e.RULE("badCommandToken",(()=>e.OR([{ALT:()=>e.CONSUME(bn.Identifier)},{ALT:()=>e.CONSUME(bn.NumberLiteral)},{ALT:()=>e.CONSUME(bn.ComparisonOperator)}])),{resyncEnabled:!1}),e.RULE("comparison",(()=>{e.SUBRULE(e.compareValue),e.CONSUME(bn.ComparisonOperator),e.SUBRULE2(e.compareValue)})),e.RULE("compareValue",(()=>e.OR([{ALT:()=>e.CONSUME(bn.NumberLiteral)},{ALT:()=>e.CONSUME(bn.Identifier)},{ALT:()=>e.CONSUME(bn.AutomatorCurrency)}]))),e.RULE("duration",(()=>{e.CONSUME(bn.NumberLiteral),e.CONSUME(bn.TimeUnit)})),e.RULE("eternityChallenge",(()=>e.OR([{ALT:()=>{e.CONSUME(bn.EC),e.CONSUME(bn.NumberLiteral)}},{ALT:()=>e.CONSUME(bn.ECLiteral)}]))),e.RULE("studyList",(()=>{e.AT_LEAST_ONE((()=>e.SUBRULE(e.studyListEntry))),e.OPTION((()=>{e.CONSUME(bn.Pipe),e.CONSUME1(bn.NumberLiteral,{LABEL:"ECNumber"}),e.OPTION1((()=>e.CONSUME(bn.Exclamation)))}))}),{resyncEnabled:!1}),e.RULE("studyListEntry",(()=>{e.OR([{ALT:()=>e.SUBRULE(e.studyRange)},{ALT:()=>e.CONSUME(bn.NumberLiteral)},{ALT:()=>e.CONSUME(bn.StudyPath)}]),e.OPTION((()=>e.CONSUME(bn.Comma)))})),e.RULE("studyRange",(()=>{e.CONSUME(bn.NumberLiteral,{LABEL:"firstStudy"}),e.CONSUME(bn.Dash),e.CONSUME1(bn.NumberLiteral,{LABEL:"lastStudy"})})),e.RULE("xHighest",(()=>{e.CONSUME(bn.NumberLiteral),e.CONSUME(bn.XHighest)})),e.RULE("currencyAmount",(()=>{e.CONSUME(bn.NumberLiteral),e.CONSUME(bn.AutomatorCurrency)})),e.performSelfAnalysis()}}const Mn=new In,Dn=Mn.getBaseCstVisitorConstructorWithDefaults();class Pn extends Dn{constructor(e){super(),this.validateVisitor(),this.reset(e);for(const a of Rn){if(!a.validate)continue;const e=this[a.id];this[a.id]=t=>{a.validate(t,this)&&e&&e.call(this,t)}}const t=fn.tokenize(e),i=t.tokens;Mn.input=i,this.parseResult=Mn.script(),this.visit(this.parseResult),this.addLexerErrors(t.errors),this.addParserErrors(Mn.errors,i),this.modifyErrorMessages(),this.errorCount=t.errors.length+this.errors.length+Mn.errors.length}addLexerErrors(e){for(const t of e)this.errors.push({startLine:t.line,startOffset:t.offset,endOffset:t.offset+t.length,info:`Недопустимые символы: ${this.rawText.substr(t.offset,t.length)}`,tip:"удалите эти символы"})}static combinePositionRanges(e,t){return{startLine:Math.min(e.startLine,t.startLine),startOffset:Math.min(e.startOffset,t.startOffset),endOffset:Math.max(e.endOffset,t.endOffset)}}addParserErrors(e,t){for(const i of e){let e=Pn.combinePositionRanges(Pn.getPositionRange(i.previousToken),Pn.getPositionRange(i.token));"EOF"===i.token.tokenType.name&&"EOF"===i.previousToken.tokenType.name&&(e=Pn.combinePositionRanges(e,Pn.getPositionRange(t[t.length-1]))),e.info=i.message.replace(/'\n\s*'/iu,"End of line");const a="EOF"===i.token.tokenType.name||"EOL"===i.token.tokenType.name;"NoViableAltException"===i.name?a||(e.info=`Недопустимый параметр: ${i.token.image}`,e.tip="удалите этот параметр"):"EarlyExitException"===i.name&&(e.info="Неполная команда",e.tip="допишите в команду недостающие параметры"),this.errors.push(e)}}static getPositionRange(e){let t={startLine:Number.MAX_VALUE,startOffset:Number.MAX_VALUE,endOffset:0};if(void 0===e||null===e)return t;if(void 0!==e.startOffset)return{startLine:e.startLine,startOffset:e.startOffset,endOffset:e.endOffset};if(void 0!==e.location&&void 0!==e.location.startOffset)return e.location;if(e.children&&!Array.isArray(e.children))return Pn.getPositionRange(e.children);if(Array.isArray(e))return e.reduce(((e,t)=>Pn.combinePositionRanges(e,Pn.getPositionRange(t))),t);for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Array.isArray(e[i])&&(t=Pn.combinePositionRanges(t,Pn.getPositionRange(e[i])));return t}addError(e,t,i){const a=Pn.getPositionRange(e);a.info=t,a.tip=i,this.errors.push(a)}modifyErrorMessages(){if(!Player.automatorUnlocked||void 0===AutomatorData.currentScriptText())return;const e=[];let t=0;for(const i of this.errors.sort(((e,t)=>e.startLine-t.startLine)))isNaN(i.startLine)&&(i.startLine=AutomatorData.currentScriptText().split("\n").length),i.startLine!==t&&(i.tip?(e.push(i),t=i.startLine):(i.info.match(/EOF but found.*\}/gu)?(i.info=i.info.replaceAll("--\x3e ","[").replaceAll(" <--","]").replace,i.tip='удалите символ "}". Интерпретатор остановился на этой строке и может не обнаружить ошибки на последующих строках'):i.info.match(/found.*\}/gu)?(i.info=i.info.replaceAll("--\x3e ","[").replaceAll(" <--","]"),i.tip='удалите символ "}"'):i.info.match(/Expecting/gu)?(i.info=i.info.replaceAll("--\x3e ","[").replaceAll(" <--","]"),i.tip="введите данные подходящего типа, как указано в инструкции"):i.info.match(/End of line/gu)?i.tip="допишите в команду недостающие параметры":i.info.match(/EOF but found:/gu)?i.tip="удалите лишний параметр":i.tip="причина этой ошибки неясна, мы не можем вам помочь",i.info=i.info.toString().replace(/'/gu,'"').replace(/\]/gu,"].").replace("Expecting","Требуется").replace("but found","Обнаружено").replace("End of line","перенос строки").replace("EOF","конец данных.").replace("Redundant input, expecting","Лишний параметр, требуется").replace("token of type","параметр типа").replace("one of these possible Token sequences","параметр одного из следующих типов").replace("Id","номер сохранённого Древа").replace("Name","название сохранённого Древа").replace("Number","число").replace("StudyPath","путь в развилке Древа Исследований").replace("Identifier","постоянная").replace("PrestigeEvent","престиж").replace("On","ВКЛ.").replace("Off","ВЫКЛ.").replace("Use","разрядить").replace("StringLiteral","строка, ограниченная кавычками").replace("StringLiteralSingleQuote","строка, ограниченная апострофами").replace("entifier",""),e.push(i),t=i.startLine));for(const i of e)i.startLine=AutomatorBackend.translateLineNumber(i.startLine);this.errors=e}reset(e){this.rawText=e,this.variables={},this.errors=[]}checkTimeStudyNumber(e){const t=parseFloat(e.image);return!TimeStudy(t)||TimeStudy(t).isTriad&&!Ra.canBuyTriad?(this.addError(e,`Недопустимый номер Исследования Времени (${t})`,"укажите допустимый номер Исследования Времени"),0):t}lookupVar(e,t){const i=e.image,a={},n=player.reality.automator.constants;if(!Object.keys(n).includes(i))return void this.addError(e,`Постоянная ${i} не определена`,`определите ${i} или укажите существующую постоянную`);const s=n[i];let r;switch(t){case AUTOMATOR_VAR_TYPES.NUMBER:a.value=new Decimal(s);break;case AUTOMATOR_VAR_TYPES.STUDIES:r=new TimeStudyTree(s),a.value={normal:r.selectedStudies.map((e=>e.id)),ec:r.ec,startEC:r.startEC};break;case AUTOMATOR_VAR_TYPES.DURATION:a.value=parseInt(1e3*s,10);break;default:throw new Error("Unrecognized variable format in automator constant lookup")}return a}isValidVarFormat(e,t){const i=e.image,a=player.reality.automator.constants;if(!Object.keys(a).includes(i))return!1;const n=a[i];switch(t){case AUTOMATOR_VAR_TYPES.NUMBER:return n.match(/^-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?$/u);case AUTOMATOR_VAR_TYPES.STUDIES:return TimeStudyTree.isValidImportString(n);case AUTOMATOR_VAR_TYPES.DURATION:return!Number.isNaN(parseInt(1e3*n,10));default:throw new Error("Unrecognized variable format in automator constant lookup")}}duration(e){if(e.$value)return e.$value;if(!e.TimeUnit||e.TimeUnit[0].isInsertedInRecovery)return void this.addError(e,"Пропущена единица измерения времени",'укажите единцу измерения времени, например, "s" (секунда)');const t=parseFloat(e.NumberLiteral[0].image)*e.TimeUnit[0].tokenType.$scale;if(!isNaN(t))return e.$value=t,e.$value;this.addError(e,"Не удалось интерпретировать временной параметр","укажите временной параметр в правильном формате")}xHighest(e){return e.$value?e.$value:e.NumberLiteral&&!e.NumberLiteral[0].isInsertedInRecovery?(e.$value=new Decimal(e.NumberLiteral[0].image),e.$value):void this.addError(e,"Пропущен параметр","укажите параметр")}currencyAmount(e){return e.$value?e.$value:e.NumberLiteral&&!e.NumberLiteral[0].isInsertedInRecovery?(e.$value=new Decimal(e.NumberLiteral[0].image),e.$value):void this.addError(e,"Пропущен параметр","укажите параметр")}studyRange(e,t){if(!e.firstStudy||e.firstStudy[0].isInsertedInRecovery||!e.lastStudy||e.lastStudy[0].isInsertedInRecovery)return void this.addError(e,"Пропущен номер Исследования Времени в диапазоне","укажите начало и конец диапазона Исследований Времени");const i=this.checkTimeStudyNumber(e.firstStudy[0]),a=this.checkTimeStudyNumber(e.lastStudy[0]);if(i&&a&&t)for(let n=i;n<=a;++n)TimeStudy(n)&&t.push(n)}studyListEntry(e,t){if(e.studyRange)this.visit(e.studyRange,t);else if(e.NumberLiteral){if(e.NumberLiteral[0].isInsertedInRecovery)return void this.addError(e,"Пропущен номер Исследования Времени","укажите номер Исследования Времени");const i=this.checkTimeStudyNumber(e.NumberLiteral[0]);i&&t.push(i)}else if(e.StudyPath){const i=e.StudyPath[0].tokenType.$studyPath,a=NormalTimeStudies.paths[i];t.push(...a)}}studyList(e){if(void 0!==e.$cached)return e.$cached;const t=[];for(const a of e.studyListEntry)this.visit(a,t);const i=Pn.getPositionRange(e);if(e.$cached={normal:t,image:this.rawText.substr(i.startOffset,i.endOffset-i.startOffset+1),ec:0,startEC:!1},e.ECNumber){e.ECNumber.isInsertedInRecovery&&this.addError(e.Pipe[0],"Пропущен номер Испытания Вечности","укажите номер Испытания Вечности");const t=parseFloat(e.ECNumber[0].image);(!Number.isInteger(t)||t<0||t>12)&&this.addError(e.ECNumber,`Недопустимый номер Испытания Вечности (${t})`,`введите допустмиый (от ${format(1)} до ${format(12)}) номер Испытания Вечности`),e.$cached.ec=t}return e.Exclamation&&(e.$cached.startEC=!0),e.$cached}compareValue(e){if(e.NumberLiteral)e.$value=new Decimal(e.NumberLiteral[0].image);else if(e.Identifier){this.isValidVarFormat(e.Identifier[0],AUTOMATOR_VAR_TYPES.NUMBER)||this.addError(e,`Постоянная ${e.Identifier[0].image} не может быть использована в сравнении`,`сохраните в ${e.Identifier[0].image} число в правильном формате`);const t=this.lookupVar(e.Identifier[0],AUTOMATOR_VAR_TYPES.NUMBER);t&&(e.$value=e.Identifier[0].image)}}comparison(e){super.comparison(e),(!e.compareValue||e.compareValue[0].recoveredNode||2!==e.compareValue.length||e.compareValue[1].recoveredNode)&&this.addError(e,"Пропущен аргумент сравнения","укажите аргумент сравнения"),e.ComparisonOperator&&!e.ComparisonOperator[0].isInsertedInRecovery?e.ComparisonOperator[0].tokenType!==bn.OpEQ&&e.ComparisonOperator[0].tokenType!==bn.EqualSign||this.addError(e,"Автоматизатор не может проверять равенство","используйте знак неравенства (>, <, >=, <=)"):this.addError(e,"Пропущен знак сравнения (<, >, <=, >=)","укажите знак сравнения")}badCommand(e){const t=e.badCommandToken[0].children,i=Object.keys(t)[0];this.addError(t[i][0],`Недопустимая команда "${t[i][0].image}"`,"введите допустимое ключевое слово команды")}eternityChallenge(e){let t,i;if(e.ECLiteral)i=parseFloat(e.ECLiteral[0].image.substr(2)),t=e.ECLiteral[0];else{if(!e.NumberLiteral)return void this.addError(e,"Пропущен номер Испытания Вечности","укажите номер Испытания Вечности");i=parseFloat(e.NumberLiteral[0].image),t=e.NumberLiteral[0]}(!Number.isInteger(i)||i<1||i>12)&&this.addError(t,`Недопустимый номер Испытания Вечности (${i})`,`введите допустмиый (от ${format(1)} до ${format(12)}) номер Испытания Вечности`),e.$ecNumber=i}checkBlock(e,t){let i=!1;return e.RCurly&&!e.RCurly[0].isInsertedInRecovery||(this.addError(t[0],"Пропущена скобка }","введите скобку } на другой строке, чтобы закрыть блок команд"),i=!0),e.LCurly&&!e.LCurly[0].isInsertedInRecovery||(this.addError(t[0],"Пропущена скобка {","в этой строке есть скобка }, которая ничего не закрывает, удалите её"),i=!0),!i}script(e){e.block&&this.visit(e.block),e.variables=this.variables}}class Un extends Dn{constructor(){super();for(const e of Rn){if(!e.compile)continue;const t=this[e.id];this[e.id]=(i,a)=>{t&&t!==super[e.id]&&t.call(this,i,a);let n=e.compile(i,this);"function"===typeof n&&(n={run:n}),n.lineNumber=i.startLine,a.push(n)}}this.validateVisitor()}comparison(e){const t=e.compareValue.map((e=>{if(e.children.AutomatorCurrency)return e.children.AutomatorCurrency[0].tokenType.$getter;const t=e.children.$value;return"string"===typeof t?()=>player.reality.automator.constants[t]:()=>t})),i=e.compareValue.map((e=>{if(e.children.AutomatorCurrency){const t=e.children.AutomatorCurrency[0].tokenType.$unlocked;return!t||t()}return!0}));if(!i[0]||!i[1])return()=>!1;const a=e.ComparisonOperator[0].tokenType.$compare;return()=>a(t[0](),t[1]())}block(e){const t=[];if(e.command)for(const i of e.command)this.visit(i,t);return t}script(e){if(void 0===e.variables)throw new Error("Compiler called before Validator");return e.block?this.visit(e.block):[]}}class Gn extends Dn{constructor(){super();for(const e of Rn){const t=e.blockify;if(!t)continue;const i=this[e.id];this[e.id]=(a,n)=>{i&&i!==super[e.id]&&i.call(this,a,n);try{const e=t(a,this);n.push({...e,id:UIID.next()})}catch{}}}this.validateVisitor()}comparison(e){const t=t=>{const i=e.compareValue[t],a=Boolean(i.children.AutomatorCurrency);return a?i.children.AutomatorCurrency[0].image:i.children.$value};return{compOperator:e.ComparisonOperator[0].image,genericInput1:t(0),genericInput2:t(1)}}script(e){const t=[];return e.block&&this.visit(e.block,t),t}block(e,t){if(e.command)for(const i of e.command)this.visit(i,t)}}function Nn(e,t=!1){const i=`${e}\n `,a=new Pn(i);let n;return 0!==a.errorCount||t||(n=(new Un).visit(a.parseResult)),{errors:a.errors,compiled:n}}function Bn(e){return 0!==Nn(e,!0).errors.length}function On(e){const t=new Pn(e),i=new Gn,a=i.visit(t.parseResult),n=e=>{if(!e)return 0;const t=e.children;let i=0;for(const r of Object.keys(t)){var a,s;const e=null===(a=t[r][0])||void 0===a||null===(s=a.children)||void 0===s?void 0:s.block,o=e?e[0].children.command:[];if(i+=o?o.map((e=>n(e)+1)).reduce(((e,t)=>e+t),0):0,"EOF"===r)return-1}return i},s=e=>e.nest?1+e.nest.map((e=>s(e))).reduce(((e,t)=>e+t),0):1,r=t.parseResult.children.block[0].children.command.map((e=>n(e)+1)).reduce(((e,t)=>e+t),0),o=a.map((e=>s(e))).reduce(((e,t)=>e+t),0);return{blocks:a,validatedBlocks:r,visitedBlocks:o}}function Ln(e){const t=new Pn(e);return t}function $n(e,t,i){const a=e.$autocomplete&&e.$autocomplete.startsWith(t)&&e.$autocomplete!==t,n=!e.$unlocked||e.$unlocked();a&&n&&i.add(e.$autocomplete);for(const s of e.categoryMatches)$n(gn[s],t,i)}CodeMirror.registerHelper("lint","automato",((e,t,i)=>{const a=i.getDoc(),n=Nn(e,!0).errors;return n.map((e=>({message:e.info,severity:"error",from:a.posFromIndex(e.startOffset),to:a.posFromIndex(e.endOffset+1)})))})),CodeMirror.registerHelper("hint","anyword",(e=>{const t=e.getDoc().getCursor();let i=t.ch;const a=t.ch,n=e.getLine(t.line);while(i&&/\w/u.test(n.charAt(i-1)))--i;const s=n.slice(0,i),r=n.slice(i,a),o=fn.tokenize(s);if(o.errors.length>0)return;const l=Mn.computeContentAssist("command",o.tokens),c=new Set;for(const u of l)"badCommand"!==u.ruleStack[1]&&$n(u.nextTokenType,r,c);return{list:Array.from(c),from:CodeMirror.Pos(t.line,i),to:CodeMirror.Pos(t.line,a)}}));const Hn={regex:/(\/\/|#).*/u,token:"comment",next:"start"};CodeMirror.defineSimpleMode("automato",{start:[Hn,{regex:/studies\s+/iu,token:"keyword",next:"studiesArgs"},{regex:/blob\s\s/iu,token:"blob"},{regex:/(auto|if|pause|studies|time[ \t]+theorems?|space[ \t]+theorems?|until|wait|while|black[ \t]+hole|stored?[ \t]+game[ \t]+time|notify)\s/iu,token:"keyword",next:"commandArgs"},{regex:/stop/iu,token:"keyword",next:"commandDone"},{regex:/start\s|unlock\s/iu,token:"keyword",next:"startUnlock"},{regex:/infinity\S+|eternity\S+|reality\S+|pause\S+|restart\S+/iu,token:"error",next:"commandDone"},{regex:/infinity|eternity|reality/iu,token:"keyword",next:"prestige"},{regex:/pause|restart/iu,token:"keyword",next:"commandDone"},{regex:/\}/iu,dedent:!0},{regex:/\S+\s/iu,token:"error",next:"commandDone"}],studiesArgs:[Hn,{sol:!0,next:"start"},{regex:/load(\s+|$)/iu,token:"variable-2",next:"studiesLoad"},{regex:/respec/iu,token:"variable-2",next:"commandDone"},{regex:/purchase/iu,token:"variable-2",next:"studiesList"},{regex:/nowait(\s+|$)/iu,token:"property"}],studiesList:[Hn,{sol:!0,next:"start"},{regex:/(antimatter|infinity|time)(?=[\s,|]|$)/iu,token:"number"},{regex:/(active|passive|idle)(?=[\s,|]|$)/iu,token:"number"},{regex:/(light|dark)(?=[\s,|]|$)/iu,token:"number"},{regex:/([1-9][0-9]+)(?=[\s,!|-]|$)/iu,token:"number"},{regex:/[a-zA-Z_][a-zA-Z_0-9]*/u,token:"variable",next:"commandDone"},{regex:/!$/iu,token:"variable-2"},{regex:/([1-9]|1[0-2])(?=!|$)/iu,token:"number"}],studiesLoad:[Hn,{sol:!0,next:"start"},{regex:/id(\s+|$)/iu,token:"variable-2",next:"studiesLoadId"},{regex:/name(\s+|$)/iu,token:"variable-2",next:"studiesLoadPreset"},{regex:/\S+/iu,token:"error"}],studiesLoadId:[Hn,{sol:!0,next:"start"},{regex:/\d/iu,token:"qualifier",next:"commandDone"}],studiesLoadPreset:[Hn,{sol:!0,next:"start"},{regex:/(\/(?!\/)|[^\s#/])+/iu,token:"qualifier",next:"commandDone"}],prestige:[Hn,{sol:!0,next:"start"},{regex:/nowait(\s|$)/iu,token:"property"},{regex:/respec/iu,token:"variable-2"}],commandDone:[Hn,{sol:!0,next:"start"},{regex:/\}/iu,dedent:!0},{regex:/\S+/iu,token:"error"}],startUnlock:[Hn,{sol:!0,next:"start"},{regex:/ec\s?(1[0-2]|[1-9])|dilation/iu,token:"variable-2",next:"commandDone"},{regex:/nowait(\s|$)/iu,token:"property"}],commandArgs:[Hn,{sol:!0,next:"start"},{regex:/<=|>=|<|>/iu,token:"operator"},{regex:/nowait(\s|$)/iu,token:"property"},{regex:/".*"/iu,token:"string",next:"commandDone"},{regex:/'.*'/iu,token:"string",next:"commandDone"},{regex:/(on|off|bh1|bh2|dilation|load|respec)(\s|$)/iu,token:"variable-2"},{regex:/(eternity|reality|use)(\s|$)/iu,token:"variable-2"},{regex:/(antimatter|infinity|time)(\s|$|(?=,))/iu,token:"variable-2"},{regex:/(active|passive|idle)(\s|$|(?=,))/iu,token:"variable-2"},{regex:/(light|dark)(\s|$|(?=,))/iu,token:"variable-2"},{regex:/x[\t ]+highest(\s|$)/iu,token:"variable-2"},{regex:/pending[\t ]+(completions|ip|ep|tp|rm|glyph[\t ]+level)(\s|$)/iu,token:"variable-2"},{regex:/total[\t ]+(completions|tt|space theorems)(\s|$)/iu,token:"variable-2"},{regex:/filter[ \t]+score/iu,token:"variable-2"},{regex:/ec(1[0-2]|[1-9])[\t ]+completions(\s|$)/iu,token:"variable-2"},{regex:/(am|ip|ep|all)(\s|$)/iu,token:"variable-2"},{regex:/(rm|rg|dt|tp|tt|space theorems|(banked )?infinities|eternities|realities|rep(licanti)?)(\s|$)/iu,token:"variable-2"},{regex:/ sec(onds ?) ?| min(utes ?) ?| hours ?/iu,token:"variable-2"},{regex:/([0-9]+:[0-5][0-9]:[0-5][0-9]|[0-5]?[0-9]:[0-5][0-9]|t[1-4])/iu,token:"number"},{regex:/-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?/iu,token:"number"},{regex:/[a-zA-Z_][a-zA-Z_0-9]*/u,token:"variable"},{regex:/\{/iu,indent:!0,next:"commandDone"},{regex:/\}/iu,dedent:!0}],meta:{lineComment:"//",electricChars:"}"}});const Fn=Object.freeze({NEXT_INSTRUCTION:0,NEXT_TICK_SAME_INSTRUCTION:1,NEXT_TICK_NEXT_INSTRUCTION:2,SAME_INSTRUCTION:3,SKIP_INSTRUCTION:4,HALT:5,RESTART:6}),qn=Object.freeze({PAUSE:1,RUN:2,SINGLE_STEP:3}),Vn={NUMBER:{id:0,name:"number"},STUDIES:{id:1,name:"studies"},DURATION:{id:2,name:"duration"},UNKNOWN:{id:-1,name:"unknown"}},Yn=Object.freeze({TEXT:0,BLOCK:1});class jn{constructor(e){this._stackIndex=e,this._commandIndex=0}initializeNew(e){this._commands=e,this._commandIndex=0,this.persistent={lineNumber:e[0].lineNumber,commandState:null}}get commandIndex(){return this._commandIndex}set commandIndex(e){this._commandIndex=e,this.lineNumber=this._commands[e].lineNumber}get lineNumber(){return this.persistent.lineNumber}set lineNumber(e){this.persistent.lineNumber=e}get commandState(){return this.persistent.commandState}set commandState(e){this.persistent.commandState=e}get persistent(){return player.reality.automator.state.stack[this._stackIndex]}set persistent(e){player.reality.automator.state.stack[this._stackIndex]=e}get commands(){return this._commands}set commands(e){this._commands=e}}class Wn{constructor(e){this._id=e,this.compile()}get id(){return this._id}get name(){return this.persistent.name}set name(e){this.persistent.name=e}get persistent(){return player.reality.automator.scripts[this._id]}get commands(){return this._compiled}get text(){return this.persistent.content}save(e){Xn.isWithinLimit()&&(this.persistent.content=e),this.compile()}compile(){this._compiled=Nn(this.text).compiled}static create(e,t=""){const i=Object.keys(player.reality.automator.scripts),a=i.findIndex(((e,t)=>t+1!==Number(e)));let n=1+(-1===a?i.length:a);return player.reality.automator.scripts&&0!==n||(n=1),player.reality.automator.scripts[n]={id:n,name:e,content:t},new Wn(n)}}const Xn={lastECCompletionCount:0,isWaiting:!1,waitStart:0,lastEvent:0,eventLog:[],isEditorFullscreen:!1,needsRecompile:!0,cachedErrors:0,blockTemplates:[],undoBuffer:[],redoBuffer:[],charsSinceLastUndoState:0,MAX_ALLOWED_SCRIPT_CHARACTERS:1e4,MAX_ALLOWED_TOTAL_CHARACTERS:6e4,MAX_ALLOWED_SCRIPT_NAME_LENGTH:20,MAX_ALLOWED_SCRIPT_COUNT:20,MAX_ALLOWED_CONSTANT_NAME_LENGTH:20,MAX_ALLOWED_CONSTANT_VALUE_LENGTH:250,MAX_ALLOWED_CONSTANT_COUNT:30,MIN_CHARS_BETWEEN_UNDOS:10,MAX_UNDO_ENTRIES:30,scriptIndex(){return player.reality.automator.state.editorScript},currentScriptName(){return player.reality.automator.scripts[this.scriptIndex()].name},currentScriptText(e){var t;const i=e||this.scriptIndex();return null===(t=player.reality.automator.scripts[i])||void 0===t?void 0:t.content},createNewScript(e,t){const i=Wn.create(t,e);GameUI.notify.automator(`Импортирована программа "${t}"`),player.reality.automator.state.editorScript=i.id,Xn.clearUndoData(),EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED)},recalculateErrors(){const e=this.currentScriptText();this.cachedErrors=Nn(e).errors,this.cachedErrors.sort(((e,t)=>e.startLine-t.startLine))},currentErrors(){return this.needsRecompile&&(this.recalculateErrors(),this.needsRecompile=!1),this.cachedErrors},logCommandEvent(e,t){const i=Date.now();this.eventLog.push({message:e.replaceAll(/\s?\n\s+/gu," "),line:Jn.translateLineNumber(t),thisReality:Time.thisRealityRealTime.totalSeconds,timestamp:i,timegap:i-this.lastEvent}),this.lastEvent=i,this.eventLog.length>player.options.automatorEvents.maxEntries&&this.eventLog.shift()},clearEventLog(){this.eventLog=[],this.lastEvent=0},singleScriptCharacters(){var e,t;return player.reality.automator.type===Yn.TEXT?null!==(e=null===(t=AutomatorTextUI.editor)||void 0===t?void 0:t.getDoc().getValue().length)&&void 0!==e?e:0:BlockAutomator.parseLines(BlockAutomator.lines).join("\n").length},totalScriptCharacters(){return Object.values(player.reality.automator.scripts).filter((e=>e.id!==this.scriptIndex())).map((e=>e.content.length)).reduce(((e,t)=>e+t),0)+this.singleScriptCharacters()},isWithinLimit(){return this.singleScriptCharacters()<=this.MAX_ALLOWED_SCRIPT_CHARACTERS&&this.totalScriptCharacters()<=this.MAX_ALLOWED_TOTAL_CHARACTERS},clearUndoData(){this.undoBuffer=[],this.redoBuffer=[],this.charsSinceLastUndoState=0},pushUndoData(e,t){this.charsSinceLastUndoState+=t;const i=this.charsSinceLastUndoState<=this.MIN_CHARS_BETWEEN_UNDOS;i&&0!==this.undoBuffer.length||(this.undoBuffer[this.undoBuffer.length-1]!==e&&this.undoBuffer.push(e),this.undoBuffer.length>this.MAX_UNDO_ENTRIES&&this.undoBuffer.shift(),this.charsSinceLastUndoState=0)},pushRedoData(e){this.redoBuffer[this.redoBuffer.length-1]!==e&&this.redoBuffer.push(e)},undoScriptEdit(){if(0===this.undoBuffer.length||"Автоматизатор"!==Tabs.current._currentSubtab.name)return;const e=this.undoBuffer.pop();this.pushRedoData(this.currentScriptText()),player.reality.automator.scripts[this.scriptIndex()].content=e,Jn.saveScript(this.scriptIndex(),e),player.reality.automator.type===Yn.TEXT?AutomatorTextUI.editor.setValue(e):BlockAutomator.updateEditor(e)},redoScriptEdit(){if(0===this.redoBuffer.length||"Автоматизатор"!==Tabs.current._currentSubtab.name)return;const e=this.redoBuffer.pop();this.pushUndoData(this.currentScriptText(),2*this.MIN_CHARS_BETWEEN_UNDOS),player.reality.automator.scripts[this.scriptIndex()].content=e,Jn.saveScript(this.scriptIndex(),e),player.reality.automator.type===Yn.TEXT?AutomatorTextUI.editor.setValue(e):BlockAutomator.updateEditor(e)}},zn={Active:"active",Event:"event",Error:"error"},Kn={lines:{active:-1,event:-1,error:-1},updateHighlightedLine(e,t){if(player.reality.automator.type===Yn.TEXT&&-1!==e){if(!AutomatorTextUI.editor)return;this.removeHighlightedTextLine(t),this.addHighlightedTextLine(e,t)}else this.lines[t]=e},removeHighlightedTextLine(e){const t=this.lines[e]-1;AutomatorTextUI.editor.removeLineClass(t,"background",`c-automator-editor__${e}-line`),AutomatorTextUI.editor.removeLineClass(t,"gutter",`c-automator-editor__${e}-line-gutter`),this.lines[e]=-1},addHighlightedTextLine(e,t){AutomatorTextUI.editor.addLineClass(e-1,"background",`c-automator-editor__${t}-line`),AutomatorTextUI.editor.addLineClass(e-1,"gutter",`c-automator-editor__${t}-line-gutter`),this.lines[t]=e},clearAllHighlightedLines(){for(const e of Object.values(zn)){if(player.reality.automator.type===Yn.TEXT&&AutomatorTextUI.editor)for(let t=0;t<AutomatorTextUI.editor.doc.size;t++)AutomatorTextUI.editor.removeLineClass(t,"background",`c-automator-editor__${e}-line`),AutomatorTextUI.editor.removeLineClass(t,"gutter",`c-automator-editor__${e}-line-gutter`);this.lines[e]=-1}}},Qn={scrollToRawLine(e){const t=player.reality.automator.type===Yn.TEXT?e:Jn.translateLineNumber(e);this.scrollToLine(t)},scrollToLine(e){let t,i,a;if(player.reality.automator.type===Yn.TEXT?(t=document.querySelector(".CodeMirror-scroll"),i=AutomatorTextUI.editor.defaultTextHeight(),a=e+1):(t=BlockAutomator.editor,i=34.5,a=e),!t)return;const n=t.clientHeight-40,s=i*(a-1);s>t.scrollTop+n&&t.scrollTo(0,s-n),s<t.scrollTop&&t.scrollTo(0,s),player.reality.automator.type===Yn.BLOCK&&(BlockAutomator.gutter.style.bottom=`${t.scrollTop}px`)}},Jn={MAX_COMMANDS_PER_UPDATE:100,hasJustCompleted:!1,_scripts:[],get state(){return player.reality.automator.state},get isOn(){return!this.stack.isEmpty},get mode(){return this.state.mode},set mode(e){this.state.mode=e},get isRunning(){return this.isOn&&this.mode===qn.RUN},findRawScriptObject(e){const t=player.reality.automator.scripts,i=Object.values(t).findIndex((t=>t.id===e));return t[parseInt(Object.keys(t)[i],10)]},get currentRunningScript(){return this.findRawScriptObject(this.state.topLevelScript)},get currentEditingScript(){return this.findRawScriptObject(player.reality.automator.state.editorScript)},get scriptName(){var e,t;return null!==(e=null===(t=this.currentRunningScript)||void 0===t?void 0:t.name)&&void 0!==e?e:""},hasDuplicateName(e){const t=Object.values(player.reality.automator.scripts).map((e=>e.name));return t.filter((t=>t===e)).length>1},translateLineNumber(e){return player.reality.automator.type===Yn.TEXT?e:BlockAutomator.lineNumber(e)},get currentLineNumber(){return this.stack.top?this.translateLineNumber(this.stack.top.lineNumber):-1},get currentInterval(){return Math.clampMin(500*Math.pow(.994,Currency.realities.value),1)},get currentRawText(){var e,t;return null!==(e=null===(t=this.currentRunningScript)||void 0===t?void 0:t.content)&&void 0!==e?e:""},get currentScriptLength(){return this.currentRawText.split("\n").length},getUsedPresets(e){const t=this.findRawScriptObject(e);if(!t)return null;const i=new Set,a=t.content.split("\n");for(const s of a){const e=s.match(/studies( nowait)? load id ([1-6])/iu);e&&i.add(Number(e[2])-1);const t=s.match(/studies( nowait)? load name (\S+)/iu);if(t){const e=player.timestudy.presets.findIndex((e=>e.name===t[2]));-1!==e&&i.add(e)}}const n=Array.from(i);return n.sort(),n},getUsedConstants(e){const t=this.findRawScriptObject(e);if(!t)return null;const i=new Set,a=t.content.split("\n");for(const s of a){const e=Object.keys(player.reality.automator.constants);for(const t of e)s.match(`(?<![Nn][Aa][Mm][Ee])\\s${t}(\\s|$)`)&&i.add(t)}const n=Array.from(i);return n.sort(),n},addConstant(e,t){Object.keys(player.reality.automator.constants).length>=Xn.MAX_ALLOWED_CONSTANT_COUNT||(player.reality.automator.constants[e]=t,player.reality.automator.constantSortOrder.push(e),EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED))},modifyConstant(e,t){Object.keys(player.reality.automator.constants).includes(e)?(player.reality.automator.constants[e]=t,EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED)):this.addConstant(e,t)},renameConstant(e,t){const i=player.reality.automator.constants[e];player.reality.automator.constants[t]=i,delete player.reality.automator.constants[e];const a=player.reality.automator.constantSortOrder.indexOf(e);-1!==a&&(player.reality.automator.constantSortOrder[a]=t),EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED)},deleteConstant(e){delete player.reality.automator.constants[e];const t=player.reality.automator.constantSortOrder.indexOf(e);t>-1&&player.reality.automator.constantSortOrder.splice(t,1),EventHub.dispatch(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED)},serializeAutomatorData(e){const t=e=>`0000${e}`.slice(-5),i=[];for(const a of e)i.push(`${t(a.length)}${a}`);return i.join("")},deserializeAutomatorData(e){if(""===e)throw new Error("Attempted deserialization of empty string");const t=[];let i=e;while(i.length>0){const e=Number(i.slice(0,5));if(i=i.substr(5),Number.isNaN(e)||i.length<e)throw new Error("Inconsistent or malformed serialized automator data");{const a=i.slice(0,e);i=i.substr(e),t.push(a)}}return t},exportCurrentScriptContents(){const e=Xn.currentScriptText().replace(/^\s*(.*?)\s*$/u,"$1");if(0===e.length)return null;const t=Xn.currentScriptName();return GameSaveSerializer.encodeText(this.serializeAutomatorData([t,e]),"automator script")},parseScriptContents(e){let t,i;try{t=GameSaveSerializer.decodeText(e,"automator script"),i=this.deserializeAutomatorData(t)}catch(a){return null}return{name:i[0],content:i[1]}},importScriptContents(e){const t=this.parseScriptContents(e);Xn.createNewScript(t.content,t.name),this.initializeFromSave()},exportFullScriptData(e){const t=this.findRawScriptObject(e),i=t.content.replace(/^\s*(.*?)\s*$/u,"$1");if(0===i.length)return null;const a=new Set,n=new Set,s=i.split("\n");for(const d of s){const e=d.match(/studies( nowait)? load id ([1-6])/iu);e&&a.add(Number(e[2])-1);const t=d.match(/studies( nowait)? load name (\S+)/iu);if(t){const e=player.timestudy.presets.findIndex((e=>e.name===t[2]));-1!==e&&a.add(e)}const i=Object.keys(player.reality.automator.constants);for(const a of i)d.match(`\\s${a}(\\s|$)`)&&n.add(a)}const r=[];for(const d of Array.from(a)){var o,l;const e=player.timestudy.presets[d];r.push(`${d}:${null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:""}:${null!==(l=null===e||void 0===e?void 0:e.studies)&&void 0!==l?l:""}`)}const c=[];for(const d of Array.from(n))c.push(`${d}:${player.reality.automator.constants[d]}`);const u=this.serializeAutomatorData([t.name,r.join("*"),c.join("*"),i]);return GameSaveSerializer.encodeText(u,"automator data")},parseFullScriptData(e){let t,i;try{t=GameSaveSerializer.decodeText(e,"automator data"),i=this.deserializeAutomatorData(t)}catch(o){return null}if(4!==i.length)return null;const a=i[1],n=[];if(a)for(const l of a.split("*")){const e=l.split(":");n.push({id:Number(e[0]),name:e[1],studies:e[2]})}n.sort(((e,t)=>e.id-t.id));const s=i[2],r=[];for(const l of s.split("*")){if(""===l)continue;const e=l.split(":");r.push({key:e[0],value:e[1]})}return{name:i[0],presets:n,constants:r,content:i[3]}},importFullScriptData(e,t){const i=this.parseFullScriptData(e);if(Xn.createNewScript(i.content,i.name),!t.presets)for(const a of i.presets)player.timestudy.presets[a.id]={name:a.name,studies:a.studies};if(!t.constants)for(const a of i.constants)this.modifyConstant(a.key,a.value);this.initializeFromSave()},update(e){if(!this.isOn)return;let t;switch(this.mode){case qn.PAUSE:return;case qn.SINGLE_STEP:return this.singleStep(),t=Jn.stack.top,t&&this.state.followExecution&&Qn.scrollToRawLine(t.lineNumber),void(this.state.mode=qn.PAUSE);case qn.RUN:break;default:return void this.stop()}player.reality.automator.execTimer+=e;const i=Math.min(Math.floor(player.reality.automator.execTimer/this.currentInterval),this.MAX_COMMANDS_PER_UPDATE);player.reality.automator.execTimer-=i*this.currentInterval;for(let a=0;a<i&&this.isRunning;++a)if(!this.step())break},step(){if(this.stack.isEmpty)return!1;for(let e=0;e<100&&!this.hasJustCompleted;e++){switch(this.runCurrentCommand()){case Fn.SAME_INSTRUCTION:return!0;case Fn.NEXT_INSTRUCTION:return this.nextCommand();case Fn.NEXT_TICK_SAME_INSTRUCTION:return!1;case Fn.NEXT_TICK_NEXT_INSTRUCTION:return this.nextCommand(),!1;case Fn.SKIP_INSTRUCTION:this.nextCommand();break;case Fn.HALT:return this.stop(),!1;case Fn.RESTART:return this.restart(),!1}this.stack.top||(this.hasJustCompleted=!0)}return this.hasJustCompleted||(GameUI.notify.error("Автоматизатор принудительно остановлен - слишком много выжидательных команд подряд"),Xn.logCommandEvent("Автоматизатор принудительно остановлен - слишком много выжидательных команд подряд",this.currentLineNumber)),this.stop(),!1},singleStep(){if(!this.stack.isEmpty)switch(this.runCurrentCommand()){case Fn.NEXT_TICK_SAME_INSTRUCTION:break;case Fn.HALT:this.stop();break;case Fn.RESTART:this.restart();break;default:this.nextCommand();break}},runCurrentCommand(){const e=this.stack.top,t=e.commands[e.commandIndex].run(e);return t},nextCommand(){const e=this.stack.top;if(e.commandIndex>=e.commands.length-1){if(this.stack.pop(),this.stack.isEmpty){if(this.state.repeat)return this.start(this.state.topLevelScript,qn.RUN,!1),!1;this.stop()}else if(this.stack.top.commandState&&this.stack.top.commandState.advanceOnPop)return Xn.logCommandEvent("Выход из условного оператора IF",this.stack.top.commandState.ifEndLine),this.nextCommand()}else e.commandState=null,++e.commandIndex;return!0},push(e){0!==e.length&&this.stack.push(e)},findScript(e){return this._scripts.find((t=>t.id===e))},_createDefaultScript(){const e=Wn.create("Новая программа");return this._scripts=[e],this.state.topLevelScript=e.id,e.id},initializeFromSave(){const e=Object.keys(player.reality.automator.scripts).map((e=>parseInt(e,10)));0===e.length?e.push(this._createDefaultScript()):this._scripts=e.map((e=>new Wn(e))),e.includes(this.state.topLevelScript)||(this.state.topLevelScript=e[0]);const t=this.findScript(this.state.topLevelScript);if(t.commands){const e=t.commands;this.stack.initializeFromSave(e)||this.reset(e)}else this.stack.clear()},saveScript(e,t){const i=this.findScript(e);if(!i)return;const a=i.persistent.content,n=Math.abs(a.length-t.length);Xn.pushUndoData(a,n),i.save(t),e===this.state.topLevelScript&&this.stop()},newScript(){const e=Jn._scripts.map((e=>e.name));let t;if(e.includes("Новая программа")){let i=2;while(e.includes(`Новая программа (${i})`))i++;t=Wn.create(`Новая программа (${i})`)}else t=Wn.create("Новая программа");return this._scripts.push(t),t},deleteScript(e){const t=Object.values(player.reality.automator.scripts).findIndex((t=>t.id===e));delete player.reality.automator.scripts[parseInt(Object.keys(player.reality.automator.scripts)[t],10)];const i=this._scripts.findIndex((t=>t.id===e));this._scripts.splice(i,1),0===this._scripts.length&&(this._createDefaultScript(),this.clearEditor()),e===this.state.topLevelScript&&(this.stop(),this.state.topLevelScript=this._scripts[0].id),EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED)},toggleRepeat(){this.state.repeat=!this.state.repeat},toggleForceRestart(){this.state.forceRestart=!this.state.forceRestart},toggleFollowExecution(){this.state.followExecution=!this.state.followExecution,this.jumpToActiveLine()},jumpToActiveLine(){const e=this.state,t=e.topLevelScript===e.editorScript;t&&this.isRunning&&e.followExecution&&Qn.scrollToRawLine(Jn.stack.top.lineNumber)},reset(e){this.stack.clear(),this.push(e)},stop(){this.stack.clear(),this.state.mode=qn.PAUSE,this.hasJustCompleted=!0,Kn.clearAllHighlightedLines()},pause(){this.state.mode=qn.PAUSE},start(e=this.state.topLevelScript,t=qn.RUN,i=!0){if(!Player.automatorUnlocked)return;this.hasJustCompleted=!1,this.state.topLevelScript=e,player.reality.automator.execTimer=0;const a=this.findScript(e);a&&(i&&a.compile(),a.commands&&(this.reset(a.commands),this.state.mode=t),Xn.isWaiting=!1,player.options.automatorEvents.clearOnRestart&&Xn.clearEventLog())},restart(){this.start(this.state.topLevelScript,qn.RUN),this.stack.isEmpty||this.reset(this.stack._data[0].commands)},changeModes(e){if(Tutorial.moveOn(TUTORIAL_STATE.AUTOMATOR),player.reality.automator.type===Yn.BLOCK)BlockAutomator.parseTextFromBlocks(),player.reality.automator.type=Yn.TEXT;else{const t=AutomatorTextUI.editor.getDoc().getValue();BlockAutomator.updateEditor(t),Jn.saveScript(e,t),player.reality.automator.type=Yn.BLOCK}Kn.clearAllHighlightedLines(),EventHub.ui.dispatch(GAME_EVENT.AUTOMATOR_TYPE_CHANGED)},clearEditor(){player.reality.automator.type===Yn.BLOCK?BlockAutomator.clearEditor():AutomatorTextUI.clearEditor()},stack:{_data:[],push(e){const t=new jn(this.length);t.initializeNew(e),this._data.push(t)},pop(){0!==this._data.length&&(player.reality.automator.state.stack.pop(),this._data.pop())},clear(){this._data=[],player.reality.automator.state.stack.length=0},initializeFromSave(e){this._data=[];const t=player.reality.automator.state.stack;let i=e;for(let a=0;a<t.length;++a){const e=t[a],n=new jn(a);n.commands=i;const s=i.findIndex((t=>t.lineNumber===e.lineNumber));if(-1===s)return!1;if(n.commandIndex=s,this._data.push(n),a!==t.length-1){if(void 0===i[s].blockCommands)return!1;i=i[s].blockCommands}}return!0},get top(){return this._data[this.length-1]},get length(){if(this._data.length!==player.reality.automator.state.stack.length)throw new Error("Inconsistent stack length");return this._data.length},get isEmpty(){return 0===this._data.length}}},Zn={get perks(){return Perks.all.filter((e=>e.automatorPoints))},get upgrades(){return RealityUpgrades.all.filter((e=>e.automatorPoints))},get pointsFromPerks(){return this.perks.filter((e=>e.isBought)).map((e=>e.automatorPoints)).sum()},get pointsFromUpgrades(){return this.upgrades.filter((e=>e.isBought)).map((e=>e.automatorPoints)).sum()},get pointsFromOther(){return GameDatabase.reality.automator.otherAutomatorPoints.map((e=>e.automatorPoints())).sum()},get totalPoints(){return this.pointsFromPerks+this.pointsFromUpgrades+this.pointsFromOther},get pointsForAutomator(){return 100}},es={name:"AutomatorBlockSingleInput",props:{constant:{type:String,required:!1,default:""},block:{type:Object,required:!0},blockTarget:{type:String,required:!1,default:""},updateFunction:{type:Function,required:!0},initialSelection:{type:String,required:!1,default:""},patterns:{type:Array,required:!1,default:()=>[]},recursive:{type:Boolean,required:!1,default:!1},currentPath:{type:String,required:!1,default:""}},data(){return{b:{},suppressTooltip:!1,errors:[],hasError:!1,isTextInput:!1,dropdownOptions:[],dropdownSelection:"",dropdownOptionsRussian:[],dropdownSelectionRussian:"",textContents:"",pathRef:{},currentNodeOnPath:"",unknownNext:!1,nextNodeCount:0,lineNumber:0,scriptID:0}},computed:{displayedConstant(){return this.constant?"BLOB"===this.constant?"":this.constant:1!==this.dropdownOptions.length||this.isBoolTarget||this.isTextInput?"":this.dropdownOptions[0]},isBoolTarget(){return"nowait"===this.blockTarget||"respec"===this.blockTarget},nextInputKey(){return this.block.targets[this.currentPath.length+1]},nextInputValue(){const e=this.block.targets,t=e?this.block[this.nextInputKey]:"";return t?`${t}`:""},hasLongTextInput(){return"NOTIFY"===this.block.cmd||"COMMENT"===this.block.cmd}},created(){if(this.scriptID=player.reality.automator.state.editorScript,this.b=this.block,this.lineNumber=BlockAutomator.lineNumber(BlockAutomator._idArray.indexOf(this.block.id)+1),BlockAutomator.updateIdArray(),!this.constant){if(this.isBoolTarget)return this.dropdownOptions=[this.blockTarget.toUpperCase()],this.dropdownSelection=this.block[this.blockTarget]?this.blockTarget.toUpperCase():"",this.dropdownOptionsRussian=this.translate(this.dropdownOptions.at(-1)),void(this.dropdownSelectionRussian=this.dropdownOptionsRussian[this.dropdownOptions.indexOf(this.dropdownSelection)]);if(this.recursive){const e=this.patterns.filter((e=>e.startsWith(this.currentPath)&&e.length>this.currentPath.length)).map((e=>e.charAt(this.currentPath.length)));for(const t of e){if(this.pathRef[t])continue;const e=this.block[t];this.pathRef[t]=e,this.dropdownOptions.push(...e)}this.calculatePath()}this.dropdownOptionsRussian=this.translate(this.dropdownOptions.at(-1)),this.dropdownOptions.includes(this.initialSelection)?(this.dropdownSelection=this.initialSelection,this.dropdownSelectionRussian=this.dropdownOptionsRussian[this.dropdownOptions.indexOf(this.dropdownSelection)]):this.initialSelection&&(this.isTextInput=!0,this.textContents=this.initialSelection),1===this.dropdownOptions.length&&this.dropdownOptions[0].startsWith("*")&&(this.isTextInput=!0,this.textContents=this.initialSelection),this.recalculateErrorCount(),this.suppressTooltip=!0,BlockAutomator.parseTextFromBlocks()}},destroyed(){if(player.reality.automator.type===AUTOMATOR_TYPE.TEXT||"automator"!==Tabs.current._currentSubtab.key||this.scriptID!==player.reality.automator.state.editorScript)return;this.recalculateErrorCount();const e=BlockAutomator.lineNumber(BlockAutomator._idArray.indexOf(this.block.id)+1);if(this.lineNumber!==e){const e=[];for(const t of AutomatorData.cachedErrors)t.startLine!==this.lineNumber&&e.push(t);return e.sort(((e,t)=>e.startLine-t.startLine)),void(AutomatorData.cachedErrors=e)}this.recalculateErrorCount(),BlockAutomator.parseTextFromBlocks()},methods:{update(){this.errors=AutomatorData.cachedErrors,this.hasError=this.errors.some((e=>e.startLine===this.lineNumber)),this.dropdownSelection.startsWith("*")&&(this.isTextInput=!0),this.calculatePath()},calculatePath(){this.currentNodeOnPath=" ";for(const t of Object.keys(this.pathRef)){const e=this.pathRef[t].some((e=>e.startsWith("*")))&&this.isTextInput;(this.pathRef[t].includes(this.dropdownSelection)||e)&&(this.currentNodeOnPath=t)}const e=this.currentPath+this.currentNodeOnPath;this.nextNodeCount=this.patterns.filter((t=>t.length>e.length&&t.startsWith(e))).length,this.unknownNext=this.nextNodeCount>1||""===this.dropdownSelection&&!this.isTextInput},validateInput(){let e,t;if(this.b.nest){const i=Object.assign({},this.b);i.nest=[],t=BlockAutomator.parseLines([i]),e=Ln(t.join("\n"))}else t=BlockAutomator.parseLines([this.b]),e=Ln(t[0]);if("undefined"===t[0])return;const i=[],a=BlockAutomator._idArray.filter((e=>e)).length;for(const n of AutomatorData.cachedErrors)n.startLine!==this.lineNumber&&n.startLine<a&&i.push(n);if(e.errors.length>0){const t=e.errors[0];t.startLine=this.lineNumber,i.push(t)}i.sort(((e,t)=>e.startLine-t.startLine)),AutomatorData.cachedErrors=i},handleFocus(e){this.suppressTooltip=!e,this.changeBlock()},changeBlock(){if(this.updateFunction(this.block,this.block.id),this.blockTarget){let e;if(this.isBoolTarget?e=""!==this.dropdownSelectionRussian:this.isTextInput?e=this.textContents:(e=this.dropdownOptions[this.dropdownOptionsRussian.indexOf(this.dropdownSelectionRussian)],this.dropdownSelection=e),this.block[this.blockTarget]=e,this.calculatePath(),0===this.nextNodeCount&&!this.isBoolTarget){const e=this.block.targets.indexOf(this.blockTarget);for(let t=e+1;t<this.block.targets.length;t++)this.block[this.block.targets[t]]=void 0}}this.recalculateErrorCount()},recalculateErrorCount(){BlockAutomator.parseTextFromBlocks(this.scriptID),this.validateInput(),AutomatorBackend.currentEditingScript.id===AutomatorBackend.currentRunningScript.id&&AutomatorBackend.stop()},errorTooltip(){if(!this.hasError||this.suppressTooltip)return;let e=this.errors.find((e=>e.startLine===this.lineNumber)).info;return e=e.replaceAll("\n","").replace(/Expecting: one of these possible Token sequences:.*but found: (.*)/iu,"Unexpected input format: $1"),{content:`<div class="c-block-automator-error">\n          <div>${e}</div>\n        </div>`,html:!0,trigger:"manual",show:!0,classes:["c-block-automator-error-container","general-tooltip"]}},textInputClassObject(){return{"o-automator-block-input":!0,"o-long-text-input":this.hasLongTextInput,"l-error-textbox":this.hasError,"c-automator-input-required":!this.hasError}},dropdownClassObject(){return{"o-automator-block-input":!0,"c-automator-input-required":!this.isBoolTarget,"c-automator-input-optional":this.isBoolTarget,"l-error-textbox":this.hasError&&!this.isBoolTarget&&""===this.dropdownSelection}},revertToDropdown(){this.isTextInput=!1,this.dropdownSelection="",this.textContents=""},translate(e){switch(e){case"NAME":return["НОМЕР","ПОД НАЗВАНИЕМ"];case"DILATION":return["ИСПВ","ЗАМЕДЛЕНИЕ"];case"REALITY":return["БЕСКОНЕЧНОСТИ","ВЕЧНОСТИ","РЕАЛЬНОСТИ"];case"* AUTOBUYER SETTING":return["ВКЛ.","ВЫКЛ.","* НАСТРОЙКА АВТОМАТИКИ"];case"OFF":return["ВКЛ.","ВЫКЛ."];case"USE":return["ВКЛ.","ВЫКЛ.","РАЗРЯДИТЬ"];case"* SPECIFIED CONSTANT":let e=[];return"INFINITY"===this.dropdownOptions[0]&&(e=["БЕСКОНЕЧНОСТЬ","ВЕЧНОСТЬ","РЕАЛЬНОСТЬ"]),this.dropdownOptions.includes("BLACK HOLE")&&e.push("ЧЁРНАЯ ДЫРА"),e.concat(["АНТИМАТЕРИИ","ОБ","ОВ","МР","БЕСКОНЕЧНОСТЕЙ","СОХРАНЁННЫХ БЕСКОНЕЧНОСТЕЙ","ВЕЧНОСТЕЙ","РЕАЛЬНОСТЕЙ","ПОЛУЧАЕМЫХ ОБ","ПОЛУЧАЕМЫХ ОВ","ПОЛУЧАЕМЫХ ТАХИОНОВ","ПОЛУЧАЕМЫХ МР","УРОВЕНЬ ПОЛУЧАЕМОГО ГЛИФА","ЗВ","ТАХИОНОВ","ГР","РЕПЛИКАНТИ","ТВ","ТВ ВСЕГО","ВЫПОЛНЕНИЙ ИСПВ ВСЕГО","ПОЛУЧАЕМЫХ ВЫПОЛНЕНИЙ ИСПВ","ВЫПОЛНЕНИЙ ИСПВ1","ВЫПОЛНЕНИЙ ИСПВ2","ВЫПОЛНЕНИЙ ИСПВ3","ВЫПОЛНЕНИЙ ИСПВ4","ВЫПОЛНЕНИЙ ИСПВ5","ВЫПОЛНЕНИЙ ИСПВ6","ВЫПОЛНЕНИЙ ИСПВ7","ВЫПОЛНЕНИЙ ИСПВ8","ВЫПОЛНЕНИЙ ИСПВ9","ВЫПОЛНЕНИЙ ИСПВ10","ВЫПОЛНЕНИЙ ИСПВ11","ВЫПОЛНЕНИЙ ИСПВ12","* ЗАДАННОЕ ЧИСЛО"]);case"<=":return["<",">",">=","<="];case"BLACK HOLE":return["ЧЁРНАЯ ДЫРА"];case"BH2":return["ВЫКЛ.","ЧД1","ЧД2"];case"NOWAIT":return["БЕЗ ОЖИДАНИЯ"];case"RESPEC":return["СО СБРОСОМ"]}}}},ts=es;var is=(0,H.A)(ts,Ba,Oa,!1,null,"8df68b90",null);const as=is.exports,ns={name:"AutomatorBlockSingleRow",components:{draggable:Ua(),AutomatorBlockSingleInput:as},props:{block:{type:Object,required:!0},updateBlock:{type:Function,required:!0},deleteBlock:{type:Function,required:!0}},data(){return{b:{},activeLine:-1,eventLine:-1,errorLine:-1}},computed:{lineNumber(){return BlockAutomator.lineNumberFromBlockID(this.b.id)},isActiveLine(){return this.lineNumber===this.activeLine},isEventLine(){return this.lineNumber===this.eventLine},isErrorLine(){return this.lineNumber===this.errorLine}},created(){this.recalculateErrorCount()},destroyed(){this.recalculateErrorCount()},mounted(){this.b=this.block},methods:{update(){const e=AutomatorHighlighter.lines;this.activeLine=e.active,this.eventLine=e.event,this.errorLine=e.error},parseRequest(){BlockAutomator.parseTextFromBlocks()},deleteBlockFromNest(e){const t=this.b.nest.findIndex((t=>t.id===e));this.b.nest.splice(t,1)},updateBlockFromNest(e,t){this.$set(this.b.nest,this.b.nest.findIndex((e=>e.id===t)),e),this.parseRequest()},removeBlock(e,t){this.deleteBlock(e,t),this.recalculateErrorCount()},recalculateErrorCount(){AutomatorData.recalculateErrors(),AutomatorBackend.currentEditingScript.id===AutomatorBackend.currentRunningScript.id&&AutomatorBackend.stop()},highlightClass(){return{"c-automator-block-row-active":this.isActiveLine,"c-automator-block-row-event":this.isEventLine,"c-automator-block-row-error":this.isErrorLine}},nextSelection(){const e=this.b.targets?this.b[this.b.targets[0]]:"";return e}}},ss=ns;var rs=(0,H.A)(ss,Ga,Na,!1,null,"70ff0acc",null);const os=rs.exports,ls={name:"AutomatorBlockEditor",components:{AutomatorBlockSingleRow:os,draggable:Ua()},computed:{lines:{get(){return this.$viewModel.tabs.reality.automator.lines},set(e){this.$viewModel.tabs.reality.automator.lines=e}},numberOfLines(){return this.lines.reduce(((e,t)=>e+cs.numberOfLinesInBlock(t)),0)}},mounted(){cs.initialize(),AutomatorData.recalculateErrors(),cs.editor.scrollTo(0,cs.previousScrollPosition),cs.gutter.style.bottom=`${cs.editor.scrollTop}px`},methods:{update(){AutomatorBackend.state.followExecution&&AutomatorBackend.jumpToActiveLine();const e=AutomatorBackend.isOn?cs.lineNumberFromBlockID(cs.currentBlockId):-1;AutomatorHighlighter.updateHighlightedLine(e,LineEnum.Active)},setPreviousScroll(){cs.previousScrollPosition=this.$refs.blockEditorElement.scrollTop,cs.gutter.style.bottom=`${cs.editor.scrollTop}px`},parseRequest(){cs.updateIdArray(),AutomatorData.recalculateErrors(),cs.parseTextFromBlocks()},updateBlock(e,t){this.lines[this.lines.findIndex((e=>e.id===t))]=e,this.parseRequest()},deleteBlock(e){const t=this.lines.findIndex((t=>t.id===e));this.lines.splice(t,1),this.parseRequest()}}},cs={editor:null,gutter:null,_idArray:[],initialize(){this.editor=document.getElementsByClassName("c-automator-block-editor")[0],this.gutter=document.getElementsByClassName("c-automator-block-editor--gutter")[0]},get lines(){return ui.view.tabs.reality.automator.lines},set lines(e){ui.view.tabs.reality.automator.lines=e,this.updateIdArray()},get currentBlockId(){return!AutomatorBackend.stack.isEmpty&&this._idArray[AutomatorBackend.stack.top.lineNumber-1]},lineNumber(e){const t=this._idArray.map(((e,t)=>e?-1:t+1)).filter((e=>-1!==e));return e-t.countWhere((t=>t<=e))},lineNumberFromBlockID(e){return this.lineNumber(this._idArray.indexOf(e)+1)},parseTextFromBlocks(e){const t=this.parseLines(cs.lines).join("\n"),i=null!==e&&void 0!==e?e:ui.view.tabs.reality.automator.editorScriptID;AutomatorData.recalculateErrors(),AutomatorBackend.saveScript(i,t)},updateEditor(e){const t=On(e).blocks;return this.lines=t,t},hasUnparsableCommands(e){const t=On(e);return t.validatedBlocks!==t.visitedBlocks},generateText(e,t=0){let i=`${"\t".repeat(t)}${e.cmd} `;i=i.replace("COMMENT","//").replace("BLOB","blob  "),e.canWait&&e.nowait&&(i=i.replace(/(\S+)/u,"$1 NOWAIT")),e.respec&&(i+=" RESPEC");const a=["genericInput1","compOperator","genericInput2","singleSelectionInput","singleTextInput"];for(const n of a)e[n]&&(i+=` ${e[n]}`);return"IF"!==e.cmd&&"WHILE"!==e.cmd&&"UNTIL"!==e.cmd||(i+=" {"),i.replace("  "," ")},parseLines(e,t=0){const i=[];for(let a=0;a<e.length;a++)i.push(this.generateText(e[a],t)),"IF"!==e[a].cmd&&"WHILE"!==e[a].cmd&&"UNTIL"!==e[a].cmd||(i.push(...this.parseLines(e[a].nest,t+1)),i.push(`${"\t".repeat(t)}}`));return i},blockIdArray(e){const t=[];for(let i=0;i<e.length;i++){const a=e[i];t.push(a.id),a.nested&&t.push(...this.blockIdArray(a.nest),void 0)}return t},updateIdArray(){this._idArray=this.blockIdArray(this.lines)},numberOfLinesInBlock(e){return e.nested?Math.max(e.nest.reduce(((e,t)=>e+this.numberOfLinesInBlock(t)),1),2):1},clearEditor(){setTimeout((()=>this.lines=[]),0)},previousScrollPosition:0},us=ls;var ds=(0,H.A)(us,Ma,Da,!1,null,"0f454411",null);const hs=ds.exports;var ps=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("draggable",{staticClass:"o-drag-cancel-region",attrs:{group:"code-blocks","ghost-class":"null-block",draggable:".draggable-blocks"}},[i("p",[e._v(" Перетягивайте эти блоки в поле слева! Названия блоков соответствуют ключевым словам команд, но после размещения их в коде на них будет отображён текст на русском языке, описывающий их функции. Это описание также будет отображено при наведении курсора мыши на блок во всплывающей подсказке. ")]),i("br"),i("p",[e._v(" Поля ввода "),i("span",{staticClass:"c-automator-input-optional"},[e._v("коричневого")]),e._v(" цвета не требуют заполнения, в то время как поля "),i("span",{staticClass:"c-automator-input-required"},[e._v("бирюзового")]),e._v(" цвета обязательны к заполнению. Данные, выделенные "),i("span",{staticClass:"c-automator-block-row-error"},[e._v("красным")]),e._v(' цветом, порождают ошибки и должны быть изменены, прежде чем программа может быть выполнена. Подробности приведены в панели "Информация о программировании". ')]),i("p",[e._v(" Опции в раскрывающихся списках, начинающиеся на *, будут замещены полем ввода. Оно может быть вновь замещено раскрывающимся списком путём нажатия на "),i("i",{staticClass:"fa-solid fa-circle-xmark"}),e._v(" справа в поле ввода. ")]),i("draggable",{staticClass:"block-container",attrs:{list:e.blocks,group:{name:"code-blocks",pull:"clone",put:!1},sort:!1,clone:e.clone}},e._l(e.blocks,(function(t){return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.alias,expression:"block.alias"}],key:t.id,staticClass:"o-automator-command o-automator-block-list draggable-blocks"},[e._v(" "+e._s(t.cmd)+" ")])})),0),i("p",[e._v(" Примечание: блоки занимают столько символов из доступного количества, сколько заняли бы эквивалентные им текстовые команды. ")])],1)},ms=[];const ys={name:"AutomatorBlocks",components:{draggable:Ua()},data(){return{allBlocks:vs.filter((e=>!Es.includes(e.cmd))),blocks:[]}},methods:{update(){this.blocks=this.allBlocks.filter((e=>{var t,i;return null===(t=null===(i=e.isUnlocked)||void 0===i?void 0:i.call(e))||void 0===t||t}))},clone(e){const t={...e,id:UIID.next()};return e.nested&&!e.nest&&(t.nest=[]),AutomatorData.recalculateErrors(),t}}},fs=["<",">",">=","<="],gs=["AM","IP","EP","RM","INFINITIES","BANKED INFINITIES","ETERNITIES","REALITIES","PENDING IP","PENDING EP","PENDING TP","PENDING RM","PENDING GLYPH LEVEL","DT","TP","RG","REP","TT","TOTAL TT","TOTAL COMPLETIONS","PENDING COMPLETIONS","EC1 COMPLETIONS","EC2 COMPLETIONS","EC3 COMPLETIONS","EC4 COMPLETIONS","EC5 COMPLETIONS","EC6 COMPLETIONS","EC7 COMPLETIONS","EC8 COMPLETIONS","EC9 COMPLETIONS","EC10 COMPLETIONS","EC11 COMPLETIONS","EC12 COMPLETIONS"],bs=["INFINITY","ETERNITY","REALITY"],vs=[{cmd:"STUDIES RESPEC",alias:"СБРОСИТЬ ИССЛЕДОВАНИЯ ВРЕМЕНИ"},{cmd:"STUDIES LOAD",alias:"ЗАГРУЗИТЬ СОХРАНЁННОЕ ДРЕВО",allowedPatterns:["AB"],A:["ID","NAME"],B:["*"],targets:["singleSelectionInput","singleTextInput"],canWait:!0},{cmd:"STUDIES PURCHASE",alias:"КУПИТЬ ИССЛЕДОВАНИЯ",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"],canWait:!0},{cmd:"INFINITY",alias:"БЕСКОНЕЧНОСТЬ",canWait:!0},{cmd:"ETERNITY",alias:"ВЕЧНОСТЬ",canRespec:!0,canWait:!0},{cmd:"REALITY",alias:"РЕАЛЬНОСТЬ",canRespec:!0,canWait:!0,isUnlocked:()=>RealityUpgrade(25).isBought},{cmd:"UNLOCK",alias:"РАЗБЛОКИРОВАТЬ",allowedPatterns:["AB","C"],A:["EC"],B:["*"],C:["DILATION"],targets:["singleSelectionInput","singleTextInput"],canWait:!0},{cmd:"START",alias:"ЗАПУСТИТЬ",allowedPatterns:["AB","C"],A:["EC"],B:["*"],C:["DILATION"],targets:["singleSelectionInput","singleTextInput"]},{cmd:"AUTO",alias:"АВТОМАТИКА",allowedPatterns:["AB"],A:bs,B:["ON","OFF","* AUTOBUYER SETTING"],targets:["singleSelectionInput","singleTextInput"]},{cmd:"BLACK HOLE",alias:"ЧЁРНАЯ ДЫРА",allowedPatterns:["A"],A:["ON","OFF"],targets:["singleSelectionInput"],isUnlocked:()=>BlackHole(1).isUnlocked},{cmd:"STORE GAME TIME",alias:"ХРАНЕНИЕ ИГРОВОГО ВРЕМЕНИ",allowedPatterns:["A"],A:["ON","OFF","USE"],targets:["singleSelectionInput"],isUnlocked:()=>Enslaved.isUnlocked},{cmd:"NOTIFY",alias:"ИГРОВОЕ УВЕДОМЛЕНИЕ:",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"]},{cmd:"COMMENT",alias:"КОММЕНТАРИЙ:",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"]},{cmd:"WAIT",alias:"ПРИОСТАНОВИТЬ АВТОМАТИЗАТОР, ДО ТЕХ ПОР КАК",allowedPatterns:["A","DE","BCB"],A:bs,B:[...gs,"* SPECIFIED CONSTANT"],C:fs,D:["BLACK HOLE"],E:["OFF","BH1","BH2"],targets:["genericInput1","compOperator","genericInput2"]},{cmd:"PAUSE",alias:"ПРИОСТАНОВИТЬ АВТОМАТИЗАТОР НА",allowedPatterns:["A"],A:["*"],targets:["singleTextInput"]},{cmd:"IF",alias:"ВЫПОЛНИТЬ БЛОК, ЕСЛИ",allowedPatterns:["ABA"],A:[...gs,"* SPECIFIED CONSTANT"],B:fs,targets:["genericInput1","compOperator","genericInput2"],nested:!0},{cmd:"UNTIL",alias:"ПОВТОРЯТЬ БЛОК, ДО ТЕХ ПОР КАК",allowedPatterns:["A","BCB"],A:bs,B:[...gs,"* SPECIFIED CONSTANT"],C:fs,targets:["genericInput1","compOperator","genericInput2"],nested:!0},{cmd:"WHILE",alias:"ПОВТОРЯТЬ БЛОК, ПОКА",allowedPatterns:["ABA"],A:[...gs,"* SPECIFIED CONSTANT"],B:fs,targets:["genericInput1","compOperator","genericInput2"],nested:!0},{cmd:"BLOB",alias:"КЛЯКСА"},{cmd:"STOP",alias:"ОСТАНОВИТЬ ВЫПОЛНЕНИЕ"}],Es=["BLOB"],Ts=vs.mapToObject((e=>e.cmd),(e=>e)),_s=ys;var Cs=(0,H.A)(_s,ps,ms,!1,null,"2a7c744f",null);const As=Cs.exports;var ks=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"c-automator-editor l-automator-editor l-automator-pane__content"})},ws=[];const Ss={name:"AutomatorTextEditor",props:{currentScriptId:{type:[Number,String],required:!0}},data(){return{markedLineNumber:0,unclearedLines:!1,isActiveScript:!1}},computed:{UI(){return xs.initialize(),xs},fullScreen(){return this.$viewModel.tabs.reality.automator.fullScreen}},watch:{currentScriptId:{handler(e,t){this.unmarkActiveLine();const i=player.reality.automator.scripts;this.UI.documents[e]&&this.UI.documents[e].getValue()===i[e].content||(this.UI.documents[e]=CodeMirror.Doc(i[e].content,"automato")),this.UI.editor.getDoc()!==this.UI.documents[e]&&this.UI.editor.swapDoc(this.UI.documents[e]),void 0!==this.UI.documents[t]&&void 0===i[t]&&delete this.UI.documents[t]},immediate:!0},fullScreen(){this.$nextTick((()=>this.UI.editor.refresh()))}},created(){xs.initialize(),this.on$(GAME_EVENT.GAME_LOAD,(()=>this.onGameLoad())),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,(()=>this.onGameLoad()))},mounted(){this.$refs.container.appendChild(this.UI.container),this.$nextTick((()=>{this.UI.editor.refresh(),this.UI.editor.performLint(),this.UI.editor.scrollTo(null,xs.savedVertPos)}))},beforeDestroy(){AutomatorHighlighter.clearAllHighlightedLines(),xs.savedVertPos=xs.editor.doc.scrollTop,this.$refs.container.removeChild(this.UI.container)},methods:{update(){AutomatorBackend.jumpToActiveLine(),this.unclearedLines&&!AutomatorBackend.isOn&&this.clearAllActiveLines(),AutomatorBackend.isOn?this.setActiveState(`${AutomatorBackend.state.topLevelScript}`,AutomatorBackend.stack.top.lineNumber):this.setActiveState("",-1)},onGameLoad(){this.UI.documents={}},unmarkActiveLine(){AutomatorHighlighter.updateHighlightedLine(-1,LineEnum.Active)},markActiveLine(e){AutomatorHighlighter.updateHighlightedLine(e,LineEnum.Active),this.unclearedLines=!0},clearAllActiveLines(){AutomatorHighlighter.clearAllHighlightedLines(),this.unclearedLines=!1},setActiveState(e,t){`${this.currentScriptId}`===e?this.markActiveLine(t):this.unmarkActiveLine()}}},xs={documents:{},wrapper:null,editor:null,container:null,textArea:null,mode:{mode:"automato",lint:"automato",lineNumbers:!0,theme:"liquibyte",tabSize:2,extraKeys:{Tab:e=>e.execCommand("indentMore"),"Shift-Tab":e=>e.execCommand("indentLess")},autoCloseBrackets:!0,lineWrapping:!0},initialize(){this.container||(this.setUpContainer(),this.setUpEditor(),EventHub.ui.on(GAME_EVENT.GAME_LOAD,(()=>this.documents={})))},setUpContainer(){this.container=document.createElement("div"),this.container.className="l-automator-editor__codemirror-container",this.textArea=document.createElement("textarea"),this.container.appendChild(this.textArea)},setUpEditor(){this.editor=CodeMirror.fromTextArea(this.textArea,this.mode),this.editor.on("beforeChange",((e,t)=>{"undo"===t.origin&&t.cancel()})),this.editor.on("keydown",((e,t)=>{const i=t.key;if(t.ctrlKey&&["z","y"].includes(i))return"z"===i&&AutomatorData.undoScriptEdit(),void("y"===i&&AutomatorData.redoScriptEdit());e.state.completionActive||t.ctrlKey||t.altKey||t.metaKey||!/^[a-zA-Z0-9 \t]$/u.test(i)||CodeMirror.commands.autocomplete(e,null,{completeSingle:!1})})),this.editor.on("change",((e,t)=>{const i=ui.view.tabs.reality.automator.editorScriptID,a=e.getDoc().getValue();"setValue"!==t.origin&&(AutomatorBackend.saveScript(i,a),AutomatorData.redoBuffer=[]),AutomatorData.recalculateErrors();const n=AutomatorData.currentErrors().length;n>e.doc.size&&SecretAchievement(48).unlock(),AutomatorHighlighter.clearAllHighlightedLines()}))},clearEditor(){this.editor||(this.setUpContainer(),this.setUpEditor()),this.editor.setValue(""),this.editor.clearHistory(),this.editor.clearGutter("gutterId")},savedVertPos:0},Rs=Ss;var Is=(0,H.A)(Rs,ks,ws,!1,null,null,null);const Ms=Is.exports;var Ds=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"tab",staticClass:"c-perk-tab"},[i("PerkPointLabel")],1)},Ps=[],Us=i(5725),Gs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-perk-tab__header"},[e._v(" У вас "),i("span",{staticClass:"c-perk-tab__perk-points"},[e._v(e._s(e.format(e.pp,2)))]),e._v(" "+e._s(e.pluralize("Очко",e.pp))+" Умения. "),i("br"),e._v(" Навыки невозможно сбросить. "),i("br"),e._v(" Квадратные Навыки при покупке дают Очки Автоматизации. "),i("br"),i("div",{staticClass:"perk-settings"},[i("PrimaryButton",{staticClass:"o-primary-btn c-button-perk-layout",on:{click:e.cycleLayout}},[e._v(" Конфигурация древа: "+e._s(e.layoutText)+" ")]),i("PrimaryButton",{class:e.physicsClassObject(),on:{click:e.togglePhysics}},[e._v(" Физика: "+e._s(e.physicsText)+" ")]),i("br"),i("PrimaryButton",{staticClass:"o-primary-btn",on:{click:e.centerTree}},[e._v(" Переместить древо с Навыком СТАРТ в центре ")]),i("PrimaryButton",{staticClass:"o-primary-btn",on:{click:e.straightenEdges}},[e._v(" Выпрямить рёбра ")])],1)])},Ns=[],Bs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",e._g({staticClass:"o-primary-btn",class:e.classObject},e.$listeners),[e._t("default")],2)},Os=[];const Ls={name:"PrimaryButton",props:{enabled:{type:Boolean,required:!1,default:!0}},computed:{classObject(){return{"o-primary-btn--disabled":!this.enabled}}}},$s=Ls;var Hs=(0,H.A)($s,Bs,Os,!1,null,null,null);const Fs=Hs.exports,qs={name:"PerkPointLabel",components:{PrimaryButton:Fs},data(){return{pp:0,treeLayout:0,physicsEnabled:!1,physicsOverride:!1}},computed:{layoutText(){return PerkLayouts[this.treeLayout].buttonText},physicsText(){var e;return(null!==(e=this.physicsOverride)&&void 0!==e?e:this.physicsEnabled)?"ВКЛ.":"ВЫКЛ."}},created(){this.treeLayout=player.options.perkLayout,this.physicsOverride=PerkLayouts[this.treeLayout].forcePhysics},methods:{update(){this.pp=Math.floor(Currency.perkPoints.value),this.physicsEnabled=player.options.perkPhysicsEnabled},togglePhysics(){void 0===this.physicsOverride&&(player.options.perkPhysicsEnabled=!player.options.perkPhysicsEnabled,PerkNetwork.setPhysics(player.options.perkPhysicsEnabled))},physicsClassObject(){return{"o-primary-btn c-button-physics":!0,"o-primary-btn--disabled":void 0!==this.physicsOverride}},centerTree(){PerkNetwork.resetPosition(!0)},straightenEdges(){PerkNetwork.setEdgeCurve(!1),PerkNetwork.setEdgeCurve(!0)},cycleLayout(){let e=(player.options.perkLayout+1)%PerkLayouts.length;while(null!==(t=null===(i=(a=PerkLayouts[e]).isUnlocked)||void 0===i?void 0:i.call(a))&&void 0!==t&&!t){var t,i,a;e=(e+1)%PerkLayouts.length}player.options.perkLayout=e,this.treeLayout=e,this.physicsOverride=PerkLayouts[this.treeLayout].forcePhysics,PerkNetwork.currentLayout=PerkLayouts[this.treeLayout],PerkNetwork.setPhysics(player.options.perkPhysicsEnabled),PerkNetwork.moveToDefaultLayoutPositions(this.treeLayout)}}},Vs=qs;var Ys=(0,H.A)(Vs,Gs,Ns,!1,null,"2eac58f5",null);const js=Ys.exports,Ws={name:"PerksTab",components:{PerkPointLabel:js},computed:{showHintText(){return ui.view.shiftDown||player.options.showHintText.perks}},watch:{showHintText(e){"S9"===ui.view.theme?Js.setLabelVisibility(!1):Js.setLabelVisibility(e)}},created(){EventHub.ui.on(GAME_EVENT.PERK_BOUGHT,(()=>Js.updatePerkColor()))},mounted(){Js.initialStabilization=!1,Js.currentLayout=Qs[player.options.perkLayout],Js.initializeIfNeeded(),"S9"===ui.view.theme?Js.setLabelVisibility(!1):Js.setLabelVisibility(ui.view.shiftDown||player.options.showHintText.perks),Js.updatePerkColor(),Js.updatePerkSize(),this.$refs.tab.appendChild(Js.container),Js.moveToDefaultLayoutPositions(player.options.perkLayout)}},Xs=()=>({[P.ANTIMATTER]:{primary:"#22aa48",secondary:"#156a2d"},[P.INFINITY]:{primary:"#b67f33",secondary:"#7b5623"},[P.ETERNITY]:{primary:"#b241e3",secondary:"#8b1cba"},[P.DILATION]:{primary:"#64dd17",secondary:"#449810"},[P.REALITY]:{primary:"#0b600e",secondary:"#063207"},[P.AUTOMATION]:{primary:"#ff0000",secondary:"#b30000"},[P.ACHIEVEMENT]:{primary:"#fdd835",secondary:"#e3ba02"}});function zs(e,t,i=1){return e.matrixTransform(t*i,0,0,t)}function Ks(e){const t=e%400,i=Math.floor(e/400);return new Vector(5*(t-200),5*(i-200))}const Qs=[{buttonText:"По умолчанию",position:e=>Ks(e.layoutPosList[0])},{buttonText:"Случайно",position:()=>new Vector(2e3*Math.random()-1e3,1200*Math.random()-600)},{buttonText:"Как в версии игры для Android",position:e=>zs(Ks(e.layoutPosList[1]),20,1.5),centerOffset:new Vector(0,120),forcePhysics:!1,straightEdges:!0},{buttonText:"Квадрат",position:e=>zs(Ks(e.layoutPosList[2]),27.5),centerOffset:new Vector(0,0),forcePhysics:!1,straightEdges:!0},{buttonText:"Прямоугольник",position:e=>zs(Ks(e.layoutPosList[3]),32.5),centerOffset:new Vector(-60,0),forcePhysics:!1,straightEdges:!0},{buttonText:"Подвешенное за Навык СТАРТ",position:e=>zs(Ks(e.layoutPosList[4]),17.5),centerOffset:new Vector(0,0),forcePhysics:!1,straightEdges:!0},{buttonText:"Клякса",position:e=>Ks(e.layoutPosList[5]),centerOffset:new Vector(50,0),forcePhysics:!1,straightEdges:!0,isUnlocked:()=>Themes.available().map((e=>e.name)).includes("S11")}],Js={container:void 0,network:void 0,nodes:void 0,minScale:.2,maxScale:4,lastPerkNotation:"",pulseTimer:0,initialStabilization:!1,currentLayout:{},initializeIfNeeded(){const e=Notations.current.name;void 0!==this.container&&e===this.lastPerkNotation||(this.lastPerkNotation=e,this.makeNetwork(),this.network.on("click",(e=>{const t=e.nodes[0];isFinite(t)&&(Perks.find(t).purchase(),this.updatePerkColor(),this.updatePerkSize())})),this.network.on("dragStart",(()=>{const e=this.container.getElementsByClassName("vis-tooltip")[0];void 0!==e&&(e.style.visibility="hidden"),this.initialStabilization||(this.setPhysics(player.options.perkPhysicsEnabled),this.initialStabilization=!0)})),this.network.on("dragging",(()=>{SecretAchievement(45).tryUnlock(),"S4"===Theme.current().name&&Js.updatePerkSize()})),this.network.on("zoom",(()=>{const e=this.network.getScale(),t=Math.clamp(e,this.minScale,this.maxScale);e!==t&&this.network.moveTo({scale:t})})),this.network.on("stabilizationIterationsDone",(()=>{this.initialStabilization||(this.resetPosition(!1),this.initialStabilization=!0),this.setPhysics(player.options.perkPhysicsEnabled)})))},makeNetwork(){function e(e){const t=document.createElement("div");return t.innerHTML=e,t}const t=e=>Pelle.isDoomed&&Pelle.uselessPerks.includes(e.id),i=e=>Qs[player.options.perkLayout].position(e);this.nodes=new Us.PG(Perks.all.map((a=>({id:a.id,label:a.config.label,shape:a.config.automatorPoints?"diamond":"dot",title:t(a)?e(`<span style='text-decoration: line-through;'>${a.config.description}</span>`):`${a.config.description} ${a.config.automatorPoints&&!t(a)?`(+${formatInt(a.config.automatorPoints)} ОА)`:""}`,x:i(a.config).x,y:i(a.config).y}))));const a=[];for(const l of Perks.all)for(const e of l.connectedPerks){const t=Math.min(l.id,e.id),i=Math.max(l.id,e.id);a.find((e=>e.from===t&&e.to===i))||a.push({from:t,to:i})}const n={nodes:this.nodes,edges:a},s={interaction:{hover:!0,hoverConnectedEdges:!1,selectConnectedEdges:!1,tooltipDelay:0},nodes:{shape:"dot",size:18,font:{size:0},borderWidth:2,shadow:!0},edges:{width:4,shadow:!0,hoverWidth:e=>e,selectionWidth:e=>e,color:{inherit:"both"},hidden:"S9"===ui.view.theme}},r=document.createElement("div");r.className="c-wide-canvas-element vis-network c-perk-network",r.tabIndex=900;const o=document.createElement("canvas");o.className="c-perk-network__canvas",r.appendChild(o),this.container=r,this.network=new Us.lg(r,n,s)},setPhysics(e){const t=void 0===this.currentLayout.forcePhysics?e:this.currentLayout.forcePhysics;this.network.setOptions({physics:{enabled:t}})},setEdgeCurve(e){const t=void 0===this.currentLayout.straightEdges?e:!this.currentLayout.straightEdges;this.network.setOptions({edges:{smooth:{enabled:t}}})},moveToDefaultLayoutPositions(e){this.setPhysics(!1),this.setEdgeCurve(!1);for(const t of Object.keys(Js.network.getPositions())){const i=Number(t),a=Perks.all.find((e=>e.id===i)).config,n=Qs[e].position(a);this.network.moveNode(i,n.x,n.y)}this.initialStabilization=!1,this.resetPosition(!1),this.setEdgeCurve(!0)},forceNetworkRemake(){this.container=void 0,this.initializeIfNeeded(),this.setPhysics(!0)},resetPosition(e){var t;const i=e?Js.network.body.nodes[GameDatabase.reality.perks.firstPerk.id]:null!==(t=Qs[player.options.perkLayout].centerOffset)&&void 0!==t?t:new Vector(0,0);this.network.moveTo({position:{x:i.x,y:i.y},scale:.4,offset:{x:0,y:0}})},setLabelVisibility(e){const t={nodes:{font:{size:e?20:0,color:Theme.current().isDark()?"#DDDDDD":"#222222"}}};this.network.setOptions(t)},updatePerkColor(){var e;this.perkColorList=null!==(e=this.perkColorList)&&void 0!==e?e:Xs();const t=this.perkColorList;function i(e){const i=t[e.config.family],a=i.primary,n=i.secondary,s=Pelle.isDoomed&&Pelle.uselessPerks.includes(e.id);if(s){const e="#00bcd4",t="crimson",i=n;return{background:e,border:i,hover:{background:t,border:i},highlight:{background:e,border:i}}}const r=e.canBeBought,o=e.isBought;let l;l=r?Theme.current().isDark()?"#EEEEEE":"#111111":o?a:Theme.current().isDark()?"#333333":"#CCCCCC";const c=r||o?a:"#656565",u=n;return{background:l,border:u,hover:{background:c,border:u},highlight:{background:l,border:u}}}const a=Perks.all.map((e=>({id:e.id,color:i(e)})));this.nodes.update(a)},updatePerkSize(){function e(e){Js.pulseTimer+=.1;const t="S4"===Theme.current().name?10*Math.sin(5*Js.pulseTimer+.1*e._config.id):0;return"START"===e._config.label?35+t:e.isBought?25+t:e.canBeBought?20+t:12+t}const t=Perks.all.map((t=>({id:t.id,size:e(t)})));this.nodes.update(t)}},Zs=Ws;var er=(0,H.A)(Zs,Ds,Ps,!1,null,"f94a4aba",null);const tr=er.exports;class ir{constructor(e){var t,i,a,n;ir.checkInputs(e),this.id=e.id,this.bitmaskIndex=e.bitmaskIndex,this.isGenerated=e.isGenerated,this.glyphTypes=e.glyphTypes,this._singleDesc=e.singleDesc,this._totalDesc=null!==(t=e.totalDesc)&&void 0!==t?t:e.singleDesc,this._genericDesc=null!==(i=e.genericDesc)&&void 0!==i?i:e.singleDesc.replace("{value}","x"),this._shortDesc=e.shortDesc,this.effect=e.effect,this.formatEffect=null!==(a=e.formatEffect)&&void 0!==a?a:e=>format(e,3,3),this.formatSingleEffect=e.formatSingleEffect||this.formatEffect,this.combine=ir.setupCombine(e),this.conversion=e.conversion,this.formatSecondaryEffect=e.formatSecondaryEffect||(e=>format(e,3,3)),this.formatSingleSecondaryEffect=e.formatSingleSecondaryEffect||this.formatSecondaryEffect,this.alteredColor=e.alteredColor,this.alterationType=e.alterationType,this._biggerIsBetter=void 0,this._enabledInDoomed=null!==(n=e.enabledInDoomed)&&void 0!==n&&n}get biggerIsBetter(){return void 0===this._biggerIsBetter&&(this._biggerIsBetter=this.checkBiggerIsBetter()),this._biggerIsBetter}get singleDesc(){const e=this._singleDesc;return"function"===typeof e?e():e}get totalDesc(){const e=this._totalDesc;return"function"===typeof e?e():e}get genericDesc(){const e=this._genericDesc;return"function"===typeof e?e():e}get shortDesc(){const e=this._shortDesc;return"function"===typeof e?e():e}get isDisabledByDoomed(){return Pelle.isDoomed&&!this._enabledInDoomed}compareValues(e,t){const i=Decimal.compare(e,t);return this.biggerIsBetter?i:-i}checkBiggerIsBetter(){const e=new Decimal(this.effect(1,1.01)),t=new Decimal(this.effect(100,2));return t.gt(e)}static checkInputs(e){const t=["id","bitmaskIndex","glyphTypes","singleDesc","totalDesc","genericDesc","effect","formatEffect","formatSingleEffect","combine","softcap","conversion","formatSecondaryEffect","formatSingleSecondaryEffect","alteredColor","alterationType","isGenerated","shortDesc","enabledInDoomed"],i=Object.keys(e).find((e=>!t.includes(e)));if(void 0!==i)throw new Error(`Glyph effect "${e.id}" includes unrecognized field "${i}"`);const a=e.glyphTypes.find((e=>!GLYPH_TYPES.includes(e)));if(void 0!==a)throw new Error(`Glyph effect "${e.id}" references unknown glyphType "${a}"`);const n=e.combine([]);if("number"!==typeof n&&!(n instanceof Decimal)){if(void 0===n.value||void 0===n.capped)throw new Error(`The combine function for Glyph effect "${e.id}" has invalid return type`);if(e.softcap)throw new Error(`The combine function for Glyph effect "${e.id}" gives capped information, but there's also a softcap method`)}}static setupCombine(e){let t=e.combine;const i=e.softcap,a=t([]);if("number"===typeof a)return void 0===i?e=>({value:t(e),capped:!1}):e=>{const a=t(e),n=i(a);return{value:n,capped:a!==n}};if(a instanceof Decimal){if(void 0===i)return e=>({value:t(e),capped:!1});const e=a.value instanceof Decimal?(e,t)=>e.neq(t):(e,t)=>e!==t;return t=a=>{const n=t(a),s=i(n.value);return{value:s,capped:n.capped||e(n.value,s)}}}return t}}const ar=[0,9e3,15e3,25e3],nr=mapGameDataToObject(Ia.reality.glyphEffects,(e=>new ir(e)));function sr(e){return nr.all.filter((t=>t.glyphTypes.includes(e)))}function rr(e){return e.reduce(((e,t)=>e+(1<<nr[t].bitmaskIndex)),0)}function or(e){return orderedEffectList.map((e=>nr[e])).filter((t=>0!==(e&1<<t.bitmaskIndex)))}function lr(e){return or(e).map((e=>e.id))}class cr{constructor(e){if(this.id=e.id,this.effects=sr(e.id),this.primaryEffect=e.primaryEffect,this._isUnlocked=e.isUnlocked,this.alchemyResource=e.alchemyResource,this.hasRarity=e.hasRarity,!GLYPH_TYPES.includes(this.id))throw new Error(`Id ${this.id} not found in GLYPH_TYPES`)}get isUnlocked(){var e,t;return null===(e=null===(t=this._isUnlocked)||void 0===t?void 0:t.call(this))||void 0===e||e}}const ur=mapGameDataToObject(Ia.reality.glyphTypes,(e=>new cr(e))),dr={...ur,random(e,t=[]){const i=generatedTypes.filter((e=>(EffarigUnlock.reality.isUnlocked||"effarig"!==e)&&!t.includes(e)));return i[Math.floor(e.uniform()*i.length)]},get list(){return GLYPH_TYPES.map((e=>dr[e]))},get locked(){return this.list.filter((e=>!e.isUnlocked))}};var hr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-automator-pane"},[i("div",{staticClass:"c-automator__controls l-automator__controls"},[i("div",{staticClass:"l-automator-button-row"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Введение в Автоматизатор",expression:"'Введение в Автоматизатор'"}],staticClass:"fa-circle-info",class:e.activePanelClass(e.panelEnum.INTRO_PAGE),on:{click:function(t){e.infoPaneID=e.panelEnum.INTRO_PAGE}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Информация о программировании",expression:"'Информация о программировании'"}],staticClass:"fa-list",class:e.activePanelClass(e.panelEnum.COMMANDS),on:{click:function(t){e.infoPaneID=e.panelEnum.COMMANDS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.errorTooltip,expression:"errorTooltip"}],staticClass:"fa-exclamation-triangle",class:e.activePanelClass(e.panelEnum.ERRORS),style:e.errorStyle,on:{click:function(t){e.infoPaneID=e.panelEnum.ERRORS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Расширенный обмен данными",expression:"'Расширенный обмен данными'"}],staticClass:"fa-window-restore",class:e.activePanelClass(e.panelEnum.DATA_TRANSFER),on:{click:function(t){e.infoPaneID=e.panelEnum.DATA_TRANSFER}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Просмотр недавно выполненных команд",expression:"'Просмотр недавно выполненных команд'"}],staticClass:"fa-eye",class:e.activePanelClass(e.panelEnum.EVENTS),on:{click:function(t){e.infoPaneID=e.panelEnum.EVENTS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Изменение определённых постоянных",expression:"'Изменение определённых постоянных'"}],staticClass:"fa-book",class:e.activePanelClass(e.panelEnum.CONSTANTS),on:{click:function(t){e.infoPaneID=e.panelEnum.CONSTANTS}}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Создание блока кода по шаблону",expression:"'Создание блока кода по шаблону'"}],staticClass:"fa-file-code",class:e.activePanelClass(e.panelEnum.TEMPLATES),on:{click:function(t){e.infoPaneID=e.panelEnum.TEMPLATES}}}),e.isBlock?i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Меню команд для блочного режима редактирования",expression:"'Меню команд для блочного режима редактирования'"}],staticClass:"fa-cubes",class:e.activePanelClass(e.panelEnum.BLOCKS),on:{click:function(t){e.infoPaneID=e.panelEnum.BLOCKS}}}):e._e(),e.fullScreen?i("span",{staticClass:"c-automator__status-text c-automator__status-text--small",class:{"c-automator__status-text--error":e.totalChars>e.maxTotalChars}},[e._v(" По всем программам: "+e._s(e.formatInt(e.totalChars))+"/"+e._s(e.formatInt(e.maxTotalChars))+" ")]):e._e(),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.fullScreenTooltip,expression:"fullScreenTooltip"}],staticClass:"l-automator__expand-corner",class:e.fullScreenIconClass,on:{click:function(t){e.fullScreen=!e.fullScreen}}})],1),i("div",{staticClass:"l-automator-button-row"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Экспорт отдельной программы для Автоматизатора",expression:"'Экспорт отдельной программы для Автоматизатора'"}],staticClass:"fa-file-export",on:{click:e.exportScript}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.importTooltip,expression:"importTooltip"}],staticClass:"fa-file-import",class:{"c-automator__status-text--error":!e.canMakeNewScript},on:{click:e.importScript}}),i("div",{staticClass:"l-automator__script-names"},[e.editingName?i("input",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.nameTooltip,expression:"nameTooltip"}],ref:"renameInput",staticClass:"l-automator__rename-input c-automator__rename-input",class:{"c-long-name-box":e.isNameTooLong},on:{blur:e.nameEdited,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.renameInput.blur()}}}):[i("ExpandingControlBox",{staticClass:"l-automator__scripts-dropdown",attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-automator-docs-script-select"},[e._v(" ▼ Текущая программа: "+e._s(e.currentEditorScriptName)+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutomatorScriptDropdownEntryList",{key:e.scriptCount})]},proxy:!0}],null,!1,2358519717)}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Переименовать программу",expression:"'Переименовать программу'"}],staticClass:"far fa-edit",on:{click:e.rename}})]],2),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Удалить эту программу",expression:"'Удалить эту программу'"}],staticClass:"fas fa-trash",on:{click:e.deleteScript}})],1)]),i("div",{staticClass:"c-automator-docs l-automator-pane__content"},[e.infoPaneID===e.panelEnum.INTRO_PAGE?i("AutomatorDocsIntroPage"):e.infoPaneID===e.panelEnum.COMMANDS?i("AutomatorDocsCommandList"):e.infoPaneID===e.panelEnum.ERRORS?i("AutomatorErrorPage"):e.infoPaneID===e.panelEnum.EVENTS?i("AutomatorEventLog"):e.infoPaneID===e.panelEnum.DATA_TRANSFER?i("AutomatorDataTransferPage"):e.infoPaneID===e.panelEnum.CONSTANTS?i("AutomatorDefinePage"):e.infoPaneID===e.panelEnum.TEMPLATES?i("AutomatorDocsTemplateList"):e.infoPaneID===e.panelEnum.BLOCKS?i("AutomatorBlocks"):e._e()],1)])},pr=[],mr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"c-automator__button l-automator__button fas",on:{click:e.emitClick}})},yr=[];const fr={name:"AutomatorButton"},gr=fr;var br=(0,H.A)(gr,mr,yr,!1,null,"a1d47f14",null);const vr=br.exports;var Er=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-panel-padding"},[e._v(" Эта страница позволяет вам импортировать и экспортировать программы с прикреплением дополнительных данных; закодированный текст также будет содержать данные о всех сохранённых Древах Исследований и постоянных, использованных в программе. Это позволяет более легко перемещать работающие программы между сохранениями, но, возможно, вам придётся заместить часть существующих данных ввиду ограниченности памяти, отведённой на сохранённые Древа и постоянные. Данные, экспортируемые с данной страницы, могут быть импортированы таким же образом, как импортируются данные отдельной программы. "),i("br"),i("br"),e._v(' Примечание: упоминание имени постоянной или команды закупки сохранённого Древа в комментариях также будут считаться "использованиями" их в программе. Так сделанно намеренно, так как предполагается, что комментарий отражает то, что сама программа пытается делать с сохранёнными Древами и постоянными. '),i("br"),i("br"),e._l(e.scripts,(function(e,t){return i("div",{key:t},[i("AutomatorDataTransferSingleEntry",{staticClass:"l-entry-margin",attrs:{script:e}})],1)}))],2)},Tr=[],_r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-entry-padding"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Экспорт полных данных программы",expression:"'Экспорт полных данных программы'"}],staticClass:"l-button-margin fas fa-file-export",on:{click:function(t){return e.exportData(e.script.id)}}}),i("b",[e._v("Название программы: "+e._s(e.script.name))]),i("br"),e.hasPresets?i("span",[i("span",{class:e.iconClass(e.hidePresets),on:{click:function(t){e.hidePresets=!e.hidePresets}}}),e._v(" Использует "+e._s(e.quantifyInt("опознанное сохранённое Древо",e.presets.length))+" "),e.hidePresets?e._e():i("span",e._l(e.presets,(function(t){return i("div",{key:t},[e.presetData[t].name?i("span",[e._v('"'+e._s(e.presetData[t].name)+'" (слот '+e._s(t+1)+"):")]):i("span",[e._v("Слот для Древа "+e._s(t+1)+":")]),i("br"),i("div",{staticClass:"l-value-padding"},[e.presetData[t].studies?i("span",[e._v(e._s(e.presetData[t].studies))]):i("i",[e._v("Пустое Древо")])])])})),0)]):i("span",[e._v(" Не использует сохранённых Древ. ")]),i("br"),e.hasConstants?i("span",[i("span",{class:e.iconClass(e.hideConstants),on:{click:function(t){e.hideConstants=!e.hideConstants}}}),e._v(" Использует "+e._s(e.quantifyInt("определённую постоянную",e.constants.length))+" "),e.hideConstants?e._e():i("span",e._l(e.constants,(function(t){return i("div",{key:t},[e._v(' "'+e._s(t)+'": '),i("br"),i("div",{staticClass:"l-value-padding"},[e._v(" "+e._s(e.constantData[t])+" ")])])})),0)]):i("span",[e._v(" Не использует определённых постоянных. ")])])},Cr=[];const Ar={name:"AutomatorDataTransferSingleEntry",props:{script:{type:Object,required:!0}},data(){return{presets:[],constants:[],hidePresets:!0,hideConstants:!0}},computed:{presetData:()=>player.timestudy.presets,constantData:()=>player.reality.automator.constants,hasPresets(){var e,t;return 0!==(null!==(e=null===(t=this.presets)||void 0===t?void 0:t.length)&&void 0!==e?e:0)},hasConstants(){var e,t;return 0!==(null!==(e=null===(t=this.constants)||void 0===t?void 0:t.length)&&void 0!==e?e:0)}},methods:{update(){this.presets=AutomatorBackend.getUsedPresets(this.script.id),this.constants=AutomatorBackend.getUsedConstants(this.script.id)},iconClass(e){return e?"far fa-plus-square":"far fa-minus-square"},exportData(e){const t=AutomatorBackend.exportFullScriptData(e);t?(copyToClipboard(t),GameUI.notify.automator(`Все данные, связанные с программой "${this.script.name}", экспортированы в буфер обмена`,6e3)):GameUI.notify.error("Невозможно экспортировать данные пустой программы!")}}},kr=Ar;var wr=(0,H.A)(kr,_r,Cr,!1,null,"636dedce",null);const Sr=wr.exports,xr={name:"AutomatorDataTransferPage",components:{AutomatorDataTransferSingleEntry:Sr},data(){return{scripts:0}},computed:{maxScriptCount:()=>AutomatorData.MAX_ALLOWED_SCRIPT_COUNT},created(){this.loadScripts(),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,(()=>{this.loadScripts()}))},methods:{loadScripts(){this.scripts=Object.values(player.reality.automator.scripts).map((e=>({id:e.id,name:e.name})))}}},Rr=xr;var Ir=(0,H.A)(Rr,Er,Tr,!1,null,"6fcfb50a",null);const Mr=Ir.exports;var Dr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-panel-padding"},[e._v(" Эта панель позволяет вам определять постоянные, которые могут быть использованы вместо чисел или кодов Древ Исследований. Постоянные общие для всех ваших программ. Вы не можете определить более "+e._s(e.quantifyInt("постоянной",e.maxConstantCount))+". Кроме того, имена и значения постоянных не могут быть длиннее "+e._s(e.maxNameLength)+" и "+e._s(e.quantifyInt("символа",e.maxValueLength))+" соответственно. Изменение постоянных не будет учтено, пока текущая программа не будет перезапущена или не завершит свою работу. "),i("br"),i("br"),e._v(" Например, вы можете определить "),i("b",[e._v("first 🠈 11,21,22,31,32,33")]),e._v(", чтобы использовать команду "),i("b",[e._v("studies purchase first")]),e._v(" для покупки всех Исследований в первых трёх рядах. "),i("br"),i("br"),i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.hasConstants?null:"У вас нет определённых постоянных, которые можно было бы удалить!",expression:"hasConstants ? null : 'У вас нет определённых постоянных, которые можно было бы удалить!'"}],staticClass:"c-delete-margin o-primary-btn--subtab-option",class:{"o-primary-btn--disabled":!e.hasConstants},on:{click:e.deleteAllConstants}},[e._v(" Удалить все постоянные ")]),i("br"),i("br"),i("PrimaryButton",{staticClass:"c-delete-margin o-primary-btn--subtab-option",on:{click:e.importPresets}},[e._v(" Импортировать сохранённые Древа Исследований ")]),i("div",{key:e.count+e.refreshConstants,staticClass:"l-definition-container"},e._l(e.constants,(function(e,t){return i("AutomatorDefineSingleEntry",{key:t,attrs:{constant:e}})})),1)],1)},Pr=[],Ur=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-single-definition-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.aliasString,expression:"aliasString"}],staticClass:"c-define-textbox c-alias",class:{"l-limit-textbox":e.aliasString.length===e.maxNameLength},attrs:{placeholder:"Имя новой постоянной...",maxlength:e.maxNameLength},domProps:{value:e.aliasString},on:{focusin:function(t){return e.handleFocus(!0)},focusout:function(t){return e.handleFocus(!1)},input:function(t){t.target.composing||(e.aliasString=t.target.value)}}}),e.aliasString?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.errorTooltip(),expression:"errorTooltip()"}],staticClass:"o-arrow-padding"},[e._v(" 🠈 ")]):e._e(),e.aliasString?i("input",{directives:[{name:"model",rawName:"v-model",value:e.valueString,expression:"valueString"}],staticClass:"c-define-textbox c-value",class:{"l-limit-textbox":e.valueString&&e.valueString.length===e.maxValueLength},attrs:{placeholder:"Значение новой постоянной...",maxlength:e.maxValueLength},domProps:{value:e.valueString},on:{focusin:function(t){return e.handleFocus(!0)},focusout:function(t){return e.handleFocus(!1)},input:function(t){t.target.composing||(e.valueString=t.target.value)}}}):e._e(),e.aliasString?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Удалить эту постоянную",expression:"'Удалить эту постоянную'"}],staticClass:"c-delete-button fas fa-eraser",on:{click:e.deleteConstant}}):e._e()])},Gr=[];const Nr={name:"AutomatorDefineSingleEntry",props:{constant:{type:String,required:!0}},data(){return{oldAlias:"",aliasString:"",valueString:""}},computed:{maxNameLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_NAME_LENGTH},maxValueLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_VALUE_LENGTH}},created(){this.aliasString=this.constant,this.oldAlias=this.aliasString,this.valueString=player.reality.automator.constants[this.aliasString]},methods:{currentError(){if(!this.aliasString)return null;const e=this.aliasString.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/u),t=Object.keys(player.reality.automator.constants).includes(this.aliasString)&&this.aliasString!==this.oldAlias,i=_n.some((e=>{const t=this.aliasString.toLowerCase().match(e);return!!t&&t[0]===this.aliasString.toLowerCase()})),a=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","toValueOf"].some((e=>this.aliasString.match(e)));if(!e)return"Имя постоянной может содержать только цифры и буквы английского алфавита и не может начинаться с цифры";if(t)return"Вы уже определили постоянную с таким же именем";if(i)return"Имя постоянной не может совпадать с ключевым словом команды";if(a)return"Имя постоянной не может начинаться со встроенного в Javascript свойства прототипа";if(!this.valueString)return"Значение постоянной не может быть пустой строкой";const n=this.valueString.match(/^-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?$/u),s=TimeStudyTree.isValidImportString(this.valueString);return n||s?null:"Значение постоянной должно быть либо числом, либо кодом Древа Исследований"},errorTooltip(){const e=this.currentError();if(e)return{content:`<div class="c-block-automator-error">\n          <div>${e}</div>\n        </div>`,html:!0,trigger:"manual",show:!0,classes:["general-tooltip"]}},handleFocus(e){e||this.currentError()||(this.aliasString?this.oldAlias?this.oldAlias===this.aliasString?AutomatorBackend.modifyConstant(this.aliasString,this.valueString):AutomatorBackend.renameConstant(this.oldAlias,this.aliasString):AutomatorBackend.addConstant(this.aliasString,this.valueString):AutomatorBackend.deleteConstant(this.oldAlias),this.oldAlias=this.aliasString,AutomatorData.recalculateErrors(),player.reality.automator.type===AUTOMATOR_TYPE.BLOCK&&BlockAutomator.parseTextFromBlocks())},deleteConstant(){AutomatorBackend.deleteConstant(this.aliasString),this.oldAlias="",this.aliasString="",this.valueString=""}}},Br=Nr;var Or=(0,H.A)(Br,Ur,Gr,!1,null,"39a3cb29",null);const Lr=Or.exports,$r={name:"AutomatorDefinePage",components:{AutomatorDefineSingleEntry:Lr,PrimaryButton:Fs},data(){return{constants:[],count:0,refreshConstants:!1}},computed:{maxConstantCount(){return AutomatorData.MAX_ALLOWED_CONSTANT_COUNT},maxNameLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_NAME_LENGTH},maxValueLength(){return AutomatorData.MAX_ALLOWED_CONSTANT_VALUE_LENGTH},hasConstants(){return this.constants.length>1||""!==this.constants[0]}},created(){this.on$(GAME_EVENT.AUTOMATOR_CONSTANT_CHANGED,(()=>{this.refreshConstants=!0,this.$nextTick((()=>this.refreshConstants=!1))}))},methods:{update(){const e=player.reality.automator.constantSortOrder;this.count=e.length,this.constants=this.count<this.maxConstantCount?[...e,""]:[...e]},deleteAllConstants(){this.hasConstants&&Modal.clearAutomatorConstants.show()},importPresets(){Modal.importTSConstants.show()}}},Hr=$r;var Fr=(0,H.A)(Hr,Dr,Pr,!1,null,"31d50cde",null);const qr=Fr.exports;var Vr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[-1!==e.selectedCommand?i("div",[i("button",{staticClass:"c-automator-docs--button l-return-button fas fa-arrow-left",on:{click:function(t){e.selectedCommand=-1}}}),e._v(" Назад к списку команд ")]):e._e(),-1!==e.selectedCommand?i("AutomatorDocsManPage",{attrs:{command:e.commands[e.selectedCommand]}}):i("div",{staticClass:"c-automator-docs-page"},[e._v(" Нажмите на подчёркнутую команду, чтобы просмотреть подробности по её синтаксису, использованию и функциональности. "),i("br"),i("br"),i("span",[e._v("Список команд:")]),i("br"),e._l(e.categoryNames,(function(t,a){return i("div",{key:a},[e._v(" "+e._s(t)+" "),e._l(e.commandsInCategory(a),(function(t){return i("div",{key:t.id,staticClass:"c-automator-docs-page__link l-command-group",on:{click:function(i){e.selectedCommand=t.id}}},[t.isUnlocked()?i("span",[e._v(" "+e._s(t.keyword)+" ")]):e._e()])}))],2)})),i("br"),i("span",[e._v(" Примечание: в описании синтаксиса каждой команды "),i("u",[e._v("подчёркнутые")]),e._v(" параметры должны "),i("i",[e._v("обязательно")]),e._v(" быть даны, в то время как параметры в [квадратных скобках] необязательны (при их наличии скобки вводить "),i("i",[e._v("не нужно")]),e._v("). Все остальные части команды должны быть введены в той форме, в которой они показаны. Если не сказано иное, регистр не важен. У некоторых команд есть несколько допустимых форматов, в таком случае они отображаются в разных строках. ")])],2)],1)},Yr=[],jr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-docs-page"},[i("b",[e._v("КЛЮЧЕВОЕ СЛОВО")]),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(e.command.keyword)}}),i("b",[e._v("СИНТАКСИС")]),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(e.command.syntax)}}),e.command.description?[i("b",[e._v("ОПИСАНИЕ")]),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(e.description)}})]:e._e(),e._l(e.command.sections,(function(t){return[i("b",{key:t.name},[e._v(e._s(t.name))]),e._l(t.items,(function(t){return[i("div",{key:t.header,staticClass:"c-automator-docs-page__indented"},[i("div",{domProps:{innerHTML:e._s(t.header)}}),i("div",{staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(t.description)}})])]}))]})),e.command.examples?[i("b",[e._v("ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ")]),e._l(e.command.examples,(function(t){return i("div",{key:t,staticClass:"c-automator-docs-page__indented",domProps:{innerHTML:e._s(t)}})}))]:e._e()],2)},Wr=[];const Xr={name:"AutomatorDocsManPage",props:{command:{type:Object,required:!0}},computed:{description(){const e=this.command.description;return"function"===typeof e?e():e}}},zr=Xr;var Kr=(0,H.A)(zr,jr,Wr,!1,null,"4682bbea",null);const Qr=Kr.exports,Jr={name:"AutomatorDocsCommandList",components:{AutomatorDocsManPage:Qr},data(){return{selectedCommand:-1}},computed:{categoryNames:()=>GameDatabase.reality.automator.categoryNames,commands:()=>GameDatabase.reality.automator.commands},methods:{commandsInCategory(e){return this.commands.filter((t=>t.category===e&&t.isUnlocked()))}}},Zr=Jr;var eo=(0,H.A)(Zr,Vr,Yr,!1,null,"ed204e7c",null);const to=eo.exports;var io=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ao=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(' Добро пожаловать в Автоматизатор "Измерений Антиматерии"! '),i("br"),i("br"),e._v(" Это вводная страница, дающая общий обзор всего, что можно делать с Автоматизатором. Подробности по определённой функциональности могут быть найдены на соответствующих страницах Автоматизатора. "),i("br"),i("br"),i("b",[e._v("Язык программирования:")]),e._v(" Автоматизатор использует особый язык программирования, чтобы совершать определённые действия в игре. Нажмите на кнопку "),i("div",{staticClass:"fas fa-list c-automator-button-icon"}),e._v(" для просмотра списка доступных команд. Вы также можете определять постоянные, служащие сокращениями определённых значений, на странице "),i("div",{staticClass:"fas fa-book c-automator-button-icon"}),e._v(". "),i("br"),i("br"),i("b",[e._v("Интерфейс")]),e._v(" Автоматизатора разделён на две половины; левая половина содержит поле программы и кнопки для запуска, остановки и перезапуска программы, а правая - информацию об Автоматизаторе. Вы можете нажать кнопку "),i("div",{staticClass:"fas fa-expand-arrows-alt c-automator-button-icon"}),e._v(" в правом верхнем углу, чтобы переключить Автоматизатор в полноэкранный режим для удобства редактирования. "),i("br"),i("br"),i("b",[e._v("Режимы редактирования:")]),e._v(" Существуют два режима, в которых вы можете редактировать программы для Автоматизатора: блочный (по умолчанию) и текстовый. Вы можете переключаться между режимами редактирования с помощью кнопки в правом верхнем углу левой половины интерфейса. Заметьте, что программы, содержащие ошибки, могут быть неправильно преобразованы для другого режима, что может привести к потере части программы. Команды в текстовом режиме вводятся на английском языке, в то время как блоки переведены на русский язык вместе с их параметрами. "),i("br"),i("br"),i("b",[e._v("Управление программами:")]),e._v(" Вы можете переключаться между несколькими программами или создавать новые с помощью раскрывающегося списка во втором ряду кнопок. Текущая программа может быть переименована или удалена с помощью кнопок "),i("div",{staticClass:"fas fa-edit c-automator-button-icon"}),e._v(" и "),i("div",{staticClass:"fas fa-trash c-automator-button-icon"}),e._v(" соответственно. У Автоматизатора всегда будет хотя бы одна программа; при удалении последней будет автоматически создана пустая программа. "),i("br"),i("br"),i("b",[e._v("Редактирование программ:")]),e._v(" в блочном режиме программы составляются из блоков с панели "),i("div",{staticClass:"fas fa-cubes c-automator-button-icon"}),e._v(", а в текстовом режиме программы вводятся в левую половину. В обоих режимах редактирования вы также можете генерировать маленький блок кода по шаблону из страницы "),i("div",{staticClass:"fas fa-file-code c-automator-button-icon"}),e._v(". Вы можете отменять и возвращать ограниченное количество изменений соответственно с помощью кнопок "),i("div",{staticClass:"fas fa-arrow-rotate-left c-automator-button-icon"}),e._v(" и "),i("div",{staticClass:"fas fa-arrow-rotate-right c-automator-button-icon"}),e._v(" или соответствующих горячих клавиш. Журнал изменений очищается при переключении на другие программу или режим редактирования или удалении программы. "),i("br"),i("br"),i("b",[e._v("Отладка:")]),e._v(" Два главных инструмента, данных вам для отладки ваших программ, - это журнал ошибок "),i("div",{staticClass:"fas fa-exclamation-triangle c-automator-button-icon"}),e._v(", используемый, когда ваша программа отказывается работать совсем, и журнал событий "),i("div",{staticClass:"fas fa-eye c-automator-button-icon"}),e._v(", используемый, когда программа работает, но не так, как вы ожидаете. "),i("br"),i("br"),i("b",[e._v("Импорт и экспорт")]),e._v(" программ для Автоматизатора в текстовой кодировке осуществляется с помощью кнопок "),i("div",{staticClass:"fas fa-file-export c-automator-button-icon"}),e._v(" и "),i("div",{staticClass:"fas fa-file-import c-automator-button-icon"}),e._v(" соответственно. Вам также доступны расширенные возможности экспорта на странице "),i("div",{staticClass:"fas fa-window-restore c-automator-button-icon"}),e._v(". "),i("br"),i("br"),i("b",[e._v("Хранение программ:")]),e._v(" обратите внимание, что изменения к программам сохраняются на ваш компьютер не сразу, а периодически - вместе со всеми остальными данными игры. Кроме того, есть два ограничения на количество символов в программах, показанных прямо над интерфейсом Автоматизатора. ")])}];const no={name:"AutomatorDocsIntroPage"},so=no;var ro=(0,H.A)(so,io,ao,!1,null,"01b42b51",null);const oo=ro.exports;var lo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" Эти шаблоны позволяют вам быстро составить блок кода для выполнения часто возникающих задач. Генерированный код может оказаться немного медленнее, чем код, написанный вручную, зато вам не нужно разбираться в программировании, если вы никогда им не занимались. При нажатии любой из этих кнопок откроется окно с определёнными полями ввода, которое генерирует шаблонный блок кода, который вы сможете использовать в вашей программе для Автоматизатора. "),e._l(e.templates,(function(t){return i("button",{key:t.name,staticClass:"o-primary-btn c-automator-docs-template--button l-automator__button",on:{click:function(i){return e.showModal(t)}}},[e._v(" Шаблон: "+e._s(t.name)+" ")])})),e._v(" Поскольку вы сейчас в "+e._s(e.isBlock?"блочном":"текстовом")+" режиме редактирования, "+e._s(e.pasteText)+". "),i("br"),i("br"),e.isBlock?i("draggable",{key:e.blockTemplates.length,staticClass:"template-container",attrs:{list:e.blockTemplates,group:{name:"code-blocks",pull:"clone",put:!1},sort:!1},on:{end:e.unpackTemplateBlocks}},e._l(e.blockTemplates,(function(t,a){return i("div",{key:a,staticClass:"o-automator-command o-automator-block-list draggable-blocks",on:{dragstart:function(t){return e.setIndex(a)}}},[e._v(" "+e._s(t.name)+" ")])})),0):e._e()],2)},co=[];const uo={name:"AutomatorDocsTemplateList",data(){return{isBlock:!1,blockTemplates:[],selectedTemplateID:-1}},computed:{templates:()=>GameDatabase.reality.automator.templates.scripts,pasteText(){return this.isBlock?"будет создан специальный блок, который вы сможете перетянуть в то место в поле программы, где вы хотите его поместить. При этом\n          он будет автоматически преобразован в группу блоков, соответствующих шаблону":"шаблон будет скопирован в буфер обмена в виде текста. Затем вы сможете напрямую вставить его в желаемое место программы"}},methods:{update(){this.isBlock=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK,this.blockTemplates=AutomatorData.blockTemplates},showModal(e){Modal.automatorScriptTemplate.show(e)},unpackTemplateBlocks(e){const t=this.blockTemplates[this.selectedTemplateID].blocks,i=BlockAutomator.lines.slice(0,e.newIndex),a=BlockAutomator.lines.slice(e.newIndex).filter((e=>e.cmd)),n=Math.max(...BlockAutomator._idArray.filter((e=>e))),s=Math.min(...t.map((e=>e.id))),r=[];for(const o of t)r.push({...o,id:o.id+n-s+1});BlockAutomator.lines=i,BlockAutomator.lines.push(...r),BlockAutomator.lines.push(...a),BlockAutomator.updateIdArray()},setIndex(e){this.selectedTemplateID=e}}},ho=uo;var po=(0,H.A)(ho,lo,co,!1,null,"06c95672",null);const mo=po.exports;var yo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-docs-page"},[0===e.errors.length?i("div",[e._v(" Программа не содержит ошибок! ")]):i("div",[i("b",[e._v("В вашей программе "+e._s(e.pluralize("найдена",e.errors.length))+" "+e._s(e.quantify("ошибка",e.errors.length))+":")]),i("br"),e._l(e.errors,(function(t,a){return i("span",{key:a},[i("b",[e._v("В строке "+e._s(t.startLine)+":")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Перейти к этой строке",expression:"'Перейти к этой строке'"}],staticClass:"c-automator-docs--button fas fa-arrow-circle-right",on:{click:function(i){return e.scrollToLine(t.startLine)}}}),i("div",{staticClass:"c-automator-docs-page__indented"},[e._v(" "+e._s(t.info)+" ")]),i("div",{staticClass:"c-automator-docs-page__indented"},[i("i",[e._v("Предлагаемый способ устранения: "+e._s(t.tip))])])])})),i("i",[e._v(' Примечание: иногда Автоматизатор не может правильно интерпретировать часть программы после ошибки. Это может привести к тому, что некоторые ошибки "исчезнут" из-за ошибки на одной из предыдущих строк, или ошибка в команде, имеющей внутренний блок кода (например, IF, WHILE), приведёт к отображению ошибки на одной из следующих строк, даже если она на самом деле не содержит ошибку. Кроме того, иногда предлагаемый способ устранения ошибки может навредить программе, так как причина появления ошибки неясна. ')])],2)])},fo=[];const go={name:"AutomatorErrorPage",data(){return{errors:[]}},methods:{update(){this.errors=AutomatorData.currentErrors()},scrollToLine(e){AutomatorScroller.scrollToLine(e),AutomatorHighlighter.updateHighlightedLine(e,LineEnum.Error)}}},bo=go;var vo=(0,H.A)(bo,yo,fo,!1,null,"29243112",null);const Eo=vo.exports;var To=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-docs-page"},[i("div",[e._v(" В этой панели вы можете просмотреть журнал команд, недавно выполненных Автоматизатором, с небольшим количеством дополнительной информации о некоторых командах. Он может пригодиться вам для обнаружения проблем с программой, если Автоматизатор застрянет в её определённой части. "),i("br"),i("br"),e._v(" Хотя настройки журнала находятся в вашем сохранении, самих событий там нет, и журнал очищается при закрытии игры. "),i("br"),i("br"),i("b",[e._v("Сортировка записей:")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Сначала старые",expression:"'Сначала старые'"}],staticClass:"fa-angle-down",class:e.buttonClassObject,style:e.sortStyle(!e.newestFirst),on:{click:function(t){e.newestFirst=!1}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Сначала новые",expression:"'Сначала новые'"}],staticClass:"fa-angle-up",class:e.buttonClassObject,style:e.sortStyle(e.newestFirst),on:{click:function(t){e.newestFirst=!0}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.clearTooltip,expression:"clearTooltip"}],staticClass:"fa-trash",class:e.buttonClassObject,on:{click:e.clearLog}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Очищать журнал на реальности",expression:"'Очищать журнал на реальности'"}],staticClass:"fa-eraser",class:e.buttonClassObject,style:e.clearRealityStyle(),on:{click:function(t){e.clearOnReality=!e.clearOnReality}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Очищать журнал при перезапуске программы",expression:"'Очищать журнал при перезапуске программы'"}],staticClass:"fa-backspace",class:e.buttonClassObject,style:e.clearRestartStyle(),on:{click:function(t){e.clearOnRestart=!e.clearOnRestart}}})]),i("div",[i("b",[e._v("Формат временных меток:")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Скрыть",expression:"'Скрыть'"}],staticClass:"fa-ban",class:e.buttonClassObject,style:e.timestampStyle("DISABLED"),on:{click:function(t){return e.setTimestampMode("DISABLED")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Реальное время в текущей реальности",expression:"'Реальное время в текущей реальности'"}],staticClass:"fa-stopwatch",class:e.buttonClassObject,style:e.timestampStyle("THIS_REALITY"),on:{click:function(t){return e.setTimestampMode("THIS_REALITY")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Время, прошедешее с момента события",expression:"'Время, прошедешее с момента события'"}],staticClass:"fa-clock",class:e.buttonClassObject,style:e.timestampStyle("RELATIVE_NOW"),on:{click:function(t){return e.setTimestampMode("RELATIVE_NOW")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Время от прошлого события до данного",expression:"'Время от прошлого события до данного'"}],staticClass:"fa-arrow-left",class:e.buttonClassObject,style:e.timestampStyle("RELATIVE_PREV"),on:{click:function(t){return e.setTimestampMode("RELATIVE_PREV")}}}),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Дата и время",expression:"'Дата и время'"}],staticClass:"fa-user-clock",class:e.buttonClassObject,style:e.timestampStyle("DATE_TIME"),on:{click:function(t){return e.setTimestampMode("DATE_TIME")}}})]),e._l(e.events,(function(t,a){return i("span",{key:a},[i("b",[e._v("Строка "+e._s(t.line)+e._s(e.timestamp(t))+":")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Перейти к этой строке",expression:"'Перейти к этой строке'"}],staticClass:"fa-arrow-circle-right",class:e.buttonClassObject,on:{click:function(i){return e.scrollToLine(t.line)}}}),i("div",{staticClass:"c-automator-docs-page__indented"},[i("i",[e._v(e._s(t.message))])])])}))],2)},_o=[];const Co={name:"AutomatorEventLog",data(){return{unsortedEvents:[],newestFirst:!1,timestampMode:0,currentTime:0,maxEntries:0,clearOnReality:!1,clearOnRestart:!1}},computed:{events(){const e=this.unsortedEvents.sort(((e,t)=>e.timestamp===t.timestamp?e.thisReality===t.thisReality?e.line-t.line:e.thisReality-t.thisReality:e.timestamp-t.timestamp));return this.newestFirst?e.reverse():e},clearTooltip(){return"Очистить журнал"},buttonClassObject(){return"c-automator-docs--button fas"}},watch:{newestFirst(e){player.options.automatorEvents.newestFirst=e},timestampMode(e){player.options.automatorEvents.timestampType=e},clearOnReality(e){player.options.automatorEvents.clearOnReality=e},clearOnRestart(e){player.options.automatorEvents.clearOnRestart=e}},methods:{update(){const e=player.options.automatorEvents;this.unsortedEvents=AutomatorData.eventLog,this.newestFirst=e.newestFirst,this.timestampMode=e.timestampType,this.currentTime=Date.now(),this.maxEntries=e.maxEntries,this.clearOnReality=e.clearOnReality,this.clearOnRestart=e.clearOnRestart},clearLog(){AutomatorData.clearEventLog(),this.update()},sortStyle(e){return{"background-color":e?"var(--color-reality)":""}},timestampStyle(e){return{"background-color":this.timestampMode===Ao[e]?"var(--color-reality)":""}},clearRealityStyle(){return{"background-color":this.clearOnReality?"var(--color-reality)":""}},clearRestartStyle(){return{"background-color":this.clearOnRestart?"var(--color-reality)":""}},setTimestampMode(e){this.timestampMode=Ao[e]},timestamp(e){switch(this.timestampMode){case Ao.DISABLED:return"";case Ao.THIS_REALITY:return`, ${TimeSpan.fromSeconds(e.thisReality).toStringShort()} реального времени с начала реальности`;case Ao.RELATIVE_NOW:return`, ${TimeSpan.fromMilliseconds(this.currentTime-e.timestamp).toStringShort()} назад`;case Ao.RELATIVE_PREV:return e.timegap===e.timestamp?", первое записанное событие":`, через ${TimeSpan.fromMilliseconds(e.timegap).toStringShort()} после прошлого события`;case Ao.DATE_TIME:return`, ${Time.toDateTimeString(e.timestamp)}`;default:throw Error("Unrecognized timestamp mode in Automator event log")}},scrollToLine(e){AutomatorScroller.scrollToLine(e),AutomatorHighlighter.updateHighlightedLine(e,LineEnum.Event)}}},Ao={DISABLED:0,THIS_REALITY:1,RELATIVE_NOW:2,RELATIVE_PREV:3,DATE_TIME:4},ko=Co;var wo=(0,H.A)(ko,To,_o,!1,null,"702d4e81",null);const So=wo.exports;var xo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{key:e.scripts.length},[e._l(e.scripts,(function(t){return i("div",{key:t.id,staticClass:"l-script-option c-script-option-hover-effect",class:e.labelClassObject(t.id),on:{click:function(i){return e.changeScriptID(t.id)}}},[e._v(" "+e._s(e.dropdownLabel(t))+" ")])})),e.canMakeNewScript?i("div",{staticClass:"l-create-script c-automator-docs-script-select c-script-option-hover-effect",on:{click:function(t){return e.createNewScript()}}},[i("i",[e._v("Создать новую программу ("+e._s(e.formatInt(e.scriptCount))+" / "+e._s(e.formatInt(e.maxScriptCount))+")")])]):i("div",{staticClass:"l-create-script c-automator-docs-script-select l-max-scripts"},[i("i",[e._v("Вы не можете создать более "+e._s(e.formatInt(e.maxScriptCount))+" программ!")])])],2)},Ro=[];const Io={name:"AutomatorScriptDropdownEntryList",data(){return{isBlock:!1,currentScriptID:0,runningScriptID:0,isRunning:!1,isPaused:!1,canMakeNewScript:!1}},computed:{scripts(){return Object.values(player.reality.automator.scripts).map((e=>({id:e.id,name:e.name})))},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},scriptCount(){return Object.keys(player.reality.automator.scripts).length},maxScriptCount(){return AutomatorData.MAX_ALLOWED_SCRIPT_COUNT}},created(){this.currentScriptID=player.reality.automator.state.editorScript,this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,(()=>{this.$recompute("scripts")}))},methods:{update(){this.isBlock=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK,this.runningScriptID=AutomatorBackend.state.topLevelScript,this.isRunning=AutomatorBackend.isRunning,this.isPaused=AutomatorBackend.isOn&&!AutomatorBackend.isRunning,this.canMakeNewScript=this.scriptCount<this.maxScriptCount},changeScriptID(e){this.currentScriptID=e,player.reality.automator.state.editorScript=e,this.updateCurrentScriptID()},createNewScript(){const e=AutomatorBackend.newScript();player.reality.automator.state.editorScript=e.id,this.updateCurrentScriptID(),this.$parent.$parent.rename()},updateCurrentScriptID(){const e=player.reality.automator.scripts;this.currentScriptID=player.reality.automator.state.editorScript,void 0===e[this.currentScriptID]&&(this.currentScriptID=Number(Object.keys(e)[0]),player.reality.automator.state.editorScript=this.currentScriptID),this.isBlock&&this.$nextTick((()=>BlockAutomator.updateEditor(this.currentScript))),this.$parent.openRequest=!1,AutomatorData.clearUndoData()},dropdownLabel(e){const t=[];e.id===this.currentScriptID&&t.push("просматривается"),e.id===this.runningScriptID&&(this.isRunning?t.push("выполняется"):this.isPaused&&t.push("остановлено"));const i=t.length?`(${t.join(", ")})`:"";return`${e.name} ${i}`},labelClassObject(e){const t=this.isRunning||this.isPaused;return{"c-automator-docs-script-select":!0,"l-active-script":e===this.runningScriptID&&t,"l-selected-script":e===this.currentScriptID&&(e!==this.runningScriptID||!t)}}}},Mo=Io;var Do=(0,H.A)(Mo,xo,Ro,!1,null,"5adafbb0",null);const Po=Do.exports;var Uo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"root",staticClass:"l-expanding-control-box",class:e.rootClassObject},[i("div",{ref:"container",staticClass:"l-expanding-control-box__container",class:e.containerClassObject,style:e.containerStyle,on:{transitionend:e.transitionEnd,mouseenter:e.mouseOn,mouseleave:e.mouseOff}},[e.$slots.header?i("div",{ref:"expandButton",on:{click:e.handleClick}},[e._t("header")],2):i("div",{ref:"expandButton",class:e.buttonClass,on:{click:e.handleClick}},[e._v(" "+e._s(e.label)+" "),i("span",{class:e.indicatorArrowClassObject},[e._v(" ▼ ")])]),i("div",{ref:"dropdown"},[e._t("dropdown")],2)])])},Go=[];const No={name:"ExpandingControlBox",props:{containerClass:{type:String,required:!1,default:void 0},label:{type:String,required:!1,default:void 0},widthSource:{type:String,required:!1,default:void 0},buttonClass:{type:String,required:!1,default:"l-expanding-control-box__button"},autoClose:{type:Boolean,required:!1,default:!1}},data(){return{state:null,openRequest:!1,closedHeight:"1em",openHeight:"1em",hasMouse:!1,closeTime:0}},computed:{states:()=>({CLOSED:{name:"CLOSED",transition:!1,visibility:!1,height:"closed"},OPEN_REQUESTED:{name:"OPEN_REQUESTED",transition:!0,visibility:!0,height:"closed"},OPENING:{name:"OPENING",transition:!0,visibility:!0,height:"open"},OPEN:{name:"OPEN",transition:!1,visibility:!0,height:null},CLOSE_REQUESTED:{name:"CLOSE_REQUESTED",transition:!1,visibility:!0,height:"open"},CLOSING:{name:"CLOSING",transition:!0,visibility:!0,height:"closed"}}),maxHeight(){return"open"===this.state.height?this.openHeight:"closed"===this.state.height?this.closedHeight:null},rootClassObject(){return{"l-expanding-control-box--controls-width":void 0!==this.widthSource}},containerStyle(){return{maxHeight:this.maxHeight,visibility:this.state.visibility}},containerClassObject(){var e;const t={"l-expanding-control-box__container--transition":null===(e=this.state)||void 0===e?void 0:e.transition};return t[this.containerClass]=!0,t},indicatorArrowClassObject(){return{"c-indicator-arrow":!0,"c-indicator-arrow--flipped":this.state===this.states.OPENING||this.state===this.states.OPEN}}},watch:{state(e){switch(this.processRequest(e,this.openRequest),this.updateHeightInfo(),this.state){case this.states.CLOSED:break;case this.states.OPEN_REQUESTED:this.$nextTick((()=>this.state=this.states.OPENING));break;case this.states.OPENING:break;case this.states.OPEN:break;case this.states.CLOSE_REQUESTED:this.$nextTick((()=>this.state=this.states.CLOSING));break;case this.CLOSING:break}},openRequest(e){this.processRequest(this.state,e)}},created(){this.state=this.states.CLOSED,this.on$("openrequest",(()=>this.openRequest=!0))},mounted(){this.updateHeightInfo(),this.$refs.root.style.height=this.closedHeight,this.updateBaseWidth()},methods:{update(){const e=this.hasMouse?0:(Date.now()-this.closeTime)/1e3;this.autoClose&&this.state===this.states.OPEN&&e>1&&(this.openRequest=!1)},processRequest(e,t){!t||e!==this.states.CLOSED&&e!==this.states.CLOSE_REQUESTED||(this.state=this.states.OPEN_REQUESTED),t||e!==this.states.OPEN&&e!==this.states.OPEN_REQUESTED||(this.state=this.states.CLOSE_REQUESTED)},updateBaseWidth(){"content"===this.widthSource?(this.$refs.container.style.width=`${this.$refs.dropdown.offsetWidth}px`,this.$refs.root.style.width=`${this.$refs.dropdown.offsetWidth}px`):"header"===this.widthSource&&(this.$refs.root.style.width=`${this.$refs.container.offsetWidth}px`)},updateHeightInfo(){const e=this.$refs.expandButton.offsetHeight;this.closedHeight=`${e}px`,this.openHeight=`${e+this.$refs.dropdown.offsetHeight}px`},transitionEnd(e){"max-height"===e.propertyName&&(this.state===this.states.OPENING?this.state=this.states.OPEN:this.state===this.states.CLOSING&&(this.state=this.states.CLOSED))},handleClick(){this.openRequest=!this.openRequest,this.hasMouse=this.openRequest},mouseOn(){this.hasMouse=!0},mouseOff(){this.hasMouse=!1,this.closeTime=Date.now()}}},Bo=No;var Oo=(0,H.A)(Bo,Uo,Go,!1,null,"3584cbe8",null);const Lo=Oo.exports,$o={INTRO_PAGE:0,COMMANDS:1,ERRORS:2,EVENTS:3,DATA_TRANSFER:4,CONSTANTS:5,TEMPLATES:6,BLOCKS:7},Ho={name:"AutomatorDocs",components:{AutomatorButton:vr,AutomatorDocsCommandList:to,AutomatorErrorPage:Eo,AutomatorEventLog:So,AutomatorDataTransferPage:Mr,AutomatorBlocks:As,AutomatorDocsIntroPage:oo,AutomatorDocsTemplateList:mo,AutomatorDefinePage:qr,AutomatorScriptDropdownEntryList:Po,ExpandingControlBox:Lo},data(){return{isBlock:!1,infoPaneID:1,errorCount:0,editingName:!1,isNameTooLong:!1,scripts:[],runningScriptID:0,totalChars:0,scriptCount:0,canMakeNewScript:!0}},computed:{fullScreen:{get(){return this.$viewModel.tabs.reality.automator.fullScreen},set(e){this.$viewModel.tabs.reality.automator.fullScreen=e,AutomatorData.isEditorFullscreen=e}},fullScreenIconClass(){return this.fullScreen?"fa-compress-arrows-alt":"fa-expand-arrows-alt"},fullScreenTooltip(){return this.fullScreen?"Выйти из полноэкранного режима":"Полноэкранный режим"},errorTooltip(){return`Ваша программа содержит ${quantifyInt("ошибку",this.errorCount)}`},nameTooltip(){return this.isNameTooLong?`Название программы не может быть длиннее ${quantifyInt("символа",AutomatorData.MAX_ALLOWED_SCRIPT_NAME_LENGTH)}!`:""},currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(e){this.$viewModel.tabs.reality.automator.editorScriptID=e,AutomatorTextUI.editor&&AutomatorTextUI.editor.performLint()}},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},errorStyle(){return{"background-color":0===this.errorCount?"":"red"}},maxTotalChars(){return AutomatorData.MAX_ALLOWED_TOTAL_CHARACTERS},maxScriptCount(){return AutomatorData.MAX_ALLOWED_SCRIPT_COUNT},panelEnum(){return $o},importTooltip(){return this.canMakeNewScript?"Импорт отдельной программы или данных для Автоматизатора":"У вас слишком много программ, чтобы импортировать ещё!"},currentEditorScriptName(){return this.scripts.find((e=>e.id===this.currentScriptID)).name}},watch:{infoPaneID(e){player.reality.automator.currentInfoPane=e}},created(){this.on$(GAME_EVENT.GAME_LOAD,(()=>this.onGameLoad())),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,(()=>this.onGameLoad())),this.on$(GAME_EVENT.AUTOMATOR_TYPE_CHANGED,(()=>this.openMatchingAutomatorTypeDocs())),this.onGameLoad()},destroyed(){this.fullScreen=!1},methods:{update(){this.isBlock=player.reality.automator.type===Yn.BLOCK,this.infoPaneID=player.reality.automator.currentInfoPane,this.errorCount=AutomatorData.currentErrors().length,this.runningScriptID=AutomatorBackend.state.topLevelScript,this.totalChars=AutomatorData.totalScriptCharacters(),this.scriptCount=Object.keys(player.reality.automator.scripts).length,this.canMakeNewScript=this.scriptCount<this.maxScriptCount,this.currentScriptID=player.reality.automator.state.editorScript},exportScript(){const e=AutomatorBackend.exportCurrentScriptContents();e?(copyToClipboard(e),GameUI.notify.automator("Текущая программа экспортирована в буфер обмена")):GameUI.notify.error("Пустая программа не может быть экспортирована!")},importScript(){this.canMakeNewScript&&Modal.importScriptData.show()},onGameLoad(){this.updateCurrentScriptID(),this.updateScriptList(),this.fixAutomatorTypeDocs()},updateScriptList(){this.scripts=Object.values(player.reality.automator.scripts).map((e=>({id:e.id,name:e.name})))},updateCurrentScriptID(){AutomatorData.recalculateErrors();const e=player.reality.automator.scripts;this.currentScriptID=player.reality.automator.state.editorScript,void 0===e[this.currentScriptID]&&(this.currentScriptID=Number(Object.keys(e)[0]),player.reality.automator.state.editorScript=this.currentScriptID,AutomatorData.clearUndoData()),this.isBlock&&BlockAutomator.hasUnparsableCommands(this.currentScript)&&""!==this.currentScript&&(AutomatorBackend.changeModes(this.currentScriptID),Modal.message.show("Некоторые команды в программе не удалось распознать - редактирование переключено в текстовый режим.")),this.$nextTick((()=>{BlockAutomator.updateEditor(this.currentScript),!this.isBlock&&AutomatorTextUI.editor&&AutomatorTextUI.editor.performLint()}))},fixAutomatorTypeDocs(){const e=player.reality.automator;e.currentInfoPane===$o.COMMANDS&&e.type===Yn.BLOCK&&this.openMatchingAutomatorTypeDocs(),e.currentInfoPane===$o.BLOCKS&&e.type===Yn.TEXT&&this.openMatchingAutomatorTypeDocs()},openMatchingAutomatorTypeDocs(){const e=player.reality.automator;e.currentInfoPane=e.type===Yn.BLOCK?$o.BLOCKS:$o.COMMANDS},rename(){this.editingName=!0,this.$nextTick((()=>{this.updateCurrentScriptID(),this.$refs.renameInput.value=player.reality.automator.scripts[this.currentScriptID].name,this.$refs.renameInput.focus()}))},deleteScript(){Modal.automatorScriptDelete.show({scriptID:this.currentScriptID})},nameEdited(){const e=this.$refs.renameInput.value.match(/^\s*(.*?)\s*$/u);let t="";2===e.length&&e[1].length>0&&(t=e[1]),t.length>AutomatorData.MAX_ALLOWED_SCRIPT_NAME_LENGTH?this.isNameTooLong=!0:(this.isNameTooLong=!1,player.reality.automator.scripts[this.currentScriptID].name=t,this.updateScriptList(),this.$nextTick((()=>this.editingName=!1)))},activePanelClass(e){return{"c-automator__button--active":this.infoPaneID===e}}}},Fo=Ho;var qo=(0,H.A)(Fo,hr,pr,!1,null,"efcca320",null);const Vo=qo.exports;var Yo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},e._l(e.availableTypes,(function(t){return i("div",{key:t,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(i){return e.setType(t)}}},[e._v(" "+e._s(e.getType(t))+" ")])})),0)])},jo=[];const Wo={types:{NONE:0,LEVEL:1,RARITY:2,SAC_VALUE:3,FILTER_SCORE:4,CURRENT_REFINE:5,MAX_REFINE:6},labels:["Нет","Уровень","Редкость","Жертвенная ценность","Оценка Фильтра Глифов","Текущая алхимическая ценность","Максимальная алхимическая ценность"]},Xo={name:"SelectGlyphInfoDropdown",computed:{availableTypes(){const e=Wo.types,t=[e.NONE,e.LEVEL,e.RARITY];return GlyphSacrificeHandler.canSacrifice&&t.push(e.SAC_VALUE),EffarigUnlock.glyphFilter.isUnlocked&&t.push(e.FILTER_SCORE),Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&(t.push(e.CURRENT_REFINE),t.push(e.MAX_REFINE)),t}},methods:{setType(e){player.options.showHintText.glyphInfoType=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},getType(e){return Wo.labels[e]}}},zo=Xo;var Ko=(0,H.A)(zo,Yo,jo,!1,null,null,null);const Qo=Ko.exports;function Jo(e){return Array.isArray(e)?[]:{}}function Zo(e,t){return e instanceof Decimal?new Decimal(e):e instanceof Set?new Set(e):!1!==t.clone&&t.isMergeableObject(e)?il(Jo(e),e,t):e}function el(e,t,i){return e.concat(t).map((e=>Zo(e,i)))}function tl(e,t,i){const a={};return i.isMergeableObject(e)&&Object.keys(e).forEach((t=>{a[t]=Zo(e[t],i)})),Object.keys(t).forEach((n=>{e[n]&&e[n]instanceof Decimal?a[n]=new Decimal(t[n]):e[n]&&e[n]instanceof Set?a[n]=new Set(t[n]):i.isMergeableObject(t[n])&&e[n]?a[n]=il(e[n],t[n],i):a[n]=Zo(t[n],i)})),a}function il(e,t,i={}){if(i.arrayMerge=i.arrayMerge||el,i.isMergeableObject=i.isMergeableObject||nl,e instanceof Decimal)return new Decimal(t);if(e instanceof Set)return new Set(t);const a=Array.isArray(t),n=Array.isArray(e),s=a===n;return s?a?i.arrayMerge(e,t,i):tl(e,t,i):Zo(t,i)}function al(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");if(!t){const e=(e,t,i)=>t.map(((t,a)=>e[a]&&e[a]instanceof Decimal?new Decimal(t):e[a]&&e[a]instanceof Set?new Set(t):i.isMergeableObject(t)&&e[a]?il(e[a],t,i):Zo(t,i)));t={arrayMerge:e}}return e.reduce(((e,i)=>il(e,i,t)),{})}function nl(e){return sl(e)&&!rl(e)}function sl(e){return Boolean(e)&&"object"===typeof e}function rl(e){const t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}window.player={antimatter:v.E1,dimensions:{antimatter:Array.range(0,8).map((()=>({bought:0,costBumps:0,amount:v.D0}))),infinity:Array.range(0,8).map((e=>({isUnlocked:!1,bought:0,amount:v.D0,cost:[v.E8,v.E9,v.E10,v.E20,v.E140,v.E200,v.E250,v.E280][e],baseAmount:0}))),time:Array.range(0,8).map((e=>({cost:[v.D1,v.D5,v.E2,v.E3,v.E2350,v.E2650,v.E3000,v.E3350][e],amount:v.D0,bought:0})))},buyUntil10:!0,sacrificed:v.D0,achievementBits:Array.repeat(0,17),secretAchievementBits:Array.repeat(0,4),infinityUpgrades:new Set,infinityRebuyables:[0,0,0],challenge:{normal:{current:0,bestTimes:Array.repeat(Number.MAX_VALUE,11),completedBits:0},infinity:{current:0,bestTimes:Array.repeat(Number.MAX_VALUE,8),completedBits:0},eternity:{current:0,unlocked:0,requirementBits:0}},infinity:{upgradeBits:0},auto:{autobuyersOn:!0,disableContinuum:!1,reality:{mode:0,rm:v.D1,glyph:0,time:0,shard:0,isActive:!1},eternity:{mode:0,amount:v.D1,increaseWithMult:!0,time:1,xHighest:v.D1,isActive:!1},bigCrunch:{cost:1,interval:15e4,mode:0,amount:v.D1,increaseWithMult:!0,time:1,xHighest:v.D1,isActive:!0,lastTick:0},galaxy:{cost:1,interval:2e4,limitGalaxies:!1,maxGalaxies:1,buyMax:!1,buyMaxInterval:0,isActive:!0,lastTick:0},dimBoost:{cost:1,interval:4e3,limitDimBoosts:!1,maxDimBoosts:1,limitUntilGalaxies:!1,galaxies:10,buyMaxInterval:0,isActive:!0,lastTick:0},tickspeed:{isUnlocked:!1,cost:1,interval:500,mode:AUTOBUYER_MODE.BUY_SINGLE,isActive:!0,lastTick:0,isBought:!1},sacrifice:{multiplier:v.D2,isActive:!0},antimatterDims:{all:Array.range(0,8).map((e=>({isUnlocked:!1,cost:1,interval:[500,600,700,800,900,1e3,1100,1200][e],bulk:1,mode:AUTOBUYER_MODE.BUY_10,isActive:!0,lastTick:0,isBought:!1}))),isActive:!0},infinityDims:{all:Array.range(0,8).map((()=>({isActive:!1,lastTick:0}))),isActive:!0},timeDims:{all:Array.range(0,8).map((()=>({isActive:!1,lastTick:0}))),isActive:!0},replicantiGalaxies:{isActive:!1},replicantiUpgrades:{all:Array.range(0,3).map((()=>({isActive:!1,lastTick:0}))),isActive:!0},timeTheorems:{isActive:!1},dilationUpgrades:{all:Array.range(0,3).map((()=>({isActive:!1,lastTick:0}))),isActive:!0},blackHolePower:{all:Array.range(0,2).map((()=>({isActive:!1}))),isActive:!0},realityUpgrades:{all:Array.range(0,5).map((()=>({isActive:!1}))),isActive:!0},imaginaryUpgrades:{all:Array.range(0,10).map((()=>({isActive:!1}))),isActive:!0},darkMatterDims:{isActive:!1,lastTick:0},ascension:{isActive:!1,lastTick:0},annihilation:{isActive:!1,multiplier:1.05},singularity:{isActive:!1},ipMultBuyer:{isActive:!1},epMultBuyer:{isActive:!1}},infinityPoints:v.D0,infinities:v.D0,infinitiesBanked:v.D0,dimensionBoosts:0,galaxies:0,news:{seen:{},specialTickerData:{uselessNewsClicks:0,paperclips:0,newsQueuePosition:1e3,eiffelTowerChapter:0},totalSeen:0},lastUpdate:(new Date).getTime(),backupTimer:0,chall2Pow:1,chall3Pow:v.D0_01,matter:v.D1,chall9TickspeedCostBumps:0,chall8TotalSacrifice:v.D1,ic2Count:0,partInfinityPoint:0,partInfinitied:0,break:!1,secretUnlocks:{themes:new Set,viewSecretTS:!1,cancerAchievements:!1},shownRuns:{Reality:!0,Eternity:!0,Infinity:!0},requirementChecks:{infinity:{maxAll:!1,noSacrifice:!0,noAD8:!0},eternity:{onlyAD1:!0,onlyAD8:!0,noAD1:!0,noRG:!0},reality:{noAM:!0,noTriads:!0,noPurchasedTT:!0,noInfinities:!0,noEternities:!0,noContinuum:!0,maxID1:v.D0,maxStudies:0,maxGlyphs:0,slowestBH:1},permanent:{emojiGalaxies:0,singleTickspeed:0,perkTreeDragging:0}},records:{gameCreatedTime:Date.now(),totalTimePlayed:0,timePlayedAtBHUnlock:Number.MAX_VALUE,realTimePlayed:0,realTimeDoomed:0,fullGameCompletions:0,previousRunRealTime:0,totalAntimatter:v.E1,recentInfinities:Array.range(0,10).map((()=>[Number.MAX_VALUE,Number.MAX_VALUE,v.D1,v.D1,""])),recentEternities:Array.range(0,10).map((()=>[Number.MAX_VALUE,Number.MAX_VALUE,v.D1,v.D1,"",v.D0])),recentRealities:Array.range(0,10).map((()=>[Number.MAX_VALUE,Number.MAX_VALUE,v.D1,1,"",0,0])),thisInfinity:{time:0,realTime:0,lastBuyTime:0,maxAM:v.D0,bestIPmin:v.D0,bestIPminVal:v.D0},bestInfinity:{time:Number.MAX_VALUE,realTime:Number.MAX_VALUE,bestIPminEternity:v.D0,bestIPminReality:v.D0},thisEternity:{time:0,realTime:0,maxAM:v.D0,maxIP:v.D0,bestIPMsWithoutMaxAll:v.D0,bestEPmin:v.D0,bestEPminVal:v.D0,bestInfinitiesPerMs:v.D0},bestEternity:{time:Number.MAX_VALUE,realTime:Number.MAX_VALUE,bestEPminReality:v.D0},thisReality:{time:0,realTime:0,maxAM:v.D0,maxIP:v.D0,maxEP:v.D0,bestEternitiesPerMs:v.D0,maxReplicanti:v.D0,maxDT:v.D0,bestRMmin:v.D0,bestRMminVal:v.D0,bestRSmin:0,bestRSminVal:0},bestReality:{time:Number.MAX_VALUE,realTime:Number.MAX_VALUE,glyphStrength:0,RM:v.D0,RMSet:[],RMmin:v.D0,RMminSet:[],glyphLevel:0,glyphLevelSet:[],bestEP:v.D0,bestEPSet:[],speedSet:[],iMCapSet:[],laitelaSet:[]}},speedrun:{isUnlocked:!1,isActive:!1,isSegmented:!1,usedSTD:!1,hasStarted:!1,hideInfo:!1,displayAllMilestones:!1,startDate:0,name:"",offlineTimeUsed:0,records:Array.repeat(0,26),achievementTimes:{},seedSelection:SPEEDRUN_SEED_STATE.FIXED,initialSeed:0,previousRuns:{}},IPMultPurchases:0,version:102,infinityPower:v.D1,postC4Tier:0,eternityPoints:v.D0,eternities:v.D0,eternityUpgrades:new Set,epmultUpgrades:0,timeShards:v.D0,totalTickGained:0,totalTickBought:0,replicanti:{unl:!1,amount:v.D0,chance:0,chanceCost:v.E320,interval:0,intervalCost:v.E320,boughtGalaxyCap:0,galaxies:0,galCost:v.E320},timestudy:{theorem:v.D0,maxTheorem:v.D0,amBought:0,ipBought:0,epBought:0,studies:[],shopMinimized:!1,preferredPaths:[[],0],presets:new Array(6).fill({name:"",studies:""})},eternityChalls:{},respec:!1,eterc8ids:50,eterc8repl:40,dilation:{studies:[],active:!1,tachyonParticles:v.D0,dilatedTime:v.D0,nextThreshold:v.E3,baseTachyonGalaxies:0,totalTachyonGalaxies:0,upgrades:new Set,rebuyables:{1:0,2:0,3:0,11:0,12:0,13:0},lastEP:v.DM1},realities:0,partSimulatedReality:0,reality:{realityMachines:v.D0,maxRM:v.D0,imaginaryMachines:0,iMCap:0,glyphs:{active:[],inventory:[],sac:{power:0,infinity:0,time:0,replication:0,dilation:0,effarig:0,reality:0},undo:[],sets:new Array(7).fill({name:"",glyphs:[]}),protectedRows:2,filter:{select:AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,trash:AUTO_GLYPH_REJECT.SACRIFICE,simple:0,types:dr.list.filter((e=>ALCHEMY_BASIC_GLYPH_TYPES.includes(e.id))).mapToObject((e=>e.id),(e=>({rarity:0,score:0,effectCount:0,specifiedMask:0,effectScores:Array.repeat(0,e.effects.length)})))},createdRealityGlyph:!1,cosmetics:{active:!1,glowNotification:!1,unlockedFromNG:[],symbolMap:{},colorMap:{}}},initialSeed:Math.floor(Date.now()*Math.random()+1),seed:1,secondGaussian:1e6,musicSeed:Math.floor(Date.now()*Math.random()+3168660683),musicSecondGaussian:1e6,rebuyables:{1:0,2:0,3:0,4:0,5:0},upgradeBits:0,upgReqs:0,imaginaryUpgradeBits:0,imaginaryUpgReqs:0,imaginaryRebuyables:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},reqLock:{reality:0,imaginary:0},perks:new Set,respec:!1,showGlyphSacrifice:!1,showSidebarPanel:GLYPH_SIDEBAR_MODE.INVENTORY_MANAGEMENT,autoSort:0,autoCollapse:!1,autoAutoClean:!1,applyFilterToPurge:!1,moveGlyphsOnProtection:!1,perkPoints:0,unlockedEC:0,autoEC:!0,lastAutoEC:0,partEternitied:v.D0,autoAchieve:!0,gainedAutoAchievements:!0,automator:{state:{mode:qn.STOP,topLevelScript:0,editorScript:0,repeat:!0,forceRestart:!0,followExecution:!0,stack:[]},scripts:{},constants:{},constantSortOrder:[],execTimer:0,type:Yn.TEXT,forceUnlock:!1,currentInfoPane:$o.INTRO_PAGE},achTimer:0,hasCheckedFilter:!1},blackHole:Array.range(0,2).map((e=>({id:e,intervalUpgrades:0,powerUpgrades:0,durationUpgrades:0,phase:0,active:!1,unlocked:!1,activations:0}))),blackHolePause:!1,blackHoleAutoPauseMode:0,blackHolePauseTime:0,blackHoleNegative:1,celestials:{teresa:{pouredAmount:0,quoteBits:0,unlockBits:0,run:!1,bestRunAM:v.D1,bestAMSet:[],perkShop:Array.repeat(0,5),lastRepeatedMachines:v.D0},effarig:{relicShards:0,unlockBits:0,run:!1,quoteBits:0,glyphWeights:{ep:25,repl:25,dt:25,eternities:25},autoAdjustGlyphWeights:!1},enslaved:{isStoring:!1,stored:0,isStoringReal:!1,storedReal:0,autoStoreReal:!1,isAutoReleasing:!1,quoteBits:0,unlocks:[],run:!1,completed:!1,tesseracts:0,hasSecretStudy:!1,feltEternity:!1,progressBits:0,hintBits:0,hintUnlockProgress:0,glyphHintsGiven:0,zeroHintTime:0},v:{unlockBits:0,run:!1,quoteBits:0,runUnlocks:[0,0,0,0,0,0,0,0,0],goalReductionSteps:[0,0,0,0,0,0,0,0,0],STSpent:0,runGlyphs:[[],[],[],[],[],[],[],[],[]],runRecords:[-10,0,0,0,0,0,0,0,0],wantsFlipped:!0},ra:{pets:{teresa:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0},effarig:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0},enslaved:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0},v:{level:1,memories:0,memoryChunks:0,memoryUpgrades:0,chunkUpgrades:0}},alchemy:Array.repeat(0,21).map((()=>({amount:0,reaction:!1}))),highestRefinementValue:{power:0,infinity:0,time:0,replication:0,dilation:0,effarig:0},quoteBits:0,momentumTime:0,unlockBits:0,run:!1,charged:new Set,disCharge:!1,peakGamespeed:1,petWithRemembrance:""},laitela:{darkMatter:v.D0,maxDarkMatter:v.D0,run:!1,quoteBits:0,dimensions:Array.range(0,4).map((()=>({amount:v.D0,intervalUpgrades:0,powerDMUpgrades:0,powerDEUpgrades:0,timeSinceLastUpdate:0,ascensionCount:0}))),entropy:0,thisCompletion:3600,fastestCompletion:3600,difficultyTier:0,upgrades:{},darkMatterMult:1,darkEnergy:0,singularitySorting:{displayResource:0,sortResource:0,showCompleted:0,sortOrder:0},singularities:0,singularityCapIncreases:0,lastCheckedMilestones:0,milestoneGlow:!0},pelle:{doomed:!1,upgrades:new Set,remnants:0,realityShards:v.D0,records:{totalAntimatter:v.D0,totalInfinityPoints:v.D0,totalEternityPoints:v.D0},rebuyables:{antimatterDimensionMult:0,timeSpeedMult:0,glyphLevels:0,infConversion:0,galaxyPower:0,galaxyGeneratorAdditive:0,galaxyGeneratorMultiplicative:0,galaxyGeneratorAntimatterMult:0,galaxyGeneratorIPMult:0,galaxyGeneratorEPMult:0},rifts:{vacuum:{fill:v.D0,active:!1,reducedTo:1},decay:{fill:v.D0,active:!1,percentageSpent:0,reducedTo:1},chaos:{fill:0,active:!1,reducedTo:1},recursion:{fill:v.D0,active:!1,reducedTo:1},paradox:{fill:v.D0,active:!1,reducedTo:1}},progressBits:0,galaxyGenerator:{unlocked:!1,spentGalaxies:0,generatedGalaxies:0,phase:0,sacrificeActive:!1},quoteBits:0,collapsed:{upgrades:!1,rifts:!1,galaxies:!1},showBought:!1}},isGameEnd:!1,tabNotifications:new Set,triggeredTabNotificationBits:0,tutorialState:0,tutorialActive:!0,options:{news:{enabled:!0,repeatBuffer:40,AIChance:0,speed:1,includeAnimated:!0},notation:"Смешанная научная",notationDigits:{comma:5,notation:9},sidebarResourceID:0,retryChallenge:!1,retryCelestial:!1,showAllChallenges:!1,cloudEnabled:!0,hideGoogleName:!1,showCloudModal:!0,forceCloudOverwrite:!1,syncSaveIntervals:!0,hotkeys:!0,themeClassic:"Normal",themeModern:"Normal",updateRate:33,newUI:!0,offlineProgress:!0,loadBackupWithoutOffline:!1,automaticTabSwitching:!0,respecIntoProtected:!1,offlineTicks:1e5,hibernationCatchup:!0,statTabResources:0,multiplierTab:{currTab:0,showAltGroup:!1},autosaveInterval:3e4,showTimeSinceSave:!0,saveFileName:"",exportedFileCount:0,hideCompletedAchievementRows:!1,glyphTextColors:!0,headerTextColored:!1,showNewGlyphIcon:!0,showUnequippedGlyphIcon:!0,highContrastRarity:!1,swapGlyphColors:!1,hideAlterationEffects:!1,ignoreGlyphEffects:!0,ignoreGlyphLevel:!0,ignoreGlyphRarity:!0,glyphBG:GLYPH_BG_SETTING.AUTO,glyphBorders:!0,showHintText:{showPercentage:!0,achievements:!0,achievementUnlockStates:!0,challenges:!0,studies:!0,glyphEffectDots:!0,realityUpgrades:!0,perks:!0,alchemy:!0,glyphInfoType:Wo.types.NONE,showGlyphInfoByDefault:!1},animations:{bigCrunch:!0,eternity:!0,dilation:!0,tachyonParticles:!0,reality:!0,background:!0,blobSnowflakes:16},confirmations:{armageddon:!0,sacrifice:!0,challenges:!0,exitChallenge:!0,eternity:!0,dilation:!0,resetReality:!0,glyphReplace:!0,glyphSacrifice:!0,autoClean:!0,sacrificeAll:!0,glyphSelection:!0,glyphUndo:!0,deleteGlyphSetSave:!0,glyphRefine:!0,bigCrunch:!0,replicantiGalaxy:!0,antimatterGalaxy:!0,dimensionBoost:!0,switchAutomatorMode:!0,respecIAP:!0},awayProgress:{antimatter:!0,dimensionBoosts:!0,antimatterGalaxies:!0,infinities:!0,infinityPoints:!0,replicanti:!0,replicantiGalaxies:!0,eternities:!0,eternityPoints:!0,tachyonParticles:!0,dilatedTime:!0,tachyonGalaxies:!0,timeTheorems:!0,achievementCount:!0,realities:!0,realityMachines:!0,imaginaryMachines:!0,relicShards:!0,darkMatter:!0,darkEnergy:!0,singularities:!0,celestialMemories:!0,blackHole:!0,realityShards:!0},hiddenTabBits:0,hiddenSubtabBits:Array.repeat(0,11),lastOpenTab:0,lastOpenSubtab:Array.repeat(0,11),perkLayout:0,perkPhysicsEnabled:!0,automatorEvents:{newestFirst:!1,timestampType:0,maxEntries:200,clearOnReality:!0,clearOnRestart:!0},invertTTgenDisplay:!1,autoRealityForFilter:!1,genderMale:!0},IAP:{enabled:!1,checkoutSession:{id:!1}}};const ol={defaultStart:al([{},player]),get isInMatterChallenge(){return NormalChallenge(11).isRunning||InfinityChallenge(6).isRunning},get isInAntimatterChallenge(){return NormalChallenge.isRunning||InfinityChallenge.isRunning},get antimatterChallenge(){return NormalChallenge.current||InfinityChallenge.current},get isInAnyChallenge(){return this.isInAntimatterChallenge||EternityChallenge.isRunning},get anyChallenge(){return this.antimatterChallenge||EternityChallenge.current},get canCrunch(){var e;if(Enslaved.isRunning&&Enslaved.BROKEN_CHALLENGES.includes(null===(e=NormalChallenge.current)||void 0===e?void 0:e.id))return!1;const t=NormalChallenge.current||InfinityChallenge.current,i=void 0===t?Decimal.NUMBER_MAX_VALUE:t.goal;return player.records.thisInfinity.maxAM.gte(i)},get canEternity(){return player.records.thisEternity.maxIP.gte(ol.eternityGoal)},get bestRunIPPM(){return GameCache.bestRunIPPM.value},get averageRealTimePerEternity(){return GameCache.averageRealTimePerEternity.value},get tickSpeedMultDecrease(){return GameCache.tickSpeedMultDecrease.value},get dimensionMultDecrease(){return GameCache.dimensionMultDecrease.value},get infinityGoal(){const e=NormalChallenge.current||InfinityChallenge.current;return void 0===e?Decimal.NUMBER_MAX_VALUE:e.goal},get infinityLimit(){const e=NormalChallenge.current||InfinityChallenge.current;return void 0===e?Decimal.MAX_VALUE:e.goal},get eternityGoal(){return EternityChallenge.isRunning?EternityChallenge.current.currentGoal:requiredIPForEP(1)},get automatorUnlocked(){return AutomatorPoints.totalPoints>=AutomatorPoints.pointsForAutomator||player.reality.automator.forceUnlock},resetRequirements(e){const t=player.requirementChecks.reality.maxGlyphs;switch(e){case"reality":player.requirementChecks.reality={noAM:!0,noTriads:!0,noPurchasedTT:!0,noInfinities:!0,noEternities:!0,noContinuum:player.auto.disableContinuum,maxID1:v.D0,maxStudies:0,maxGlyphs:t,slowestBH:BlackHoles.areNegative?player.blackHoleNegative:1};case"eternity":player.requirementChecks.eternity={onlyAD1:!0,onlyAD8:!0,noAD1:!0,noRG:!0};case"infinity":player.requirementChecks.infinity={maxAll:!1,noSacrifice:!0,noAD8:!0};break;default:throw Error("Unrecognized prestige layer for requirement reset")}}};function ll(e){function t(e){return null!==e&&"object"===typeof e&&!(e instanceof Decimal)}for(const i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;if("automator"===i)continue;let a=e[i];t(a)?ll(a):("number"===typeof a&&Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a,set:function(e){if(null===e||void 0===e)throw new Error("null/undefined player property assignment");if("number"!==typeof e)throw new Error("Non-Number assignment to Number player property");if(!isFinite(e))throw new Error("NaN player property assignment");a=e}}),a instanceof Decimal&&Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a,set:function(e){if(null===e||void 0===e)throw new Error("null/undefined player property assignment");if(!(e instanceof Decimal))throw new Error("Non-Decimal assignment to Decimal player property");if(!isFinite(e.mantissa)||!isFinite(e.exponent))throw new Error("NaN player property assignment");a=e}}))}}const cl={container:document.getElementById("performance-stats"),samplePeriod:1e4,isOn:!1,currentBlocks:[],stats:{},turnOn(){this.isOn=!0,this.container.style.display="flex"},turnOff(){this.isOn=!1,this.container.style.display="none",this.stats={}},toggle(){this.isOn?this.turnOff():this.turnOn()},start(e){if(!this.isOn)return;const t=this.currentBlocks.length>0?this.currentBlocks.last().childBlocks:this.stats;let i=t[e];void 0===i&&(i={records:[],childBlocks:{}},t[e]=i),this.currentBlocks.push(i);const a={};i.records.push(a),a.timestamp=performance.now()},end(){if(!this.isOn)return;const e=performance.now(),t=this.currentBlocks.pop(),i=t.records.last();i.duration=e-i.timestamp},render(){if(!this.isOn)return;let e=-1,t="";const i=this.samplePeriod;let a;function n(s){e++;for(const r in s){if(!Object.prototype.hasOwnProperty.call(s,r))continue;const o=s[r],l=o.records;while(l.length>1&&l.last().timestamp-l.first().timestamp>i)l.shift();if(t+=`${"-".repeat(e)}${r}: `,l.length>0){let e=0,i=Number.MIN_VALUE,n=Number.MAX_VALUE;for(const t of l){const a=t.duration;e+=a,a>i&&(i=a),a<n&&(n=a)}const s=e/l.length;void 0===a&&(a=1e3/s,t=`FPS: ${Math.floor(a)}<br>${t}`),t+=`${s.toFixed(3)}/${n.toFixed(3)}/${i.toFixed(3)}`}t+="<br>",n(o.childBlocks)}e--}n(this.stats),this.container.innerHTML=t}};class ul{add(e,t){throw new NotImplementedError}subtract(e,t){throw new NotImplementedError}multiply(e,t){throw new NotImplementedError}divide(e,t){throw new NotImplementedError}max(e,t){throw new NotImplementedError}min(e,t){throw new NotImplementedError}eq(e,t){throw new NotImplementedError}gt(e,t){throw new NotImplementedError}gte(e,t){throw new NotImplementedError}lt(e,t){throw new NotImplementedError}lte(e,t){throw new NotImplementedError}}ul.number=new class extends ul{add(e,t){return e+t}subtract(e,t){return e-t}multiply(e,t){return e*t}divide(e,t){return e/t}max(e,t){return Math.max(e,t)}min(e,t){return Math.min(e,t)}eq(e,t){return e===t}gt(e,t){return e>t}gte(e,t){return e>=t}lt(e,t){return e<t}lte(e,t){return e<=t}},ul.decimal=new class extends ul{add(e,t){return Decimal.add(e,t)}subtract(e,t){return Decimal.subtract(e,t)}multiply(e,t){return Decimal.multiply(e,t)}divide(e,t){return Decimal.divide(e,t)}max(e,t){return Decimal.max(e,t)}min(e,t){return Decimal.min(e,t)}eq(e,t){return Decimal.eq(e,t)}gt(e,t){return Decimal.gt(e,t)}gte(e,t){return Decimal.gte(e,t)}lt(e,t){return Decimal.lt(e,t)}lte(e,t){return Decimal.lte(e,t)}};class dl{get value(){throw new NotImplementedError}set value(e){throw new NotImplementedError}get operations(){throw new NotImplementedError}add(e){this.value=this.operations.add(this.value,e)}subtract(e){this.value=this.operations.max(this.operations.subtract(this.value,e),0)}multiply(e){this.value=this.operations.multiply(this.value,e)}divide(e){this.value=this.operations.divide(this.value,e)}eq(e){return this.operations.eq(this.value,e)}gt(e){return this.operations.gt(this.value,e)}gte(e){return this.operations.gte(this.value,e)}lt(e){return this.operations.lt(this.value,e)}lte(e){return this.operations.lte(this.value,e)}purchase(e){return!!this.gte(e)&&(this.subtract(e),!0)}bumpTo(e){this.value=this.operations.max(this.value,e)}dropTo(e){this.value=this.operations.min(this.value,e)}get startingValue(){throw new NotImplementedError}reset(){this.value=this.startingValue}}class hl extends dl{get operations(){return ul.number}get startingValue(){return 0}}class pl extends dl{get operations(){return ul.decimal}get mantissa(){return this.value.mantissa}get exponent(){return this.value.exponent}get startingValue(){return v.D0}}window.DecimalCurrency=pl,dl.antimatter=new class extends pl{get value(){return player.antimatter}set value(e){InfinityChallenges.nextIC&&InfinityChallenges.notifyICUnlock(e),GameCache.cheapestAntimatterAutobuyer.value&&e.gte(GameCache.cheapestAntimatterAutobuyer.value)&&(TabNotification.newAutobuyer.clearTrigger(),TabNotification.newAutobuyer.tryTrigger()),player.antimatter=e,player.records.thisInfinity.maxAM=player.records.thisInfinity.maxAM.max(e),player.records.thisEternity.maxAM=player.records.thisEternity.maxAM.max(e),player.records.thisReality.maxAM=player.records.thisReality.maxAM.max(e),Pelle.isDoomed&&(player.celestials.pelle.records.totalAntimatter=player.celestials.pelle.records.totalAntimatter.max(e))}add(e){super.add(e),e.gt(0)&&(player.records.totalAntimatter=player.records.totalAntimatter.add(e),player.requirementChecks.reality.noAM=!1)}get productionPerSecond(){return NormalChallenge(12).isRunning?AntimatterDimension(1).productionPerRealSecond.plus(AntimatterDimension(2).productionPerRealSecond):AntimatterDimension(1).productionPerRealSecond}get startingValue(){return Pelle.isDisabled()?new Decimal(100):Effects.max(10,Perk.startAM,Achievement(21),Achievement(37),Achievement(54),Achievement(55),Achievement(78)).toDecimal()}},dl.matter=new class extends pl{get value(){return player.matter}set value(e){player.matter=Decimal.min(e,Decimal.MAX_VALUE)}},dl.infinities=new class extends pl{get value(){return player.infinities}set value(e){player.infinities=e}},dl.infinitiesBanked=new class extends pl{get value(){return player.infinitiesBanked}set value(e){player.infinitiesBanked=e}},dl.infinitiesTotal=new class extends pl{get value(){return player.infinities.plus(player.infinitiesBanked)}set value(e){player.infinities=e}},dl.infinityPoints=new class extends pl{get value(){return player.infinityPoints}set value(e){player.infinityPoints=e,player.records.thisEternity.maxIP=player.records.thisEternity.maxIP.max(e),player.records.thisReality.maxIP=player.records.thisReality.maxIP.max(e),Pelle.isDoomed&&(player.celestials.pelle.records.totalInfinityPoints=player.celestials.pelle.records.totalInfinityPoints.max(e))}get startingValue(){return Pelle.isDisabled()?new Decimal(0):Effects.max(0,Perk.startIP1,Perk.startIP2,Achievement(104)).toDecimal()}reset(){super.reset(),player.records.thisEternity.maxIP=this.startingValue}},dl.infinityPower=new class extends pl{get value(){return player.infinityPower}set value(e){player.infinityPower=e}},dl.eternities=new class extends pl{get value(){return player.eternities}set value(e){player.eternities=e}get startingValue(){return Pelle.isDoomed?new Decimal(0):Effects.max(0,RealityUpgrade(10)).toDecimal()}},dl.eternityPoints=new class extends pl{get value(){return player.eternityPoints}set value(e){player.eternityPoints=e,player.records.thisReality.maxEP=player.records.thisReality.maxEP.max(e),player.records.bestReality.bestEP.lt(e)&&(player.records.bestReality.bestEP=e,player.records.bestReality.bestEPSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e)))),Pelle.isDoomed&&(player.celestials.pelle.records.totalEternityPoints=player.celestials.pelle.records.totalEternityPoints.max(e))}get startingValue(){return Pelle.isDisabled()?new Decimal(0):Effects.max(0,Perk.startEP1,Perk.startEP2,Perk.startEP3).toDecimal()}reset(){super.reset(),player.records.thisReality.maxEP=this.startingValue}},dl.timeShards=new class extends pl{get value(){return player.timeShards}set value(e){player.timeShards=e}},dl.timeTheorems=new class extends pl{get value(){return player.timestudy.theorem}set value(e){player.timestudy.theorem=e,player.timestudy.maxTheorem=e.plus(TimeTheorems.calculateTimeStudiesCost())}get max(){return player.timestudy.maxTheorem}add(e){super.add(e),player.timestudy.maxTheorem=player.timestudy.maxTheorem.plus(e)}reset(){respecTimeStudies(!0),super.reset(),TimeTheoremPurchaseType.am.reset(),TimeTheoremPurchaseType.ip.reset(),TimeTheoremPurchaseType.ep.reset(),player.timestudy.maxTheorem=this.startingValue}},dl.tachyonParticles=new class extends pl{get value(){return player.dilation.tachyonParticles}set value(e){player.dilation.tachyonParticles=e}},dl.dilatedTime=new class extends pl{get value(){return player.dilation.dilatedTime}set value(e){player.dilation.dilatedTime=e,player.records.thisReality.maxDT=player.records.thisReality.maxDT.max(e)}},dl.realities=new class extends hl{get value(){return player.realities}set value(e){player.realities=e}},dl.realityMachines=new class extends pl{get value(){return player.reality.realityMachines}set value(e){const t=Decimal.min(e,MachineHandler.hardcapRM),i=t.minus(player.reality.realityMachines);player.reality.realityMachines=t,player.reality.maxRM=Decimal.max(player.reality.maxRM,t),player.records.bestReality.RM.lt(i)&&(player.records.bestReality.RM=i,player.records.bestReality.RMSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e))))}},dl.perkPoints=new class extends hl{get value(){return player.reality.perkPoints}set value(e){player.reality.perkPoints=e}},dl.relicShards=new class extends hl{get value(){return player.celestials.effarig.relicShards}set value(e){player.celestials.effarig.relicShards=e}},dl.imaginaryMachines=new class extends hl{get value(){return player.reality.imaginaryMachines}set value(e){player.reality.imaginaryMachines=Math.clampMax(e,MachineHandler.currentIMCap)}},dl.darkMatter=new class extends pl{get value(){return player.celestials.laitela.darkMatter}set value(e){const t=Decimal.min(e,Number.MAX_VALUE);player.celestials.laitela.darkMatter=t,player.celestials.laitela.maxDarkMatter=player.celestials.laitela.maxDarkMatter.max(t)}get max(){return player.celestials.laitela.maxDarkMatter}set max(e){player.celestials.laitela.maxDarkMatter=e}},dl.darkEnergy=new class extends hl{get value(){return player.celestials.laitela.darkEnergy}set value(e){player.celestials.laitela.darkEnergy=e}get productionPerSecond(){return DarkMatterDimensions.all.map((e=>e.productionPerSecond)).sum()}},dl.singularities=new class extends hl{get value(){return player.celestials.laitela.singularities}set value(e){player.celestials.laitela.singularities=e}},dl.remnants=new class extends hl{get value(){return player.celestials.pelle.remnants}set value(e){player.celestials.pelle.remnants=e}},dl.realityShards=new class extends pl{get value(){return player.celestials.pelle.realityShards}set value(e){player.celestials.pelle.realityShards=e}},dl.replicanti=new class extends pl{get value(){return player.replicanti.amount}set value(e){player.replicanti.amount=e}},dl.galaxyGeneratorGalaxies=new class extends hl{get value(){return player.galaxies+GalaxyGenerator.galaxies}set value(e){const t=player.galaxies+GalaxyGenerator.galaxies-e;player.celestials.pelle.galaxyGenerator.spentGalaxies+=t}};class ml{constructor(e){this._getValue=e,ml.registerLazy(this)}static get registrar(){return void 0===ml._registrar&&(ml._registrar=[]),ml._registrar}static registerLazy(e){ml.registrar.push(e)}static invalidateAll(){for(const e of ml.registrar)e.invalidate()}get value(){return void 0===this._value&&(this._value=this._getValue()),this._value}invalidate(){this._value=void 0}invalidateOn(...e){for(const t of e)EventHub.logic.on(t,(()=>this.invalidate()));return this}}window.Lazy=ml;const yl={worstChallengeTime:new ml((()=>player.challenge.normal.bestTimes.max())),bestRunIPPM:new ml((()=>player.records.recentInfinities.map((e=>ratePerMinute(e[2],e[0]))).reduce(Decimal.maxReducer))),averageRealTimePerEternity:new ml((()=>player.records.recentEternities.map((e=>e[1])).reduce(Number.sumReducer)/(1e3*player.records.recentEternities.length))),tickSpeedMultDecrease:new ml((()=>10-Effects.sum(BreakInfinityUpgrade.tickspeedCostMult,EternityChallenge(11).reward))),dimensionMultDecrease:new ml((()=>10-Effects.sum(BreakInfinityUpgrade.dimCostMult,EternityChallenge(6).reward))),timeStudies:new ml((()=>NormalTimeStudyState.studies.map((e=>player.timestudy.studies.includes(e.id))))),currentStudyTree:new ml((()=>new TimeStudyTree(TimeStudyTree.currentStudies))),achievementPeriod:new ml((()=>TimeSpan.fromMinutes(30-Effects.sum(Perk.achievementGroup1,Perk.achievementGroup2,Perk.achievementGroup3,Perk.achievementGroup4)).totalMilliseconds)),buyablePerks:new ml((()=>Perks.all.filter((e=>e.canBeBought)))),cheapestAntimatterAutobuyer:new ml((()=>Autobuyer.antimatterDimension.zeroIndexed.concat(Autobuyer.tickspeed).filter((e=>!(e.isBought||e.isUnlocked))).map((e=>e.antimatterCost.toNumber())).min())),antimatterDimensionCommonMultiplier:new ml((()=>antimatterDimensionCommonMultiplier())),antimatterDimensionFinalMultipliers:Array.range(0,9).map((e=>new ml((()=>getDimensionFinalMultiplierUncached(e))))),infinityDimensionCommonMultiplier:new ml((()=>infinityDimensionCommonMultiplier())),timeDimensionCommonMultiplier:new ml((()=>timeDimensionCommonMultiplier())),glyphInventorySpace:new ml((()=>Glyphs.freeInventorySpace)),glyphEffects:new ml((()=>orderedEffectList.mapToObject((e=>e),(e=>getAdjustedGlyphEffectUncached(e))))),staticGlyphWeights:new ml((()=>staticGlyphWeights())),logTotalGlyphSacrifice:new ml((()=>GlyphSacrificeHandler.logTotalSacrifice)),totalIPMult:new ml((()=>totalIPMult())),challengeTimeSum:new ml((()=>player.challenge.normal.bestTimes.sum())),infinityChallengeTimeSum:new ml((()=>player.challenge.infinity.bestTimes.sum()))};EventHub.logic.on(GAME_EVENT.GLYPHS_CHANGED,(()=>{yl.glyphInventorySpace.invalidate(),yl.glyphEffects.invalidate(),yl.staticGlyphWeights.invalidate()}),yl.glyphEffects),yl.antimatterDimensionFinalMultipliers.invalidate=function(){for(const e of this)e.invalidate()};const fl=function(){const e=(e,t)=>{let i=-1;return{start(){if(this.isStarted)throw new Error("An already started interval cannot be started again.");i=setInterval(e,"function"===typeof t?t():t)},get isStarted(){return-1!==i},stop(){clearInterval(i),i=-1},restart(){this.stop(),this.start()}}};return{all(){return Object.values(fl).filter((e=>Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"stop")))},start(){for(const e of this.all())e.start()},stop(){for(const e of this.all())e.stop()},restart(){for(const e of this.all())e.restart()},gameLoop:e((()=>gameLoop()),(()=>player.options.updateRate)),save:e((()=>GameStorage.save()),(()=>player.options.autosaveInterval-Math.clampMin(0,Date.now()-GameStorage.lastSaveTime))),checkCloudSave:e((()=>{player.options.cloudEnabled&&Cloud.loggedIn&&Cloud.saveCheck()}),6e5),checkEverySecond:e((()=>{Math.random()<1e-5&&SecretAchievement(18).unlock(),GameStorage.tryOnlineBackups()}),1e3),checkForUpdates:e((()=>{isLocalEnvironment()||fetch("version.txt").then((e=>e.json())).then((e=>{e.version>player.version&&Modal.message.show(e.message,{callback:updateRefresh},3)}))}),6e4)}}();var gl=i(6411),bl=i.n(gl);const vl={};for(let V=1;V<=9;V++)vl[V+96]=`num${V}`;function El(e){return e.split("+")}bl().addKeycodes(vl);const Tl=["ctrl","shift","alt","mod"];function _l(e){return e.find((e=>!Tl.includes(e)))}class Cl{constructor(e){this.key=e}setAction(e,t){e.includes("shift")?this.shiftAction=t:this.action=t}start(){this.isRunning||(this.isRunning=!0,this.executeAction(),this.interval=setInterval((()=>{clearInterval(this.interval),this.executeAction(),this.interval=setInterval((()=>this.executeAction()),40)}),500))}executeAction(){ui.view.shiftDown&&void 0!==this.shiftAction?this.shiftAction():void 0!==this.action&&this.action()}probablyStop(){ui.view.shiftDown&&this.stop()}stop(){this.isRunning=!1,this.interval&&clearInterval(this.interval),this.interval=void 0}}class Al{static stopSpins(){for(const e of kl)e.stop()}static bind(e,t,i){bl().bind(e,(()=>wl(t)),i)}static bindRepeatable(e,t){this._bindSpin(e,(()=>wl(t)))}static bindHotkey(e,t,i){bl().bind(e,(()=>Sl(t)),i)}static bindRepeatableHotkey(e,t){this._bindSpin(e,(()=>Sl(t)))}static _bindSpin(e,t){const i=El(e),a=_l(i);let n=kl.find((e=>e.key===a));void 0===n&&(n=new Cl(a),kl.push(n),bl().bind(a,(()=>n.start()),"keydown"),bl().bind(a,(()=>n.stop()),"keyup")),e!==a&&(bl().bind(e,(()=>n.start()),"keydown"),bl().bind(e,(()=>n.probablyStop()),"keyup")),n.setAction(i,t)}static disable(){this.stopSpins(),bl().reset()}}const kl=[];function wl(e){if(!(void 0!==ui.$viewModel.modal.progressBar||GameEnd.endState>=END_STATE_MARKERS.INTERACTIVITY_DISABLED))return e()}function Sl(e){if(player.options.hotkeys&&"text"!==document.activeElement.type&&"textarea"!==document.activeElement.type)return wl(e)}class xl{constructor(e){this.name=e,this.__module__=f&&void 0!==window.require?window.require(e):void 0}get isLoaded(){return void 0!==this.__module__}makePromise(e){if(!this.isLoaded)throw Error(`Node module "${this.name}" is not loaded.`);return new Promise(((t,i)=>{e(this.__module__,t,i)}))}safeCall(e,t){if(!this.isLoaded)throw Error(`Node module "${this.name}" is not loaded.`);try{return e(this.__module__)}catch(i){return console.error(`Failed to make a call to node module "${this.name}".`),console.error(i),t}}}const Rl=new xl("electron");function Il(){return Rl.isLoaded}function Ml(e){return Rl.safeCall((t=>t.webFrame.setZoomFactor(e)))}function Dl(e){return Rl.safeCall((t=>t.shell.openExternal(e)))}const Pl=.5,Ul=1.5;let Gl=1;const Nl={initialize(){this.isActive&&(Gl=Number(localStorage.getItem("Zoom")),Gl=Number.isFinite(Gl)?Gl:1,window.addEventListener("resize",(()=>this.updateZoom())))},get isActive(){return Il()},increaseZoom(){this.isActive&&(Gl>Ul?GameUI.notify.info("Zoom Level is at Maximum"):this.zoomFactor=Math.round(10*(Gl+.1))/10)},decreaseZoom(){this.isActive&&(Gl<Pl?GameUI.notify.info("Zoom Level is at Minimum"):this.zoomFactor=Math.round(10*(Gl-.1))/10)},resetZoom(){this.isActive&&(this.zoomFactor=1)},get zoomFactor(){return Gl},set zoomFactor(e){Gl=e,localStorage.setItem("Zoom",Gl.toString()),this.updateZoom(),GameUI.notify.info(`Size changed to ${Math.round(100*Gl)}%`)},updateZoom(){if(!this.isActive)return;const e=1020,t=window.outerHeight/e;Ml(t*Gl)}},Bl={get gameStage(){const e=ia.stages;for(let t=e.length-1;t>=0;t--)if(e[t].hasReached())return e[t];throw Error("No valid progress stage found")},get challengeState(){const e=ia.challenges;for(let t=0;t<e.length;t++){const i=e[t];if(i.activityToken())return i}return null},get details(){const e=this.challengeState,t="function"===typeof this.gameStage.name?this.gameStage.name():this.gameStage.name;if(!e)return`At ${t} (${this.gameStage.mainResource()})`;const i=e.resource()?`, ${e.resource()}`:"";return`At ${t} (In ${e.name(e.activityToken())}${i})`},get state(){var e;const t=this.challengeState?[this.gameStage.mainResource()]:[];return t.concat((null!==(e=this.gameStage.resourceList)&&void 0!==e?e:[]).map((e=>e()))).join(" | ")}};function Ol(e){Il()?Dl(e):window.open(e,"_blank").focus()}var Ll="undefined"!=typeof Ll?Ll:{};Ll.settings||(Ll.settings={titleId:null,developerSecretKey:null,GlobalHeaderInjection:null,productionServerUrl:".playfabapi.com"}),Ll._internalSettings||(Ll._internalSettings={entityToken:null,sdkVersion:"1.136.230206",requestGetParams:{sdk:"JavaScriptSDK-1.136.230206"},sessionTicket:null,verticalName:null,errorTitleId:"Must be have PlayFab.settings.titleId set to call this method",errorLoggedIn:"Must be logged in to call this method",errorEntityToken:"You must successfully call GetEntityToken before calling this",errorSecretKey:"Must have PlayFab.settings.developerSecretKey set to call this method",GetServerUrl:function(){return"http"!==Ll.settings.productionServerUrl.substring(0,4)?Ll._internalSettings.verticalName?"https://"+Ll._internalSettings.verticalName+Ll.settings.productionServerUrl:"https://"+Ll.settings.titleId+Ll.settings.productionServerUrl:Ll.settings.productionServerUrl},InjectHeaders:function(e,t){if(t)for(var i in t)try{e.setRequestHeader(gHeaderKey,t[i])}catch(a){console.log("Failed to append header: "+i+" = "+t[i]+"Error: "+a)}},ExecuteRequest:function(e,t,i,a,n,s,r){var o=new Promise((function(o,l){if(null!=n&&"function"!==typeof n)throw"Callback must be null or a function";null==t&&(t={});var c=new Date,u=JSON.stringify(t),d=[e],h=Ll._internalSettings.requestGetParams;if(null!=h){var p=!0;for(var m in h)p?(d.push("?"),p=!1):d.push("&"),d.push(m),d.push("="),d.push(h[m])}var y=d.join(""),f=new XMLHttpRequest;f.open("POST",y,!0),f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("X-PlayFabSDK","JavaScriptSDK-"+Ll._internalSettings.sdkVersion),null!=i&&f.setRequestHeader(i,a),Ll._internalSettings.InjectHeaders(f,Ll.settings.GlobalHeaderInjection),Ll._internalSettings.InjectHeaders(f,r),f.onloadend=function(){if(null!=n){var e=Ll._internalSettings.GetPlayFabResponse(t,f,c,s);200===e.code?n(e,null):n(null,e)}},f.onerror=function(){if(null!=n){var e=Ll._internalSettings.GetPlayFabResponse(t,f,c,s);n(null,e)}},f.send(u),f.onreadystatechange=function(){if(4===this.readyState){var e=Ll._internalSettings.GetPlayFabResponse(t,this,c,s);200===this.status?o(e):l(e)}}}));return o},GetPlayFabResponse:function(e,t,i,a){var n=null;try{n=JSON.parse(t.responseText)}catch(s){n={code:503,status:"Service Unavailable",error:"Connection error",errorCode:2,errorMessage:t.responseText}}return n.CallBackTimeMS=new Date-i,n.Request=e,n.CustomData=a,n},authenticationContext:{PlayFabId:null,EntityId:null,EntityType:null,SessionTicket:null,EntityToken:null},UpdateAuthenticationContext:function(e,t){var i={};return null!==t.data.PlayFabId&&(Ll._internalSettings.authenticationContext.PlayFabId=t.data.PlayFabId,i.PlayFabId=t.data.PlayFabId),null!==t.data.SessionTicket&&(Ll._internalSettings.authenticationContext.SessionTicket=t.data.SessionTicket,i.SessionTicket=t.data.SessionTicket),null!==t.data.EntityToken&&(Ll._internalSettings.authenticationContext.EntityId=t.data.EntityToken.Entity.Id,i.EntityId=t.data.EntityToken.Entity.Id,Ll._internalSettings.authenticationContext.EntityType=t.data.EntityToken.Entity.Type,i.EntityType=t.data.EntityToken.Entity.Type,Ll._internalSettings.authenticationContext.EntityToken=t.data.EntityToken.EntityToken,i.EntityToken=t.data.EntityToken.EntityToken),e=Object.assign(e,i),e},AuthInfoMap:{"X-EntityToken":{authAttr:"entityToken",authError:"errorEntityToken"},"X-Authorization":{authAttr:"sessionTicket",authError:"errorLoggedIn"},"X-SecretKey":{authAttr:"developerSecretKey",authError:"errorSecretKey"}},GetAuthInfo:function(e,t){var i=Ll._internalSettings.AuthInfoMap[t].authError,a=Ll._internalSettings.AuthInfoMap[t].authAttr,n=null;"entityToken"===a?n=Ll._internalSettings.entityToken:"sessionTicket"===a?n=Ll._internalSettings.sessionTicket:"developerSecretKey"===a&&(n=Ll.settings.developerSecretKey);var s=e.AuthenticationContext?e.AuthenticationContext[a]:n;return{authKey:t,authValue:s,authError:i}},ExecuteRequestWrapper:function(e,t,i,a,n,s){var r=null;if(null!==i){var o=Ll._internalSettings.GetAuthInfo(t,i),l=(i=o.authKey,r=o.authValue,o.authError);if(!r)throw l}return Ll._internalSettings.ExecuteRequest(Ll._internalSettings.GetServerUrl()+e,t,i,r,a,n,s)}}),Ll.buildIdentifier="adobuild_javascriptsdk_114",Ll.sdkVersion="1.136.230206",Ll.GenerateErrorReport=function(e){if(null==e)return"";var t=e.errorMessage;for(var i in e.errorDetails)for(var a in e.errorDetails[i])t+="\n"+i+": "+e.errorDetails[i][a];return t},Ll.ClientApi={IsClientLoggedIn:function(){return null!=Ll._internalSettings.sessionTicket&&Ll._internalSettings.sessionTicket.length>0},ForgetAllCredentials:function(){Ll._internalSettings.sessionTicket=null,Ll._internalSettings.entityToken=null},AcceptTrade:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AcceptTrade",e,"X-Authorization",t,i,a)},AddFriend:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AddFriend",e,"X-Authorization",t,i,a)},AddGenericID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AddGenericID",e,"X-Authorization",t,i,a)},AddOrUpdateContactEmail:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AddOrUpdateContactEmail",e,"X-Authorization",t,i,a)},AddSharedGroupMembers:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AddSharedGroupMembers",e,"X-Authorization",t,i,a)},AddUsernamePassword:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AddUsernamePassword",e,"X-Authorization",t,i,a)},AddUserVirtualCurrency:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AddUserVirtualCurrency",e,"X-Authorization",t,i,a)},AndroidDevicePushNotificationRegistration:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AndroidDevicePushNotificationRegistration",e,"X-Authorization",t,i,a)},AttributeInstall:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/AttributeInstall",e,"X-Authorization",t,i,a)},CancelTrade:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/CancelTrade",e,"X-Authorization",t,i,a)},ConfirmPurchase:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ConfirmPurchase",e,"X-Authorization",t,i,a)},ConsumeItem:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ConsumeItem",e,"X-Authorization",t,i,a)},ConsumeMicrosoftStoreEntitlements:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ConsumeMicrosoftStoreEntitlements",e,"X-Authorization",t,i,a)},ConsumePS5Entitlements:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ConsumePS5Entitlements",e,"X-Authorization",t,i,a)},ConsumePSNEntitlements:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ConsumePSNEntitlements",e,"X-Authorization",t,i,a)},ConsumeXboxEntitlements:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ConsumeXboxEntitlements",e,"X-Authorization",t,i,a)},CreateSharedGroup:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/CreateSharedGroup",e,"X-Authorization",t,i,a)},ExecuteCloudScript:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ExecuteCloudScript",e,"X-Authorization",t,i,a)},GetAccountInfo:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetAccountInfo",e,"X-Authorization",t,i,a)},GetAdPlacements:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetAdPlacements",e,"X-Authorization",t,i,a)},GetAllUsersCharacters:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetAllUsersCharacters",e,"X-Authorization",t,i,a)},GetCatalogItems:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCatalogItems",e,"X-Authorization",t,i,a)},GetCharacterData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterData",e,"X-Authorization",t,i,a)},GetCharacterInventory:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterInventory",e,"X-Authorization",t,i,a)},GetCharacterLeaderboard:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterLeaderboard",e,"X-Authorization",t,i,a)},GetCharacterReadOnlyData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterReadOnlyData",e,"X-Authorization",t,i,a)},GetCharacterStatistics:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterStatistics",e,"X-Authorization",t,i,a)},GetContentDownloadUrl:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetContentDownloadUrl",e,"X-Authorization",t,i,a)},GetCurrentGames:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetCurrentGames",e,"X-Authorization",t,i,a)},GetFriendLeaderboard:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetFriendLeaderboard",e,"X-Authorization",t,i,a)},GetFriendLeaderboardAroundPlayer:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetFriendLeaderboardAroundPlayer",e,"X-Authorization",t,i,a)},GetFriendsList:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetFriendsList",e,"X-Authorization",t,i,a)},GetGameServerRegions:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetGameServerRegions",e,"X-Authorization",t,i,a)},GetLeaderboard:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboard",e,"X-Authorization",t,i,a)},GetLeaderboardAroundCharacter:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardAroundCharacter",e,"X-Authorization",t,i,a)},GetLeaderboardAroundPlayer:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardAroundPlayer",e,"X-Authorization",t,i,a)},GetLeaderboardForUserCharacters:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardForUserCharacters",e,"X-Authorization",t,i,a)},GetPaymentToken:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPaymentToken",e,"X-Authorization",t,i,a)},GetPhotonAuthenticationToken:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPhotonAuthenticationToken",e,"X-Authorization",t,i,a)},GetPlayerCombinedInfo:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerCombinedInfo",e,"X-Authorization",t,i,a)},GetPlayerProfile:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerProfile",e,"X-Authorization",t,i,a)},GetPlayerSegments:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerSegments",e,"X-Authorization",t,i,a)},GetPlayerStatistics:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerStatistics",e,"X-Authorization",t,i,a)},GetPlayerStatisticVersions:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerStatisticVersions",e,"X-Authorization",t,i,a)},GetPlayerTags:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerTags",e,"X-Authorization",t,i,a)},GetPlayerTrades:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerTrades",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromFacebookIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromFacebookIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromFacebookInstantGamesIds:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromFacebookInstantGamesIds",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromGameCenterIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGameCenterIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromGenericIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGenericIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromGoogleIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGoogleIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromGooglePlayGamesPlayerIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGooglePlayGamesPlayerIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromKongregateIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromKongregateIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromNintendoServiceAccountIds:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromNintendoServiceAccountIds",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromNintendoSwitchDeviceIds:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromNintendoSwitchDeviceIds",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromPSNAccountIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromPSNAccountIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromSteamIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromSteamIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromTwitchIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromTwitchIDs",e,"X-Authorization",t,i,a)},GetPlayFabIDsFromXboxLiveIDs:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromXboxLiveIDs",e,"X-Authorization",t,i,a)},GetPublisherData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPublisherData",e,"X-Authorization",t,i,a)},GetPurchase:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetPurchase",e,"X-Authorization",t,i,a)},GetSharedGroupData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetSharedGroupData",e,"X-Authorization",t,i,a)},GetStoreItems:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetStoreItems",e,"X-Authorization",t,i,a)},GetTime:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetTime",e,"X-Authorization",t,i,a)},GetTitleData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetTitleData",e,"X-Authorization",t,i,a)},GetTitleNews:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetTitleNews",e,"X-Authorization",t,i,a)},GetTitlePublicKey:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetTitlePublicKey",e,null,t,i,a)},GetTradeStatus:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetTradeStatus",e,"X-Authorization",t,i,a)},GetUserData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetUserData",e,"X-Authorization",t,i,a)},GetUserInventory:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetUserInventory",e,"X-Authorization",t,i,a)},GetUserPublisherData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetUserPublisherData",e,"X-Authorization",t,i,a)},GetUserPublisherReadOnlyData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetUserPublisherReadOnlyData",e,"X-Authorization",t,i,a)},GetUserReadOnlyData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GetUserReadOnlyData",e,"X-Authorization",t,i,a)},GrantCharacterToUser:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/GrantCharacterToUser",e,"X-Authorization",t,i,a)},LinkAndroidDeviceID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkAndroidDeviceID",e,"X-Authorization",t,i,a)},LinkApple:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkApple",e,"X-Authorization",t,i,a)},LinkCustomID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkCustomID",e,"X-Authorization",t,i,a)},LinkFacebookAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkFacebookAccount",e,"X-Authorization",t,i,a)},LinkFacebookInstantGamesId:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkFacebookInstantGamesId",e,"X-Authorization",t,i,a)},LinkGameCenterAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkGameCenterAccount",e,"X-Authorization",t,i,a)},LinkGoogleAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkGoogleAccount",e,"X-Authorization",t,i,a)},LinkGooglePlayGamesServicesAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkGooglePlayGamesServicesAccount",e,"X-Authorization",t,i,a)},LinkIOSDeviceID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkIOSDeviceID",e,"X-Authorization",t,i,a)},LinkKongregate:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkKongregate",e,"X-Authorization",t,i,a)},LinkNintendoServiceAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkNintendoServiceAccount",e,"X-Authorization",t,i,a)},LinkNintendoSwitchDeviceId:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkNintendoSwitchDeviceId",e,"X-Authorization",t,i,a)},LinkOpenIdConnect:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkOpenIdConnect",e,"X-Authorization",t,i,a)},LinkPSNAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkPSNAccount",e,"X-Authorization",t,i,a)},LinkSteamAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkSteamAccount",e,"X-Authorization",t,i,a)},LinkTwitch:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkTwitch",e,"X-Authorization",t,i,a)},LinkXboxAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/LinkXboxAccount",e,"X-Authorization",t,i,a)},LoginWithAndroidDeviceID:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithAndroidDeviceID",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithApple:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithApple",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithCustomID:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithCustomID",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithEmailAddress:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithEmailAddress",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithFacebook:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithFacebook",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithFacebookInstantGamesId:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithFacebookInstantGamesId",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithGameCenter:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGameCenter",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithGoogleAccount:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGoogleAccount",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithGooglePlayGamesServices:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGooglePlayGamesServices",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithIOSDeviceID:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithIOSDeviceID",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithKongregate:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithKongregate",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithNintendoServiceAccount:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithNintendoServiceAccount",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithNintendoSwitchDeviceId:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithNintendoSwitchDeviceId",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithOpenIdConnect:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithOpenIdConnect",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithPlayFab:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithPlayFab",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithPSN:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithPSN",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithSteam:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithSteam",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithTwitch:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithTwitch",e,null,s,i,a),new Promise((function(e){e(n)}))},LoginWithXbox:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;var n=JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext)),s=function(e,i){null!=e&&(null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=e.data.EntityToken&&(Ll._internalSettings.entityToken=e.data.EntityToken.EntityToken),n=Ll._internalSettings.UpdateAuthenticationContext(n,e)),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/LoginWithXbox",e,null,s,i,a),new Promise((function(e){e(n)}))},Matchmake:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/Matchmake",e,"X-Authorization",t,i,a)},OpenTrade:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/OpenTrade",e,"X-Authorization",t,i,a)},PayForPurchase:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/PayForPurchase",e,"X-Authorization",t,i,a)},PurchaseItem:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/PurchaseItem",e,"X-Authorization",t,i,a)},RedeemCoupon:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RedeemCoupon",e,"X-Authorization",t,i,a)},RefreshPSNAuthToken:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RefreshPSNAuthToken",e,"X-Authorization",t,i,a)},RegisterForIOSPushNotification:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RegisterForIOSPushNotification",e,"X-Authorization",t,i,a)},RegisterPlayFabUser:function(e,t,i,a){if(e.TitleId=Ll.settings.titleId?Ll.settings.titleId:e.TitleId,!e.TitleId)throw Ll._internalSettings.errorTitleId;JSON.parse(JSON.stringify(Ll._internalSettings.authenticationContext));var n=function(e,i){null!=e&&null!=e.data.SessionTicket&&(Ll._internalSettings.sessionTicket=e.data.SessionTicket),null!=t&&"function"===typeof t&&t(e,i)};return Ll._internalSettings.ExecuteRequestWrapper("/Client/RegisterPlayFabUser",e,null,n,i,a)},RemoveContactEmail:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RemoveContactEmail",e,"X-Authorization",t,i,a)},RemoveFriend:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RemoveFriend",e,"X-Authorization",t,i,a)},RemoveGenericID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RemoveGenericID",e,"X-Authorization",t,i,a)},RemoveSharedGroupMembers:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RemoveSharedGroupMembers",e,"X-Authorization",t,i,a)},ReportAdActivity:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ReportAdActivity",e,"X-Authorization",t,i,a)},ReportDeviceInfo:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ReportDeviceInfo",e,"X-Authorization",t,i,a)},ReportPlayer:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ReportPlayer",e,"X-Authorization",t,i,a)},RestoreIOSPurchases:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RestoreIOSPurchases",e,"X-Authorization",t,i,a)},RewardAdActivity:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/RewardAdActivity",e,"X-Authorization",t,i,a)},SendAccountRecoveryEmail:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/SendAccountRecoveryEmail",e,null,t,i,a)},SetFriendTags:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/SetFriendTags",e,"X-Authorization",t,i,a)},SetPlayerSecret:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/SetPlayerSecret",e,"X-Authorization",t,i,a)},StartPurchase:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/StartPurchase",e,"X-Authorization",t,i,a)},SubtractUserVirtualCurrency:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/SubtractUserVirtualCurrency",e,"X-Authorization",t,i,a)},UnlinkAndroidDeviceID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkAndroidDeviceID",e,"X-Authorization",t,i,a)},UnlinkApple:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkApple",e,"X-Authorization",t,i,a)},UnlinkCustomID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkCustomID",e,"X-Authorization",t,i,a)},UnlinkFacebookAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkFacebookAccount",e,"X-Authorization",t,i,a)},UnlinkFacebookInstantGamesId:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkFacebookInstantGamesId",e,"X-Authorization",t,i,a)},UnlinkGameCenterAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGameCenterAccount",e,"X-Authorization",t,i,a)},UnlinkGoogleAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGoogleAccount",e,"X-Authorization",t,i,a)},UnlinkGooglePlayGamesServicesAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGooglePlayGamesServicesAccount",e,"X-Authorization",t,i,a)},UnlinkIOSDeviceID:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkIOSDeviceID",e,"X-Authorization",t,i,a)},UnlinkKongregate:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkKongregate",e,"X-Authorization",t,i,a)},UnlinkNintendoServiceAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkNintendoServiceAccount",e,"X-Authorization",t,i,a)},UnlinkNintendoSwitchDeviceId:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkNintendoSwitchDeviceId",e,"X-Authorization",t,i,a)},UnlinkOpenIdConnect:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkOpenIdConnect",e,"X-Authorization",t,i,a)},UnlinkPSNAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkPSNAccount",e,"X-Authorization",t,i,a)},UnlinkSteamAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkSteamAccount",e,"X-Authorization",t,i,a)},UnlinkTwitch:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkTwitch",e,"X-Authorization",t,i,a)},UnlinkXboxAccount:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlinkXboxAccount",e,"X-Authorization",t,i,a)},UnlockContainerInstance:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlockContainerInstance",e,"X-Authorization",t,i,a)},UnlockContainerItem:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UnlockContainerItem",e,"X-Authorization",t,i,a)},UpdateAvatarUrl:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateAvatarUrl",e,"X-Authorization",t,i,a)},UpdateCharacterData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateCharacterData",e,"X-Authorization",t,i,a)},UpdateCharacterStatistics:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateCharacterStatistics",e,"X-Authorization",t,i,a)},UpdatePlayerStatistics:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdatePlayerStatistics",e,"X-Authorization",t,i,a)},UpdateSharedGroupData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateSharedGroupData",e,"X-Authorization",t,i,a)},UpdateUserData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserData",e,"X-Authorization",t,i,a)},UpdateUserPublisherData:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserPublisherData",e,"X-Authorization",t,i,a)},UpdateUserTitleDisplayName:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserTitleDisplayName",e,"X-Authorization",t,i,a)},ValidateAmazonIAPReceipt:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ValidateAmazonIAPReceipt",e,"X-Authorization",t,i,a)},ValidateGooglePlayPurchase:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ValidateGooglePlayPurchase",e,"X-Authorization",t,i,a)},ValidateIOSReceipt:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ValidateIOSReceipt",e,"X-Authorization",t,i,a)},ValidateWindowsStoreReceipt:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/ValidateWindowsStoreReceipt",e,"X-Authorization",t,i,a)},WriteCharacterEvent:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/WriteCharacterEvent",e,"X-Authorization",t,i,a)},WritePlayerEvent:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/WritePlayerEvent",e,"X-Authorization",t,i,a)},WriteTitleEvent:function(e,t,i,a){return Ll._internalSettings.ExecuteRequestWrapper("/Client/WriteTitleEvent",e,"X-Authorization",t,i,a)}};Ll.ClientApi;Ll.RegisterWithPhaser=function(){"undefined"!==typeof Phaser&&"undefined"!==typeof Phaser.Plugin&&(Phaser.Plugin.PlayFab=function(e,t){Phaser.Plugin.call(this,e,t)},Phaser.Plugin.PlayFab.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.PlayFab.prototype.constructor=Phaser.Plugin.PlayFab,Phaser.Plugin.PlayFab.prototype.PlayFab=Ll,Phaser.Plugin.PlayFab.prototype.settings=Ll.settings,Phaser.Plugin.PlayFab.prototype.ClientApi=Ll.ClientApi)},Ll.RegisterWithPhaser();const $l=Ll.ClientApi;function Hl(e){return Zl($l.LoginWithSteam,{SteamTicket:e,CreateAccount:!0})}function Fl(e){Jl($l.UpdateUserTitleDisplayName,{DisplayName:e})}function ql(){return Jl($l.GetUserData)}function Vl(e){return Jl($l.UpdateUserData,{Data:e})}function Yl(){return Jl($l.GetUserInventory)}function jl(e,t,i){return Jl($l.PurchaseItem,{ItemId:e,Price:t,VirtualCurrency:i})}function Wl(e,t,i){return Jl($l.StartPurchase,{Items:[{ItemId:e,Quantity:t,Annotation:i}]})}function Xl(e,t,i){return Jl($l.PayForPurchase,{OrderId:e,Currency:t,ProviderName:i})}function zl(e){return Jl($l.ConfirmPurchase,{OrderId:e})}function Kl(e,t){return Jl($l.ConsumeItem,{ItemInstanceId:e,ConsumeCount:t})}function Ql(e,t){return Jl($l.AddUserVirtualCurrency,{Amount:e,VirtualCurrency:t})}function Jl(e,t){return $l.IsClientLoggedIn()?Zl(e,t):Promise.reject("PlayFab Client is not logged in.")}function Zl(e,t){return new Promise(((i,a)=>{e(null!==t&&void 0!==t?t:{},((e,t)=>{!t&&null!==e&&void 0!==e&&e.data?i(e.data):a(null!==t&&void 0!==t?t:e)}))}))}async function ec(e,t){await Hl(e),Fl(t),rc(),cc()}async function tc(e){const t=`${e}STD`,i=1,a="Purchased via in-game store",n=await Wl(t,i,a),s=n.OrderId,r="RM",o="Steam",l=await Xl(s,r,o);if(ac.push(l.OrderId),g){const e=l.ProviderData;Ol(`https://store.steampowered.com/checkout/approvetxn/${e}/?returnurl=steam`)}}Ll.settings.titleId="59813";let ic=0,ac=[],nc=!1,sc=!1;async function rc(){if(nc)return void(sc=!0);clearTimeout(ic),nc=!0;const e=[...ac];for(const i of e)try{await oc(i)}catch{}nc=!1;const t=sc?0:2e3;ic=setTimeout(rc,t),sc=!1}async function oc(e){const t=await zl(e),i=t.Items[0].ItemId,a=t.Items[0].ItemInstanceId;await Kl(a,1);const n=Number(i.replace("STD",""));ac=ac.filter((t=>t!==e)),await Ql(n,"ST"),GameUI.notify.info(`${n} STDs Obtained!`),cc()}function lc(){return g&&ac.length>0}async function cc(){var e,t,i,a,n;const s=await Yl();ShopPurchaseData.totalSTD=null!==(e=null===(t=s.VirtualCurrency)||void 0===t?void 0:t.ST)&&void 0!==e?e:0;for(const l of Object.keys(GameDatabase.shopPurchases)){var r;const e=s.Inventory.find((e=>e.ItemId===l));ShopPurchaseData[l]=null!==(r=null===e||void 0===e?void 0:e.RemainingUses)&&void 0!==r?r:0}GameUI.update();const o=await ql();ShopPurchaseData.unlockedCosmetics=null!==(i=null===(a=o.Data.Cosmetics)||void 0===a||null===(n=a.Value)||void 0===n?void 0:n.split(","))&&void 0!==i?i:[],GameUI.update()}async function uc(e,t,i){await jl(e,t,"ST"),void 0!==i&&await dc(i),cc()}async function dc(e){var t,i,a,n;const s=await ql(),r=new Set(null!==(t=null===(i=s.Data)||void 0===i||null===(a=i.Cosmetics)||void 0===a||null===(n=a.Value)||void 0===n?void 0:n.split(","))&&void 0!==t?t:[]);r.add(e);const o=[...r];await Vl({Cosmetics:o.join(",")}),ShopPurchaseData.unlockedCosmetics=o,GameUI.update()}const hc=new xl("greenworks");function pc(){return hc.isLoaded}function mc(){return hc.safeCall((e=>e.initAPI()),!1)}function yc(){return hc.safeCall((e=>e.getSteamId()))}function fc(){return hc.makePromise(((e,t,i)=>e.getAuthSessionTicket(t,i)))}function gc(e){return hc.makePromise(((t,i,a)=>t.activateAchievement(e,i,a)))}function bc(){return hc.safeCall((e=>e.getAchievementNames()),[])}function vc(e,t){return hc.safeCall((i=>i.initDiscordAPI(e,t)))}function Ec(){return hc.safeCall((e=>e.runDiscordCallbacks()))}function Tc(e,t){return hc.safeCall((i=>i.on(e,t)))}function _c(e,t){return hc.safeCall((i=>i.setDiscordActivity({smallImage:"icon",largeImage:"icon",state:e,details:t})))}let Cc=!1,Ac=!1,kc=[];const wc={initialize(){if(Cc)throw Error("Steam Runtime was initialized already.");if(Cc=!0,!f||!pc()||!mc())return;Ac=!0;const e=yc();Sc(e),xc(e),kc=bc(),Tc("micro-txn-authorization-response",((e,t,i)=>{!0===i&&rc()})),g||(Rc(),Mc())},get isActive(){if(!Cc)throw Error("Steam Runtime was called before init.");return Ac},get screenName(){var e,t;return this.isActive?null!==(e=null===(t=yc())||void 0===t?void 0:t.screenName)&&void 0!==e?e:"Steam user":"Non-Steam user"},activateAchievement(e){if(!this.isActive)return;const t=`Achievement${e}`;kc.includes(t)&&gc(t)},async purchaseIAP(e){this.isActive&&await tc(e)},validatePurchases(){this.isActive&&rc()},async purchaseShopItem(e,t,i){if(!this.isActive)return GameUI.notify.error("Shop purchases are not available."),!1;try{return await uc(e,t,i),!0}catch(n){var a;return GameUI.notify.error(null!==(a=n.errorMessage)&&void 0!==a?a:n),!1}},get hasPendingPurchaseConfirmations(){return!!this.isActive&&lc()}};async function Sc(e){try{const t=e.screenName,i=await fc();await ec(i.ticket.toString("hex"),t),GameUI.notify.info("Logged in to PlayFab Cloud")}catch(t){throw GameUI.notify.error("Couldn't log in to PlayFab Cloud."),t}}async function xc(e){const t=e.accountId,i=e.staticAccountId,a=e.screenName;await Cloud.loginWithSteam(t,i,a)}function Rc(){vc("1057439416819396689",1399720),Ic(),Ec(),setInterval(Ic,8e3),setInterval(Ec,4e3)}function Ic(){_c(Bl.state,Bl.details)}function Mc(){const e=document.createElement("canvas");e.classList.add("_steam-refresh-canvas"),document.body.appendChild(e);const t=e.getContext("2d");function i(){t.clearRect(0,0,e.width,e.height),window.requestAnimationFrame(i)}i()}const Dc=[{name:"Переключить автоматику",keys:["a"],type:"bindHotkey",function:()=>Gc(),visible:!0},{name:"Купить один ускоритель",keys:["shift","t"],type:"bindRepeatableHotkey",function:()=>buyTickSpeed(),visible:!0},{name:"Купить все ускорители",keys:["t"],type:"bindRepeatableHotkey",function:()=>buyMaxTickSpeed(),visible:!0},{name:"Купить всё",keys:["m"],type:"bindRepeatableHotkey",function:()=>maxAll(),visible:!0},{name:"Пожертвование Измерений",keys:["s"],type:"bindRepeatableHotkey",function:()=>sacrificeBtnClick(),visible:!0},{name:"Расширение Измерений",keys:["d"],type:"bindRepeatableHotkey",function:()=>manualRequestDimensionBoost(!0),visible:!0},{name:"Single Dimension Boost",keys:["shift","d"],type:"bindRepeatableHotkey",function:()=>manualRequestDimensionBoost(!1),visible:!1},{name:"Галактика Антиматерии",keys:["g"],type:"bindRepeatableHotkey",function:()=>manualRequestGalaxyReset(!0),visible:!0},{name:"Single Antimatter Galaxy",keys:["shift","g"],type:"bindRepeatableHotkey",function:()=>manualRequestGalaxyReset(!1),visible:!1},{name:"Большое Сжатие",keys:["c"],type:"bindRepeatableHotkey",function:()=>manualBigCrunchResetRequest(),visible:!0},{name:"Галактика Репликанти",keys:["r"],type:"bindHotkey",function:()=>{replicantiGalaxyRequest(),setHoldingR(!0)},visible:()=>Replicanti.areUnlocked||PlayerProgress.eternityUnlocked()},{name:"Вечность",keys:["e"],type:"bindRepeatableHotkey",function:()=>eternityResetRequest(),visible:()=>PlayerProgress.eternityUnlocked()||Player.canEternity},{name:"Переключить сброс Исследований Времени",keys:["shift","e"],type:"bindHotkey",function:()=>{player.respec=!player.respec,GameUI.notify.info(`Исследования Времени ${player.respec?"":"не "}будут сброшены`)},visible:()=>PlayerProgress.eternityUnlocked()},{name:"Переключить Замедление",keys:["l"],type:"bindRepeatableHotkey",function:()=>startDilatedEternityRequest(),visible:()=>PlayerProgress.realityUnlocked()||PlayerProgress.dilationUnlocked()},{name:"Реальность",keys:["y"],type:"bindRepeatableHotkey",function:()=>requestManualReality(),visible:()=>PlayerProgress.realityUnlocked()||isRealityAvailable()},{name:"Переключить сброс глифов",keys:["shift","y"],type:"bindHotkey",function:()=>{player.reality.respec=!player.reality.respec,GameUI.notify.info(`Глифы ${player.reality.respec?"":"не "}будут сброшены`)},visible:()=>PlayerProgress.realityUnlocked()},{name:"Переключить Автоматизатор",keys:["u"],type:"bindHotkey",function:()=>Bc(),visible:()=>Player.automatorUnlocked},{name:"Перезапустить текущую программу для Автоматизатора",keys:["shift","u"],type:"bindHotkey",function:()=>Oc(),visible:()=>Player.automatorUnlocked},{name:"Отменить изменение в Автоматизаторе",keys:["mod","z"],type:"bind",function:()=>AutomatorData.undoScriptEdit(),visible:()=>Player.automatorUnlocked},{name:"Восстановить изменение в Автоматизаторе",keys:["mod","y"],type:"bind",function:()=>AutomatorData.redoScriptEdit(),visible:()=>Player.automatorUnlocked},{name:"Переключить Чёрную Дыру",keys:["b"],type:"bindHotkey",function:()=>BlackHoles.togglePause(),visible:()=>PlayerProgress.realityUnlocked()},{name:"Переключить Континуум",keys:["alt","a"],type:"bindHotkey",function:()=>Nc(),visible:()=>Laitela.continuumUnlocked},{name:"Армагеддон",keys:["z"],type:"bindRepeatableHotkey",function:()=>Lc(),visible:()=>Pelle.isDoomed},{name:"Переключить сброс глифов в Обречении",keys:["shift","z"],type:"bindHotkey",function:()=>{Pelle.isDoomed&&(player.reality.respec=!player.reality.respec,GameUI.notify.info(`Глифы ${player.reality.respec?"":"не "}будут сброшены`))},visible:()=>Pelle.isDoomed},{name:"Сохранить игру",keys:["mod","s"],type:"bind",function:()=>(GameStorage.save(!1,!0),!1),visible:!0},{name:"Экспортировать сохранение",keys:["mod","e"],type:"bind",function:()=>(GameStorage.export(),!1),visible:!0},{name:"Раскрыть список горячих клавиш",keys:["?"],type:"bind",function:()=>(Hc(),!1),visible:!0},{name:"Открыть окно помощи по игре",keys:["h"],type:"bind",function:()=>(Fc(),!1),visible:!0},{name:"Раскрыть изменение отображаемых вкладок",keys:["tab"],type:"bind",function:()=>(Vc(),!1),visible:!0},{name:"Подтвердить",keys:["enter"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ENTER_PRESSED),!0),visible:!0},{name:'Закрыть окно или открыть вкладку "Настройки"',keys:["esc"],type:"bind",function:()=>($c(),!1),visible:!0},{name:"Paying respects",keys:["f"],type:"bindRepeatable",function:()=>{GameUI.notify.info("Чтим память"),SecretAchievement(13).unlock()},visible:!1},{name:"Change Tab",keys:["up"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"up"),!1),visible:!1},{name:"Change Tab",keys:["down"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"down"),!1),visible:!1},{name:"Change Subtab",keys:["left"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"left"),!1),visible:!1},{name:"Change Subtab",keys:["right"],type:"bind",function:()=>(EventHub.dispatch(GAME_EVENT.ARROW_KEY_PRESSED,"right"),!1),visible:!1},{name:"Doesn't exist",keys:["9"],type:"bind",function:()=>SecretAchievement(41).unlock(),visible:!1},{name:"Открыть окно настройки автоматики",keys:["mod","alt","a"],type:"bind",function:()=>qc(),visible:()=>Autobuyers.hasAutobuyersForEditModal},{name:"Fullscreen",keys:["F10"],type:"bind",function:()=>{},visible:()=>!1},{name:"Zoom In",keys:["ctrl","="],type:"bind",function:()=>Nl.increaseZoom(),visible:()=>!1},{name:"Zoom In",keys:["ctrl","+"],type:"bind",function:()=>Nl.increaseZoom(),visible:()=>!1},{name:"Zoom Out",keys:["ctrl","-"],type:"bind",function:()=>Nl.decreaseZoom(),visible:()=>!1},{name:"Reset Zoom",keys:["ctrl","0"],type:"bind",function:()=>Nl.resetZoom(),visible:()=>!1}];for(const V of Dc)Al[V.type](V.keys.join("+"),V.function);function Pc(e){const t=e===Autobuyer.tickspeed&&e.isBought;if(e.disabledByContinuum)GameUI.notify.info("Континуум замещает эту автоматику");else if(e.isUnlocked||t){e.toggle();const t=void 0===e.fullName?e.name:e.fullName;GameUI.notify.info(`Автоматика ${t} ${e.isActive?"включена":"выключена"}`)}return!1}function Uc(e){if(e.disabledByContinuum)GameUI.notify.info("Континуум замещает эту автоматику");else if(e.isUnlocked&&null!==e.toggleMode){e.toggleMode();const t="Tickspeed"===e.name||e.hasUnlimitedBulk?"максимума":"по 10",i=void 0===e.fullName?e.name:e.fullName;GameUI.notify.info(`Автоматика ${i} настроена на покупку ${1===e.mode?"по одному":t}`)}return!1}function Gc(){Tab.automation.isUnlocked&&(Autobuyers.toggle(),GameUI.notify.info("Автоматика "+(player.auto.autobuyersOn?"возобновлена":"приостановлена")))}function Nc(){Laitela.continuumUnlocked&&(ImaginaryUpgrade(21).isLockingMechanics&&player.auto.disableContinuum?ImaginaryUpgrade(21).tryShowWarningModal():(Laitela.setContinuum(player.auto.disableContinuum),GameUI.notify.info("Континуум "+(player.auto.disableContinuum?"отключён":"включён"))))}function Bc(){if(Player.automatorUnlocked){if(AutomatorBackend.isRunning)AutomatorBackend.pause();else{if(!AutomatorBackend.isOn){const e=player.reality.automator.state.editorScript;return AutomatorBackend.restart(),AutomatorBackend.start(e),void(0===AutomatorData.currentErrors().length?GameUI.notify.automator(`Запущена программа "${AutomatorBackend.scriptName}"`):GameUI.notify.error(`Программа "${AutomatorBackend.scriptName}" не может быть запущена ввиду наличия ошибок`))}AutomatorBackend.mode=AUTOMATOR_MODE.RUN}const e=AutomatorBackend.isRunning?"возобновлено":"приостановлено",t=AutomatorBackend.currentLineNumber;GameUI.notify.automator(`Выполнение программы "${AutomatorBackend.scriptName}" ${e} на строке ${t}`)}}function Oc(){if(Player.automatorUnlocked){const e=AutomatorBackend.isOn?"Перезапущена":"Запущена";GameUI.notify.automator(`${e} программа "${AutomatorBackend.scriptName}"`),AutomatorBackend.restart(),AutomatorBackend.start()}}function Lc(){Pelle.canArmageddon&&Pelle.armageddon(!0)}function $c(){Quote.isOpen||Quote.isHistoryOpen?Quote.clearAll():Modal.isOpen?Modal.hideAll():Tab.options.show(!0)}function Hc(){Modal.hotkeys.isOpen?EventHub.dispatch(GAME_EVENT.CLOSE_MODAL):(Modal.isOpen&&Modal.hideAll(),Modal.hotkeys.show())}function Fc(){Modal.h2p.isOpen?EventHub.dispatch(GAME_EVENT.CLOSE_MODAL):(Modal.isOpen&&Modal.hideAll(),Modal.h2p.show())}function qc(){Modal.autobuyerEditModal.isOpen?EventHub.dispatch(GAME_EVENT.CLOSE_MODAL):Autobuyers.hasAutobuyersForEditModal&&(Modal.isOpen&&Modal.hideAll(),Modal.autobuyerEditModal.show())}function Vc(){Modal.hiddenTabs.isOpen?EventHub.dispatch(GAME_EVENT.CLOSE_MODAL):(Modal.isOpen&&Modal.hideAll(),Modal.hiddenTabs.show())}Al.bind("r",(()=>setHoldingR(!1)),"keyup"),Al.bind("shift",(()=>setShiftKey(!0)),"keydown"),Al.bind("shift",(()=>setShiftKey(!1)),"keyup"),Al.bind("ctrl+shift",(()=>setShiftKey(!0)),"keydown"),Al.bind("ctrl+shift",(()=>setShiftKey(!1)),"keyup"),Al.bind("alt+shift",(()=>setShiftKey(!0)),"keydown"),Al.bind("alt+shift",(()=>setShiftKey(!1)),"keyup"),Al.bindHotkey("alt+t",(()=>Pc(Autobuyer.tickspeed))),Al.bindHotkey("shift+alt+t",(()=>Uc(Autobuyer.tickspeed))),Al.bindHotkey("alt+s",(()=>Pc(Autobuyer.sacrifice))),Al.bindHotkey("alt+d",(()=>Pc(Autobuyer.dimboost))),Al.bindHotkey("alt+g",(()=>Pc(Autobuyer.galaxy))),Al.bindHotkey("alt+r",(()=>Pc(Autobuyer.replicantiGalaxy))),Al.bindHotkey("alt+c",(()=>Pc(Autobuyer.bigCrunch))),Al.bindHotkey("alt+e",(()=>Pc(Autobuyer.eternity))),Al.bindHotkey("alt+y",(()=>Pc(Autobuyer.reality))),function(){function e(e){Al.bindRepeatableHotkey(`${e}`,(()=>buyManyDimension(e))),Al.bindRepeatableHotkey(`num${e}`,(()=>buyManyDimension(e))),Al.bindRepeatableHotkey(`shift+${e}`,(()=>buyOneDimension(e))),Al.bindRepeatableHotkey(`shift+num${e}`,(()=>buyOneDimension(e))),Al.bindHotkey(`alt+${e}`,(()=>Pc(Autobuyer.antimatterDimension(e)))),Al.bindHotkey(`alt+num${e}`,(()=>Pc(Autobuyer.antimatterDimension(e)))),Al.bindHotkey(`shift+alt+${e}`,(()=>Uc(Autobuyer.antimatterDimension(e)))),Al.bindHotkey(`shift+alt+num${e}`,(()=>Uc(Autobuyer.antimatterDimension(e))))}for(let t=1;t<9;t++)e(t)}(),Al.bind(["mod+shift+c","mod+shift+i","mod+shift+j","f12"],(()=>SecretAchievement(23).unlock())),EventHub.logic.on(GAME_EVENT.ARROW_KEY_PRESSED,(e=>{if(Quote.isOpen||Quote.isHistoryOpen)return;const t=Tabs.current.key;if("up"===e[0]||"down"===e[0]){const i=Tabs.currentUIFormat.flatMap((e=>e.isAvailable?[e.key]:[]));let a=i.indexOf(t);"up"===e[0]?a--:a++,a=(a+i.length)%i.length,Tab[i[a]].show(!0)}else if("left"===e[0]||"right"===e[0]){const i=Tabs.current._currentSubtab.key,a=Tabs.current.subtabs.flatMap((e=>e.isAvailable?[e.key]:[]));let n=a.indexOf(i);"left"===e[0]?n--:n++,n=(n+a.length)%a.length,Tab[t][a[n]].show(!0)}}));const Yc=["up","up","down","down","left","right","left","right","b","a","enter"];let jc=0;function Wc(e){SecretAchievement(17).isUnlocked||(Yc[jc]===e?jc++:jc=2===jc&&"up"===e?2:e===Yc[0]?1:0,Yc.length<=jc&&(SecretAchievement(17).unlock(),Currency.antimatter.bumpTo(30),Speedrun.startTimer()))}const Xc=bl().prototype.handleKey;bl().prototype.handleKey=function(e,t,i){return"keydown"===i.type&&Wc(e),Xc.apply(this,[e,t,i])};const zc={NORMAL:0,DISTANT:1,REMOTE:2};class Kc{constructor(e,t){this.tier=e,this.amount=t}get isSatisfied(){const e=AntimatterDimension(this.tier);return e.totalAmount.gte(this.amount)}}class Qc{static get remoteStart(){return RealityUpgrade(21).effectOrDefault(800)}static get requirement(){return this.requirementAt(player.galaxies)}static buyableGalaxies(e){const t=bulkBuyBinarySearch(new Decimal(e),{costFunction:e=>this.requirementAt(e).amount,cumulative:!1},player.galaxies);if(!t)throw new Error("Unexpected failure to calculate galaxy purchase");return player.galaxies+t.quantity}static requirementAt(e){let t=Qc.baseCost+e*Qc.costMult;const i=Qc.typeAt(e);if(i===zc.DISTANT&&EternityChallenge(5).isRunning)t+=Math.pow(e,2)+e;else if(i===zc.DISTANT||i===zc.REMOTE){const i=this.costScalingStart,a=Math.clampMin(e-i+1,0);t+=Math.pow(a,2)+a}i===zc.REMOTE&&(t*=Math.pow(1.002,e-(Qc.remoteStart-1))),t-=Effects.sum(InfinityUpgrade.resetBoost),InfinityChallenge(5).isCompleted&&(t-=1),GlyphAlteration.isAdded("power")&&(t*=getSecondaryGlyphEffect("powerpow")),t=Math.floor(t);const a=Qc.requiredTier;return new Kc(a,t)}static get costMult(){return Effects.min(NormalChallenge(10).isRunning?90:60,TimeStudy(42))}static get baseCost(){return NormalChallenge(10).isRunning?99:80}static get requiredTier(){return NormalChallenge(10).isRunning?6:8}static get canBeBought(){return!(EternityChallenge(6).isRunning&&!Enslaved.isRunning)&&(!NormalChallenge(8).isRunning&&!InfinityChallenge(7).isRunning&&!(player.records.thisInfinity.maxAM.gt(Player.infinityGoal)&&(!player.break||Player.isInAntimatterChallenge)))}static get lockText(){return this.canBeBought?null:EternityChallenge(6).isRunning?"Недоступно (6-е Испытание Вечности)":InfinityChallenge(7).isRunning?"Недоступно (7-е Испытание Бесконечности)":InfinityChallenge(1).isRunning?"Недоступно (1-е Испытание Бесконечности)":NormalChallenge(8).isRunning?"Недоступно (8-е Обычное Испытание)":null}static get costScalingStart(){return 100+TimeStudy(302).effectOrDefault(0)+Effects.sum(TimeStudy(223),TimeStudy(224),EternityChallenge(5).reward,GlyphSacrifice.power)}static get type(){return this.typeAt(player.galaxies)}static typeAt(e){return e>=Qc.remoteStart?zc.REMOTE:EternityChallenge(5).isRunning||e>=this.costScalingStart?zc.DISTANT:zc.NORMAL}}function Jc(){EventHub.dispatch(GAME_EVENT.GALAXY_RESET_BEFORE),player.galaxies++,(!Achievement(143).isUnlocked||Pelle.isDoomed&&!PelleUpgrade.galaxyNoResetDimboost.canBeApplied)&&(player.dimensionBoosts=0),softReset(0),Notations.current===Notation.emoji&&player.requirementChecks.permanent.emojiGalaxies++,player.requirementChecks.infinity.noSacrifice=!0,EventHub.dispatch(GAME_EVENT.GALAXY_RESET_AFTER)}function Zc(e){Qc.canBeBought&&Qc.requirement.isSatisfied&&(GameEnd.creditsEverClosed||(RealityUpgrade(7).isLockingMechanics&&player.galaxies>0?RealityUpgrade(7).tryShowWarningModal():player.options.confirmations.antimatterGalaxy?Modal.antimatterGalaxy.show({bulk:e&&EternityMilestone.autobuyMaxGalaxies.isReached}):eu(e)))}function eu(e,t=Number.MAX_VALUE){const i=RealityUpgrade(7).isLockingMechanics?1:t;return EternityMilestone.autobuyMaxGalaxies.isReached&&e?tu(i):!(player.galaxies>=i||!Qc.canBeBought||!Qc.requirement.isSatisfied)&&(Tutorial.turnOffEffect(TUTORIAL_STATE.GALAXY),Jc(),!0)}function tu(e=Number.MAX_VALUE){if(player.galaxies>=e||!Qc.canBeBought)return!1;const t=Qc.requirement;if(!t.isSatisfied)return!1;const i=AntimatterDimension(t.tier),a=Math.clampMax(Qc.buyableGalaxies(Math.round(i.totalAmount.toNumber())),e);return Notations.current===Notation.emoji&&(player.requirementChecks.permanent.emojiGalaxies+=a-player.galaxies),player.galaxies=a-1,Jc(),Enslaved.isRunning&&player.galaxies>1&&EnslavedProgress.c10.giveProgress(),Tutorial.turnOffEffect(TUTORIAL_STATE.GALAXY),!0}class iu{constructor(e){var t,i,a,n,s,r;this.name=e.name,this.forcedName=e.forcedName,this.isUnlocked=()=>e.isUnlocked()||player.records.fullGameCompletions>0,this.awayOption=null!==(t=e.awayOption)&&void 0!==t?t:this.name,this.showOption=null===(i=e.showOption)||void 0===i||i,this.reference=null!==(a=e.reference)&&void 0!==a?a:[this.name],this.applyFn=null!==(n=e.applyFn)&&void 0!==n?n:e=>e,this.classObjectReference=null!==(s=e.classObjectReference)&&void 0!==s?s:this.name,this.appearsInAwayModal=null===(r=e.appearsInAwayModal)||void 0===r||r}get option(){return player.options.awayProgress[this.awayOption]}set option(e){player.options.awayProgress[this.awayOption]=e}get classObject(){return`c-modal-away-progress__${this.classObjectReference.replace(/[A-Z]/gu,(e=>`-${e.toLowerCase()}`))}`}get formatName(){return this.forcedName}navigateTo(e){let t=e;for(const i of this.reference)t=t[i];return this.applyFn(t)}}const au={all:{},index:[],showOption:[],appearsInAwayModal:[]};for(let V=0;V<Ia.awayProgressTypes.length;V++){const e=new iu(Ia.awayProgressTypes[V]),t=e.name;au.all[t]=e,au.index.push(t),e.showOption&&au.showOption.push(t),e.appearsInAwayModal&&au.appearsInAwayModal.push(t)}class nu{constructor(e){this.name=e.name,this._confirmationSetting=e.option,this.isUnlocked=()=>e.isUnlocked()||player.records.fullGameCompletions>0}get option(){return player.options.confirmations[this._confirmationSetting]}set option(e){player.options.confirmations[this._confirmationSetting]=e}}const su=Ia.confirmationTypes.mapToObject((e=>e.option),(e=>new nu(e)));su.index=Object.values(su);i(5843);class ru{constructor(e=null){this._id=e}get data(){throw new NotImplementedError}get isUnlocked(){throw new NotImplementedError}get id(){return this._id}get canTick(){const e=!player.auto.autobuyersOn||!this.constructor.isActive;return this.isActive&&!e&&(this.isUnlocked||this.isBought)}get isActive(){return this.data.isActive}set isActive(e){this.data.isActive=e}get bulk(){return 1}toggle(){this.isActive=!this.isActive}tick(){throw new NotImplementedError}reset(){}static get entryCount(){return 1}static get autobuyerGroupName(){throw new NotImplementedError}static get isActive(){return!0}static set isActive(e){throw new NotImplementedError}static createAccessor(){const e=this.entryCount,t=Array.range(1,e).map((e=>new this(e))),i=[null,...t],a=e=>i[e];return Object.defineProperties(a,{oneIndexed:{get:()=>i},zeroIndexed:{get:()=>t},entryCount:{get:()=>e},anyUnlocked:{get:()=>t.some((e=>e.isUnlocked))},allUnlocked:{get:()=>t.every((e=>e.isUnlocked))},allActive:{get:()=>t.every((e=>e.isActive))},groupName:{get:()=>this.autobuyerGroupName},isActive:{get:()=>this.isActive,set:e=>{this.isActive=e}}}),a.toggle=()=>this.isActive=!this.isActive,a}}class ou extends ru{get interval(){return this.data.interval}get canTick(){return super.canTick&&this.timeSinceLastTick>=this.interval}get timeSinceLastTick(){return player.records.realTimePlayed-this.data.lastTick}tick(){this.data.lastTick=player.records.realTimePlayed}get resetTickOn(){}resetTick(e){e>=this.resetTickOn&&(this.data.lastTick=0)}reset(){}}class lu extends ou{get baseInterval(){throw new NotImplementedError}get cost(){return this.data.cost}get interval(){const e=this.data.interval;return BreakInfinityUpgrade.autobuyerSpeed.isBought?e/2:e}get hasMaxedInterval(){return this.data.interval<=100}upgradeInterval(e){this.hasMaxedInterval||(e||Currency.infinityPoints.purchase(this.cost))&&(this.data.cost*=2,this.data.interval=Math.clampMin(.6*this.data.interval,100),Achievement(52).tryUnlock(),Achievement(53).tryUnlock(),GameUI.update())}maxIntervalForFree(){while(!this.hasMaxedInterval)this.upgradeInterval(!0)}reset(){EternityMilestone.keepAutobuyers.isReached||PelleUpgrade.keepAutobuyers.canBeApplied||(this.data.interval=this.baseInterval,this.data.cost=1)}static createAccessor(){const e=super.createAccessor();return Object.defineProperty(e,"allMaxedInterval",{get:()=>e.zeroIndexed.every((e=>e.hasMaxedInterval))}),Object.defineProperty(e,"hasInstant",{get:()=>e.zeroIndexed.some((e=>e.interval<player.options.updateRate))}),e}}class cu extends ru{get data(){return player.auto.annihilation}get name(){return"Аннигиляции"}get isUnlocked(){return SingularityMilestone.annihilationAutobuyer.canBeApplied}get multiplier(){return this.data.multiplier}set multiplier(e){this.data.multiplier=e}get bulk(){return 0}get hasInput(){return!0}get inputType(){return"float"}get inputEntry(){return"multiplier"}tick(){Laitela.darkMatterMultGain>=this.multiplier&&Laitela.annihilate()}}class uu extends lu{get tier(){return this.id}get name(){return`${this.tier}-х`}get fullName(){return`${this.tier}-х Измерений Антиматерии`}get data(){return player.auto.antimatterDims.all[this.tier-1]}get baseInterval(){return Player.defaultStart.auto.antimatterDims.all[this.tier-1].interval}get isUnlocked(){return!Pelle.isDisabled(`antimatterDimAutobuyer${this.tier}`)&&(this.data.isBought||this.canBeUpgraded)}get isBought(){return this.data.isBought}get antimatterCost(){return v.E10.pow(this.tier-1).times(v.E40)}get canBeBought(){return!Pelle.isDisabled(`antimatterDimAutobuyer${this.tier}`)}get canBeUpgraded(){return NormalChallenge(this.tier).isCompleted}get disabledByContinuum(){return Laitela.continuumActive}get bulk(){return this.hasUnlimitedBulk?1e100:Math.clampMax(this.data.bulk,this.bulkCap)}get hasUnlimitedBulk(){return Achievement(61).isUnlocked}get bulkCap(){return 512}get hasMaxedBulk(){return this.bulk>=this.bulkCap}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get canUnlockSlowVersion(){return player.records.thisEternity.maxAM.gte(this.antimatterCost)}toggleMode(){this.mode=[AUTOBUYER_MODE.BUY_SINGLE,AUTOBUYER_MODE.BUY_10].nextSibling(this.mode)}get canTick(){const e=player.auto.antimatterDims,t=e.all[this.tier-1],i=e.isActive,a=t&&(!Autobuyer.antimatterDimension.collapseDisplay||i),n=AntimatterDimension(this.tier),s=n.isAvailableForPurchase&&n.isAffordable,r=this.timeSinceLastTick>=this.interval,o=player.auto.autobuyersOn&&this.isActive&&(this.isUnlocked||this.isBought);return a&&s&&r&&o}tick(){super.tick();const e=this.tier;switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:buyOneDimension(e);break;case AUTOBUYER_MODE.BUY_10:buyMaxDimension(e,this.bulk);break}}upgradeBulk(){this.hasMaxedBulk||Currency.infinityPoints.purchase(this.cost)&&(this.data.bulk=Math.clampMax(2*this.bulk,this.bulkCap),this.data.cost=Math.ceil(2.4*this.cost),Achievement(61).tryUnlock(),GameUI.update())}purchase(){this.canUnlockSlowVersion&&(this.data.isBought=!0)}get resetTickOn(){return Perk.antimatterNoReset.canBeApplied?PRESTIGE_EVENT.ANTIMATTER_GALAXY:PRESTIGE_EVENT.DIMENSION_BOOST}reset(){super.reset(),EternityMilestone.keepAutobuyers.isReached||PelleUpgrade.keepAutobuyers.canBeApplied||(this.data.isUnlocked=!1,this.data.isBought=!1,this.data.bulk=1,TabNotification.newAutobuyer.clearTrigger())}static get entryCount(){return 8}static get autobuyerGroupName(){return"Измерений Антиматерии"}static get isActive(){return player.auto.antimatterDims.isActive}static set isActive(e){player.auto.antimatterDims.isActive=e}static createAccessor(){const e=super.createAccessor();return Object.defineProperties(e,{allBought:{get:()=>e.zeroIndexed.every((e=>e.isBought))},allUnlimitedBulk:{get:()=>e.zeroIndexed[0].hasUnlimitedBulk},bulkCap:{get:()=>e.zeroIndexed[0].bulkCap},collapseDisplay:{get:()=>e.allMaxedInterval&&e.allUnlocked&&e.allUnlimitedBulk}}),e}}class du extends lu{get data(){return player.auto.bigCrunch}get name(){return"Большого Сжатия"}get isUnlocked(){return Pelle.isDoomed?PelleStrikes.infinity.hasStrike:this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(12).isCompleted}get baseInterval(){return Player.defaultStart.auto.bigCrunch.interval}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get hasAdditionalModes(){return EternityMilestone.bigCrunchModes.isReached}get increaseWithMult(){return this.data.increaseWithMult}set increaseWithMult(e){this.data.increaseWithMult=e}get amount(){return this.data.amount}get bulk(){return 0}set amount(e){this.data.amount=e}get time(){return this.data.time}set time(e){this.data.time=e}get xHighest(){return this.data.xHighest}set xHighest(e){this.data.xHighest=e}autoInfinitiesAvailable(e){return(e||EternityMilestone.autoInfinities.isReached)&&!EternityChallenge(4).isRunning&&!EternityChallenge(12).isRunning&&!Player.isInAntimatterChallenge&&player.auto.autobuyersOn&&this.data.isActive&&!Autobuyer.eternity.isActive&&this.mode===AUTO_CRUNCH_MODE.TIME&&this.time<=5&&!Autobuyer.eternity.autoEternitiesAvailable()}upgradeInterval(e){super.upgradeInterval(e),TabNotification.breakInfinity.tryTrigger()}bumpAmount(e){this.isUnlocked&&this.increaseWithMult&&(this.amount=this.amount.times(e))}get canTick(){return Player.canCrunch&&super.canTick}get resetTickOn(){return PRESTIGE_EVENT.ETERNITY}get highestPrevPrestige(){return player.records.thisEternity.maxIP}get timeToNextTick(){return Math.clampMin(this.time-Time.thisInfinityRealTime.totalSeconds,0)}get willInfinity(){if(!player.break||Player.isInAntimatterChallenge)return!0;switch(this.mode){case AUTO_CRUNCH_MODE.AMOUNT:return gainedInfinityPoints().gte(this.amount);case AUTO_CRUNCH_MODE.TIME:return Time.thisInfinityRealTime.totalSeconds>this.time;case AUTO_CRUNCH_MODE.X_HIGHEST:default:return gainedInfinityPoints().gte(this.highestPrevPrestige.times(this.xHighest))}}tick(){super.tick(),this.willInfinity&&bigCrunchResetRequest(!0)}reset(){super.reset(),EternityMilestone.bigCrunchModes.isReached||(this.mode=AUTO_CRUNCH_MODE.AMOUNT)}}class hu extends ru{get data(){return player.auto.blackHolePower.all[this.id-1]}get name(){return`Усиления ${this.id}-й Чёрной Дыры`}get isUnlocked(){return Ra.unlocks.blackHolePowerAutobuyers.canBeApplied}get hasUnlimitedBulk(){return!0}tick(){const e=BlackHole(this.id);while(Currency.realityMachines.gte(e.powerUpgrade.cost))e.powerUpgrade.purchase()}static get entryCount(){return 2}static get autobuyerGroupName(){return"Улучшений Чёрных Дыр"}static get isActive(){return player.auto.blackHolePower.isActive}static set isActive(e){player.auto.blackHolePower.isActive=e}}class pu extends ou{get data(){return player.auto.ascension}get name(){return"Вознесения"}get isUnlocked(){return SingularityMilestone.ascensionAutobuyers.canBeApplied}get interval(){return 1e3*SingularityMilestone.darkAutobuyerSpeed.effectValue}get hasUnlimitedBulk(){return!0}tick(){super.tick();for(let e=1;e<=SingularityMilestone.ascensionAutobuyers.effectValue;e++)DarkMatterDimension(e).ascend()}}class mu extends ou{get data(){return player.auto.darkMatterDims}get name(){return"Измерений Тёмной Материи"}get isUnlocked(){return SingularityMilestone.darkDimensionAutobuyers.canBeApplied}get interval(){return 1e3*SingularityMilestone.darkAutobuyerSpeed.effectValue}get hasUnlimitedBulk(){return!0}tick(){super.tick(),Laitela.maxAllDMDimensions(SingularityMilestone.darkDimensionAutobuyers.effectValue)}}class yu extends ou{get _upgradeName(){return["dtGain","galaxyThreshold","tachyonGain"][this.id-1]}get data(){return player.auto.dilationUpgrades.all[this.id-1]}get name(){return["Удвоителя Замедленного Времени","Уменьшения наценки на Тахионные Галактики","Утроителя Тахионов"][this.id-1]}get interval(){return 1e3*Perk.autobuyerFasterDilation.effectOrDefault(1)/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return Perk.autobuyerDilation.isEffectActive&&!Pelle.isDoomed}get resetTickOn(){return PRESTIGE_EVENT.REALITY}get bulk(){return Effects.product(PerkShopUpgrade.bulkDilation,Perk.dilationAutobuyerBulk)}tick(){super.tick();const e=this._upgradeName;DilationUpgrade[e].purchase(this.bulk)}static get entryCount(){return 3}static get autobuyerGroupName(){return"Улучшений Замедления"}static get isActive(){return player.auto.dilationUpgrades.isActive}static set isActive(e){player.auto.dilationUpgrades.isActive=e}}class fu extends lu{get data(){return player.auto.dimBoost}get name(){return"Расширений Измерений"}get isUnlocked(){return!Pelle.isDisabled("dimBoostAutobuyer")&&this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(10).isCompleted}get baseInterval(){return Player.defaultStart.auto.dimBoost.interval}get limitDimBoosts(){return this.data.limitDimBoosts}set limitDimBoosts(e){this.data.limitDimBoosts=e}get maxDimBoosts(){return this.data.maxDimBoosts}set maxDimBoosts(e){this.data.maxDimBoosts=e}get limitUntilGalaxies(){return this.data.limitUntilGalaxies}set limitUntilGalaxies(e){this.data.limitUntilGalaxies=e}get galaxies(){return this.data.galaxies}set galaxies(e){this.data.galaxies=e}get bulk(){return this.data.bulk}set bulk(e){this.data.bulk=e}get buyMaxInterval(){return this.data.buyMaxInterval}set buyMaxInterval(e){this.data.buyMaxInterval=e}get isBuyMaxUnlocked(){return BreakInfinityUpgrade.autobuyMaxDimboosts.isBought}get interval(){return this.isBuyMaxUnlocked?TimeSpan.fromSeconds(this.buyMaxInterval).totalMilliseconds:super.interval}get canTick(){return DimBoost.canBeBought&&DimBoost.requirement.isSatisfied&&super.canTick}get resetTickOn(){return this.isBuyMaxUnlocked?PRESTIGE_EVENT.INFINITY:PRESTIGE_EVENT.ANTIMATTER_GALAXY}tick(){if(this.isBuyMaxUnlocked){const e=!this.limitUntilGalaxies||player.galaxies>=this.galaxies;if(!DimBoost.canUnlockNewDimension&&!e)return;return requestDimensionBoost(!0),void super.tick()}const e=!this.limitDimBoosts||DimBoost.purchasedBoosts<this.maxDimBoosts,t=this.limitUntilGalaxies&&player.galaxies>=this.galaxies;(e||t)&&(requestDimensionBoost(!1),super.tick())}}class gu extends ru{get data(){return player.auto.eternity}get name(){return"вечности"}get isUnlocked(){return EternityMilestone.autobuyerEternity.isReached}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get amount(){return this.data.amount}get increaseWithMult(){return this.data.increaseWithMult}set increaseWithMult(e){this.data.increaseWithMult=e}set amount(e){this.data.amount=e}get time(){return this.data.time}set time(e){this.data.time=e}get xHighest(){return this.data.xHighest}set xHighest(e){this.data.xHighest=e}get hasAdditionalModes(){return RealityUpgrade(13).isBought}autoEternitiesAvailable(e){return(e||EternityMilestone.autoEternities.isReached)&&!Player.isInAnyChallenge&&!player.dilation.active&&player.auto.autobuyersOn&&this.data.isActive&&this.mode===AUTO_ETERNITY_MODE.AMOUNT&&this.amount.equals(0)}bumpAmount(e){this.isUnlocked&&this.increaseWithMult&&(this.amount=this.amount.times(e))}get highestPrevPrestige(){return player.records.thisReality.maxEP}get timeToNextTick(){return Math.clampMin(this.time-Time.thisEternityRealTime.totalSeconds,0)}get willEternity(){var e;if(EternityChallenge.isRunning)return!(null!==(e=EternityChallenge.current)&&void 0!==e&&e.gainedCompletionStatus.hasMoreCompletions);switch(this.mode){case AUTO_ETERNITY_MODE.AMOUNT:return gainedEternityPoints().gte(this.amount);case AUTO_ETERNITY_MODE.TIME:return Time.thisEternityRealTime.totalSeconds>this.time;case AUTO_ETERNITY_MODE.X_HIGHEST:default:return gainedEternityPoints().gte(this.highestPrevPrestige.times(this.xHighest))}}tick(){this.willEternity&&eternity(!1,!0)}reset(){EternityMilestone.autobuyerEternity.isReached||(this.isActive=!1)}}class bu extends lu{get data(){return player.auto.galaxy}get name(){return"Галактик Антиматерии"}get isUnlocked(){return!Pelle.isDisabled("galaxyAutobuyer")&&this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(11).isCompleted}get baseInterval(){return Player.defaultStart.auto.galaxy.interval}get limitGalaxies(){return this.data.limitGalaxies}set limitGalaxies(e){this.data.limitGalaxies=e}get maxGalaxies(){return this.data.maxGalaxies}set maxGalaxies(e){this.data.maxGalaxies=e}get buyMaxInterval(){return this.data.buyMaxInterval}set buyMaxInterval(e){this.data.buyMaxInterval=e}get isBuyMaxUnlocked(){return EternityMilestone.autobuyMaxGalaxies.isReached}get interval(){return this.isBuyMaxUnlocked?TimeSpan.fromSeconds(this.buyMaxInterval).totalMilliseconds:super.interval}get canTick(){return Galaxy.canBeBought&&Galaxy.requirement.isSatisfied&&super.canTick}get resetTickOn(){return PRESTIGE_EVENT.INFINITY}tick(){super.tick();const e=this.limitGalaxies?this.maxGalaxies:Number.MAX_VALUE;requestGalaxyReset(this.isBuyMaxUnlocked,e)}}class vu extends ru{get name(){return`"${ImaginaryUpgrade(this.id).config.name}"`}get data(){return player.auto.imaginaryUpgrades.all[this.id-1]}get isUnlocked(){return ImaginaryUpgrade(20).canBeApplied}get hasUnlimitedBulk(){return!0}tick(){const e=ImaginaryUpgrade(this.id);while(Currency.imaginaryMachines.gte(e.cost))e.purchase()}static get entryCount(){return 10}static get autobuyerGroupName(){return"Мнимых Улучшений"}static get isActive(){return player.auto.imaginaryUpgrades.isActive}static set isActive(e){player.auto.imaginaryUpgrades.isActive=e}}class Eu extends ou{get tier(){return this.id}get dimension(){return InfinityDimension(this.tier)}get name(){return`${this.tier}-х`}get fullName(){return`${this.tier}-х Измерений Бесконечности`}get data(){return player.auto.infinityDims.all[this.tier-1]}get interval(){return 1e3*Perk.autobuyerFasterID.effectOrDefault(1)/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return EternityMilestone[`autobuyerID${this.tier}`].isReached||PelleUpgrade.IDAutobuyers.canBeApplied}get resetTickOn(){return PRESTIGE_EVENT.ETERNITY}get hasUnlimitedBulk(){return!0}get canTick(){return InfinityDimensions.canAutobuy()&&this.dimension.isAvailableForPurchase&&super.canTick}tick(){super.tick(),this.dimension.buyMax(!0)}static get entryCount(){return 8}static get autobuyerGroupName(){return"Измерений Бесконечности"}static get isActive(){return player.auto.infinityDims.isActive}static set isActive(e){player.auto.infinityDims.isActive=e}}class Tu extends ru{get data(){return player.auto.ipMultBuyer}get name(){return"Удвоителей Очков Бесконечности"}get isUnlocked(){return EternityMilestone.autobuyerIPMult.isReached&&!Pelle.isDoomed}get hasUnlimitedBulk(){return!0}tick(){InfinityUpgrade.ipMult.buyMax()}}class _u extends ru{get data(){return player.auto.epMultBuyer}get name(){return"Упятерителей Очков Вечности"}get isUnlocked(){return RealityUpgrade(13).isBought&&!Pelle.isDoomed}get hasUnlimitedBulk(){return!0}tick(){this.isActive&&(applyEU2(),EternityUpgrade.epMult.buyMax(!0))}}class Cu extends ru{get data(){return player.auto.reality}get name(){return"реальности"}get isUnlocked(){return RealityUpgrade(25).isBought}get canTick(){return super.canTick&&!GlyphSelection.active}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get rm(){return this.data.rm}set rm(e){this.data.rm=e}get glyph(){return this.data.glyph}set glyph(e){this.data.glyph=e}get time(){return this.data.time}set time(e){this.data.time=e}get shard(){return this.data.shard}set shard(e){this.data.shard=e.clamp(0,Number.MAX_VALUE).toNumber()}toggleMode(){this.mode=[AUTO_REALITY_MODE.RM,AUTO_REALITY_MODE.GLYPH,AUTO_REALITY_MODE.EITHER,AUTO_REALITY_MODE.BOTH,AUTO_REALITY_MODE.TIME,AUTO_REALITY_MODE.RELIC_SHARD].nextSibling(this.mode)}bumpAmount(e){this.isUnlocked&&(this.rm=this.rm.times(e))}tick(){const e=[AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,AUTO_GLYPH_SCORE.LOWEST_ALCHEMY,AUTO_GLYPH_SCORE.ALCHEMY_VALUE],t=EffarigUnlock.glyphFilter.isUnlocked&&!player.reality.hasCheckedFilter&&!e.includes(AutoGlyphProcessor.scoreMode);if(isRealityAvailable()&&player.options.autoRealityForFilter&&t){const e=gainedGlyphLevel(),t=[AUTO_REALITY_MODE.GLYPH,AUTO_REALITY_MODE.EITHER,AUTO_REALITY_MODE.BOTH],i=t.includes(this.mode)?{actualLevel:Math.min(this.glyph,Glyphs.levelCap),rawLevel:1}:e,a=GlyphSelection.glyphList(GlyphSelection.choiceCount,i,{isChoosingGlyph:!1}),n=AutoGlyphProcessor.pick(a);if(player.reality.hasCheckedFilter=!0,!AutoGlyphProcessor.wouldKeep(n))return void autoReality()}let i=!1;const a=simulatedRealityCount(!1)+1,n=MachineHandler.gainedRealityMachines.times(a).gte(this.rm),s=gainedGlyphLevel().actualLevel>=Math.min(this.glyph,Glyphs.levelCap);switch(this.mode){case AUTO_REALITY_MODE.RM:i=n;break;case AUTO_REALITY_MODE.GLYPH:i=s;break;case AUTO_REALITY_MODE.EITHER:i=n||s;break;case AUTO_REALITY_MODE.BOTH:i=n&&s;break;case AUTO_REALITY_MODE.TIME:i=player.records.thisReality.realTime/1e3>this.time;break;case AUTO_REALITY_MODE.RELIC_SHARD:i=Effarig.shardsGained*a>this.shard;break}i&&autoReality()}}class Au extends ru{get name(){return`"${RealityUpgrade(this.id).config.name}"`}get data(){return player.auto.realityUpgrades.all[this.id-1]}get isUnlocked(){return Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied}get hasUnlimitedBulk(){return!0}tick(){const e=RealityUpgrade(this.id);while(Currency.realityMachines.gte(e.cost))e.purchase()}static get entryCount(){return 5}static get autobuyerGroupName(){return"Улучшений Реальности"}static get isActive(){return player.auto.realityUpgrades.isActive}static set isActive(e){player.auto.realityUpgrades.isActive=e}}class ku extends ru{get data(){return player.auto.replicantiGalaxies}get name(){return"Галактик Репликанти"}get isUnlocked(){return EternityMilestone.autobuyerReplicantiGalaxy.isReached}get isEnabled(){return Achievement(138).isUnlocked||!TimeStudy(131).isBought}get hasUnlimitedBulk(){return Achievement(126).isUnlocked}tick(){this.isEnabled&&replicantiGalaxy(!0)}}class wu extends ou{get _upgradeName(){return["chance","interval","galaxies"][this.id-1]}get name(){return`${["Увеличения вероятности","Уменьшения интервала","Увеличения максимального количества Галактик Репликанти"][this.id-1]}`}get data(){return player.auto.replicantiUpgrades.all[this.id-1]}get interval(){return 1e3*Perk.autobuyerFasterReplicanti.effectOrDefault(1)/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return ReplicantiUpgrade[this._upgradeName].autobuyerMilestone.isReached||PelleUpgrade.replicantiAutobuyers.canBeApplied}get resetTickOn(){return PRESTIGE_EVENT.ETERNITY}get hasUnlimitedBulk(){return!0}tick(){EternityChallenge(8).isRunning||(super.tick(),ReplicantiUpgrade[this._upgradeName].autobuyerTick())}static get entryCount(){return 3}static get autobuyerGroupName(){return"Улучшений Репликанти"}static get isActive(){return player.auto.replicantiUpgrades.isActive}static set isActive(e){player.auto.replicantiUpgrades.isActive=e}}class Su extends ru{get data(){return player.auto.sacrifice}get name(){return"Пожертвования Измерений"}get isUnlocked(){return EternityMilestone.autoIC.isReached||InfinityChallenge(2).isCompleted}get multiplier(){return this.data.multiplier}set multiplier(e){this.data.multiplier=e}get bulk(){return 0}get hasInput(){return!0}get inputType(){return"decimal"}get inputEntry(){return"multiplier"}tick(){(Achievement(118).canBeApplied||Sacrifice.nextBoost.gte(Decimal.max(this.multiplier,1.01)))&&sacrificeReset()}}class xu extends ru{get data(){return player.auto.singularity}get name(){return"Сжатия"}get isUnlocked(){return SingularityMilestone.autoCondense.canBeApplied}get bulk(){return Singularity.singularitiesGained}tick(){Currency.darkEnergy.value>=Singularity.cap*SingularityMilestone.autoCondense.effectValue&&Singularity.perform()}}class Ru extends lu{get data(){return player.auto.tickspeed}get name(){return"ускорителей"}get isUnlocked(){return!Pelle.isDisabled("tickspeedAutobuyer")&&this.canBeUpgraded}get canBeUpgraded(){return NormalChallenge(9).isCompleted}get baseInterval(){return Player.defaultStart.auto.tickspeed.interval}get isBought(){return this.data.isBought}get antimatterCost(){return v.E140}get canBeBought(){return!Pelle.isDoomed}get disabledByContinuum(){return Laitela.continuumActive}get mode(){return this.data.mode}set mode(e){this.data.mode=e}get hasUnlimitedBulk(){return this.mode===AUTOBUYER_MODE.BUY_MAX}get canUnlockSlowVersion(){return player.records.thisEternity.maxAM.gte(this.antimatterCost)}toggleMode(){this.mode=[AUTOBUYER_MODE.BUY_SINGLE,AUTOBUYER_MODE.BUY_MAX].nextSibling(this.mode)}get canTick(){return Tickspeed.isAvailableForPurchase&&Tickspeed.isAffordable&&super.canTick}tick(){switch(super.tick(),this.mode){case AUTOBUYER_MODE.BUY_SINGLE:buyTickSpeed();break;case AUTOBUYER_MODE.BUY_MAX:buyMaxTickSpeed();break}}purchase(){this.canUnlockSlowVersion&&(this.data.isBought=!0)}get resetTickOn(){return Perk.antimatterNoReset.canBeApplied?PRESTIGE_EVENT.ANTIMATTER_GALAXY:PRESTIGE_EVENT.DIMENSION_BOOST}reset(){super.reset(),EternityMilestone.keepAutobuyers.isReached||PelleUpgrade.keepAutobuyers.canBeApplied||(this.data.mode=AUTOBUYER_MODE.BUY_SINGLE,this.data.isUnlocked=!1,this.data.isBought=!1,TabNotification.newAutobuyer.clearTrigger())}}class Iu extends ou{get tier(){return this.id}get name(){return`${this.tier}-х`}get fullName(){return`${this.tier}-х Измерений Времени`}get data(){return player.auto.timeDims.all[this.tier-1]}get interval(){return 1e3/PerkShopUpgrade.autoSpeed.effectOrDefault(1)}get isUnlocked(){return RealityUpgrade(13).isBought&&(!Pelle.isDoomed||PelleUpgrade.TDAutobuyers.canBeApplied)}get resetTickOn(){return PRESTIGE_EVENT.REALITY}get hasUnlimitedBulk(){return!0}tick(){applyEU2(),Autobuyer.epMult.tick();const e=this.tier;TimeDimension(e).isAvailableForPurchase&&(super.tick(),Currency.eternityPoints.exponent>=10?buyMaxTimeDimension(e,1,!0):buySingleTimeDimension(e,!0))}static get entryCount(){return 8}static get autobuyerGroupName(){return"Измерений Времени"}static get isActive(){return player.auto.timeDims.isActive}static set isActive(e){player.auto.timeDims.isActive=e}}class Mu extends ru{get data(){return player.auto.timeTheorems}get name(){return"Теорем Времени"}get isUnlocked(){return Perk.ttBuySingle.isBought&&!Pelle.isDisabled("timeTheoremAutobuyer")}get hasUnlimitedBulk(){return Perk.ttBuyMax.canBeApplied}tick(){this.hasUnlimitedBulk?TimeTheorems.buyMax(!0):TimeTheorems.buyOneOfEach()}}const Du={annihilation:new cu,antimatterDimension:uu.createAccessor(),bigCrunch:new du,blackHolePower:hu.createAccessor(),darkMatterDimsAscension:new pu,darkMatterDims:new mu,dilationUpgrade:yu.createAccessor(),dimboost:new fu,eternity:new gu,galaxy:new bu,imaginaryUpgrade:vu.createAccessor(),infinityDimension:Eu.createAccessor(),ipMult:new Tu,epMult:new _u,reality:new Cu,realityUpgrade:Au.createAccessor(),replicantiGalaxy:new ku,replicantiUpgrade:wu.createAccessor(),sacrifice:new Su,singularity:new xu,tickspeed:new Ru,timeDimension:Iu.createAccessor(),timeTheorem:new Mu},Pu=function(){const e=Du.antimatterDimension.zeroIndexed,t=Du.infinityDimension.zeroIndexed,i=Du.timeDimension.zeroIndexed,a=[e,t,i],n=[Du.bigCrunch,Du.eternity,Du.reality],s=[Du.sacrifice,Du.replicantiGalaxy,Du.timeTheorem,Du.ipMult,Du.epMult,Du.darkMatterDims,Du.darkMatterDimsAscension,Du.singularity,Du.annihilation],r=[Du.tickspeed,Du.galaxy,Du.dimboost].concat(s),o=[Du.replicantiUpgrade.zeroIndexed,Du.dilationUpgrade.zeroIndexed,Du.blackHolePower.zeroIndexed,Du.realityUpgrade.zeroIndexed,Du.imaginaryUpgrade.zeroIndexed],l=a.concat(n,r,o),c=[Du.antimatterDimension,Du.infinityDimension,Du.timeDimension,Du.replicantiUpgrade,Du.dilationUpgrade,Du.blackHolePower,Du.realityUpgrade,Du.imaginaryUpgrade];return{all:l.flat(),display:[c,s],upgradeable:e.concat(Du.tickspeed,Du.dimboost,Du.galaxy,Du.bigCrunch),get unlocked(){return Pu.all.filter((e=>e.isUnlocked||e.isBought))},get hasAutobuyersForEditModal(){return[Du.dimboost,Du.galaxy,Du.bigCrunch,Du.eternity,Du.reality].some((e=>e.isUnlocked))},toggle(){player.auto.autobuyersOn=!player.auto.autobuyersOn},tick(){if(player.auto.autobuyersOn){PerformanceStats.start("Autobuyers");for(const e of Pu.all)e.canTick&&e.tick();PerformanceStats.end()}},resetTick(e){const t=Pu.all.filter((e=>void 0!==e.resetTick));for(const i of t)i.resetTick(e)},reset(){for(const e of Pu.all)e.reset()}}}();EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_AFTER,(()=>Pu.reset())),EventHub.logic.on(GAME_EVENT.REALITY_RESET_AFTER,(()=>Pu.reset())),EventHub.logic.on(GAME_EVENT.DIMBOOST_AFTER,(()=>Pu.resetTick(PRESTIGE_EVENT.DIMENSION_BOOST))),EventHub.logic.on(GAME_EVENT.GALAXY_RESET_AFTER,(()=>Pu.resetTick(PRESTIGE_EVENT.ANTIMATTER_GALAXY))),EventHub.logic.on(GAME_EVENT.BIG_CRUNCH_AFTER,(()=>Pu.resetTick(PRESTIGE_EVENT.INFINITY))),EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_AFTER,(()=>Pu.resetTick(PRESTIGE_EVENT.ETERNITY))),EventHub.logic.on(GAME_EVENT.REALITY_RESET_AFTER,(()=>Pu.resetTick(PRESTIGE_EVENT.REALITY)));i(6148),i(3746),i(8921),i(5213),i(3266),i(2432),i(1337),i(7036),i(9958);var Uu=i(5456);const Gu={serialize(e){const t=JSON.stringify(e,this.jsonConverter);return this.encodeText(t,"savefile")},jsonConverter(e,t){return t===1/0?"Infinity":t instanceof Set?Array.from(t.keys()):t},deserialize(e){if("string"===typeof e)try{const t=this.decodeText(e,"savefile");return JSON.parse(t,((e,t)=>t===1/0?"Infinity":t))}catch(t){return}},encoder:new TextEncoder,decoder:new TextDecoder,startingString:{savefile:"AntimatterDimensionsSavefileFormat","automator script":"AntimatterDimensionsAutomatorScriptFormat","automator data":"AntimatterDimensionsAutomatorDataFormat","glyph filter":"AntimatterDimensionsGlyphFilterFormat"},endingString:{savefile:"EndOfSavefile","automator script":"EndOfAutomatorScript","automator data":"EndOfAutomatorData","glyph filter":"EndOfGlyphFilter"},version:"AAB",steps:[{encode:e=>Gu.encoder.encode(e),decode:e=>Gu.decoder.decode(e)},{encode:e=>Uu.Ay.deflate(e),decode:e=>Uu.Ay.inflate(e)},{encode:e=>Array.from(e).map((e=>String.fromCharCode(e))).join(""),decode:e=>Uint8Array.from(Array.from(e).map((e=>e.charCodeAt(0))))},{encode:e=>btoa(e),decode:e=>atob(e)},{encode:e=>e.replace(/=+$/gu,"").replace(/0/gu,"0a").replace(/\+/gu,"0b").replace(/\//gu,"0c"),decode:e=>e.replace(/0b/gu,"+").replace(/0c/gu,"/").replace(/0a/gu,"0")},{encode:(e,t)=>e+Gu.endingString[t],decode:(e,t)=>e.slice(0,e.length-Gu.endingString[t].length),condition:e=>e>="AAB"}],getSteps(e,t){return this.steps.filter((e=>!e.condition||e.condition(t))).concat({encode:t=>`${Gu.startingString[e]+Gu.version}${t}`,decode:t=>t.slice(Gu.startingString[e].length+3)})},encodeText(e,t){return this.getSteps(t,this.version).reduce(((e,i)=>i.encode(e,t)),e)},decodeText(e,t){if(e.startsWith(this.startingString[t])){const i=this.startingString[t].length,a=e.slice(i,i+3);return this.getSteps(t,a).reduceRight(((e,i)=>i.decode(e,t)),e)}return atob(e)}};var Nu=i(5215),Bu={isInfinite:function(e){return e.gte(p.A.MAX_VALUE)},exponentCommas:{show:!0,min:1e5,max:1e9},exponentDefaultPlaces:3};function Ou(e,t){return 0===t?e.slice(-3):e.slice(-3*(t+1),-3*t)}function Lu(e){return Array.from(Array(Math.ceil(e.length/3))).map((function(t,i){return Ou(e,i)})).reverse().join(" ")}function $u(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\w+$/g,Lu),t.join(".")}function Hu(e){var t=e.exponent%3;return p.A.fromMantissaExponent_noNormalize(e.mantissa*Math.pow(10,t),e.exponent-t)}var Fu=["K","M","B","T","Qa","Qt","Sx","Sp","Oc","No"],qu=[["","U","D","T","Qa","Qt","Sx","Sp","O","N"],["","Dc","Vg","Tg","Qd","Qi","Se","St","Og","Nn"],["","Ce","Dn","Tc","Qe","Qu","Sc","Si","Oe","Ne"]],Vu=["","MI-","MC-","NA-","PC-","FM-","AT-","ZP-"];function Yu(e){var t=e-1;if(-1===t)return"";if(t<Fu.length)return Fu[t];var i=[],a=t;while(a>0)i.push(qu[i.length%3][a%10]),a=Math.floor(a/10);while(i.length%3!==0)i.push("");for(var n="",s=i.length/3-1;s>=0;s--)n+=i.slice(3*s,3*s+3).join("")+Vu[s];return n.replace(/-[A-Z]{2}-/g,"-").replace(/U([A-Z]{2}-)/g,"$1").replace(/-$/,"")}function ju(e){return e<Bu.exponentCommas.min}function Wu(e){return Bu.exponentCommas.show&&e<Bu.exponentCommas.max}function Xu(e){return ju(e)||Wu(e)}function zu(e,t,i,a,n,s,r){return void 0===s&&(s="e"),void 0===r&&(r=!1),function(o,l,c){var u=Math.pow(i,a),d=Math.floor(o.log(u))*a;r&&(d=Math.max(d,0));var h=o.div(p.A.pow(i,d)).toNumber();if(!(1<=h&&h<u)){var m=Math.floor(Math.log(h)/Math.log(u));h/=Math.pow(u,m),d+=a*m}var y=e(h,l);if(y===e(u,l)&&(y=e(1,l),d+=a),0===d)return y;var f=t(d,c);return n&&!Xu(d)&&(y=""),"".concat(y).concat(s).concat(f)}}function Ku(e,t){return e.toFixed(Math.max(0,t))}var Qu=function(){function e(){}return e.prototype.format=function(e,t,i,a){if(void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=t),"number"===typeof e&&!Number.isFinite(e))return this.infinite;var n=p.A.fromValue_noAlloc(e);if(n.exponent<-300)return n.sign()<0?this.formatVerySmallNegativeDecimal(n.abs(),i):this.formatVerySmallDecimal(n,i);if(n.exponent<3){var s=n.toNumber();return s<0?this.formatNegativeUnder1000(Math.abs(s),i):this.formatUnder1000(s,i)}return Bu.isInfinite(n.abs())?n.sign()<0?this.negativeInfinite:this.infinite:n.sign()<0?this.formatNegativeDecimal(n.abs(),t,a):this.formatDecimal(n,t,a)},Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"-".concat(this.infinite)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Бесконечно"},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(e,t){return"-".concat(this.formatVerySmallDecimal(e,t))},e.prototype.formatVerySmallDecimal=function(e,t){return this.formatUnder1000(e.toNumber(),t)},e.prototype.formatNegativeUnder1000=function(e,t){return"-".concat(this.formatUnder1000(e,t))},e.prototype.formatUnder1000=function(e,t){return e.toFixed(t)},e.prototype.formatNegativeDecimal=function(e,t,i){return"-".concat(this.formatDecimal(e,t,i))},e.prototype.formatExponent=function(e,t,i,a){return void 0===t&&(t=Bu.exponentDefaultPlaces),void 0===i&&(i=function(e,t){return e.toString()}),void 0===a&&(a=Math.max(2,t)),ju(e)?i(e,Math.max(t,1)):Wu(e)?$u(i(e,0)):this.formatDecimal(new p.A(e),a,a)},e}(),Ju=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Научная"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,i){return zu(Ku,this.formatExponent.bind(this),10,1,!1)(e,t,i)},t}(Qu),Zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Инженерная"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,i){return zu(Ku,this.formatExponent.bind(this),10,3,!1)(e,t,i)},t}(Qu),ed=function(e){function t(t,i,a){void 0===i&&(i=""),void 0===a&&(a="");var n=this;if(t.length<2)throw new Error("The supplied letter sequence must contain at least 2 letters");return n=e.call(this)||this,n.letters=t,n.mantissaExponentSeparator=i,n.separator=a,n}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Custom"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t){var i=Hu(e),a=i.mantissa.toFixed(t);return a+this.mantissaExponentSeparator+this.transcribe(i.exponent).join(this.separator)},t.prototype.transcribe=function(e){var t=e/3,i=this.letters.length;if(t<=i)return[this.letters[t-1]];var a=[];while(t>i){var n=t%i,s=(0===n?i:n)-1;a.push(this.letters[s]),t=(t-n)/i,0===n&&t--}return a.push(this.letters[t-1]),a.reverse()},t}(Zu),td="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",id=function(e){function t(){return e.call(this,td)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Буквенная"},enumerable:!1,configurable:!0}),t}(ed),ad=["😠","🎂","🎄","💀","🍆","👪","💎","💯","🍦","🎃","💋","😂","🌙","⛔","🐙","💩","❓","☢","🙈","👍","☂","✌","⚠","❌","😋","⚡"],nd=function(e){function t(){return e.call(this,ad)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Эмодзи"},enumerable:!1,configurable:!0}),t}(ed),sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Стандартная",t}return(0,Nu.C6)(t,e),t.prototype.formatDecimal=function(e,t,i){return zu(Ku,Yu,1e3,1,!1," ",!0)(e,t,i)},t}(Qu),rd=new sd,od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Смешанная научная"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,i){return e.exponent<33?rd.formatDecimal(e,t,i):zu(Ku,this.formatExponent.bind(this),10,1,!1)(e,t,i)},t}(Qu),ld=new sd,cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Смешанная инженерная"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,i){return e.exponent<33?ld.formatDecimal(e,t,i):zu(Ku,this.formatExponent.bind(this),10,3,!1)(e,t,i)},t}(Qu),ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Логарифмическая"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,i){var a=e.log10();return"e".concat(this.formatExponent(a,t,(function(e,t){return e.toFixed(t)}),i))},t}(Qu),dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Скобки"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e){var t=[")","[","{","]","(","}"],i=Math.LN10/Math.log(6)*e.log10(),a=Math.floor(i),n=i-a,s=Math.floor(36*n),r="";while(a>=6){var o=a%6;a-=o,a/=6,r=t[o]+r}return r="e".concat(t[a]).concat(r,"."),r+=t[Math.floor(s/6)],r+=t[s%6],r},t}(Qu),hd=Math.log10(Number.MAX_VALUE),pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Бесконечная"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t){var i=e.log10(),a=i/hd,n=a<1e3?4:3,s=a.toFixed(Math.max(n,t));return Bu.exponentCommas.show?"".concat($u(s),"∞"):"".concat(s,"∞")},t}(Qu),md=[[1e6,"M̄"],[9e5,"C̄M̄"],[5e5,"D̄"],[4e5,"C̄D̄"],[1e5,"C̄"],[9e4,"X̄C̄"],[5e4,"L̄"],[4e4,"X̄L̄"],[1e4,"X̄"],[9e3,"ⅯX̄"],[5e3,"V̄"],[4e3,"ⅯV̄"],[1e3,"Ⅿ"],[900,"ⅭⅯ"],[500,"Ⅾ"],[400,"ⅭⅮ"],[100,"Ⅽ"],[90,"ⅩⅭ"],[50,"Ⅼ"],[40,"ⅩⅬ"],[10,"Ⅹ"],[9,"ⅠⅩ"],[5,"Ⅴ"],[4,"ⅠⅤ"],[1,"Ⅰ"]],yd=["","·",":","∴","∷","⁙"],fd=4e6,gd=Math.log10(fd),bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Римская"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Infinitus"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.romanize(e)},t.prototype.formatDecimal=function(e){if(e.lt(fd))return this.romanize(e.toNumber());var t=e.log10(),i=t/gd,a=Math.pow(fd,i-Math.floor(i));return"".concat(this.romanize(a),"↑").concat(this.formatDecimal(new p.A(Math.floor(i))))},t.prototype.romanize=function(e){for(var t="",i=0,a=md;i<a.length;i++){var n=a[i],s=n[0],r=n[1];while(s<=e)t+=r,e-=s}var o=Math.round(1.2*Math.floor(10*e));return 0===o?""===t?"nulla":t:(o>5&&(o-=6,t+="Ｓ"),t+=yd[o],t)},t}(Qu),vd="⠀⠁⠂⠃⠄⠅⠆⠇⠈⠉⠊⠋⠌⠍⠎⠏⠐⠑⠒⠓⠔⠕⠖⠗⠘⠙⠚⠛⠜⠝⠞⠟⠠⠡⠢⠣⠤⠥⠦⠧⠨⠩⠪⠫⠬⠭⠮⠯⠰⠱⠲⠳⠴⠵⠶⠷⠸⠹⠺⠻⠼⠽⠾⠿⡀⡁⡂⡃⡄⡅⡆⡇⡈⡉⡊⡋⡌⡍⡎⡏⡐⡑⡒⡓⡔⡕⡖⡗⡘⡙⡚⡛⡜⡝⡞⡟⡠⡡⡢⡣⡤⡥⡦⡧⡨⡩⡪⡫⡬⡭⡮⡯⡰⡱⡲⡳⡴⡵⡶⡷⡸⡹⡺⡻⡼⡽⡾⡿⢀⢁⢂⢃⢄⢅⢆⢇⢈⢉⢊⢋⢌⢍⢎⢏⢐⢑⢒⢓⢔⢕⢖⢗⢘⢙⢚⢛⢜⢝⢞⢟⢠⢡⢢⢣⢤⢥⢦⢧⢨⢩⢪⢫⢬⢭⢮⢯⢰⢱⢲⢳⢴⢵⢶⢷⢸⢹⢺⢻⢼⢽⢾⢿⣀⣁⣂⣃⣄⣅⣆⣇⣈⣉⣊⣋⣌⣍⣎⣏⣐⣑⣒⣓⣔⣕⣖⣗⣘⣙⣚⣛⣜⣝⣞⣟⣠⣡⣢⣣⣤⣥⣦⣧⣨⣩⣪⣫⣬⣭⣮⣯⣰⣱⣲⣳⣴⣵⣶⣷⣸⣹⣺⣻⣼⣽⣾⣿",Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Точки"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"⣿⠀⣿"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.dotify(254*e)},t.prototype.formatDecimal=function(e){if(e.lt(16387063.9980315))return this.dotify(254*e.toNumber());var t=e.log(254),i=Math.floor(t-2),a=Math.pow(254,t-i);return"".concat(this.dotify(i),"⣿").concat(this.dotify(254*a))},t.prototype.dotify=function(e,t){void 0===t&&(t=!1);var i=Math.round(e);return!t&&i<254?vd[i+1]:i<64516?vd[Math.floor(i/254)+1]+vd[i%254+1]:this.dotify(Math.floor(i/64516))+this.dotify(i%64516,!0)},t}(Qu),Td=["̍","̶","͓","̿","҉","̰","̚","̸","͚","̷"],_d=["H","E"," ","C","O","M","E","S"];function Cd(e){return e[Math.floor(Math.random()*e.length)]}for(var Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Zalgo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return _d.map((function(e){return e+Cd(Td)})).join("")},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.heComes(new p.A(e))},t.prototype.formatDecimal=function(e){return this.heComes(e)},t.prototype.heComes=function(e){for(var t=e.plus(1).log10()/66666*1e3,i=Number(t.toFixed(2)),a=Math.floor(Math.abs(Math.pow(2,30)*(t-i))),n=Array.from($u(i)),s=Array.from(a.toString()+t.toFixed(0)),r=0;r<s.length;r++){var o=parseInt(s[r],10),l=37*r%n.length;n[l]+=Td[o]}return n.join("")},t}(Qu),kd={positive:0,negative:1},wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Шестнадцатеричная"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"00000000"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"FFFFFFFF"},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(e){return this.formatDecimal(e.negate())},t.prototype.formatVerySmallDecimal=function(e){return this.formatDecimal(e)},t.prototype.formatNegativeUnder1000=function(e){return this.formatDecimal(new p.A(-e))},t.prototype.formatUnder1000=function(e){return this.formatDecimal(new p.A(e))},t.prototype.formatNegativeDecimal=function(e){return this.formatDecimal(e.negate())},t.prototype.formatDecimal=function(e){return this.rawValue(e,32).toString(16).toUpperCase().padStart(8,"0")},t.prototype.modifiedLogarithm=function(e){var t=Math.floor(p.A.log2(e)),i=p.A.pow(2,t),a=p.A.div(e,i).toNumber()-1;return t+a},t.prototype.isFinite=function(e){return"number"===typeof e?isFinite(e):isFinite(e.e)&&isFinite(e.mantissa)},t.prototype.rawValue=function(e,t){for(var i=e,a=[],n=0;n<t;n++){if(!this.isFinite(i))break;p.A.lt(i,0)?(a.push(kd.negative),i=-this.modifiedLogarithm(p.A.times(i,-1))):(a.push(kd.positive),i=this.modifiedLogarithm(i))}var s=parseInt(a.map((function(e){return e===kd.positive?1:0})).join("").padEnd(t,"0"),2);return s!==Math.pow(2,t)-1&&(i>0||0===i&&s%2===1)&&(s+=1),s},t}(Qu),Sd=[[0,"пл",0,""],[6149705e4,"шкалик",1,"m"],[1229941e5,"чарка",2,"f"],[2459882e5,"четушка",3,"f"],[1229941e7/48,"стакан",4,"m"],[30748525e4,"косушка",5,"f"],[6149705e5,"полуштоф",6,"m"],[768713125e3,"винн бутылка",7,"f"],[92245575e4,"бутылка",8,"f"],[1229941e6,"штоф",9,"m"],[153742625e4,"осьмериков штоф",9,"m"],[30748525e5,"гарнец",9,"m"],[1229941e7,"ведро",7,""],[2459882e7,"корчага",5,"f"],[4919764e8,"бочка",2,"f"]],xd=Sd[1],Rd=["ничтожн","мельчайш","крошечн","мал","средн","крупн","умеренн","больш","обширн","велик","огромн","исполинск","необъятн","миров","вселенск","бесконечн","вечн","реальн","квантов","трансфинитн","абсолютн","парадоксальн","воображаем","обречённ","предельн"],Id=10*Sd[Sd.length-1][0],Md=Math.log10(Id),Dd=Math.log10(Id/xd[0]),Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Русская"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.formatDecimal(new p.A(e))},t.prototype.formatDecimal=function(e){if(e.lt(Id))return this.convertToVolume(e.toNumber(),Rd[0]);var t=e.log10()-Md,i=1;while(t>Dd)i++,t/=Dd;return this.convertToVolume(Math.pow(10,t)*xd[0],Rd[i])},t.prototype.convertToVolume=function(e,t){var i=this.findVolumeUnit(e);if(0===i)return this.formatMetric(e);if(e<=1.5*xd[0])return this.decline(xd,1,t);var a=Sd[i],n=Math.floor(e/a[0]),s=e-n*a[0];if(i<Sd.length-1){var r=this.checkAlmost(t,e,0,i+1);if(void 0!==r)return r}var o=this.checkAlmost(t,s,n,i);if(void 0!==o)return o;if(s<Sd[i-a[2]][0])return this.decline(a,n,t);for(var l=Math.floor(s/Sd[i-1][0]),c=i-1,u=s-l*Sd[i-1][0],d=i-2;d>0&&d>i-a[2];--d){var h=Sd[d],p=Math.floor(s/h[0]);if(p>9&&1!==d)break;var m=s-p*h[0];m<.99*u&&(l=p,c=d,u=m)}return this.bigAndSmall(t,n,a,l,Sd[c])},t.prototype.formatMetric=function(e){return e<1e3?"".concat(e<10||e===Math.round(e)?e.toFixed(2):e.toFixed(0),"пл"):e<1e6?"".concat((e/1e3).toPrecision(4),"нл"):e<1e9?"".concat((e/1e6).toPrecision(4),"мкл"):"".concat((e/1e9).toPrecision(4),"мл")},t.prototype.findVolumeUnit=function(e){var t=0,i=Sd.length,a=0;while(i-t>1)a=Math.floor((t+i)/2),Sd[a][0]>e?i=a:t=a;return t},t.prototype.checkAlmost=function(e,t,i,a){var n=Sd[a];if(t+Math.max(Sd[a-n[2]][0],.5*xd[0])>n[0])return this.almost(e,i+1,n);var s=Sd[a+1-n[2]];return t+s[0]>=n[0]?this.shortOf(e,i+1,n,s):void 0},t.prototype.bigAndSmall=function(e,t,i,a,n){var s=this.decline(i,t,e);return 0===a?s:"".concat(s," и ").concat(this.decline(n,a))},t.prototype.almost=function(e,t,i){return"почти ".concat(this.decline(i,t,e))},t.prototype.shortOf=function(e,t,i,a){return"".concat(this.decline(i,t,e)," без ").concat(this.decline(a,0))},t.prototype.decline=function(e,t,i){var a="many";t<=4&&(a="few"),1===t&&(a="singular");var n=void 0===i?"":this.declineAdjective(i,a,e[3]),s=t<=1?"":t.toString().concat(" ");return"".concat(s,n,this.declineNoun(e[1],a,e[3]))},t.prototype.declineAdjective=function(e,t,i){var a=["мельчайш","средн","больш","велик","исполинск","вселенск"].includes(e)?"и":"ы",n=a.concat("х");return"singular"===t&&(n=["мельчайш","средн"].includes(e)?"ее":"ое","m"===i&&(n=["больш","миров"].includes(e)?"ой":a.concat("й")),"f"===i&&(n="средн"===e?"яя":"ая")),e.concat(n," ")},t.prototype.declineNoun=function(e,t,i){var a=e.split(" ");if(2===a.length)return this.declineAdjective(a[0],t,i).concat(this.declineNoun(a[1],t,i));switch(t){case"singular":return e;case"few":return"гарнец"===e?"гарнца":"m"===i?e.concat("а"):e.slice(0,-1).concat("и");case"many":return"гарнец"===e?"гарнцев":"корчага"===e?"корчаг":"m"===i?e.concat("ов"):"чш".includes(e.at(-3))?e.slice(0,-2).concat("ек"):e.slice(0,-2).concat("ок")}},t}(Qu),Ud=["🕛","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚"],Gd=Math.log10(12),Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Часы"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"🕛🕡"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.clockwise(new p.A(e))},t.prototype.formatDecimal=function(e){return this.clockwise(e)},t.prototype.clockwise=function(e){if(e.lt(12))return this.hour(e.toNumber());var t=e.log10()/Gd,i=Math.floor(t);if(t<301){var a=(Math.pow(12,t-i+1)-12)/11;if(i<13)return this.hour(i-1)+this.hour(a);i-=13;var n="";return i>=144&&(n=this.hour(0),i-=144),n+this.hour(i/12)+this.hour(i%12)+this.hour(a)}i-=301;var s=1;while(i>=1728)i=(i-1728)/12,++s;return this.hour(s)+this.hour(i/144)+this.hour(i%144/12)+this.hour(i%12)},t.prototype.hour=function(e){return Ud[Math.max(Math.min(Math.floor(e),11),0)]},t}(Qu),Bd=10006,Od=new p.A(Bd),Ld=Math.log10(Bd),$d=[],Hd=new Array(Bd).fill(!1),Fd=Math.ceil(Math.sqrt(Bd)),qd=2;qd<Fd;qd++)if(!Hd[qd]){$d.push(qd);for(var Vd=qd;Vd<=Bd;Vd+=qd)Hd[Vd]=!0}for(qd=Fd;qd<Bd;qd++)Hd[qd]||$d.push(qd);for(var Yd,jd=$d.length-1,Wd=$d[jd],Xd=["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","¹⁰","¹¹","¹²","¹³"],zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Примарная"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Primefinity?"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.primify(new p.A(e))},t.prototype.formatDecimal=function(e){return this.primify(e)},t.prototype.primify=function(e){if(e.lte(Od)){var t=Math.floor(e.toNumber());return 0===t?"0":1===t?"1":this.formatFromList(this.primesFromInt(t))}var i=e.log10()/Ld,a=Math.pow(Bd,i/Math.ceil(i));if(i<=Bd)return this.formatBaseExp(a,i);var n=Math.log10(i)/Math.log10(Bd),s=Math.ceil(n);i=Math.pow(Bd,n/s),a=Math.pow(Bd,i/Math.ceil(i));var r=this.primesFromInt(s),o=1===r.length?Xd[r[0]]:"^(".concat(this.formatFromList(r),")");return this.formatBaseExp(a,i)+o},t.prototype.formatBaseExp=function(e,t){var i=this.formatFromList(this.primesFromInt(Math.floor(e))),a=this.formatFromList(this.primesFromInt(Math.ceil(t)));return"(".concat(i,")^(").concat(a,")")},t.prototype.formatFromList=function(e){for(var t=[],i=0,a=0,n=0;n<e.length;n++)e[n]===i?a++:(i>0&&(a>1?t.push("".concat(i).concat(Xd[a])):t.push(i)),i=e[n],a=1),n===e.length-1&&(a>1?t.push("".concat(e[n]).concat(Xd[a])):t.push(e[n]));return t.join("×")},t.prototype.findGreatestLtePrimeIndex=function(e){if(e>=Wd)return jd;var t=0,i=jd;while(i!==t+1){var a=Math.floor((i+t)/2),n=$d[a];if(n===e)return a;e<n?i=a:t=a}return t},t.prototype.primesFromInt=function(e){var t=[],i=e;while(1!==i){var a=this.findGreatestLtePrimeIndex(i),n=$d[a];if(n===i){t.push(i);break}var s=i/2,r=this.findGreatestLtePrimeIndex(s),o=void 0;while(void 0===o){var l=$d[r--];i%l===0&&(o=l)}i/=o,t.push(o)}return t.reverse()},t}(Qu),Kd=["","","","","","","",""],Qd=["","","","","","","",""],Jd=Math.log(8),Zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Полоски"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(e){return this.flipBars(this.formatDecimal(e))},t.prototype.formatVerySmallDecimal=function(e){return this.formatDecimal(e)},t.prototype.formatNegativeUnder1000=function(e){return this.flipBars(this.formatDecimal(new p.A(e)))},t.prototype.formatUnder1000=function(e){return this.formatDecimal(new p.A(e))},t.prototype.formatNegativeDecimal=function(e){return this.flipBars(this.formatDecimal(e))},t.prototype.formatDecimal=function(e){if(e.eq(0))return"0";if(e.lessThan(1)&&e.greaterThan(0))return"/".concat(this.formatDecimal(p.A.div(1,e)));var t=Math.LN10/Jd*e.log10(),i=Math.floor(t),a=t-i,n=Math.floor(64*a),s=[Kd[n%8],Kd[Math.floor(n/8)]];while(i>=8){var r=i%8;i=(i-r)/8,s.push(Kd[r])}return s.push(Kd[i]),s.join("")},t.prototype.flipBars=function(e){for(var t=[],i=0,a=e;i<a.length;i++){var n=a[i];t.push(Qd[Kd.indexOf(n)])}return t.join("")},t}(Qu),eh="世使侍勢十史嗜士始室實屍市恃拭拾施是時氏濕獅矢石視試詩誓識逝適釋食",th=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Ши"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return this.shi(p.A.NUMBER_MAX_VALUE)},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.shi(new p.A(e))},t.prototype.formatDecimal=function(e){return this.shi(e)},t.prototype.getShiCharacter=function(e){return eh[Math.floor(e)%eh.length]},t.prototype.shi=function(e){for(var t=Math.pow(1e3*e.plus(1).log10(),.08),i="",a=0;a<3;a++)i+=this.getShiCharacter(t*Math.pow(eh.length,a));return i},t}(Qu),ih=23,ah="",nh=null!==(Yd=ah.codePointAt(0))&&void 0!==Yd?Yd:65,sh="",rh="",oh=[],lh=0;lh<ih;lh++){var ch=String.fromCharCode(nh+lh);oh.push(ch)}var uh=Math.log10(3),dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Кляксы"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"".concat(sh)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"".concat(rh).concat(sh)},enumerable:!1,configurable:!0}),t.prototype.formatNegativeUnder1000=function(e){return"".concat(rh).concat(this.blobify(new p.A(e-1)))},t.prototype.formatNegativeDecimal=function(e){return"".concat(rh).concat(this.blobify(e.minus(1)))},t.prototype.formatUnder1000=function(e){return this.blobify(new p.A(e))},t.prototype.formatDecimal=function(e){return this.blobify(e)},t.prototype.blobify=function(e){var t=this.reduceNumber(e.abs());return t<ih?oh[Math.floor(t)]:Math.floor(t/ih)<ih+1?oh[Math.floor(t/ih)-1]+oh[Math.floor(t%ih)]:this.blobify(p.A.floor(t/ih-1))+oh[Math.floor(t%ih)]},t.prototype.reduceNumber=function(e){return e.lte(1e3)?e.toNumber():(Math.log10(e.log10())-uh)/Math.log10(1.0002)+1e3},t}(Qu),hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Слепая"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return" "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return" "},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(){return" "},t.prototype.formatVerySmallDecimal=function(){return" "},t.prototype.formatNegativeUnder1000=function(){return" "},t.prototype.formatUnder1000=function(){return" "},t.prototype.formatNegativeDecimal=function(){return" "},t.prototype.formatDecimal=function(){return" "},t}(Qu),ph=[new Ju,new id,new sd,new ud,new dd,new pd,new bd,new Ed,new Ad,new wd,new Pd,new Nd,new zd,new Zd,new th,new dh,new hh],mh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nu.C6)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"ВСЕ"},enumerable:!1,configurable:!0}),t.prototype.formatNegativeUnder1000=function(e,t){return this.formatDecimal(new p.A(-e),t)},t.prototype.formatUnder1000=function(e,t){return this.formatDecimal(new p.A(e),t)},t.prototype.formatNegativeDecimal=function(e,t){return this.formatDecimal(new p.A(-e),t)},t.prototype.formatDecimal=function(e,t){var i=Math.floor(Math.log2(e.abs().plus(2).log2())),a=ph[i%ph.length];return a.format(e,t,t)},t}(Qu);const yh={firstRealityMigration:13,patches:{1:e=>{for(let t=0;t<e.autobuyers.length;t++)e.autobuyers[t]%1!==0&&(e.infinityPoints=e.infinityPoints.plus(e.autobuyers[t].cost-1));e.autobuyers=[1,2,3,4,5,6,7,8,9,10,11,12]},2:e=>{10!==e.dimensionMultDecrease&&(9===e.dimensionMultDecrease&&(e.dimensionMultDecrease=10,e.dimensionMultDecreaseCost=1e8,e.infinityPoints=e.infinityPoints.plus(1e8)),8===e.dimensionMultDecrease&&(e.dimensionMultDecrease=10,e.dimensionMultDecreaseCost=1e8,e.infinityPoints=e.infinityPoints.plus(21e8)),7===e.dimensionMultDecrease&&(e.dimensionMultDecrease=10,e.dimensionMultDecreaseCost=1e8,e.infinityPoints=e.infinityPoints.plus(421e8)))},5:e=>{e.newsArray=[]},9:e=>{const t=[];e.achievements.delete("r22")&&t.push("r35"),e.achievements.delete("r35")&&t.push("r76"),e.achievements.delete("r41")&&t.push("r22"),e.achievements.delete("r76")&&t.push("r41");for(const i of t)e.achievements.add(i);e.replicanti.intervalCost=e.replicanti.intervalCost.dividedBy(1e20)},9.5:e=>{e.timestudy.studies.includes(191)&&(e.timestudy.theorem=e.timestudy.theorem.plus(100))},10:e=>{if(e.timestudy.studies.includes(72))for(let t=4;t<8;t++)e[`infinityDimension${t}`].amount=Decimal.div(e[`infinityDimension${t}`].amount,Sacrifice.totalBoost.pow(.02))},12:e=>{const t=[null,1,5,100,1e3],i=[null,3,9,27,81];if(e.timeDimension1)for(let a=1;a<5;a++)new Decimal("1e300").lt(e[`timeDimension${a}`].cost)&&(e[`timeDimension${a}`].cost=Decimal.pow(2.2*i[a],e[`timeDimension${a}`].bought).times(t[a]))},12.1:e=>{for(const t of e.achievements)if(t.includes("s")&&t.length<=3){e.achievements.splice(e.achievements.indexOf("r36"),1);break}},13:e=>{e.realTimePlayed=e.totalTimePlayed,e.thisReality=e.totalTimePlayed,e.thisInfinityRealTime=100*e.thisInfinityTime,e.thisEternityRealTime=100*e.thisEternity,e.thisRealityRealTime=100*e.thisReality,e.thisInfinityLastBuyTime=100*e.thisInfinityTime;for(let t=0;t<10;t++)e.lastTenEternities[t][2]=e.lastTenEternities[t][0],e.lastTenRuns[t][2]=e.lastTenRuns[t][0];e.options.newUI=!1,window.uiChoiceModalInterval=setInterval((()=>{GameUI.initialized&&(Modal.uiChoice.show(),clearInterval(window.uiChoiceModalInterval))}),1e3),yh.normalizeTimespans(e),yh.convertAutobuyerMode(e),yh.fixChallengeIds(e),yh.adjustMultCosts(e),yh.convertAchivementsToNumbers(e),yh.adjustGameCreatedTime(e),yh.moveSavedStudyTrees(e),yh.convertEPMult(e),yh.moveChallengeInfo(e),yh.infinitiedConversion(e),yh.adjustWhy(e),yh.removeAchPow(e),yh.adjustSacrificeConfirmation(e),yh.migrateNotation(e),yh.fixAutobuyers(e),yh.removeAutoIPProperties(e),yh.adjustAchievementVars(e),yh.uniformDimensions(e),yh.removeEternityChallGoal(e),yh.removeTickspeed(e),yh.removePostC3Reward(e),yh.renameMoney(e),yh.moveAutobuyers(e),yh.convertEternityCountToDecimal(e),yh.renameDimboosts(e),yh.migrateConfirmations(e),yh.removeOtherTickspeedProps(e),yh.renameNewsOption(e),yh.removeDimensionCosts(e),yh.changeC8Handling(e),yh.convertAchievementsToBits(e),yh.setNoInfinitiesOrEternitiesThisReality(e),yh.setTutorialState(e),yh.migrateLastTenRuns(e),yh.migrateIPGen(e),yh.renameCloudVariable(e),yh.standardizeUncompletedTimes(e),yh.makeRecords(e),yh.deleteOldRecords(e),yh.migrateAutobuyers(e),yh.migratePlayerVars(e),yh.consolidateAuto(e),yh.convertTimeTheoremPurchases(e),yh.deleteDimboostBulk(e),yh.deleteFloatingTextOption(e),yh.refactorDoubleIPRebuyable(e),yh.infMultNameConversion(e),yh.convertNews(e),yh.etercreqConversion(e),yh.moveTS33(e),yh.addBestPrestigeCurrency(e),yh.migrateTheme(e)},14:e=>{yh.reworkBHPulsing(e),0!==e.reality.autoSort&&e.reality.autoSort++},15:e=>{for(let p=0;p<10;p++){if(e.records.lastTenInfinities){var t,i,a,n;const s=e.records.lastTenInfinities[p];e.records.recentInfinities[p]=[null!==(t=s[0])&&void 0!==t?t:Number.MAX_VALUE,Number(null!==(i=s[3])&&void 0!==i?i:Number.MAX_VALUE),new Decimal(null!==(a=s[1])&&void 0!==a?a:1),new Decimal(null!==(n=s[2])&&void 0!==n?n:1),""]}if(e.records.lastTenEternities){var s,r,o,l;const t=e.records.lastTenEternities[p];e.records.recentEternities[p]=[null!==(s=t[0])&&void 0!==s?s:Number.MAX_VALUE,Number(null!==(r=t[3])&&void 0!==r?r:Number.MAX_VALUE),new Decimal(null!==(o=t[1])&&void 0!==o?o:1),new Decimal(null!==(l=t[2])&&void 0!==l?l:1),"",new Decimal(0)]}if(e.records.lastTenRealities){var c,u,d,h;const t=e.records.lastTenRealities[p];e.records.recentRealities[p]=[null!==(c=t[0])&&void 0!==c?c:Number.MAX_VALUE,Number(null!==(u=t[3])&&void 0!==u?u:Number.MAX_VALUE),new Decimal(null!==(d=t[1])&&void 0!==d?d:1),null!==(h=t[2])&&void 0!==h?h:1,"",0,0]}}if(delete e.records.lastTenInfinities,delete e.records.lastTenEternities,delete e.records.lastTenRealities,delete e.options.showLastTenResourceGain,e.news.seen){let t=0;for(const i of Object.values(e.news.seen))for(const e of i)t+=countValuesFromBitmask(e);e.news.totalSeen=Math.max(e.news.totalSeen,t)}},16:e=>{e.options.perkLayout=e.options.fixedPerkStartingPos?0:1,delete e.options.fixedPerkStartingPos,e.reality.initialSeed=e.reality.seed,0===e.reality.initialSeed&&(e.reality.initialSeed=1);const t=Array.repeat(0,26);for(const i of GameDatabase.speedrunMilestones)t[i.id]=e.speedrun.records[i.key];e.speedrun.records=t,e.speedrun.seedSelection=SPEEDRUN_SEED_STATE.UNKNOWN,delete e.speedrun.milestones;while(e.reality.glyphs.sets.length<7)e.reality.glyphs.sets.push({name:"",glyphs:[]})},17:e=>{var t;const i=null!==(t=e.options.currentMultiplierSubtab)&&void 0!==t?t:0;e.options.multiplierTab.currTab=i+(i>5?1:0),delete e.options.currentMultiplierSubtab},18:e=>{e.reality.automator.constantSortOrder=Object.keys(e.reality.automator.constants)},19:e=>{delete e.options.confirmations.resetCelestial},20:e=>{var t,i,a;const n=e.celestials.effarig;e.reality.glyphs.filter={select:null!==(t=null===n||void 0===n?void 0:n.mode)&&void 0!==t?t:0,trash:null!==(i=null===n||void 0===n?void 0:n.glyphTrashMode)&&void 0!==i?i:0,simple:null!==(a=null===n||void 0===n?void 0:n.simpleEffectCount)&&void 0!==a?a:0};const s={},r=Object.values(GameDatabase.reality.glyphEffects);for(const m of ALCHEMY_BASIC_GLYPH_TYPES){var o,l,c,u;const e=null===(o=n.glyphScoreSettings)||void 0===o?void 0:o.types[m],t=r.filter((e=>e.glyphTypes.includes(m))).sort(((e,t)=>e.bitmaskIndex-t.bitmaskIndex));if(s[m]={rarity:null!==(l=null===e||void 0===e?void 0:e.rarityThreshold)&&void 0!==l?l:0,score:null!==(c=null===e||void 0===e?void 0:e.scoreThreshold)&&void 0!==c?c:0,effectCount:null!==(u=null===e||void 0===e?void 0:e.effectCount)&&void 0!==u?u:0},s[m].specifiedMask=0,s[m].effectScores=[],e)for(const i of t)i&&(s[m].specifiedMask|=e.effectChoices[i.id]?1<<i.bitmaskIndex:0,s[m].effectScores.push(e.effectScores[i.id]))}e.reality.glyphs.filter.types=s,delete e.celestials.effarig.glyphScoreSettings,delete e.celestials.effarig.glyphTrashMode;const d=e=>{const t=[20,21,22].map((e=>1<<e)).sum(),i=[20,21,22].map((t=>0!==(e&1<<t)));i.push(i.shift());let a=0;for(let n=20;n<=22;n++)i[n-20]&&(a|=1<<n);return e&~t|a},h=e.reality.glyphs.active.concat(e.reality.glyphs.inventory);for(const m of h)m.effects=d(m.effects);const p=["RMSet","RMminSet","glyphLevelSet","bestEPSet","speedSet","iMCapSet","laitelaSet"];for(const m of p){const t=e.records.bestReality[m];for(const e of t)e.effects=d(e.effects)}e.options.glyphBG=e.options.lightGlyphs?1:2,delete e.options.lightGlyphs},21:e=>{for(let t=1;t<=12;t++)e.eternityChalls[`eterc${t}`]>0&&(e.reality.unlockedEC|=1<<t);e.reality.maxRM=new Decimal(e.reality.realityMachines)},22:e=>{e.options.perkLayout>2&&(e.options.perkLayout+=3),e.options.statTabResources=e.options.showRecentRate?1:0,delete e.options.showRecentRate;for(let i=0;i<e.records.recentRealities.length;i++)e.records.recentRealities[i].push(0);void 0===e.options.themeClassic&&(e.options.themeClassic="Normal"),void 0===e.options.themeModern&&(e.options.themeModern="Normal");const t=Math.floor(Date.now()*Math.random()+1);1===e.reality.seed&&(e.reality.seed=t),1===e.reality.initialSeed&&(e.reality.initialSeed=t)},23:e=>{const t=e=>{const t=[20,21,22].map((e=>1<<e)).sum(),i=[20,21,22].map((t=>0!==(e&1<<t)));i.push(i.shift());let a=0;for(let n=20;n<=22;n++)i[n-20]&&(a|=1<<n);return e&~t|a};for(const i of e.reality.glyphs.sets)for(const e of i.glyphs)e.effects=t(e.effects)},24:e=>{const t=Object.keys(e.reality.automator.constants);t.length!==e.reality.automator.constantSortOrder.length&&(e.reality.automator.constantSortOrder=[...t])},25:e=>{0===(32&e.achievementBits[13])||e.reality.perks.has(107)||e.reality.perks.add(107),e.celestials.pelle.doomed&&(e.dilation.rebuyables[3]=0)},50:e=>{e.secretUnlocks.themes=new Set,e.celestials.ra.petWithRemembrance="",999999999999===e.records.bestInfinity.time&&(e.records.bestInfinity.time=Number.MAX_VALUE),999999999999===e.records.bestInfinity.realTime&&(e.records.bestInfinity.realTime=Number.MAX_VALUE),999999999999===e.records.bestEternity.time&&(e.records.bestEternity.time=Number.MAX_VALUE),999999999999===e.records.bestEternity.realTime&&(e.records.bestEternity.realTime=Number.MAX_VALUE),delete e.options.multiplierTab.replacePowers,e.options.notation="Смешанная научная"}},normalizeTimespans(e){e.realTimePlayed*=100,e.totalTimePlayed*=100,e.thisInfinityTime*=100,e.thisEternity*=100,e.thisReality*=100,e.bestInfinityTime=9999999999===e.bestInfinityTime?999999999999:100*e.bestInfinityTime,e.bestEternity=9999999999===e.bestEternity?999999999999:100*e.bestEternity;for(let t=0;t<10;t++)e.lastTenEternities[t][0]*=100,e.lastTenRuns[t][0]*=100,e.lastTenEternities[t][2]*=100,e.lastTenRuns[t][2]*=100;e.challengeTimes&&(e.challengeTimes=e.challengeTimes.map((e=>100*e))),e.infchallengeTimes&&(e.infchallengeTimes=e.infchallengeTimes.map((e=>100*e)))},convertAutobuyerMode(e){for(let i=0;i<8;i++){const t=e.autobuyers[i];t%1!==0&&(t.target<10?t.target=AUTOBUYER_MODE.BUY_SINGLE:t.target=AUTOBUYER_MODE.BUY_10)}const t=e.autobuyers[8];t%1!==0&&(t.target<10?t.target=AUTOBUYER_MODE.BUY_SINGLE:t.target=AUTOBUYER_MODE.BUY_MAX)},fixChallengeIds(e){let t=!1;function i(e){if(!e.startsWith("challenge"))return e;t=!0;const i=parseInt(e.substr(9),10),a=GameDatabase.challenges.normal.find((e=>e.legacyId===i));return`challenge${a.id}`}e.currentChallenge=i(e.currentChallenge),e.challenges=e.challenges.map(i),t&&e.challengeTimes&&(e.challengeTimes=GameDatabase.challenges.normal.slice(1).map((t=>e.challengeTimes[t.legacyId-2])))},adjustMultCosts(e){void 0!==e.tickSpeedMultDecreaseCost&&(e.infinityRebuyables[0]=Math.round(Math.log(e.tickSpeedMultDecreaseCost/3e6)/Math.log(5))),void 0!==e.dimensionMultDecreaseCost&&(e.infinityRebuyables[1]=Math.round(Math.log(e.dimensionMultDecreaseCost/1e8)/Math.log(5e3))),delete e.tickSpeedMultDecrease,delete e.tickSpeedMultDecreaseCost,delete e.dimensionMultDecrease,delete e.dimensionMultDecreaseCost},convertAchivementsToNumbers(e){if(e.achievements.length>0&&e.achievements.every((e=>"number"===typeof e)))return;const t=e.achievements;e.achievements=new Set,e.secretAchievements=new Set;for(const i of t){const t=GameDatabase.achievements.normal.find((e=>e.name===i));if(void 0!==t){e.achievements.add(t.id);continue}const a=parseInt(i.slice(1),10);if(isNaN(a))throw new Error(`Could not parse achievement id ${i}`);if(i.startsWith("r")){if(void 0===GameDatabase.achievements.normal.find((e=>e.id===a)))throw new Error(`Unrecognized achievement ${i}`);e.achievements.add(a)}else if(i.startsWith("s")){if(void 0===GameDatabase.achievements.secret.find((e=>e.id===a)))throw new Error(`Unrecognized secret achievement ${a}`);e.secretAchievements.add(a)}}},adjustGameCreatedTime(e){e.gameCreatedTime=e.lastUpdate-e.realTimePlayed},moveSavedStudyTrees(e){for(let t=1;t<=3;++t){const i=localStorage.getItem(`studyTree${t}`);i&&(e.timestudy.presets[t-1].studies=i)}},convertEPMult(e){if(void 0===e.epmult)return;const t=new Decimal(e.epmult);delete e.epmultCost,delete e.epmult,t.lte(1)?e.epmultUpgrades=0:e.epmultUpgrades=t.log(5)},moveChallengeInfo(e){function t(e){if(e.startsWith("challenge"))return{type:"normal",id:parseInt(e.slice(9),10)};if(e.startsWith("postc"))return{type:"infinity",id:parseInt(e.slice(5),10)};if(""!==e)throw new Error(`Unrecognized challenge ID ${e}`);return null}if(e.challengeTimes){for(let t=0;t<e.challengeTimes.length;++t)e.challenge.normal.bestTimes[t]=Math.min(e.challenge.normal.bestTimes[t],e.challengeTimes[t]);delete e.challengeTimes}if(e.infchallengeTimes){for(let t=0;t<e.infchallengeTimes.length;++t)e.challenge.infinity.bestTimes[t]=Math.min(e.challenge.infinity.bestTimes[t],e.infchallengeTimes[t]);delete e.infchallengeTimes}if(void 0!==e.currentChallenge){const i=t(e.currentChallenge);delete e.currentChallenge,i&&(e.challenge[i.type].current=i.id)}if(e.challenges){for(const i of e.challenges){const a=t(i);e.challenge[a.type].completedBits|=1<<a.id}delete e.challenges}if(void 0!==e.currentEternityChall){const t=e.currentEternityChall;if(delete e.currentEternityChall,t.startsWith("eterc"))e.challenge.eternity.current=parseInt(t.slice(5),10);else if(""!==t)throw new Error(`Unrecognized eternity challenge ${t}`)}void 0!==e.eternityChallUnlocked&&(e.challenge.eternity.unlocked=e.eternityChallUnlocked,delete e.eternityChallUnlocked),delete e.challengeTarget},adjustWhy(e){var t;e.requirementChecks.permanent.singleTickspeed=null!==(t=e.why)&&void 0!==t?t:0,delete e.why},adjustAchievementVars(e){e.requirementChecks.eternity.onlyAD1=e.dead,delete e.dead,e.requirementChecks.eternity.onlyAD8=e.dimlife,delete e.dimlife,e.requirementChecks.reality.noAM=!1,e.requirementChecks.eternity.noAD1=!1,e.requirementChecks.infinity.noAD8=!1,e.requirementChecks.eternity.noRG=0===e.replicanti.gal,(e.timestudy.theorem.gt(0)||e.timestudy.studies.length>0||0!==e.challenge.eternity.unlocked)&&(e.requirementChecks.reality.noPurchasedTT=!1),e.sacrificed.gt(0)&&(e.requirementChecks.infinity.noSacrifice=!1),e.requirementChecks.permanent.emojiGalaxies=e.spreadingCancer,delete e.spreadingCancer},removeAchPow(e){delete e.achPow},adjustSacrificeConfirmation(e){void 0!==e.options.sacrificeConfirmation&&(e.options.confirmations.sacrifice=e.options.sacrificeConfirmation,delete e.options.sacrificeConfirmation)},migrateNotation(e){const t=e.options.notation;void 0===t&&(e.options.notation="Standard");const i={Mixed:"Mixed scientific",Default:"Brackets",Emojis:"Cancer"};void 0!==i[t]&&(e.options.notation=i[t])},fixAutobuyers(e){for(let t=0;t<12;t++)e.autobuyers[t]%1!==0&&e.autobuyers[t].target%1!==0&&(e.autobuyers[t].target=AUTOBUYER_MODE.BUY_SINGLE),e.autobuyers[t]%1===0||void 0!==e.autobuyers[t].bulk&&!isNaN(e.autobuyers[t].bulk)&&null!==e.autobuyers[t].bulk||(e.autobuyers[t].bulk=1);"number"!==typeof e.autobuyers[9]&&"number"!==typeof e.autobuyers[9].bulk&&(e.autobuyers[9].bulk=1),e.autobuyers[11]%1!==0&&void 0!==e.autobuyers[11].priority&&null!==e.autobuyers[11].priority&&"undefined"!==e.autobuyers[11].priority&&(e.autobuyers[11].priority=new Decimal(e.autobuyers[11].priority))},removeAutoIPProperties(e){delete e.autoIP,delete e.autoTime},removeEternityChallGoal(e){delete e.eternityChallGoal},removeTickspeed(e){delete e.tickspeed,e.tickSpeedCost=new Decimal(1e3),e.tickspeedMultiplier=new Decimal(10)},removeOtherTickspeedProps(e){delete e.tickSpeedCost,delete e.tickspeedMultiplier},renameNewsOption(e){e.options.news.enabled=!e.options.newsHidden,delete e.options.newsHidden},removeDimensionCosts(e){for(const t of e.dimensions.antimatter)delete t.cost,delete t.costMultiplier},renameTickspeedPurchaseBumps(e){void 0!==e.chall9TickspeedPurchaseBumps&&(e.chall9TickspeedCostBumps=e.chall9TickspeedPurchaseBumps,delete e.chall9TickspeedPurchaseBumps)},removePostC3Reward(e){delete e.postC3Reward},renameMoney(e){e.antimatter=new Decimal(e.money),e.totalAntimatter=new Decimal(e.totalmoney),delete e.money,delete e.totalmoney},uniformDimensions(e){for(let t=1;t<=8;t++){const i=[null,"first","second","third","fourth","fifth","sixth","seventh","eight"][t],a={cost:`${i}Cost`,amount:`${i}Amount`,bought:`${i}Bought`,pow:`${i}Pow`},n=e.dimensions.antimatter[t-1];n.cost=new Decimal(e[a.cost]),n.amount=new Decimal(e[a.amount]),n.bought=e[a.bought],e.costmultipliers&&(n.costMultiplier=new Decimal(e.costMultipliers[t-1])),delete e[a.cost],delete e[a.amount],delete e[a.bought],delete e[a.pow]}if(delete e.costMultipliers,e.infinityDimension1){for(let t=1;t<=8;t++){const i=e.dimensions.infinity[t-1],a=`infinityDimension${t}`,n=e[a];i.cost=new Decimal(n.cost),i.amount=new Decimal(n.amount),i.bought=n.bought,i.baseAmount=n.baseAmount,i.isUnlocked=e.infDimensionsUnlocked[t-1],delete e[a]}delete e.infDimensionsUnlocked}if(e.timeDimension1)for(let t=1;t<=8;t++){const i=e.dimensions.time[t-1],a=`timeDimension${t}`,n=e[a];void 0!==n&&(i.cost=new Decimal(n.cost),i.amount=new Decimal(n.amount),i.bought=n.bought,delete e[a])}},moveAutobuyers(e){e.autobuyers[11]%1!==0&&void 0!==e.autobuyers[11].priority&&null!==e.autobuyers[11].priority&&"undefined"!==e.autobuyers[11].priority&&(e.autobuyers[11].priority=new Decimal(e.autobuyers[11].priority));for(let t=0;t<8;t++){const i=e.autobuyers[t];if(i%1===0)continue;const a=e.auto.antimatterDims.all[t];a.cost=i.cost,a.interval=i.interval,a.bulk=i.bulk,a.mode=i.target,a.priority=i.priority,a.isActive=i.isOn,a.lastTick=e.realTimePlayed}if(e.autobuyers[8]%1!==0){const t=e.autobuyers[8],i=e.auto.tickspeed;i.cost=t.cost,i.interval=t.interval,i.mode=t.target,i.priority=t.priority,i.isActive=t.isOn,i.lastTick=e.realTimePlayed}if(e.autobuyers[9]%1!==0){const t=e.autobuyers[9],i=e.auto.dimBoost;i.cost=t.cost,i.interval=t.interval,i.maxDimBoosts=t.priority,i.galaxies=e.overXGalaxies,i.bulk=t.bulk,i.buyMaxInterval=t.bulk,i.isActive=t.isOn,i.lastTick=e.realTimePlayed}if(delete e.overXGalaxies,e.autobuyers[10]%1!==0){const t=e.autobuyers[10],i=e.auto.galaxy;i.cost=t.cost,i.interval=t.interval,i.maxGalaxies=t.priority,i.buyMaxInterval=t.bulk,i.buyMax=t.bulk>0,i.isActive=t.isOn,i.lastTick=e.realTimePlayed}if(e.autobuyers[11]%1!==0){const t=e.autobuyers[11],i=e.auto.bigCrunch;i.cost=t.cost,i.interval=t.interval,i.mode=["amount","time","relative"].indexOf(e.autoCrunchMode);const a=new Decimal(t.priority);switch(e.autoCrunchMode){case"amount":i.amount=a;break;case"time":i.time=a.lt(Decimal.NUMBER_MAX_VALUE)?a.toNumber():i.time;break;case"relative":i.xHighest=a;break}i.isActive=t.isOn,i.lastTick=e.realTimePlayed}if(delete e.autoCrunchMode,delete e.autobuyers,e.autoSacrifice&&e.autoSacrifice%1!==0){const t=e.autoSacrifice,i=e.auto.sacrifice;i.multiplier=new Decimal(t.priority),i.isActive=t.isOn}if(delete e.autoSacrifice,void 0!==e.eternityBuyer){const t=e.eternityBuyer,i=e.auto.eternity;void 0===e.autoEternityMode&&(i.time=Number(t.limit)),i.isActive=t.isOn}delete e.eternityBuyer},convertNews(e){void 0===e.newsArray?e.newsArray=[]:e.newsArray=e.newsArray.map((e=>"number"===typeof e?`a${e}`:e));const t=new Set(e.newsArray);e.news={},e.news.seen={},e.news.specialTickerData={uselessNewsClicks:0,paperclips:0,newsQueuePosition:1e3,eiffelTowerChapter:0};const i=NewsHandler.BITS_PER_MASK;for(const a of t){const t=a.match(/([a-z]+)(\d+)/u),n=t[1],s=parseInt(t[2],10);e.news.seen[n]||(e.news.seen[n]=[]);while(i*e.news.seen[n].length<s)e.news.seen[n].push(0);e.news.seen[n][Math.floor(s/i)]|=1<<s%i}e.news.totalSeen=NewsHandler.uniqueTickersSeen,delete e.newsArray},convertEternityCountToDecimal(e){e.eternities=new Decimal(e.eternities),e.reality.partEternitied=new Decimal(e.reality.partEternitied)},renameDimboosts(e){e.dimensionBoosts=e.resets,delete e.resets},migrateConfirmations(e){e.options.confirmations.challenges=!e.options.challConf,delete e.options.challConf,e.options.confirmations.eternity=e.options.eternityconfirm,delete e.options.eternityconfirm,delete e.tickDecrease},changeC8Handling(e){e.chall8TotalSacrifice=Decimal.pow(e.chall11Pow,2),delete e.chall11Pow},convertAchievementsToBits(e){const t={"4,3":"6,4","6,4":"7,7","7,7":"4,3","10,1":"11,7","11,7":"10,1","11,3":"12,4","12,4":"11,3"},i=(i,a,n)=>{for(const e of a){let a=Math.floor(e/10),s=e%10;!n&&[a,s].join(",")in t&&([a,s]=t[[a,s].join(",")].split(",")),i[a-1]|=1<<s-1}!n&&(e.infinityUpgrades.size>=16||e.eternities.gt(0)||e.realities>0)?i[3]|=1:i[3]&=-2,n&&(i[2]&=-129)};e.achievementBits=Array.repeat(0,15),i(e.achievementBits,e.achievements,!1),delete e.achievements,e.secretAchievementBits=Array.repeat(0,4),i(e.secretAchievementBits,e.secretAchievements,!0),delete e.secretAchievements},setNoInfinitiesOrEternitiesThisReality(e){e.requirementChecks.reality.noInfinities=e.infinities.eq(0)&&e.eternities.eq(0),e.requirementChecks.reality.noEternities=e.eternities.eq(0)},setTutorialState(e){e.infinities.gt(0)||e.eternities.gt(0)||e.realities>0||e.galaxies>0?e.tutorialState=4:e.dimensionBoosts>0&&(e.tutorialState=TUTORIAL_STATE.GALAXY)},migrateLastTenRuns(e){e.lastTenRuns=e.lastTenRuns.map((e=>[e[0],e[1],new Decimal(e[3]),new Decimal(e[2]).toNumber()])),e.lastTenEternities=e.lastTenEternities.map((e=>[e[0],e[1],new Decimal(1),new Decimal(e[2]).toNumber()]))},migrateIPGen(e){e.infinityRebuyables[2]=e.offlineProd/5,delete e.offlineProd,delete e.offlineProdCost},renameCloudVariable(e){e.options.cloudEnabled=e.options.cloud,delete e.options.cloud},standardizeUncompletedTimes(e){999999999999===e.bestInfinityTime&&(e.bestInfinityTime=Number.MAX_VALUE),999999999999===e.bestInfinityRealTime&&(e.bestInfinityRealTime=Number.MAX_VALUE),999999999999===e.bestEternity&&(e.bestEternity=Number.MAX_VALUE);for(let t=0;t<e.challenge.normal.bestTimes.length;t++)26784e5===e.challenge.normal.bestTimes[t]&&(e.challenge.normal.bestTimes[t]=Number.MAX_VALUE);for(let t=0;t<e.challenge.infinity.bestTimes.length;t++)26784e5===e.challenge.infinity.bestTimes[t]&&(e.challenge.infinity.bestTimes[t]=Number.MAX_VALUE);for(let t=0;t<10;t++)26784e5===e.lastTenRuns[t][0]&&(e.lastTenRuns[t][0]=Number.MAX_VALUE),26784e3===e.lastTenRuns[t][3]&&(e.lastTenRuns[t][3]=Number.MAX_VALUE),26784e5===e.lastTenEternities[t][0]&&(e.lastTenEternities[t][0]=Number.MAX_VALUE),26784e3===e.lastTenEternities[t][3]&&(e.lastTenEternities[t][3]=Number.MAX_VALUE)},makeRecords(e){e.records.gameCreatedTime=e.gameCreatedTime,e.records.totalTimePlayed=e.totalTimePlayed,e.records.realTimePlayed=e.realTimePlayed,e.records.totalAntimatter=new Decimal(e.totalAntimatter),e.records.lastTenInfinities=e.lastTenRuns,e.records.lastTenEternities=e.lastTenEternities;for(let t=0;t<10;t++)e.records.lastTenInfinities[t][1]=new Decimal(e.lastTenRuns[t][1]),e.records.lastTenEternities[t][1]=new Decimal(e.lastTenEternities[t][1]);e.records.thisInfinity.time=e.thisInfinityTime,e.records.thisInfinity.realTime=e.thisInfinityTime,e.records.bestInfinity.time=e.bestInfinityTime,e.records.thisEternity.time=e.thisEternity,e.records.thisEternity.realTime=e.thisEternity,e.records.bestEternity.time=e.bestEternity,e.records.thisReality.time=e.thisReality,e.records.thisReality.realTime=e.thisReality},deleteOldRecords(e){delete e.gameCreatedTime,delete e.totalTimePlayed,delete e.realTimePlayed,delete e.totalAntimatter,delete e.lastTenRuns,delete e.lastTenEternities,delete e.thisInfinityTime,delete e.bestInfinityTime,delete e.thisEternity,delete e.bestEternity,delete e.thisReality},migrateAutobuyers(e){e.auto.autobuyerOn=e.options.autobuyerOn,delete e.options.bulkOn,delete e.options.autobuyerOn},migratePlayerVars(e){e.replicanti.boughtGalaxyCap=e.replicanti.gal,e.dilation.totalTachyonGalaxies=e.dilation.freeGalaxies,delete e.replicanti.gal,delete e.dilation.freeGalaxies},consolidateAuto(e){for(let t=0;t<8;t++)e.auto.infinityDims.all[t].isActive=e.infDimBuyers[t];for(let t=0;t<3;t++)e.auto.replicantiUpgrades.all[t].isActive=e.replicanti.auto[t];e.auto.replicantiGalaxies.isActive=e.replicanti.galaxybuyer,e.auto.ipMultBuyer.isActive=e.infMultBuyer,delete e.infDimBuyers,delete e.auto.infDimTimer,delete e.replicanti.galaxybuyer,delete e.replicanti.auto,delete e.auto.repUpgradeTimer,delete e.infMultBuyer},convertTimeTheoremPurchases(e){e.timestudy.amBought=new Decimal(e.timestudy.amcost).exponent/2e4-1,e.timestudy.ipBought=new Decimal(e.timestudy.ipcost).exponent/100,e.timestudy.epBought=Math.round(new Decimal(e.timestudy.epcost).log2()),delete e.timestudy.amcost,delete e.timestudy.ipcost,delete e.timestudy.epcost},infinitiedConversion(e){e.infinities=new Decimal(e.infinitied),e.infinitiesBanked=new Decimal(e.infinitiedBank),delete e.infinitied,delete e.infinitiedBank},deleteDimboostBulk(e){delete e.auto.dimBoost.bulk,e.infinityUpgrades.delete("bulkBoost")&&e.infinityUpgrades.add("autobuyMaxDimboosts")},removePriority(e){var t;const i=null!==(t=e.auto.antimatterDims.all)&&void 0!==t?t:e.auto.antimatterDims;for(let a=0;a<8;a++)delete i[a].priority;delete e.auto.tickspeed.priority},deleteFloatingTextOption(e){delete e.options.animations.floatingText},refactorDoubleIPRebuyable(e){const t=new Decimal(e.infMult).log2();delete e.infMult,e.infMult=Math.round(t),delete e.infMultCost},deletePostChallUnlocked(e){delete e.postChallUnlocked},infMultNameConversion(e){e.IPMultPurchases=e.infMult,delete e.infMult},etercreqConversion(e){e.etercreq&&(e.challenge.eternity.requirementBits|=1<<e.etercreq),delete e.etercreq},moveTS33(e){e.timestudy.studies.includes(33)&&!e.timestudy.studies.includes(22)&&(e.timestudy.studies.splice(e.timestudy.studies.indexOf(33),1),e.timestudy.theorem=new Decimal(e.timestudy.theorem).plus(2))},addBestPrestigeCurrency(e){e.records.thisReality.maxEP=e.eternityPoints,e.records.bestReality.bestEP=e.eternityPoints,e.records.thisEternity.maxIP=e.infinityPoints,e.records.thisReality.maxIP=e.infinityPoints},migrateTheme(e){e.options.themeClassic=void 0===e.options.theme?"Normal":e.options.theme,delete e.options.themes,delete e.options.secretThemeKey},reworkBHPulsing(e){delete e.celestials.enslaved.storedFraction},prePatch(e){e.totalAntimatter=e.totalAntimatter||e.totalmoney||e.money,e.thisEternity=e.thisEternity||e.totalTimePlayed,e.version=e.version||0},patch(e,t){this.prePatch(e);const i=al([Player.defaultStart,e]),a=Object.keys(this.patches).map(parseFloat).sort();let n;while(void 0!==(n=a.find((e=>i.version<e&&e<t)))){const e=this.patches[n];e(i),i.version=n}return i},patchPreReality(e){return this.patch(e,this.firstRealityMigration)},patchPostReality(e){return this.patch(e,Object.keys(yh.patches).map((e=>Number(e))).max()+1)}};function fh(e){let t=0;for(const i of e)t|=1<<i;return t}const gh={patches:[e=>{yh.normalizeTimespans(e),e.bestReality=9999999999===e.bestReality?999999999999:100*e.bestReality;for(let t=0;t<10;t++)e.lastTenRealities[t][0]*=100},e=>{e.reality.glyphs.last=""},e=>{e.secretUnlocks.themes=[]},e=>{e.wormhole.power*=36},e=>{e.reality.rebuyables={1:0,2:0,3:0,4:0,5:0};for(let t=1;t<6;t++)e.reality.upg.includes(t)&&(e.reality.rebuyables[t]=1,e.reality.upg.splice(e.reality.upg.indexOf(t),1))},e=>{e.reality.tdbuyer={on:!1,threshhold:1},e.reality.epmultbuyer={on:!1,threshhold:1}},e=>{e.reality.perks=new Set},e=>{e.reality.pp=0},e=>{e.reality.pp=e.realities},e=>{e.reality.pp>0&&(e.reality.pp-=1,e.reality.perks.add(0))},e=>{e.secretUnlocks.dragging=0},e=>{for(let t=0;t<e.reality.glyphs.active.length;t++){const i=e.reality.glyphs.active[t];void 0!==i.effects.autochall&&(delete i.effects.autochall,i.effects.buy10=1+Math.pow(i.level*i.strength,.8)/10)}for(let t=0;t<e.reality.glyphs.inventory.length;t++){const i=e.reality.glyphs.inventory[t];void 0!==i.effects.autochall&&(delete i.effects.autochall,i.effects.buy10=1+Math.pow(i.level*i.strength,.8)/10)}},e=>{e.reality.upgReqs.push(!1,!1,!1,!1,!1)},e=>{e.reality.realityMachines=new Decimal(e.reality.realityMachines)},e=>{e.reality.glyphs.sac={power:0,infinity:0,time:0,replication:0,dilation:0,effarig:0}},e=>{e.wormhole.pause=!1},e=>{e.wormholePause=!1,void 0===e.wormhole[0]&&(e.wormhole=[e.wormhole,{speed:360,power:90,duration:7,phase:0,active:!1,unlocked:!1},{speed:36,power:45,duration:4,phase:0,active:!1,unlocked:!1}])},e=>{e.reality.upg.includes(20)&&(e.wormhole[1].unlocked=!0)},e=>{e.reality.upgReqs.push(!1,!1,!1,!1,!1)},e=>{e.reality.tdbuyer=void 0,e.reality.tdbuyers=[!1,!1,!1,!1,!1,!1,!1,!1],e.reality.epmultbuyer=!1},e=>{["rm","glyph","either","both"].includes(e.autoRealityMode)||(e.autoRealityMode="rm")},yh.convertAutobuyerMode,e=>{for(const t in e.celestials.effarig.glyphWeights)e.celestials.effarig.glyphWeights[t]*=100},e=>{for(const t in e.celestials.effarig.glyphWeights)e.celestials.effarig.glyphWeights[t]=25},e=>{},yh.fixChallengeIds,yh.adjustMultCosts,e=>{const t=e.celestials.effarig;e.celestials.effarig=e.celestials.teresa,e.celestials.teresa=t;for(const i in e.reality.glyphs.active){const t=e.reality.glyphs.active[i];"teresa"===t.type&&(t.type="effarig")}for(const i in e.reality.glyphs.inventory){const t=e.reality.glyphs.inventory[i];"teresa"===t.type&&(t.type="effarig")}},e=>{function t(t,i,a,n,s=null){void 0!==e.celestials[t][a]?(void 0===e.celestials[i][a]?e.celestials[i][a]=e.celestials[t][a]:s&&(e.celestials[i][a]=s(e.celestials[t][a],e.celestials[i][a])),delete e.celestials[t][a]):void 0===e.celestials[i][a]&&(e.celestials[i][a]=n)}t("teresa","effarig","glyphWeights",{ep:25,repl:25,dt:25,eternities:25}),t("teresa","effarig","autoGlyphSac",{mode:AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,types:GlyphTypes.list.mapToObject((e=>e.id),(e=>({rarityThreshold:0,scoreThreshold:0,effectScores:e.effects.mapToObject((e=>e.id),(()=>0))})))}),t("teresa","effarig","autoGlyphPick",{mode:AUTO_GLYPH_REJECT.SACRIFICE}),t("teresa","effarig","relicShards",0,Math.max),t("effarig","teresa","quoteIdx",0),t("effarig","teresa","bestRunAM",0,Decimal.max),t("effarig","teresa","rmStore",0,Math.max),t("effarig","teresa","glyphLevelMult",1,Math.max),t("effarig","teresa","rmMult",1,Math.max),t("effarig","teresa","dtBulk",1,Math.max),delete e.celestials.effarig.typePriorityOrder,delete e.celestials.teresa.typePriorityOrder,t("teresa","effarig","glyphScoreSettings",{mode:AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,simpleEffectCount:0,types:GlyphTypes.list.mapToObject((e=>e.id),(e=>({rarityThreshold:0,scoreThreshold:0,effectCount:0,effectChoices:e.effects.mapToObject((e=>e.id),(()=>!1)),effectScores:e.effects.mapToObject((e=>e.id),(()=>0))})))}),t("effarig","teresa","bestAMSet",[])},e=>{e.blackHole=e.wormhole,e.blackHolePause=e.wormholePause,delete e.wormhole,delete e.wormholePause},e=>{for(let t=0;t<e.blackHole.length;t++)e.blackHole[t].id=t,e.blackHole[t].intervalUpgrades=Math.round(Math.log(e.blackHole[t].speed/(3600/Math.pow(10,t)))/Math.log(.8)),e.blackHole[t].powerUpgrades=Math.round(Math.log(e.blackHole[t].power/(180/Math.pow(2,t)))/Math.log(1.35)),e.blackHole[t].durationUpgrades=Math.round(Math.log(e.blackHole[t].duration/(10-3*t))/Math.log(1.3)),delete e.blackHole[t].speed,delete e.blackHole[t].power,delete e.blackHole[t].duration},()=>{},yh.convertAchivementsToNumbers,yh.adjustGameCreatedTime,yh.moveSavedStudyTrees,e=>{e.celestials.teresa.rmStore>Teresa.rmStoreMax&&(e.reality.realityMachines=e.reality.realityMachines.plus(e.celestials.teresa.rmStore-Teresa.rmStoreMax),e.celestials.teresa.rmStore=Teresa.rmStoreMax),e.reality.upg&&(e.reality.upgradeBits=fh(e.reality.upg),delete e.reality.upg),0===(e.reality.upgradeBits&1<<25)&&(e.realityBuyer.isOn=!1);for(let t=0;t<e.reality.glyphs.active.length;t++){const i=e.reality.glyphs.active[t];"power"===i.type&&void 0!==i.effects.mult&&(i.effects.mult=new Decimal(i.effects.mult))}for(let t=0;t<e.reality.glyphs.inventory.length;t++){const i=e.reality.glyphs.inventory[t];"power"===i.type&&void 0!==i.effects.mult&&(i.effects.mult=new Decimal(i.effects.mult))}},yh.convertEPMult,yh.moveChallengeInfo,yh.adjustWhy,yh.adjustThemes,yh.removeAchPow,yh.adjustSacrificeConfirmation,yh.migrateNotation,yh.fixAutobuyers,yh.removeAutoIPProperties,e=>{e.lastTenRealities=e.lastTenRealities.map((e=>[e[0],e[1],e[3],e[2]]))},e=>{e.achievements.delete(157),e.achievements.delete(156),e.achievements.delete(155),e.achievements.delete(153),yh.adjustWhy(e),yh.adjustAchievementVars(e)},yh.uniformDimensions,yh.removeEternityChallGoal,e=>{e.blackHole.pop()},e=>{const t=e.reality.glyphs.active.concat(e.reality.glyphs.inventory);for(let i=0;i<t.length;i++)t[i].id=i},e=>{},e=>{yh.removeTickspeed(e),yh.removePostC3Reward(e)},e=>{const t=e.reality.glyphs.active.concat(e.reality.glyphs.inventory);for(const i of t){let e=0;for(const t of orderedEffectList){const a=separateEffectKey(t);i.type===a[0]&&void 0!==i.effects[a[1]]&&(e+=1<<GlyphEffects[t].bitmaskIndex)}i.effects=e}},e=>{const t=e.celestials.ra.pets;for(const i in t){if(!Object.prototype.hasOwnProperty.call(t,i))continue;const e=t[i],a=e.exp+1e4*(Math.pow(1.12,e.level-1)-1)/.12;e.level=1,e.exp=Math.clampMin(a,0)}e.celestials.ra.unlocks=[]},e=>{const t=e.celestials.ra.pets;for(const i in t){if(!Object.prototype.hasOwnProperty.call(t,i))continue;const e=t[i];let a=e.exp;for(let t=1;t<e.level;t++){const e=Math.floor(t/5),i=2.5*e*(e+1)+t%5*(e+1);a+=Math.floor(1e4*Math.pow(1.12,i-1))}e.level=1,e.exp=Math.clampMin(a,0)}e.celestials.ra.unlocks=[]},yh.renameMoney,e=>{yh.moveAutobuyers(e);const t=e.realityBuyer,i=e.auto.reality;i.mode=["rm","glyph","either","both"].indexOf(e.autoRealityMode),i.rm=t.rm,i.glyph=t.glyph,i.isActive=t.isOn;const a=e.auto.eternity;a.mode=["amount","time","relative"].indexOf(e.autoEternityMode);const n=new Decimal(t.limit);switch(e.autoEternityMode){case"amount":a.amount=n;break;case"time":a.time=n.lt(Decimal.NUMBER_MAX_VALUE)?n.toNumber():a.time;break;case"relative":a.xLast=n;break}delete e.realityBuyer,delete e.autoRealityMode,delete e.autoEternityMode},yh.convertNews,yh.convertEternityCountToDecimal,yh.renameDimboosts,e=>{e.auto.reality.mode=0,e.auto.reality.isActive=!1},e=>{e.celestials.teresa.perkShop=[Math.floor(Math.log(e.celestials.teresa.glyphLevelMult)/Math.log(1.05)),Math.floor(Math.log(e.celestials.teresa.rmMult)/Math.log(2)),Math.floor(Math.log(e.celestials.teresa.dtBulk)/Math.log(2)),0],delete e.celestials.teresa.glyphLevelMult,delete e.celestials.teresa.rmMult,delete e.celestials.teresa.dtBulk},yh.migrateConfirmations,yh.removeOtherTickspeedProps,e=>{delete e.resets,delete e.tickDecrease},yh.renameNewsOption,yh.removeDimensionCosts,yh.renameTickspeedPurchaseBumps,e=>{const t=e=>void 0===e?0:fh(e);e.celestials.teresa.unlockBits=t(e.celestials.teresa.unlocks),delete e.celestials.teresa.unlocks,e.celestials.effarig.unlockBits=t(e.celestials.effarig.unlocks),delete e.celestials.effarig.unlocks,e.celestials.v.unlockBits=t(e.celestials.v.unlocks),delete e.celestials.v.unlocks,e.celestials.ra.unlockBits=t(e.celestials.ra.unlocks),delete e.celestials.ra.unlocks,e.celestials.laitela.unlockBits=t(e.celestials.laitela.unlocks),delete e.celestials.laitela.unlocks},e=>{e.reality.seed=Math.floor(Math.abs(e.reality.seed))%4294967295},e=>{e.auto.sacrifice.multiplier=new Decimal(e.auto.sacrifice.multiplier)},yh.changeC8Handling,e=>{while(e.celestials.teresa.perkShop.length<5)e.celestials.teresa.perkShop.push(0)},e=>{delete e.secretUnlocks.fixed},e=>{delete e.celestials.effarig.quoteIdx,delete e.celestials.enslaved.quoteIdx},e=>{const t=e.celestials.teresa.perkShop[4],i=e.celestials.teresa.perkShop[3];e.celestials.teresa.perkShop[3]=t,e.celestials.teresa.perkShop[4]=i},yh.convertAchievementsToBits,e=>{for(const t of e.dimensions.antimatter)delete t.power;for(const t of e.dimensions.infinity)delete t.power;for(const t of e.dimensions.time)delete t.power},e=>{const t=15,i=e.reality.glyphs.active.concat(e.reality.glyphs.inventory);for(const a of i)"cursed"===a.type&&(a.effects=t)},e=>{e.options.showHintText.alchemy=e.options.showAlchemyResources,delete e.options.showAlchemyResources},e=>{const t=e.celestials.effarig.autoGlyphSac.types,i=GlyphTypes.list.filter((e=>generatedTypes.includes(e.id))).mapToObject((e=>e.id),(e=>({rarityThreshold:0,scoreThreshold:0,effectCount:0,effectChoices:e.effects.mapToObject((e=>e.id),(()=>!1)),effectScores:e.effects.mapToObject((e=>e.id),(()=>0))})));for(const a of generatedTypes){i[a].rarityThreshold=t[a].rarityThreshold,i[a].scoreThreshold=t[a].scoreThreshold;for(const e of Object.keys(i[a].effectScores))i[a].effectScores[e]=t[a].effectScores[e]}e.celestials.effarig.autoGlyphSac.types=i},e=>{e.reality.glyphs.inventorySize+=10},e=>{e.celestials.v.unlockBits=0,V.updateTotalRunUnlocks(),V.checkForUnlocks()},e=>{e.celestials.v.unlockBits=0,V.updateTotalRunUnlocks(),V.checkForUnlocks()},e=>{e.reality.autoAchieve=!e.reality.disableAutoAchieve,delete e.reality.disableAutoAchieve,delete e.newEC10Test},e=>{e.celestials.ra.unlockBits=0,Ra.checkForUnlocks()},e=>{e.celestials.v.runRecords[0]=-10},e=>{delete e.celestials.v.cursedThisRun},e=>{e.celestials.ra.unlockBits=0,Ra.checkForUnlocks()},e=>{Object.assign(e.celestials.effarig.glyphScoreSettings,e.celestials.effarig.autoGlyphSac),e.celestials.effarig.glyphTrashMode=0,delete e.celestials.effarig.autoGlyphSac,delete e.celestials.effarig.autoGlyphPick},e=>{delete e.reality.glyphs.inventorySize;for(const t of e.reality.glyphs.inventory)t.idx>=10&&(t.idx+=10)},e=>{e.onlyEighthDimensions=e.onlyEighthDimensons,delete e.onlyEighthDimensons},e=>{for(const t of Ra.pets.all)t.level=Math.clampMax(t.level,25);if(delete e.celestials.ra.compression,Ra.unlocks.allGamespeedGlyphs.canBeApplied){const t=e.reality.glyphs.active.concat(e.reality.glyphs.inventory);for(const e of t)Glyphs.applyGamespeed(e)}},e=>{for(let t=0;t<e.celestials.ra.alchemy.length;t++)e.celestials.ra.alchemy[t].amount=Math.clampMax(e.celestials.ra.alchemy[t].amount,Ra.alchemyResourceCap)},e=>{delete e.celestials.laitela.maxAmGained;for(const t of e.celestials.laitela.dimensions)t.powerDMUpgrades=t.powerUpgrades,t.powerDEUpgrades=0,delete t.chanceUpgrades,delete t.powerUpgrades;e.celestials.laitela.darkMatterMult=Number(e.celestials.laitela.higgs)+1,delete e.celestials.laitela.anomalies},e=>{delete e.achPow,delete e.interval,delete e.tickThreshold,delete e.celestials.enslaved.maxQuotes,delete e.celestials.v.quoteIdx,delete e.celestials.ra.quoteIdx},e=>{e.celestials.enslaved.totalDimCapIncrease=0,e.celestials.enslaved.tesseracts=0},e=>{delete e.auto.galaxy.buyMax},e=>{delete e.reality.glyphs.sac.cursed,Achievement(153).lock(),Achievement(157).lock()},e=>{e.celestials.v.ppSpent&&(e.reality.pp+=e.celestials.v.ppSpent,delete e.celestials.v.ppSpent)},e=>{e.thisEternityMaxAM=new Decimal(0)},e=>{yh.migrateLastTenRuns(e),e.lastTenRealities=e.lastTenRealities.map((e=>[e[0],e[1],1,Number(e[2]),e[3]])),yh.migrateIPGen(e)},e=>{e.noReplicantiGalaxies=e.reality.upgReqChecks[0],delete e.reality.upgReqChecks},e=>{e.bestGlyphStrength=e.reality.glyphs.active.concat(e.reality.glyphs.inventory).map((e=>e.strength)).max()},e=>{e.options.showHintText.glyphEffectDots=e.options.showGlyphEffectDots,delete e.options.showGlyphEffectDots,yh.renameCloudVariable(e)},e=>{const t=new Set([...e.reality.perks].filter((e=>e<20||e>25))),i=e.reality.perks.size-t.size;e.reality.pp+=i,e.reality.perks=t,i>0&&Modal.message.show("Some of your perks (glyph perks) were removed. The perk points you spent on them have been refunded.")},e=>{delete e.reality.glyphs.last},e=>{null===e.reality.secondGaussian&&(e.reality.secondGaussian=1e6)},e=>{delete e.celestials.laitela.reachedSingularityCapLimit,delete e.celestials.laitela.secondsSinceCappedTime,delete e.celestials.laitela.singularityAutoCapLimit,delete e.celestials.laitela.singularityTime,delete e.celestials.laitela.autoAnnihilationTimer,delete e.celestials.laitela.annihilated,delete e.celestials.laitela.secondsSinceReachedSingularity,e.celestials.laitela.darkMatterMult=Math.clampMin(e.celestials.laitela.darkMatterMult,1),e.celestials.laitela.dimensions.forEach((e=>e.ascensionCount=0))},e=>{const t=e.reality.glyphs.active.concat(e.reality.glyphs.inventory).filter((e=>"companion"!==e.type));for(const i of t)i.strength=Math.ceil(400*i.strength)/400},e=>{if(void 0!==e.dimensions.normal){for(let t=0;t<e.dimensions.normal.length;t++){const i=e.dimensions.normal[t];e.dimensions.antimatter[t].bought=i.bought,e.dimensions.antimatter[t].costBumps=i.costBumps,e.dimensions.antimatter[t].amount=new Decimal(i.amount)}delete e.dimensions.normal}},e=>{void 0===e.options.news.enabled&&(e.options.news={enabled:e.options.news,repeatBuffer:40,AIChance:0,speed:1})},e=>{delete e.options.confirmations.glyphTrash},e=>{yh.standardizeUncompletedTimes(e),999999999999===e.bestReality&&(e.bestReality=Number.MAX_VALUE),999999999999===e.bestRealityRealTime&&(e.bestRealityRealTime=Number.MAX_VALUE);for(let t=0;t<10;t++)26784e5===e.lastTenRealities[t][0]&&(e.lastTenRealities[t][0]=Number.MAX_VALUE),26784e3===e.lastTenRealities[t][3]&&(e.lastTenRealities[t][3]=Number.MAX_VALUE)},e=>{for(const t of Object.values(e.reality.automator.scripts))t.content=t.content.replace(/^([ \t]*)(wait|if|while|until)([\t ]+)(completions)/gimu,"$1$2$3pending $4")},e=>{e.celestials.ra.unlockBits&=~(1<<29)},e=>{e.records.gameCreatedTime=e.gameCreatedTime,e.records.totalTimePlayed=e.totalTimePlayed,e.records.realTimePlayed=e.realTimePlayed,e.records.totalAntimatter=new Decimal(e.totalAntimatter);for(let t=0;t<10;t++)e.records.lastTenInfinities[t][0]=e.lastTenRuns[t][0],e.records.lastTenEternities[t][0]=e.lastTenEternities[t][0],e.records.lastTenRealities[t][0]=e.lastTenRealities[t][0];e.options.showLastTenInfinitiesGainPerTime=e.options.showLastTenRunsGainPerTime,delete e.options.showLastTenRunsGainPerTime,e.records.thisInfinity.time=e.thisInfinityTime,e.records.thisInfinity.realTime=e.thisInfinityRealTime,e.records.thisInfinity.lastBuyTime=e.thisInfinityLastBuyTime,e.records.thisInfinity.maxAM=new Decimal(e.thisInfinityMaxAM),e.records.thisInfinity.bestIPmin=new Decimal(e.bestIPminThisInfinity),e.records.bestInfinity.time=e.bestInfinityTime,e.records.bestInfinity.realTime=e.bestInfinityRealTime,e.records.bestInfinity.bestIPminEternity=new Decimal(e.bestIPminThisEternity),e.records.bestInfinity.bestIPminReality=new Decimal(e.bestEPThisReality),e.records.thisEternity.time=e.thisEternity,e.records.thisEternity.realTime=e.thisEternityRealTime,e.records.thisEternity.maxAM=new Decimal(e.thisEternityMaxAM),e.records.thisEternity.maxIP=new Decimal(e.thisEternityMaxIP),e.records.thisEternity.bestIPMsWithoutMaxAll=new Decimal(e.bestIpPerMsWithoutMaxAll),e.records.thisEternity.bestEPmin=new Decimal(e.bestEPminThisEternity),e.records.thisEternity.bestInfinitiesPerMs=new Decimal(e.bestInfinitiesPerMs),e.records.bestEternity.time=e.bestEternity,e.records.bestEternity.bestEPminReality=new Decimal(e.bestEPminThisReality),e.records.thisReality.time=e.thisReality,e.records.thisReality.realTime=e.thisRealityRealTime,e.records.thisReality.bestEternitiesPerMs=new Decimal(e.bestEternitiesPerMs),e.records.bestReality.RMmin=new Decimal(e.bestRMmin),e.records.bestReality.RMminSet=e.bestRMminSet,e.records.bestReality.glyphLevel=e.bestGlyphLevel,e.records.bestReality.glyphStrength=e.bestGlyphStrength,e.records.bestReality.glyphLevelSet=e.bestGlyphLevelSet,e.records.bestReality.bestEP=new Decimal(e.bestEP),e.records.bestReality.bestEPSet=e.bestEPSet,e.records.bestReality.time=e.bestReality,e.records.bestReality.realTime=e.bestRealityRealTime,e.records.bestReality.speedSet=e.bestSpeedSet,delete e.gameCreatedTime,delete e.totalTimePlayed,delete e.realTimePlayed,delete e.totalAntimatter,delete e.lastTenRuns,delete e.lastTenEternities,delete e.lastTenRealities,delete e.thisInfinityTime,delete e.thisInfinityRealTime,delete e.thisInfinityLastBuyTime,delete e.thisInfinityMaxAM,delete e.bestIPminThisInfinity,delete e.bestInfinityTime,delete e.bestInfinityRealTime,delete e.bestIPminThisEternity,delete e.thisEternity,delete e.thisEternityRealTime,delete e.thisEternityMaxAM,delete e.thisEternityMaxIP,delete e.bestIpPerMsWithoutMaxAll,delete e.bestEPminThisEternity,delete e.bestInfinitiesPerMs,delete e.bestIPminThisEternity,delete e.bestEternity,delete e.bestEPminThisReality,delete e.thisReality,delete e.thisRealityRealTime,delete e.bestEternitiesPerMs,delete e.bestEPThisReality,delete e.bestRMmin,delete e.bestRMminSet,delete e.bestGlyphLevel,delete e.bestGlyphStrength,delete e.bestGlyphLevelSet,delete e.bestEP,delete e.bestEPSet,delete e.bestReality,delete e.bestRealityRealTime,delete e.bestSpeedSet},e=>{e.replicanti.boughtGalaxyCap=e.replicanti.gal,e.reality.perkPoints=e.reality.pp,e.celestials.teresa.pouredAmount=e.celestials.teresa.rmStore,e.celestials.laitela.darkMatter=new Decimal(e.celestials.laitela.matter),e.celestials.laitela.maxDarkMatter=new Decimal(e.celestials.laitela.maxMatter),e.celestials.ra.pets.teresa.memories=e.celestials.ra.pets.teresa.exp,e.celestials.ra.pets.effarig.memories=e.celestials.ra.pets.effarig.exp,e.celestials.ra.pets.enslaved.memories=e.celestials.ra.pets.enslaved.exp,e.celestials.ra.pets.v.memories=e.celestials.ra.pets.v.exp,e.achievementChecks={noSacrifices:e.noSacrifices,onlyEighthDimensions:e.onlyEighthDimensions,onlyFirstDimensions:e.onlyFirstDimensions,noEighthDimensions:e.noEighthDimensions,noFirstDimensions:e.noFirstDimensions,noAntimatterProduced:e.noAntimatterProduced,noTriadStudies:e.noTriadStudies,noTheoremPurchases:e.noTheoremPurchases,noInfinitiesThisReality:e.noInfinitiesThisReality,noEternitiesThisReality:e.noEternitiesThisReality,noReplicantiGalaxies:e.noReplicantiGalaxies,maxID1ThisReality:new Decimal(1),continuumThisReality:!0},e.dilation.baseTachyonGalaxies=e.dilation.baseFreeGalaxies,e.dilation.totalTachyonGalaxies=e.dilation.freeGalaxies,delete e.replicanti.gal,delete e.reality.pp,delete e.celestials.teresa.rmStore,delete e.celestials.laitela.matter,delete e.celestials.laitela.maxMatter,delete e.celestials.ra.pets.teresa.exp,delete e.celestials.ra.pets.effarig.exp,delete e.celestials.ra.pets.enslaved.exp,delete e.celestials.ra.pets.v.exp,delete e.noSacrifices,delete e.onlyEighthDimensions,delete e.onlyFirstDimensions,delete e.noEighthDimensions,delete e.noFirstDimensions,delete e.noAntimatterProduced,delete e.noTriadStudies,delete e.noTheoremPurchases,delete e.noInfinitiesThisReality,delete e.noEternitiesThisReality,delete e.noReplicantiGalaxies,delete e.dilation.baseFreeGalaxies,delete e.dilation.freeGalaxies},e=>{e.auto.infinityDims=Array.range(0,8).map((()=>({lastTick:0})));for(let t=0;t<8;t++)e.auto.infinityDims[t].isActive=e.infDimBuyers[t];e.auto.timeDims=Array.range(0,8).map((()=>({lastTick:0})));for(let t=0;t<8;t++)e.auto.timeDims[t].isActive=e.reality.tdbuyers[t];e.auto.replicantiUpgrades=Array.range(0,3).map((()=>({lastTick:0})));for(let t=0;t<3;t++)e.auto.replicantiUpgrades[t].isActive=e.replicanti.auto[t];void 0===e.dilation.auto&&(e.dilation.auto=[!0,!0,!0]),e.auto.dilationUpgrades=Array.range(0,3).map((()=>({lastTick:0})));for(let t=0;t<3;t++)e.auto.dilationUpgrades[t].isActive=e.dilation.auto[t];e.auto.blackHolePower=Array.range(0,2).map((()=>({lastTick:0})));for(let t=0;t<2;t++)e.auto.blackHolePower[t].isActive=e.blackHole[t].autoPower;void 0===e.reality.rebuyablesAuto&&(e.reality.rebuyablesAuto=[!0,!0,!0,!0,!0]),e.auto.realityUpgrades=Array.range(0,5).map((()=>({lastTick:0})));for(let t=0;t<5;t++)e.auto.realityUpgrades[t].isActive=e.reality.rebuyablesAuto[t];void 0===e.auto.antimatterDims&&(e.auto.antimatterDims=e.auto.dimensions),e.auto.replicantiGalaxies.isActive=e.replicanti.galaxybuyer,e.auto.ipMultBuyer.isActive=e.infMultBuyer,e.auto.epMultBuyer.isActive=e.reality.epmultbuyer,e.auto.timeTheorems.isActive=e.ttbuyer,e.auto.bigCrunch.xCurrent=e.auto.bigCrunch.xLast,e.auto.eternity.xCurrent=e.auto.eternity.xLast,e.auto.bulkOn=e.options.bulkOn,e.auto.autobuyerOn=e.options.autobuyerOn,e.auto.disableContinuum=e.options.disableContinuum,delete e.auto.dimensions,delete e.infDimBuyers,delete e.auto.infDimTimer,delete e.reality.tdbuyers,delete e.auto.timeDimTimer,delete e.replicanti.galaxybuyer,delete e.replicanti.auto,delete e.auto.repUpgradeTimer,delete e.ttbuyer,delete e.auto.ttTimer,delete e.dilation.auto,delete e.auto.dilUpgradeTimer,delete e.blackHole[0].autoPower,delete e.blackHole[1].autoPower,delete e.reality.rebuyablesAuto,delete e.reality.epmultbuyer,delete e.infMultBuyer,delete e.auto.bigCrunch.xLast,delete e.auto.eternity.xLast,delete e.options.bulkOn,delete e.options.autobuyerOn,delete e.options.disableContinuum},yh.convertTimeTheoremPurchases,yh.infinitiedConversion,e=>{delete e.saveOverThresholdFlag,delete e.saveOverThresholdFlagModalDisplayed},e=>{Autobuyer.reality.isUnlocked||(e.auto.reality.isActive=!1)},e=>{e.reality.perks.has(64)&&(e.reality.perks.delete(64),e.reality.perkPoints++);let t=0;for(let i=0;i<=e.reality.upgReqs.length;i++)e.reality.upgReqs[i]&&(t|=1<<i);e.reality.upgReqs=t},e=>{e.reality.perks.has(11)&&(e.reality.perks.delete(11),e.reality.perkPoints++),e.reality.perks.has(10)&&Perk.startAM.onPurchased()},e=>{e.achievementChecks.maxStudiesThisReality=e.timestudy.studies.length,e.celestials.teresa.lastRepeatedMachines=new Decimal(e.celestials.teresa.lastRepeatedRM),delete e.celestials.teresa.lastRepeatedRM},e=>{let t=1,i=1;const a={};for(const n of Object.keys(e.reality.automator.scripts))a[t]=e.reality.automator.scripts[n],a[t].id=t,n===e.reality.automator.state.editorScript&&(i=t),t++;e.reality.automator.scripts=a,e.reality.automator.state.editorScript=i,delete e.reality.automator.lastID},yh.deleteDimboostBulk,yh.removePriority,e=>{e.reality.realityMachines=e.reality.realityMachines.floor()},yh.deleteFloatingTextOption,e=>{e.reality.perks.has(206)&&(e.reality.perks.delete(206),e.reality.perkPoints++)},e=>{e.records.thisEternity.maxIP=new Decimal(e.infinityPoints),e.auto.bigCrunch.xHighest=e.auto.bigCrunch.xCurrent,e.auto.eternity.xHighest=e.auto.eternity.xCurrent,delete e.auto.bigCrunch.xCurrent,delete e.auto.eternity.xCurrent},e=>{e.achievementChecks.continuumThisReality=Boolean(e.achievementChecks.continuumThisReality)},e=>{e.secretUnlocks.spreadingCancer=e.spreadingCancer,delete e.spreadingCancer},e=>{delete e.celestials.enslaved.totalDimCapIncrease},e=>{for(const t of e.reality.glyphs.undo)for(const e of["thisInfinityTime","thisInfinityRealTime","thisEternityTime","thisEternityRealTime"])e in t||(t[e]=1e3)},e=>{const t=e.achievementChecks;if(e.requirementChecks={infinity:{maxAll:e.usedMaxAll,noSacrifice:t.noSacrifices,noAD8:t.noEighthDimensions},eternity:{onlyAD1:t.onlyFirstDimensions,onlyAD8:t.onlyEighthDimensions,noAD1:t.noFirstDimensions,noRG:t.noEighthDimensions},reality:{noAM:t.noAntimatterProduced,noTriads:t.noTriadStudies,noPurchasedTT:t.noTheoremPurchases,noInfinities:t.noInfinitiesThisReality,noEternities:t.noEternitiesThisReality,noContinuum:!t.continuumThisReality,maxID1:new Decimal(t.maxID1ThisReality),maxStudies:t.maxStudiesThisReality,maxGlyphs:e.celestials.v.maxGlyphsThisRun,slowestBH:e.minNegativeBlackHoleThisReality},permanent:{cancerGalaxies:e.secretUnlocks.spreadingCancer,singleTickspeed:e.secretUnlocks.why,perkTreeDragging:e.secretUnlocks.dragging}},delete e.usedMaxAll,delete e.secretUnlocks.spreadingCancer,delete e.secretUnlocks.why,delete e.secretUnlocks.dragging,delete e.achievementChecks,delete e.minNegativeBlackHoleThisReality,delete e.celestials.v.maxGlyphsThisRun,Array.isArray(e.news)){const t=e.news;delete e.news,e.news={},e.news.seen={};for(const e of t)NewsHandler.addSeenNews(e);e.news.totalSeen=NewsHandler.uniqueTickersSeen}e.news.specialTickerData={uselessNewsClicks:e.secretUnlocks.uselessNewsClicks,paperclips:e.secretUnlocks.paperclips,newsQueuePosition:e.secretUnlocks.newsQueuePosition,eiffelTowerChapter:e.secretUnlocks.eiffelTowerChapter},delete e.secretUnlocks.uselessNewsClicks,delete e.secretUnlocks.paperclips,delete e.secretUnlocks.newsQueuePosition,delete e.secretUnlocks.eiffelTowerChapter},yh.refactorDoubleIPRebuyable,e=>{0===e.requirementChecks.reality.slowestBH&&(e.requirementChecks.reality.slowestBH=1)},e=>{e.auto.eternity.amount.lt(.01)&&(e.auto.eternity.amount=new Decimal(0))},e=>{e.options.hiddenSubtabBits=Array.repeat(0,11),e.options.lastOpenSubtab=Array.repeat(0,11)},e=>{const t=[{name:"power",id:ALCHEMY_RESOURCE.POWER},{name:"infinity",id:ALCHEMY_RESOURCE.INFINITY},{name:"time",id:ALCHEMY_RESOURCE.TIME},{name:"replication",id:ALCHEMY_RESOURCE.REPLICATION},{name:"dilation",id:ALCHEMY_RESOURCE.DILATION},{name:"effarig",id:ALCHEMY_RESOURCE.EFFARIG}];for(const i of t)e.celestials.ra.highestRefinementValue[i.name]=e.celestials.ra.alchemy[i.id].amount},yh.deletePostChallUnlocked,e=>{e.reality.perks.has(63)&&(e.reality.perks.delete(63),e.reality.perkPoints++),e.reality.perks.has(107)&&(e.reality.perks.delete(107),e.reality.perkPoints++),delete e.auto.timeTheorems.lastTick},e=>{e.realities>5&&e.realities<50&&(e.reality.automator.state.mode=1,e.reality.automator.state.stack=[],e.reality.automator.state.repeat=!1,e.reality.automator.state.forceRestart=!1)},e=>{for(const t of e.celestials.ra.alchemy)t.amount=Math.clampMax(t.amount,25e3)},e=>{const t=new RegExp("T(\\d)","gu");e.timestudy.presets.forEach((e=>e.studies=e.studies.replaceAll(t,"30$1")));for(const i of Object.values(e.reality.automator.scripts))i.content=i.content.replaceAll(t,"30$1");void 0!==e.celestials.v.triadStudies&&(e.timestudy.studies=e.timestudy.studies.concat(e.celestials.v.triadStudies.map((e=>e+300))),delete e.celestials.v.triadStudies)},e=>{delete e.options.confirmations.harshAutoClean},e=>{e.celestials.laitela.singularitySorting={displayResource:e.options.showCondenseToMilestone?1:0,sortResource:0,showCompleted:0,sortOrder:0},delete e.options.showCondenseToMilestone},()=>{},e=>{e.reality.glyphs.sets=e.reality.glyphs.sets.map((e=>({glyphs:e,name:""})))},e=>{while(!Array.isArray(e.reality.glyphs.sets[0].glyphs))e.reality.glyphs.sets=e.reality.glyphs.sets.map((e=>e.glyphs))},e=>{e.celestials.pelle.rifts.chaos.fill=new Decimal(e.celestials.pelle.rifts.chaos.fill).toNumber(),delete e.celestials.pelle.compact,e.celestials.pelle.collapsed={upgrades:!1,rifts:!1,galaxies:!1},e.celestials.pelle.galaxyGenerator.unlocked=e.celestials.pelle.galaxyGenerator.generatedGalaxies>0},e=>{e.celestials.pelle.doomed&&(e.achievementBits[17]|=1),e.celestials.pelle.upgrades.has(4)&&(e.achievementBits[17]|=2),e.celestials.pelle.doomed&&510===e.challenge.infinity.completedBits&&(e.achievementBits[17]|=4),e.timestudy.studies.compact().includes(181)&&(e.achievementBits[17]|=32)},e=>{e.achievementBits[16]|=(16&e.achievementBits[16])<<3,e.achievementBits[16]&=-17,e.achievementBits[16]|=(4&e.achievementBits[16])<<2,e.achievementBits[16]&=-5},e=>{e.achievementBits[17]&=-33,e.timestudy.studies.compact().includes(181)&&e.celestials.pelle.doomed&&(e.achievementBits[17]|=32)},e=>{e.celestials.pelle.doomed&&0!==(32&e.challenge.infinity.completedBits)?e.achievementBits[17]|=4:e.achievementBits[17]&=-5},e=>{e.celestials.pelle.collapsed=e.celestials.collapsed,e.celestials.pelle.showBought=e.celestials.showBought,delete e.celestials.collapsed,delete e.celestials.showBought},yh.infMultNameConversion,e=>{void 0===e.celestials.pelle.collapsed&&(e.celestials.pelle.collapsed={upgrades:!1,rifts:!1,galaxies:!1})},e=>{const t=e.celestials.laitela;t.automation&&(e.auto.darkMatterDims.isActive=t.automation.dimensions,e.auto.ascension.isActive=t.automation.ascension,e.auto.annihilation.isActive=t.automation.singularity,e.auto.singularity.isActive=t.automation.annihilation,delete e.celestials.laitela.automation.dimensions,delete e.celestials.laitela.automation.ascension,delete e.celestials.laitela.automation.singularity,delete e.celestials.laitela.automation.annihilation),e.auto.darkMatterDims.lastTick=t.darkAutobuyerTimer,e.auto.ascension.lastTick=t.darkAutobuyerTimer,e.auto.annihilation.multiplier=t.autoAnnihilationSetting,delete e.celestials.laitela.darkAutobuyerTimer,delete e.celestials.laitela.darkAutobuyerTimer,delete e.celestials.laitela.autoAnnihilationSetting},yh.etercreqConversion,e=>{delete e.options.confirmations.reality},e=>{const t=e.celestials.pelle.upgrades.has(19),i=e.celestials.pelle.upgrades.has(18);e.celestials.pelle.upgrades.delete(18),e.celestials.pelle.upgrades.delete(19),t&&e.celestials.pelle.upgrades.add(18),i&&e.celestials.pelle.upgrades.add(19)},e=>{delete e.auto.bulkOn},e=>{e.requirementChecks.permanent.emojiGalaxies=e.requirementChecks.permanent.cancerGalaxies,delete e.requirementChecks.permanent.cancerGalaxies},e=>{delete e.celestials.effarig.unlocksBits,delete e.celestials.ra.unlocksBits},e=>{for(const t of Object.values(e.reality.automator.scripts))t.id=parseInt(t.id,10)},e=>{e.secretUnlocks.themes.delete("S4Cancer"),e.secretUnlocks.themes.add("S4Design")},e=>{e.reality.automator.state.editorScript=Number(e.reality.automator.state.editorScript),e.reality.automator.state.topLevelScript=Number(e.reality.automator.state.topLevelScript)},e=>{e.celestials.pelle.upgrades.delete(20)&&e.celestials.pelle.upgrades.add(21),e.celestials.pelle.upgrades.delete(19)&&e.celestials.pelle.upgrades.add(20);const t=e.celestials.pelle.upgrades.delete(18);for(let i=17;i>=10;i--)e.celestials.pelle.upgrades.delete(i)&&e.celestials.pelle.upgrades.add(i+2);for(let i=9;i>=7;i--)e.celestials.pelle.upgrades.delete(i)&&e.celestials.pelle.upgrades.add(i+1);t&&e.celestials.pelle.upgrades.add(7)},e=>{const t=e.celestials,i=e=>e.toBitmask()>>1;t.teresa.quotes&&(e.celestials.teresa.quoteBits=i(t.teresa.quotes)),t.effarig.quotes&&(e.celestials.effarig.quoteBits=i(t.effarig.quotes)),t.enslaved.quotes&&(e.celestials.enslaved.quoteBits=i(t.enslaved.quotes)),t.v.quotes&&(e.celestials.v.quoteBits=i(t.v.quotes)),t.ra.quotes&&(e.celestials.ra.quoteBits=i(t.ra.quotes)),t.laitela.quotes&&(e.celestials.laitela.quoteBits=i(t.laitela.quotes)),t.pelle.quotes&&(e.celestials.pelle.quoteBits=i(t.pelle.quotes)),delete e.celestials.teresa.quotes,delete e.celestials.effarig.quotes,delete e.celestials.enslaved.quotes,delete e.celestials.v.quotes,delete e.celestials.ra.quotes,delete e.celestials.laitela.quotes,delete e.celestials.pelle.quotes},e=>{e.celestials.pelle.rifts.famine&&(e.celestials.pelle.rifts.vacuum={...e.celestials.pelle.rifts.famine,fill:new Decimal(e.celestials.pelle.rifts.famine.fill)},delete e.celestials.pelle.rifts.famine),e.celestials.pelle.rifts.pestilence&&(e.celestials.pelle.rifts.decay={...e.celestials.pelle.rifts.pestilence,fill:new Decimal(e.celestials.pelle.rifts.pestilence.fill)},delete e.celestials.pelle.rifts.pestilence),e.celestials.pelle.rifts.war&&(e.celestials.pelle.rifts.recursion={...e.celestials.pelle.rifts.war,fill:new Decimal(e.celestials.pelle.rifts.war.fill)},delete e.celestials.pelle.rifts.war),e.celestials.pelle.rifts.death&&(e.celestials.pelle.rifts.paradox={...e.celestials.pelle.rifts.death,fill:new Decimal(e.celestials.pelle.rifts.death.fill)},delete e.celestials.pelle.rifts.death)},e=>{delete e.newGame},yh.moveTS33,e=>{const t=["antimatterDims","infinityDims","timeDims","replicantiUpgrades","dilationUpgrades","blackHolePower","realityUpgrades","imaginaryUpgrades"];for(const i of t){if(void 0!==e.auto[i].all)continue;const t=e.auto[i];delete e.auto[i],e.auto[i]={all:t,isActive:!0}}},e=>{e.celestials.ra.petWithRemembrance=e.celestials.ra.petWithRecollection,delete e.celestials.ra.petWithRecollection},e=>{for(const a of Object.keys(e.reality.automator.scripts)){const t=e.reality.automator.scripts[a].content.split("\n");for(let i=0;i<t.length;i++){let a=t[i];a=a.replace(/^\s*tt.*$/iu,""),a=a.replace(/studies( nowait)? (?!respec|load|nowait respec|nowait load)(\S.+)$/iu,"studies$1 purchase $2"),a=a.replace(/studies( nowait)? load preset ([1-6])/iu,"studies$1 load id $2"),a=a.replace(/studies( nowait)? load preset (\S+)/iu,"studies$1 load name $2"),a=a.replace(/x current/iu,"x highest");const n=a.match(/define (\S*)\s*=\s*(\S.*)$/iu);n&&(e.reality.automator.constants[n[1]]=n[2],a=""),t[i]=a}e.reality.automator.scripts[a].content=t.join("\n")}const t={},i=Object.keys(e.reality.automator.scripts);for(let a=1;a<=i.length;a++)t[a]=e.reality.automator.scripts[i[a-1]],t[a].id=a;e.reality.automator.scripts=t},e=>{delete e.celestials.pelle.armageddonDuration,delete e.celestials.pelle.maxAMThisArmageddon,delete e.options.sidebarMinimized,delete e.options.chart,delete e.devMode},e=>{const t=4&e.achievementBits[10],i=8&e.achievementBits[11];t?e.achievementBits[11]|=8:e.achievementBits[11]&=-9,i?e.achievementBits[10]|=4:e.achievementBits[10]&=-5},e=>{var t,i;e.options.newUI?e.options.themeModern=null!==(t=e.options.theme)&&void 0!==t?t:e.options.themeModern:e.options.themeClassic=null!==(i=e.options.theme)&&void 0!==i?i:e.options.themeClassic;delete e.options.theme,BlackHole(1).isUnlocked&&(e.records.timePlayedAtBHUnlock=e.records.totalTimePlayed)},e=>{e.IAP.enabled=!e.IAP.disabled;const t=["totalSTD","spentSTD","exportSTD","IPPurchases","EPPurchases","RMPurchases","dimPurchases","allDimPurchases","replicantiPurchases","dilatedTimePurchases","disabled"];for(const i of t)delete e.IAP[i]},e=>{const t=e.reality.glyphs.active.concat(e.reality.glyphs.inventory);for(const i of t)"key266b"===i.symbol&&(i.symbol=void 0,i.color=void 0,i.cosmetic="music"),"companion"===i.type&&(i.color=void 0)},e=>{e.options.lightGlyphs=!e.options.forceDarkGlyphs,delete e.options.forceDarkGlyphs}],patch(e){e.options.testVersion=e.options.testVersion||0;for(let t=e.options.testVersion;t<this.patches.length;t++){const i=this.patches[t];i(e)}this.setLatestTestVersion(e)},setLatestTestVersion(e){e.options.testVersion=this.patches.length}},bh={ONLINE:0,OFFLINE:1,RESERVE:2},vh=[{id:1,type:bh.ONLINE,intervalStr:()=>"минуту",interval:60},{id:2,type:bh.ONLINE,intervalStr:()=>`${formatInt(5)} минут`,interval:300},{id:3,type:bh.ONLINE,intervalStr:()=>`${formatInt(20)} минут`,interval:1200},{id:4,type:bh.ONLINE,intervalStr:()=>"час",interval:3600},{id:5,type:bh.OFFLINE,intervalStr:()=>`${formatInt(10)} минут`,interval:600},{id:6,type:bh.OFFLINE,intervalStr:()=>"час",interval:3600},{id:7,type:bh.OFFLINE,intervalStr:()=>`${formatInt(5)} часов`,interval:18e3},{id:8,type:bh.RESERVE}],Eh={currentSlot:0,saves:{0:void 0,1:void 0,2:void 0},saved:0,lastSaveTime:Date.now(),lastCloudSave:Date.now(),offlineEnabled:void 0,offlineTicks:void 0,lastUpdateOnLoad:0,lastBackupTimes:[],oldBackupTimer:0,ignoreBackupTimer:!0,maxOfflineTicks(e,t=this.offlineTicks){const i=Math.clampMax(Math.floor(e/33),1e6);return Math.clampMax(t,i)},get localStorageKey(){return y?"dimensionTestSave":"dimensionSave"},backupDataKey(e,t){return y?`backupTestSave-${e}-${t}`:`backupSave-${e}-${t}`},backupTimeKey(e){return y?`backupTestTimes-${e}`:`backupTimes-${e}`},load(){const e=localStorage.getItem(this.localStorageKey),t=GameSaveSerializer.deserialize(e);this.loadRoot(t),Achievements.updateSteamStatus()},loadRoot(e){return void 0===e?(this.currentSlot=0,void this.loadPlayerObject(Player.defaultStart)):void 0===e.saves?(this.saves={0:e,1:void 0,2:void 0},this.currentSlot=0,this.loadPlayerObject(e),this.loadBackupTimes(),this.backupOfflineSlots(),void this.save(!0)):(this.saves=e.saves,this.currentSlot=e.current,this.loadPlayerObject(this.saves[this.currentSlot]),this.loadBackupTimes(),void this.backupOfflineSlots())},loadSlot(e){var t;this.currentSlot=e,this.save(!0),this.loadPlayerObject(null!==(t=this.saves[e])&&void 0!==t?t:Player.defaultStart),this.loadBackupTimes(),this.backupOfflineSlots(),Tabs.all.find((e=>e.id===player.options.lastOpenTab)).show(!1),Modal.hideAll(),Cloud.resetTempState(),GameUI.notify.info("Сохранение загружено"),Achievements.updateSteamStatus()},import(e){var t;if(tryImportSecret(e)||Theme.tryUnlock(e))return;const i=GameSaveSerializer.deserialize(e);""===this.checkPlayerObject(i)?(this.oldBackupTimer=player.backupTimer,Modal.hideAll(),Quote.clearAll(),AutomatorBackend.clearEditor(),this.loadPlayerObject(i),GlyphAppearanceHandler.clearInvalidCosmetics(),null!==(t=player.speedrun)&&void 0!==t&&t.isActive&&Speedrun.setSegmented(!0),this.save(!0),Cloud.resetTempState(),this.resetBackupTimer(),Tab.options.subtabs[0].show(),GameUI.notify.info("Сохранение импортировано"),Achievements.updateSteamStatus()):Modal.message.show("Не удалось импортировать сохранение.")},importAsFile(){if(GameEnd.creditsEverClosed)return;const e=new FileReader,t=e.readAsText(file);this.import(t)},overwriteSlot(e,t){this.saves[e]=t,e===this.currentSlot&&this.loadPlayerObject(t),this.save(!0)},checkPlayerObject(e){if(void 0===e||null===e)return"Сохранение не удалось раскодировать";if(void 0===e.money&&void 0===e.antimatter)return"Сохранение не содержит данных о количестве антиматерии";const t=[];function i(e,a){let n=!1;for(const s in e){const r=e[s];let o;switch(typeof r){case"object":o=i(r,`${a}.${s}`),n=n||o;break;case"number":o=Number.isNaN(r),n=n||o,o&&t.push(`${a}.${s}`);break;case"string":o="NaN"===r,n=n||o,o&&t.push(`${a}.${s}`);break}}return n}return i(e,"player"),0===t.length?"":`Найдены данные со значением NaN:\n      ${t.join(", ")}`},canSave(e=!1){const t=GlyphSelection.active,i=void 0!==ui.$viewModel.modal.progressBar&&!e,a=GameEnd.endState>=END_STATE_MARKERS.SAVE_DISABLED&&!GameEnd.removeAdditionalEnd||GameEnd.endState>=END_STATE_MARKERS.INTERACTIVITY_DISABLED;return!a&&!(t||i)},save(e=!0,t=!1){if(!this.canSave())return;this.lastSaveTime=Date.now(),GameIntervals.save.restart(),t&&++this.saved>99&&SecretAchievement(12).unlock();const i={current:this.currentSlot,saves:this.saves};localStorage.setItem(this.localStorageKey,GameSaveSerializer.serialize(i)),e||GameUI.notify.info("Игра сохранена")},saveToBackup(e,t){this.canSave(!0)&&(localStorage.setItem(this.backupDataKey(this.currentSlot,e),GameSaveSerializer.serialize(player)),this.lastBackupTimes[e]={backupTimer:t,date:Date.now()},localStorage.setItem(this.backupTimeKey(this.currentSlot),GameSaveSerializer.serialize(this.lastBackupTimes)))},loadFromBackup(e){const t=localStorage.getItem(this.backupDataKey(this.currentSlot,e));return GameSaveSerializer.deserialize(t)},backupOfflineSlots(){const e=Date.now(),t=e-this.lastUpdateOnLoad,i=vh.filter((e=>e.type===bh.OFFLINE)).sort(((e,t)=>t.interval-e.interval));for(const a of i)if(t>1e3*a.interval){this.saveToBackup(a.id,player.backupTimer);break}},backupOnlineSlots(e){const t=player.backupTimer;for(const i of e)this.saveToBackup(i,t)},loadBackupTimes(){this.lastBackupTimes=GameSaveSerializer.deserialize(localStorage.getItem(this.backupTimeKey(this.currentSlot))),this.lastBackupTimes||(this.lastBackupTimes={});for(const e of vh){const t=e.id;this.lastBackupTimes[t]||(this.lastBackupTimes[t]={backupTimer:0,date:0})}},tryOnlineBackups(){const e=[];for(const a of vh.filter((e=>e.type===bh.ONLINE))){var t,i;const n=a.id,s=player.backupTimer-(null!==(t=null===(i=this.lastBackupTimes[n])||void 0===i?void 0:i.backupTimer)&&void 0!==t?t:0);1e3*a.interval-s<=800&&e.push(n)}this.backupOnlineSlots(e)},resetBackupTimer(){const e=Object.values(this.lastBackupTimes).map((e=>e&&e.backupTimer)).max();player.backupTimer=Math.max(this.oldBackupTimer,player.backupTimer,e)},saveToReserveSlot(){const e=vh.find((e=>e.type===bh.RESERVE)).id;this.saveToBackup(e,player.backupTimer)},export(e=!1){copyToClipboard(this.exportModifiedSave(e)),GameUI.notify.info("Сохранение экспортировано в буфер обмена")},get exportDateString(){const e=new Date,t=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return`${t}-${i}-${a}`},exportAsFile(){if(!this.canSave())return;player.options.exportedFileCount++,this.save(!0);const e=player.options.saveFileName?` - "${player.options.saveFileName}",`:"",t=this.exportModifiedSave();Th(`ИА, слот №${Eh.currentSlot+1}${e}, сохранение №${player.options.exportedFileCount} (${this.exportDateString}).txt`,t),GameUI.notify.info("Сохранение экспортировано в виде файла")},exportBackupsAsFile(){player.options.exportedFileCount++;const e={};for(const t of vh.map((e=>e.id))){const i=this.loadFromBackup(t);i&&(e[t]=i)}e.time=GameSaveSerializer.deserialize(localStorage.getItem(this.backupTimeKey(this.currentSlot))),Th(`ИА, слот №${Eh.currentSlot+1}, резервное сохранение №${player.options.exportedFileCount} (${this.exportDateString}).txt`,GameSaveSerializer.serialize(e)),GameUI.notify.info("Резервное сохранение экспортировано в виде файла")},exportModifiedSave(e=!1){e&&(player.secretUnlocks.themes=new Set,player.celestials.ra.petWithRemembrance="",player.options.multiplierTab.replacePowers=!1,player.options.notation="Mixed scientific",player.options.themeModern="Normal",player.options.themeClassic="Normal");const t=player.speedrun.isSegmented;Speedrun.setSegmented(!0);const i=GameSaveSerializer.serialize(player);return Speedrun.setSegmented(t),i},hardReset(){this.loadPlayerObject(Player.defaultStart),this.save(!0),Tab.dimensions.antimatter.show(),Cloud.resetTempState()},loadPlayerObject(e){var t;this.saved=0;const i=this.checkPlayerObject(e);if(e===Player.defaultStart||""!==i)y&&""!==i&&console.log(`Savefile was invalid and has been reset - ${i}`),player=al([{},Player.defaultStart]),player.records.gameCreatedTime=Date.now(),player.lastUpdate=Date.now(),y&&gh.setLatestTestVersion(player);else{const t=e.version<yh.firstRealityMigration;player=yh.patchPreReality(e),t&&(y&&gh.setLatestTestVersion(player),EventHub.dispatch(GAME_EVENT.SAVE_CONVERTED_FROM_PREVIOUS_VERSION)),y&&void 0!==player.options.testVersion&&gh.patch(player),player=yh.patchPostReality(player)}this.saves[this.currentSlot]=player,this.lastUpdateOnLoad=player.lastUpdate,y&&guardFromNaNValues(player),ui.view.news=player.options.news.enabled,ui.view.newUI=player.options.newUI,ui.view.tutorialState=player.tutorialState,ui.view.tutorialActive=player.tutorialActive,ECTimeStudyState.invalidateCachedRequirements(),recalculateAllGlyphs(),checkPerkValidity(),V.updateTotalRunUnlocks(),Enslaved.boostReality=!1,GameEnd.additionalEnd=0,Theme.set(Theme.currentName()),Glyphs.unseen=[],Glyphs.unequipped=[],Notations.find(player.options.notation).setAsCurrent(!0),Bu.exponentCommas.min=10**player.options.notationDigits.comma,Bu.exponentCommas.max=10**player.options.notationDigits.notation,EventHub.dispatch(GAME_EVENT.GAME_LOAD),AutomatorBackend.initializeFromSave(),Lazy.invalidateAll();const a=Date.now()-player.lastUpdate,n=null!==(t=this.offlineEnabled)&&void 0!==t?t:player.options.offlineProgress;if(n&&!Speedrun.isPausedAtStart()){let e=a;player.speedrun.offlineTimeUsed+=e,e>3e5&&player.celestials.enslaved.autoStoreReal&&(e=Enslaved.autoStoreRealTime(e)),e>1e4?simulateTime(e/1e3,!1,e<5e4):this.postLoadStuff()}else Speedrun.isPausedAtStart()||Achievement(35).tryUnlock(),player.lastUpdate=Date.now(),this.postLoadStuff();a>12096e5&&(["S4","S9"].includes(Theme.current().name)&&Theme.set("Normal"),setTimeout((()=>{Notations.current.isPainful&&Notation.mixedScientific.setAsCurrent()}),2500),setTimeout((()=>Modal.catchup.show(a)),5e3))},postLoadStuff(){GameIntervals.restart(),Eh.ignoreBackupTimer=!1,Enslaved.nextTickDiff=player.options.updateRate,player.celestials.enslaved.storedReal>864e5&&SecretAchievement(46).unlock(),GameUI.update();for(const e of AlchemyResources.all)e.before=e.amount}};function Th(e,t){const i=document.createElement("a");if(i.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(t)}`),i.setAttribute("download",e),document.createEvent){const e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),i.dispatchEvent(e)}else i.click()}var _h=i(1631),Ch=i(8209),Ah=i(8563),kh=i(2081);const wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Sh(e){const t=wh.indexOf(e.charAt(e.length-1));return 64===t?e.substring(0,e.length-1):e}function xh(e,t){e=Sh(e),e=Sh(e);const i=parseInt(e.length/4*3,10);let a,n,s,r,o,l,c,u,d=0,h=0;for(a=t?new Uint8Array(t):new Uint8Array(i),e=e.replace(/[^A-Za-z0-9+/=]/gu,""),d=0;d<i;d+=3)o=wh.indexOf(e.charAt(h++)),l=wh.indexOf(e.charAt(h++)),c=wh.indexOf(e.charAt(h++)),u=wh.indexOf(e.charAt(h++)),n=o<<2|l>>4,s=(15&l)<<4|c>>2,r=(3&c)<<6|u,a[d]=n,64!==c&&(a[d+1]=s),64!==u&&(a[d+2]=r);return a}const Rh={apiKey:null,authDomain:null,databaseURL:null,projectId:null,storageBucket:null,messagingSenderId:null,appId:null};class Ih extends k{get id(){return this.config.id}get name(){return this.config.name}get suggestedResource(){return"function"===typeof this.config.suggestedResource?this.config.suggestedResource():this.config.suggestedResource}}const Mh=Ih.createAccessor(GameDatabase.progressStages);Mh.all=GameDatabase.progressStages;class Dh extends k{get requiredStage(){return this.config.requiredStage}get name(){return this.config.name}get description(){return"function"===typeof this.config.description?this.config.description():this.config.description}}const Ph=mapGameDataToObject(GameDatabase.catchupResources,(e=>new Dh(e))),Uh={getProgressStage(e){const t=Mh.all;for(let i=t.length-1;i>=0;i--)if(t[i].hasReached(e))return t[i];throw Error("No valid progress stage found")},getCompositeProgress(e){if(!e)return 0;const t=this.getProgressStage(e);return t.id+Math.clampMax(t.subProgressValue(e),1)},compareSaveProgress(e,t){const i=this.getCompositeProgress(e)-this.getCompositeProgress(t);return i>.05?-1:i<-.05?1:0},compareSaveTimes(e,t){var i,a;if(!e||!t)return 0;const n=(null===(i=e.records)||void 0===i?void 0:i.realTimePlayed)-(null===(a=t.records)||void 0===a?void 0:a.realTimePlayed);return n>=0?-1:1}},Gh=null!==Rh.apiKey;Gh&&(0,Ah.Wp)(Rh);const Nh={provider:Gh?new _h.HF:null,auth:Gh?(0,_h.xI)():null,db:Gh?(0,Ch.C3)():null,user:null,lastCloudHash:null,get isAvailable(){return Gh},resetTempState(){this.lastCloudHash=null,GameStorage.lastCloudSave=Date.now(),GameIntervals.checkCloudSave.restart()},get loggedIn(){return null!==this.user},async login(){if(this.isAvailable)try{await(0,_h.df)(this.auth,this.provider),ShopPurchaseData.syncSTD(),player.options.hideGoogleName?GameUI.notify.success("Successfully logged in to Google Account"):GameUI.notify.success(`Successfully logged in as ${this.user.displayName}`),ShopPurchaseData.isIAPEnabled&&Speedrun.setSTDUse(!0)}catch(e){GameUI.notify.error("Google Account login failed")}},async loginWithSteam(e,t,i){if(!this.isAvailable)return;if(this.loggedIn)return void(Nh.user.displayName=i);const a=`${e}@ad.com`,n=t;let s;await(0,_h.x9)(this.auth,a,n).catch((()=>(0,_h.eJ)(this.auth,a,n))).catch((e=>s=e)),void 0===s?Nh.user.displayName=i:console.log(`Firebase Login Error: ${s}`)},async loadMobile(){if(!this.user)return;const e=await(0,Ch.Jt)((0,Ch.KR)(this.db,`users/${this.user.id}/player`));if(e.exists){const t=e.val(),i=xh(t.replace(/-/gu,"+").replace(/_/gu,"/"));Uu.Ay.ungzip(i,{to:"string"})}},compareSaves(e,t,i){try{return{farther:Uh.compareSaveProgress(e,t),older:Uh.compareSaveTimes(e,t),differentName:(null===e||void 0===e?void 0:e.options.saveFileName)!==(null===t||void 0===t?void 0:t.options.saveFileName),hashMismatch:this.lastCloudHash&&this.lastCloudHash!==i}}catch(a){return null}},async saveCheck(e=!1){if(!this.isAvailable)return;const t=GameStorage.currentSlot,i=await this.load();if(null===i)this.save();else{const a=(0,kh.sha512_256)(GameSaveSerializer.serialize(i));this.lastCloudHash||(this.lastCloudHash=a);const n=GameStorage.saves[t],s=this.compareSaves(i,n,a),r=()=>this.save();if(!s)return Modal.addCloudConflict(t,s,i,n,r),void Modal.cloudInvalidData.show({isSaving:!0});const o=i&&n,l=o&&s&&(-1===s.older||-1===s.farther||s.differentName||s.hashMismatch);e||l&&player.options.showCloudModal?(Modal.addCloudConflict(t,s,i,n,r),Modal.cloudSaveConflict.show()):l&&!player.options.forceCloudOverwrite||r()}},save(){if(!this.user)return;if(GlyphSelection.active||void 0!==ui.$viewModel.modal.progressBar)return;player.options.syncSaveIntervals&&GameStorage.save();const e=GameSaveSerializer.serialize(GameStorage.saves[GameStorage.currentSlot]);this.lastCloudHash=(0,kh.sha512_256)(e),GameStorage.lastCloudSave=Date.now(),GameIntervals.checkCloudSave.restart();const t=GameStorage.currentSlot;this.writeToCloudDB(t,e),f?GameUI.notify.info(`Game saved (slot ${t+1}) to cloud as user ${this.user.displayName}`):player.options.hideGoogleName?GameUI.notify.info(`Game saved (slot ${t+1}) to cloud`):GameUI.notify.info(`Game saved (slot ${t+1}) to cloud as user ${this.user.displayName}`)},async loadCheck(){if(!this.isAvailable)return;const e=await this.load();if(null===e)player.options.hideGoogleName?GameUI.notify.info("No cloud save for current Google Account"):GameUI.notify.info(`No cloud save for user ${this.user.displayName}`);else{const t=e,i=GameStorage.currentSlot,a=GameStorage.saves[i],n=this.compareSaves(t,a),s=()=>{GameStorage.overwriteSlot(i,t),f?GameUI.notify.info("Cloud save loaded"):player.options.hideGoogleName?GameUI.notify.info(`Cloud save (slot ${i+1}) loaded`):GameUI.notify.info(`Cloud save (slot ${i+1}) loaded for user ${this.user.displayName}`)};if(!n)return Modal.addCloudConflict(i,n,t,a,s),void Modal.cloudInvalidData.show({isSaving:!1});const r=t&&a,o=r&&(1===n.older||-1!==n.farther||n.differentName);o?(Modal.addCloudConflict(i,n,t,a,s),Modal.cloudLoadConflict.show()):s()}},async load(){let e=await this.readFromCloudDB(GameStorage.currentSlot);return e.exists()?GameSaveSerializer.deserialize(e.val()):(await this.separateSaveSlots(),e=await this.readFromCloudDB(GameStorage.currentSlot),e.exists()?GameSaveSerializer.deserialize(e.val()):null)},async separateSaveSlots(){const e=await this.readFromCloudDB(null);if(!e.exists())return;const t=GameSaveSerializer.deserialize(e.val());if(t)for(const i of Object.keys(t.saves)){const e=GameSaveSerializer.serialize(t.saves[i]);await this.writeToCloudDB(Number(i),e)}},readFromCloudDB(e){const t=null===e?"":`/${e}`;return(0,Ch.Jt)((0,Ch.KR)(this.db,`users/${this.user.id}/web${t}`))},writeToCloudDB(e,t){const i=null===e?"":`/${e}`;return(0,Ch.hZ)((0,Ch.KR)(this.db,`users/${this.user.id}/web${i}`),t)},logout(){this.isAvailable&&((0,_h.CI)(this.auth),ShopPurchaseData.clearLocalSTD())},init(){this.isAvailable&&(0,_h.xI)().onAuthStateChanged((e=>{e?(this.user={id:e.uid,displayName:f?wc.screenName:e.displayName,email:e.email},f||ShopPurchaseData.syncSTD()):this.user=null}))}},Bh=function(){const e=e=>{const t=new e;return t.setAsCurrent=()=>{player.options.notation=t.name,ui.notationName=t.name},t},t=e=>(e.isPainful=!0,e);return{scientific:e(Ju),engineering:e(Zu),letters:e(id),standard:t(e(sd)),emoji:t(e(nd)),mixedScientific:e(od),mixedEngineering:e(cd),logarithm:e(ud),brackets:t(e(dd)),infinity:e(pd),roman:t(e(bd)),dots:t(e(Ed)),zalgo:t(e(Ad)),hex:t(e(wd)),imperial:t(e(Pd)),clock:t(e(Nd)),prime:t(e(zd)),bar:t(e(Zd)),shi:t(e(th)),blind:t(e(hh)),blobs:t(e(dh)),all:t(e(mh))}}();Bh.emoji.setAsCurrent=(e=!1)=>{player.options.notation=Bh.emoji.name,ui.notationName=Bh.emoji.name,e||GameUI.notify.success("😂😂😂")};const Oh={all:[Bh.scientific,Bh.engineering,Bh.letters,Bh.standard,Bh.emoji,Bh.mixedScientific,Bh.mixedEngineering,Bh.logarithm,Bh.brackets,Bh.infinity,Bh.roman,Bh.dots,Bh.zalgo,Bh.hex,Bh.imperial,Bh.clock,Bh.prime,Bh.bar,Bh.shi,Bh.blind,Bh.blobs,Bh.all],find:e=>{const t=Oh.all.find((t=>t.name===e));return void 0===t?Bh.mixedScientific:t},get current(){return GameUI.initialized?ui.notation:Bh.mixedScientific}};Bu.isInfinite=e=>ui.formatPreBreak&&e.gte(Decimal.NUMBER_MAX_VALUE),EventHub.logic.on(GAME_EVENT.GAME_TICK_AFTER,(()=>{ui.formatPreBreak=!PlayerProgress.hasBroken()||NormalChallenge.isRunning&&!Enslaved.isRunning}));const Lh={DIM1:0,DIM2:1,TICKSPEED:2,DIMBOOST:3,GALAXY:4,AUTOMATOR:5},$h=[{id:Lh.DIM1,condition:()=>!0},{id:Lh.DIM2,condition:()=>Currency.antimatter.gte(100)},{id:Lh.TICKSPEED,condition:()=>AntimatterDimension(2).bought>0},{id:Lh.DIMBOOST,condition:()=>AntimatterDimension(4).amount.gte(20)},{id:Lh.GALAXY,condition:()=>AntimatterDimension(8).amount.gte(80)},{id:Lh.AUTOMATOR,condition:()=>Player.automatorUnlocked}],Hh={isActive(e){return 0===player.records.fullGameCompletions&&ui.view.tutorialState===e&&ui.view.tutorialActive},emphasizeH2P(){const e=player.tutorialState>Lh.DIMBOOST||player.dimensionBoosts>0;return 0===player.records.fullGameCompletions&&!e},turnOffEffect(e){e===player.tutorialState&&(player.tutorialActive=!1,ui.view.tutorialActive=!1,this.tutorialLoop())},moveOn(e){e===player.tutorialState&&(player.tutorialState++,ui.view.tutorialState++,player.tutorialActive=!0,ui.view.tutorialActive=!0)},tutorialLoop(){const e=$h.find((e=>e.id===player.tutorialState+1));e&&e.condition()&&this.moveOn(player.tutorialState)}},Fh={startNewGame(){GameEnd.creditsClosed=!1,GameEnd.creditsEverClosed=!1,player.isGameEnd=!1,player.celestials.pelle.doomed=!1;const e=player.speedrun;if(e.isActive){player.speedrun.previousRuns[player.records.fullGameCompletions+1]={isSegmented:e.isSegmented,usedSTD:e.usedSTD,startDate:e.startDate,name:e.name,offlineTimeUsed:e.offlineTimeUsed,records:[...e.records],achievementTimes:JSON.parse(JSON.stringify(e.achievementTimes)),seedSelection:e.seedSelection,initialSeed:e.initialSeed};const t=Object.keys(e.previousRuns).map((e=>Number(e)));t.length>100&&(player.speedrun.previousRuns[t.min()]=void 0)}player.records.fullGameCompletions++,GlyphAppearanceHandler.unlockSet(),this.restartWithCarryover(),GameEnd.removeAdditionalEnd=!0,GameEnd.additionalEnd=15,setTimeout((()=>GameStorage.save()),1e4)},restartWithCarryover(){const e=JSON.stringify(player.options),t=player.secretUnlocks,i=JSON.stringify(player.secretAchievementBits),a=JSON.stringify(player.reality.automator.constants),n=JSON.stringify(player.reality.automator.constantSortOrder),s=JSON.stringify(player.reality.automator.scripts),r=player.records.fullGameCompletions,o=player.records.previousRunRealTime+player.records.realTimePlayed,l=JSON.stringify(player.reality.glyphs.cosmetics),c=JSON.stringify(player.speedrun.previousRuns),u=player.speedrun.isUnlocked,d=JSON.stringify(player.timestudy.presets),h=JSON.stringify(Glyphs.allGlyphs.filter((e=>"companion"===e.type)));Modal.hideAll(),Quote.clearAll(),GameStorage.hardReset(),player.options=JSON.parse(e),player.options.confirmations.glyphSelection=!0,player.secretUnlocks=t,player.secretAchievementBits=JSON.parse(i),player.reality.automator.constants=JSON.parse(a),player.reality.automator.constantSortOrder=JSON.parse(n),player.reality.automator.scripts=JSON.parse(s),player.records.fullGameCompletions=r,player.records.previousRunRealTime=o,ui.view.newUI=player.options.newUI,ui.view.news=player.options.news.enabled,player.reality.glyphs.cosmetics=JSON.parse(l),player.speedrun.previousRuns=JSON.parse(c),player.speedrun.isUnlocked=u,player.timestudy.presets=JSON.parse(d),JSON.parse(h).forEach((e=>{Glyphs.addToInventory(e)})),Themes.find(Theme.currentName()).set(),Notations.all.find((e=>e.name===player.options.notation)).setAsCurrent(),Bu.exponentCommas.min=10**player.options.notationDigits.comma,Bu.exponentCommas.max=10**player.options.notationDigits.notation,player.lastUpdate=Date.now()}},qh={addToQueue(e){ui.view.quotes.queue.push(e),ui.view.quotes.current||this.advanceQueue()},advanceQueue(){ui.view.quotes.current=ui.view.quotes.queue.shift()},showHistory(e){ui.view.quotes.history=e},clearQueue(){ui.view.quotes.queue=[],ui.view.quotes.current=void 0},clearHistory(){ui.view.quotes.history=void 0},clearAll(){this.clearQueue(),this.clearHistory()},get isOpen(){return void 0!==ui.view.quotes.current},get isHistoryOpen(){return void 0!==ui.view.quotes.history}};function Vh(e){const t=e.map((e=>e[1])).sum(),i=Date.now()/1e3%t,a=e[0][1]/2;let n=0;for(let s=0;s<e.length;s++){const t=e[(s+e.length-1)%e.length],r=e[s],o=e[(s+1)%e.length],l=i-n,c=l-r[1];if(!(c>0)){if(l<=a){const e=.5*l/a;return[[t[0],.5-e],[r[0],.5+e]]}if(-c<=a){const e=.5*c/a;return[[r[0],.5-e],[o[0],.5+e]]}return[[r[0],1]]}n+=r[1]}throw new Error("Could not blend celestial fractions in Quote modal")}class Yh{constructor(e,t){var i;this._parent=t,this._showCelestialName=null===(i=e.showCelestialName)||void 0===i||i,this._celestialArray=e.background?()=>Vh(e.background):[[t.celestial,1]];const a=/\$(\d+)/gu,n=player.options.genderMale?/\(\S*\)|[\[\]]/gu:/\[\S*\]|[\(\)]/gu;this._line="string"===typeof e?e.replaceAll(n,""):()=>e.text.replaceAll(a,((t,i)=>$e.wordCycle(e[i]))).replaceAll(n,"")}get line(){return"function"===typeof this._line?this._line():this._line}get celestials(){return"function"===typeof this._celestialArray?this._celestialArray():this._celestialArray}get celestialSymbols(){return this.celestials.map((e=>Celestials[e[0]].symbol))}get showCelestialName(){return this._showCelestialName}get celestialName(){return Celestials[this._parent.celestial].displayName}}class jh extends w{constructor(e,t){super(e),this._celestial=t,this._lines=e.lines.map((e=>new Yh(e,this)))}get bits(){return player.celestials[this._celestial].quoteBits}set bits(e){player.celestials[this._celestial].quoteBits=e}get requirement(){var e,t;return null===(e=(t=this.config).requirement)||void 0===e?void 0:e.call(t)}get celestial(){return this._celestial}line(e){return this._lines[e]}get totalLines(){return this._lines.length}show(){this.unlock()}onUnlock(){this.present()}present(){qh.addToQueue(this)}}function Wh(){return{teresa:mapGameDataToObject(GameDatabase.celestials.quotes.teresa,(e=>new jh(e,"teresa"))),effarig:mapGameDataToObject(GameDatabase.celestials.quotes.effarig,(e=>new jh(e,"effarig"))),enslaved:mapGameDataToObject(GameDatabase.celestials.quotes.enslaved,(e=>new jh(e,"enslaved"))),v:mapGameDataToObject(GameDatabase.celestials.quotes.v,(e=>new jh(e,"v"))),ra:mapGameDataToObject(GameDatabase.celestials.quotes.ra,(e=>new jh(e,"ra"))),laitela:mapGameDataToObject(GameDatabase.celestials.quotes.laitela,(e=>new jh(e,"laitela"))),pelle:mapGameDataToObject(GameDatabase.celestials.quotes.pelle,(e=>new jh(e,"pelle")))}}const Xh={timePoured:0,lastUnlock:"effarig",pouredAmountCap:1e24,displayName:"Тереза",possessiveName:"Терезы",get isUnlocked(){return Achievement(147).isUnlocked},pourRM(e){if(this.pouredAmount>=Xh.pouredAmountCap)return;this.timePoured+=e;const t=Currency.realityMachines.value,i=Math.min(.01*(this.pouredAmount+1e6)*Math.pow(this.timePoured,2),t.toNumber());this.pouredAmount+=Math.min(i,Xh.pouredAmountCap-this.pouredAmount),Currency.realityMachines.subtract(i),this.checkForUnlocks()},checkForUnlocks(){for(const e of Qh.all)e.unlock()},initializeRun(){clearCelestialRuns(),player.celestials.teresa.run=!0},rewardMultiplier(e){return Decimal.max(Decimal.pow(e.plus(1).log10()/15e7,12),1).toNumber()},get pouredAmount(){return player.celestials.teresa.pouredAmount},set pouredAmount(e){player.celestials.teresa.pouredAmount=e},get fill(){return Math.min(Math.log10(this.pouredAmount)/24,1)},get possibleFill(){return Math.min(Currency.realityMachines.value.plus(this.pouredAmount).log10()/24,1)},get rmMultiplier(){return Math.max(250*Math.pow(this.pouredAmount/1e24,.1),1)},get runRewardMultiplier(){return this.rewardMultiplier(player.celestials.teresa.bestRunAM)},get isRunning(){return player.celestials.teresa.run},get runCompleted(){return player.celestials.teresa.bestRunAM.gt(1)},get quotes(){return Wh().teresa},symbol:"Ϟ"};class zh extends I{constructor(e){super(e),this.costCap=e.costCap}get currency(){return Currency.perkPoints}get boughtAmount(){return player.celestials.teresa.perkShop[this.id]}set boughtAmount(e){player.celestials.teresa.perkShop[this.id]=e}get isCapped(){return this.cost===this.costCap(this.bought)}get isAvailableForPurchase(){const e=!this.config.otherReq||this.config.otherReq();return this.cost<=this.currency.value&&e}onPurchased(){if(0===this.id&&GameCache.staticGlyphWeights.invalidate(),1===this.id&&Autobuyer.reality.bumpAmount(2),4!==this.id||Pelle.isDoomed||(0===GameCache.glyphInventorySpace.value?(Currency.perkPoints.add(1),GameUI.notify.error("Все ячейки инвентаря заняты!")):(Glyphs.addToInventory(GlyphGenerator.musicGlyph()),GameUI.notify.success("Создан музыкальный глиф"))),5===this.id&&!Pelle.isDoomed){const e=GameCache.glyphInventorySpace.value;for(let t=0;t<e;t++)Glyphs.addToInventory(GlyphGenerator.musicGlyph());GameUI.notify.success(`${pluralize("Создан",e)} ${quantifyInt("музыкальный глиф",e)}`)}}}class Kh extends w{get bits(){return player.celestials.teresa.unlockBits}set bits(e){player.celestials.teresa.unlockBits=e}get price(){return this.config.price}get pelleDisabled(){return Pelle.isDoomed&&this.config.isDisabledInDoomed}get isEffectActive(){return!this.pelleDisabled}get canBeUnlocked(){return!this.isUnlocked&&Xh.pouredAmount>=this.price}get description(){return"function"===typeof this.config.description?this.config.description():this.config.description}onUnlock(){var e,t;null===(e=(t=this.config).onUnlock)||void 0===e||e.call(t)}}const Qh=mapGameDataToObject(Ia.celestials.teresa.unlocks,(e=>new Kh(e))),Jh=mapGameDataToObject(Ia.celestials.perkShop,(e=>new zh(e)));EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{Tab.celestials.teresa.isOpen&&Xh.quotes.initial.show()})),EventHub.logic.on(GAME_EVENT.GAME_LOAD,(()=>Xh.checkForUnlocks()));const Zh={INFINITY:1,ETERNITY:2,REALITY:3,COMPLETED:4},ep={displayName:"Эффариг",possessiveName:"Эффарига",initializeRun(){clearCelestialRuns(),player.celestials.effarig.run=!0,recalculateAllGlyphs(),Tab.reality.glyphs.show(!1)},get isRunning(){return player.celestials.effarig.run},get currentStage(){return ip.infinity.isUnlocked?ip.eternity.isUnlocked?ip.reality.isUnlocked?Zh.COMPLETED:Zh.REALITY:Zh.ETERNITY:Zh.INFINITY},get currentStageName(){switch(this.currentStage){case Zh.INFINITY:return"Бесконечность";case Zh.ETERNITY:return"Вечность";case Zh.REALITY:default:return"Реальность"}},get eternityCap(){return this.isRunning&&this.currentStage===Zh.ETERNITY?v.E50:void 0},get glyphLevelCap(){switch(this.currentStage){case Zh.INFINITY:return 100;case Zh.ETERNITY:return 1500;case Zh.REALITY:default:return 2e3}},get glyphEffectAmount(){const e=Glyphs.activeWithoutCompanion.filter((e=>generatedTypes.includes(e.type))).reduce(((e,t)=>e|t.effects),0),t=Glyphs.activeWithoutCompanion.filter((e=>!generatedTypes.includes(e.type))).reduce(((e,t)=>e|t.effects),0);return countValuesFromBitmask(e)+countValuesFromBitmask(t)},get shardsGained(){return TeresaUnlocks.effarig.canBeApplied?Math.floor(Math.pow(Currency.eternityPoints.exponent/7500,this.glyphEffectAmount))*AlchemyResource.effarig.effectValue:0},get maxRarityBoost(){return 5*Math.log10(Math.log10(Currency.relicShards.value+10))},nerfFactor(e){let t;switch(this.currentStage){case Zh.INFINITY:t=1500;break;case Zh.ETERNITY:t=29.29;break;case Zh.REALITY:default:t=25;break}return 3*(1-t/(t+Math.sqrt(e.pLog10())))},get tickDilation(){return.7+.1*this.nerfFactor(Currency.timeShards.value)},get multDilation(){return.25+.25*this.nerfFactor(Currency.infinityPower.value)},get tickspeed(){const e=3+Tickspeed.baseValue.reciprocal().log10();return Decimal.pow10(Math.pow(e,this.tickDilation)).reciprocal()},multiplier(e){const t=new Decimal(e).pLog10();return Decimal.pow10(Math.pow(t,this.multDilation))},get bonusRG(){return Math.floor(replicantiCap().pLog10()/LOG10_MAX_VALUE-1)},get quotes(){return Wh().effarig},symbol:"Ϙ"};class tp extends w{get bits(){return player.celestials.effarig.unlockBits}set bits(e){player.celestials.effarig.unlockBits=e}get cost(){return this.config.cost}get isEffectActive(){return!Pelle.isDisabled("effarig")}purchase(){var e,t;!this.isUnlocked&&Currency.relicShards.purchase(this.cost)&&(this.unlock(),null===(e=(t=this.config).onPurchased)||void 0===e||e.call(t))}}const ip=mapGameDataToObject(Ia.celestials.effarig.unlocks,(e=>new tp(e)));EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{Tab.celestials.effarig.isOpen&&ep.quotes.initial.show()})),EventHub.logic.on(GAME_EVENT.BIG_CRUNCH_BEFORE,(()=>{ep.isRunning&&ep.quotes.completeInfinity.show()})),EventHub.logic.on(GAME_EVENT.ETERNITY_RESET_BEFORE,(()=>{ep.isRunning&&ep.quotes.completeEternity.show()}));const ap={FREE_TICKSPEED_SOFTCAP:{id:0,price:TimeSpan.fromYears(1e35).totalMilliseconds,secondaryRequirement:()=>!0,description:()=>`Отсрочить вторую наценку на ускорители от Осколков Времени на ${formatInt(1e5)}`},RUN:{id:1,price:TimeSpan.fromYears(1e40).totalMilliseconds,secondaryRequirement(){const e=player.records.bestReality.glyphLevel>=5e3,t=strengthToRarity(player.records.bestReality.glyphStrength)>=100;return e&&t},description(){const e=player.records.bestReality.glyphLevel>=5e3,t=strengthToRarity(player.records.bestReality.glyphStrength)>=100;return`Разблокировать Реальность Безымянных (требуется ${e?"[✓]":"[✗]"} глиф уровня хотя бы\n      ${formatInt(5e3)} и ${t?"[✓]":"[✗]"} глиф редкости ${formatRarity(100)})`}}},np={displayName:"Безымянные",possessiveName:"Безымянных",boostReality:!1,BROKEN_CHALLENGES:[2,3,4,5,7,8,10,11,12],nextTickDiff:50,isReleaseTick:!1,autoReleaseTick:0,autoReleaseSpeed:0,timeCap:1e300,glyphLevelMin:5e3,currentBlackHoleStoreAmountPerMs:0,tachyonNerf:.3,toggleStoreBlackHole(){this.canModifyGameTimeStorage&&(player.celestials.enslaved.isStoring=!player.celestials.enslaved.isStoring,player.celestials.enslaved.isStoringReal=!1)},toggleStoreReal(){(this.canModifyRealTimeStorage||this.isStoredRealTimeCapped)&&(player.celestials.enslaved.isStoringReal=!player.celestials.enslaved.isStoringReal,player.celestials.enslaved.isStoring=!1)},toggleAutoStoreReal(){this.canModifyRealTimeStorage&&(player.celestials.enslaved.autoStoreReal=!player.celestials.enslaved.autoStoreReal)},get canModifyGameTimeStorage(){return np.isUnlocked&&!Pelle.isDoomed&&!BlackHoles.arePaused&&!EternityChallenge(12).isRunning&&!np.isRunning&&!Laitela.isRunning},get canModifyRealTimeStorage(){return np.isUnlocked&&!Pelle.isDoomed},get isStoredRealTimeCapped(){return player.celestials.enslaved.storedReal<this.storedRealTimeCap},get isStoringGameTime(){return this.canModifyGameTimeStorage&&(this.isAutoReleasing||player.celestials.enslaved.isStoring)},get isStoringRealTime(){return this.canModifyRealTimeStorage&&player.celestials.enslaved.isStoringReal},get storedRealTimeEfficiency(){return.7},get storedRealTimeCap(){const e=Ra.unlocks.improvedStoredTime.effects.realTimeCap.effectOrDefault(0);return 288e5+e},get isAutoReleasing(){return player.celestials.enslaved.isAutoReleasing&&!BlackHoles.areNegative&&!Pelle.isDisabled("blackhole")},storeRealTime(){if(Pelle.isDoomed)return;const e=Date.now(),t=Math.max(e-player.lastUpdate,0),i=this.storedRealTimeEfficiency,a=this.storedRealTimeCap;player.celestials.enslaved.storedReal+=t*i,player.celestials.enslaved.storedReal>a&&(player.celestials.enslaved.isStoringReal=!1,player.celestials.enslaved.storedReal=a),player.celestials.enslaved.storedReal>864e5&&SecretAchievement(46).unlock(),player.lastUpdate=e},autoStoreRealTime(e){const t=this.storedRealTimeCap-player.celestials.enslaved.storedReal,i=Math.min(e,Math.max(0,t/this.storedRealTimeEfficiency));return player.celestials.enslaved.storedReal+=i*this.storedRealTimeEfficiency,player.lastUpdate+=i,e-i},canRelease(e){return!np.isStoringRealTime&&!EternityChallenge(12).isRunning&&!Laitela.isRunning&&!(np.isRunning&&e)&&!Pelle.isDoomed},useStoredTime(e){if(!this.canRelease(e))return;const t=player.requirementChecks.reality.slowestBH<=1e-300;if(ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&t)return void(e||ImaginaryUpgrade(24).tryShowWarningModal("разрядить Чёрную Дыру"));player.requirementChecks.reality.slowestBH=1;let i=player.celestials.enslaved.stored;np.isRunning&&(i=np.storedTimeInsideEnslaved(i),Time.thisReality.totalYears+TimeSpan.fromMilliseconds(i).totalYears>1&&rp.storedTime.giveProgress()),e&&(i*=.01),this.nextTickDiff=Math.clampMax(i,this.timeCap),this.isReleaseTick=!0;const a=i/50;player.celestials.ra.peakGamespeed=Math.max(player.celestials.ra.peakGamespeed,a),this.autoReleaseSpeed=i/player.options.updateRate/5,player.celestials.enslaved.stored*=e?.99:0},has(e){return player.celestials.enslaved.unlocks.includes(e.id)},canBuy(e){return player.celestials.enslaved.stored>=e.price&&e.secondaryRequirement()&&!this.has(e)},buyUnlock(e){return!!this.canBuy(e)&&(e.id===ap.RUN.id&&this.quotes.unlockRun.show(),player.celestials.enslaved.stored-=e.price,player.celestials.enslaved.unlocks.push(e.id),!0)},initializeRun(){clearCelestialRuns(),player.celestials.enslaved.run=!0,player.celestials.enslaved.hasSecretStudy=!1,this.feltEternity=!1,this.quotes.startRun.show()},get isRunning(){return player.celestials.enslaved.run},completeRun(){player.celestials.enslaved.completed=!0,this.quotes.completeReality.show()},get isCompleted(){return player.celestials.enslaved.completed},get canTickHintTimer(){return!rp.hintsUnlocked.hasProgress&&np.has(ap.RUN)&&!np.isCompleted},get isUnlocked(){return EffarigUnlock.eternity.isUnlocked},get realityBoostRatio(){return Math.max(1,Math.floor(player.celestials.enslaved.storedReal/Math.max(1e3,Time.thisRealityRealTime.totalMilliseconds)))},get canAmplify(){return this.realityBoostRatio>1&&!Pelle.isDoomed&&!isInCelestialReality()},storedTimeInsideEnslaved(e){return e<=1e3?e:1e3*Math.pow(10,Math.pow(Math.log10(e/1e3),.55))},feelEternity(){this.feltEternity?Modal.message.show(`Вы уже нашли эту трещину. Фактическая длительность текущей вечности\n        умножается на ваше количество вечностей с ограничением в ${formatX(1e66)}.`,{closeEvent:GAME_EVENT.REALITY_RESET_AFTER},1):(rp.feelEternity.giveProgress(),this.feltEternity=!0,Modal.message.show(`Фактическая длительность текущей вечности будет умножаться на ваше количество вечностей\n        с ограничением в ${formatX(1e66)}.`,{closeEvent:GAME_EVENT.REALITY_RESET_AFTER},1))},get feltEternity(){return player.celestials.enslaved.feltEternity},set feltEternity(e){player.celestials.enslaved.feltEternity=e},get nextHintCost(){return TimeSpan.fromYears(1e40*Math.pow(3,this.hintCostIncreases)).totalMilliseconds},get hintCostIncreases(){const e=player.celestials.enslaved.zeroHintTime-Date.now();return Math.clampMin(e/TimeSpan.fromDays(1).totalMilliseconds,0)},spendTimeForHint(){return!(player.celestials.enslaved.stored<this.nextHintCost)&&(player.celestials.enslaved.stored-=this.nextHintCost,0===np.hintCostIncreases?player.celestials.enslaved.zeroHintTime=Date.now()+TimeSpan.fromDays(1).totalMilliseconds:player.celestials.enslaved.zeroHintTime+=TimeSpan.fromDays(1).totalMilliseconds,!0)},get quotes(){return Wh().enslaved},symbol:""};class sp extends w{get bits(){return player.celestials.enslaved.hintBits}set bits(e){player.celestials.enslaved.hintBits=e}get hasProgress(){return Boolean(player.celestials.enslaved.progressBits&1<<this.id)}get hasHint(){return this.hasProgress||this.isUnlocked}get hintInfo(){return this.config.hint}get completedInfo(){return"function"===typeof this.config.condition?this.config.condition():this.config.condition}giveProgress(){this.hasHint&&!this.hasProgress&&(player.celestials.enslaved.zeroHintTime-=Math.log(2)/Math.log(3)*TimeSpan.fromDays(1).totalMilliseconds,GameUI.notify.success("Вы нашли трещину в Реальности Безымянных!",1e4)),player.celestials.enslaved.progressBits|=1<<this.id}}const rp=mapGameDataToObject(Ia.celestials.enslaved.progress,(e=>new sp(e))),op={get bought(){return player.celestials.enslaved.tesseracts},get extra(){return this.bought*(SingularityMilestone.tesseractMultFromSingularities.effectOrDefault(1)-1)},get effectiveCount(){return this.bought+this.extra},buyTesseract(){this.canBuyTesseract&&(GameEnd.creditsEverClosed||player.celestials.enslaved.tesseracts++)},BASE_COSTS:[2,4,6,12,48,288,2304,23040,276480,3870720,61931520,1114767360],costs(e){return e>=this.BASE_COSTS.length?Decimal.pow10(Number.MAX_VALUE):Decimal.pow10(1e7*this.BASE_COSTS[Math.floor(e)])},get nextCost(){return this.costs(this.bought)},get canBuyTesseract(){return np.isCompleted&&Currency.infinityPoints.gte(op.nextCost)},capIncrease(e=this.bought){const t=e*SingularityMilestone.tesseractMultFromSingularities.effectOrDefault(1),i=t<1?0:25e4*Math.pow(2,t);return i*(AlchemyResource.boundless.effectValue+1)},get nextTesseractIncrease(){return this.capIncrease(this.bought+1)-this.capIncrease(this.bought)}};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{Tab.celestials.enslaved.isOpen&&np.quotes.initial.show()}));const lp={officialFixedSeed:69420,unlock(){player.speedrun.isUnlocked||(Modal.message.show("Вы разблокировали режим спидрана! Теперь вы можете начать новый забег с небольшими\n      изменениями, которые полезны, если вы стараетесь завершить игру как можно скорее. Опция\n      начала спидрана теперь доступна в этой вкладке. Если вы решите начать спидран,\n      всплывёт другое окно с более подробной информацией.",{},3),player.speedrun.isUnlocked=!0)},canModifySeed(){return player.realities<1},modifySeed(e,t){let i;switch(player.speedrun.seedSelection=e,e){case SPEEDRUN_SEED_STATE.FIXED:return player.reality.initialSeed=this.officialFixedSeed,void(player.speedrun.initialSeed=this.officialFixedSeed);case SPEEDRUN_SEED_STATE.RANDOM:return i=Math.floor(1e13*Math.random()),player.reality.initialSeed=i,void(player.speedrun.initialSeed=i);case SPEEDRUN_SEED_STATE.PLAYER:return player.reality.initialSeed=t,void(player.speedrun.initialSeed=t);default:throw new Error("Unrecognized speedrun seed setting option")}},seedModeText(e){const t=null!==e&&void 0!==e?e:player.speedrun;switch(t.seedSelection){case SPEEDRUN_SEED_STATE.UNKNOWN:return"Данные о зерне отсутствуют (старое сохранение)";case SPEEDRUN_SEED_STATE.FIXED:return`Официально утверждённое зерно (${t.initialSeed})`;case SPEEDRUN_SEED_STATE.RANDOM:return`Случайное зерно (${t.initialSeed})`;case SPEEDRUN_SEED_STATE.PLAYER:return`Зерно по выбору игрока (${t.initialSeed})`;default:throw new Error("Unrecognized speedrun seed option in seedModeText")}},generateName(e){if(""===e.trim()){const e=Math.floor(9999999*Math.random())+1;return`Игрок ИА №${"0".repeat(6-Math.floor(Math.log10(e)))}${e}`}return e.length>40?`${e.slice(0,37)}...`:e},prepareSave(e){NG.restartWithCarryover(),player.speedrun.isUnlocked=!0,player.speedrun.isActive=!0,this.modifySeed(SPEEDRUN_SEED_STATE.FIXED),player.speedrun.name=e;for(const t of Object.keys(player.options.confirmations))player.options.confirmations[t]=!1;player.options.confirmations.glyphSelection=!0;for(const t of Object.keys(player.options.animations))"boolean"===typeof player.options.animations[t]&&(player.options.animations[t]=!1);Achievement(22).unlock(),Achievement(35).unlock(),Achievement(76).unlock(),player.speedrun.offlineTimeUsed=0,GameStorage.save()},startTimer(){if(player.speedrun.hasStarted)return;player.speedrun.hasStarted=!0,player.speedrun.startDate=Date.now(),player.lastUpdate=Date.now();let e=0;for(const t of ShopPurchase.all)t.config.instantPurchase||(e+=t.purchases*t.cost);this.setSTDUse(ShopPurchaseData.isIAPEnabled&&e>0)},isPausedAtStart(){return player.speedrun.isActive&&!player.speedrun.hasStarted},setSegmented(e){this.isPausedAtStart()||(player.speedrun.isSegmented=e)},setSTDUse(e){this.isPausedAtStart()||0===ShopPurchaseData.spentSTD||(player.speedrun.usedSTD=e)},mostRecentMilestone(){const e=player.speedrun.records.max();return 0===e?0:player.speedrun.records.indexOf(e)}};class cp extends k{constructor(e){super(e),this.registerEvents(e.checkEvent,(e=>this.tryComplete(e)))}get name(){return this.config.name}get isReached(){return 0!==player.speedrun.records[this.config.id]}tryComplete(e){this.config.checkRequirement(e)&&this.complete()}complete(){!this.isReached&&player.speedrun.isActive&&(player.speedrun.records[this.config.id]=Math.round(player.records.realTimePlayed),GameUI.notify.success(`Достигнута стадия спидрана: ${this.name}`))}}const up=cp.createAccessor(Ia.speedrunMilestones);class dp extends k{get completions(){const e=player.celestials.v.runUnlocks[this.id];return void 0===e?0:e}get conditionBaseValue(){const e=this.config.values[this.completions];return void 0===e?this.config.values[this.completions-1]:e}get canBeReduced(){return this.completions<this.config.values.length&&0!==this.completions&&new Decimal(this.reduction).neq(this.config.maxShardReduction(this.conditionBaseValue))}get isReduced(){return 0!==player.celestials.v.goalReductionSteps[this.id]&&(yp.shardReduction.canBeApplied&&this.reduction>0)}get reductionCost(){const e=this.config.reductionStepSize?this.config.reductionStepSize:1;if(this.config.isHard){const t=(Math.pow(1.15,e)-1)/.15;return t*fp.nextHardReductionCost(player.celestials.v.goalReductionSteps[this.id])}return e*fp.nextNormalReductionCost()}get tiersReduced(){return player.celestials.v.goalReductionSteps[this.id]/100}get reduction(){const e=this.conditionBaseValue;return Math.clamp(this.config.shardReduction(this.tiersReduced),0,this.config.maxShardReduction(e))}get conditionValue(){let e=this.conditionBaseValue;return this.isReduced?(e-=this.reduction,e):e}get formattedDescription(){return this.config.description(this.conditionValue)}set completions(e){player.celestials.v.runUnlocks[this.id]=e}tryComplete(){const e=player.celestials.v,t=this.config.currentValue();this.config.condition()&&Decimal.gte(t,e.runRecords[this.id])&&(e.runRecords[this.id]=t,e.runGlyphs[this.id]=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e))));while(this.completions<this.config.values.length&&Decimal.gte(e.runRecords[this.id],this.conditionValue))if(fp.isFlipped||!this.config.isHard){this.completions++,GameUI.notify.success(`Вы выполнили\n        ${formatInt(this.completions)}-й уровень достижения Ви "${this.config.name}"`),fp.updateTotalRunUnlocks();for(const e of fp.quotes.all)e.requirement&&e.show()}}}class hp extends w{get bits(){return player.celestials.v.unlockBits}set bits(e){player.celestials.v.unlockBits=e}get pelleDisabled(){return Pelle.isDoomed&&this!==yp.vAchievementUnlock}get isEffectActive(){return this.isUnlocked&&!this.pelleDisabled}get description(){return"function"===typeof this.config.description?this.config.description():this.config.description}get rewardText(){return"function"===typeof this.config.reward?this.config.reward():this.config.reward}get canBeUnlocked(){return this.config.requirement()&&!this.isUnlocked}get formattedEffect(){return this.config.effect&&this.config.format?this.config.format(this.effectValue):""}onUnlock(){GameUI.notify.success(this.description)}}const pp=dp.createAccessor(Ia.celestials.v.runUnlocks),mp={all:pp.index.compact()},yp=mapGameDataToObject(Ia.celestials.v.unlocks,(e=>new hp(e))),fp={displayName:"Ви",possessiveName:"Ви",spaceTheorems:0,checkForUnlocks(){for(const e of yp.all)e!==yp.vAchievementUnlock&&e.unlock();if(this.isRunning){for(const e of mp.all)e.tryComplete();this.spaceTheorems>=36&&up(22).tryComplete()}yp.raUnlock.canBeApplied&&!Ra.unlocks.autoTP.canBeApplied&&Ra.checkForUnlocks()},get canUnlockCelestial(){return yp.vAchievementUnlock.canBeUnlocked},unlockCelestial(){player.celestials.v.unlockBits|=1<<yp.vAchievementUnlock.id,GameUI.notify.success("Вы разблокировали Ви, Небожителя Достижений!",1e4),fp.quotes.unlock.show()},initializeRun(){clearCelestialRuns(),player.celestials.v.run=!0,this.quotes.realityEnter.show()},updateTotalRunUnlocks(){let e=0;for(let t=0;t<player.celestials.v.runUnlocks.length;t++)e+=t<6?player.celestials.v.runUnlocks[t]:2*player.celestials.v.runUnlocks[t];this.spaceTheorems=e},reset(){player.celestials.v={unlockBits:0,run:!1,quotes:[],runUnlocks:[0,0,0,0,0,0,0,0,0],goalReductionSteps:[0,0,0,0,0,0,0,0,0],STSpent:0,runGlyphs:[[],[],[],[],[],[],[],[],[]],runRecords:[-10,0,0,0,0,0,0,0,0]},this.spaceTheorems=0},get availableST(){return fp.spaceTheorems-player.celestials.v.STSpent},get isRunning(){return player.celestials.v.run},get isFlipped(){return Ra.unlocks.unlockHardV.isUnlocked},get isFullyCompleted(){return this.spaceTheorems>=66},nextNormalReductionCost(){return 1e3},nextHardReductionCost(e){return 1e3*Math.pow(1.15,e)},get quotes(){return Wh().v},symbol:"⌬"};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{Tab.celestials.v.isOpen&&fp.quotes.initial.show()}));class gp extends w{get bits(){return player.celestials.ra.unlockBits}set bits(e){player.celestials.ra.unlockBits=e}get disabledByPelle(){return Pelle.isDoomed&&this.config.disabledByPelle}get isEffectActive(){return this.isUnlocked&&!this.disabledByPelle}get reward(){return"function"===typeof this.config.reward?this.config.reward():this.config.reward}get displayIcon(){return this.disabledByPelle?'<span class="fas fa-ban"></span>':this.config.displayIcon}get pet(){return Tp.pets[this.config.pet]}get level(){return this.config.level}get canBeUnlocked(){return this.pet.level>=this.level&&!this.isUnlocked}onUnlock(){var e,t;null===(e=(t=this.config).onUnlock)||void 0===e||e.call(t)}}const bp=mapGameDataToObject(GameDatabase.celestials.ra.unlocks,(e=>new gp(e)));class vp extends k{get data(){return player.celestials.ra.pets[this.id]}get name(){return this.config.name}get nameNormal(){return this.config.nameNormal}get chunkGain(){return this.config.chunkGain}get memoryGain(){return this.config.memoryGain}get color(){return this.config.color}get requiredUnlock(){var e,t;return null===(e=(t=this.config).requiredUnlock)||void 0===e?void 0:e.call(t)}get rawMemoryChunksPerSecond(){return this.config.rawMemoryChunksPerSecond()}get memoryProductionMultiplier(){return this.config.memoryProductionMultiplier()}get isUnlocked(){return void 0===this.requiredUnlock||this.requiredUnlock.isUnlocked}get isCapped(){return this.level>=Tp.levelCap}get level(){return this.isUnlocked?this.data.level:0}set level(e){this.data.level=e}get memories(){return this.data.memories}set memories(e){this.data.memories=e}get memoryChunks(){return this.data.memoryChunks}set memoryChunks(e){this.data.memoryChunks=e}get requiredMemories(){return Tp.requiredMemoriesForLevel(this.level)}get memoryChunksPerSecond(){if(!this.canGetMemoryChunks)return 0;let e=this.rawMemoryChunksPerSecond*this.chunkUpgradeCurrentMult*Effects.product(Tp.unlocks.continuousTTBoost.effects.memoryChunks,GlyphSacrifice.reality);return this.hasRemembrance?e*=Tp.remembrance.multiplier:Tp.petWithRemembrance&&(e*=Tp.remembrance.nerf),e}get canGetMemoryChunks(){return this.isUnlocked&&Tp.isRunning}get hasRemembrance(){return Tp.petWithRemembrance===this.name}get memoryUpgradeCurrentMult(){return Math.pow(1.3,this.data.memoryUpgrades)}get chunkUpgradeCurrentMult(){return Math.pow(1.5,this.data.chunkUpgrades)}get memoryUpgradeCost(){return 1e3*Math.pow(5,this.data.memoryUpgrades)}get chunkUpgradeCost(){return 5e3*Math.pow(25,this.data.chunkUpgrades)}get canBuyMemoryUpgrade(){return this.memoryUpgradeCost<=this.memories}get canBuyChunkUpgrade(){return this.chunkUpgradeCost<=this.memories}get memoryUpgradeCapped(){return this.memoryUpgradeCost>=.5*Tp.requiredMemoriesForLevel(Tp.levelCap-1)}get chunkUpgradeCapped(){return this.chunkUpgradeCost>=.5*Tp.requiredMemoriesForLevel(Tp.levelCap-1)}purchaseMemoryUpgrade(){this.canBuyMemoryUpgrade&&!this.memoryUpgradeCapped&&(this.memories-=this.memoryUpgradeCost,this.data.memoryUpgrades++)}purchaseChunkUpgrade(){this.canBuyChunkUpgrade&&!this.chunkUpgradeCapped&&(this.memories-=this.chunkUpgradeCost,this.data.chunkUpgrades++)}levelUp(){this.memories<this.requiredMemories||(this.memories-=this.requiredMemories,this.level++,Tp.checkForUnlocks())}get unlocks(){return Tp.unlocks.all.filter((e=>e.pet===this)).sort(((e,t)=>e.level-t.level))}tick(e,t){const i=e/1e3,a=t?i*this.memoryChunksPerSecond:0,n=i*(this.memoryChunks+a/2)*Tp.productionPerMemoryChunk*this.memoryUpgradeCurrentMult;this.memoryChunks+=a,this.memories+=n}reset(){this.data.level=1,this.data.memories=0,this.data.memoryChunks=0,this.data.memoryUpgrades=0,this.data.chunkUpgrades=0}}const Ep=mapGameDataToObject(GameDatabase.celestials.ra.pets,(e=>new vp(e))),Tp={displayName:"Ра",possessiveName:"Ра",unlocks:bp,pets:Ep,remembrance:{multiplier:5,nerf:.5,requiredLevels:20,get isUnlocked(){return Tp.totalPetLevel>=this.requiredLevels}},reset(){const e=player.celestials.ra;e.unlockBits=0,e.run=!1,e.charged=new Set,e.disCharge=!1,e.peakGamespeed=1;for(const t of Tp.pets.all)t.reset()},memoryTick(e,t){if(this.isUnlocked)for(const i of Tp.pets.all)i.tick(e,t)},get productionPerMemoryChunk(){let e=Effects.product(Tp.unlocks.continuousTTBoost.effects.memories,Achievement(168));for(const t of Tp.pets.all)t.isUnlocked&&(e*=t.memoryProductionMultiplier);return e},get memoryBoostResources(){const e=[];for(const t of Tp.pets.all)1!==t.memoryProductionMultiplier&&e.push(t.memoryGain);return Tp.unlocks.continuousTTBoost.canBeApplied&&e.push("количества ТВ"),1===e.length?`${e[0]}`:`${e.slice(0,-1).join(", ")} и ${e[e.length-1]}`},requiredMemoriesForLevel(e){if(e>=Tp.levelCap)return 1/0;const t=e+Math.pow(e,2)/10,i=Math.pow(1.5,Math.max(0,e-15));return Math.floor(Math.pow(t,5.52)*i*1e6)},timeToGoalString(e,t){const i=Enslaved.isStoringRealTime?0:Tp.productionPerMemoryChunk*e.memoryUpgradeCurrentMult*e.memoryChunksPerSecond/2,a=Tp.productionPerMemoryChunk*e.memoryUpgradeCurrentMult*e.memoryChunks,n=-t,s=0===i?-n/a:(Math.sqrt(Math.pow(a,2)-4*i*n)-a)/(2*i);return Number.isFinite(s)?`через ${TimeSpan.fromSeconds(s).toStringShort()}`:""},get totalPetLevel(){return this.pets.all.map((e=>e.isUnlocked?e.level:0)).sum()},get levelCap(){return 25},get maxTotalPetLevel(){return this.levelCap*this.pets.all.length},checkForUnlocks(){if(VUnlocks.raUnlock.canBeApplied){for(const e of Tp.unlocks.all)e.unlock();Tp.checkForQuotes()}},checkForQuotes(){for(const e of Tp.quotes.all)e.requirement&&e.show()},initializeRun(){clearCelestialRuns(),player.celestials.ra.run=!0,this.quotes.realityEnter.show()},toggleMode(){player.celestials.ra.activeMode=!player.celestials.ra.activeMode},theoremBoostFactor(){return Math.min(10,Math.max(0,Currency.timeTheorems.value.pLog10()-350)/50)},get isUnlocked(){return V.spaceTheorems>=36},get isRunning(){return player.celestials.ra.run},get totalCharges(){return Tp.unlocks.chargedInfinityUpgrades.effectOrDefault(0)},get chargesLeft(){return this.totalCharges-player.celestials.ra.charged.size},get canBuyTriad(){return Tp.unlocks.unlockHardV.canBeApplied},get petWithRemembrance(){return player.celestials.ra.petWithRemembrance},set petWithRemembrance(e){player.celestials.ra.petWithRemembrance=e},updateAlchemyFlow(e){const t=1e3/e;for(const i of AlchemyResources.all)i.ema.addValue((i.amount-i.before)*t),i.before=i.amount},applyAlchemyReactions(e){if(!Tp.unlocks.effarigUnlock.canBeApplied)return;const t=AlchemyReactions.all.compact().sort(((e,t)=>t.priority-e.priority));for(const i of t)i.combineReagents();this.updateAlchemyFlow(e)},get alchemyResourceCap(){return 25e3},get momentumValue(){const e=TimeSpan.fromMilliseconds(player.celestials.ra.momentumTime).totalHours;return Math.clampMax(1+.005*e,AlchemyResource.momentum.effectValue)},get quotes(){return Wh().ra},symbol:"<i class='fas fa-sun'></i>"},_p={get additionThreshold(){return 1e36},get empowermentThreshold(){return 1e43},get boostingThreshold(){return 1e60},getSacrificePower(e){if(Pelle.isDisabled("alteration"))return 0;const t=player.reality.glyphs.sac[e];if(void 0===t)throw new Error("Unknown sacrifice type");return t},get isUnlocked(){return!Pelle.isDisabled("alteration")&&Tp.unlocks.alteredGlyphs.canBeApplied},isAdded(e){return this.isUnlocked&&this.getSacrificePower(e)>=this.additionThreshold},isEmpowered(e){return this.isUnlocked&&this.getSacrificePower(e)>=this.empowermentThreshold},isBoosted(e){return this.isUnlocked&&this.getSacrificePower(e)>=this.boostingThreshold},sacrificeBoost(e){const t=Math.clampMax(this.getSacrificePower(e),GlyphSacrificeHandler.maxSacrificeForEffects);return Math.log10(Math.clampMin(t/this.boostingThreshold,1))/2},baseAdditionColor(e=Theme.current().isDark()){return e?"#CCCCCC":"black"},baseEmpowermentColor(e=Theme.current().isDark()){return e?"#EEEE30":"#C6C610"},baseBoostColor(e=Theme.current().isDark()){return e?"#60DDDD":"#28BDBD"},getAdditionColor(e){const t="black"===CosmeticGlyphTypes[e].currentColor.bg;return this.isAdded(e)?this.baseAdditionColor(t):void 0},getEmpowermentColor(e){const t="black"===CosmeticGlyphTypes[e].currentColor.bg;return this.isEmpowered(e)?this.baseEmpowermentColor(t):void 0},getBoostColor(e){const t="black"===CosmeticGlyphTypes[e].currentColor.bg;return this.isBoosted(e)?this.baseBoostColor(t):void 0}};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{Tab.celestials.ra.isOpen&&Tp.quotes.unlock.show()}));class Cp extends k{constructor(e){super(e),this.ema=new ExponentialMovingAverage(.01,10,100,.01),this._before=0}get name(){return this.config.name}get symbol(){return this.config.symbol}get description(){return this.config.description}get isBaseResource(){return!0===this.config.isBaseResource}get data(){return player.celestials.ra.alchemy[this.id]}get amount(){return this.data.amount}set amount(e){this.data.amount=e}get before(){return this._before}set before(e){this._before=e}get flow(){return this.ema.average}get fillFraction(){return Math.clamp(this.amount/this.cap,0,1)}get unlockedWith(){return Ra.pets.effarig}get unlockedAt(){return this.config.unlockedAt}get isUnlocked(){return this.unlockedWith.level>=this.unlockedAt}get lockText(){return`${formatInt(this.unlockedAt)}-й Уровень Эффарига`}get isCustomEffect(){return!0}get effectValue(){return V.isRunning&&14===this.config.id?0:this.config.effect(Pelle.isDisabled("alchemy")?0:this.amount)}get reaction(){return Rp.all[this.id]}get cap(){throw new NotImplementedError}get capped(){return this.amount>=this.cap}}class Ap extends Cp{constructor(e){super(e),this._name=Object.keys(ft).find((t=>ft[t].name===e.name))}get highestRefinementValue(){return player.celestials.ra.highestRefinementValue[this._name]}set highestRefinementValue(e){player.celestials.ra.highestRefinementValue[this._name]=Math.max(this.highestRefinementValue,e)}get cap(){return Math.clampMax(Ra.alchemyResourceCap,this.highestRefinementValue)}}class kp extends Cp{get cap(){const e=this.reaction.reagents.map((e=>e.resource.cap));return Math.min(...e)}}class wp{constructor(e,t){this._product=e,this._reagents=t}get product(){return this._product}get reagents(){return this._reagents}get reactionYield(){if(!this._product.isUnlocked||this._reagents.some((e=>!e.resource.isUnlocked)))return 0;const e=(this._reagents.map((e=>e.resource.amount)).min()-this._product.amount)/100,t=this._reagents.map((e=>e.resource.amount/e.cost)).min();return Math.min(t,Math.max(e,1))}get actualYield(){const e=this.baseProduction*this.reactionYield*this.reactionEfficiency,t=this._product.amount,i=t+e;let a=this.reactionYield;for(const n of this._reagents){const e=n.resource.amount,s=n.resource.amount-this.reactionYield*n.cost,r=e-t,o=s-i;a=Math.min(a,this.reactionYield*r/(r-o))}return Math.clampMin(a,0)}get priority(){let e=Glyphs.levelCap;for(const t of this._reagents){const i=t.resource.amount-t.cost*this.actualYield;e=Math.min(e,i)}return e}get isActive(){return this._product.data.reaction}set isActive(e){this._product.data.reaction=e}get isReality(){return this._product.id===ALCHEMY_RESOURCE.REALITY}get baseProduction(){return this.isReality?1:5}get reactionEfficiency(){return this.isReality?1:Sp.synergism.effectValue}get reactionProduction(){return this.baseProduction*this.reactionEfficiency}combineReagents(){if(!this.isActive||0===this.reactionYield)return;const e=Sp.unpredictability.effectValue,t=1+poissonDistribution(e/(1-e)),i=this._product.cap;for(let a=0;a<t;a++){const e=this.actualYield;for(const i of this._reagents)i.resource.amount-=e*i.cost;const t=Math.clampMin(e*this.reactionProduction,.05);this._product.amount=Math.clampMax(this._product.amount+t,i)}}}const Sp=mapGameDataToObject(GameDatabase.celestials.alchemy.resources,(e=>e.isBaseResource?new Ap(e):new kp(e))),xp={all:Sp.all,base:Sp.all.filter((e=>e.isBaseResource))},Rp=function(){function e(e){return e.config.reagents.map((e=>({resource:xp.all.find((t=>t.id===e.resource)),cost:e.amount})))}return{all:xp.all.map((t=>t.isBaseResource?null:new wp(t,e(t))))}}();class Ip{constructor(e,t){this._tier=t,this._getData=e}get tier(){return this._tier}get data(){return this._getData()[this.tier-1]}get amount(){return this.data.amount}set amount(e){this.data.amount=e}get bought(){return this.data.bought}set bought(e){this.data.bought=e}get productionPerSecond(){throw new NotImplementedError}get productionPerRealSecond(){return this.productionPerSecond.times(getGameSpeedupForDisplay())}productionForDiff(e){return this.productionPerSecond.times(e/1e3)}produceCurrency(e,t){e.add(this.productionForDiff(t))}produceDimensions(e,t){e.amount=e.amount.plus(this.productionForDiff(t))}static get dimensionCount(){return 8}static createAccessor(){const e=Array.range(1,this.dimensionCount).map((e=>new this(e)));e.unshift(null);const t=t=>e[t];return t.index=e,t}}const Mp=5,Dp=10,Pp=[1.65,1.6,1.55,1.5],Up=10,Gp=10,Np=10,Bp=.92,Op=500,Lp=500,$p=1200;class Hp extends Ip{constructor(e){super((()=>player.celestials.laitela.dimensions),e)}get productionPerSecond(){return 1e3*this.powerDE/this.interval}get unlockUpgrade(){return ImaginaryUpgrade(this.tier+14)}get isUnlocked(){return this.unlockUpgrade.isBought}get ascensions(){return this.data.ascensionCount}get intervalPurchaseCap(){return 10}get rawInterval(){const e=Bp,t=Math.pow(4,this.tier-1);return 1e3*t*Math.pow(e,this.data.intervalUpgrades)*Math.pow(SingularityMilestone.ascensionIntervalScaling.effectOrDefault(1200),this.ascensions)*SingularityMilestone.darkDimensionIntervalReduction.effectOrDefault(1)}get interval(){return Math.clampMin(this.intervalPurchaseCap,this.rawInterval)}get commonDarkMult(){return v.D1.timesEffectsOf(SingularityMilestone.darkFromTesseracts,SingularityMilestone.darkFromGlyphLevel,SingularityMilestone.darkFromTheorems,SingularityMilestone.darkFromDM4,SingularityMilestone.darkFromGamespeed,SingularityMilestone.darkFromDilatedTime)}get powerDMPerAscension(){return Op+SingularityMilestone.improvedAscensionDM.effectOrDefault(0)}get powerDM(){return this.isUnlocked?new Decimal(1+2*Math.pow(1.15,this.data.powerDMUpgrades)).times(Laitela.realityReward).times(Laitela.darkMatterMult).times(this.commonDarkMult).times(Math.pow(this.powerDMPerAscension,this.ascensions)).timesEffectsOf(SingularityMilestone.darkMatterMult,SingularityMilestone.multFromInfinitied).dividedBy(Math.pow(1e4,Math.pow(this.tier-1,.5))):new Decimal(0)}get powerDE(){if(!this.isUnlocked||Pelle.isDoomed)return 0;const e=Math.pow(15,this.tier-1),t=Laitela.isFullyDestabilized?8:1;return new Decimal((1+.1*this.data.powerDEUpgrades)*Math.pow(1.005,this.data.powerDEUpgrades)*e/1e3).times(this.commonDarkMult).times(Math.pow(Lp,this.ascensions)).timesEffectsOf(SingularityMilestone.darkEnergyMult,SingularityMilestone.realityDEMultiplier,SingularityMilestone.multFromInfinitied).toNumber()*t}get intervalAfterAscension(){const e=Decimal.affordGeometricSeries(Currency.darkMatter.value,this.rawIntervalCost,this.intervalCostIncrease,0).toNumber();return Math.clampMin(this.intervalPurchaseCap,SingularityMilestone.ascensionIntervalScaling.effectOrDefault(1200)*this.rawInterval*Math.pow(Bp,e))}get adjustedStartingCost(){const e=[null,0,2,5,13];return 10*Math.pow($p,e[this.tier])*SingularityMilestone.darkDimensionCostReduction.effectOrDefault(1)}get rawIntervalCost(){return Decimal.pow(this.intervalCostIncrease,this.data.intervalUpgrades).times(this.adjustedStartingCost).times(Up)}get intervalCost(){return this.rawIntervalCost.floor()}get intervalCostIncrease(){return Math.pow(Mp,SingularityMilestone.intervalCostScalingReduction.effectOrDefault(1))}get rawPowerDMCost(){return Decimal.pow(this.powerDMCostIncrease,this.data.powerDMUpgrades).times(this.adjustedStartingCost).times(Gp)}get powerDMCost(){return this.rawPowerDMCost.floor()}get powerDMCostIncrease(){return Dp}get rawPowerDECost(){return Decimal.pow(this.powerDECostIncrease,this.data.powerDEUpgrades).times(this.adjustedStartingCost).times(Np)}get powerDECost(){return this.rawPowerDECost.floor()}get powerDECostIncrease(){return Pp[this.tier-1]}get timeSinceLastUpdate(){return this.data.timeSinceLastUpdate}set timeSinceLastUpdate(e){this.data.timeSinceLastUpdate=e}get canBuyInterval(){return Currency.darkMatter.gte(this.intervalCost)&&this.interval>this.intervalPurchaseCap}get canBuyPowerDM(){return Currency.darkMatter.gte(this.powerDMCost)}get canBuyPowerDE(){return Currency.darkMatter.gte(this.powerDECost)}get maxIntervalPurchases(){return Math.ceil(Math.log(this.intervalPurchaseCap/this.interval)/Math.log(Bp))}buyManyInterval(e){if(e>this.maxIntervalPurchases)return!1;const t=this.rawIntervalCost.times(Decimal.pow(this.intervalCostIncrease,e).minus(1)).div(this.intervalCostIncrease-1).floor();return!!Currency.darkMatter.purchase(t)&&(this.data.intervalUpgrades+=e,!0)}buyManyPowerDM(e){const t=this.rawPowerDMCost.times(Decimal.pow(this.powerDMCostIncrease,e).minus(1)).div(this.powerDMCostIncrease-1).floor();return!!Currency.darkMatter.purchase(t)&&(this.data.powerDMUpgrades+=e,!0)}buyManyPowerDE(e){const t=this.rawPowerDECost.times(Decimal.pow(this.powerDECostIncrease,e).minus(1)).div(this.powerDECostIncrease-1).floor();return!!Currency.darkMatter.purchase(t)&&(this.data.powerDEUpgrades+=e,!0)}buyInterval(){return this.buyManyInterval(1)}buyPowerDM(){return this.buyManyPowerDM(1)}buyPowerDE(){return this.buyManyPowerDE(1)}ascend(){if(!(this.interval>this.intervalPurchaseCap)){this.data.ascensionCount++;while(this.buyInterval());}}static get dimensionCount(){return 4}reset(){this.data.amount=v.D1,this.data.intervalUpgrades=0,this.data.powerDMUpgrades=0,this.data.powerDEUpgrades=0,this.data.timeSinceLastUpdate=0,this.data.ascensionCount=0}}const Fp=Hp.createAccessor(),qp={all:Fp.index.compact(),tick(e){if(Laitela.isUnlocked){for(let t=4;t>=1;t--){const i=Fp(t);if(i.isUnlocked&&(i.timeSinceLastUpdate+=e,i.interval<i.timeSinceLastUpdate)){const e=Math.floor(i.timeSinceLastUpdate/i.interval),a=i.amount.times(e).times(i.powerDM);1===t?Currency.darkMatter.add(a):Fp(t-1).amount=Fp(t-1).amount.plus(a),Currency.darkEnergy.add(e*i.powerDE),i.timeSinceLastUpdate-=i.interval*e}}SingularityMilestone.dim4Generation.canBeApplied&&Laitela.annihilationUnlocked&&(Fp(4).amount=Fp(4).amount.plus(SingularityMilestone.dim4Generation.effectValue*e/1e3))}},reset(){for(const e of qp.all)e.reset();Currency.darkMatter.reset()}},Vp={displayName:"Лайтела",possessiveName:"Лайтелы",get celestial(){return player.celestials.laitela},get isUnlocked(){return ImaginaryUpgrade(15).isBought},initializeRun(){clearCelestialRuns(),this.celestial.run=!0},get isRunning(){return this.celestial.run},get difficultyTier(){return player.celestials.laitela.difficultyTier},set difficultyTier(e){player.celestials.laitela.difficultyTier=e},get maxAllowedDimension(){return 8-this.difficultyTier},get isFullyDestabilized(){return 0===Vp.maxAllowedDimension},get continuumUnlocked(){return ImaginaryUpgrade(15).isBought&&!Pelle.isDisabled("continuum")},get continuumActive(){return this.continuumUnlocked&&!player.auto.disableContinuum&&!Pelle.isDisabled("continuum")},setContinuum(e){player.auto.disableContinuum=!e,player.auto.disableContinuum||(player.requirementChecks.reality.noContinuum=!1)},get matterExtraPurchaseFactor(){return 1+.5*Math.pow(Decimal.pLog10(Currency.darkMatter.max)/50,.4)*(1+SingularityMilestone.continuumMult.effectOrDefault(0))},get realityReward(){return Math.clampMin(Math.pow(100,this.difficultyTier)*Math.pow(360/player.celestials.laitela.fastestCompletion,2),1)},get entropyGainPerSecond(){return Math.clamp(Math.pow(Currency.antimatter.value.add(1).log10()/1e11,2),0,100)/200},get darkMatterMultGain(){return Decimal.pow(Currency.darkMatter.value.dividedBy(this.annihilationDMRequirement).plus(1).log10(),1.5).toNumber()*ImaginaryUpgrade(21).effectOrDefault(1)},get darkMatterMult(){return this.celestial.darkMatterMult},get darkMatterMultRatio(){return(this.celestial.darkMatterMult+this.darkMatterMultGain)/this.celestial.darkMatterMult},get annihilationUnlocked(){return ImaginaryUpgrade(19).isBought},get annihilationDMRequirement(){return 1e60},get canAnnihilate(){return Vp.annihilationUnlocked&&Currency.darkMatter.gte(this.annihilationDMRequirement)},annihilate(e){return!(!e&&!this.canAnnihilate)&&(this.celestial.darkMatterMult+=this.darkMatterMultGain,qp.reset(),Vp.quotes.annihilation.show(),Achievement(176).unlock(),!0)},maxAllDMDimensions(e){const t=qp.all.filter((t=>t.isUnlocked&&t.tier<=e)),i=t.map((e=>[[e.rawIntervalCost,e.intervalCostIncrease,e.maxIntervalPurchases,t=>e.buyManyInterval(t)],[e.rawPowerDMCost,e.powerDMCostIncrease,1/0,t=>e.buyManyPowerDM(t)],[e.rawPowerDECost,e.powerDECostIncrease,1/0,t=>e.buyManyPowerDE(t)]])).flat(1),a=function(e,t){e[3](t),e[0]=e[0].times(Decimal.pow(e[1],t)),e[2]-=t},n=Currency.darkMatter.value;for(const s of i){const e=Math.clamp(Math.floor(n.times(.02).div(s[0]).log(s[1])),0,s[2]);a(s,e)}while(i.some((e=>e[0].lte(n)&&e[2]>0))){const e=i.filter((e=>e[2]>0)).sort(((e,t)=>e[0].minus(t[0]).sign()))[0];a(e,1)}},reset(){this.annihilate(!0),this.celestial.darkMatterMult=1,Currency.darkMatter.max=v.D1,Currency.darkMatter.reset(),Currency.singularities.reset(),this.celestial.fastestCompletion=3600,this.celestial.difficultyTier=0,this.celestial.singularityCapIncreases=0},get quotes(){return Wh().laitela},symbol:"ᛝ"};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{Tab.celestials.laitela.isOpen&&Vp.quotes.unlock.show()}));class Yp extends k{constructor(e){const t=e.effect,i=al([{},e]);i.effect=()=>t(this.completions),super(i),this._rawEffect=t}get start(){return this.config.start}get repeat(){return this.config.repeat}get limit(){return this.config.limit}get isUnique(){return 0===this.repeat}get isUnlocked(){return Currency.singularities.gte(this.start)}get increaseThreshold(){return this.config.increaseThreshold}nerfCompletions(e){const t=this.increaseThreshold;return!t||e<t?e:t+(e-t)/3}unnerfCompletions(e){const t=this.increaseThreshold;return!t||e<t?e:t+3*(e-t)}get previousGoal(){return this.isUnique?1:this.isUnlocked?this.start*Math.pow(this.repeat,this.unnerfCompletions(this.completions)-1):0}get nextGoal(){return this.isUnique?this.start:this.start*Math.pow(this.repeat,this.unnerfCompletions(this.completions+1)-1)}get rawCompletions(){return this.isUnique?this.isUnlocked?1:0:this.isUnlocked?1+(Math.log(Currency.singularities.value)-Math.log(this.start))/Math.log(this.repeat):0}get completions(){return Math.min(Math.floor(this.nerfCompletions(this.rawCompletions)),this.limit)}get remainingSingularities(){return this.nextGoal-Currency.singularities.value}get progressToNext(){const e=(Currency.singularities.value-this.previousGoal)/this.nextGoal;return formatPercents(Math.clampMax(e,1))}get isMaxed(){return this.isUnique&&this.isUnlocked||this.completions>=this.limit}get effectDisplay(){return this.config.effectFormat(this.effectValue)}get nextEffectDisplay(){return this.config.effectFormat(this._rawEffect(this.completions+1))}get description(){return this.config.description(this.completions)}get canBeApplied(){return this.isUnlocked&&!Pelle.isDisabled("singularity")}}const jp=mapGameDataToObject(GameDatabase.celestials.singularityMilestones,(e=>new Yp(e))),Wp={all:jp.all,lastNotified:player.celestials.laitela.lastCheckedMilestones,get sorted(){return this.all.sort(((e,t)=>e.remainingSingularities-t.remainingSingularities))},sortedForCompletions(e){const t=player.celestials.laitela.singularitySorting;let i,a;switch(t.sortResource){case SINGULARITY_MILESTONE_SORT.SINGULARITIES_TO_NEXT:i=e=>e.isMaxed?1+Math.log10(e.isUnique?e.nextGoal:e.previousGoal)/1e3:Math.log10(e.remainingSingularities)/100;break;case SINGULARITY_MILESTONE_SORT.CURRENT_COMPLETIONS:i=e=>{const t=Math.clampMin(e.previousGoal,1),i=Math.clamp(Math.log(Currency.singularities.value/t)/Math.log(e.nextGoal/t),0,1);return(e.completions+i)/20};break;case SINGULARITY_MILESTONE_SORT.PERCENT_COMPLETIONS:i=e=>{const t=Number.isFinite(e.limit)?e.limit:100,i=Math.log(Currency.singularities.value/e.previousGoal)/Math.log(e.nextGoal/e.previousGoal);return Math.clampMax((e.completions+i)/t,1)+(Number.isFinite(e.limit)?0:1)};break;case SINGULARITY_MILESTONE_SORT.FINAL_COMPLETION:i=e=>{const t=Number.isFinite(e.limit)?e.limit:50;return Math.log10(e.config.start*Math.pow(e.config.repeat,t-1))/100};break;case SINGULARITY_MILESTONE_SORT.MOST_RECENT:i=e=>e.isUnlocked?Math.log10(e.isUnique?e.nextGoal:e.previousGoal)/100:1+Math.log10(e.start)/1e3;break;default:throw new Error("Unrecognized Singularity Milestone sorting option (order)")}switch(t.showCompleted){case COMPLETED_MILESTONES.FIRST:a=10;break;case COMPLETED_MILESTONES.LAST:a=-10;break;case COMPLETED_MILESTONES.IGNORED:a=0;break;default:throw new Error("Unrecognized Singularity Milestone sorting option (completed milestones)")}const n=t=>t.previousGoal>player.celestials.laitela.lastCheckedMilestones&&e?20:0,s=e=>(e.isMaxed?a:0)+(t.sortOrder?i(e):-i(e))+n(e);return this.sorted.sort(((e,t)=>s(t)-s(e)))},get nextMilestoneGroup(){return this.sortedForCompletions(!1).filter((e=>!e.isMaxed)).slice(0,6)},get unseenMilestones(){const e=player.celestials.laitela;return Xp.filter((t=>t>e.lastCheckedMilestones&&Currency.singularities.gte(t)))},get unnotifiedMilestones(){return Xp.filter((e=>e>this.lastNotified&&Currency.singularities.gte(e)))}},Xp=function(){return Wp.all.map((e=>Array.range(0,Math.min(50,e.limit)).filter((t=>!e.increaseThreshold||t<=e.increaseThreshold||t>e.increaseThreshold&&(t-e.increaseThreshold)%3===2)).map((t=>e.start*Math.pow(e.repeat,t))))).flat(1/0).filter((e=>e<1e100)).sort(((e,t)=>e-t))}(),zp={get cap(){return 200*Math.pow(10,player.celestials.laitela.singularityCapIncreases)},get gainPerCapIncrease(){return jp.improvedSingularityCap.effectOrDefault(11)},get singularitiesGained(){return Math.floor(Math.pow(this.gainPerCapIncrease,player.celestials.laitela.singularityCapIncreases)*jp.singularityMult.effectOrDefault(1)*(1+ImaginaryUpgrade(10).effectOrDefault(0)))},get timePerCondense(){return this.cap/Currency.darkEnergy.productionPerSecond},get timeUntilCap(){return(this.cap-Currency.darkEnergy.value)/Currency.darkEnergy.productionPerSecond},get timeDelayFromAuto(){return this.timePerCondense*(jp.autoCondense.effectOrDefault(1/0)-1)},get capIsReached(){return Currency.darkEnergy.gte(this.cap)},increaseCap(){player.celestials.laitela.singularityCapIncreases>=50||player.celestials.laitela.singularityCapIncreases++},decreaseCap(){0!==player.celestials.laitela.singularityCapIncreases&&player.celestials.laitela.singularityCapIncreases--},perform(){if(this.capIsReached&&!Pelle.isDoomed){EventHub.dispatch(GAME_EVENT.SINGULARITY_RESET_BEFORE),Currency.darkEnergy.reset(),Currency.singularities.add(this.singularitiesGained);for(const e of Laitela.quotes.all)e.requirement&&e.show();EventHub.dispatch(GAME_EVENT.SINGULARITY_RESET_AFTER)}}};EventHub.logic.on(GAME_EVENT.GAME_LOAD,(()=>Wp.lastNotified=Currency.singularities.value)),EventHub.logic.on(GAME_EVENT.SINGULARITY_RESET_AFTER,(()=>{const e=Wp.unnotifiedMilestones.length;0!==e&&(1===e?GameUI.notify.blackHole("Вы достигли нового Этапа Сингулярности!"):GameUI.notify.blackHole(`Вы достигли ${quantifyInt("нового Этапа",e)} Сингулярности!`),Wp.lastNotified=Currency.singularities.value)}));const Kp={chars:{0:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈́","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],1:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],2:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͏","͜","͝","͞","͟","͠","͢","̸","̷","͡","҉"]},random(e,t){if(1==e)return 0;const i=66669*t%981/997;return e?Math.floor(i*e+1)-1:i},generate(e,t=0){const i=e.split("");let a=i.reduce(((e,t)=>e+t.charCodeAt(0)),0);return i.map((e=>{if(" "==e)return e;for(let i=0;i<t;i++){const t=Kp.random(3,a++);Kp.random(10,a++)/10>=.5&&(e+=Kp.chars[t][Kp.random(Kp.chars[t].length,a++)])}return e})).join("")}},Qp=Kp.generate,Jp={achievements:()=>({}),IPMults:()=>({}),EPMults:()=>({}),galaxies:()=>({}),InfinitiedMults:()=>({}),infinitiedGen:()=>({}),eternityGain:()=>({}),eternityMults:()=>({}),studies:()=>({}),EPgen:()=>({}),autoec:()=>({}),replicantiIntervalMult:()=>({}),tpMults:()=>({}),glyphs:()=>!PelleRifts.vacuum.milestones[0].canBeApplied,V:()=>({}),singularity:()=>({}),continuum:()=>({}),alchemy:()=>({}),achievementMult:()=>({}),blackhole:()=>({}),effarig:()=>({}),imaginaryUpgrades:()=>({}),glyphsac:()=>({}),antimatterDimAutobuyer1:()=>im.antimatterDimAutobuyers1,antimatterDimAutobuyer2:()=>im.antimatterDimAutobuyers1,antimatterDimAutobuyer3:()=>im.antimatterDimAutobuyers1,antimatterDimAutobuyer4:()=>im.antimatterDimAutobuyers1,antimatterDimAutobuyer5:()=>im.antimatterDimAutobuyers2,antimatterDimAutobuyer6:()=>im.antimatterDimAutobuyers2,antimatterDimAutobuyer7:()=>im.antimatterDimAutobuyers2,antimatterDimAutobuyer8:()=>im.antimatterDimAutobuyers2,tickspeedAutobuyer:()=>im.tickspeedAutobuyer,dimBoostAutobuyer:()=>im.dimBoostAutobuyer,galaxyAutobuyer:()=>im.galaxyAutobuyer,timeTheoremAutobuyer:()=>({}),rupg10:()=>({}),dtMults:()=>({}),chargedInfinityUpgrades:()=>({}),alteration:()=>({}),timeTheorems:()=>({})},Zp={symbol:"♅",possessiveName:"Пелля",initializeRun(){if(this.isDoomed)return void Zp.armageddon(!0);if(Glyphs.harshAutoClean(),!Glyphs.unequipAll())return Modal.hideAll(),void Modal.message.show("При Обречении Реальности глифы должны быть деактивированы,\n        но для этого в инвентаре оказалось недостаточно свободных ячеек.",1);if(Glyphs.harshAutoClean(),Glyphs.freeInventorySpace<5)return Modal.hideAll(),void Modal.message.show(`При Обречении Реальности у вас в инвентаре должно быть\n        ${formatInt(5)} свободных незащищённых ячеек для новых глифов.`,1);for(const a of BASIC_GLYPH_TYPES)Glyphs.addToInventory(GlyphGenerator.doomedGlyph(a));Glyphs.refreshActive(),player.options.confirmations.glyphReplace=!0,player.reality.automator.state.repeat=!1,player.reality.automator.state.forceRestart=!1,BlackHoles.arePaused&&BlackHoles.togglePause(),player.celestials.pelle.doomed=!0,Zp.armageddon(!1),respecTimeStudies(!0),dl.infinityPoints.reset(),player.IPMultPurchases=0,Autobuyer.bigCrunch.mode=AUTO_CRUNCH_MODE.AMOUNT,disChargeAll(),clearCelestialRuns(),player.auto.antimatterDims.isActive=!0,player.buyUntil10=!0,player.records.realTimeDoomed=0;for(const a of AlchemyResources.all)a.amount=0;AutomatorBackend.stop();const e=-2&1<<GameDatabase.tabs.find((e=>"shop"===e.key)).id;player.options.hiddenTabBits&=e;const t=["statistics","achievements","reality","celestials"],i=GameDatabase.tabs.filter((e=>t.includes(e.key))).map((e=>e.id));for(let a=0;a<GameDatabase.tabs.length;a++)player.options.hiddenSubtabBits[a]&=i.includes(a)?-1:0;Zp.quotes.initial.show(),GameStorage.save(!0)},get displayName(){return Date.now()%4e3>500?"Пелль":$e.randomCrossWords("Пелль")},get isUnlocked(){return ImaginaryUpgrade(25).isBought},isDisabled(e){if(!this.isDoomed)return!1;if(!e)return!0;if(!Jp[e])return console.error(`Mechanic ${e} isn't present in the disabledMechanicUnlocks!`),!0;const t=Jp[e]();return"boolean"===typeof t?t:Boolean(!t.canBeApplied)},get canArmageddon(){return this.remnantsGain>=1},armageddon(e){!this.canArmageddon&&e||(EventHub.dispatch(GAME_EVENT.ARMAGEDDON_BEFORE,e),e&&(this.cel.remnants+=this.remnantsGain),finishProcessReality({reset:!0,armageddon:!0}),disChargeAll(),player.celestials.enslaved.isStoringReal=!1,player.celestials.enslaved.autoStoreReal=!1,PelleStrikes.dilation.hasStrike&&(player.dilation.active=!0),EventHub.dispatch(GAME_EVENT.ARMAGEDDON_AFTER,e))},gameLoop(e){this.isDoomed&&(dl.realityShards.add(this.realityShardGainPerSecond.times(e).div(1e3)),PelleRifts.all.forEach((t=>t.fill(e))))},get cel(){return player.celestials.pelle},get isDoomed(){return this.cel.doomed},get disabledAchievements(){return[164,156,143,142,141,137,134,133,132,131,126,125,118,117,116,113,111,104,103,95,93,92,91,87,85,78,76,74,65,55,54,37]},get uselessInfinityUpgrades(){return["passiveGen","ipMult","infinitiedGeneration"]},get uselessTimeStudies(){return[32,33,41,51,61,62,121,122,123,141,142,143,192,213]},get disabledRUPGs(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,19,20,22,23,24]},get uselessPerks(){return[10,12,13,14,15,16,17,30,40,41,42,43,44,45,46,51,52,53,60,61,62,80,81,82,83,100,103,104,105,106,201,202,203,204]},get specialGlyphEffect(){const e=this.isDoomed&&PelleRifts.chaos.milestones[1].canBeApplied,t=this.getSpecialGlyphEffectDescription(this.activeGlyphType),i=t=>e&&this.activeGlyphType===t;return{isUnlocked:e,description:t,infinity:i("infinity")&&player.challenge.eternity.current<=8?dl.infinityPoints.value.plus(1).pow(.2):v.D1,time:i("time")?dl.eternityPoints.value.plus(1).pow(.3):v.D1,replication:i("replication")?10**(53**PelleRifts.vacuum.percentage):1,dilation:i("dilation")?Decimal.pow(player.dilation.totalTachyonGalaxies,1.5).max(1):v.D1,power:i("power")?1.02:1,companion:i("companion")?1.34:1,isScaling:()=>["infinity","time","replication","dilation"].includes(this.activeGlyphType)}},getSpecialGlyphEffectDescription(e){switch(e){case"infinity":return`Множитель ${player.challenge.eternity.current<=8?formatX(dl.infinityPoints.value.plus(1).pow(.2),2):formatX(v.D1,2)} к получению Очков Бесконечности (зависит от количества ОБ)`;case"time":return`Множитель ${formatX(dl.eternityPoints.value.plus(1).pow(.3),2)}\n          к получению Очков Вечности (зависит от количества ОВ)`;case"replication":return`Множитель ${formatX(10**(53**PelleRifts.vacuum.percentage),2)}         к скорости репликации (зависит от заполнения ${$e.wordCycle(["Вакуума","Полости","Пустоты"])})`;case"dilation":return`Множитель ${formatX(Decimal.pow(player.dilation.totalTachyonGalaxies,1.5).max(1),2)}\n          к производству Замедленного Времени (зависит от количества Тахионных Галктик)`;case"power":return`Галактики на ${formatPercents(.02)} сильнее`;case"companion":return`Вы чувствуете себя на ${formatPercents(.34)} лучше`;case void 0:return"No Glyph equipped!";default:return"Нельзя активировать этот глиф в Обречении!"}},get remnantRequirementForDilation(){return 38e6},get canDilateInPelle(){return this.cel.remnants>=this.remnantRequirementForDilation},resetResourcesForDilation(){this.cel.records.totalAntimatter=new Decimal("1e180000"),this.cel.records.totalInfinityPoints=new Decimal("1e60000"),dl.eternityPoints.reset(),this.cel.records.totalEternityPoints=new Decimal("1e1050")},get remnantsGain(){let e=this.cel.records.totalAntimatter.plus(1).log10(),t=this.cel.records.totalInfinityPoints.plus(1).log10(),i=this.cel.records.totalEternityPoints.plus(1).log10();PelleStrikes.dilation.hasStrike&&(e*=500,t*=10,i*=5);const a=((Math.log10(e+2)+Math.log10(t+2)+Math.log10(i+2))/1.64)**7.5;return Math.floor(a-this.cel.remnants)},realityShardGain(e){return Decimal.pow(10,e**(1/7.5)*4).minus(1).div(1e3)},get realityShardGainPerSecond(){return this.realityShardGain(this.cel.remnants)},get nextRealityShardGain(){return this.realityShardGain(this.remnantsGain+this.cel.remnants)},get riftDrainPercent(){return.03},get glyphMaxLevel(){return im.glyphLevels.effectValue},get glyphStrength(){return 1},antimatterDimensionMult(e){return Decimal.pow(10,Math.log10(e+1)+e**5.1/1e3+4**e/1e19)},get activeGlyphType(){var e;return null===(e=Glyphs.active.filter(Boolean)[0])||void 0===e?void 0:e.type},get hasGalaxyGenerator(){return player.celestials.pelle.galaxyGenerator.unlocked},transitionText(e,t,i=0){const a=Math.round(1e8*(e.length*(1-i)+t.length*i))/1e8,n=a*(1-i);let s=n,r="";for(let o=0;o<a;o++)if(o>=s){const e=Math.floor(o*(t.length/a));r+=t[e],s+=n}else{const t=Math.floor(o*(e.length/a));r+=e[t]}return Qp(r,Math.floor(i**2*7))},endTabNames:"Конец близок . Разрушение неизбежно . Помоги . Прощай навсегда ё".split(" "),get quotes(){return Wh().pelle}};EventHub.logic.on(GAME_EVENT.ARMAGEDDON_AFTER,(()=>{dl.remnants.gte(1)&&Zp.quotes.arm.show()})),EventHub.logic.on(GAME_EVENT.PELLE_STRIKE_UNLOCKED,(()=>{PelleStrikes.infinity.hasStrike&&Zp.quotes.strike1.show(),PelleStrikes.powerGalaxies.hasStrike&&Zp.quotes.strike2.show(),PelleStrikes.eternity.hasStrike&&Zp.quotes.strike3.show(),PelleStrikes.ECs.hasStrike&&Zp.quotes.strike4.show(),PelleStrikes.dilation.hasStrike&&Zp.quotes.strike5.show()}));class em extends I{get currency(){return dl.realityShards}get boughtAmount(){return player.celestials.pelle.rebuyables[this.id]}set boughtAmount(e){player.celestials.pelle.rebuyables[this.id]=e}get isCapped(){return this.boughtAmount>=this.config.cap}get isCustomEffect(){return!0}get effectValue(){return this.config.effect(this.boughtAmount)}onPurchased(){"glyphLevels"===this.id&&EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)}}class tm extends x{get set(){return player.celestials.pelle.upgrades}get currency(){return dl.realityShards}get description(){return this.config.description}get cost(){return this.config.cost}get isAvailableForPurchase(){return Zp.isDoomed}}const im=mapGameDataToObject(GameDatabase.celestials.pelle.upgrades,(e=>e.rebuyable?new em(e):new tm(e)));im.rebuyables=im.all.filter((e=>e.isRebuyable)),im.singles=im.all.filter((e=>!e.isRebuyable)).sort(((e,t)=>e.cost-t.cost));class am extends w{get bits(){return player.celestials.pelle.progressBits}set bits(e){player.celestials.pelle.progressBits=e}get hasStrike(){return this.isUnlocked}get canBeUnlocked(){return Pelle.isDoomed&&!this.hasStrike}get requirement(){const e=this.config.requirementDescription;return"function"===typeof e?e():e}get penalty(){const e=this.config.penaltyDescription;return"function"===typeof e?e():e}reward(){return this.config.rewardDescription()}get rift(){return this.config.rift()}trigger(){this.unlock()}onUnlock(){GameUI.notify.strike(`Удар Пелля: ${this.requirement}`),player.celestials.pelle.collapsed.rifts=!1,5===this.id&&Pelle.resetResourcesForDilation(),Tab.celestials.pelle.show(),EventHub.dispatch(GAME_EVENT.PELLE_STRIKE_UNLOCKED)}}const nm=mapGameDataToObject(GameDatabase.celestials.pelle.strikes,(e=>new am(e)));var sm=i(3772);class rm extends k{constructor(...e){super(...e),(0,sm.A)(this,"lastChecked",!1)}get requirement(){return this.config.requirement}get resource(){return this.config.resource}checkMilestoneState(){var e,t;this.lastChecked!==this.isUnlocked&&(null===(e=(t=this.config).onStateChange)||void 0===e||e.call(t));this.lastChecked=this.isUnlocked}get isUnlocked(){return!("decay"!==this.resource||!lm.chaos.milestones[0].isEffectActive)||this.requirement<=lm[this.resource].percentage}get isEffectActive(){return this.isUnlocked}get description(){const e=this.config.description;return"function"===typeof e?e():e}get formattedEffect(){return!!this.canBeApplied&&this.config.formatEffect(this.effectValue)}}class om extends k{constructor(e){super(e),this._milestones=this.config.milestones.map((e=>new rm(e)))}get fillCurrency(){return this.config.currency()}get strike(){return this.config.strike()}get canBeApplied(){return this.strike.hasStrike}get name(){return this.config.name}get reducedTo(){return this.rift.reducedTo}set reducedTo(e){this.rift.reducedTo=e}get rift(){return player.celestials.pelle.rifts[this.config.key]}get totalFill(){return this.rift.fill}set totalFill(e){this.rift.fill=e}get isActive(){return this.rift.active}get realPercentage(){return this.config.percentage(this.totalFill)}get spentPercentage(){return this.rift.percentageSpent||0}get percentage(){return this.reducedTo>1?this.reducedTo:this.config.spendable?Math.min(this.config.percentage(this.totalFill)-this.spentPercentage,this.reducedTo):Math.min(this.realPercentage,this.reducedTo)}get milestones(){return this._milestones}get description(){return this.config.description}get drainResource(){return this.config.drainResource}get effects(){var e,t,i;const a=this.config.baseEffect(this.effectValue),n=null!==(e=null===(t=(i=this.config).additionalEffects)||void 0===t?void 0:t.call(i).map((e=>e.formattedEffect)))&&void 0!==e?e:[];return[a,...n]}get isCustomEffect(){return!0}get effectValue(){return this.config.effect(this.config.percentageToFill(this.percentage))}get maxValue(){return this.config.percentageToFill(1+this.spentPercentage)}get isMaxed(){return this.percentage>=1}get galaxyGeneratorText(){return this.config.galaxyGeneratorText}toggle(){const e=lm.all.filter((e=>e.isActive)).length;this.isActive||2!==e?this.rift.active=!this.rift.active:GameUI.notify.error("Одновременно можно заполнять не более двух Разломов!")}checkMilestoneStates(){this.milestones.forEach((e=>e.checkMilestoneState()))}fill(e){if(this.isActive&&this.isMaxed)this.rift.active=!1;else if(this.isActive&&!this.isMaxed){if(this.fillCurrency.value instanceof Decimal){if(this.fillCurrency.value.lte(1))return;const t=this.fillCurrency.value.times((1-Pelle.riftDrainPercent)**(e/1e3)),i=this.fillCurrency.value.minus(t);this.fillCurrency.value=this.fillCurrency.value.minus(i).max(1),this.totalFill=this.totalFill.plus(i).min(this.maxValue)}else{const t=this.fillCurrency.value*(1-Pelle.riftDrainPercent)**(e/1e3),i=this.fillCurrency.value-t;this.fillCurrency.value=Math.max(this.fillCurrency.value-i,0),this.totalFill=Math.clampMax(this.totalFill+i,this.maxValue)}lm.vacuum.milestones[0].canBeApplied&&Glyphs.refreshActive(),this.checkMilestoneStates()}}}const lm=mapGameDataToObject(GameDatabase.celestials.pelle.rifts,(e=>new om(e)));lm.totalMilestones=()=>lm.all.flatMap((e=>e.milestones)).countWhere((e=>e.canBeApplied));const cm={hasReturnedGlyphSlot:!1,get generationCaps(){return lm.all.map((e=>({rift:e.config.key,cap:e.config.galaxyGeneratorThreshold}))).sort(((e,t)=>e.cap-t.cap))},get spentGalaxies(){return player.celestials.pelle.galaxyGenerator.spentGalaxies},get generatedGalaxies(){return player.celestials.pelle.galaxyGenerator.generatedGalaxies},get galaxies(){return this.generatedGalaxies-this.spentGalaxies},get gainPerSecond(){return Pelle.hasGalaxyGenerator?new Decimal(dm.additive.effectValue).timesEffectsOf(dm.multiplicative,dm.antimatterMult,dm.IPMult,dm.EPMult).toNumber():0},get capObj(){return this.generationCaps[player.celestials.pelle.galaxyGenerator.phase]},get generationCap(){return this.capObj?this.capObj.cap:1/0},get capRift(){var e;return lm[null===(e=this.capObj)||void 0===e?void 0:e.rift]},get isCapped(){return this.generationCap===this.generatedGalaxies},get sacrificeActive(){return player.celestials.pelle.galaxyGenerator.sacrificeActive},startSacrifice(){player.celestials.pelle.collapsed.rifts=!1,player.celestials.pelle.galaxyGenerator.sacrificeActive=!0},loop(e){if(this.isCapped&&Pelle.quotes.galaxyGeneratorRifts.show(),this.sacrificeActive){if(this.capRift.reducedTo=Math.max(this.capRift.reducedTo-.03*e/1e3,0),0===this.capRift.reducedTo){player.celestials.pelle.galaxyGenerator.sacrificeActive=!1,player.celestials.pelle.galaxyGenerator.phase++;const e=player.celestials.pelle.galaxyGenerator.phase;1===e?Pelle.quotes.galaxyGeneratorPhase1.show():4===e&&Pelle.quotes.galaxyGeneratorPhase4.show(),this.capObj||Pelle.quotes.end.show()}lm.all.forEach((e=>e.checkMilestoneStates())),!lm.vacuum.milestones[0].canBeApplied&&Glyphs.active.filter((e=>e)).length>0&&(Glyphs.unequipAll(player.options.respecIntoProtected&&-1===Glyphs.findFreeIndex(!0)),Glyphs.refreshActive())}player.celestials.pelle.galaxyGenerator.generatedGalaxies+=this.gainPerSecond*e/1e3,player.celestials.pelle.galaxyGenerator.generatedGalaxies=Math.min(player.celestials.pelle.galaxyGenerator.generatedGalaxies,this.generationCap),this.capRift||(lm.all.forEach((t=>t.reducedTo=Math.min(t.reducedTo+.03*e/1e3,2))),lm.vacuum.milestones[0].canBeApplied&&!this.hasReturnedGlyphSlot&&(Glyphs.refreshActive(),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),this.hasReturnedGlyphSlot=!0))}};class um extends I{get currency(){return this.config.currency()}get boughtAmount(){return player.celestials.pelle.rebuyables[this.id]}set boughtAmount(e){player.celestials.pelle.rebuyables[this.id]=e}get isCustomEffect(){return!0}get effectValue(){return this.config.effect(this.boughtAmount)}}const dm=mapGameDataToObject(GameDatabase.celestials.pelle.galaxyGeneratorUpgrades,(e=>new um(e))),hm={GAME_END:1,TAB_START_HIDE:1.5,INTERACTIVITY_DISABLED:2.5,FADE_AWAY:2.5,SAVE_DISABLED:4,END_NUMBERS:4.2,CREDITS_START:4.5,SHOW_NEW_GAME:13.5,SPECTATE_GAME:13.9,SONG_END:13.7,CREDITS_END:14.5},pm={get endState(){return this.removeAdditionalEnd?this.additionalEnd:Math.max((Math.log10(player.celestials.pelle.records.totalAntimatter.plus(1).log10()+1)-8.7)/(Math.log10(9e15)-8.7)+this.additionalEnd,0)},_additionalEnd:0,get additionalEnd(){return player.isGameEnd||this.removeAdditionalEnd?this._additionalEnd:0},set additionalEnd(e){this._additionalEnd=player.isGameEnd||this.removeAdditionalEnd?e:0},removeAdditionalEnd:!1,creditsClosed:!1,creditsEverClosed:!1,gameLoop(e){this.removeAdditionalEnd&&(this.additionalEnd-=Math.min(e/200,.5),this.additionalEnd<4&&(this.additionalEnd=0,this.removeAdditionalEnd=!1)),!this.removeAdditionalEnd&&this.endState>=hm.GAME_END&&void 0===ui.$viewModel.modal.progressBar&&(player.isGameEnd=!0,this.additionalEnd+=Math.min(e/1e3/20,.1))}},mm={teresa:Xh,effarig:ep,enslaved:np,v:fp,ra:Tp,laitela:Vp,pelle:Zp};GameDatabase.celestials.descriptions=[{name:"Teresa",effects(){return`Производство Теорем Времени Глифами Замедления отключено.\n      Получение Очков Бесконечности и Очков Вечности возведено в степень ${format(.55,2,2)}.`}},{name:"Effarig",effects(){return`Множители всех измерений, скорость игры и скорость тика сильно замедлены.      Оба ослабления становятся мягче с каждым слоем Реальности.      Первые два ослабления смягчаются в зависимости от вашего количества Силы Бесконечности, а третье - Осколков Времени.\n      Фактические уровни глифов имеют ограничение в ${formatInt(ep.glyphLevelCap)}.`+(2===ep.currentStage?`\n      (только на слое вечности) Получение Очков Бесконечности по умолчанию имеет ограничение в ${format(v.E200)}.\n      (только на слое вечности) У каждого вида множителей к получению Очков Бесконечности совокупный эффект имеет ограничение в ${format(v.E50)}.`:"")},description(){return"Вы принудительно покинете Реальность Эффарига, выполнив её текущий слой."}},{name:"The Nameless Ones",effects(){return`Фактические уровни глифов увеличены до ${formatInt(5e3)}.\n      Измерения Бесконечности, Измерения Времени и 8-е Измерение Антиматерии можно покупать не более чем по одному разу.\n      Множители Измерений Антиматерии всегда замедлены (соответствующий эффект глифов по-прежнему действует только в Замедлении).\n      Исследование Времени 192 недоступно.\n      Чёрная Дыра отключена.\n      Получение Тахионов и производство Замедленного Времени сильно уменьшены.\n      Производство Теорем Времени Глифами Замедления отключено.\n      Цели некоторых испытаний увеличены.\n      Время в секундах, которое даёт разрядка Чёрной Дыры, замедлено со степенью ${format(.55,2,2)}.`}},{name:"V",effects(){const e=`Множители всех измерений, получение Очков Бесконечности, получение Очков Вечности и производство Замедленного Времени      в секунду возведено в степень ${format(.5,1,1)}. \n      Интервал репликации в миллисекундах возведён в квадрат.`,t="\n      Эффект Экспоненты отключён.";return Tp.unlocks.unlockGlyphAlchemy.canBeApplied?e+t:e}},{name:"Ra",effects(){return`Вы начинаете с ${formatInt(4)} Расширениями Измерений и не можете получить больше.\n      Множитель ускорителя всегда равен ${formatX(1.1245,0,3)}.`}},{name:"Lai'tela",effects(){let e;const t=8-Vp.difficultyTier;switch(t){case 0:e="всех измерений";break;case 7:e="8-х Измерений всех видов";break;default:e=`${t+1}-х и более высоких по уровню Измерений всех видов`;break}const i=8===t?"":`Производство ${e} отключено.`;return`Получение Очков Бесконечности и Очков Вечности замедлено.\n      Скорость игры понижена до ${formatInt(1)} и экспоненциально восстанавливается в течение ${formatInt(10)} минут.\n      Вы не можете заряжать, разряжать или инвертировать Чёрную Дыру.\n      ${i}`},description(){return`В Реальности Лайтелы производится энтропия в зависимости от вашего количества антиматерии.      Чтобы выполнить Реальность, нужно достигнуть ${formatPercents(1)} энтропии, при этом вы принудительно покинете Реальность      и получите награду в зависимости от того, насколько быстро вы выполнили её.\n      Если вы дестабилизировали Реальность (выполнили быстрее, чем за ${formatInt(30)} секунд), её условие становится значительно жёстче,      а награда - значительно больше.      За ${formatInt(8)} дестабилизаций вы получите множитель ${formatX(8)} к производству Тёмной Энергии.`}}];var ym=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{staticClass:"c-modal-options__large",attrs:{"cancel-class":"c-modal-message__okay-btn","confirm-class":"c-modal-message__okay-btn c-modal__confirm-btn","cancel-fn":e.overwrite},on:{confirm:function(t){return e.ignore()}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Could not compare with Cloud Save ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" "+e._s(e.overwriteText)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Do not overwrite ")]},proxy:!0}])},[e._v(" While attempting to compare your saves, the game was unable to properly process the data in your Cloud save. This is most likely due to the Cloud save being very outdated, using a data format from a much older version of the game. "),i("br"),i("br"),e.isSaving?i("span",[e._v(' It is probably safe to overwrite your Cloud save. You can click "Cloud load" and force the save to be loaded if you would like to attempt to convert it to a valid save format that you can use. ')]):i("span",[e._v(" You can try to load your data from the Cloud if desired. The game will attempt to load in your Cloud data by converting its format, but this may not work and in the worst case may require you to reset this save slot in order for the game to work again. ")]),i("br"),e._v(" Note: This modal will show up regardless of your settings, because this issue will continue to prevent the 10-minute autosave until it is resolved. ")])},fm=[],gm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal-message l-modal-content--centered"},[i("span",{staticClass:"c-modal__header"},[i("ModalCloseButton",{on:{click:e.closeModal}}),e.$slots.header?i("span",{staticClass:"c-modal__title"},[e._t("header")],2):e._e()],1),e._t("default"),e.option?i("ModalConfirmationCheck",{attrs:{option:e.option}}):e._e(),i("div",{staticClass:"l-modal-buttons"},[e.showCancel?i("PrimaryButton",{class:e.cancelClass,on:{click:e.doCancel}},[e._t("cancel-text",(function(){return[e._v(" Отменить ")]}))],2):e._e(),e._t("extra-buttons"),e.showConfirm?i("PrimaryButton",{class:e.confirmClass,on:{click:e.doConfirm}},[e._t("confirm-text",(function(){return[e._v(" Подтвердить ")]}))],2):e._e()],2)],2)},bm=[],vm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PrimaryButton",{staticClass:"o-primary-btn--modal-close c-modal__close-btn",on:{click:e.emitClick}},[e._v(" × ")])},Em=[];const Tm={name:"ModalCloseButton",components:{PrimaryButton:Fs}},_m=Tm;var Cm=(0,H.A)(_m,vm,Em,!1,null,null,null);const Am=Cm.exports;var km=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal__confirmation-toggle",on:{click:e.toggle}},[i("div",{class:e.confirmationClass},[e.setting?e._e():i("span",{staticClass:"fas fa-check"}),i("div",{staticClass:"c-modal__confirmation-toggle__tooltip"},[e._v(" "+e._s(e.tooltipText)+" ")])]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Больше не показывать это сообщение ")])])},wm=[];const Sm={name:"ModalConfirmationCheck",props:{option:{type:String,required:!0}},data(){return{setting:!0}},computed:{confirmation(){return ConfirmationTypes[this.option]},confirmationClass(){return{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":!this.setting}},tooltipText(){return`${this.setting?"Отключить":"Вновь включить"} подтверждение: ${this.confirmation.name}`}},created(){this.setting=this.confirmation.option},methods:{toggle(){this.setting=!this.setting,this.confirmation.option=this.setting}}},xm=Sm;var Rm=(0,H.A)(xm,km,wm,!1,null,null,null);const Im=Rm.exports,Mm={name:"ModalWrapperChoice",components:{PrimaryButton:Fs,ModalConfirmationCheck:Im,ModalCloseButton:Am},props:{cancelClass:{type:String,required:!1,default:"o-primary-btn--width-medium c-modal-message__okay-btn"},confirmClass:{type:String,required:!1,default:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn"},showCancel:{type:Boolean,required:!1,default:!0},showConfirm:{type:Boolean,required:!1,default:!0},option:{type:String,required:!1,default:void 0},confirmFn:{type:Function,required:!1,default:void 0},cancelFn:{type:Function,required:!1,default:void 0}},created(){this.on$(GAME_EVENT.ENTER_PRESSED,this.doConfirm)},methods:{doConfirm(){this.confirmFn?this.confirmFn():(this.$emit("confirm"),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL))},doCancel(){this.cancelFn?this.cancelFn():(this.$emit("cancel"),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL))},closeModal(){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}},Dm=Mm;var Pm=(0,H.A)(Dm,gm,bm,!1,null,"09c4eaae",null);const Um=Pm.exports,Gm={name:"CloudInvalidDataModal",components:{ModalWrapperChoice:Um},props:{isSaving:{type:Boolean,required:!0}},computed:{conflict(){return this.$viewModel.modal.cloudConflict},overwriteText(){return this.isSaving?"Overwrite Cloud Save":"Load save from Cloud"}},methods:{ignore(){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)},overwrite(){var e,t;null===(e=(t=this.conflict).onAccept)||void 0===e||e.call(t),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}},Nm=Gm;var Bm=(0,H.A)(Nm,ym,fm,!1,null,null,null);const Om=Bm.exports;var Lm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{staticClass:"c-modal-options__large",attrs:{"cancel-class":"c-modal-message__okay-btn","confirm-class":"c-modal-message__okay-btn c-modal__confirm-btn","confirm-fn":e.confirm},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Load Game from Cloud ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" Keep Local Save ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Overwrite Local with Cloud Save ")]},proxy:!0}])},[e.hasDifferentName?i("span",[e._v(" Your Local and Cloud Saves have "),i("b",[e._v("different names")]),e._v(". ")]):e.older?i("span",[e._v(" Loading from the Cloud would "),i("b",[e._v("load a save with less playtime")]),e._v(". ")]):e.farther?i("span",[e._v(" Loading from the Cloud would "),i("b",[e._v("cause you to lose progress")]),e._v(". ")]):i("span",[e._v(" Your Local Save and Cloud Save "),i("b",[e._v("appear to have similar amounts of progress")]),e._v(". ")]),e._v(" Please select the save you want to load. "),i("br"),i("br"),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.local,"other-data":e.conflict.cloud,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Local Save"}}),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.cloud,"other-data":e.conflict.local,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Cloud Save"}}),i("span",{domProps:{innerHTML:e._s(e.suggestionText)}})],1)},$m=[],Hm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-modal-options__save-record"},[i("h3",[e._v(e._s(e.saveType)+" "),e.saveId?i("span",[e._v("(Slot #"+e._s(e.saveId+1)+"):")]):e._e()]),e.showName?i("span",[e.name?i("span",[e._v(" Save Name: "+e._s(e.name)+" ")]):i("span",[e._v(" Unnamed Save ")]),i("br")]):e._e(),e._v(" "+e._s(e.timePlayed)+" "),i("br"),i("span",{domProps:{innerHTML:e._s(e.antimatter)}}),i("span",{domProps:{innerHTML:e._s(e.prestigeCount)}}),i("span",{domProps:{innerHTML:e._s(e.prestigeResource)}}),i("span",{domProps:{innerHTML:e._s(e.extraProgressIndicator)}}),i("br"),e._t("default")],2)},Fm=[];const qm={name:"SaveInfoEntry",props:{saveId:{type:Number,required:!1,default:0},saveData:{type:Object,required:!0},otherData:{type:Object,required:!0},showName:{type:Boolean,required:!1,default:!0},saveType:{type:String,required:!0}},computed:{timePlayed(){return`Time Played: ${TimeSpan.fromMilliseconds(this.saveData.realTimePlayed).toString()}`},antimatter(){return this.compareLayeredValues(["pelleAM","totalAntimatter"],["Total Doomed Antimatter:","Total Antimatter:"],[format,format],"")},prestigeCount(){return this.compareLayeredValues(["remnants","realities","eternities","infinities"],["Remnants:","Realities:","Eternities:","Infinities:"],[format,this.formatSmall,this.formatSmall,this.formatSmall],"(No prestige layers reached yet.)")},prestigeResource(){return this.compareLayeredValues(["realityShards","imaginaryMachines","realityMachines","eternityPoints","infinityPoints"],["Reality Shards:","Reality Machines:","Reality Machines:","Eternity Points:","Infinity Points:"],[format,e=>formatMachines(this.saveData.realityMachines,e),format,format,format],"")},extraProgressIndicator(){return this.compareLayeredValues(["pelleLore","bestLevel","dilatedTime"],["Your Reality is Doomed.","Best Glyph Level:","Dilated Time:"],[()=>"",formatInt,format],"")},name(){return this.saveData.saveName}},methods:{formatSmall(e){return Decimal.gt(e,1e4)?format(e,2):formatInt(e)},compareLayeredValues(e,t,i,a){let n,s;for(let u=0;u<e.length;u++){const t=e[u];if(!Decimal.eq(this.saveData[t],0)||!Decimal.eq(this.otherData[t],0)){if(Decimal.eq(this.saveData[t],this.otherData[t])){n=!0,s=0;break}if(Decimal.neq(this.saveData[t],0)&&Decimal.neq(this.otherData[t],0)){n=!0,s=Decimal.gt(this.saveData[t],this.otherData[t])?1:-1;break}n=!1,s=Decimal.gt(this.saveData[t],0)?1:-1;break}}let r=a,o="";for(let u=0;u<e.length;u++){const a=e[u];if(Decimal.gt(this.saveData[a],0)){r=t[u],o=i[u](this.saveData[a],2);break}}if(0===s)return`${r} ${o}`;const l=e=>getComputedStyle(document.body).getPropertyValue(`--color-${e}`).split("#")[1],c=`<span style="color:#${l(1===s?"good":"infinity")}">`;return n?`${r} ${c}${o}</span>`:`${c}${r} ${o}</span>`}}},Vm=qm;var Ym=(0,H.A)(Vm,Hm,Fm,!1,null,null,null);const jm=Ym.exports,Wm={name:"CloudLoadConflictModal",components:{ModalWrapperChoice:Um,SaveInfoEntry:jm},computed:{conflict(){return this.$viewModel.modal.cloudConflict},older(){return 1===this.conflict.saveComparison.older},farther(){return 1===this.conflict.saveComparison.farther},hasDifferentName(){return this.conflict.cloud.saveName!==this.conflict.local.saveName},suggestionText(){const e='style="color: var(--color-good)"',t='style="color: var(--color-bad)"',i=["Loading this Cloud save "],a=this.conflict.cloud.compositeProgress,n=this.conflict.local.compositeProgress,s=this.farther&&Math.abs(a-n)>.15;return i.push(s?`<b ${t}>would cause your local save to lose significant progress</b>`:`<b ${e}>is probably safe</b>`),this.hasDifferentName&&i.push(`<br>${s?"Additionally":"However"}, the Cloud save\n          <b ${t}>may be a save from a different device</b>.`),(s||this.hasDifferentName)&&i.push(`<br><b ${t}>Are you sure you wish to overwrite your local save?</b>`),i.join("")}},methods:{confirm(){var e,t;null===(e=(t=this.conflict).onAccept)||void 0===e||e.call(t),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}},Xm=Wm;var zm=(0,H.A)(Xm,Lm,$m,!1,null,null,null);const Km=zm.exports;var Qm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{staticClass:"c-modal-options__large",attrs:{"cancel-class":"c-modal-message__okay-btn","confirm-class":"c-modal-message__okay-btn c-modal__confirm-btn","cancel-fn":e.overwrite},on:{confirm:function(t){return e.doNotSave()}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Save Game to Cloud ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" Overwrite Cloud Save ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Do not overwrite ")]},proxy:!0}])},[e.wrongHash?i("span",[e._v(" Your Cloud Save has been "),i("b",[e._v("changed by a different device")]),e._v(" since you last saved to the Cloud this session. ")]):e.hasDifferentName?i("span",[e._v(" Your Local and Cloud Saves have "),i("b",[e._v("different names")]),e._v(". ")]):e.older?i("span",[e._v(" Saving to the Cloud would "),i("b",[e._v("overwrite an older save")]),e._v(". ")]):e.farther?i("span",[e._v(" Saving to the Cloud would "),i("b",[e._v("overwrite a save with more progress")]),e._v(". ")]):i("span",[e._v(" Your Local Save and Cloud Save "),i("b",[e._v("appear to have similar amounts of progress")]),e._v(". ")]),i("br"),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.local,"other-data":e.conflict.cloud,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Local Save"}}),i("SaveInfoEntry",{attrs:{"save-data":e.conflict.cloud,"other-data":e.conflict.local,"save-id":e.conflict.saveId,"show-name":e.hasDifferentName,"save-type":"Cloud Save"}}),i("span",{domProps:{innerHTML:e._s(e.suggestionText)}}),i("br"),i("span",[e._v(" Not overwriting will turn off Cloud saving and you will need to manually turn it back on again if you want to use it. "),i("span",{attrs:{"ach-tooltip":e.noOverwriteInfo}},[i("i",{staticClass:"fas fa-question-circle"})])]),i("span",[e._v(" Overwriting will force a save to the Cloud in this particular instance; in most cases this should prevent this modal from reappearing afterwards. "),i("span",{attrs:{"ach-tooltip":e.overwriteInfo}},[i("i",{staticClass:"fas fa-question-circle"})])])],1)},Jm=[];const Zm={name:"CloudSaveConflictModal",components:{ModalWrapperChoice:Um,SaveInfoEntry:jm},computed:{conflict(){return this.$viewModel.modal.cloudConflict},older(){return-1===this.conflict.saveComparison.older},farther(){return-1===this.conflict.saveComparison.farther},hasDifferentName(){return this.conflict.cloud.saveName!==this.conflict.local.saveName},wrongHash(){return this.conflict.saveComparison.hashMismatch},suggestionText(){const e='style="color: var(--color-good)"',t='style="color: var(--color-infinity)"',i=["Saving to the Cloud "],a=this.conflict.cloud.compositeProgress,n=this.conflict.local.compositeProgress,s=this.farther&&Math.abs(a-n)>.15;return i.push(s?`<b ${t}>would overwrite a save with significantly more progress</b>`:`<b ${e}>is probably safe</b>`),(this.hasDifferentName||this.wrongHash)&&i.push(` ${s?"Additionally":"However"}, you may be overwriting a \n          <b ${t}>save from a different device</b>.`),(s||this.hasDifferentName||this.wrongHash)&&i.push(`<br><b ${t}>Are you sure you wish to overwrite the Cloud save?</b>`),i.join("")},noOverwriteInfo(){return"Save conflicts will keep occurring without overwriting."},overwriteInfo(){return"If another device is also saving to the cloud on this Google Account at the same time,\n        this modal may appear repeatedly."}},methods:{doNotSave(){player.options.cloudEnabled=!1,EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)},overwrite(){var e,t;null===(e=(t=this.conflict).onAccept)||void 0===e||e.call(t),EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}},ey=Zm;var ty=(0,H.A)(ey,Qm,Jm,!1,null,null,null);const iy=ty.exports;var ay=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"challenges"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Начать ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),e._v(" "+e._s(e.condition)+" ")]),e.challengeIsCompleted?e._e():i("div",{staticClass:"c-modal-message__text"},[i("br"),e._v(" "+e._s(e.reward)+" ")])])},ny=[];const sy={name:"EternityChallengeStartModal",components:{ModalWrapperChoice:Um},props:{id:{type:Number,required:!0}},computed:{challenge(){return EternityChallenge(this.id)},challengeIsCompleted(){return this.challenge.isFullyCompleted},message(){return`Вы совершите вечность (по возможности) и начнёте новую внутри Испытания, с\n        соответствующим условием испытания.\n        Чтобы выполнить Испытание${this.challengeIsCompleted?"":" и получить награду за него"},\n        вы должны достичь цели Испытания в\n        ${format(this.challenge.currentGoal)} Очков Бесконечности. Испытания Вечности могут быть выполнены до\n        ${formatInt(5)} раз; при выполнении увеличивается как цель испытания, так и награда.`},entranceLabel(){return`Вы запускаете ${this.id}-е Испытание Вечности`},reward(){let e=this.challenge._config.reward.description;return"function"===typeof e&&(e=e()),`Награда за выполнение этого Испытания следующая: ${e}.`},condition(){let e=this.challenge._config.description;return"function"===typeof e&&(e=e()),`В этом Испытаниии Вечности действует следующее условие: ${e}`}},created(){this.on$(GAME_EVENT.ETERNITY_RESET_AFTER,this.emitClose),this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.emitClose)},methods:{handleYesClick(){this.challenge.start(!0),EventHub.ui.offAll(this)}}},ry=sy;var oy=(0,H.A)(ry,ay,ny,!1,null,null,null);const ly=oy.exports;var cy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"challenges"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Начать ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),e._v(" "+e._s(e.condition)+" ")]),e.challengeIsCompleted?e._e():i("div",{staticClass:"c-modal-message__text"},[i("br"),e._v(" "+e._s(e.reward)+" ")])])},uy=[];const dy={name:"InfinityChallengeStartModal",components:{ModalWrapperChoice:Um},props:{id:{type:Number,required:!0}},computed:{challenge(){return InfinityChallenge(this.id)},challengeIsCompleted(){return this.challenge.isCompleted},message(){return`Вы совершите Большое Сжатие (по возможности) и начнёте новую бесконечность внутри Испытания, с\n        соответствующим условием испытания.\n        Чтобы выполнить Испытание${this.challengeIsCompleted?"":" и получить награду за него"},\n        вы должны достичь цели Испытания в\n        ${format(InfinityChallenge(this.id).goal)} антиматерии.\n        У вас не будет начальных Расширений Измерений или Галактик вне зависимости от ваших улучшений.`},entranceLabel(){return`Вы запускаете ${this.id}-е Испытание Бесконечности`},reward(){let e=this.challenge._config.reward.description;return"function"===typeof e&&(e=e()),`Награда за выполнение этого Испытания следующая: ${e}.`},condition(){let e=this.challenge._config.description;return"function"===typeof e&&(e=e()),`В этом Испытаниии Бесконечности действует следующее условие: ${e}`}},created(){this.on$(GAME_EVENT.ETERNITY_RESET_AFTER,this.emitClose),this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.emitClose)},methods:{handleYesClick(){this.challenge.start()}}},hy=dy;var py=(0,H.A)(hy,cy,uy,!1,null,null,null);const my=py.exports;var yy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal-message l-modal-content--centered"},[e.modal.closeButton?i("ModalCloseButton",{class:e.isThemeS12?"c-modal__close-btn":"c-modal__close-btn--tiny",on:{click:e.emitClose}}):e.isThemeS12?i("ModalCloseButton",{staticClass:"c-modal__close-btn c-modal__close-btn--disabled"}):e._e(),i("div",{staticClass:"c-modal-message__text",domProps:{innerHTML:e._s(e.message)}}),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.handleClick}},[e._v(" OK ")]),e.isThemeS12?i("div",{staticClass:"c-modal__title"},[e._v(" Оповещение ")]):e._e()],1)},fy=[];const gy={name:"MessageModal",components:{PrimaryButton:Fs,ModalCloseButton:Am},data(){return{message:""}},computed:{modal(){return this.$viewModel.modal.current},isThemeS12(){return"S12"===this.$viewModel.theme}},created(){this.on$(GAME_EVENT.ENTER_PRESSED,this.handleClick)},methods:{update(){var e;this.message=null===(e=this.modal)||void 0===e?void 0:e.message},handleClick(){var e,t;null===(e=(t=this.modal).callback)||void 0===e||e.call(t),this.emitClose(),EventHub.ui.offAll(this)}}},by=gy;var vy=(0,H.A)(by,yy,fy,!1,null,null,null);const Ey=vy.exports;var Ty=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"challenges"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Начать ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),e._v(" "+e._s(e.condition)+" ")]),e.challengeIsCompleted?e._e():i("div",{staticClass:"c-modal-message__text"},[i("br"),e._v(" "+e._s(e.reward)+" ")])])},_y=[];const Cy={name:"NormalChallengeStartModal",components:{ModalWrapperChoice:Um},props:{id:{type:Number,required:!0}},computed:{challenge(){return NormalChallenge(this.id)},challengeIsCompleted(){return this.challenge.isCompleted},message(){return`Вы совершите Большое Сжатие (по возможности) и начнёте новую бесконечность внутри Испытания, с\n        соответствующим условием испытания.\n        Чтобы выполнить Испытание${this.challengeIsCompleted?"":" и получить награду за него"},\n        вы должны вновь достичь бесконечности.\n        У вас не будет начальных Расширений Измерений или Галактик вне зависимости от ваших улучшений.`},entranceLabel(){return`Вы запускаете ${this.id}-е Обычное Испытание`},reward(){return`Награда за выполнение этого Испытания следующая: разблокировать ${this.challenge._config.reward}.`},condition(){let e=this.challenge._config.description;return"function"===typeof e&&(e=e()),`В этом Испытаниии действует следующее условие: ${e}`}},created(){this.on$(GAME_EVENT.ETERNITY_RESET_AFTER,this.emitClose),this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.emitClose)},methods:{handleYesClick(){this.challenge.start()}}},Ay=Cy;var ky=(0,H.A)(Ay,Ty,_y,!1,null,null,null);const wy=ky.exports;var Sy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"antimatterGalaxy"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},xy=[];const Ry={name:"AntimatterGalaxyModal",components:{ModalWrapperChoice:Um},props:{bulk:{type:Boolean,required:!0}},data(){return{newGalaxies:0,keepAntimatter:!1,perkANRBought:!1,keepDimBoost:!1}},computed:{topLabel(){return this.bulk?`Вы получаете ${quantifyInt("Галактику",this.newGalaxies)} Антиматерии`:"Вы получаете Галактику Антиматерии"},message(){const e=[];Pelle.isDoomed&&e.push("антиматерии","Измерений Антиматерии","ускорителей"),this.perkANRBought||e.push("Измерений Антиматерии","ускорителей"),this.keepDimBoost||e.push("Расширений Измерений"),this.keepAntimatter||this.perkANRBought||e.push("антиматерии");const t=makeEnumeration(e);let i="";InfinityChallenge(3).isRunning?i="3-ем Испытании Бесконечности}":Ra.isRunning&&(i="Реальности Ра");const a=""===i?"ускорители станут немного сильнее.":`ускорители не станут сильнее, так как вы в ${i}.`,n=""===t?`Ничего не будет сброшено, и ${a}`:`Будет сброшено ваше количество ${t}. Однако ${a}`;return this.bulk?`Вы уверены, что хотите получить\n      ${quantifyInt("Галактику",this.newGalaxies)} Антиматерии? ${n}`:`Вы уверены, что хотите получить Галактику Антиматерии? ${n}`}},created(){this.on$(GAME_EVENT.DIMBOOST_AFTER,(()=>BreakInfinityUpgrade.autobuyMaxDimboosts.isBought?void 0:this.emitClose()))},methods:{update(){if(this.bulk){const e=Galaxy.requirement,t=AntimatterDimension(e.tier),i=bulkBuyBinarySearch(t.totalAmount,{costFunction:e=>Galaxy.requirementAt(e).amount,cumulative:!1},player.galaxies);i&&(this.newGalaxies=Galaxy.buyableGalaxies(Math.round(t.totalAmount.toNumber()))-player.galaxies)}this.keepAntimatter=Achievement(111).isUnlocked,this.perkANRBought=Perk.antimatterNoReset.canBeApplied,this.keepDimBoost=Achievement(143).isUnlocked&&!Pelle.isDoomed||PelleUpgrade.galaxyNoResetDimboost.canBeApplied},handleYesClick(){requestGalaxyReset(this.bulk),EventHub.ui.offAll(this)}}},Iy=Ry;var My=(0,H.A)(Iy,Sy,xy,!1,null,null,null);const Dy=My.exports;var Py=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:e.isDoomed?"armageddon":void 0},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[e.isDoomed?i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]):i("div",{staticClass:"c-modal-message__text"},[e._v(' Обречение Реальности сбросит всё, кроме рекордов испытаний, прогресса по Небожителям и статистики в разделах "Общее" и "Реальность". Вы не получите наград за прогресс в текущей реальности. Обречение Реальности также удалит большинство ваших незащищённых глифов и отключит некоторые игровые механики. '),i("br"),i("br"),e._v(" Вы уверены, что хотите обречь Реальность? ")])])},Uy=[];const Gy={name:"ArmageddonModal",components:{ModalWrapperChoice:Um},data(){return{isDoomed:!1,remnantsGain:0,realityShardGain:new Decimal(0),nextRealityShardGain:new Decimal(0),canArmageddon:!1}},computed:{topLabel(){return this.isDoomed?"Вы совершаете армагеддон":"Вы обрекаете Реальность"},message(){const e=Currency.remnants.eq(0)?`станете производить ${format(this.nextRealityShardGain,2,2)} Осколка Реальности в секунду`:`увеличите ваше получение Осколков Реальности с ${format(this.realityShardGain,2,2)}/c\n          до ${format(this.nextRealityShardGain,2,2)}/c`;return`Армагеддон сбросит Обречённую Реальность. Вы получите\n      ${quantify("Останок",this.remnantsGain,2,0)} и ${e}`}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.remnantsGain=Pelle.remnantsGain,this.realityShardGain.copyFrom(Pelle.realityShardGainPerSecond),this.nextRealityShardGain.copyFrom(Pelle.nextRealityShardGain),this.canArmageddon=Pelle.canArmageddon},handleYesClick(){Pelle.initializeRun()}}},Ny=Gy;var By=(0,H.A)(Ny,Py,Uy,!1,null,null,null);const Oy=By.exports;var Ly=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ResetModal",{attrs:{header:"Вы совершаете бесконечность",message:e.message,"gained-resources":e.ipGainInfo,"starting-resources":e.startingResources,"confirm-fn":e.handleYesClick,"alternate-condition":e.isFirstInfinity,"alternate-text":e.message,"confirm-option":e.isFirstInfinity?void 0:"bigCrunch"}})},$y=[],Hy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:e.confirmOption},on:{confirm:e.confirmFn},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.header)+" ")]},proxy:!0}])},[e.alternateCondition?i("div",[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.alternateText)+" ")])]):i("div",[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br")]),i("br"),i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.gainedResources)+" ")]),i("br"),e.startingResources?i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.startingResources)+" ")]):e._e()])])},Fy=[];const qy={name:"ResetModal",components:{ModalWrapperChoice:Um},props:{header:{type:String,required:!0},message:{type:String,required:!0},gainedResources:{type:String,required:!0},startingResources:{type:String,required:!1,default:void 0},confirmOption:{type:String,required:!1,default:void 0},confirmFn:{type:Function,required:!0},alternateText:{type:String,required:!1,default:void 0},alternateCondition:{type:Boolean,required:!1,default:!1}}},Vy=qy;var Yy=(0,H.A)(Vy,Hy,Fy,!1,null,null,null);const jy=Yy.exports,Wy={name:"BigCrunchModal",components:{ResetModal:jy},data(){return{gainedInfinities:new Decimal,gainedInfinityPoints:new Decimal,startingBoosts:0,startingAM:10,willStartWithGalaxy:!1}},computed:{isFirstInfinity(){return!PlayerProgress.infinityUnlocked()},message(){const e=this.isFirstInfinity?this.firstInfinityInfo:"";return`Бесконечность сбрасывает антиматерию, Измерения Антиматерии, ускорители, Расширения Измерений и Галактики Антиматерии.${e}`},firstInfinityInfo(){return' В награду вы получаете Очко Бесконечности (ОБ). Это позволит вам покупать определённые улучшения, которые вы можете\n        найти во вкладке "Бесконечность". Вы также получаете одну бесконечность, которая будет отображена во вкладке "Статистика".'},ipGainInfo(){return`Вы получите ${quantify("бесконечность",this.gainedInfinities,2,0)}\n        и ${quantify("Очко",this.gainedInfinityPoints,2,0)} Бесконечности.`},startingResources(){const e=[];return this.startingAM.gte(10)&&e.push(`${format(this.startingAM,2,1)} антиматерии`),this.startingBoosts>0&&e.push(`${quantify("Расширением",this.startingBoosts)} Измерений`),this.willStartWithGalaxy&&e.push("1 Галактикой Антиматерии"),`Вы начнёте новую бесконечность с ${makeEnumeration(e)}.`}},methods:{update(){this.gainedInfinities=gainedInfinities().round(),this.gainedInfinityPoints=gainedInfinityPoints().round(),this.startingBoosts=DimBoost.startingDimensionBoosts,this.startingAM=Currency.antimatter.startingValue,this.willStartWithGalaxy=InfinityUpgrade.skipResetGalaxy.isBought},handleYesClick(){bigCrunchResetRequest(),EventHub.ui.offAll(this),this.isFirstInfinity&&setTimeout((()=>Modal.message.show('Эта анимация будет воспроизводиться после каждой бесконечности, совершённой вручную. Если\n          вы хотите её отключить, это можно сделать во вкладке "Настройки". Отключить можно и любую другую\n          анимацию в игре, после того как вы увидите её впервые.',{},3)),2e3)}}},Xy=Wy;var zy=(0,H.A)(Xy,Ly,$y,!1,null,null,null);const Ky=zy.exports;var Qy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"dimensionBoost"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},Jy=[];const Zy={name:"DimensionBoostModal",components:{ModalWrapperChoice:Um},props:{bulk:{type:Boolean,required:!0}},computed:{topLabel(){return"Вы получаете Расширение Измерений"},message(){const e=Pelle.isDoomed?PelleUpgrade.dimBoostResetsNothing.canBeApplied:Perk.antimatterNoReset.canBeApplied,t=Pelle.isDoomed?PelleUpgrade.dimBoostResetsNothing.canBeApplied:Achievement(111).isUnlocked||Perk.antimatterNoReset.canBeApplied;return e?"Поскольку у вас есть улучшение, предотвращающее сброс антиматерии, Измерений Антиматерии и ускорителей\n          в этой ситуации, они не будут сброшены. Как обычно, вы получите множитель от Расширения.":`Ваши ${t?"":"антиматерия, "}Измерения Антиматерии и ускорители будут сброшены. Вы уверены, что хотите получить Расширение?`}},methods:{handleYesClick(){requestDimensionBoost(this.bulk),EventHub.ui.offAll(this)}}},ef=Zy;var tf=(0,H.A)(ef,Qy,Jy,!1,null,null,null);const af=tf.exports;var nf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Начать ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" "),i("br"),i("br"),i("div",{staticClass:"c-modal-celestial__run-effects"},e._l(e.effects,(function(t,a){return i("div",{key:a,staticClass:"c-modal-celestial__run-effects__line"},[t.trim()?i("b",[e._v("•")]):e._e(),i("b",[e._v(" ")]),e._v(" "+e._s(t)+" ")])})),0),e.description?i("div",{staticClass:"reality-description"},[i("br"),i("br"),e._v(" "+e._s(e.description)+" ")]):e._e(),i("br"),i("br"),i("div",[e._v(" "+e._s(e.extraLine)+" ")]),4===e.number?i("span",e._l(4,(function(e){return i("EnterCelestialsRaPet",{key:e,attrs:{"pet-id":e-1}})})),1):e._e()])])},sf=[],rf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("span",{style:e.color},[e._v(" "+e._s(e.name)+" "+e._s(e.gainText)+". "),i("br")]):e._e()},of=[];const lf={name:"EnterCelestialsRaPet",props:{petId:{type:Number,required:!0}},data(){return{isUnlocked:!1}},computed:{pet(){return Ra.pets.all[this.petId]},name(){return this.pet.nameNormal},color(){return`color: ${this.pet.color}`},gainText(){let e=["","е"];return"enslaved"===this.pet.id&&(e=["ы","ю"]),"teresa"===this.pet.id&&(e=["а","е"]),25===this.pet.level?`полностью восстановлен${e[0]} в памяти`:`получа${e[1]}т Куски Памяти в зависимости от ${this.chunkGain}`},chunkGain(){return this.pet.chunkGain}},methods:{update(){this.isUnlocked=this.pet.isUnlocked}}},cf=lf;var uf=(0,H.A)(cf,rf,of,!1,null,null,null);const df=uf.exports,hf={name:"EnterCelestialsModal",components:{ModalWrapperChoice:Um,EnterCelestialsRaPet:df},props:{number:{type:Number,required:!0},name:{type:String,required:!0}},data(){return{laitelaFastest:3600,teresaBestAM:new Decimal,teresaRunMult:0,effarigDone:!1,effarigLayer:"",enslavedDone:!1,laitelaTime:""}},computed:{effects(){return GameDatabase.celestials.descriptions[this.number].effects().split("\n")},description(){const e=GameDatabase.celestials.descriptions[this.number].description;return e?e():""},topLabel(){return`Реальность ${this.name}`},message(){return`Совершить реальность и запустить Реальность ${this.name}, в которой:`},extraLine(){switch(this.number){case 0:return this.teresaBestAM.eq(1)?"Вы ещё не разблокировали награду за Реальность Терезы. Требуется\n              купить соответствующее Исследование и завершить Реальность впервые.":`Вы достигли ${format(this.teresaBestAM,2,2)} антиматерии в Реальности Терезы,\n              что даёт вам множитель ${formatX(this.teresaRunMult,2)} к жертвенной ценности глифов.`;case 1:return this.effarigDone?"Реальность Эффарига полностью завершена!":`Вы на слое ${this.effarigLayer} в Реальности Эффарига.`;case 2:return this.enslavedDone?"Разве... нашей помощи... мало?":"Мы... поможем... Позволь нам... помочь...";case 3:return"";case 4:return"В Реальности Ра производятся разные типы Кусков Памяти\n          в зависимости от определённых параметров:";case 5:return this.laitelaFastest>=300?"Вы не выполнили Реальность Лайтелы на этом слое.":`Рекорд Реальности Лайтелы на этом слое: ${this.laitelaTime}.`;case 6:return"";default:throw new Error("Attempted to start an Unknown Celestial in Celestial Modal Confirmation.")}}},methods:{update(){this.teresaBestAM.copyFrom(player.celestials.teresa.bestRunAM),this.teresaRunMult=Teresa.runRewardMultiplier;const e=Effarig.currentStage;this.effarigDone=e===EFFARIG_STAGES.COMPLETED,this.effarigLayer=[null,"бесконечности","вечности","реальности"][e],this.enslavedDone=Enslaved.isCompleted,this.laitelaFastest=player.celestials.laitela.fastestCompletion,this.laitelaTime=TimeSpan.fromSeconds(this.laitelaFastest).toStringShort()},handleYesClick(){switch(beginProcessReality(getRealityProps(!0)),this.number){case 0:return Teresa.initializeRun();case 1:return Effarig.initializeRun();case 2:return Enslaved.initializeRun();case 3:return V.initializeRun();case 4:return Ra.initializeRun();case 5:return Laitela.initializeRun();case 6:throw new Error("Attempted to start Pelle through EnterCelestialsModal instead of ArmageddonModal");default:throw new Error("Attempted to start an Unknown Celestial in Celestial Modal Confirmation.")}}}},pf=hf;var mf=(0,H.A)(pf,nf,sf,!1,null,"7dfa37fa",null);const yf=mf.exports;var ff=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"dilation"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.entranceLabel)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Начать ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.EPSinceLabel)+" "),i("br"),i("br"),e._v(" "+e._s(e.message)+" ")])])},gf=[];const bf={isDisplaying:!1,displayForce(e,t){document.body.style.animation=`${e} ${t}s 1`,this.isDisplaying=!0,setTimeout((()=>{document.body.style.animation="",this.isDisplaying=!1}),1e3*t)},display(e,t){this.isDisplaying||this.displayForce(e,t)}},vf={name:"EnterDilationModal",components:{ModalWrapperChoice:Um},computed:{message(){return`Замедление Времени начнёт новую вечность, в которой порядки всех множителей Измерений и\n        скорости тика будут возведены в степень ${formatPow(.75,2,2)}. Если вы совершите вечность в Замедлении,\n        количество ваших Тахионов возрастёт до определённого значения в зависимости от максимального\n        количества антиматерии, достигнутого вами в Замедлении.`},entranceLabel(){return"Вы замедляете Время"},EPSinceLabel(){return player.dilation.lastEP.eq(-1)?"Это ваше первое Замедление":!isInCelestialReality()&&Ra.unlocks.unlockDilationStartingTP.canBeApplied?`Вы уже получили достаточное количество Тахионов от этапа за\n          ${formatInt(25)}-й Уровень Терезы.`:`У вас было ${quantify("Очко",player.dilation.lastEP)} Вечности на момент завершения последнего Замедления.`}},methods:{handleYesClick(){player.dilation.active||(player.options.animations.dilation&&!bf.isDisplaying?animateAndDilate():(startDilatedEternity(),Pelle.isDoomed&&PelleStrikes.dilation.trigger()))}}},Ef=vf;var Tf=(0,H.A)(Ef,ff,gf,!1,null,null,null);const _f=Tf.exports;var Cf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ResetModal",{attrs:{header:e.exitingEC?"Вы завершаете Испытание Вечности":"Вы совершаете вечность",message:e.message,"gained-resources":e.gainedEPOnEternity,"starting-resources":e.startWithIP,"confirm-fn":e.handleYesClick,"alternate-condition":e.exitingEC,"alternate-text":e.exitingEC?e.eternityChallenge:void 0,"confirm-option":"eternity"}})},Af=[];const kf={name:"EternityModal",components:{ResetModal:jy},data(){return{exitingEC:!1,startingIP:new Decimal,gainedEternityPoints:new Decimal,gainedEternities:new Decimal}},computed:{message(){return PlayerProgress.eternityUnlocked()?'Вечность сбросит всё, кроме достижений, рекордов испытаний и статистики в разделе "Общее".':'Вечность сбросит всё, кроме достижений, рекордов испытаний и статистики в разделе "Общее".\n          Вы также получите Очко Вечности и разблокируете различные улучшения.'},gainedEPOnEternity(){return`Вы получите ${quantify("вечность",this.gainedEternities,2)} \n      и ${quantify("Очко",this.gainedEternityPoints,2)} Вечности.`},startWithIP(){return this.startingIP.gt(0)?`Вы начнёте следующую вечность с ${format(this.startingIP,2)} Очков Бесконечности.`:""},eternityChallenge(){const e=EternityChallenge.current;if(e.isFullyCompleted)return`${e.id}-е Испытание Вечности уже полностью выполнено.`;if(!Perk.studyECBulk.isBought)return`Вы получите одно выполнение ${e.id}-го Испытания Вечности.`;const t=e.gainedCompletionStatus.gainedCompletions;return`Вы получите ${quantifyInt("выполнение",t)} ${e.id}-го Испытания Вечности.`}},methods:{update(){this.exitingEC=EternityChallenge.isRunning,this.startingIP=Currency.infinityPoints.startingValue,this.gainedEternityPoints=gainedEternityPoints(),this.gainedEternities=gainedEternities()},handleYesClick(){animateAndEternity(),EventHub.ui.offAll(this)}}},wf=kf;var Sf=(0,H.A)(wf,Cf,Af,!1,null,null,null);const xf=Sf.exports;var Rf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"exitChallenge"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы "+e._s(e.isRestarting?"перезапускаете":"покидаете")+" "+e._s(e.challengeName)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" "+e._s(e.isRestarting?"Перезапустить":"Выйти")+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e.isRestarting?i("span",[e._v(" Вы немедленно запустите "+e._s(e.challengeName)+" вновь при подтверждении. ")]):i("span",[e._v(" Вы окажетесь в обычной "+e._s(e.normalName)+", не обременённой условиями "+e._s(e.isCelestial?"Небожителя":"Испытания")+". ")]),e.hasHigherLayers?i("span",[e._v(" Условия испытаний высших слоёв продолжат действовать. ")]):e._e()])])},If=[];const Mf={name:"ExitChallengeModal",components:{ModalWrapperChoice:Um},props:{challengeName:{type:String,required:!0},normalName:{type:String,required:!0},hasHigherLayers:{type:Boolean,required:!0},exitFn:{type:Function,required:!0}},computed:{isCelestial(){return this.challengeName.match("Реальность")},isRestarting(){return this.isCelestial?player.options.retryCelestial:player.options.retryChallenge}},methods:{handleYesClick(){this.exitFn(),EventHub.ui.offAll(this)}}},Df=Mf;var Pf=(0,H.A)(Df,Rf,If,!1,null,null,null);const Uf=Pf.exports;var Gf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"dilation"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e.isDoomed?i("span",[e._v(" Вы не можете выйти из Замедления в Обречении ")]):i("span",[e._v(" Вы выходите из Замедления ")])]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" "+e._s(e.confirmText)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e.isDoomed?i("span",[e._v(" Замедление необратимо. Вы "+e._s(e.gainText)+" и сбросите текущую вечность. ")]):i("span",[e._v(" Если вы выйдете из Замедления прямо сейчас, вы "+e._s(e.gainText)+". ")]),e.isInEC?i("div",[e._v(" Вы также выйдете из текущего Испытания Вечности. ")]):e._e(),i("br"),e.isDoomed?i("span",[e._v(" Вы уверены, что хотите совершить вечность? ")]):i("span",[e._v(" Вы уверены, что хотите выйти из Замедления? ")])])])},Nf=[];const Bf={name:"ExitDilationModal",components:{ModalWrapperChoice:Um},data(){return{tachyonGain:new Decimal(0),isDoomed:!1}},computed:{gainText(){return this.tachyonGain.lte(0)?"ничего не получите":`получите ${quantify("Тахион",this.tachyonGain,2)}`},isInEC(){return Player.anyChallenge instanceof EternityChallengeState},confirmText(){return this.isDoomed?"OK":"Выйти"}},methods:{update(){player.dilation.active||this.emitClose(),this.tachyonGain.copyFrom(getTachyonGain(!0)),this.isDoomed=Pelle.isDoomed},handleYesClick(){if(!player.dilation.active)return;const e=player.options.animations.dilation&&!bf.isDisplaying;e?animateAndUndilate():eternity(!1,!1,{switchingDilation:!0})}}},Of=Bf;var Lf=(0,H.A)(Of,Gf,Nf,!1,null,null,null);const $f=Lf.exports;var Hf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.willHardReset,"show-confirm":e.willHardReset,"confirm-class":"o-primary-btn--width-medium c-modal__confirm-btn c-modal-hard-reset-btn"},on:{confirm:e.hardReset},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" ПОЛНЫЙ СБРОС ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" СОВЕРШИТЬ ПОЛНЫЙ СБРОС ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Пожалуйста, подтвердите своё намерение полностью сбросить это сохранение. "),i("span",{staticClass:"c-modal-hard-reset-danger"},[e._v("Сброс сохранения не разблокирует ничего секретного.")]),e._v(' Введите "Shrek is love, Shrek is life", чтобы подтвердить. '),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" ВАШЕ СОХРАНЕНИЕ БУДЕТ УНИЧТОЖЕНО. "),e.hasExtraNG?i("span",[i("br"),e._v(" Вы также потеряете все косметические наборы глифов, данные вам за прохождение игры! ")]):e._e(),e.hasSpeedrun?i("span",[i("br"),e._v(' Вы потеряете доступ к режиму спидрана. Чтобы перезапустить забег, используйте кнопку "Начать спидран". ')]):e._e()])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-hard-reset__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(t){t.target.composing||(e.input=t.target.value)}}}),i("div",{staticClass:"c-modal-hard-reset-info"},[e.willHardReset?i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" Фраза подтверждена - ваше сохранение будет безвозвратно удалено! ")]):i("div",[e._v(" Введите требуемую фразу для полного сброса. ")])])])},Ff=[];const qf={name:"HardResetModal",components:{ModalWrapperChoice:Um},data(){return{input:""}},computed:{willHardReset(){return"Shrek is love, Shrek is life"===this.input},hasExtraNG(){return player.records.fullGameCompletions>0},hasSpeedrun(){return player.speedrun.isUnlocked}},destroyed(){this.willHardReset&&SecretAchievement(38).unlock()},methods:{hardReset(){this.willHardReset&&GameStorage.hardReset(),this.input=""}}},Vf=qf;var Yf=(0,H.A)(Vf,Hf,Ff,!1,null,null,null);const jf=Yf.exports;var Wf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:e.confirmationToDisable,"show-confirm":e.canConfirm},on:{confirm:function(t){return e.confirmModal(!1)}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы совершаете реальность ")]},proxy:!0},e.canSacrifice&&e.canConfirm?{key:"extra-buttons",fn:function(){return[i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:function(t){return e.confirmModal(!0)}}},[e._v(" Пожертвовать ")])]},proxy:!0}:null],null,!0)},[e.firstReality?i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.firstRealityText)+" ")]):e._e(),i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.gained)+" ")]),e.firstReality?e._e():i("div",{staticClass:"l-glyph-selection__row"},e._l(e.glyphs,(function(t,a){return i("GlyphComponent",{key:a,class:e.glyphClass(a),attrs:{glyph:t,"is-in-modal":!0,"ignore-modified-level":!0,"show-sacrifice":e.canSacrifice},nativeOn:{click:function(t){return e.select(a)}}})})),1),e.firstReality?e._e():i("div",[e._v(" "+e._s(e.levelStats)+" "),i("br"),i("b",{staticClass:"o-warning"},[e._v(" "+e._s(e.warnText)+" ")])]),e.simRealities>1?i("div",[i("br"),e._v(" После того как вы выберете глиф из этих вариантов, игра симулирует оставшиеся реальности, "),i("br"),e._v(" автоматически выбирая ещё "+e._s(e.quantifyInt("глиф",e.simRealities-1))+" согласно Фильтру Глифов. ")]):e._e(),e.willAutoPurge?i("div",[i("br"),e._v(" Автоматическая прочистка в данный момент включена; выбранный вами глиф "),i("br"),e._v(" может не появиться в вашем инвентаре, так как будет удалён. ")]):e._e(),e.hasSpace?e._e():i("div",{staticClass:"o-warning"},[e.simRealities>1?i("span",[e._v(" Вы симулируете больше реальностей, чем в вашем инвентаре свободных ячеек; вследствие этого некоторые выбираемые глифы могут быть пожертвованы. ")]):i("span",[e._v(" В вашем инвентаре нет свободных ячеек - выбранный вами глиф будет автоматически "+e._s(e.canSacrifice?"пожертвован":"удалён")+"! ")])]),e.confirmationToDisable?i("div",[i("br"),e._v(" Вы можете вынудить это окно открыться (даже если оно отключено) при нажатии кнопки реальности, зажав клавишу Shift. ")]):e._e()])},Xf=[],zf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._g({class:["l-glyph-component",{"c-glyph-component--dragging":e.isDragging}],style:e.outerStyle,attrs:{draggable:e.draggable}},e.draggable?{dragstart:e.dragStart,dragend:e.dragEnd,drag:e.drag}:{}),[i("div",{ref:"glyph",class:["l-glyph-component","c-glyph-component"],style:e.innerStyle},[e._v(" "+e._s(e.symbol)+" "),e.$viewModel.shiftDown||e.showGlyphEffectDots?e._l(e.glyphEffects,(function(t){return i("div",{key:t,style:e.glyphEffectDots(t)})})):e._e()],2),i("div",{style:e.glyphBorderStyle()}),e.hasTooltip&&e.tooltipLoaded?i("GlyphTooltip",e._b({directives:[{name:"show",rawName:"v-show",value:e.isCurrentTooltip,expression:"isCurrentTooltip"}],ref:"tooltip",class:e.tooltipDirectionClass,style:e.zIndexStyle,attrs:{"sacrifice-reward":e.sacrificeReward,"refine-reward":e.refineReward,"uncapped-refine-reward":e.uncappedRefineReward,"current-action":e.currentAction,"score-mode":e.scoreMode,"show-deletion-text":e.showSacrifice,"display-level":e.displayLevel,component:e.componentID,"change-watcher":e.logTotalSacrifice}},"GlyphTooltip",e.glyph,!1)):e._e(),e.isNew?i("div",{staticClass:"l-corner-icon l-new-glyph"},[e._v(" Новый! ")]):e.isUnequipped?i("div",{staticClass:"l-corner-icon l-unequipped-glyph fas fa-arrow-up-from-bracket"}):e._e(),e.displayedInfo?i("div",{staticClass:"l-glyph-info"},[e._v(" "+e._s(e.displayedInfo)+" ")]):e._e(),i("div",e._g({ref:"over",style:e.overStyle,on:{click:[function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.$emit("shiftClicked",e.glyph.id):null},function(t){return t.ctrlKey&&t.shiftKey?t.altKey||t.metaKey?null:e.$emit("ctrlShiftClicked",e.glyph.id):null},function(t){return t.metaKey&&t.shiftKey?t.ctrlKey||t.altKey?null:e.$emit("ctrlShiftClicked",e.glyph.id):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.$emit("clicked",e.glyph.id)}]}},e.mouseEventHandlers))],1)},Kf=[],Qf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._g({staticClass:"l-glyph-tooltip c-glyph-tooltip",style:e.glyphTooltipStyle},e.eventHandlers),[i("div",{staticClass:"c-glyph-tooltip__header",style:e.glyphHeaderStyle},[i("span",{staticClass:"c-glyph-tooltip__description",style:e.descriptionStyle,domProps:{innerHTML:e._s(e.description)}}),i("span",{staticClass:"l-glyph-tooltip__info"},[i("span",{domProps:{innerHTML:e._s(e.levelText)}}),i("span",{domProps:{innerHTML:e._s(e.rarityText)}})]),e.showDeletionText?i("span",[i("span",e._g({staticClass:"c-glyph-tooltip__sacrifice"},e.onTouchDevice?{click:e.removeGlyph}:{}),[i("span",{domProps:{innerHTML:e._s(e.sacrificeText())}}),e.sacrificeText()&&e.refineText()?i("span",[e._v(" | ")]):e._e(),i("span",{domProps:{innerHTML:e._s(e.refineText())}})])]):e._e(),i("span",{staticClass:"c-glyph-tooltip__sacrifice"},[e._v(e._s(e.scoreText()))])]),i("div",{staticClass:"l-glyph-tooltip__effects"},[e._l(e.sortedEffects,(function(t){return i("GlyphTooltipEffect",{key:t.id+e.changeWatcher,attrs:{effect:t.id,value:t.value}})})),e.showChaosText?i("div",{staticClass:"pelle-current-glyph-effects c-glyph-tooltip__effect"},[e._v(" "+e._s(e.chaosDescription)+" ")]):e._e()],2)])},Jf=[],Zf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-glyph-tooltip__effect",class:{"o-pelle-disabled":e.isPelleDisabled}},[i("span",{domProps:{innerHTML:e._s(e.convertedParts[0])}}),e.hasValue?i("span",{style:e.valueStyle},[e._v(e._s(e.primaryEffectText))]):e._e(),i("span",{domProps:{innerHTML:e._s(e.convertedParts[1])}}),e.hasSecondaryValue?i("span",{style:e.valueStyle},[e._v(e._s(e.secondaryEffectText))]):e._e(),e.hasSecondaryValue?i("span",{domProps:{innerHTML:e._s(e.convertedParts[2])}}):e._e()])},eg=[];const tg={name:"GlyphTooltipEffect",props:{effect:{type:String,required:!0},value:{type:[Number,Object],required:!0}},computed:{effectConfig(){return GlyphEffects[this.effect]},boostColor(){return void 0!==this.effectConfig.alterationType&&this.effectConfig.alterationType!==ALTERATION_TYPE.ADDITION?this.effectConfig.alteredColor():void 0},additionColor(){return this.effectConfig.alterationType===ALTERATION_TYPE.ADDITION?this.effectConfig.alteredColor():void 0},effectStringTemplate(){return this.effectConfig.singleDesc},primaryEffectText(){const e=this.effectConfig.formatSingleEffect(this.value);return this.boostColor?`⯅${e}`:e},secondaryEffectText(){const e=this.effectConfig.formatSingleSecondaryEffect(this.effectConfig.conversion(this.value));return this.boostColor?`⯅${e}`:e},textSplits(){const e=this.effectStringTemplate.split("{value}"),t=e[1]?e[1].split("{value2}"):"";return 1!==t.length?[e[0]].concat(t):e},hasValue(){return this.effectStringTemplate.includes("{value}")},hasSecondaryValue(){return void 0!==this.textSplits[2]},isPelleDisabled(){return this.effectConfig.isDisabledByDoomed},convertedParts(){const e=[];for(const t of this.textSplits)e.push(this.convertToHTML(t));return e},valueStyle(){return this.boostColor?{color:this.boostColor,"text-shadow":`0 0 0.4rem ${this.boostColor}`}:{color:"#76EE76"}},textShadowColor(){return GlyphAppearanceHandler.getBaseColor(!0)}},methods:{convertToHTML(e){return e.replace("\n","<br>").replace("]","</span>").replace("[",`<span style="${GlyphAppearanceHandler.isLightBG?"":"text-shadow: white 0 0 0.6rem;"}\n            font-weight: bold;">`)}}},ig=tg;var ag=(0,H.A)(ig,Zf,eg,!1,null,null,null);const ng=ag.exports,sg={name:"GlyphTooltip",components:{GlyphTooltipEffect:ng},props:{type:{type:String,required:!0},strength:{type:Number,required:!0},level:{type:Number,required:!0},effects:{type:Number,required:!0},id:{type:Number,required:!1,default:0},sacrificeReward:{type:Number,required:!1,default:0},refineReward:{type:Number,required:!1,default:0},uncappedRefineReward:{type:Number,required:!1,default:0},currentAction:{type:String,required:!0},scoreMode:{type:Number,required:!0},showDeletionText:{type:Boolean,required:!1,default:!0},displayLevel:{type:Number,required:!1,default:0},changeWatcher:{type:Number,required:!0}},data(){return{showChaosText:!1,chaosDescription:""}},computed:{onTouchDevice(){return GameUI.touchDevice},effectiveLevel(){return this.displayLevel?this.displayLevel:this.level},sortedEffects(){return getGlyphEffectValuesFromBitmask(this.effects,this.effectiveLevel,this.strength,this.type).filter((e=>GlyphEffects[e.id].isGenerated===generatedTypes.includes(this.type)))},rarityInfo(){return getRarity(this.strength)},baseColor(){return CosmeticGlyphTypes[this.type].currentColor.bg},textColor(){return"black"===this.baseColor?"white":"black"},mainBorderColor(){return GlyphAppearanceHandler.getBorderColor(this.type)},descriptionStyle(){const e=GlyphAppearanceHandler.getRarityColor(this.strength,this.type),t=GlyphAppearanceHandler.isLightBG?"white":"black";return{color:"cursed"===this.type?t:e,animation:"reality"===this.type?"a-reality-glyph-name-cycle 10s infinite":void 0}},description(){switch(this.type){case"companion":return"Глиф-компаньон";case"cursed":return"Проклятый Глиф";case"reality":return"Чистый Глиф Реальности";default:return`${this.rarityInfo.nameRussian} Глиф ${translateGlyph(this.type)}`}},isLevelCapped(){return this.displayLevel&&this.displayLevel<this.level},isLevelBoosted(){return this.displayLevel&&this.displayLevel>this.level},rarityText(){if(!GlyphTypes[this.type].hasRarity)return"";const e=Pelle.isDoomed?Pelle.glyphStrength:this.strength;return`| Редкость:\n        <span style="color: ${this.descriptionStyle.color}">${formatRarity(strengthToRarity(e))}</span>`},levelText(){if("companion"===this.type)return"";const e=this.isLevelCapped?"<i class='fas fa-sort-down'></i>":this.isLevelBoosted?"<i class='fas fa-sort-up'></i>":"",t=this.isLevelCapped?"#ff4444":this.isLevelBoosted?"#44FF44":void 0;return`Уровень: <span style="color: ${t}">\n              ${e}${formatInt(this.effectiveLevel)}${e}\n              </span>`},eventHandlers(){return GameUI.touchDevice?{touchstart:this.touchStart,dragstart:this.dragStart,dragEnd:this.dragEnd}:{}},glyphTooltipStyle(){const e="cursed"===this.type?this.textColor:GlyphAppearanceHandler.getBorderColor(this.type);return{"pointer-events":this.onTouchDevice?void 0:"none","border-color":e,"box-shadow":`0 0 0.5rem ${e}, 0 0 0.5rem ${e} inset`,animation:"reality"===this.type?"a-reality-glyph-tooltip-cycle 10s infinite":void 0,color:this.textColor,background:this.baseColor}},glyphHeaderStyle(){const e="cursed"===this.type,t="reality"===this.type;let i=GlyphAppearanceHandler.getRarityColor(this.strength,this.type);return e&&(i=this.textColor),"companion"===this.type&&(i=GlyphAppearanceHandler.getBorderColor(this.type)),{"border-color":i,"box-shadow":`0 0 0.5rem 0.1rem ${i}, 0 0 0.8rem ${i} inset`,animation:t?"a-reality-glyph-tooltip-header-cycle 10s infinite":void 0,color:this.textColor,background:this.baseColor}}},watch:{changeWatcher(){this.$recompute("sortedEffects")}},mounted(){document.body.appendChild(this.$el)},destroyed(){try{document.body.removeChild(this.$el)}catch(e){}},methods:{update(){this.showChaosText=Pelle.specialGlyphEffect.isUnlocked,this.showChaosText&&(this.chaosDescription=Pelle.getSpecialGlyphEffectDescription(this.type))},touchStart(){this.$parent.$emit("tooltip-touched")},dragStart(e){e.preventDefault(),e.stopPropagation()},dragEnd(e){e.preventDefault(),e.stopPropagation()},removeGlyph(){GlyphSacrificeHandler.removeGlyph(Glyphs.findById(this.id),!1)},getFontColor(){return Theme.current().isDark()?"#cccccc":"black"},sacrificeText(){if("companion"===this.type||"cursed"===this.type)return"";const e=`${format(this.sacrificeReward,2,2)}`,t="sacrifice"===this.currentAction;return`<span style="font-weight: ${t?"bold":""};">\n              Жертвенная ценность: ${e}\n              </span>`},refineText(){if("companion"===this.type||"cursed"===this.type||"reality"===this.type)return"";if(!AlchemyResource[this.type].isUnlocked)return"";let e=`${format(this.uncappedRefineReward,2,2)} ${GLYPH_SYMBOLS[this.type]}`;this.uncappedRefineReward!==this.refineReward&&(e+=` (Фактическая ценность с учётом ограничения: ${format(this.refineReward,2,2)} ${GLYPH_SYMBOLS[this.type]})`);const t="refine"===this.currentAction;return`<span style="font-weight: ${t?"bold":""};">\n              Алхимическая ценность: ${e}\n              </span>`},scoreText(){if("companion"===this.type||"cursed"===this.type||"reality"===this.type)return"";const e=[AUTO_GLYPH_SCORE.RARITY_THRESHOLD,AUTO_GLYPH_SCORE.SPECIFIED_EFFECT,AUTO_GLYPH_SCORE.EFFECT_SCORE];return e.includes(this.scoreMode)?`Оценка Фильтра: ${format(AutoGlyphProcessor.glyphScore(this.$parent.glyph),1,1)}`:""}}},rg=sg;var og=(0,H.A)(rg,Qf,Jf,!1,null,"7e78feca",null);const lg=og.exports,cg={common:[],uncommon:[{lineType:"linear",angles:[45],colorSplit:[14,16,84,86]}],rare:[{lineType:"linear",angles:[45,135],colorSplit:[14,16,84,86]}],epic:[{lineType:"linear",angles:[45,135],colorSplit:[12,14,16,18,82,84,86,88]}],legendary:[{lineType:"bump",colorSplit:[15,25]}],mythical:[{lineType:"bump",colorSplit:[15,25]},{lineType:"linear",angles:[45,135],colorSplit:[10,13,87,90]}],transcendent:[{lineType:"bump",colorSplit:[15,35]},{lineType:"linear",angles:[45,135],colorSplit:[10,12,14,16,84,86,88,90]}],celestial:[{lineType:"bump",colorSplit:[15,35]},{lineType:"radial",colorSplit:[65,85]}],cursed:[{lineType:"spike",center:[40,40],angles:[305,325]},{lineType:"spike",center:[60,40],angles:[35,55]},{lineType:"spike",center:[60,60],angles:[125,145]},{lineType:"spike",center:[40,60],angles:[215,235]}],companion:[{lineType:"companion"}]};function ug(e,t,i,a){let n,s,r,o,l=!1;const c=[],u=[];switch(e.lineType){case"linear":n=[0,...e.colorSplit,100],s=e=>a?50+.7*(e-50):e;for(const i of e.angles){for(let e=0;e<n.length-1;e++)c.push(`${l?t:"transparent"} ${s(n[e])}% ${s(n[e+1])}%`),l=!l;u.push(`repeating-linear-gradient(${i}deg, ${c.join(",")})`)}return u.join(",");case"bump":o="effarig"===i.type?`${t}60`:t,r=["50% -25%","50% 125%","-25% 50%","125% 50%"],s=e=>a?e:.9*e;for(let t=0;t<4;t++)c.push(`radial-gradient(at ${r[t]}, transparent, ${o} ${s(e.colorSplit[0])}%,\n          transparent ${s(e.colorSplit[1])}%)`);return c.join(",");case"radial":n=[50,...e.colorSplit,100],s=e=>a?.9*e:100-(100-e)/2;for(const e of n)c.push(`${l?t:"transparent"} ${s(e)}%`),l=!l;return`radial-gradient(${c.join(",")})`;case"spike":return c.push(`transparent ${e.angles[0]-5}deg`),c.push(`${t}b0 ${e.angles[0]+5}deg`),c.push(`${t}b0 ${e.angles[1]-5}deg`),c.push(`transparent ${e.angles[1]+5}deg`),`conic-gradient(from 0deg at ${e.center[0]}% ${e.center[1]}%, ${c.join(",")})`;case"companion":n=[0,30,330,360],o=[t,"transparent","transparent",t];for(let e=0;e<4;e++)c.push(`${o[e]} ${n[e]}deg`);u.push(`conic-gradient(${c.join(",")})`),r=["125% 125%","-25% 125%"],s=e=>a?.9*(e+10):e;for(let e=0;e<2;e++)u.push(`radial-gradient(at ${r[e]}, transparent, ${t} ${s(30)}%,\n          transparent ${s(50)}%)`);return u.join(",");default:throw new Error("Unrecognized glyph border data")}}const dg={name:"GlyphComponent",components:{GlyphTooltip:lg},props:{glyph:{type:Object,required:!0},isInModal:{type:Boolean,required:!1,default:!1},isNew:{type:Boolean,required:!1,default:!1},isUnequipped:{type:Boolean,required:!1,default:!1},showSacrifice:{type:Boolean,required:!1,default:!1},ignoreModifiedLevel:{type:Boolean,required:!1,default:!1},realityGlyphBoost:{type:Number,required:!1,default:0},isInventoryGlyph:{type:Boolean,required:!1,default:!1},isActiveGlyph:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"5rem"},glowBlur:{type:String,required:!1,default:"1rem"},glowSpread:{type:String,required:!1,default:"0.2rem"},bottomPadding:{type:String,required:!1,default:"0.3rem"},textProportion:{type:Number,required:!1,default:.5},circular:{type:Boolean,required:!1,default:!1},draggable:{type:Boolean,required:!1,default:!1},flipTooltip:{type:Boolean,required:!1,default:!1}},data(){return{componentID:UIID.next(),isDragging:!1,suppressTooltip:!1,isTouched:!1,tooltipEnabled:!1,sacrificeReward:0,uncappedRefineReward:0,refineReward:0,displayLevel:0,tooltipLoaded:!1,logTotalSacrifice:0,realityColor:""}},computed:{hasTooltip(){return Boolean(this.glyph.effects)},typeConfig(){return GlyphTypes[this.glyph.type]},cosmeticConfig(){var e;return CosmeticGlyphTypes[null!==(e=this.glyph.cosmetic)&&void 0!==e?e:this.glyph.type]},isBlobHeart(){return"S11"===this.$viewModel.theme&&"companion"===this.glyph.type},symbol(){const e=this.glyph.symbol;return this.isBlobHeart?"":e||("S4"!==this.$viewModel.theme||this.glyph.cosmetic?this.cosmeticConfig.currentSymbol.symbol:CANCER_GLYPH_SYMBOLS[this.glyph.type])},symbolBlur(){return!this.isBlobHeart&&(this.glyph.symbol?!GlyphAppearanceHandler.unblurredSymbols.includes(this.symbol):this.cosmeticConfig.currentSymbol.blur)},zIndexStyle(){return{"z-index":this.isInModal?7:6}},colorObj(){var e,t,i,a,n,s;let r,o;return this.glyph.color&&(r=GlyphAppearanceHandler.getColorProps(this.glyph.color)),this.glyph.cosmetic&&(r=this.glyph.cosmetic===this.glyph.type&&"cursed"===this.glyph.type?GlyphAppearanceHandler.getBaseColor(!0):this.cosmeticConfig.currentColor),o=this.isRealityGlyph&&this.realityColor?this.realityColor:this.cosmeticConfig.ignoreRarityColor?GlyphAppearanceHandler.getBorderColor(this.glyph.type):GlyphAppearanceHandler.getRarityColor(this.glyph.strength,this.glyph.type),{border:null!==(e=null===(t=r)||void 0===t?void 0:t.border)&&void 0!==e?e:GlyphAppearanceHandler.getBorderColor(this.glyph.type),symbol:null!==(i=null===(a=r)||void 0===a?void 0:a.border)&&void 0!==i?i:o,bg:null!==(n=null===(s=r)||void 0===s?void 0:s.bg)&&void 0!==n?n:this.cosmeticConfig.currentColor.bg}},symbolColor(){return player.options.swapGlyphColors?this.colorObj.border:this.colorObj.symbol},borderColor(){return player.options.swapGlyphColors?this.colorObj.symbol:this.colorObj.border},bgColor(){return this.colorObj.bg},overStyle(){return{width:this.size,height:this.size,position:"absolute","background-color":"rgba(0, 0, 0, 0)","box-shadow":`0 0 ${this.glowBlur} calc(${this.glowSpread} + 0.1rem) ${this.borderColor} inset`,"border-radius":this.circular?"50%":"0"}},outerStyle(){return{width:this.size,height:this.size,"background-color":this.borderColor,"box-shadow":`0 0 ${this.glowBlur} ${this.glowSpread} ${this.borderColor}`,"border-radius":this.circular?"50%":"0","-webkit-user-drag":this.draggable?"":"none"}},innerStyle(){const e=this.symbolColor;return{width:`calc(${this.size} - 0.2rem)`,height:`calc(${this.size} - 0.2rem)`,"font-size":`calc( ${this.size} * ${this.textProportion} )`,color:e,"text-shadow":this.symbolBlur?`-0.04em 0.04em 0.08em ${e}`:void 0,"border-radius":this.circular?"50%":"0","padding-bottom":this.bottomPadding,background:this.bgColor}},mouseEventHandlers(){const e=this.hasTooltip?{mouseenter:this.mouseEnter,"&mousemove":this.mouseMove,mouseleave:this.mouseLeave,mousedown:this.mouseDown,touchstart:this.touchStart,touchend:this.touchEnd}:{};return(this.hasTooltip||this.draggable)&&(e.touchmove=this.touchMove),e},isCurrentTooltip(){return this.$viewModel.tabs.reality.currentGlyphTooltip===this.componentID},tooltipDirectionClass(){let e=this.$viewModel.tabs.reality.glyphTooltipDirection;switch(this.flipTooltip&&(e+=1),e){case-1:return"l-glyph-tooltip--down-left";case 0:return"l-glyph-tooltip--down-right";case 1:return"l-glyph-tooltip--up-left";case 2:return"l-glyph-tooltip--up-right";default:return""}},glyphEffects(){let e=0;switch(this.glyph.type){case"time":case"cursed":case"companion":e=0;break;case"dilation":case"reality":e=4;break;case"replication":e=8;break;case"infinity":e=12;break;case"power":e=16;break;case"effarig":e=20;break;default:throw new Error(`Unrecognized glyph type "${this.glyph.type}" in glyph effect icons`)}const t=[];let i=this.glyph.effects>>e;for(let a=0;i>0;a++)1===(1&i)&&t.push(a),i>>=1;return t},isRealityGlyph(){return"reality"===this.glyph.type},isCursedGlyph(){return"cursed"===this.glyph.type},isCompanionGlyph(){return"companion"===this.glyph.type},showGlyphEffectDots(){return player.options.showHintText.glyphEffectDots},displayedInfo(){const e=["companion","cursed"];if(!this.isInventoryGlyph||e.includes(this.glyph.type))return null;const t=player.options.showHintText;if(t.glyphInfoType===Wo.types.NONE||!t.showGlyphInfoByDefault&&!this.$viewModel.shiftDown)return null;const i=Wo.types;switch(t.glyphInfoType){case i.LEVEL:return this.updateDisplayLevel(),formatInt(0===this.displayLevel?this.glyph.level:this.displayLevel);case i.RARITY:return formatRarity(strengthToRarity(Pelle.isDoomed?Pelle.glyphStrength:this.glyph.strength));case i.SAC_VALUE:return format(this.sacrificeReward,2,2);case i.FILTER_SCORE:return format(AutoGlyphProcessor.glyphScore(this.glyph),1,1);case i.CURRENT_REFINE:return`${format(this.refineReward,2,2)} ${this.symbol}`;case i.MAX_REFINE:return`${format(this.uncappedRefineReward,2,2)} ${this.symbol}`;default:throw new Error("Unrecognized Glyph info type in info text")}},showBorders(){return player.options.glyphBorders}},watch:{logTotalSacrifice(){this.tooltipLoaded=!1,this.isCurrentTooltip&&this.showTooltip()}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,(()=>{this.$recompute("typeConfig"),this.$recompute("cosmeticConfig"),this.$recompute("innerStyle"),this.$recompute("overrideColor"),this.$recompute("showGlyphEffectDots"),this.$recompute("displayedInfo"),this.$recompute("showBorders")})),this.on$("tooltip-touched",(()=>this.hideTooltip())),this.on$(GAME_EVENT.TAB_CHANGED,(()=>this.hideTooltip())),setTimeout((()=>this.tooltipEnabled=!0),10)},beforeDestroy(){this.isCurrentTooltip&&this.hideTooltip(),this.$viewModel.draggingUIID===this.componentID&&(this.$viewModel.draggingUIID=-1)},methods:{update(){this.logTotalSacrifice=GameCache.logTotalGlyphSacrifice.value,this.realityColor=player.reality.glyphs.cosmetics.colorMap.reality?null:GlyphAppearanceHandler.realityColor,this.sacrificeReward=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph),this.uncappedRefineReward=ALCHEMY_BASIC_GLYPH_TYPES.includes(this.glyph.type)?GlyphSacrificeHandler.glyphRawRefinementGain(this.glyph):0,this.refineReward=ALCHEMY_BASIC_GLYPH_TYPES.includes(this.glyph.type)?GlyphSacrificeHandler.glyphRefinementGain(this.glyph):0,this.tooltipLoaded&&this.updateDisplayLevel()},updateDisplayLevel(){this.ignoreModifiedLevel?this.displayLevel=0:this.isActiveGlyph?this.displayLevel=getAdjustedGlyphLevel(this.glyph):this.isInventoryGlyph?this.displayLevel=getAdjustedGlyphLevel(this.glyph,0):this.displayLevel=this.glyph.level+(BASIC_GLYPH_TYPES.includes(this.glyph.type)?this.realityGlyphBoost:0)},hideTooltip(){this.tooltipLoaded=!1,this.$viewModel.tabs.reality.mouseoverGlyphInfo.type="",this.$viewModel.tabs.reality.mouseoverGlyphInfo.inInventory=!1,this.$viewModel.tabs.reality.currentGlyphTooltip=-1},showTooltip(){if(!this.tooltipEnabled)return;Glyphs.removeVisualFlag("unseen",this.glyph),Glyphs.removeVisualFlag("unequipped",this.glyph),this.tooltipLoaded=!0,this.$viewModel.tabs.reality.mouseoverGlyphInfo.inInventory=!this.circular;const e=this.$viewModel.tabs.reality.mouseoverGlyphInfo;e.type=this.glyph.type,e.sacrificeValue=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph),e.refineValue=GlyphSacrificeHandler.glyphRawRefinementGain(this.glyph),this.$viewModel.tabs.reality.currentGlyphTooltip=this.componentID,AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.SACRIFICE||AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE_TO_CAP&&0===this.refineReward?this.currentAction="sacrifice":this.currentAction="refine",this.scoreMode=AutoGlyphProcessor.scoreMode},moveTooltipTo(e,t){if(!this.$refs.tooltip)return;const i=this.$refs.tooltip.$el;if(i){const a=document.body.getBoundingClientRect();i.style.left=e-a.left+"px",i.style.top=t-a.top+"px",1===this.$viewModel.tabs.reality.glyphTooltipDirection?t-i.offsetHeight<=0&&t+i.offsetHeight<a.height&&(this.$viewModel.tabs.reality.glyphTooltipDirection=-1):t+i.offsetHeight>=a.height&&(this.$viewModel.tabs.reality.glyphTooltipDirection=1)}},mouseEnter(e){-1===this.$viewModel.draggingUIID&&(this.moveTooltipTo(e.clientX,e.clientY),this.showTooltip())},mouseLeave(){this.isCurrentTooltip&&this.hideTooltip()},mouseDown(){this.isTouched||this.hideTooltip()},mouseMove(e){this.isTouched||this.moveTooltipTo(e.clientX,e.clientY)},dragStart(e){this.hideTooltip(),this.isDragging=!0,this.suppressTooltip=!0,e.dataTransfer.setData(GLYPH_MIME_TYPE,this.glyph.id.toString()),e.dataTransfer.dropEffect="move";const t=this.$refs.over.getBoundingClientRect();e.dataTransfer.setDragImage(this.$refs.over,e.clientX-t.left,e.clientY-t.top),this.$viewModel.draggingUIID=this.componentID;const i=this.$viewModel.tabs.reality.draggingGlyphInfo;i.id=this.glyph.id,i.type=this.glyph.type,i.sacrificeValue=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph)},dragEnd(){this.isDragging=!1,this.suppressTooltip=!1,this.$viewModel.scrollWindow=0;const e=this.$viewModel.tabs.reality.draggingGlyphInfo;e.id=-1,e.type="",this.$viewModel.draggingUIID===this.componentID&&(this.$viewModel.draggingUIID=-1)},drag(e){if(0===e.screenX&&0===e.screenY)return void(this.$viewModel.scrollWindow=0);const t=100;e.clientY<t?this.$viewModel.scrollWindow=.9*e.clientY/t-1:e.clientY>window.innerHeight-t?this.$viewModel.scrollWindow=1-.9*(window.innerHeight-e.clientY)/t:this.$viewModel.scrollWindow=0},touchStart(){this.isTouched=!0},touchEnd(e){this.isCurrentTooltip?(e.preventDefault(),this.hideTooltip()):this.suppressTooltip||(e.preventDefault(),this.showTooltip(),this.moveTooltipTo(e.changedTouches[0].clientX,e.changedTouches[0].clientY)),this.suppressTooltip=!1,this.isTouched=!1},touchMove(e){const t=e.changedTouches[0],i=this.$refs.over.getBoundingClientRect();(t.clientX<i.left||t.clientY<i.top||t.clientX>i.left+i.width||t.clientY>i.top+i.height)&&(this.suppressTooltip=!0),this.isDragging&&this.drag(t)},effectIconPos(e){const t="effarig"===this.glyph.type?Math.PI/4*(e+1):Math.PI/2*(e+.5),i=.28*this.size.replace("rem",""),a=-i*Math.sin(t),n=i*(Math.cos(t)+.15);return{dx:a,dy:n}},glyphEffectDots(e){if(["companion","cursed"].includes(this.glyph.type))return{};const t=this.effectIconPos(e);return{position:"absolute",width:"0.3rem",height:"0.3rem","border-radius":"50%",background:this.symbolColor,transform:`translate(${t.dx-.045}rem, ${t.dy-.045}rem)`,opacity:"S9"===Theme.current().name?0:.8}},glyphBorderStyle(){if(!this.showBorders)return null;let e;e=this.isCursedGlyph?cg.cursed:this.isCompanionGlyph?cg.companion:cg[getRarity(this.glyph.strength).name.toLowerCase()];const t=e.map((e=>ug(e,this.borderColor,this.glyph,this.circular)));return{position:"absolute",left:"2%",width:"96%",height:"96%","border-radius":this.circular?"50%":"0",background:t.filter((e=>e)).join(",")}}}},hg=dg;var pg=(0,H.A)(hg,zf,Kf,!1,null,"4da7b2bb",null);const mg=pg.exports,yg={name:"RealityModal",components:{PrimaryButton:Fs,ModalWrapperChoice:Um,GlyphComponent:mg},data(){return{firstReality:!1,hasSpace:!0,hasChoice:!1,hasFilter:!1,glyphs:[],bestLevel:0,levelDifference:0,selectedGlyph:void 0,canRefresh:!1,level:0,simRealities:0,realityMachines:new Decimal,shardsGained:0,effarigUnlocked:!1,willAutoPurge:!1}},computed:{firstRealityText(){return`Реальность сбросит всё, кроме рекордов испытаний и статистики в разделе "Общее".\n        Достижения в первых ${formatInt(13)} рядах также будут сброшены,\n        но они будут восстанавливаться по одному раз в 30 минут.\n        Вы также получите определённое количество Машин Реальности в зависимости от максимального количества ваших Очков Вечности,\n        глиф, уровень которого зависит от максимального количества ваших Очков Вечности, Репликанти и Замедленного Времени в этой реальности, и Очко Умения, которое можно потратить\n        на улучшения, связанные с автоматизацией, и разблокируете различные улучшения.`},canSacrifice(){return RealityUpgrade(19).isEffectActive},warnText(){return this.hasChoice?this.hasFilter&&void 0===this.selectedGlyph?"Если вы не выберете глиф, один из них будет автоматически выбран в соответствии с Фильтром Глифов.":void 0===this.selectedGlyph?"Вы должны выбрать глиф.":null:"В данный момент вы не можете выбирать глиф, который вы получите\n          на реальности. Вы можете разблокировать такую возможность, закрыв это окно и\n          купив Навык СТАРТ."},gained(){const e=[];return e.push(`${quantifyInt("реальность",this.simRealities)}`),e.push(`${quantifyInt("Очко",this.simRealities)} Умения`),e.push(`${quantify("Машину",this.realityMachines,2)} Реальности`),this.effarigUnlocked&&e.push(`${quantify("Реликтовый Осколок",this.shardsGained,2)}`),`Вы получите ${makeEnumeration(e)}`},levelStats(){return`При реальности вы получите глиф уровня ${formatInt(this.level)}, то есть \n        ${this.level===this.bestLevel?"такого же, как":`на\n        ${formatInt(this.levelDifference)}\n        ${this.level>this.bestLevel?"выше":"ниже"}, чем`} максимальный ранее достигнутый.`},confirmationToDisable(){return ConfirmationTypes.glyphSelection.isUnlocked()?"glyphSelection":void 0},canConfirm(){return this.firstReality||void 0!==this.selectedGlyph||this.hasFilter}},created(){this.getGlyphs(),GlyphSelection.realityProps=getRealityProps(!1,!1)},methods:{update(){this.firstReality=0===player.realities,this.hasChoice=Perk.firstPerk.isEffectActive,this.effarigUnlocked=TeresaUnlocks.effarig.canBeApplied,this.hasFilter=EffarigUnlock.glyphFilter.isUnlocked,this.level=gainedGlyphLevel().actualLevel,this.simRealities=1+simulatedRealityCount(!1),this.hasSpace=GameCache.glyphInventorySpace.value>=this.simRealities;const e=MachineHandler.gainedRealityMachines.times(this.simRealities);if(this.realityMachines.copyFrom(e.clampMax(MachineHandler.distanceToRMCap)),this.shardsGained=Effarig.shardsGained*(simulatedRealityCount(!1)+1),this.willAutoPurge=player.reality.autoAutoClean,!this.firstReality){for(let e=0;e<this.glyphs.length;++e){const t=this.glyphs[e],i=GlyphSelection.glyphList(GlyphSelection.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1})[e];t.level!==i.level&&(t.level=i.level,t.effects=i.effects)}this.bestLevel=player.records.bestReality.glyphLevel,this.levelDifference=Math.abs(this.bestLevel-this.level)}},glyphClass(e){return{"l-modal-glyph-selection__glyph":!0,"l-modal-glyph-selection__glyph--selected":this.selectedGlyph===e}},getGlyphs(){this.canRefresh=!0,this.glyphs=GlyphSelection.upcomingGlyphs},select(e){this.selectedGlyph=e},confirmModal(e){this.canConfirm&&(e&&this.emitClose(),startManualReality(e,this.selectedGlyph))}}},fg=yg;var gg=(0,H.A)(fg,Wf,Xf,!1,null,"321a93ea",null);const bg=gg.exports;var vg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"replicantiGalaxy"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},Eg=[];const Tg={name:"ReplicantiGalaxyModal",components:{ModalWrapperChoice:Um},data(){return{replicanti:new Decimal,divideReplicanti:!1,canBeBought:0}},computed:{topLabel(){return`Вы получаете ${quantifyInt("Галактику",this.canBeBought)} Репликанти`},message(){const e=this.divideReplicanti?`разделено на ${format(Number.MAX_VALUE,2,2)} за каждую полученную Галактику Репликанти\n          (${format(this.replicanti,2,2)} ➜\n          ${format(this.replicanti.divide(Decimal.NUMBER_MAX_VALUE.pow(this.canBeBought)),2,2)})`:`сброшено до ${formatInt(1)}`;return`Галактики Репликанти усиливают ускорители так же, как Галактики Антиматерии. Однако их получение не\n        увеличивает цену Галактики Антиматерии, и эффекты, влияющие на Галактики Антиматерии, по умолчанию не влияют на Галактики Репликанти.\n        Количество ваших Репликанти будет ${e}.`}},methods:{update(){this.replicanti.copyFrom(player.replicanti.amount),this.divideReplicanti=Achievement(126).isUnlocked,this.canBeBought=Replicanti.galaxies.gain,this.replicanti.lt(Number.MAX_VALUE)&&this.emitClose()},handleYesClick(){replicantiGalaxy(!1)}}},_g=Tg;var Cg=(0,H.A)(_g,vg,Eg,!1,null,null,null);const Ag=Cg.exports;var kg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"resetReality"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы сбрасываете "+e._s(e.resetTerm)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Сбросить ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Вы полностью сбросите "+e._s(e.resetTerm)+" без получения наград за прогресс. "),i("br"),i("br"),e._v(" Вы уверены, что хотите сбросить "+e._s(e.resetTerm)+"? "),e.canReality?i("div",{staticClass:"c-has-rewards"},[i("br"),e._v(' В данный момент вы можете совершить реальность, получая все награды за прогресс в ней, однако вы их не получите, если вы сбросите реальность. Чтобы получить их, нажмите на кнопку "Создать новую реальность". ')]):e._e(),i("br")])])},wg=[];const Sg={name:"ResetRealityModal",components:{ModalWrapperChoice:Um},data(){return{isDoomed:!1,canReality:!1}},computed:{resetTerm(){return this.isDoomed?"армагеддон":"реальность"}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.canReality=isRealityAvailable()},handleYesClick(){beginProcessReality(getRealityProps(!0)),EventHub.ui.offAll(this)}}},xg=Sg;var Rg=(0,H.A)(xg,kg,wg,!1,null,"dbd7f9de",null);const Ig=Rg.exports;var Mg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки анимаций ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},[e.infinityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Большое Сжатие:"},model:{value:e.bigCrunch,callback:function(t){e.bigCrunch=t},expression:"bigCrunch"}}):e._e(),e.eternityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Вечность:"},model:{value:e.eternity,callback:function(t){e.eternity=t},expression:"eternity"}}):e._e(),e.dilationUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Замедление:"},model:{value:e.dilation,callback:function(t){e.dilation=t},expression:"dilation"}}):e._e(),e.tachyonsUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Тахионы:"},model:{value:e.tachyonParticles,callback:function(t){e.tachyonParticles=t},expression:"tachyonParticles"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Реальность:"},model:{value:e.reality,callback:function(t){e.reality=t},expression:"reality"}}):e._e(),e.isS11Active?i("div",[e.animatedThemeUnlocked?i("ModalOptionsToggleButton",{attrs:{onclick:"Themes.find(Theme.currentName()).set();",text:"Кляксопад:"},model:{value:e.background,callback:function(t){e.background=t},expression:"background"}}):e._e()],1):i("div",[e.animatedThemeUnlocked?i("ModalOptionsToggleButton",{attrs:{onclick:"Themes.find(Theme.currentName()).set();",text:"Фон:"},model:{value:e.background,callback:function(t){e.background=t},expression:"background"}}):e._e()],1),e.isS11Active?i("div",{staticClass:"c-blobflake-slider o-primary-btn o-primary-btn--modal-option o-primary-btn--slider"},[i("b",[e._v("Количество клякс")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.blobSnowflakes},on:{input:function(t){return e.adjustSliderValue(t)}}},"SliderComponent",e.sliderProps,!1))],1):e._e()],1)])},Dg=[],Pg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PrimaryToggleButton",{staticClass:"o-primary-btn--modal-option",style:e.styleObject,attrs:{value:e.value,label:e.text},on:{input:e.emitInput}})},Ug=[],Gg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PrimaryButton",e._b({on:{click:function(t){return e.emitInput(!e.value)}}},"PrimaryButton",e.$attrs,!1),[e._v(" "+e._s(e.displayText)+" ")])},Ng=[];const Bg={name:"PrimaryToggleButton",components:{PrimaryButton:Fs},props:{label:{type:String,required:!1,default:""},on:{type:String,required:!1,default:"ВКЛ."},off:{type:String,required:!1,default:"ВЫКЛ."},value:{type:Boolean,required:!0}},computed:{displayText(){return`${this.label} ${this.value?this.on:this.off}`.trim()}}},Og=Bg;var Lg=(0,H.A)(Og,Gg,Ng,!1,null,null,null);const $g=Lg.exports,Hg={name:"ModalOptionsToggleButton",components:{PrimaryToggleButton:$g},props:{value:{type:Boolean,required:!1,default:!1},text:{type:String,required:!0}},computed:{styleObject(){return{"background-color":this.value?"var(--color-good)":"var(--color-gh-purple)"}}}},Fg=Hg;var qg=(0,H.A)(Fg,Pg,Ug,!1,null,null,null);const Vg=qg.exports;var Yg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{staticClass:"c-modal-options l-modal-options",scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0}],null,!0)},[e._t("default")],2)},jg=[],Wg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal__inner"},[i("div",{staticClass:"c-modal__header"},[i("ModalCloseButton",{on:{click:e.closeModal}}),e.$slots.header?i("span",{staticClass:"c-modal__title"},[e._t("header")],2):e._e()],1),e._t("default")],2)},Xg=[];const zg={name:"ModalWrapper",components:{ModalCloseButton:Am},methods:{closeModal(){EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}},Kg=zg;var Qg=(0,H.A)(Kg,Wg,Xg,!1,null,"0ec9a581",null);const Jg=Qg.exports,Zg={name:"ModalWrapperOptions",components:{ModalWrapper:Jg}},eb=Zg;var tb=(0,H.A)(eb,Yg,jg,!1,null,null,null);const ib=tb.exports;var ab=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:["l-ad-slider",e.flowDirection,e.disabledClass,{"l-ad-slider--has-label":e.piecewiseLabel}]},[e.plusMinusButtons?i("PlusMinusButton",{attrs:{type:"minus"},on:{click:function(t){return e.increment(-1)}}}):e._e(),i("div",{ref:"wrap",class:["l-ad-slider__wrap",e.stateClass],style:[e.wrapStyles,e.boolDisabled?e.disabledStyle:null],on:{click:e.wrapClick}},[i("div",{ref:"elem",class:["l-ad-slider__bg","c-ad-slider__bg",e.bgClass],style:[e.elemStyles,e.bgStyle,e.draggableStyle],attrs:{"aria-hidden":"true"},on:{mousedown:function(t){return e.moveStart(t,0,!0)},touchstart:function(t){return e.moveStart(t,0,!0)}}},[e.isRange?[i("div",{key:"dot0",ref:"dot0",class:[e.tooltipStatus,"l-ad-slider__dot","c-ad-slider__dot",{"l-ad-slider__dot--focus":e.focusFlag&&0===e.focusSlider,"l-ad-slider__dot--dragging":e.flag&&0===e.currentSlider,"l-ad-slider__dot--disabled":!e.boolDisabled&&e.disabledArray[0]}],style:e.dotStyles,on:{mousedown:e.moveStart,touchstart:e.moveStart}},[i("div",{class:["l-ad-slider__dot-handle","c-ad-slider__dot-handle",e.dotClass],style:[!e.boolDisabled&&e.disabledArray[0]?e.disabledDotStyles[0]:null,e.sliderStyles[0],e.focusFlag&&0===e.focusSlider?e.focusStyles[0]:null]}),i("div",{ref:"tooltip0",class:["ad-slider-tooltip-"+e.tooltipDirection[0],"ad-slider-tooltip-wrap"]},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles[0]},[e._v(e._s(e.xformatter?e.formatting(e.val[0]):e.val[0]))])])]),i("div",{key:"dot1",ref:"dot1",class:[e.tooltipStatus,"l-ad-slider__dot","c-ad-slider__dot",{"l-ad-slider__dot--focus":e.focusFlag&&1===e.focusSlider,"l-ad-slider__dot--dragging":e.flag&&1===e.currentSlider,"l-ad-slider__dot--disabled":!e.boolDisabled&&e.disabledArray[1]}],style:e.dotStyles,on:{mousedown:function(t){return e.moveStart(t,1)},touchstart:function(t){return e.moveStart(t,1)}}},[i("div",{class:["l-ad-slider__dot-handle","c-ad-slider__dot-handle",e.dotClass],style:[!e.boolDisabled&&e.disabledArray[1]?e.disabledDotStyles[1]:null,e.sliderStyles[1],e.focusFlag&&1===e.focusSlider?e.focusStyles[1]:null]}),i("div",{ref:"tooltip1",class:["ad-slider-tooltip-"+e.tooltipDirection[1],"ad-slider-tooltip-wrap"]},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles[1]},[e._v(e._s(e.xformatter?e.formatting(e.val[1]):e.val[1]))])])])]:[i("div",{key:"dot0",ref:"dot0",class:[e.tooltipStatus,"l-ad-slider__dot","c-ad-slider__dot",{"l-ad-slider__dot--focus":e.focusFlag&&0===e.focusSlider,"l-ad-slider__dot--dragging":e.flag&&0===e.currentSlider}],style:e.dotStyles,on:{mousedown:e.moveStart,touchstart:e.moveStart}},[i("div",{class:["l-ad-slider__dot-handle","c-ad-slider__dot-handle",e.dotClass],style:[e.sliderStyles,e.focusFlag&&0===e.focusSlider?e.focusStyles:null]},[e._v(" "+e._s(e.dotContents(0))+" ")]),i("div",{class:["ad-slider-tooltip-"+e.tooltipDirection,"ad-slider-tooltip-wrap"]},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles},[e._v(e._s(e.xformatter?e.formatting(e.val):e.val))])])])],i("ul",{staticClass:"ad-slider-piecewise"},e._l(e.piecewiseDotWrap,(function(t,a){return i("li",{key:a,staticClass:"ad-slider-piecewise-item",style:[e.piecewiseDotStyle,t.style]},[e.piecewise?i("span",{staticClass:"ad-slider-piecewise-dot",style:[e.piecewiseStyle,e.isActive(t.index)?e.piecewiseActiveStyle:null]}):e._e(),e.piecewiseLabel?i("span",{staticClass:"ad-slider-piecewise-label",style:[e.labelStyle,e.isActive(t.index)?e.labelActiveStyle:null]},[e._v(" "+e._s(t.label)+" ")]):e._e()])})),0),i("div",{ref:"process",class:["l-ad-slider__process","c-ad-slider__process",{"ad-slider-process-draggable":e.isRange&&e.processDraggable},e.processClass],style:[e.elemStyles,e.bgStyle,e.draggableStyle],on:{click:e.processClick}},[i("div",{ref:"mergedTooltip",class:["vue-merged-tooltip","ad-slider-tooltip-"+e.tooltipDirection[0],"ad-slider-tooltip-wrap"],style:e.tooltipMergedPosition},[i("span",{staticClass:"ad-slider-tooltip",style:e.tooltipStyles},[e._v(" "+e._s(e.tooltipFormatHelper)+" ")])])])],2)]),e.plusMinusButtons?i("PlusMinusButton",{attrs:{type:"plus"},on:{click:function(t){return e.increment(1)}}}):e._e()],1)},nb=[],sb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"repeating-click",rawName:"v-repeating-click",value:{delay:500},expression:"{ delay: 500 }"}],staticClass:"c-ad-slider__button",on:{firstclick:function(t){return e.$emit("click")},repeatclick:function(t){return e.$emit("click")}}},[i("div",{class:e.iconClass})])},rb=[];const ob={name:"PlusMinusButton",props:{type:{type:String,required:!0}},computed:{iconClass(){return`fas fa-${this.type}`}}},lb=ob;var cb=(0,H.A)(lb,sb,rb,!1,null,"1c7fda29",null);const ub=cb.exports,db=function(){const e="undefined"!==typeof window&&window.devicePixelRatio||1;return t=>Math.round(t*e)/e}(),hb={name:"SliderComponent",components:{PlusMinusButton:ub},props:{width:{type:String,default:"auto"},height:{type:String,default:"6px"},data:{type:Array,default:null},dotSize:{type:[String,Number],default:"16px"},dotWidth:{type:String,required:!1},dotHeight:{type:String,required:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},show:{type:Boolean,default:!0},disabled:{type:[Boolean,Array],default:!1},piecewise:{type:Boolean,default:!1},tooltip:{type:[String,Boolean],default:"always"},eventType:{type:String,default:"auto"},direction:{type:String,default:"horizontal"},reverse:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},speed:{type:Number,default:.5},realTime:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1},value:{type:[String,Number,Array,Object],default:0},piecewiseLabel:{type:Boolean,default:!1},debug:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},minRange:{type:Number},maxRange:{type:Number},processDraggable:{type:Boolean,default:!1},useKeyboard:{type:Boolean,default:!1},actionsKeyboard:{type:Array,default(){return[e=>e-1,e=>e+1]}},piecewiseFilter:{type:Function},tooltipMerge:{type:Boolean,default:!0},startAnimation:{type:Boolean,default:!1},enableCross:{type:Boolean,default:!0},valueInDot:{type:Boolean,default:!1},plusMinusButtons:{type:Boolean,default:!1},sliderStyle:[Array,Object,Function],focusStyle:[Array,Object,Function],tooltipDir:[Array,String],xformatter:[String,Function],mergeFormatter:[String,Function],piecewiseStyle:Object,disabledStyle:Object,piecewiseActiveStyle:Object,processStyle:Object,processClass:String,bgStyle:Object,bgClass:String,tooltipStyle:[Array,Object,Function],disabledDotStyle:[Array,Object,Function],labelStyle:Object,labelActiveStyle:Object,dotClass:[String,Array]},data(){return{flag:!1,dragFlag:!1,crossFlag:!1,keydownFlag:null,focusFlag:!1,processFlag:!1,processSign:null,size:0,fixedValue:0,focusSlider:0,currentValue:0,currentSlider:0,isComponentExists:!0,isMounted:!1,dotAxialSizePx:1}},computed:{tooltipFormatHelper(){return this.mergeFormatter?this.mergeFormatting(this.val[0],this.val[1]):this.xformatter?this.val[0]===this.val[1]?this.formatting(this.val[0]):this.formatting(this.val[0])+"-"+this.formatting(this.val[1]):this.val[0]===this.val[1]?this.val[0]:this.val[0]+"-"+this.val[1]},dotWidthVal(){return this.dotWidth||this.dotSize},dotHeightVal(){return this.dotHeight||this.dotSize},flowDirection(){return"l-ad-slider--"+(this.direction+(this.reverse?"-reverse":""))},tooltipMergedPosition(){if(!this.isMounted)return{};const e=this.tooltipDirection[0];if(this.$refs.dot0){const t={};return t[e]=`-${this.dotAxialSizePx/2-this.size/2+9}px`,t["left"]="50%",t}},tooltipDirection(){const e=this.tooltipDir||("vertical"===this.direction?"left":"top");return Array.isArray(e)?this.isRange?e:e[1]:this.isRange?[e,e]:e},tooltipStatus(){return"hover"===this.tooltip&&this.flag?"ad-slider-always":this.tooltip?`ad-slider-${this.tooltip}`:""},tooltipClass(){return[`ad-slider-tooltip-${this.tooltipDirection}`,"ad-slider-tooltip"]},disabledArray(){return Array.isArray(this.disabled)?this.disabled:[this.disabled,this.disabled]},boolDisabled(){return this.disabledArray.every((e=>!0===e))},isDisabled(){return"none"===this.eventType||this.boolDisabled},disabledClass(){return this.boolDisabled?"l-ad-slider--disabled":""},stateClass(){return{"ad-slider-state-process-drag":this.processFlag,"ad-slider-state-drag":this.flag&&!this.processFlag&&!this.keydownFlag,"ad-slider-state-focus":this.focusFlag}},isRange(){return Array.isArray(this.value)},slider(){return this.isRange?[this.$refs.dot0,this.$refs.dot1]:[this.$refs.dot0]},minimum(){return this.data?0:this.min},val:{get(){return this.data?this.isRange?[this.data[this.currentValue[0]],this.data[this.currentValue[1]]]:this.data[this.currentValue]:this.currentValue},set(e){if(this.data)if(this.isRange){const t=this.data.indexOf(e[0]),i=this.data.indexOf(e[1]);t>-1&&i>-1&&(this.currentValue=[t,i])}else{const t=this.data.indexOf(e);t>-1&&(this.currentValue=t)}else this.currentValue=e}},currentIndex(){return this.isRange?this.data?this.currentValue:[this.getIndexByValue(this.currentValue[0]),this.getIndexByValue(this.currentValue[1])]:this.getIndexByValue(this.currentValue)},indexRange(){return this.isRange?this.currentIndex:[0,this.currentIndex]},maximum(){return this.data?this.data.length-1:this.max},multiple(){const e=`${this.interval}`.split(".")[1];return e?Math.pow(10,e.length):1},spacing(){return this.data?1:this.interval},total(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!==0&&this.printError("Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},usableSize(){return this.size-this.dotAxialSizePx},gap(){return this.usableSize/this.total},position(){return this.isRange?[(this.currentValue[0]-this.minimum)/this.spacing*this.gap+this.dotAxialSizePx/2,(this.currentValue[1]-this.minimum)/this.spacing*this.gap+this.dotAxialSizePx/2]:(this.currentValue-this.minimum)/this.spacing*this.gap+this.dotAxialSizePx/2},isFixed(){return this.fixed||this.minRange},limit(){return this.isRange?this.isFixed?[[this.dotAxialSizePx/2,this.dotAxialSizePx/2+(this.total-this.fixedValue)*this.gap],[this.fixedValue*this.gap+this.dotAxialSizePx/2,this.size-this.dotAxialSizePx/2]]:[[this.dotAxialSizePx/2,this.position[1]],[this.position[0],this.size-this.dotAxialSizePx/2]]:[this.dotAxialSizePx/2,this.size-this.dotAxialSizePx/2]},valueLimit(){return this.isRange?this.isFixed?[[this.minimum,this.maximum-this.fixedValue*(this.spacing*this.multiple)/this.multiple],[this.minimum+this.fixedValue*(this.spacing*this.multiple)/this.multiple,this.maximum]]:[[this.minimum,this.currentValue[1]],[this.currentValue[0],this.maximum]]:[this.minimum,this.maximum]},idleSlider(){return 0===this.currentSlider?1:0},wrapStyles(){let e="vertical"===this.direction?{height:this.height}:{width:this.width};return this.plusMinusButtons&&(e["vertical"===this.direction?"margin-top":"margin-right"]="0.5rem",e["vertical"===this.direction?"margin-bottom":"margin-left"]="0.5rem"),e},sliderStyles(){return Array.isArray(this.sliderStyle)?this.isRange?this.sliderStyle:this.sliderStyle[1]:"function"===typeof this.sliderStyle?this.sliderStyle(this.val,this.currentIndex):this.isRange?[this.sliderStyle,this.sliderStyle]:this.sliderStyle},focusStyles(){return Array.isArray(this.focusStyle)?this.isRange?this.focusStyle:this.focusStyle[1]:"function"===typeof this.focusStyle?this.focusStyle(this.val,this.currentIndex):this.isRange?[this.focusStyle,this.focusStyle]:this.focusStyle},disabledDotStyles(){const e=this.disabledDotStyle;if(Array.isArray(e))return e;if("function"===typeof e){const t=e(this.val,this.currentIndex);return Array.isArray(t)?t:[t,t]}return e?[e,e]:[{backgroundColor:"#ccc"},{backgroundColor:"#ccc"}]},tooltipStyles(){return Array.isArray(this.tooltipStyle)?this.isRange?this.tooltipStyle:this.tooltipStyle[1]:"function"===typeof this.tooltipStyle?this.tooltipStyle(this.val,this.currentIndex):this.isRange?[this.tooltipStyle,this.tooltipStyle]:this.tooltipStyle},elemStyles(){return"vertical"===this.direction?{width:this.width,height:"100%",position:"relative"}:{height:this.height,position:"relative"}},draggableStyle(){return{cursor:this.boolDisabled?"default":"pointer"}},dotStyles(){let e={width:this.dotWidthVal,height:this.dotHeightVal,position:"absolute"};return"vertical"===this.direction?e.left="50%":e.top="50%",e},piecewiseDotStyle(){return{width:this.width,height:this.height}},piecewiseDotWrap(){if(!this.piecewise&&!this.piecewiseLabel)return!1;let e=[];for(let t=0;t<=this.total;t++){const i="vertical"===this.direction?{bottom:this.gap*t-this.usableSize/2+"px",left:0}:{left:this.gap*t-this.usableSize/2+"px",top:0},a=this.reverse?this.total-t:t,n=this.data?this.data[a]:this.spacing*a+this.min;this.piecewiseFilter&&!this.piecewiseFilter({index:a,label:n})||e.push({style:i,index:a,label:this.xformatter?this.formatting(n):n})}return e}},watch:{value(e){this.flag||this.setValue(e,!0)},max(e){if(e<this.min)return this.printError("The maximum value can not be less than the minimum value.");const t=this.limitValue(this.val);this.setValue(t),this.refresh()},min(e){if(e>this.max)return this.printError("The minimum value can not be greater than the maximum value.");const t=this.limitValue(this.val);this.setValue(t),this.refresh()},show(e){e&&!this.size&&this.$nextTick((()=>{this.refresh()}))},fixed(){this.computedFixedValue()},minRange(){this.computedFixedValue()},reverse(){this.$refs.process.style.cssText="",this.refresh()}},methods:{bindEvents(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousedown",this.blurSlider),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup),window.addEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.addEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.addEventListener("transitionend",this.handleOverlapTooltip))},unbindEvents(){document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousedown",this.blurSlider),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd),document.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("keyup",this.handleKeyup),window.removeEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.removeEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.removeEventListener("transitionend",this.handleOverlapTooltip))},handleKeydown(e){if(!this.useKeyboard||!this.focusFlag)return!1;switch(e.keyCode){case 37:case 40:e.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[0]);break;case 38:case 39:e.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[1]);break}},handleKeyup(){this.keydownFlag&&(this.keydownFlag=!1,this.flag=!1)},changeFocusSlider(e){if(this.isRange){let t=this.currentIndex.map(((t,i)=>{if(i===this.focusSlider||this.fixed){const a=e(t),n=this.fixed?this.valueLimit[i]:[0,this.total];if(a<=n[1]&&a>=n[0])return a}return t}));t[0]>t[1]&&(this.focusSlider=0===this.focusSlider?1:0,t=t.reverse()),this.setIndex(t)}else this.setIndex(e(this.currentIndex))},blurSlider(e){const t=this.isRange?this.$refs[`dot${this.focusSlider}`]:this.$refs.dot;if(!t||t===e.target||t.contains(e.target))return!1;this.focusFlag=!1},formatting(e){return"string"===typeof this.xformatter?this.xformatter.replace(/\{value\}/,e):this.xformatter(e)},mergeFormatting(e,t){return"string"===typeof this.mergeFormatter?this.mergeFormatter.replace(/\{(value1|value2)\}/g,((i,a)=>"value1"===a?e:t)):this.mergeFormatter(e,t)},getPos(e){this.realTime&&this.getStaticData();var t=this.$refs.elem.getBoundingClientRect();return"vertical"===this.direction?this.reverse?e.clientY-t.top:this.size-(e.clientY-t.top):this.reverse?this.size-(e.clientX-t.left):e.clientX-t.left},processClick(e){this.fixed&&e.stopPropagation()},wrapClick(e){if(this.isDisabled||!this.clickable||this.processFlag||this.dragFlag)return!1;const t=this.getPos(e);if(this.isRange)if(this.disabledArray.every((e=>!1===e)))this.currentSlider=t>(this.position[1]-this.position[0])/2+this.position[0]?1:0;else if(this.disabledArray[0]){if(t<this.position[0])return!1;this.currentSlider=1}else if(this.disabledArray[1]){if(t>this.position[1])return!1;this.currentSlider=0}if(this.disabledArray[this.currentSlider])return!1;if(this.setValueOnPos(t),this.isRange&&this.tooltipMerge){const e=setInterval((()=>this.handleOverlapTooltip()),16.7);setTimeout((()=>window.clearInterval(e)),1e3*this.speed)}},moveStart(e,t=0,i){if(this.disabledArray[t])return!1;if(this.stopPropagation&&e.stopPropagation(),this.isRange){if(this.currentSlider=t,i){if(!this.processDraggable)return!1;this.processFlag=!0,this.processSign={pos:this.position,start:this.getPos(e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:e)}}this.enableCross||this.val[0]!==this.val[1]||(this.crossFlag=!0)}!i&&this.useKeyboard&&(this.focusFlag=!0,this.focusSlider=t),this.flag=!0,this.$emit("drag-start",this)},moving(e){if(this.stopPropagation&&e.stopPropagation(),!this.flag)return!1;e.preventDefault(),e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),this.processFlag?(this.currentSlider=0,this.setValueOnPos(this.processSign.pos[0]+this.getPos(e)-this.processSign.start,!0),this.currentSlider=1,this.setValueOnPos(this.processSign.pos[1]+this.getPos(e)-this.processSign.start,!0)):(this.dragFlag=!0,this.setValueOnPos(this.getPos(e),!0)),this.isRange&&this.tooltipMerge&&this.handleOverlapTooltip()},moveEnd(e){if(this.stopPropagation&&e.stopPropagation(),!this.flag)return!1;this.$emit("drag-end",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue(),this.flag=!1,window.setTimeout((()=>{this.crossFlag=!1,this.dragFlag=!1,this.processFlag=!1}),0),this.setPosition()},setValueOnPos(e,t){const i=this.isRange?this.limit[this.currentSlider]:this.limit,a=this.isRange?this.valueLimit[this.currentSlider]:this.valueLimit,n=Math.round((e-this.dotAxialSizePx/2)/this.gap);if(e>=i[0]&&e<=i[1]){const i=this.getValueByIndex(n);this.setTransform(e),this.setCurrentValue(i,t),this.isRange&&(this.fixed||this.isLessRange(e,n))&&(this.setTransform(e+this.fixedValue*this.gap*(0===this.currentSlider?1:-1),!0),this.setCurrentValue((i*this.multiple+this.fixedValue*this.spacing*this.multiple*(0===this.currentSlider?1:-1))/this.multiple,t,!0))}else{const s=e<i[0]?0:1,r=0===s?1:0;this.setTransform(i[s]),this.setCurrentValue(a[s]),this.isRange&&(this.fixed||this.isLessRange(e,n))?(this.setTransform(this.limit[this.idleSlider][s],!0),this.setCurrentValue(this.valueLimit[this.idleSlider][s],t,!0)):!this.isRange||!this.enableCross&&!this.crossFlag||this.isFixed||this.disabledArray[s]||this.currentSlider!==r||(this.focusSlider=s,this.currentSlider=s)}this.crossFlag=!1},isLessRange(e,t){if(!this.isRange||!this.minRange&&!this.maxRange)return!1;const i=0===this.currentSlider?this.currentIndex[1]-t:t-this.currentIndex[0];return this.minRange&&i<=this.minRange?(this.fixedValue=this.minRange,!0):this.maxRange&&i>=this.maxRange?(this.fixedValue=this.maxRange,!0):(this.computedFixedValue(),!1)},isDiff(e,t){return Object.prototype.toString.call(e)!==Object.prototype.toString.call(t)||(Array.isArray(e)&&e.length===t.length?e.some(((e,i)=>e!==t[i])):e!==t)},setCurrentValue(e,t,i){const a=i?this.idleSlider:this.currentSlider;if(e<this.minimum||e>this.maximum)return!1;this.isRange?this.isDiff(this.currentValue[a],e)&&(this.currentValue.splice(a,1,e),this.lazy&&this.flag||this.syncValue()):this.isDiff(this.currentValue,e)&&(this.currentValue=e,this.lazy&&this.flag||this.syncValue()),t||this.setPosition()},getValueByIndex(e){return(this.spacing*this.multiple*e+this.minimum*this.multiple)/this.multiple},getIndexByValue(e){return Math.round((e-this.minimum)*this.multiple)/(this.spacing*this.multiple)},setIndex(e){if(Array.isArray(e)&&this.isRange){let t;t=this.data?[this.data[e[0]],this.data[e[1]]]:[this.getValueByIndex(e[0]),this.getValueByIndex(e[1])],this.setValue(t)}else e=this.getValueByIndex(e),this.isRange&&(this.currentSlider=e>(this.currentValue[1]-this.currentValue[0])/2+this.currentValue[0]?1:0),this.setCurrentValue(e)},increment(e){if(this.boolDisabled)return;const t=this.getValue()+e*this.interval;t>this.max||t<this.min||this.setValue(t)},setValue(e,t,i){if(this.isDiff(this.val,e)){const i=this.limitValue(e);this.val=this.isRange?i.concat():i,this.computedFixedValue(),this.syncValue(t)}this.$nextTick((()=>this.setPosition(i)))},computedFixedValue(){if(!this.isFixed)return this.fixedValue=0,!1;this.fixedValue=Math.max(this.fixed?this.currentIndex[1]-this.currentIndex[0]:0,this.minRange||0)},setPosition(e){this.flag||this.setTransitionTime(void 0===e?this.speed:e),this.isRange?(this.setTransform(this.position[0],1===this.currentSlider),this.setTransform(this.position[1],0===this.currentSlider)):this.setTransform(this.position),this.flag||this.setTransitionTime(0)},setTransform(e,t){const i=t?this.idleSlider:this.currentSlider,a=db(("vertical"===this.direction?this.dotAxialSizePx/2-e:e-this.dotAxialSizePx/2)*(this.reverse?-1:1)),n="vertical"===this.direction?`translate(-50%, ${a}px)`:`translate(${a}px, -50%)`,s=this.fixed?this.fixedValue*this.gap+"px":(0===i?this.position[1]-e:e-this.position[0])+"px",r=this.fixed?`${0===i?e:e-this.fixedValue*this.gap}px`:`${0===i?e:this.position[0]}px`;this.slider[i].style.transform=n,this.slider[i].style.WebkitTransform=n,this.slider[i].style.msTransform=n,this.isRange?"vertical"===this.direction?(this.$refs.process.style.height=s,this.$refs.process.style[this.reverse?"top":"bottom"]=r):(this.$refs.process.style.width=s,this.$refs.process.style[this.reverse?"right":"left"]=r):"vertical"===this.direction?(this.$refs.process.style.height=`${e}px`,this.$refs.process.style[this.reverse?"top":"bottom"]=0):(this.$refs.process.style.width=`${e}px`,this.$refs.process.style[this.reverse?"right":"left"]=0)},setTransitionTime(e){e||this.$refs.process.offsetWidth;for(let t=0;t<this.slider.length;t++)this.slider[t].style.transitionDuration=`${e}s`,this.slider[t].style.WebkitTransitionDuration=`${e}s`;this.isRange,this.$refs.process.style.transitionDuration=`${e}s`,this.$refs.process.style.WebkitTransitionDuration=`${e}s`},limitValue(e){if(this.data)return e;const t=t=>t<this.min?(this.printError(`The value of the slider is ${e}, the minimum value is ${this.min}, the value of this slider can not be less than the minimum value`),this.min):t>this.max?(this.printError(`The value of the slider is ${e}, the maximum value is ${this.max}, the value of this slider can not be greater than the maximum value`),this.max):t;return this.isRange?e.map((e=>t(e))):t(e)},isActive(e){return e>=this.indexRange[0]&&e<=this.indexRange[1]},syncValue(e){let t=this.isRange?this.val.concat():this.val;this.$emit("input",t),this.keydownFlag&&this.$emit("on-keypress",t),e||this.$emit("callback",t)},getValue(){return this.val},getIndex(){return this.currentIndex},getStaticData(){this.$refs.elem&&(this.size="vertical"===this.direction?this.$refs.elem.offsetHeight:this.$refs.elem.offsetWidth,this.dotAxialSizePx="vertical"===this.direction?this.$refs.dot0.clientHeight:this.$refs.dot0.clientWidth)},refresh(){this.$refs.elem&&(this.getStaticData(),this.computedFixedValue(),this.setPosition(0))},printError(e){this.debug&&console.error(`[VueSlider error]: ${e}`)},handleOverlapTooltip(){const e=this.tooltipDirection[0]===this.tooltipDirection[1];if(this.isRange&&e){const e=this.reverse?this.$refs.tooltip1:this.$refs.tooltip0,t=this.reverse?this.$refs.tooltip0:this.$refs.tooltip1,i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),n=i.right,s=a.left,r=i.top,o=a.top+a.height,l="horizontal"===this.direction&&n>s,c="vertical"===this.direction&&o>r;l||c?this.handleDisplayMergedTooltip(!0):this.handleDisplayMergedTooltip(!1)}},handleDisplayMergedTooltip(e){const t=this.$refs.tooltip0,i=this.$refs.tooltip1,a=this.$refs.process.getElementsByClassName("vue-merged-tooltip")[0];e?(t.style.visibility="hidden",i.style.visibility="hidden",a.style.visibility="visible"):(t.style.visibility="visible",i.style.visibility="visible",a.style.visibility="hidden")},dotContents(){return"Blind"===Notations.current.name||"S9"===Theme.current().name?"":this.valueInDot?Math.round(this.getValue()):""}},mounted(){if(this.isComponentExists=!0,"undefined"===typeof window||"undefined"===typeof document)return this.printError("window or document is undefined, can not be initialization.");this.$nextTick((()=>{this.isComponentExists&&(this.getStaticData(),this.setValue(this.limitValue(this.value),!0,this.startAnimation?this.speed:0),this.bindEvents(),this.isRange&&this.tooltipMerge&&!this.startAnimation&&this.$nextTick((()=>{this.handleOverlapTooltip()})))})),this.isMounted=!0},beforeDestroy(){this.isComponentExists=!1,this.unbindEvents()}},pb=hb;var mb=(0,H.A)(pb,ab,nb,!1,null,null,null);const yb=mb.exports,fb={name:"AnimationOptionsModal",components:{ModalOptionsToggleButton:Vg,ModalWrapperOptions:ib,SliderComponent:yb},data(){return{infinityUnlocked:!1,eternityUnlocked:!1,dilationUnlocked:!1,tachyonsUnlocked:!1,realityUnlocked:!1,animatedThemeUnlocked:!1,bigCrunch:!1,eternity:!1,dilation:!1,tachyonParticles:!1,reality:!1,background:!1,blobSnowflakes:16,isS11Active:!1}},computed:{sliderProps(){return{min:1,max:500,interval:1,width:"100%",tooltip:!1}},fullCompletion(){return player.records.fullGameCompletions>0}},watch:{bigCrunch(e){player.options.animations.bigCrunch=e},eternity(e){player.options.animations.eternity=e},dilation(e){player.options.animations.dilation=e},tachyonParticles(e){player.options.animations.tachyonParticles=e},reality(e){player.options.animations.reality=e},background(e){player.options.animations.background=e},blobSnowflakes(e){player.options.animations.blobSnowflakes=parseInt(e,10)}},methods:{update(){const e=PlayerProgress.current;this.infinityUnlocked=this.fullCompletion||e.isInfinityUnlocked,this.eternityUnlocked=this.fullCompletion||e.isEternityUnlocked,this.realityUnlocked=this.fullCompletion||e.isRealityUnlocked,this.dilationUnlocked=this.realityUnlocked||Achievement(136).canBeApplied,this.tachyonsUnlocked=this.realityUnlocked||Currency.tachyonParticles.gt(0),this.animatedThemeUnlocked=Theme.animatedThemeUnlocked,this.isS11Active="S11"===Theme.currentName();const t=player.options.animations;this.bigCrunch=t.bigCrunch,this.eternity=t.eternity,this.dilation=t.dilation,this.tachyonParticles=t.tachyonParticles,this.reality=t.reality,this.background=t.background,this.blobSnowflakes=t.blobSnowflakes},adjustSliderValue(e){this.blobSnowflakes=e,player.options.blobSnowflakes=this.blobSnowflakes}}},gb=fb;var bb=(0,H.A)(gb,Mg,Dg,!1,null,"67565102",null);const vb=bb.exports;var Eb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"l-wrapper",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки отображения офлайн-прогресса ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},e._l(e.all,(function(e){return i("AwayProgressOptionsEntry",{key:e,attrs:{name:e}})})),1),e._v(" Примечание: выбранные ресурсы будут показаны, только если их количество увеличилось. ")])},Tb=[],_b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("ModalOptionsToggleButton",{attrs:{text:e.text},model:{value:e.setting,callback:function(t){e.setting=t},expression:"setting"}}):e._e()},Cb=[];const Ab={name:"AwayProgressOptionsEntry",components:{ModalOptionsToggleButton:Vg},props:{name:{type:String,required:!0}},data(){return{setting:!1,isVisible:!1}},computed:{type(){return AwayProgressTypes.all[this.name]},text(){return`${this.type.formatName}:`}},watch:{setting(e){this.type.option=e}},methods:{update(){const e=this.type;this.setting=e.option,this.isVisible=e.isUnlocked()}}},kb=Ab;var wb=(0,H.A)(kb,_b,Cb,!1,null,null,null);const Sb=wb.exports,xb={name:"AwayProgressOptionsModal",components:{AwayProgressOptionsEntry:Sb,ModalWrapperOptions:ib},computed:{all(){return AwayProgressTypes.showOption}}},Rb=xb;var Ib=(0,H.A)(Rb,Eb,Tb,!1,null,"2cb29536",null);const Mb=Ib.exports;var Db=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Автоматические резервные сохранения ")]},proxy:!0}])},[i("div",{staticClass:"c-info c-modal--short"},[e._v(" Игра автоматически делает резервные сохранения в зависимости от времени, проведённого онлайн или офлайн. Таймеры онлайн-сохранений идут только при открытой игре, а офлайн-сохранения помещаются в слот для самых редких подходящих сохранений. Кроме того, ваше текущее сохранение помещается в последний слот каждый раз, когда вы загружаете резервное сохранение. "),i("div",{staticClass:"c-modal__confirmation-toggle",on:{click:e.toggleOffline}},[i("div",{class:e.offlineOptionClass()},[e.ignoreOffline?i("span",{staticClass:"fas fa-check"}):e._e()]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Загрузить без офлайн-прогресса ")])]),i("div",{staticClass:"c-entry-container"},e._l(e.backupSlots,(function(t){return i("BackupEntry",{key:e.nextSave+t.id,staticClass:"l-backup-entry",attrs:{"slot-data":t}})})),1),e._v(" Эти резервы хранятся в том же месте, где и текущее сохранение, и могут быть утрачены, если вы совершите любое внешнее действие, которое удалит ваше сохранение, например, очистите файлы cookie в вашем браузере. Вы можете экспортировать резервные сохранения в файлы. "),i("div",{staticClass:"c-backup-file-ops"},[i("PrimaryButton",{staticClass:"o-btn-file-ops",attrs:{onclick:"GameStorage.exportBackupsAsFile()"}},[e._v(" Экспорт в файл ")])],1),e._v(" Все три ваши текущие сохранения имеют свои наборы резервов. ")])])},Pb=[],Ub=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-bordered-entry"},[i("h3",[e._v("Слот №"+e._s(e.slotData.id)+":")]),i("span",[e._v(e._s(e.progressStr))]),i("span",[e._v(" "+e._s(e.slotType)+" ")]),i("span",{staticClass:"c-fixed-height"},[e._v(e._s(e.lastSaved))]),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium",class:{"o-primary-btn--disabled":!e.save},on:{click:function(t){return e.load()}}},[e._v(" Загрузить ")])],1)},Gb=[];const Nb={name:"BackupEntry",components:{PrimaryButton:Fs},props:{slotData:{type:Object,required:!0}},data(){return{currTime:0}},computed:{save(){return GameStorage.loadFromBackup(this.slotData.id)},progressStr(){if(!this.save)return"(Пусто)";const e=[this.save.celestials.pelle.realityShards,this.save.reality.iMCap,this.save.reality.realityMachines,this.save.eternityPoints,this.save.infinityPoints,this.save.antimatter],t=["Осколков Реальности","Предел Мнимых Машин","Машин Реальности","Очков Вечности","Очков Бесконечности","Антиматерии"];for(let i=0;i<e.length;i++){const a=new Decimal(e[i]);if(a.gt(0))return`${t[i]}: ${formatPostBreak(a,2)}`}return"Нет ресурсов"},slotType(){var e,t;const i=null===(e=(t=this.slotData).intervalStr)||void 0===e?void 0:e.call(t);switch(this.slotData.type){case bh.ONLINE:return`Сохраняется раз в ${i} онлайн`;case bh.OFFLINE:return`Сохраняется раз в ${i} офлайн`;case bh.RESERVE:return"Сохранение до загрузки";default:throw new Error("Unrecognized backup save type")}},lastSaved(){var e,t;const i=null!==(e=null===(t=GameStorage.lastBackupTimes[this.slotData.id])||void 0===t?void 0:t.date)&&void 0!==e?e:0;return i?`Последний раз сохранено ${TimeSpan.fromMilliseconds(this.currTime-i,"accusative")} назад`:"Слот в данный момент не используется"}},methods:{update(){this.currTime=Date.now()},load(){if(!this.save)return;Modal.hide();const e=this.save;GameStorage.saveToReserveSlot(),GameStorage.ignoreBackupTimer=!0,GameStorage.offlineEnabled=!player.options.loadBackupWithoutOffline&&void 0,GameStorage.oldBackupTimer=player.backupTimer,GameStorage.loadPlayerObject(e),GameUI.notify.info(`Загружено резервное сохранение №${this.slotData.id}`),GameStorage.loadBackupTimes(),GameStorage.ignoreBackupTimer=!1,GameStorage.offlineEnabled=void 0,GameStorage.resetBackupTimer(),GameStorage.save(!0)}}},Bb=Nb;var Ob=(0,H.A)(Bb,Ub,Gb,!1,null,"c67fec58",null);const Lb=Ob.exports,$b={name:"BackupWindowModal",components:{ModalWrapper:Jg,BackupEntry:Lb,PrimaryButton:Fs},data(){return{nextSave:0,ignoreOffline:!1}},computed:{backupSlots:()=>vh,deleteText:()=>f?"fully uninstalling the game":"clearing your browser cookies"},watch:{ignoreOffline(e){player.options.loadBackupWithoutOffline=e}},methods:{update(){this.nextSave=Object.values(GameStorage.lastBackupTimes).map((e=>e&&e.backupTimer)).sum(),this.ignoreOffline=player.options.loadBackupWithoutOffline},offlineOptionClass(){return{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":this.ignoreOffline}},toggleOffline(){this.ignoreOffline=!this.ignoreOffline}}},Hb=$b;var Fb=(0,H.A)(Hb,Db,Pb,!1,null,"1f8e307e",null);const qb=Fb.exports;var Vb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки подтверждений ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},[e.noConfirmations?i("span",[e._v(" Вы не разблокировали ничего, что требовало бы подтверждения, но оно появилось бы здесь. ")]):e._e(),e._l(e.count,(function(e){return i("ConfirmationOptionsEntry",{key:e,attrs:{index:e-1}})}))],2)])},Yb=[],jb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("ModalOptionsToggleButton",{style:e.styleObject,attrs:{text:e.name},model:{value:e.option,callback:function(t){e.option=t},expression:"option"}}):e._e()},Wb=[];const Xb={name:"ConfirmationOptionsEntry",components:{ModalOptionsToggleButton:Vg},props:{index:{type:Number,required:!0}},data(){return{isUnlocked:!1,option:!1}},computed:{entry(){return ConfirmationTypes.index[this.index]},name(){return`${this.entry.name}:`},styleObject(){return{"background-color":this.option?"var(--color-good)":"var(--color-gh-purple)"}}},watch:{option(e){this.entry.option=e}},created(){this.option=this.entry.option},methods:{update(){const e=this.entry;this.isUnlocked=e.isUnlocked()}}},zb=Xb;var Kb=(0,H.A)(zb,jb,Wb,!1,null,null,null);const Qb=Kb.exports,Jb={name:"ConfirmationOptionsModal",components:{ModalWrapperOptions:ib,ConfirmationOptionsEntry:Qb},computed:{count(){return ConfirmationTypes.index.length},noConfirmations(){return ConfirmationTypes.index.every((e=>!e.isUnlocked()))}}},Zb=Jb;var ev=(0,H.A)(Zb,Vb,Yb,!1,null,null,null);const tv=ev.exports;var iv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"cancel-fn":e.cancelSet},on:{confirm:e.chooseSet},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Выберите косметический набор глифов ")]},proxy:!0}])},[i("div",{staticClass:"c-center"},[i("ExpandingControlBox",{staticClass:"o-primary-btn c-dropdown-btn",scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-dropdown-header"},[e._v(" ▼ Доступные наборы ▼ "),i("br"),e._v(" "+e._s(e.setName)+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("CosmeticSetDropdown")]},proxy:!0}])}),e.currentSet?i("div",[e._v(' Набор "'+e._s(e.currentSet.name)+'" содержит следующие '+e._s(e.setContents)+": "),i("br"),e._l(e.symbols,(function(t){return i("span",{key:t,staticClass:"o-single-symbol"},[e._v(" "+e._s(t)+" ")])})),i("br"),e._l(e.colors,(function(t){return i("span",{key:t,staticClass:"o-single-glyph"},[i("GlyphComponent",e._b({attrs:{glyph:e.fakeGlyph(t)}},"GlyphComponent",e.glyphIconProps,!1))],1)}))],2):e._e()],1)])},av=[],nv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},e._l(e.lockedSets,(function(t){return i("div",{key:t.id,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(i){return e.select(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)])},sv=[];const rv={name:"CosmeticSetDropdown",computed:{lockedSets(){return GlyphAppearanceHandler.lockedSets.map((e=>GameDatabase.reality.glyphCosmeticSets[e]))}},methods:{select(e){GlyphAppearanceHandler.setInModal=e,this.$parent.openRequest=!1}}},ov=rv;var lv=(0,H.A)(ov,nv,sv,!1,null,null,null);const cv=lv.exports,uv={name:"CosmeticSetChoiceModal",components:{ModalWrapperChoice:Um,ExpandingControlBox:Lo,CosmeticSetDropdown:cv,GlyphComponent:mg},data(){return{initialSet:"",currentSet:""}},computed:{lockedSets(){return GlyphAppearanceHandler.lockedSets},cosmeticTypes(){return CosmeticGlyphTypes.list.filter((e=>e.isCosmetic&&e.isUnlocked)).map((e=>e.id))},setName(){var e,t;return null!==(e=null===(t=this.currentSet)||void 0===t?void 0:t.name)&&void 0!==e?e:"Не выбран"},setContents(){const e=[];return this.symbols&&e.push(quantify("значок",this.symbols.length,0,0,(e=>e))),this.colors&&e.push(quantify("цвет",this.colors.length,0,0,(e=>e))),e.join(" и ")},symbols(){return this.currentSet.symbol},colors(){return this.currentSet.color},glyphIconProps(){return{size:"3rem","glow-blur":"0.3rem","glow-spread":"0.1rem","text-proportion":.66}}},created(){this.initialSet=GlyphAppearanceHandler.chosenFromModal,GlyphAppearanceHandler.setInModal=this.initialSet},methods:{update(){this.currentSet=GlyphAppearanceHandler.setInModal},chooseSet(){GlyphAppearanceHandler.chosenFromModal=this.currentSet},cancelSet(){GlyphAppearanceHandler.chosenFromModal=this.initialSet,this.emitClose()},fakeGlyph(e){return{type:"power",strength:1,color:e}}}},dv=uv;var hv=(0,H.A)(dv,iv,av,!1,null,"17315bb0",null);const pv=hv.exports;var mv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"c-modal-options__glyph",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки отображения глифов ")]},proxy:!0}])},[i("div",{staticClass:"c-glyph-visual-options c-modal--short"},[i("div",{staticClass:"c-modal-options__button-container"},[i("ModalOptionsToggleButton",{attrs:{text:"Идентификатор нового глифа:"},model:{value:e.newGlyphs,callback:function(t){e.newGlyphs=t},expression:"newGlyphs"}}),i("ModalOptionsToggleButton",{attrs:{text:"Идентификатор деактивированного глифа:"},model:{value:e.showUnequippedGlyphIcon,callback:function(t){e.showUnequippedGlyphIcon=t},expression:"showUnequippedGlyphIcon"}}),i("ModalOptionsToggleButton",{attrs:{text:"Точки эффектов глифов:"},model:{value:e.glyphEffectDots,callback:function(t){e.glyphEffectDots=t},expression:"glyphEffectDots"}}),i("ModalOptionsToggleButton",{attrs:{text:"Графика обрамления глифов:"},model:{value:e.glyphBorders,callback:function(t){e.glyphBorders=t},expression:"glyphBorders"}}),i("button",{staticClass:"o-primary-btn o-primary-btn--modal-option",on:{click:function(t){return e.cycleBG()}}},[e._v(" Фон глифов: "+e._s(e.glyphBGStr)+" ")]),i("ModalOptionsToggleButton",{style:e.noEffectStyle(),attrs:{text:"Дополнительная информация о глифах:"},model:{value:e.showGlyphInfoByDefault,callback:function(t){e.showGlyphInfoByDefault=t},expression:"showGlyphInfoByDefault"}}),i("ModalOptionsToggleButton",{attrs:{text:"Контрастные цвета категорий редкости:"},model:{value:e.highContrastRarity,callback:function(t){e.highContrastRarity=t},expression:"highContrastRarity"}}),i("ModalOptionsToggleButton",{attrs:{text:"Поменять местами цвета обрамления и символа:"},model:{value:e.swapGlyphColors,callback:function(t){e.swapGlyphColors=t},expression:"swapGlyphColors"}}),i("ExpandingControlBox",{staticClass:"o-primary-btn c-dropdown-btn",scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-dropdown-header"},[e._v(" ▼ Дополнительная информация о глифах: ▼ "),i("br"),e._v(" "+e._s(e.infoLabel)+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("SelectGlyphInfoDropdown")]},proxy:!0}])})],1),i("GlyphCustomization")],1)])},yv=[],fv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-glyph-customization-group"},[i("b",[e._v("Пользовательский внешний вид глифа")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{on:"Включён",off:"Отключён"},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}}),i("br"),e.hasCustomSets?i("div",[e._v(" Сбросить внешний вид к виду по умолчанию: "),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",class:{"o-primary-btn--disabled":!e.enabled},on:{click:e.resetAll}},[e._v(" Всех типов ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",class:{"o-primary-btn--disabled":!e.enabled},on:{click:e.resetSingle}},[e._v(" Выбранного типа ")]),i("br"),i("i",[e._v("Внешний вид глифов, изменённых по отдельности, не будет сброшен.")]),i("br"),i("br"),e._v(" Тип глифов: "),i("br"),i("div",{staticClass:"c-type-selection"},e._l(e.cosmeticTypes,(function(t,a){return i("div",{key:t,class:e.typeClass(a),on:{click:function(t){e.selectedIndex=a}}},[i("GlyphComponent",e._b({directives:[{name:"tooltip",rawName:"v-tooltip",value:e.getTooltip(t),expression:"getTooltip(type)"}],attrs:{glyph:e.fakeGlyph(t)}},"GlyphComponent",e.glyphIconProps,!1))],1)})),0),i("GlyphCustomizationSingleType",{key:e.selectedIndex+e.enabled+e.defaultKeySwap,attrs:{type:e.cosmeticTypes[e.selectedIndex]}}),e._v(" Примечание: некоторые опции приведут к проблемам с контрастом на определённых темах для определённых типов глифов. ")],1):i("div",[e._v(" В данный момент вам недоступны опции изменения внешнего вида ваших глифов по умолчанию. Для их разблокировки нужно пройти игру. "),i("br"),i("br"),e.hasSpecialTypes?i("span",[e._v(" Включение этой настройки позволит вам менять внешний вид отдельных глифов с помощью разблокированных вами косметических наборов. ")]):i("span",[e._v(" В данный момент эта настройка ни на что не влияет. ")])]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.resetIndividual}},[e._v(" Сбросить внешний вид всех отдельных глифов ")])],1)},gv=[],bv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-glyph-customization-entry"},[-1===e.glyphId?i("span",{staticClass:"c-name"},[e._v(" Настройки внешнего вида для "+e._s(e.name)+" ")]):e._e(),"companion"===e.type?i("div",[e._v(" Символ Глифа-компаньона не может быть изменён. ")]):i("GlyphCustomizationSlidingWindow",{attrs:{type:e.type,"is-symbol":!0,options:e.symbols,"glyph-id":e.glyphId}}),i("GlyphCustomizationSlidingWindow",{attrs:{type:e.type,"is-symbol":!1,options:e.colors,"glyph-id":e.glyphId}})],1)},vv=[],Ev=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.options.length>0?i("div",{class:e.containerClassObject()},[i("div",{staticClass:"o-default-option"},[i("div",{key:"default"+e.darkKeySwap,class:e.defaultOptionClassObject(),style:e.boxStyle(e.defaultOption),on:{click:function(t){return e.select(void 0)}}},[e._v(" "+e._s(e.optionChar(e.defaultOption))+" ")])]),i("div",{staticClass:"c-extra-options"},[i("div",{class:e.leftClass(),on:{click:function(t){return e.slideWindow(-5)}}},[e._v(" ⇐ ")]),i("div",{class:e.rightClass(),on:{click:function(t){return e.slideWindow(5)}}},[e._v(" ⇒ ")]),i("div",{staticClass:"c-sliding-window",style:e.windowStyle()},e._l(e.options,(function(t){return i("div",{key:t[0]+t[1]},[i("div",{staticClass:"c-single-set"},e._l(t,(function(t){return i("div",{key:t,class:e.optionClassObject(t),style:e.boxStyle(t),on:{click:function(i){return e.select(t)}}},[e._v(" "+e._s(e.optionChar(t))+" ")])})),0)])})),0)])]):i("div",{staticClass:"c-no-options"},[e._v(" Вам недоступны опции изменения "+e._s(e.attrStringRussian)+" ваших глифов. ")])])},Tv=[];const _v={name:"GlyphCustomizationSlidingWindow",props:{type:{type:String,required:!0},isSymbol:{type:Boolean,required:!0},options:{type:Array,required:!0},glyphId:{type:Number,required:!1,default:-1}},data(){return{isActive:!1,selected:"",leftmostIndex:0,realityColor:"",darkKeySwap:!1}},computed:{isSingleGlyph(){return-1!==this.glyphId},attrString(){return this.isSymbol?"symbol":"color"},attrStringRussian(){return this.isSymbol?"символов":"цвета"},typeObject(){return CosmeticGlyphTypes},defaultOption(){if(this.realityColor)return this.realityColor;const e=this.typeObject[this.type],t=`${this.isSingleGlyph?"current":"default"}${this.attrString.capitalize()}`;return this.isSymbol?e[t].symbol:e[t].border},canScroll(){return this.options.length>this.windowSize},windowSize(){return 17}},created(){this.updateSelected()},methods:{update(){if(this.isSingleGlyph){const e=Glyphs.findById(this.glyphId);this.isActive=!e.cosmetic}else this.isActive=player.reality.glyphs.cosmetics.active;"reality"!==this.type||this.isSymbol||(this.realityColor=GlyphAppearanceHandler.realityColor),this.darkKeySwap=player.options.glyphBG},select(e){if(this.isSingleGlyph||this.isActive){if(this.isSingleGlyph){const t=Glyphs.findById(this.glyphId);t[this.attrString]=e,this.active||(t.cosmetic=void 0)}else player.reality.glyphs.cosmetics[`${this.attrString}Map`][this.type]=e;this.updateSelected(),EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}},updateSelected(){if(this.isSingleGlyph){const e=Glyphs.findById(this.glyphId);this.selected=e[this.attrString]}else this.selected=this.isSymbol?this.typeObject[this.type].currentSymbol.symbol:this.typeObject[this.type].currentColor.str},containerClassObject(){return{"c-all-options":!0,"o-option--inactive":!this.isActive}},defaultOptionClassObject(){const e=this.isSingleGlyph?void 0:this.defaultOption;return{"o-symbol":this.isSymbol,"o-color":!this.isSymbol,"o-clickable":this.isActive,"o-option--inactive":this.isSymbol&&e!==this.selected}},optionClassObject(e){return{"o-symbol":this.isSymbol,"o-color":!this.isSymbol,"o-clickable":this.isActive,"o-option--inactive":this.isSymbol&&e!==this.selected}},boxStyle(e){if(this.isSymbol||!e)return{};const t=GlyphAppearanceHandler.getColorProps(e);return{background:t.bg,color:this.invertBW(t.bg),"box-shadow":`0 0 0.4rem 0.1rem ${t.border}`}},windowStyle(){return{transform:`translate(${2-2.5*this.leftmostIndex}rem)`,"transition-duration":"0.3s"}},leftClass(){return{"o-arrow o-arrow--left":!0,"o-arrow--disabled":0===this.leftmostIndex||!this.canScroll}},rightClass(){return{"o-arrow o-arrow--right":!0,"o-arrow--disabled":this.leftmostIndex===this.options.length-this.windowSize||!this.canScroll}},slideWindow(e){this.canScroll&&(this.leftmostIndex=Math.clamp(this.leftmostIndex+e,0,this.options.length-this.windowSize))},optionChar(e){return this.isSymbol?e:e===this.selected||!this.selected&&e===this.defaultOption?"✓":""},invertBW(e){return"black"===e?"white":"black"}}},Cv=_v;var Av=(0,H.A)(Cv,Ev,Tv,!1,null,"65ace0c6",null);const kv=Av.exports,wv={name:"GlyphCustomizationSingleType",components:{GlyphCustomizationSlidingWindow:kv},props:{type:{type:String,required:!0},glyphId:{type:Number,required:!1,default:-1}},computed:{name(){switch(this.type){case"cursed":return"Проклятых Глифов";case"music":return"музыкальных глифов";default:return`Глифов ${translateGlyph(this.type)}`}},symbols(){return GlyphAppearanceHandler.availableSymbols},colors(){return GlyphAppearanceHandler.availableColors}}},Sv=wv;var xv=(0,H.A)(Sv,bv,vv,!1,null,"823eda68",null);const Rv=xv.exports,Iv={name:"GlyphCustomization",components:{GlyphCustomizationSingleType:Rv,PrimaryButton:Fs,PrimaryToggleButton:$g,GlyphComponent:mg},data(){return{enabled:!1,defaultKeySwap:!1,selectedIndex:0}},computed:{cosmeticTypes(){const e=CosmeticGlyphTypes.list.filter((e=>e.canCustomize)).map((e=>e.id)).slice(5),t=["power","infinity","replication","time","dilation"];return t.concat(e)},glyphIconProps(){return{size:"2.5rem","glow-blur":"0.3rem","glow-spread":"0.1rem","text-proportion":.7}},hasCustomSets(){return GlyphAppearanceHandler.unlockedSets.length>0},hasSpecialTypes(){return GlyphAppearanceHandler.availableTypes.length>0}},watch:{enabled(e){player.reality.glyphs.cosmetics.active=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}},methods:{update(){this.enabled=player.reality.glyphs.cosmetics.active,this.defaultKeySwap=!0},resetAll(){const e=player.reality.glyphs.cosmetics;e.symbolMap={},e.colorMap={},this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},resetSingle(){const e=player.reality.glyphs.cosmetics,t=this.cosmeticTypes[this.selectedIndex];e.symbolMap[t]=void 0,e.colorMap[t]=void 0,this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},fakeGlyph(e){let t="power";return"reality"===e&&(t="reality"),"cursed"===e&&(t="cursed"),{type:t,strength:1,cosmetic:e}},typeClass(e){return{"c-single-type":!0,"o-disabled-cosmetics":!this.enabled,"c-type-current":this.selectedIndex===e,"c-type-other":this.selectedIndex!==e}},resetIndividual(){for(const e of Glyphs.allGlyphs)e.fixedCosmetic||(e.cosmetic=void 0);this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},getTooltip(e){switch(e){case"cursed":return"Проклятые";case"music":return"Музыкальные";default:return translateGlyph(e)}}}},Mv=Iv;var Dv=(0,H.A)(Mv,fv,gv,!1,null,"52cb933a",null);const Pv=Dv.exports,Uv={name:"GlyphDisplayOptionsModal",components:{ExpandingControlBox:Lo,ModalOptionsToggleButton:Vg,ModalWrapperOptions:ib,SelectGlyphInfoDropdown:Qo,GlyphCustomization:Pv},data(){return{newGlyphs:!1,showUnequippedGlyphIcon:!1,glyphEffectDots:!1,glyphBG:0,glyphInfoType:0,showGlyphInfoByDefault:!1,glyphBorders:!1,highContrastRarity:!1,swapGlyphColors:!1}},computed:{infoLabel(){return Wo.labels[this.glyphInfoType]},glyphBGStr(){switch(this.glyphBG){case GLYPH_BG_SETTING.AUTO:return"Автоматически";case GLYPH_BG_SETTING.LIGHT:return"Светлый";case GLYPH_BG_SETTING.DARK:return"Тёмный";default:throw new Error("Unrecognized Glyph BG setting")}}},watch:{newGlyphs(e){player.options.showNewGlyphIcon=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},showUnequippedGlyphIcon(e){player.options.showUnequippedGlyphIcon=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},glyphEffectDots(e){player.options.showHintText.glyphEffectDots=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},showGlyphInfoByDefault(e){player.options.showHintText.showGlyphInfoByDefault=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},glyphBorders(e){player.options.glyphBorders=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},highContrastRarity(e){player.options.highContrastRarity=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},swapGlyphColors(e){player.options.swapGlyphColors=e,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}},methods:{update(){const e=player.options;this.newGlyphs=e.showNewGlyphIcon,this.showUnequippedGlyphIcon=e.showUnequippedGlyphIcon,this.glyphEffectDots=e.showHintText.glyphEffectDots,this.glyphBG=player.options.glyphBG,this.glyphInfoType=e.showHintText.glyphInfoType,this.showGlyphInfoByDefault=e.showHintText.showGlyphInfoByDefault,this.glyphBorders=e.glyphBorders,this.highContrastRarity=e.highContrastRarity,this.swapGlyphColors=e.swapGlyphColors},noEffectStyle(){return 0!==this.glyphInfoType?null:{"background-color":"var(--color-disabled)"}},cycleBG(){player.options.glyphBG=(player.options.glyphBG+1)%Object.keys(GLYPH_BG_SETTING).length,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)}}},Gv=Uv;var Nv=(0,H.A)(Gv,mv,yv,!1,null,"63b12d87",null);const Bv=Nv.exports;var Ov=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"l-wrapper",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Изменить отображаемые вкладки ")]},proxy:!0}])},[i("div",{staticClass:"c-modal--short"},[e._v(" Нажмите на кнопку, чтобы переключить отображение вкладки. "),i("br"),e._v(" Некоторые вкладки нельзя скрыть, как и текущую. "),i("br"),e._v(" При раскрытии вкладки, все отделы которой скрыты, каждый из них также будет показан, а при скрытии всех отделов вкладки она также будет скрыта. "),i("br"),e.isAlmostEnd?i("div",[e._v(" Вы не можете скрыть вкладки после разблокировки Генератора Галактик. ")]):e._e(),e.isEnslaved?i("div",[i("br"),i("i",[e._v("Ты долж"+e._s(e.ending)+"... смотреть всюду...")]),i("br"),e._v(" (Вы не можете скрыть вкладки в этой Реальности) ")]):e._e(),i("PrimaryButton",{on:{click:e.showAllTabs}},[e._v(" Показать все вкладки ")]),e._l(e.tabs,(function(t,a){return i("HiddenTabGroup",{key:a,staticClass:"l-hide-modal-tab-container",attrs:{tab:t,"change-enabled":!e.isEnslaved&&!e.isAlmostEnd}})}))],2)])},Lv=[],$v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{class:e.rowClass,on:{click:function(t){return t.target!==t.currentTarget?null:e.toggleVisibility.apply(null,arguments)}}},[e._l(e.unlockedSubtabs,(function(t,a){return i("HiddenSubtabsButton",{key:a,attrs:{subtab:t,tab:e.tab,"change-enabled":e.changeEnabled}})})),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.rowVisibleIndicatorTooltip,expression:"rowVisibleIndicatorTooltip"}],class:e.rowVisibleIndicatorClass,on:{click:e.toggleVisibility}})],2):e._e()},Hv=[],Fv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],class:e.classObject,on:{click:e.toggleVisibility}},[i("div",{staticClass:"l-hide-modal-button"},[e.isModernUI?i("div",{staticClass:"l-hide-modal-button__subtab-icon",domProps:{innerHTML:e._s(e.subtab.symbol)}}):e._e(),i("div",{staticClass:"l-hide-modal-button__subtab-name"},[e._v(" "+e._s(e.subtab.name)+" ")])])])},qv=[];const Vv={name:"HiddenSubtabsButton",props:{subtab:{type:Object,required:!0},tab:{type:Object,required:!0},changeEnabled:{type:Boolean,required:!0}},data(){return{hidable:!1,hidden:!1}},computed:{isCurrentSubtab(){return this.tab.id===Tabs.current.id&&this.subtab.id===Tabs.current._currentSubtab.id},classObject(){return{"c-hide-modal-tab-button":!0,"c-hide-modal-button--active":!this.hidden,"c-hide-modal-button--inactive":this.hidden,"c-hide-modal-button--always-visible":!this.hidable||this.isCurrentSubtab,[`c-hide-modal-tab-button--${this.tab.key}`]:!this.isCurrentSubtab}},isModernUI(){return this.$viewModel.newUI},tooltip(){return this.hidable?this.isCurrentSubtab?"Нельзя скрыть текущую вкладку":"":'Нельзя скрыть вкладку "Настройки" или её отделы'}},methods:{update(){this.hidable=this.subtab.hidable,this.hidden=this.subtab.isHidden&&this.hidable},toggleVisibility(){this.changeEnabled&&this.subtab.toggleVisibility()}}},Yv=Vv;var jv=(0,H.A)(Yv,Fv,qv,!1,null,"a60e3cfa",null);const Wv=jv.exports,Xv={name:"HiddenTabGroup",components:{HiddenSubtabsButton:Wv},props:{tab:{type:Object,required:!0},changeEnabled:{type:Boolean,required:!0}},data(){return{isVisible:!1,isHidable:!1,isHidden:!1,unlockedSubtabs:[]}},computed:{tabName(){return this.tab.name},subtabs(){return this.tab.subtabs},isCurrentTab(){return this.tab.id===Tabs.current.id},alwaysVisible(){return!this.isHidable||this.isCurrentTab},rowClass(){return{"c-hide-modal-all-subtab-container":!0,"l-hide-modal-subtab-container":!0,"c-hidden-tabs-background__visible":!this.isHidden,"c-hidden-tabs-background__hidden":this.isHidden,"c-hidden-tabs-background__always-visible":this.alwaysVisible}},rowVisibleIndicatorClass(){return{"c-indicator-icon":!0,fas:!0,"fa-check":!this.isHidden,"fa-times":this.isHidden,"fa-exclamation":this.alwaysVisible}},rowVisibleIndicatorTooltip(){return this.isHidden?"Нажмите, чтобы показать вкладку":this.alwaysVisible?"Эта вкладка не может быть скрыта":"Нажмите, чтобы скрыть вкладку"}},methods:{update(){const e=this.tab;this.isVisible=e.isUnlocked,this.isHidable=e.hidable,this.isHidden=e.isHidden&&this.isHidable,this.unlockedSubtabs=this.subtabs.filter((e=>e.isUnlocked))},toggleVisibility(){if(this.changeEnabled)if(this.tab.isHidden&&this.unlockedSubtabs.every((e=>e.isHidden))){for(const e of this.unlockedSubtabs)e.toggleVisibility();this.tab.unhideTab()}else this.tab.toggleVisibility()}}},zv=Xv;var Kv=(0,H.A)(zv,$v,Hv,!1,null,"7eff45a7",null);const Qv=Kv.exports,Jv={name:"HiddenTabsModal",components:{HiddenTabGroup:Qv,ModalWrapperOptions:ib,PrimaryButton:Fs},data(){return{isEnslaved:!1,isAlmostEnd:!1}},computed:{tabs:()=>Tabs.currentUIFormat,ending:()=>player.options.genderMale?"ен":"на"},methods:{update(){this.isEnslaved=Enslaved.isRunning,this.isAlmostEnd=Pelle.hasGalaxyGenerator},showAllTabs(){for(const e of this.tabs){e.unhideTab();for(const t of e.subtabs)t.unhideTab()}}}},Zv=Jv;var eE=(0,H.A)(Zv,Ov,Lv,!1,null,"7efd29ca",null);const tE=eE.exports;var iE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Список горячих клавиш ")]},proxy:!0}])},[i("span",{staticClass:"c-modal-hotkeys l-modal-hotkeys"},[i("div",{staticClass:"l-modal-hotkeys__column"},[i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Купить 1 измерение")]),i("kbd",[e._v("SHIFT")]),i("kbd",[e._v("1")]),e._v("-"),i("kbd",[e._v("SHIFT")]),i("kbd",[e._v("8")])]),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Купить до 10 измерений")]),i("kbd",[e._v("1")]),e._v("-"),i("kbd",[e._v("8")])]),e._l(e.hotkeyCount,(function(t){return i("div",{key:t},[e.visible[t-1]?i("span",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v(e._s(e.shortcutNames[t-1]))]),e._l(e.shortcutKeys[t-1],(function(t,a){return i("kbd",{key:a},[e._v(" "+e._s(t)+" ")])}))],2):e._e()])}))],2),i("div",{staticClass:"l-modal-hotkeys__column l-modal-hotkeys__column--right"},[i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Корректировочная клавиша")]),i("kbd",[e._v("SHIFT")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Shift - корректировочная клавиша, служащая для отображения дополнительной информации и для изменения функций определённых кнопок. "),i("br"),e._v(" "+e._s(e.moreShiftKeyInfo)+" ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Управление автоматикой")]),i("kbd",[e._v("ALT")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Alt - корректировочная клавиша, которая, будучи нажата вместе с любой клавишей, действие которой также совершает некоторая автоматика, переключает эту автоматику. "),i("br"),e._v(" Одновременным нажатием клавиш Alt и Shift вы можете переключать оптовую покупку у автоматики Измерений Антиматерии и ускорителя. ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Перемещение по игре")]),i("div",[i("kbd",[e._v("←")]),i("kbd",[e._v("↓")]),i("kbd",[e._v("↑")]),i("kbd",[e._v("→")])])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" С помощью клавиш со стрелками вы можете перемещаться по страницам игры. Клавиши со стрелками вверх и вниз циклически перемещают вас между вкладками, а клавиши со стрелками влево и вправо - между отделами текущей вкладки. ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Поддержка цифровой клавиатуры")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" По техническим причинам нажатие клавиши цифровой клавиатуры вызывает покупку десятки измерений по возможности, но нажатие клавиши цифровой клавиатуры вместе с клавишей "),i("kbd",[e._v("SHIFT")]),e._v(" не вызывает единичную покупку измерения. Вместо этого, в зависимости от вашего устройства, оно может вызвать прокрутку страницы или перемещение на другую вкладку. Клавиша "),i("kbd",[e._v("ALT")]),e._v(" работает нормально. ")]),e.isElectron?[i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Масштабирование окна")]),i("kbd",[e._v("-")]),i("kbd",[e._v("0")]),i("kbd",[e._v("+")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Чтобы изменить масштаб, зажмите "),i("kbd",[e._v("ctrl")]),e._v(" и нажмите либо "),i("kbd",[e._v("-")]),e._v(", либо "),i("kbd",[e._v("+")]),e._v(" для уменьшения или увеличения масштаба соответственно. Нажатие "),i("kbd",[e._v("ctrl")]),i("kbd",[e._v("0")]),e._v(" выставит масштаб обратно на 100%. ")]),i("br"),i("div",{staticClass:"l-modal-hotkeys-row"},[i("span",{staticClass:"c-modal-hotkeys-row__name l-modal-hotkeys-row__name"},[e._v("Полноэкранный режим")]),i("kbd",[e._v("F10")])]),i("span",{staticClass:"c-modal-hotkeys__shift-description"},[e._v(" Чтобы переключить полноэкранный режим, нажмите "),i("kbd",[e._v("F10")]),e._v(". ")])]:e._e()],2)])])},aE=[];const nE={name:"HotkeysModal",components:{ModalWrapper:Jg},data(){return{updateIndicies:[],visible:[],timeStudyUnlocked:!1,glyphSacUnlocked:!1,isElectron:!1}},computed:{moreShiftKeyInfo(){const e=[];this.timeStudyUnlocked&&(e.push(", нажимая на Исследование Времени, чтобы купить вместе с ним и все предшествующие ему"),e.push("чтобы сохранять Древа Исследований")),this.glyphSacUnlocked&&e.push("чтобы удалять глифы");const t=makeEnumeration(e);return""===t?"":`Вы можете зажать клавишу Shift ${t}.`},hotkeyCount(){return shortcuts.length},shortcutNames(){return shortcuts.map((e=>e.name))},shortcutKeys(){return shortcuts.map((e=>e.keys.map((e=>this.format(e)))))}},created(){for(let e=0;e<this.hotkeyCount;e++){const t=shortcuts[e].visible;"function"===typeof t?this.updateIndicies.push(e):this.visible[e]=t}},methods:{update(){for(const t of this.updateIndicies)this.$set(this.visible,t,shortcuts[t].visible());const e=PlayerProgress.current;this.timeStudyUnlocked=e.isEternityUnlocked,this.glyphSacUnlocked=RealityUpgrade(19).isBought;try{this.isElectron=ElectronRuntime.isActive}catch{this.isElectron=!1}},format(e){switch(e){case"mod":return"CTRL/⌘";default:return e.toUpperCase()}}}},sE=nE;var rE=(0,H.A)(sE,iE,aE,!1,null,"304debc7",null);const oE=rE.exports;var lE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки отображения дополнительной информации ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-options__button-container"},[i("ModalOptionsToggleButton",{attrs:{text:"Относительный прирост:"},model:{value:e.showPercentage,callback:function(t){e.showPercentage=t},expression:"showPercentage"}}),i("ModalOptionsToggleButton",{attrs:{text:"Номера достижений:"},model:{value:e.achievements,callback:function(t){e.achievements=t},expression:"achievements"}}),i("ModalOptionsToggleButton",{attrs:{text:"Индикаторы состояний достижений:"},model:{value:e.achievementUnlockStates,callback:function(t){e.achievementUnlockStates=t},expression:"achievementUnlockStates"}}),e.infinityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Номера испытаний:"},model:{value:e.challenges,callback:function(t){e.challenges=t},expression:"challenges"}}):e._e(),e.eternityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Номера Исследовний Времени:"},model:{value:e.studies,callback:function(t){e.studies=t},expression:"studies"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Точки эффектов глифов:"},model:{value:e.glyphEffectDots,callback:function(t){e.glyphEffectDots=t},expression:"glyphEffectDots"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Названия Улучшений Реальности:"},model:{value:e.realityUpgrades,callback:function(t){e.realityUpgrades=t},expression:"realityUpgrades"}}):e._e(),e.realityUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Названия Навыков:"},model:{value:e.perks,callback:function(t){e.perks=t},expression:"perks"}}):e._e(),e.alchemyUnlocked?i("ModalOptionsToggleButton",{attrs:{text:"Количества алхимических ресурсов:"},model:{value:e.alchemy,callback:function(t){e.alchemy=t},expression:"alchemy"}}):e._e()],1),e._v(" Примечание: вся вышеперечисленная дополнительная информация будет показана в любом случае при нажатии клавиши Shift. ")])},cE=[];const uE={name:"InfoDisplayOptionsModal",components:{ModalOptionsToggleButton:Vg,ModalWrapperOptions:ib},data(){return{infinityUnlocked:!1,eternityUnlocked:!1,realityUnlocked:!1,alchemyUnlocked:!1,showPercentage:!1,achievements:!1,achievementUnlockStates:!1,challenges:!1,studies:!1,glyphEffectDots:!1,realityUpgrades:!1,perks:!1,alchemy:!1}},computed:{fullCompletion(){return player.records.fullGameCompletions>0}},watch:{showPercentage(e){player.options.showHintText.showPercentage=e},achievements(e){player.options.showHintText.achievements=e},achievementUnlockStates(e){player.options.showHintText.achievementUnlockStates=e},challenges(e){player.options.showHintText.challenges=e},studies(e){player.options.showHintText.studies=e},glyphEffectDots(e){player.options.showHintText.glyphEffectDots=e},realityUpgrades(e){player.options.showHintText.realityUpgrades=e},perks(e){player.options.showHintText.perks=e},alchemy(e){player.options.showHintText.alchemy=e}},methods:{update(){const e=PlayerProgress.current;this.infinityUnlocked=this.fullCompletion||e.isInfinityUnlocked,this.eternityUnlocked=this.fullCompletion||e.isEternityUnlocked,this.realityUnlocked=this.fullCompletion||e.isRealityUnlocked,this.alchemyUnlocked=this.fullCompletion||Ra.unlocks.effarigUnlock.canBeApplied;const t=player.options.showHintText;this.showPercentage=t.showPercentage,this.achievements=t.achievements,this.achievementUnlockStates=t.achievementUnlockStates,this.challenges=t.challenges,this.studies=t.studies,this.glyphEffectDots=t.glyphEffectDots,this.realityUpgrades=t.realityUpgrades,this.perks=t.perks,this.alchemy=t.alchemy}}},dE=uE;var hE=(0,H.A)(dE,lE,cE,!1,null,null,null);const pE=hE.exports;var mE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки новостей ")]},proxy:!0}])},[i("PrimaryButton",{staticClass:"o-primary-btn o-primary-btn--option-wide",attrs:{onclick:"GameOptions.toggleNews()"}},[e._v(" "+e._s(e.newsOnOffLabel)+" ")]),i("div",{staticClass:"o-primary-btn o-primary-btn--slider o-primary-btn--news-option"},[i("b",[e._v(e._s(e.quantifyInt("сообщение",parseInt(e.repeatBuffer)))+" подряд без повторений гарантировано")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.repeatBuffer},on:{input:function(t){return e.adjustSliderValueRepeatBuffer(t)}}},"SliderComponent",e.sliderPropsRepeatBuffer,!1))],1),i("div",{staticClass:"o-primary-btn o-primary-btn--slider o-primary-btn--news-option"},[i("b",[e._v(e._s(e.formatPercents(parseFloat(e.AIChance)))+" сообщений от ИИ (на английском языке)")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.AIChance},on:{input:function(t){return e.adjustSliderValueAIChance(t)}}},"SliderComponent",e.sliderPropsAIChance,!1))],1),i("div",{staticClass:"o-primary-btn o-primary-btn--option-wide o-primary-btn--slider"},[i("b",[e._v(e._s(e.formatPercents(parseFloat(e.speed)))+" скорости прокрутки")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.speed},on:{input:function(t){return e.adjustSliderValueSpeed(t)}}},"SliderComponent",e.sliderPropsSpeed,!1))],1),i("ModalOptionsToggleButton",{staticClass:"o-primary-btn o-primary-btn--option-wide",attrs:{text:"Анимации:"},model:{value:e.includeAnimated,callback:function(t){e.includeAnimated=t},expression:"includeAnimated"}})],1)},yE=[];const fE={name:"NewsOptionsModal",components:{ModalOptionsToggleButton:Vg,ModalWrapperOptions:ib,PrimaryButton:Fs,SliderComponent:yb},data(){return{enabled:!1,repeatBuffer:40,AIChance:0,speed:1,includeAnimated:!1}},computed:{newsOnOffLabel(){return"Новости: "+(this.enabled?"ВКЛ.":"ВЫКЛ.")},sliderPropsRepeatBuffer(){return{min:0,max:80,interval:1,width:"98%",tooltip:!1}},sliderPropsAIChance(){return{min:0,max:1,interval:.01,width:"98%",tooltip:!1}},sliderPropsSpeed(){return{min:.5,max:2,interval:.01,width:"98%",tooltip:!1}}},watch:{type(e){player.options.news.type=e},repeatBuffer(e){player.options.news.repeatBuffer=parseInt(e,10)},AIChance(e){player.options.news.AIChance=parseFloat(e,10)},speed(e){player.options.news.speed=parseFloat(e,10)},includeAnimated(e){player.options.news.includeAnimated=e}},methods:{update(){const e=player.options.news;this.enabled=e.enabled,this.repeatBuffer=e.repeatBuffer,this.AIChance=e.AIChance,this.speed=e.speed,this.includeAnimated=e.includeAnimated},adjustSliderValueRepeatBuffer(e){this.repeatBuffer=e,player.options.repeatBuffer=this.repeatBuffer},adjustSliderValueAIChance(e){this.AIChance=e,player.options.AIChance=this.AIChance},adjustSliderValueSpeed(e){this.speed=e,player.options.speed=this.speed}}},gE=fE;var bE=(0,H.A)(gE,mE,yE,!1,null,null,null);const vE=bE.exports;var EE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Настройки записи порядка ")]},proxy:!0}])},[e._v(" Вы можете контролировать запись огромных чисел в игре. Порядок числа, если он достаточно мал, будет отображён без дополнительного форматирования. У досаточно больших чисел в порядок для ясности будут вставлены пробелы, а у самых больших чисел порядок будет форматирован в соответствии с текущей нотацией. Ниже вы можете изменить, сколько цифр должен иметь порядок, чтобы он был форматирован описанным образом: "),i("br"),i("br"),i("div",{staticClass:"c-single-slider"},[i("b",{staticClass:"o-digit-text"},[e._v("Вставка пробелов в порядок: с "+e._s(e.formatInt(e.commaDigits+1))+" цифр")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider o-slider",attrs:{value:e.commaDigits},on:{input:function(t){return e.adjustSliderComma(t)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"c-single-slider"},[i("b",{staticClass:"o-digit-text"},[e._v("Форматирование порядка в соответствии с нотацией: с "+e._s(e.formatInt(e.notationDigits+1))+" цифр")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider o-slider",attrs:{value:e.notationDigits},on:{input:function(t){return e.adjustSliderNotation(t)}}},"SliderComponent",e.sliderProps,!1))],1),i("br"),e._v(" Примеры форматированных чисел: "),i("div",{staticClass:"c-sample-numbers"},e._l(e.sampleNums,(function(t,a){return i("span",{key:a,staticClass:"o-single-number"},[e._v(" "+e._s(e.formatPostBreak(t))+" ")])})),0),i("br"),e._v(" Примечание: интерфейс, как правило, оптимизирован под Научную нотацию с настройками в "+e._s(e.formatInt(6))+" и "+e._s(e.formatInt(10))+" цифр соответственно. Некоторые строки текста могут выглядеть странно или вылезать за пределы блоков, если ваши настройки значительно отличаются. Кроме того, эти настройки не влияют на запись чисел в некоторых нотациях. ")])},TE=[];const _E={name:"NotationModal",components:{ModalWrapper:Jg,SliderComponent:yb},data(){return{commaDigits:0,notationDigits:0}},computed:{sampleNums(){const e="123456789012345",t=[];for(let i=4;i<16;i++)t.push(Decimal.pow10(e.substring(0,i)));return t},sliderProps(){return{min:3,max:15,interval:1,width:"100%",tooltip:!1}}},watch:{commaDigits(e){player.options.notationDigits.comma=e,Bu.exponentCommas.min=10**e},notationDigits(e){player.options.notationDigits.notation=e,Bu.exponentCommas.max=10**e}},created(){const e=player.options.notationDigits;this.commaDigits=e.comma,this.notationDigits=e.notation},methods:{update(){const e=player.options.notationDigits;this.commaDigits=e.comma,this.notationDigits=e.notation},adjustSliderComma(e){this.commaDigits=e,player.options.notationDigits.comma=e,e>this.notationDigits&&this.adjustSliderNotation(e)},adjustSliderNotation(e){this.notationDigits=e,player.options.notationDigits.notation=e,e<this.commaDigits&&this.adjustSliderComma(e)}}},CE=_E;var AE=(0,H.A)(CE,EE,TE,!1,null,"bb9f42fe",null);const kE=AE.exports;var wE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.confirmPrefs}},[i("h2",[e.usePriority?i("span",[e._v("Предпочтительные пути")]):i("span",[e._v("Предпочтительный путь")]),e._v(" на развилке измерений")]),i("div",{staticClass:"l-modal-split-preferences"},e._l(e.dimensionOptions,(function(t,a){return i("button",{key:a,class:e.classList(a),on:{click:function(t){return e.select(a)}}},[e.isPreferred(a)?i("div",{staticClass:"l-dim-path-priority o-dim-path-priority"},[e._v(" "+e._s(e.isPreferred(a))+" ")]):e._e(),i("div",[e._v(" "+e._s(a)+" ")])])})),0),i("br"),i("h2",[e._v("Предпочтительный путь на развилке темпа")]),i("div",{staticClass:"l-modal-split-preferences"},e._l(e.paceOptions,(function(t,a){return i("button",{key:a,class:e.classList(a),on:{click:function(t){return e.select(a)}}},[i("div",[e._v(" "+e._s(a)+" ")])])})),0)])},SE=[];const xE={name:"PreferredTreeModal",components:{ModalWrapperChoice:Um},data(){return{dimensionPath:null,pacePath:null}},computed:{dimensionOptions(){return{Антиматерии:TIME_STUDY_PATH.ANTIMATTER_DIM,Бесконечности:TIME_STUDY_PATH.INFINITY_DIM,Времени:TIME_STUDY_PATH.TIME_DIM}},paceOptions(){return{Активный:TIME_STUDY_PATH.ACTIVE,Средний:TIME_STUDY_PATH.PASSIVE,Пассивный:TIME_STUDY_PATH.IDLE}},usePriority(){return TimeStudy.preferredPaths.dimension.usePriority}},created(){this.dimensionPath=[...TimeStudy.preferredPaths.dimension.path],this.pacePath=TimeStudy.preferredPaths.pace.path},methods:{isPreferred(e){return this.paceOptions[e]===this.pacePath||this.dimensionPath.indexOf(this.dimensionOptions[e])+1},select(e){this.dimensionOptions[e]&&((!this.usePriority||this.dimensionPath.length>1)&&this.dimensionPath.shift(),this.dimensionPath.includes(this.dimensionOptions[e])||this.dimensionPath.push(this.dimensionOptions[e])),this.paceOptions[e]&&(this.pacePath=this.paceOptions[e])},confirmPrefs(){TimeStudy.preferredPaths.dimension.path=this.dimensionPath,TimeStudy.preferredPaths.pace.path=this.pacePath},classList(e){const t=this.isPreferred(e),i={Антиматерии:"antimatter-dim",Бесконечности:"infinity-dim",Времени:"time-dim",Активный:"active",Средний:"passive",Пассивный:"idle"};return["o-time-study-selection-btn",`o-time-study-${i[e]}--${t?"bought":"available"}`,"o-time-study--"+(t?"bought":"available")]}}},RE=xE;var IE=(0,H.A)(RE,wE,SE,!1,null,null,null);const ME=IE.exports;var DE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{staticClass:"c-modal-options__large",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Изменение внешнего вида отдельного глифа ")]},proxy:!0}])},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(t){return e.setType(void 0)}}},[e._v(" Сбросить внешний вид этого глифа ")]),i("GlyphCustomizationSingleType",{key:e.defaultKeySwap,attrs:{type:e.glyphType,"glyph-id":e.glyphId}}),e.cosmeticTypes&&e.glyph.fixedCosmetic?i("div",[e._v(" Косметика этого глифа не может быть изменена! ")]):e.cosmeticTypes?i("div",{staticClass:"c-special-type"},[e._v(" Выставить особый косметический тип глифа: "),e._l(e.cosmeticTypes,(function(t){return i("PrimaryButton",{key:t,class:e.cosmeticTypeClass(t),on:{click:function(i){return e.setType(t)}}},[e._v(" "+e._s(e.name(t))+" ")])}))],2):e._e()],1)},PE=[];const UE={name:"SingleGlyphAppearanceModal",components:{ModalWrapperOptions:ib,GlyphCustomizationSingleType:Rv,PrimaryButton:Fs},props:{glyphId:{type:Number,required:!0}},data(){return{defaultKeySwap:!1}},computed:{glyphType(){return Glyphs.findById(this.glyphId).type},cosmeticTypes(){return GlyphAppearanceHandler.availableTypes},glyph(){return Glyphs.findById(this.glyphId)}},created(){EventHub.logic.on(GAME_EVENT.GLYPH_VISUAL_CHANGE,(()=>{this.$recompute("glyph"),this.defaultKeySwap||this.emitClose()}))},methods:{update(){this.defaultKeySwap=!0},setType(e){e&&this.glyph.fixedCosmetic||(this.glyph.color=void 0,this.glyph.symbol=void 0,this.glyph.fixedCosmetic?this.glyph.cosmetic=this.glyph.fixedCosmetic:this.glyph.cosmetic=e,this.defaultKeySwap=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))},name(e){switch(e){case"blob":return"Клякса";case"music":return"Музыкальный"}},cosmeticTypeClass(e){return{"o-primary-btn--subtab-option":!0,"o-active-type":e===this.glyph.cosmetic}}}},GE=UE;var NE=(0,H.A)(GE,DE,PE,!1,null,"6472bdfe",null);const BE=NE.exports;var OE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal-message l-modal-content--centered"},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),e.messageIndex<3?i("div",[i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:e.handleLeftButtonClick}},[e._v(" "+e._s(e.messageIndex<2?"Удалить":"Отменить")+" ")]),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:e.handleRightButtonClick}},[e._v(" "+e._s(e.messageIndex>=2?"Удалить":"Отменить")+" ")])],1):i("div",[i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn",on:{click:e.handleNoClick}},[e._v(" Спасибо ")])],1)])},LE=[];const $E={name:"DeleteCompanionGlyphModal",components:{PrimaryButton:Fs},data(){return{messageIndex:0}},computed:{message(){switch(this.messageIndex){case 0:return"Вы уверены, что хотите удалить ваш Глиф-компаньон?";case 1:return"Вы не получите тортик.";case 2:return"Это действие необратимо! Вы не получите другой Глиф-компаньон!";case 3:return"Вы удалили ваш верный Глиф-компаньон быстрее всех\n                        прошлых испытуемых. Поздравляем.";default:return"Invalid message index"}}},methods:{handleLeftButtonClick(){this.messageIndex<2?this.handleYesClick():this.handleNoClick()},handleRightButtonClick(){this.messageIndex>=2?this.handleYesClick():this.handleNoClick()},handleYesClick(){this.messageIndex++,3===this.messageIndex&&this.deleteCompanion()},handleNoClick(){this.messageIndex=0,this.emitClose()},deleteCompanion(){const e=player.reality.glyphs.inventory.filter((e=>"companion"===e.type))[0];Glyphs.removeFromInventory(e)}}},HE=$E;var FE=(0,H.A)(HE,OE,LE,!1,null,null,null);const qE=FE.exports;var VE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы удаляете глиф ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Глиф будет убран из вашего инвентаря! "),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" Удаление глифа не приносит выгоды, до тех пор пока вы не разблокировали Пожертвование Глифов! ")])])])},YE=[];const jE={name:"DeleteGlyphModal",components:{ModalWrapperChoice:Um},props:{idx:{type:Number,required:!0}},data(){return{confirmedDelete:!1}},computed:{glyph(){return Glyphs.findByInventoryIndex(this.idx)}},methods:{update(){const e=Glyphs.findByInventoryIndex(this.idx);this.glyph===e||this.confirmedDelete||(this.emitClose(),Modal.message.show("Выбранный глиф был перемещён или изменён иначе!"))},handleYesClick(){this.confirmedDelete=!0,Glyphs.removeFromInventory(this.glyph)}}},WE=jE;var XE=(0,H.A)(WE,VE,YE,!1,null,null,null);const zE=XE.exports;var KE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"sacrificeAll"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" "+e._s(e.extraMessage)+" ")])])},QE=[];const JE={name:"PurgeAllRejectedGlyphsModal",components:{ModalWrapperChoice:Um},data(){return{isRefining:!1}},computed:{refiningOrSacrificing1(){return this.isRefining?"облагораживаете":"жертвуете"},refiningOrSacrificing2(){return this.isRefining?"облагородить":"пожертвовать"},topLabel(){return`Вы ${this.refiningOrSacrificing1} все глифы, отвергнутые Фильтром`},message(){const e=AutoGlyphProcessor.hasNegativeEffectScore()?" Обратите внимание, что некоторые веса эффектов для Фильтра Глифов отрицательные, из-за чего вы можете потерять глифы,\n          которые вы хотите сохранить.":"";return`Вы уверены, что хотите ${this.refiningOrSacrificing2} все глифы, отвергнутые\n        текущими настройками вашего Фильтра Глифов?${e}`},extraMessage(){return 0===this.glyphsDeleted?"Ни один глиф не будет удалён.":this.glyphsDeleted===this.glyphsTotal?"Все глифы будут удалены.":`${this.glyphsDeleted} из ${this.glyphsTotal} будет ${pluralize("удалён",this.glyphsDeleted)}.`},glyphsTotal(){return quantifyInt("глифа",Glyphs.inventory.filter((e=>null!==e)).length)},glyphsDeleted(){return Glyphs.deleteAllRejected(!1)}},methods:{update(){this.isRefining=GlyphSacrificeHandler.isRefining},handleYesClick(){Glyphs.deleteAllRejected(!0)}}},ZE=JE;var eT=(0,H.A)(ZE,KE,QE,!1,null,null,null);const tT=eT.exports;var iT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"sacrificeAll"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" "+e._s(e.extraMessage)+" ")])])},aT=[];const nT={name:"PurgeAllUnprotectedGlyphsModal",components:{ModalWrapperChoice:Um},data(){return{isRefining:!1,isSacrificing:!1}},computed:{refiningSacrificingOrDeleting1(){return this.isRefining?"облагораживаете":this.isSacrificing?"жертвуете":"удаляете"},refiningSacrificingOrDeleting2(){return this.isRefining?"облагородить":this.isSacrificing?"пожертвовать":"удалить"},refiningSacrificingOrDeleting3(){return this.isRefining?"облагорожен":this.isSacrificing?"пожертвован":"удалён"},refiningSacrificingOrDeleting4(){return this.isRefining?"облагорожены":this.isSacrificing?"пожертвованы":"удалены"},topLabel(){return`Вы ${this.refiningSacrificingOrDeleting1} все незащищённые глифы`},message(){return`Вы уверены, что хотите ${this.refiningSacrificingOrDeleting2} все незащищённые глифы?`},extraMessage(){return 0===this.glyphsDeleted?`Ни один глиф не будет ${this.refiningSacrificingOrDeleting3}.`:this.glyphsDeleted===this.glyphsTotal?`Все глифы будут ${this.refiningSacrificingOrDeleting4}.`:`${formatInt(this.glyphsDeleted)} из ${this.glyphsTotal} будет ${pluralize(this.refiningSacrificingOrDeleting3,this.glyphsDeleted)}.`},glyphsTotal(){return quantifyInt("глифа",Glyphs.inventory.filter((e=>null!==e)).length)},glyphsDeleted(){return Glyphs.autoClean(0,!1)}},methods:{update(){this.isRefining=GlyphSacrificeHandler.isRefining,this.isSacrificing=GlyphSacrificeHandler.canSacrifice},handleYesClick(){Glyphs.deleteAllUnprotected()}}},sT=nT;var rT=(0,H.A)(sT,iT,aT,!1,null,null,null);const oT=rT.exports;var lT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"autoClean"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.topLabel)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Из вашего инвентаря могут быть удалены глифы, достаточно сильные, чтобы вы захотели их использовать впоследствии. Прочистка удалит глифы в зависимости от режима. Вы уверены, что хотите её осуществить? "),i("br"),i("br"),e._v(" "+e._s(e.explanation)+" ")]),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(" "+e._s(e.extraMessage)+" ")])])},cT=[];const uT={name:"PurgeGlyphModal",components:{ModalWrapperChoice:Um},props:{harsh:{type:Boolean,required:!0}},computed:{threshold(){return this.harsh?1:5},extraMessage(){return 0===this.glyphsDeleted?"Ни один глиф не будет удалён.":this.glyphsDeleted===this.glyphsTotal?"Все глифы будут удалены.":`${this.glyphsDeleted} из ${this.glyphsTotal} будет ${pluralize("удалён",this.glyphsDeleted)}.`},explanation(){return this.harsh?"Строгая прочистка удаляет все глифы, которые строго хуже любого другого глифа в вашем\n        инвентаре. Например, если глиф имеет те же самые эффекты, что и некоторый другой глиф, но значения\n        ВСЕХ эффектов хуже, то он будет удалён.":"Прочистка удаляет все глифы, которые строго хуже других глифов, сохраняя достаточное количество, чтобы занять все слоты\n        глифами с одним и тем же эффектом. Это похоже на строгую прочистку, но обычная прочистка удаляет\n        глиф, лишь если найдётся пять строго лучших глифов (вместо одного)."},topLabel(){return`Вы осуществляете ${this.harsh?"строгую":""} прочистку вашего инвентаря`},glyphsTotal(){return quantifyInt("глифа",Glyphs.inventory.filter((e=>null!==e)).length)},glyphsDeleted(){return Glyphs.autoClean(this.threshold,!1)}},methods:{handleYesClick(){Glyphs.autoClean(this.threshold,!0)}}},dT=uT;var hT=(0,H.A)(dT,lT,cT,!1,null,null,null);const pT=hT.exports;var mT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"glyphRefine"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы облагораживаете глиф ")]},proxy:!0}])},[e.resourceUnlocked?i("div",{staticClass:"c-modal-message__text"},[e._v(" Глиф будет удалён из инвентаря, взамен чего ваше количество "+e._s(e.resourceName)+" в алхимии возрастёт с "+e._s(e.format(e.resourceAmount,2,2))+" до "+e._s(e.format(e.after,2,2))+". Этот глиф может повысить количество "+e._s(e.resourceName)+" не более чем до "+e._s(e.format(e.cap,2,2))+". ")]):i("div",{staticClass:"c-modal-message__text"},[e._v(" Вы не получите "+e._s(e.resourceName)+", так как вы ещё не разблокировали этот алхимический ресурс. Вы всё равно можете облагородить этот глиф, но ничего не произойдёт. Вместо этого лучше пожертвовать глиф. ")])])},yT=[];const fT={name:"RefineGlyphModal",components:{ModalWrapperChoice:Um},props:{idx:{type:Number,required:!0}},data(){return{resourceAmount:0,resourceUnlocked:!1,gain:0,after:0,cap:0,confirmedRefine:!1}},computed:{glyph(){return Glyphs.findByInventoryIndex(this.idx)},resource(){return GlyphSacrificeHandler.glyphAlchemyResource(this.glyph)},resourceName(){return translateGlyph(this.glyph.type)}},methods:{update(){const e=this.resource;this.resourceAmount=e.amount,this.resourceUnlocked=e.isUnlocked,this.gain=GlyphSacrificeHandler.glyphRefinementGain(this.glyph),this.cap=GlyphSacrificeHandler.glyphEffectiveCap(this.glyph),this.after=this.resourceAmount+this.gain;const t=Glyphs.findByInventoryIndex(this.idx);this.glyph===t||this.confirmedRefine||(this.emitClose(),Modal.message.show("Выбранный глиф был перемещён или изменён иначе!"))},handleYesClick(){this.confirmedRefine=!0,GlyphSacrificeHandler.refineGlyph(this.glyph)}}},gT=fT;var bT=(0,H.A)(gT,mT,yT,!1,null,null,null);const vT=bT.exports;var ET=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"glyphSacrifice"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы жертвуете глиф ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")])])},TT=[];const _T={name:"SacrificeGlyphModal",components:{ModalWrapperChoice:Um},props:{idx:{type:Number,required:!0}},data(){return{currentGlyphSacrifice:0,gain:0,confirmedSacrifice:!1}},computed:{glyph(){return Glyphs.findByInventoryIndex(this.idx)},message(){return`Вы действительно хотите пожертвовать этот глиф? Ваша суммарная ценность пожертвованных Глифов ${translateGlyph(this.glyph.type)}\n      увеличится с ${format(this.currentGlyphSacrifice,2,2)} до\n      ${format(this.currentGlyphSacrifice+this.gain,2,2)}.`}},methods:{update(){this.currentGlyphSacrifice=player.reality.glyphs.sac[this.glyph.type],this.gain=GlyphSacrificeHandler.glyphSacrificeGain(this.glyph);const e=Glyphs.findByInventoryIndex(this.idx);this.glyph===e||this.confirmedSacrifice||(this.emitClose(),Modal.message.show("Выбранный глиф был перемещён или изменён иначе!"))},handleYesClick(){this.confirmedSacrifice=!0,GlyphSacrificeHandler.sacrificeGlyph(this.glyph,!0)}}},CT=_T;var AT=(0,H.A)(CT,ET,TT,!1,null,null,null);const kT=AT.exports;var wT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.header)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text-fit"},[i("span",[e._v(" "+e._s(e.message)+" ")])]),i("RealityAutobuyerBox",{staticClass:"c-reality-pos",attrs:{"is-modal":""}}),i("EternityAutobuyerBox",{staticClass:"c-eternity-pos",attrs:{"is-modal":""}}),i("BigCrunchAutobuyerBox",{staticClass:"c-infinity-pos",attrs:{"is-modal":""}}),i("GalaxyAutobuyerBox",{attrs:{"is-modal":""}}),i("DimensionBoostAutobuyerBox",{attrs:{"is-modal":""}})],1)},ST=[],xT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"show-interval":!e.postBreak,"is-modal":e.isModal,name:"Автоматика Большого Сжатия"},scopedSlots:e._u([e.hasMaxedInterval?e.postBreak?{key:"intervalSlot",fn:function(){return[e.hasAdditionalModes?i("ExpandingControlBox",{attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"o-primary-btn c-autobuyer-box__mode-select c-autobuyer-box__mode-select-header"},[e._v(" ▼ Текущий режим: ▼ "),i("br"),e._v(" "+e._s(e.modeName(e.mode))+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutobuyerDropdownEntry",{attrs:{autobuyer:e.autobuyer,modes:e.modes,"mode-name-fn":e.modeName}})]},proxy:!0}],null,!1,224819091)}):i("span",[e._v(" "+e._s(e.modeProps(e.mode).title)+": ")])]},proxy:!0}:null:{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},e.postBreak?{key:"toggleSlot",fn:function(){return[i("AutobuyerInput",e._b({key:e.mode,attrs:{autobuyer:e.autobuyer}},"AutobuyerInput",e.modeProps(e.mode).input,!1))]},proxy:!0}:null,e.postBreak&&e.mode===e.amountMode?{key:"checkboxSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.increaseWithMult,expression:"increaseWithMult"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.increaseWithMult)?e._i(e.increaseWithMult,null)>-1:e.increaseWithMult},on:{change:function(t){var i=e.increaseWithMult,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);a.checked?r<0&&(e.increaseWithMult=i.concat([s])):r>-1&&(e.increaseWithMult=i.slice(0,r).concat(i.slice(r+1)))}else e.increaseWithMult=n}}}),e._v(" Динамическое значение ")])]},proxy:!0}:null],null,!0)})},RT=[],IT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked||e.isBought?i("div",{class:e.autobuyerBoxRowClass},[i("div",{staticClass:"l-autobuyer-box__header"},[e._v(" "+e._s(e.name)+" "),e.showInterval?i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyer}}):e._e(),e.isShowingStateInfo?i("div",[e._v(" "+e._s(e.extraInfo)+" ")]):e._e()],1),i("div",{staticClass:"c-autobuyer-box-row__intervalSlot"},[e._t("intervalSlot")],2),i("div",{staticClass:"c-autobuyer-box-row__toggleSlot"},[e._t("toggleSlot")],2),i("div",{staticClass:"c-autobuyer-box-row__checkboxSlot"},[e._t("checkboxSlot")],2),i("div",{staticClass:"c-autobuyer-box-row__optionSlot"},[e._t("optionSlot")],2),i("div",{staticClass:"l-autobuyer-box__footer",on:{click:e.toggle}},[i("label",{class:e.autobuyerStateClass},[i("span",{class:e.autobuyerToggleClass})]),i("input",{attrs:{disabled:!e.globalToggle,name:e.name,type:"checkbox"},domProps:{checked:e.isActive&&e.globalToggle}})])]):e.canBeBought?i("div",{class:e.autobuyerBuyBoxClass,on:{click:e.purchase}},[e._v(" "+e._s(e.name)+" "),i("br"),e._v(" Требование: достигните "+e._s(e.format(e.antimatterCost))+" антиматерии"+e._s(e.showEternity)+" ")]):e._e()},MT=[],DT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Интервал: "+e._s(e.intervalText)+" "),e.isShowingBulk?i("span",[i("br"),e._v(" "+e._s(e.bulkText)+" ")]):e._e()])},PT=[];const UT={name:"AutobuyerIntervalLabel",props:{autobuyer:{type:Object,required:!1,default:null},intervalIn:{type:Number,required:!1,default:null},bulkIn:{type:Number,required:!1,default:null}},data(){return{interval:0,bulk:0,isShowingBulk:!1}},computed:{intervalText(){return this.interval<player.options.updateRate&&"Infinity"!==this.autobuyer.name?"Мгновенно":TimeSpan.fromMilliseconds(this.interval).toStringShort()},bulkText(){return`Опт: ${Number.isFinite(this.bulk)?formatX(this.bulk,2):"безграничен"}`}},methods:{update(){var e,t;const i=this.autobuyer;this.interval=null!==(e=this.intervalIn||(null===i||void 0===i?void 0:i.interval))&&void 0!==e?e:0,this.bulk=null!==(t=this.bulkIn)&&void 0!==t?t:i.hasUnlimitedBulk?1/0:i.bulk,this.isShowingBulk=0!==this.bulk&&Number.isFinite(this.bulk)}}},GT=UT;var NT=(0,H.A)(GT,DT,PT,!1,null,"51baf941",null);const BT=NT.exports,OT={name:"AutobuyerBox",components:{AutobuyerIntervalLabel:BT},props:{autobuyer:{type:Object,required:!0},name:{type:String,required:!0},showInterval:{type:Boolean,required:!1,default:!1},isModal:{type:Boolean,required:!1,default:!1}},data(){return{isUnlocked:!1,isActive:!1,globalToggle:!1,canBeBought:!1,isUnlockable:!1,antimatterCost:new Decimal,isBought:!1,antimatter:new Decimal,currMode:0,nextValue:0,nextTime:0}},computed:{autobuyerBuyBoxClass(){return{"c-autobuyer-buy-box":!0,"o-primary-btn":!0,"o-primary-btn--enabled":this.isUnlockable,"o-primary-btn--disabled":!this.isUnlockable}},autobuyerBoxRowClass(){return{"c-autobuyer-box-row":!0,"c-autobuyer-box-row__modal":this.isModal}},autobuyerToggleClass(){return this.globalToggle?this.isActive?"fas fa-check":"fas fa-times":this.isActive?"fas fa-pause":"fas fa-times"},autobuyerStateClass(){return this.globalToggle?{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label-modal":this.isModal,"o-autobuyer-toggle-checkbox__label--active":this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":!this.globalToggle}:{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label-modal":this.isModal,"o-autobuyer-toggle-checkbox__label--active-paused":this.isActive,"o-autobuyer-toggle-checkbox__label--deactive-paused":!this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":!this.globalToggle}},showEternity(){return PlayerProgress.eternityUnlocked()?" в текущей вечности":""},isShowingStateInfo(){return this.isActive&&["Большого Сжатия","вечности"].includes(this.autobuyer.name)&&0!==this.currMode},extraInfo(){switch(this.currMode){case AUTO_ETERNITY_MODE.TIME:return this.nextTime>0?`Сработает через ${TimeSpan.fromSeconds(this.nextTime).toStringShort()}`:"Сработает как можно скорее";case AUTO_ETERNITY_MODE.X_HIGHEST:default:return`Сработает при ${format(this.nextValue,2)} ${"вечности"===this.autobuyer.name?"ОВ":"ОБ"}`}}},watch:{isActive(e){this.autobuyer.isActive=e}},methods:{update(){const e=this.autobuyer;this.isUnlocked=e.isUnlocked,this.isActive=e.isActive,this.globalToggle=player.auto.autobuyersOn,this.canBeBought=e.canBeBought,this.isUnlockable=e.canUnlockSlowVersion,this.antimatterCost=e.antimatterCost,this.isBought=e.isBought,this.antimatter.copyFrom(player.records.thisEternity.maxAM),this.currMode=e.mode,this.isShowingStateInfo&&(this.nextValue=new Decimal(e.highestPrevPrestige).times(e.xHighest),this.nextTime=e.timeToNextTick)},toggle(){this.isActive=!this.isActive},purchase(){this.autobuyer.purchase(),TabNotification.newAutobuyer.clearTrigger(),GameCache.cheapestAntimatterAutobuyer.invalidate()}}},LT=OT;var $T=(0,H.A)(LT,IT,MT,!1,null,"53c7b102",null);const HT=$T.exports;var FT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.modes,(function(t){return i("div",{key:t,staticClass:"o-primary-btn c-autobuyer-box__mode-select l-autobuyer-choice",attrs:{value:t},on:{click:function(i){return e.changeMode(t)}}},[e._v(" "+e._s(e.modeNameFn(t))+" ")])})),0)},qT=[];const VT={name:"AutobuyerDropdownEntry",props:{autobuyer:{type:Object,required:!0},modes:{type:Array,required:!0},modeNameFn:{type:Function,required:!0}},data(){return{mode:0}},methods:{update(){this.mode=this.autobuyer.mode},changeMode(e){this.autobuyer.mode=e,this.mode=e,this.$parent.openRequest=!1}}},YT=VT;var jT=(0,H.A)(YT,FT,qT,!1,null,"b8f762d6",null);const WT=jT.exports;var XT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.isMaxed&&e.isUpgradeable?i("button",{class:e.classObject,on:{click:e.upgradeInterval}},[e._v(" Уменьшить интервал на "+e._s(e.formatPercents(.4))+" "),i("br"),e._v(" Цена: "+e._s(e.format(e.cost,2))+" ОБ ")]):e.isMaxed?e._e():i("button",{staticClass:"o-autobuyer-btn l-autobuyer-box__button o-autobuyer-btn--unavailable"},[e._v(" Выполните Испытание, чтобы разблокировать возможность уменьшать интервал ")])},zT=[];const KT={name:"AutobuyerIntervalButton",props:{autobuyer:{type:Object,required:!0}},data(){return{cost:0,isMaxed:!1,isUpgradeable:!1,isAffordable:!1}},computed:{classObject(){return{"o-autobuyer-btn":!0,"l-autobuyer-box__button":!0,"o-autobuyer-btn--unavailable":!this.isAffordable}}},methods:{update(){this.cost=this.autobuyer.cost,this.isMaxed=this.autobuyer.hasMaxedInterval,this.isUpgradeable=this.autobuyer.canBeUpgraded,this.isAffordable=Currency.infinityPoints.gte(this.cost)},upgradeInterval(){this.autobuyer.upgradeInterval()}}},QT=KT;var JT=(0,H.A)(QT,XT,zT,!1,null,"44a82015",null);const ZT=JT.exports,e_={name:"BigCrunchAutobuyerBox",components:{AutobuyerBox:HT,AutobuyerIntervalButton:ZT,AutobuyerInput:q,ExpandingControlBox:Lo,AutobuyerDropdownEntry:WT},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{isDoomed:!1,postBreak:!1,hasMaxedInterval:!1,mode:AUTO_CRUNCH_MODE.AMOUNT,hasAdditionalModes:!1,increaseWithMult:!0}},computed:{autobuyer:()=>Autobuyer.bigCrunch,modes:()=>[AUTO_CRUNCH_MODE.AMOUNT,AUTO_CRUNCH_MODE.TIME,AUTO_CRUNCH_MODE.X_HIGHEST],amountMode:()=>AUTO_ETERNITY_MODE.AMOUNT},watch:{increaseWithMult(e){this.autobuyer.increaseWithMult=e}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.postBreak=player.break,this.hasMaxedInterval=this.autobuyer.hasMaxedInterval,this.mode=this.autobuyer.mode,this.hasAdditionalModes=this.autobuyer.hasAdditionalModes,this.increaseWithMult=this.autobuyer.increaseWithMult},modeProps(e){switch(e){case AUTO_CRUNCH_MODE.AMOUNT:return{title:"Большое Сжатие при X ОБ",input:{property:"amount",type:"decimal"}};case AUTO_CRUNCH_MODE.TIME:return{title:"Сжатие каждые X секунд",input:{property:"time",type:"float"}};case AUTO_CRUNCH_MODE.X_HIGHEST:return{title:"При ОБ, в X раз превышающих максимальные",input:{property:"xHighest",type:"decimal"}}}throw new Error("Unknown Auto Crunch mode")},modeName(e){return this.modeProps(e).title}}},t_=e_;var i_=(0,H.A)(t_,xT,RT,!1,null,"cb022d18",null);const a_=i_.exports;var n_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,"show-interval":!e.isBuyMaxUnlocked,name:"Автоматика Расширений Измерений"},scopedSlots:e._u([e.hasMaxedInterval?e.isBuyMaxUnlocked?{key:"intervalSlot",fn:function(){return[i("div",{staticClass:"c-autobuyer-box__small-text"},[i("br"),e._v(" Срабатывает раз в X секунд: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"float",property:"buyMaxInterval"}})]},proxy:!0}:null:{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},e.isBuyMaxUnlocked?null:{key:"checkboxSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox c-autobuyer-box__small-text l-top-margin o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.limitDimBoosts,expression:"limitDimBoosts"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitDimBoosts)?e._i(e.limitDimBoosts,null)>-1:e.limitDimBoosts},on:{change:function(t){var i=e.limitDimBoosts,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);a.checked?r<0&&(e.limitDimBoosts=i.concat([s])):r>-1&&(e.limitDimBoosts=i.slice(0,r).concat(i.slice(r+1)))}else e.limitDimBoosts=n}}}),e._v(" Максимум Расширений Измерений: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"int",property:"maxDimBoosts"}})]},proxy:!0},{key:"toggleSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox c-autobuyer-box__small-text l-autobuyer-text-area o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.limitUntilGalaxies,expression:"limitUntilGalaxies"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitUntilGalaxies)?e._i(e.limitUntilGalaxies,null)>-1:e.limitUntilGalaxies},on:{change:function(t){var i=e.limitUntilGalaxies,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);a.checked?r<0&&(e.limitUntilGalaxies=i.concat([s])):r>-1&&(e.limitUntilGalaxies=i.slice(0,r).concat(i.slice(r+1)))}else e.limitUntilGalaxies=n}}}),e.isBuyMaxUnlocked?i("span",[e._v(" Получать Расширения лишь для разблокировки"),i("br"),e._v(" новых измерений до X галактик: ")]):i("span",[e._v(" Требуется X галактик, чтобы всегда получать"),i("br"),e._v(" Расширения, игнорируя настройку максимума: ")])]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"int",property:"galaxies"}})]},proxy:!0}],null,!0)})},s_=[];const r_={name:"DimensionBoostAutobuyerBox",components:{AutobuyerBox:HT,AutobuyerIntervalButton:ZT,AutobuyerInput:q},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{hasMaxedInterval:!1,limitDimBoosts:!1,limitUntilGalaxies:!1,isBuyMaxUnlocked:!1}},computed:{autobuyer:()=>Autobuyer.dimboost},watch:{limitDimBoosts(e){this.autobuyer.limitDimBoosts=e},limitUntilGalaxies(e){this.autobuyer.limitUntilGalaxies=e}},methods:{update(){const e=this.autobuyer;this.hasMaxedInterval=e.hasMaxedInterval,this.isBuyMaxUnlocked=e.isBuyMaxUnlocked,this.limitDimBoosts=e.limitDimBoosts,this.limitUntilGalaxies=e.limitUntilGalaxies}}},o_=r_;var l_=(0,H.A)(o_,n_,s_,!1,null,"e0e3279c",null);const c_=l_.exports;var u_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,name:"Автоматика вечности"},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[e.hasAdditionalModes?i("ExpandingControlBox",{attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"o-primary-btn c-autobuyer-box__mode-select c-autobuyer-box__mode-select-header"},[e._v(" ▼ Текущий режим: ▼ "),i("br"),e._v(" "+e._s(e.modeName(e.mode))+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutobuyerDropdownEntry",{attrs:{autobuyer:e.autobuyer,modes:e.modes,"mode-name-fn":e.modeName}})]},proxy:!0}],null,!1,224819091)}):i("span",[e._v(e._s(e.modeProps(e.mode).title)+":")])]},proxy:!0},{key:"toggleSlot",fn:function(){return[i("AutobuyerInput",e._b({key:e.mode,attrs:{autobuyer:e.autobuyer}},"AutobuyerInput",e.modeProps(e.mode).input,!1))]},proxy:!0},e.mode===e.amountMode?{key:"checkboxSlot",fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.increaseWithMult,expression:"increaseWithMult"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.increaseWithMult)?e._i(e.increaseWithMult,null)>-1:e.increaseWithMult},on:{change:function(t){var i=e.increaseWithMult,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);a.checked?r<0&&(e.increaseWithMult=i.concat([s])):r>-1&&(e.increaseWithMult=i.slice(0,r).concat(i.slice(r+1)))}else e.increaseWithMult=n}}}),e._v(" Динамическое значение ")])]},proxy:!0}:null],null,!0)})},d_=[];const h_={name:"EternityAutobuyerBox",components:{AutobuyerBox:HT,AutobuyerInput:q,ExpandingControlBox:Lo,AutobuyerDropdownEntry:WT},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{isDoomed:!1,mode:AUTO_ETERNITY_MODE.AMOUNT,hasAdditionalModes:!1,increaseWithMult:!0}},computed:{autobuyer:()=>Autobuyer.eternity,modes:()=>[AUTO_ETERNITY_MODE.AMOUNT,AUTO_ETERNITY_MODE.TIME,AUTO_ETERNITY_MODE.X_HIGHEST],amountMode:()=>AUTO_ETERNITY_MODE.AMOUNT},watch:{increaseWithMult(e){this.autobuyer.increaseWithMult=e}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.mode=this.autobuyer.mode,this.hasAdditionalModes=this.autobuyer.hasAdditionalModes,this.increaseWithMult=this.autobuyer.increaseWithMult},modeProps(e){switch(e){case AUTO_ETERNITY_MODE.AMOUNT:return{title:"Совершать вечность при X ОВ",input:{property:"amount",type:"decimal"}};case AUTO_ETERNITY_MODE.TIME:return{title:"Вечность каждые X секунд",input:{property:"time",type:"float"}};case AUTO_ETERNITY_MODE.X_HIGHEST:return{title:"При ОВ, в X раз превышающих максимальные",input:{property:"xHighest",type:"decimal"}}}throw new Error("Unknown Auto Eternity mode")},modeName(e){return this.modeProps(e).title}}},p_=h_;var m_=(0,H.A)(p_,u_,d_,!1,null,"612c9668",null);const y_=m_.exports;var f_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,name:"Автоматика Галактик Антиматерии","show-interval":!e.isBuyMaxUnlocked},scopedSlots:e._u([e.hasMaxedInterval?e.isBuyMaxUnlocked?{key:"intervalSlot",fn:function(){return[i("div",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Срабатывает раз в X секунд: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"float",property:"buyMaxInterval"}})]},proxy:!0}:null:{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},{key:e.limitGalaxiesSlot,fn:function(){return[i("label",{staticClass:"o-autobuyer-toggle-checkbox c-autobuyer-box__small-text o-clickable"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.limitGalaxies,expression:"limitGalaxies"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitGalaxies)?e._i(e.limitGalaxies,null)>-1:e.limitGalaxies},on:{change:function(t){var i=e.limitGalaxies,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);a.checked?r<0&&(e.limitGalaxies=i.concat([s])):r>-1&&(e.limitGalaxies=i.slice(0,r).concat(i.slice(r+1)))}else e.limitGalaxies=n}}}),e._v(" Максимум Галактик Антиматерии: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:"int",property:"maxGalaxies"}})]},proxy:!0}],null,!0)})},g_=[];const b_={name:"GalaxyAutobuyerBox",components:{AutobuyerBox:HT,AutobuyerIntervalButton:ZT,AutobuyerInput:q},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{hasMaxedInterval:!1,limitGalaxies:!1,isBuyMaxUnlocked:!1,buyMax:!1}},computed:{autobuyer:()=>Autobuyer.galaxy,limitGalaxiesSlot(){return this.hasMaxedInterval&&!this.isBuyMaxUnlocked?"intervalSlot":"toggleSlot"}},watch:{limitGalaxies(e){this.autobuyer.limitGalaxies=e}},methods:{update(){this.hasMaxedInterval=this.autobuyer.hasMaxedInterval,this.isBuyMaxUnlocked=this.autobuyer.isBuyMaxUnlocked,this.limitGalaxies=this.autobuyer.limitGalaxies}}},v_=b_;var E_=(0,H.A)(v_,f_,g_,!1,null,"07d90710",null);const T_=E_.exports;var __=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,"is-modal":e.isModal,name:"Автоматика реальности"},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[i("ExpandingControlBox",{attrs:{"auto-close":!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"o-primary-btn c-autobuyer-box__mode-select c-autobuyer-box__mode-select-header"},[e._v(" ▼ Текущий режим: ▼ "),i("br"),e._v(" "+e._s(e.modeName(e.mode))+" ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("AutobuyerDropdownEntry",{attrs:{autobuyer:e.autobuyer,modes:e.modes,"mode-name-fn":e.modeName}})]},proxy:!0}])})]},proxy:!0},{key:"toggleSlot",fn:function(){return[e.hasAlternateInputs?i("div",[e._v(" Целевое время (секунды): ")]):i("div",[e._v(" Целевое количество МР: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:e.hasAlternateInputs?"float":"decimal",property:e.hasAlternateInputs?"time":"rm"}})]},proxy:!0},{key:"checkboxSlot",fn:function(){return[e.hasAlternateInputs&&e.hasRelicMode?i("div",[e._v(" Целевое количество РО: ")]):i("div",[e._v(" Целевой уровень глифа: ")]),i("AutobuyerInput",{attrs:{autobuyer:e.autobuyer,type:e.hasAlternateInputs&&e.hasRelicMode?"decimal":"int",property:e.hasAlternateInputs&&e.hasRelicMode?"shard":"glyph"}}),e.isOverCap?i("div",[e._v(" Автоматика сработает при уровне глифа "+e._s(e.formatInt(e.levelCap))+" из-за ограничения. ")]):e._e()]},proxy:!0}])})},C_=[];const A_={name:"RealityAutobuyerBox",components:{AutobuyerBox:HT,AutobuyerInput:q,ExpandingControlBox:Lo,AutobuyerDropdownEntry:WT},props:{isModal:{type:Boolean,required:!1,default:!1}},data(){return{mode:AUTO_REALITY_MODE.RM,levelCap:0,isOverCap:!1,hasAlternateInputs:!1}},computed:{autobuyer:()=>Autobuyer.reality,hasRelicMode:()=>TeresaUnlocks.effarig.canBeApplied,modes(){const e=[AUTO_REALITY_MODE.RM,AUTO_REALITY_MODE.GLYPH,AUTO_REALITY_MODE.EITHER,AUTO_REALITY_MODE.BOTH,AUTO_REALITY_MODE.TIME];return this.hasRelicMode&&e.push(AUTO_REALITY_MODE.RELIC_SHARD),e}},methods:{update(){this.mode=this.autobuyer.mode,this.levelCap=Glyphs.levelCap,this.isOverCap=this.autobuyer.glyph>this.levelCap,this.hasAlternateInputs=Autobuyer.reality.mode>AUTO_REALITY_MODE.BOTH},modeName(e){switch(e){case AUTO_REALITY_MODE.RM:return"Машины Реальности";case AUTO_REALITY_MODE.GLYPH:return"Уровень глифа";case AUTO_REALITY_MODE.EITHER:return"МР ИЛИ уровень";case AUTO_REALITY_MODE.BOTH:return"МР И уровень";case AUTO_REALITY_MODE.TIME:return"Секунды реального времени";case AUTO_REALITY_MODE.RELIC_SHARD:return"Реликтовые Осколки"}throw new Error("Unknown Auto Reality mode")}}},k_=A_;var w_=(0,H.A)(k_,__,C_,!1,null,"b9262ebc",null);const S_=w_.exports,x_={name:"AutobuyerEditModal",components:{BigCrunchAutobuyerBox:a_,DimensionBoostAutobuyerBox:c_,EternityAutobuyerBox:y_,GalaxyAutobuyerBox:T_,ModalWrapper:Jg,RealityAutobuyerBox:S_},computed:{header(){return"Настройка автоматики"},message(){return Autobuyers.hasAutobuyersForEditModal?"С помощью этого окна вы можете изменять различные настройки вашей автоматики.":"В данный момент вам недоступна автоматика, которая могла бы быть здесь показана."}}},R_=x_;var I_=(0,H.A)(R_,wT,ST,!1,null,"4d410997",null);const M_=I_.exports;var D_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{staticClass:"c-automator-template-container",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Шаблон: "+e._s(e.name)+" ")]},proxy:!0}])},[i("div",{staticClass:"c-automator-template-description"},[e._v(" "+e._s(e.description)+" ")]),i("br"),i("div",{staticClass:"c-automator-template-inputs"},[i("b",[e._v("Требуемые данные:")]),i("br"),e._v(" Древо Исследований: "),e._l(e.presets,(function(t,a){return i("button",{key:t.name,staticClass:"o-primary-btn o-load-preset-button-margin",on:{click:function(i){return e.loadPreset(t.name,a+1)}}},[e._v(" "+e._s(t.name?t.name:a+1)+" ")])})),i("button",{staticClass:"o-primary-btn o-load-preset-button-margin",on:{click:e.loadCurrent}},[i("i",[e._v("Текущее Древо")])]),e._l(e.inputs,(function(t){return i("div",{key:t.name,staticClass:"c-automator-template-entry"},[e._v(" "+e._s(t.prompt)+": "),e.paramTypeObject(t.type).boolDisplay?i("span",[i("button",{staticClass:"o-primary-btn",on:{click:function(i){return e.updateButton(t)}}},[e._v(" "+e._s(e.buttonTextStrings[t.name])+" ")])]):i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.templateInputs[t.name],expression:"templateInputs[input.name]"}],ref:"templateInputs[input.name]",refInFor:!0,staticClass:"c-automator-template-textbox",class:e.validityClass(t),attrs:{type:"text"},domProps:{value:e.templateInputs[t.name]},on:{input:[function(i){i.target.composing||e.$set(e.templateInputs,t.name,i.target.value)},e.updateTemplateProps]}})])])}))],2),i("div",{staticClass:"c-automator-template-warnings"},[i("b",[e._v("Возможные недостатки:")]),0!==e.validWarnings.length?i("div",e._l(e.validWarnings,(function(t){return i("div",{key:t,staticClass:"c-automator-template-entry"},[e._v(" "+e._s(t)+" ")])})),0):i("div",[e._v(" (Если в данных, введённых вами, будут обнаружены недостатки, они будут отображены здесь) ")]),i("br"),i("br")]),0===e.invalidInputCount?i("button",{staticClass:"o-primary-btn",on:{click:e.copyAndClose}},[e._v(" "+e._s(e.isBlock?"Создать блок кода по шаблону":"Копировать шаблон в буфер обмена")+" и закрыть это окно ")]):i("button",{staticClass:"o-primary-btn o-primary-btn--disabled"},[e._v(" Код невозможно генерировать (недопустимый ввод в "+e._s(e.quantifyInt("поле",e.invalidInputCount))+") ")])])},P_=[];const U_={name:"AutomatorScriptTemplate",components:{ModalWrapper:Jg},props:{warnings:{type:Function,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},inputs:{type:Array,required:!0}},data(){return{templateInputs:{},buttonTextStrings:[],invalidInputCount:0,templateProps:null,currentPreset:"",isBlock:!1}},computed:{presets:()=>player.timestudy.presets,params:()=>GameDatabase.reality.automator.templates.paramTypes,validWarnings(){var e;return 0===this.invalidInputCount?this.warnings().concat(null===(e=this.templateScript)||void 0===e?void 0:e.warnings):this.warnings()},templateScript(){return 0!==this.invalidInputCount?null:new ScriptTemplate(this.templateProps,this.name)}},created(){for(const e of this.inputs){const t=this.paramTypeObject(e.type).boolDisplay;t?(this.$set(this.templateInputs,e.name,!1),this.buttonTextStrings[e.name]=t[1]):(this.$set(this.templateInputs,e.name,""),this.invalidInputCount++)}},methods:{update(){this.isBlock=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK},paramTypeObject(e){return this.params.find((t=>t.name===e))},isValid(e){const t=this.paramTypeObject(e.type);return!t.isValidString||t.isValidString(this.templateInputs[e.name])},validityClass(e){return"treeStudies"===e.name&&""!==this.currentPreset?"c-automator-template-textbox--preset":this.isValid(e)?void 0:"c-automator-template-textbox--invalid"},loadPreset(e,t){this.templateInputs.treeStudies=e?`NAME ${e}`:`ID ${t}`,this.updateTemplateProps()},loadCurrent(){this.templateInputs.treeStudies=GameCache.currentStudyTree.value.exportString,this.updateTemplateProps()},updateTemplateProps(){this.templateProps={},this.invalidInputCount=0;for(const i of this.inputs){const e=this.paramTypeObject(i.type),t=t=>e.map?e.map(t):t;this.templateProps[i.name]=t(this.templateInputs[i.name]),this.isValid(i)||this.invalidInputCount++}const e=this.templateProps.treeStudies.match(/^NAME (.{1,4})$/u),t=this.templateProps.treeStudies.match(/^ID (\d)$/u);if(e){const t=e?e[1]:"";this.currentPreset=this.presets.find((e=>e.name===t)).name}else if(t){const e=t?t[1]:"";this.currentPreset=this.presets.some(((t,i)=>i===e-1))?e:""}this.templateProps.treePreset=""===this.currentPreset?null:this.currentPreset},updateButton(e){this.templateInputs[e.name]=!this.templateInputs[e.name];const t=this.paramTypeObject(e.type).boolDisplay;this.buttonTextStrings[e.name]=t[this.templateInputs[e.name]?0:1],this.updateTemplateProps()},copyAndClose(){if(this.isBlock){const e={name:`Шаблон: ${this.name}`,blocks:On(this.templateScript.script).blocks};AutomatorData.blockTemplates.push(e),GameUI.notify.info("Создан пользовательский шаблон")}else copyToClipboard(this.templateScript.script),GameUI.notify.info("Шаблон скопирован в буфер обмена");this.emitClose()}}},G_=U_;var N_=(0,H.A)(G_,D_,P_,!1,null,"6916835d",null);const B_=N_.exports;var O_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{staticClass:"c-modal-away-progress"},[i("div",{staticClass:"c-modal-away-progress__header"},[e._v(" "+e._s(e.headerText)+" ")]),e.nothingHappened?e._e():i("div",{staticClass:"c-modal-away-progress__resources c-modal--short"},e._l(e.offlineStats,(function(t){return i("AwayProgressEntry",{key:t,attrs:{name:t,"player-before":e.playerBefore,"player-after":e.playerAfter},on:{"something-happened":function(t){e.somethingHappened=!0}}})})),1),!e.nothingHappened&&e.somethingHappened?i("span",[e._v("Примечание: нажмите на статью прогресса, чтобы скрыть её на будущее.")]):e._e()])},L_=[],$_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{class:e.classObject,on:{click:e.hideEntry}},[e.isBlackHole?i("span",[e._v(" Ваша "),i("b",[e._v(e._s(e.formattedName))]),e._v(" активировалась "+e._s(e.formatBlackHoleActivations)+" ")]):i("span",[e.isVeryLarge?i("i",[e._v("Порядок количества ")]):i("i",[e._v("Количество ")]),i("b",[e._v(e._s(e.formattedName))]),e.isVeryLarge?i("i",[e._v(" возрос")]):i("i",[e._v(" возросло")]),e._v(" с "+e._s(e.formatBefore)+" до "+e._s(e.formatAfter)+" ")])]):e._e()},H_=[];const F_={name:"AwayProgressEntry",props:{name:{type:String,required:!0},playerBefore:{type:Object,required:!0},playerAfter:{type:Object,required:!0}},data(){return{removed:!1}},computed:{item(){return AwayProgressTypes.all[this.name]},before(){return this.item.navigateTo(this.playerBefore)},after(){return this.item.navigateTo(this.playerAfter)},formatBefore(){return this.formatPseudo(this.before)},formatAfter(){return this.formatPseudo(this.after)},classObject(){return{[this.item.classObject]:!this.removed,"c-modal-away-progress__disabled":this.removed}},formattedName(){return this.item.formatName},increased(){if(this.formatAfter===this.formatBefore)return!1;const e=this.before,t=this.after;return t instanceof Decimal?t.gt(e):t>e},show(){if(!this.item.appearsInAwayModal)return!1;const e=this.increased&&this.item.option&&this.item.isUnlocked();return e&&this.$emit("something-happened"),e},isBlackHole(){return this.item.name.includes("BlackHole")},formatBlackHoleActivations(){const e=this.after-this.before;return quantifyInt("раз",e)},isVeryLarge(){return!this.isBlackHole&&Decimal.gt(this.before,Decimal.pow10(1e9))}},methods:{formatPseudo(e){if(void 0===e)return"";if(this.isVeryLarge)return formatInt(Math.floor(e.log10()));if(Decimal.lt(e,1e9)){const t=new Decimal(e);return formatInt(t.floor())}return format(e,2,2)},hideEntry(){this.removed=!this.removed,this.item.option=!this.item.option}}},q_=F_;var V_=(0,H.A)(q_,$_,H_,!1,null,"616bfd90",null);const Y_=V_.exports,j_={name:"AwayProgressModal",components:{AwayProgressEntry:Y_,ModalWrapper:Jg},props:{playerBefore:{type:Object,required:!0},playerAfter:{type:Object,required:!0},seconds:{type:Number,required:!0}},data(){return{somethingHappened:!1}},computed:{nothingHappened(){return"S9"===Theme.current().name},offlineStats(){return AwayProgressTypes.appearsInAwayModal},headerText(){const e=TimeSpan.fromSeconds(this.seconds).toString("genitive");return this.nothingHappened||!this.somethingHappened?`Пока вы отсутствовали в течение ${e}... Ничего не произошло.`:`Пока вы отсутствовали в течение ${e}: `}},mounted(){this.$nextTick((()=>{!this.nothingHappened&&this.somethingHappened||SecretAchievement(36).unlock()}))}},W_=j_;var X_=(0,H.A)(W_,O_,L_,!1,null,"502a2e41",null);const z_=X_.exports;var K_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"show-cancel":!1},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы преодолеваете Бесконечность ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Преодолеть ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},e._l(e.message,(function(t,a){return i("span",{key:a},[e._v(" "+e._s(t)+" "),i("br")])})),0)])},Q_=[];const J_={name:"BreakInfinityModal",components:{ModalWrapperChoice:Um},computed:{message(){const e=formatPostBreak(Number.MAX_VALUE,2);return`Преодоление Бесконечности позволит вам набрать больше ${e} антиматерии${PlayerProgress.eternityUnlocked()?".":` и читать числа, превышающие ${e}.`}\n        Измерения и ускорители будут расти в цене быстрее после ${e} антиматерии.\n        Вы будете получать больше Очков Бесконечности при Большом Сжатии в зависимости от наибольшего количества антиматерии в этой бесконечности.        ${EternityMilestone.keepAutobuyers.isReached?"":"\nВы также разблокируете Улучшения Преодоления и улучшите до предела        всю автоматику, разблокированную или улучшенную Обычными Испытаниями."}`.split("\n")}},methods:{handleYesClick(){breakInfinity()}}},Z_=J_;var eC=(0,H.A)(Z_,K_,Q_,!1,null,null,null);const tC=eC.exports;var iC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal-away-progress"},[i("div",{staticClass:"c-modal-away-progress__header"},[e._v(" "+e._s(e.titleText)+" ")]),i("div",[e._v(" "+e._s(e.timeString)+" На случай, если вам нужно освежить игру в памяти, представлено краткое изложение всего контента, разблокированного вами с начала игры, разделённое по стадиям прогресса. Это лишь очень краткие описания; вы можете открыть соответствующую статью помощи по игре, нажав название раздела или иконку "),i("i",{staticClass:"fas fa-question-circle"}),e._v(" для просмотра более подробной информации. ")]),i("div",{staticClass:"l-catchup-group-container",style:{height:Math.clamp(3*e.progressStage+5,15,35)+"rem"}},e._l(e.progressStage,(function(t){return i("CatchupGroup",{key:t,attrs:{group:t,name:e.stageName(t)}})})),1),i("span",{staticClass:"c-suggestion-text"},[e._v(" Судя по вашему прогрессу, возможно, будет полезно попытаться увеличить ваше количество "+e._s(e.suggestedResource)+". ")]),i("div",{staticClass:"l-confirm-padding"},[i("PrimaryButton",{on:{click:e.emitClose}},[e._v(" OK ")])],1)])},aC=[],nC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return 0!==e.shownResources.length?i("div",[i("span",{staticClass:"o-catchup-group-title",on:{click:function(t){e.collapsed=!e.collapsed}}},[i("i",{class:e.dropDownIconClass}),e._v(" "+e._s(e.name)+" ")]),e.collapsed?e._e():i("div",e._l(e.shownResources,(function(e,t){return i("CatchupEntry",{key:t,staticClass:"l-left",attrs:{info:e}})})),1)]):e._e()},sC=[],rC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal-catchup-entry"},[i("span",{staticClass:"c-resource-name",attrs:{info:e.info,"is-focused":e.isFocusedResource(e.info)},on:{click:e.showHowTo}},[i("span",{staticClass:"c-underline"},[e._v(e._s(e.info.name))]),e._v(": "),i("i",{staticClass:"fas fa-question-circle"})]),e._v(" "+e._s(e.info.description)+" ")])},oC=[];const lC={name:"CatchupEntry",props:{info:{type:Object,required:!0}},data(){return{focusedResourceId:-1,tabToOpen:String}},computed:{config(){return this.info.config},hasDedicatedH2p(){return void 0!==this.config.openH2pEntry}},methods:{isFocusedResource(e){if(this.focusedResourceId=e.id,-1===this.focusedResourceId)return!0;const t=GameDatabase.catchupResources[this.focusedResourceId].name;return t!==e.name||(this.tabToOpen=t)},showHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter((e=>e.alias===(this.hasDedicatedH2p?this.config.openH2pEntry:this.tabToOpen)))[0],Modal.h2p.show()}}},cC=lC;var uC=(0,H.A)(cC,rC,oC,!1,null,"34008a4e",null);const dC=uC.exports,hC={name:"CatchupGroup",components:{CatchupEntry:dC},props:{group:{type:Number,required:!0},name:{type:String,required:!0}},data(){return{collapsed:!0}},computed:{shownResources(){return Ph.all.filter((e=>e.requiredStage===this.group))},dropDownIconClass(){return this.collapsed?"far fa-plus-square":"far fa-minus-square"}}},pC=hC;var mC=(0,H.A)(pC,nC,sC,!1,null,"005300ef",null);const yC=mC.exports,fC={name:"CatchupModal",components:{CatchupGroup:yC,PrimaryButton:Fs},props:{diff:{type:Number,required:!0}},computed:{progressStage:()=>Uh.getProgressStage(player).id,suggestedResource(){return Mh(this.progressStage).suggestedResource},timeString(){return this.diff?`Прошло ${TimeSpan.fromMilliseconds(this.diff).toString()}, с тех пор как вы открыли игру в прошлый раз.`:null},titleText(){return"Краткое изложение контента"}},methods:{stageName(e){return Mh(e).name}}},gC=fC;var bC=(0,H.A)(gC,iC,aC,!1,null,"59876866",null);const vC=bC.exports;var EC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-changelog-modal"},[i("ModalCloseButton",{on:{click:e.emitClose}}),e._m(0),i("div",{staticClass:"l-changelog-container"},[i("div",{staticClass:"l-changelog-search-tab"},[i("div",{staticClass:"l-changelog-tab-list"},e._l(e.entries,(function(t){return i("div",{key:t.id,staticClass:"o-changelog-tab-button",class:{"o-changelog-tab-button--selected":t===e.shownEntry},on:{click:function(i){return e.setShownEntry(t)}}},[e._v(" "+e._s(e.formatDate(t.date))+" ")])})),0)]),i("div",{staticClass:"l-changelog-info"},[i("div",{staticClass:"c-changelog-body--title"},[e._v(" "+e._s(e.formatDate(e.shownEntry.date))),e.shownEntry.name?i("span",[e._v(': "'+e._s(e.shownEntry.name)+'" update')]):e._e()]),i("div",{ref:"changelogBody",staticClass:"l-changelog-body c-changelog-body",domProps:{innerHTML:e._s(e.shownEntry.info)}})])])],1)},TC=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-changelog-header"},[i("div",{staticClass:"c-changelog-title"},[e._v(" История изменений ")])])}];const _C={name:"ChangelogModal",components:{ModalCloseButton:Am},data(){return{entryId:0}},computed:{shownEntry:{get(){return GameDatabase.changelog[this.entryId]},set(e){this.entryId=e.id}},entries(){return GameDatabase.changelog}},methods:{setShownEntry(e){this.shownEntry=e,this.$refs.changelogBody.scrollTop=0},formatDate(e){return e.map((e=>Math.log10(e)>=2?e:`0${e}`.slice(-2))).join("-")}}},CC=_C;var AC=(0,H.A)(CC,EC,TC,!1,null,"75f02a38",null);const kC=AC.exports;var wC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.confirmChange},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Изменить ваше имя игрока ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Изменить имя ")]},proxy:!0}])},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[e.updateName,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmChange.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(t){t.target.composing||(e.input=t.target.value)}}}),i("i",[e._v(" Имя больше не сможет быть изменено, как только запустится таймер, и его длина не может превышать "+e._s(e.formatInt(40))+" символов. ")]),i("div",[e._v(" Ваше новое имя: "+e._s(e.actualName)+" ")])])},SC=[];const xC={name:"ChangeNameModal",components:{ModalWrapperChoice:Um},data(){return{input:"",actualName:""}},created(){this.input=player.speedrun.name,this.actualName=Speedrun.generateName(this.input)},mounted(){this.$refs.input.select()},methods:{updateName(){this.actualName=Speedrun.generateName(this.input)},confirmChange(){player.speedrun.name=this.actualName,this.emitClose()}}},RC=xC;var IC=(0,H.A)(RC,wC,SC,!1,null,null,null);const MC=IC.exports;var DC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.deleteConstants},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Удаление постоянных для Автоматизатора ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Удалить все ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Вы уверены, что хотите удалить все определённые в данный момент постоянные для Автоматизатора? "),i("br"),i("span",{staticClass:"l-lost-text"},[e._v(" "+e._s(e.number)+" будет безвозвратно "+e._s(e.deleted)+"! ")])])])},PC=[];const UC={name:"ClearConstantsModal",components:{ModalWrapperChoice:Um},data(){return{constantCount:0}},methods:{update(){this.constantCount=Object.keys(player.reality.automator.constants).length,0===this.constantCount&&this.emitClose(),this.number=quantify("постоянная",this.constantCount),this.deleted=pluralize("удалена",this.constantCount)},deleteConstants(){player.reality.automator.constants={},player.reality.automator.constantSortOrder=[]}}},GC=UC;var NC=(0,H.A)(GC,DC,PC,!1,null,"3414711a",null);const BC=NC.exports;var OC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{staticClass:"l-credits-modal c-credits-modal",scopedSlots:e._u([{key:"header",fn:function(){return[i("h1",{staticClass:"c-game-header__antimatter"},[e._v(" Измерения Антиматерии ")])]},proxy:!0}])},[i("div",{staticClass:"c-credits-modal__body"},[i("CreditsDisplay",{attrs:{"is-modal":!0}})],1)])},LC=[],$C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"c-credits-s12-end":e.isS12EndDisplay}},[e.isModal?e._e():i("h1",{staticClass:"c-credits-header"},[e._v(" Измерения Антиматерии ")]),e._l(e.roles.count,(function(t){return i("div",{key:t},[i("h2",{staticClass:"c-credits-section"},[e._v(" "+e._s(e.roles[t])+" ")]),i("div",{class:{"l-credits--bulk":e.relevantPeople(t).length>10}},e._l(e.relevantPeople(t),(function(t){return i("div",{key:t.name,staticClass:"c-credit-entry"},[e._v(" "+e._s(t.name)+" "),t.name2?i("span",[e._v(" ("+e._s(t.name2)+") ")]):e._e()])})),0)])})),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("h1",{staticClass:"c-credits-header"},[e._v(" Огромное спасибо, что играли! ")])],2)},HC=[];const FC={name:"CreditsDisplay",props:{isModal:{type:Boolean,required:!1,default:!1}},computed:{people(){return GameDatabase.credits.people},roles(){return GameDatabase.credits.roles},isS12EndDisplay(){return"S12"===this.$viewModel.theme&&!this.isModal}},methods:{relevantPeople(e){return this.people.filter((t=>"number"===typeof t.roles?t.roles===e:t.roles.includes(e))).sort(((e,t)=>e.name.localeCompare(t.name)))}}},qC=FC;var VC=(0,H.A)(qC,$C,HC,!1,null,"9a0e4c32",null);const YC=VC.exports,jC={name:"CreditsModal",components:{CreditsDisplay:YC,ModalWrapper:Jg}},WC=jC;var XC=(0,H.A)(WC,OC,LC,!1,null,"8866fed8",null);const zC=XC.exports;var KC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Удалить эту программу ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Удалить ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Пожалуйста, подтвердите своё намерение удалить эту программу для Автоматизатора. ")])])},QC=[];const JC={name:"DeleteAutomatorScriptModal",components:{ModalWrapperChoice:Um},props:{scriptID:{type:[String,Number],required:!0}},methods:{handleYesClick(){const e=this.scriptID,t=AutomatorBackend.state.topLevelScript;AutomatorBackend.deleteScript(e);const i=Object.values(player.reality.automator.scripts).map((e=>({id:e.id,name:e.name})));AutomatorBackend.isOn&&t!==e?player.reality.automator.state.editorScript=t:player.reality.automator.state.editorScript=i[0].id,AutomatorData.clearUndoData(),EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED)}}},ZC=JC;var eA=(0,H.A)(ZC,KC,QC,!1,null,null,null);const tA=eA.exports;var iA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Трещины в Реальности Безымянных ")]},proxy:!0}])},[i("div",{staticClass:"c-enslaved-hint-modal c-modal--short"},[i("div",[e._v(" Кажется, эта Реальность сопротивляется вашим стараниям её выполнить. Пока что вы сделали следующее: ")]),i("br"),e._l(e.shownEntries,(function(t,a){return i("div",{key:a},[t[0]?i("div",[i("i",{staticClass:"fa-solid fa-shapes"}),e._v(" "),i("b",[e._v("Подсказка по глифам:")]),i("br"),e._v(" "+e._s(t[1])+" ")]):i("div",[t[1].hasHint&&!t[1].hasProgress?i("span",[i("i",{staticClass:"c-icon-wrapper fas fa-question-circle"}),i("b",[e._v("Вы пока что не поняли, что означает эта подсказка.")])]):i("span",[i("i",{staticClass:"c-icon-wrapper fa-solid fa-house-crack"}),i("b",[e._v("Вы нашли трещину в этой Реальности:")])]),i("br"),e._v(" - "+e._s(t[1].hintInfo)+" "),i("br"),e._v(" - "+e._s(t[1].hasProgress?t[1].completedInfo:"?????")+" ")]),i("br")])})),e.realityHintsLeft+e.glyphHintsLeft>0?i("div",[e._v(" Вы можете тратить время на открытие каких-нибудь ещё трещин в этой Реальности, но каждый раз, когда вы тратие сохранённое время игры на подсказку, необходимое количество сохранённого времени игры увеличивается в "+e._s(e.formatInt(3))+" раза. Это увеличение цены постепенно ослабевает в течение "+e._s(e.formatInt(24))+" часов, и выяснение значения подсказки немедленно разделит цену на "+e._s(e.formatInt(2))+". Цена не может стать меньше "+e._s(e.format(1e40))+" лет. "),i("br"),i("br"),e._v(" Следующая подсказка стоит "+e._s(e.hintCost)+" сохранённого времени игры. Сейчас у вас "+e._s(e.formattedStored)+". "),e.currentStored<e.nextHintCost?i("span",[e._v(" Вы достигните необходимого количества, если вы будете заряжать Чёрную Дыру в течение "+e._s(e.timeEstimate)+". ")]):e._e(),i("br"),i("br"),i("PrimaryButton",{staticClass:"l-enslaved-hint-button",attrs:{enabled:e.realityHintsLeft>0&&e.canGetHint},on:{click:function(t){return e.giveRealityHint(e.realityHintsLeft)}}},[e._v(" Получить подсказку по самой Реальности ("+e._s(e.formatInt(e.realityHintsLeft))+" осталось) ")]),i("br"),i("PrimaryButton",{staticClass:"l-enslaved-hint-button",attrs:{enabled:e.glyphHintsLeft>0&&e.canGetHint},on:{click:function(t){return e.giveGlyphHint(e.glyphHintsLeft)}}},[e._v(" Получить подсказку по глифам, которые лучше использовать ("+e._s(e.formatInt(e.glyphHintsLeft))+" осталось) ")])],1):i("div",[i("b",[e._v("Подсказок больше не осталось!")])])],2)])},aA=[];const nA={name:"EnslavedHintsModal",components:{ModalWrapper:Jg,PrimaryButton:Fs},data(){return{currentStored:0,nextHintCost:0,canGetHint:!1,shownEntries:[],realityHintsLeft:0,glyphHintsLeft:0,hints:0}},computed:{hintCost(){return`${format(TimeSpan.fromMilliseconds(this.nextHintCost).totalYears,2)} года`},formattedStored(){return`${format(TimeSpan.fromMilliseconds(this.currentStored).totalYears,2)} года`},hasProgress(e){return this.progressEntries.some((t=>t.id===e))},timeEstimate(){if(this.currentStored>=this.nextHintCost)return"";const e=1e3*(Enslaved.isStoringGameTime?Enslaved.currentBlackHoleStoreAmountPerMs:getGameSpeedupFactor()),t=this.currentStored/e,i=this.nextHintCost/e,a=(TimeSpan.fromYears(1e40).totalMilliseconds-this.currentStored)/e;if(TimeSpan.fromSeconds(a).totalDays>this.hints)return`${TimeSpan.fromSeconds(a).toStringShort(!0)}`;const n=Math.pow(3,1/86400),s=i*Math.log(n)*Math.pow(n,t),r=productLog(s)/Math.log(n)-t;return`${TimeSpan.fromSeconds(r).toStringShort(!0)}`}},methods:{update(){this.currentStored=player.celestials.enslaved.stored,this.nextHintCost=Enslaved.nextHintCost,this.canGetHint=this.currentStored>=this.nextHintCost,this.shownEntries=[],this.realityHintsLeft=EnslavedProgress.all.length;for(const t of EnslavedProgress.all)t.hasHint&&(this.shownEntries.push([!1,t]),this.realityHintsLeft--);const e=player.celestials.enslaved.glyphHintsGiven;for(let t=0;t<e;t++)this.shownEntries.push([!0,GameDatabase.celestials.enslaved.glyphHints[t]]);this.glyphHintsLeft=GameDatabase.celestials.enslaved.glyphHints.length-e,this.hints=Enslaved.hintCostIncreases},giveRealityHint(e){e<=0||!Enslaved.spendTimeForHint()||EnslavedProgress.all.filter((e=>!e.hasHint)).randomElement().unlock()},giveGlyphHint(e){e<=0||!Enslaved.spendTimeForHint()||player.celestials.enslaved.glyphHintsGiven++}}},sA=nA;var rA=(0,H.A)(sA,iA,aA,!1,null,"242d9280",null);const oA=rA.exports;var lA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"deleteGlyphSetSave"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Удалить набор глифов ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Удалить ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Пожалуйста, подтвердите ваше намерение удалить этот набор глифов: "),i("GlyphSetPreview",{attrs:{"is-in-modal":!0,glyphs:e.glyphSet}}),e._v(" Собственно глифы не будут удалены, только сохранённая комбинация. ")],1)])},cA=[],uA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.text&&!e.textHidden?i("span",[e._v(" "+e._s(e.text)+" "),i("br")]):e._e(),0!==e.glyphs.length?i("span",{class:{"l-glyph-set-preview":!e.isInModal},on:{click:e.showModal}},[e.showName?i("GlyphSetName",{key:e.glyphHash(),attrs:{"glyph-set":e.glyphs,"force-color":e.forceNameColor}}):e._e(),e._l(e.orderedGlyphs,(function(t,a){return i("GlyphComponent",{key:a,staticClass:"l-preview",attrs:{glyph:t,"show-sacrifice":e.showSacrifice,draggable:!1,circular:!0,"ignore-modified-level":e.ignoreModifiedLevel,"reality-glyph-boost":e.realityGlyphBoost,"flip-tooltip":e.flipTooltip,"is-in-modal":e.isInModal,size:"3rem","text-proportion":.5,"glow-blur":"0.2rem","glow-spread":"0.1rem"}})}))],2):i("span",[e.showName?i("GlyphSetName",{attrs:{"glyph-set":e.glyphs,"force-color":e.forceNameColor}}):e._e(),e._v(" "+e._s(e.noneText)+" ")],1)])},dA=[],hA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",{staticClass:"c-current-glyph-effects__header",style:e.textStyle},[e._v(" "+e._s(e.setName)+" ")])])},pA=[];const mA={companion:{adjective:"Мил",noun:"Компаньон",gender:"M"},reality:{adjective:"Реальн",noun:"Реальность",gender:"F"},music:{adjective:{high:"Мелодичн",mid:"Аккордов",low:"Тональн"},noun:"Музыка",gender:"F"},effarig:{adjective:{both:"Мета-",glyph:"Устойчив",rm:"Механическ",none:"Раздробленн"},noun:{both:"Эффариг",glyph:"Устойчивость",rm:"Механизм",none:"Раздробленность"},gender:{both:"M",glyph:"F",rm:"M",none:"F"}},cursed:{adjective:{high:"Проклят",mid:"Околдованн",low:"Заговорённ"},noun:"Проклятие",gender:"N"},power:{adjective:{mid:"Освоенн",low:"Потенциальн"},noun:"Сила",gender:"F"},infinity:{adjective:{mid:"Безграничн",low:"Огромн"},noun:"Бесконечность",gender:"F"},replication:{adjective:{mid:"Симулированн",low:"Дублированн"},noun:"Репликация",gender:"F"},time:{adjective:{mid:"Хрональн",low:"Эфемерн"},noun:"Время",gender:"N"},dilation:{adjective:{mid:"Ослабленн",low:"Растворённ"},noun:"Замедление",gender:"N"}},yA={name:"GlyphSetName",props:{glyphSet:{type:Array,required:!0},forceColor:{type:Boolean,required:!1,default:!1}},data(){return{isColored:!0,glyphTypeList:[{type:"power",perc:0,adjOrder:1},{type:"infinity",perc:0,adjOrder:1},{type:"replication",perc:0,adjOrder:1},{type:"time",perc:0,adjOrder:1},{type:"dilation",perc:0,adjOrder:1},{type:"effarig",perc:0,adjOrder:2},{type:"music",perc:0,adjOrder:3},{type:"reality",perc:0,adjOrder:4},{type:"companion",perc:0,adjOrder:5},{type:"cursed",perc:0,adjOrder:6}],sortedGlyphs:[],slotCount:0}},computed:{isDoomed:()=>Pelle.isDoomed,setName(){if(this.sortGlyphList(),0===this.sortedGlyphs.length)return"Пустота";if(1===this.sortedGlyphs.length)return this.singletonName;let e,t,i;if(this.sortedGlyphs.some((e=>1===e.adjOrder)))e=this.sortedGlyphs.filter((e=>1!==e.adjOrder)).concat(this.basicTypePhrase.adjList),t=this.basicTypePhrase.noun,i=this.basicTypePhrase.gender;else{e=[...this.sortedGlyphs];let a=e.pop();t=this.getNoun(a),i=this.getGender(a)}const a=[];for(const n of e)a.push(this.getAdjective(n));return`${a.map((e=>this.genderise(e,i))).join("")}${t}`},basicTypePhrase(){const e=this.sortedGlyphs.filter((e=>BASIC_GLYPH_TYPES.includes(e.type)&&0!==e.perc));switch(e.length){case 1:return{noun:this.getNoun(e[0]),gender:this.getGender(e[0]),adjList:[]};case 2:return e[0].perc===e[1].perc?{noun:"Смесь",gender:"F",adjList:[e[0],e[1]]}:{noun:this.getNoun(e[0]),gender:this.getGender(e[0]),adjList:[e[1]]};case 3:return e[0].perc>e[1].perc?{noun:this.getNoun(e[0]),gender:this.getGender(e[0]),adjList:[e[1],e[2]]}:e[0].perc===e[2].perc?{noun:"Смешанная Разнородность",gender:"F",adjList:[]}:{noun:"Разнородность",gender:"F",adjList:[e[0],e[1],e[2]]};case 4:return e[0].perc===e[1].perc?{noun:"Разнородная Путаница",gender:"F",adjList:[]}:{noun:"Путаница",gender:"F",adjList:[e[0]]};case 5:return{noun:"Флеш-рояль",gender:"M",adjList:[]};default:throw new Error("Unexpected glyph set configuration in GlyphSetName")}},singletonName(){if("effarig"===this.sortedGlyphs[0].type)return mA.effarig.noun[this.getEffarigProp()];const e=["reality","companion"];for(const s of e)if(this.sortedGlyphs[0].type===s)return mA[s].noun;const t=this.getNoun(this.sortedGlyphs[0]),i=this.sortedGlyphs[0].perc,a=this.getGender(this.sortedGlyphs[0]);let n="Слаб";return i>=40&&(n="Частичн"),i>=75&&(n="Усиленн"),100===i&&(n="Полн"),this.isDoomed&&(n="Обречённ"),`${this.genderise(n,a)} ${t}`},mainGlyphName(){if(0===this.sortedGlyphs.length)return{id:"none",currentColor:{border:"#888888"}};if(this.calculateGlyphPercent("cursed"))return CosmeticGlyphTypes.cursed;if(this.calculateGlyphPercent("companion"))return CosmeticGlyphTypes.companion;if(this.calculateGlyphPercent("reality"))return CosmeticGlyphTypes.reality;if(this.calculateGlyphPercent("music")>=50)return CosmeticGlyphTypes.music;const e=this.sortedGlyphs.filter((e=>1===e.adjOrder))[0];return(null===e||void 0===e?void 0:e.perc)>=50?CosmeticGlyphTypes[e.type]:this.calculateGlyphPercent("effarig")?CosmeticGlyphTypes.effarig:CosmeticGlyphTypes[e.type]},textColor(){return this.isDoomed&&1===this.glyphSet.length?"var(--color-pelle--base)":"cursed"===this.mainGlyphName.id?"var(--color-celestials)":"music"===this.mainGlyphName.id?CosmeticGlyphTypes.music.currentColor.border:this.sortedGlyphs.length>=3&&this.sortedGlyphs[0].perc<=30?"#C46200":this.mainGlyphName.currentColor.border},textStyle(){return this.$recompute("mainGlyphName"),this.isColored||this.forceColor?{color:this.textColor,"text-shadow":`-1px 1px 1px var(--color-text-base), 1px 1px 1px var(--color-text-base),\n                        -1px -1px 1px var(--color-text-base), 1px -1px 1px var(--color-text-base),\n                        0 0 3px ${this.textColor}`,animation:"reality"===this.mainGlyphName.id?"a-reality-glyph-description-cycle 10s infinite":void 0}:{}}},created(){this.on$(GAME_EVENT.GLYPHS_CHANGED,this.sortGlyphList),this.sortGlyphList()},methods:{update(){this.isColored=player.options.glyphTextColors,this.slotCount=Math.max(Glyphs.activeSlotCount,this.glyphSet.length)},getEffarigProp(){const e=this.glyphSet.some((e=>getSingleGlyphEffectFromBitmask("effarigrm",e))),t=this.glyphSet.some((e=>getSingleGlyphEffectFromBitmask("effarigglyph",e)));return e&&t?"both":e?"rm":t?"glyph":"none"},calculateGlyphPercent(e){const t=this.slotCount?100/this.slotCount:0;return"music"===e?this.glyphSet.filter((e=>Glyphs.isMusicGlyph(e))).length*t:this.glyphSet.filter((t=>t.type===e)).length*t},sortGlyphList(){this.$recompute("textColor"),this.glyphTypeList.forEach((e=>e.perc=this.calculateGlyphPercent(e.type))),this.sortedGlyphs=this.glyphTypeList.filter((e=>0!==e.perc));const e=e=>100*e.adjOrder+e.perc+e.type.charCodeAt(0)/1e3;this.sortedGlyphs.sort(((t,i)=>e(i)-e(t)))},getAdjective(e){if("effarig"===e.type)return mA.effarig.adjective[this.getEffarigProp()];const t=e=>e>=60?"high":e>=40?"mid":"low",i=mA[e.type].adjective;return"string"===typeof i?i:i[t(e.perc)]},getNoun(e){return"effarig"===e.type?mA.effarig.noun[this.getEffarigProp()]:mA[e.type].noun},getGender(e){return"effarig"===e.type?mA.effarig.gender[this.getEffarigProp()]:mA[e.type].gender},genderise(e,t){if("Мета-"==e)return"Мета-";switch(t){case"F":return e+"ая ";case"N":return e+"ое ";case"M":return"Механическ"==e?"Механический ":e+"ый "}}}},fA=yA;var gA=(0,H.A)(fA,hA,pA,!1,null,null,null);const bA=gA.exports,vA={name:"GlyphSetPreview",components:{GlyphComponent:mg,GlyphSetName:bA},props:{text:{type:String,required:!1,default:""},textHidden:{type:Boolean,required:!1,default:!1},glyphs:{type:Array,required:!0},ignoreModifiedLevel:{type:Boolean,required:!1,default:!1},flipTooltip:{type:Boolean,required:!1,default:!1},isInModal:{type:Boolean,required:!1,default:!1},showName:{type:Boolean,required:!1,default:!0},forceNameColor:{type:Boolean,required:!1,default:!0},showSacrifice:{type:Boolean,required:!1,default:!1},noneText:{type:String,required:!1,default:"(Нет действующих глифов)"},sort:{type:Boolean,required:!1,default:!0}},data(){return{realityGlyphBoost:0}},computed:{orderedGlyphs(){if(!this.sort)return this.glyphs;const e=["reality","effarig","power","infinity","replication","time","dilation","cursed","companion"],t=Glyphs.copyForRecords(this.glyphs);return t.sort(((t,i)=>e.indexOf(t.type)-e.indexOf(i.type))),t}},watch:{glyphs(){this.$recompute("orderedGlyphs")}},methods:{update(){const e=this.glyphs.filter((e=>"reality"===e.type))[0];this.realityGlyphBoost=e?GlyphEffects.realityglyphlevel.effect(e.level):0},showModal(){this.isInModal||Modal.glyphShowcasePanel.show({name:this.text,glyphSet:this.glyphs,closeEvent:GAME_EVENT.GLYPH_SET_SAVE_CHANGE,displaySacrifice:this.showSacrifice})},glyphHash(){return Glyphs.hash(this.glyphs)}}},EA=vA;var TA=(0,H.A)(EA,uA,dA,!1,null,"12af967e",null);const _A=TA.exports,CA={name:"GlyphSetSaveDeleteModal",components:{ModalWrapperChoice:Um,GlyphSetPreview:_A},props:{glyphSetId:{type:Number,required:!0}},data(){return{glyphSet:[]}},methods:{update(){this.glyphSet=Glyphs.copyForRecords(player.reality.glyphs.sets[this.glyphSetId].glyphs)},handleYesClick(){player.reality.glyphs.sets[this.glyphSetId].glyphs=[],EventHub.dispatch(GAME_EVENT.GLYPH_SET_SAVE_CHANGE)}}},AA=CA;var kA=(0,H.A)(AA,lA,cA,!1,null,null,null);const wA=kA.exports;var SA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.name)+" ")]},proxy:!0}])},[e.isGlyphSelection?i("div",[e._v(" Уровень получаемых глифов: "+e._s(e.formatInt(e.gainedLevel))+" ")]):e._e(),e.showSetName?i("GlyphSetName",{attrs:{"glyph-set":e.glyphs,"force-color":!0}}):e._e(),i("div",{class:e.containerClass},e._l(e.glyphs,(function(t,a){return i("GlyphShowcasePanelEntry",{key:a,staticClass:"c-glyph-choice-single-glyph",attrs:{idx:a,glyph:t,"show-level":!e.isGlyphSelection,"reality-glyph-boost":e.realityGlyphBoost,"max-glyph-effects":e.maxGlyphEffects,"show-sacrifice":e.displaySacrifice}})})),1)],1)},xA=[],RA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"c-glyph-choice-icon"},[i("span",{style:e.typeStyle},[e._v(e._s(e.typeText))]),e.showLevel?i("div",{domProps:{innerHTML:e._s(e.levelText)}}):e._e(),i("GlyphComponent",{key:e.idx,staticClass:"c-glyph-component-container",attrs:{glyph:e.glyph,"show-sacrifice":e.showSacrifice&&e.canSacrifice,draggable:!1,circular:!0,"ignore-modified-level":!1,"reality-glyph-boost":e.realityGlyphBoost,"is-in-modal":!0,size:"4rem","text-proportion":.5,"glow-blur":"0.4rem","glow-spread":"0.1rem"},on:{clicked:function(t){return e.clickGlyph(e.glyph)}}}),i("div",{style:e.rarityStyle},[e._v(" "+e._s(e.rarityPercent)+" ")])],1),i("div",{staticClass:"c-glyph-choice-effect-list",style:e.effectStyle},e._l(e.glyphEffectList,(function(t,a){return i("div",{key:a,class:{"o-pelle-disabled":t.isPelleDisabled}},[e._v(" "+e._s(t.text)+" ")])})),0)])},IA=[];const MA={name:"GlyphShowcasePanelEntry",components:{GlyphComponent:mg},props:{idx:{type:Number,required:!0},glyph:{type:Object,required:!0},showLevel:{type:Boolean,required:!0},realityGlyphBoost:{type:Number,default:0},maxGlyphEffects:{type:Number,required:!0},showSacrifice:{type:Boolean,required:!0}},data(){return{canSacrifice:!1}},computed:{type(){return this.glyph.type},typeText(){switch(this.type){case"cursed":return"Проклятый";case"companion":return"Компаньон";default:return translateGlyph(this.type)}},level(){return this.glyph.level},effectiveLevel(){return getAdjustedGlyphLevel(this.glyph,this.realityGlyphBoost,!0)},isLevelCapped(){return this.effectiveLevel&&this.effectiveLevel<this.level},isLevelBoosted(){return this.effectiveLevel&&this.effectiveLevel>this.level},levelText(){if("companion"===this.type)return"";const e=this.isLevelCapped?"<i class='fas fa-sort-down'></i>":this.isLevelBoosted?"<i class='fas fa-sort-up'></i>":"",t=this.isLevelCapped?"#ff4444":this.isLevelBoosted?"#44FF44":"var(--color-text);";return`<span style="color: ${t}">\n                  ${e}${formatInt(this.effectiveLevel)}${e}\n                  </span>`},typeStyle(){return{color:GlyphAppearanceHandler.getBorderColor(this.type),"font-weight":"bold","text-shadow":"cursed"===this.type?"0.05rem 0.05rem var(--color-text)":void 0,animation:"reality"===this.type?"a-reality-glyph-description-cycle 10s infinite":void 0}},rarityStyle(){const e=CosmeticGlyphTypes[this.glyph.type].ignoreRarityColor?GlyphAppearanceHandler.getBorderColor(this.type):getRarity(this.glyph.strength)[Theme.current().isDark()?"darkColor":"lightColor"];return{color:e,"font-weight":"bold"}},effectStyle(){return{"font-size":("effarig"===this.type?1:1.2)+"rem",height:this.glyphEffectListHeight(this.maxGlyphEffects)}},glyphEffectList(){const e=GlyphEffects,t=getGlyphEffectValuesFromBitmask(this.glyph.effects,this.effectiveLevel,this.glyph.strength,this.type).filter((t=>e[t.id].isGenerated===generatedTypes.includes(this.type))),i=t.map((t=>this.formatEffectString(e[t.id],t.value)));return i.filter((e=>"undefined"!==e))},rarityPercent(){return"companion"===this.glyph.type||"cursed"===this.glyph.type?"":formatRarity(strengthToRarity(this.glyph.strength))}},methods:{update(){this.canSacrifice=GlyphSacrificeHandler.canSacrifice},glyphEffectListHeight(e){const t=["3rem","6rem","8rem","11rem"];return t[e-1]},formatEffectString(e,t){const i=e.shortDesc,a=e.formatSingleEffect?e.formatSingleEffect(t):e.formatEffect(t),n=e.conversion?e.formatSecondaryEffect(e.conversion(t)):"";return{text:`${i}`.replace("{value}",a).replace("{value2}",n),isPelleDisabled:e.isDisabledByDoomed}},clickGlyph(e){Glyphs.isMusicGlyph(e)&&new Audio(`audio/note${GLYPH_TYPES.indexOf(e.type)+1}.mp3`).play()}}},DA=MA;var PA=(0,H.A)(DA,RA,IA,!1,null,"6c882127",null);const UA=PA.exports,GA={name:"GlyphShowcasePanelModal",components:{GlyphSetName:bA,ModalWrapper:Jg,GlyphShowcasePanelEntry:UA},props:{name:{type:String,required:!0},glyphSet:{type:Array,required:!0},isGlyphSelection:{type:Boolean,default:!1},showSetName:{type:Boolean,default:!0},displaySacrifice:{type:Boolean,default:!0}},data(){return{glyphs:[],gainedLevel:0,canSacrifice:!1,realityGlyphBoost:0}},computed:{maxGlyphEffects(){let e=1;for(const t of this.glyphs)e=Math.max(getGlyphEffectsFromBitmask(t.effects).filter((e=>e.isGenerated)).length,e);return e},containerClass(){return{"c-glyph-choice-container":!0,"c-glyph-choice-container-single":1===this.glyphs.length}}},methods:{update(){this.glyphs=this.isGlyphSelection?GlyphSelection.glyphList(GlyphSelection.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1}):this.glyphSet.filter((e=>e)),this.sortGlyphs(),this.gainedLevel=gainedGlyphLevel().actualLevel;const e=this.glyphs.filter((e=>"reality"===e.type))[0];this.realityGlyphBoost=e?GlyphEffects.realityglyphlevel.effect(e.level):0},sortGlyphs(){const e=["reality","effarig","power","infinity","replication","time","dilation","cursed","companion"];this.glyphs.sort(((t,i)=>e.indexOf(t.type)-e.indexOf(i.type)))}}},NA=GA;var BA=(0,H.A)(NA,SA,xA,!1,null,"858a25bc",null);const OA=BA.exports;var LA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-h2p-modal"},[i("ModalCloseButton",{on:{click:e.emitClose}}),e._m(0),i("div",{staticClass:"l-h2p-container"},[i("div",{staticClass:"l-h2p-search-tab"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"input",staticClass:"c-h2p-search-bar",attrs:{placeholder:"Поиск..."},domProps:{value:e.searchValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),i("div",{staticClass:"l-h2p-tab-list"},e._l(e.matchingTabs,(function(t,a){return i("div",{key:t.tab.name,staticClass:"o-h2p-tab-button",class:{"o-h2p-tab-button--selected":t.tab===e.activeTab,"o-h2p-tab-button--relevant":t.relevance<e.topThreshold,"o-h2p-tab-button--first-irrelevant":e.isFirstIrrelevant(a)},on:{click:function(i){return e.setActiveTab(t.tab)}}},[e._v(" "+e._s(t.tab.alias)+" ")])})),0)]),i("div",{staticClass:"l-h2p-info"},[i("div",{staticClass:"c-h2p-body--title"},[e._v(" "+e._s(e.activeTab.name)+" ")]),i("div",{staticClass:"l-h2p-body c-h2p-body",attrs:{id:"h2p-body"},domProps:{innerHTML:e._s(e.activeTab.info())}})])])],1)},$A=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-h2p-header"},[i("div",{staticClass:"c-h2p-title"},[e._v(" Помощь по игре ")])])}];const HA={name:"H2PModal",components:{ModalCloseButton:Am},data(){return{tabId:0,searchValue:""}},computed:{activeTab:{get(){return GameDatabase.h2p.tabs[this.tabId]},set(e){this.tabId=e.id}},matchingTabs(){return GameDatabase.h2p.search(this.searchValue).filter((e=>e.tab.isUnlocked()))},topThreshold(){return Math.min(this.matchingTabs[Math.min(this.matchingTabs.length-1,4)].relevance+.01,.5)}},created(){const e=GameDatabase.h2p.tabs.filter((e=>e.isUnlocked())),t=this.$viewModel.tab,i=`${t}/${this.$viewModel.subtab}`,a=e.find((e=>e.tab===i||e.tab===t));this.activeTab=ui.view.h2pForcedTab||a||e[0],ui.view.h2pForcedTab=void 0,Tutorial.emphasizeH2P()&&(this.activeTab=GameDatabase.h2p.tabs[0])},mounted(){this.$refs.input.select()},methods:{setActiveTab(e){this.activeTab=e,document.getElementById("h2p-body").scrollTop=0},isFirstIrrelevant(e){const t=this.matchingTabs,i=t[e],a=t[e-1];return e>0&&i.relevance>=this.topThreshold&&a.relevance<this.topThreshold}}},FA=HA;var qA=(0,H.A)(FA,LA,$A,!1,null,"abc161fe",null);const VA=qA.exports;var YA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.isValid,"show-confirm":e.isValid},on:{confirm:e.importSave},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Ипортировать данные прогаммы для Автоматизатора ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Импортировать ")]},proxy:!0}])},[e._v(" Новая программа для Автоматизатора будет добавлена в конец списка. "),e.isImportingExtraData?i("span",[e._v("Дополнительные данные, связанные с программой, также будут импоритрованы.")]):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.importSave.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(t){t.target.composing||(e.input=t.target.value)}}}),e.isValid?i("div",[e._v(" Название программы: "+e._s(e.scriptName)+" "),i("br"),e._v(" Количество строк: "+e._s(e.lineCount)+" "),e.hasPresets?i("div",[i("br"),e._v(" Сохранённые Древа: "),e._l(e.importedPresets,(function(t,a){return i("span",{key:a,staticClass:"c-import-data-name"},[t.name?i("span",[e._v('"'+e._s(t.name)+'" (slot '+e._s(t.id+1)+")")]):i("span",[e._v("Preset slot #"+e._s(t.id+1))])])})),!e.ignorePresets&&e.overwrittenPresetCount>0?i("div",{staticClass:"l-has-errors"},[e._v(" "+e._s(e.formatInt(e.overwrittenPresetCount))+" из ваших сохранённых Древ будут замещены импортируемыми Древами! ")]):e._e(),i("br"),i("button",{staticClass:"o-primary-btn",on:{click:function(t){e.ignorePresets=!e.ignorePresets}}},[e._v(" "+e._s(e.presetButtonText)+" ")])],2):e._e(),e.hasConstants?i("div",[i("br"),e._v(" Постоянные: "),e._l(e.importedConstants,(function(t,a){return i("span",{key:a+10,staticClass:"c-import-data-name"},[e._v(' "'+e._s(t.key)+'" ')])})),!e.ignoreConstants&&(e.willOverwriteConstant||e.extraConstants>0)?i("div",{staticClass:"l-has-errors"},[e.willOverwriteConstant?i("span",[e._v("Некоторые из ваших существующих постоянных будут замещены!")]):e._e(),e.willOverwriteConstant&&e.extraConstants>0?i("br"):e._e(),e.extraConstants>0?i("span",[e._v(" "+e._s(e.number)+" не будет "+e._s(e.imported)+" из-за ограничения в "+e._s(e.maxConstantCount)+" постоянных. ")]):e._e()]):e._e(),i("br"),i("button",{staticClass:"o-primary-btn",on:{click:function(t){e.ignoreConstants=!e.ignoreConstants}}},[e._v(" "+e._s(e.constantButtonText)+" ")])],2):e._e(),i("br"),e.hasErrors?i("div",{staticClass:"l-has-errors"},[e._v(" Эта программа содержит ошибки, которые должны быть исправлены, прежде чем она сможет быть запущена! ")]):e._e(),e.hasErrors&&e.isImportingExtraData?i("div",[i("i",[e._v("Некоторые ошибки можно исправить за счёт импорта дополнительных данных.")])]):e._e()]):0!==e.input.length?i("div",[e._v(" Недопустимая кодировка данных для Автоматизатора ")]):e._e()])},jA=[];const WA={name:"ImportAutomatorDataModal",components:{ModalWrapperChoice:Um},data(){return{input:"",isValid:!1,hasExtraData:!1,scriptName:"",lineCount:0,scriptContent:"",hasErrors:!1,importedPresets:[],importedConstants:[],ignorePresets:!1,ignoreConstants:!1}},computed:{hasPresets(){var e,t;return 0!==(null!==(e=null===(t=this.importedPresets)||void 0===t?void 0:t.length)&&void 0!==e?e:0)},hasConstants(){var e,t;return 0!==(null!==(e=null===(t=this.importedConstants)||void 0===t?void 0:t.length)&&void 0!==e?e:0)},isImportingExtraData(){const e=this.willOverwriteConstant||this.constantCountAfterImport>this.currentConstants,t=!!this.importedPresets&&!this.ignorePresets,i=!!this.importedConstants&&(!this.ignoreConstants&&e);return this.isValid&&this.hasExtraData&&(t||i)},currentPresets:()=>player.timestudy.presets,currentConstants:()=>Object.keys(player.reality.automator.constants),maxConstantCount(){return AutomatorData.MAX_ALLOWED_CONSTANT_COUNT},overwrittenPresetCount(){let e=0;for(const t of this.importedPresets){const i=this.currentPresets[t.id],a=""===i.name&&""===i.studies;a||i.name===t.name&&i.studies===t.studies||e++}return e},willOverwriteConstant(){if(!this.hasExtraData)return!1;const e=new Set;for(const t of this.currentConstants)e.add(t);for(const t of this.importedConstants)if(e.has(t.key)&&player.reality.automator.constants[t.key]!==t.value)return!0;return!1},constantCountAfterImport(){if(!this.hasExtraData)return this.currentConstants.length;const e=new Set;for(const t of this.currentConstants)e.add(t);for(const t of this.importedConstants)e.add(t.key);return e.size},extraConstants(){return this.constantCountAfterImport-this.maxConstantCount},presetButtonText(){return this.ignorePresets?"Игнорирует сохранённые Древа":"Импортирует сохранённые Древа"},constantButtonText(){return this.ignoreConstants?"Игнорирует постоянные":"Импортирует постоянные"}},mounted(){this.$refs.input.select()},methods:{update(){let e=AutomatorBackend.parseFullScriptData(this.input);e?this.hasExtraData=!0:(e=AutomatorBackend.parseScriptContents(this.input),this.hasExtraData=!1),e?(this.scriptName=e.name,this.scriptContent=e.content,this.importedPresets=e.presets,this.importedConstants=e.constants,this.lineCount=this.scriptContent.split("\n").length,this.hasErrors=Bn(this.scriptContent),this.isValid=!0,this.number=quantify("постоянная",this.extraConstants),this.imported=pluralize("импортирована",this.extraConstants)):this.isValid=!1},importSave(){this.isValid&&(this.hasExtraData?AutomatorBackend.importFullScriptData(this.input,{presets:this.ignorePresets,constants:this.ignoreConstants}):AutomatorBackend.importScriptContents(this.input),this.emitClose())}}},XA=WA;var zA=(0,H.A)(XA,YA,jA,!1,null,"b0e68daa",null);const KA=zA.exports;var QA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.inputIsValid,"show-confirm":!1},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Импортировать настройки Фильтра Глифов ")]},proxy:!0}])},[e._v(" Примечание: настройки Фильтра будут перезаписаны "),i("br"),e._v(" во всех режимах, а не только в выбранном в данный момент. "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.importSave.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(t){t.target.composing||(e.input=t.target.value)}}}),i("div",{staticClass:"c-modal-import__save-info"},[e.input?e.inputIsValid?i("div",[i("b",[e._v("Режим фильтрации:")]),e._v(" "+e._s(e.selectStr)+" "),i("br"),i("b",[e._v('"Количество эффектов":')]),e._v(" "+e._s(e.basicCountStr)+" "),i("br"),i("b",[e._v("Отвергаемые глифы:")]),e._v(" "+e._s(e.trashStr)+" "),i("br"),i("u",[i("b",[e._v("Настройки, разделённые по типам")])]),e._v(" "),i("span",{attrs:{"ach-tooltip":e.settingTooltipText}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),e._l(e.availableTypes,(function(t){return i("ImportFilterSingleType",{key:t,staticClass:"c-single-type",attrs:{type:t,"curr-settings":e.currentSettings.types[t],"new-settings":e.parsedSettings.types[t]}})}))],2):i("div",[e._v(" Недопустимая кодировка настроек Фильтра Глифов ")]):i("div")]),e.inputIsValid?i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.importFilter}},[e._v(" Импортировать ")]):e._e()],1)},JA=[],ZA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" "+e._s(e.symbol)+": "),e.settingsChanged?i("span",[i("span",{staticClass:"c-single-row"},[i("span",{staticClass:"c-rarity",class:e.topLevelClassObject("rarity"),attrs:{"ach-tooltip":"Setting for Rarity Threshold and Specified Effect"}},[e._v(" "+e._s(e.rarityStr)+" ")]),i("span",{staticClass:"c-effects-count",class:e.topLevelClassObject("effectCount"),attrs:{"ach-tooltip":"Number of effects in Specified Effect"}},[e._v(" Минимальное количество эффектов: "+e._s(e.effectStr)+" ")]),i("span",{staticClass:"c-target-score",class:e.topLevelClassObject("score"),attrs:{"ach-tooltip":"Threshold for Effect Score"}},[e._v(" Оценка: "+e._s(e.scoreStr)+" ")])]),i("br"),i("span",{staticClass:"c-single-row"},e._l(e.effectData.slice(0,4),(function(t){return i("span",{key:t.bitmaskIndex,staticClass:"c-single-score",class:e.effectClassObject(t),attrs:{"ach-tooltip":e.getEffectDesc(t)}},[e._v(" "+e._s(e.effectScoreStr(t))+" ")])})),0),e.effectData.length>4?i("span",{staticClass:"c-single-row c-second-row"},[i("br"),e._l(e.effectData.slice(4),(function(t){return i("span",{key:t.bitmaskIndex,staticClass:"c-single-score o-cell",class:e.effectClassObject(t),attrs:{"ach-tooltip":e.getEffectDesc(t)}},[e._v(" "+e._s(e.effectScoreStr(t))+" ")])}))],2):e._e()]):i("span",[e._v(" (Без изменений) ")])])},ek=[];const tk={name:"ImportFilterSingleType",props:{type:{type:String,required:!0},currSettings:{type:Object,required:!0},newSettings:{type:Object,required:!0}},computed:{settingsChanged(){return JSON.stringify(this.currSettings)!==JSON.stringify(this.newSettings)},symbol(){return GLYPH_SYMBOLS[this.type]},capitalized(){return`${this.type.charAt(0).toUpperCase()}${this.type.substring(1)}`},rarityStr(){return this.changedValue(this.currSettings.rarity,this.newSettings.rarity,(e=>formatPercents(e/100)))},effectStr(){return this.changedValue(this.currSettings.effectCount,this.newSettings.effectCount,formatInt)},scoreStr(){return this.changedValue(this.currSettings.score,this.newSettings.score,formatInt)},effectData(){const e=[];for(let t=0;t<this.currSettings.effectScores.length;t++){const i=AutoGlyphProcessor.bitmaskIndexOffset(this.type)+t;e.push({bitmaskIndex:i,oldReq:0!==(this.currSettings.specifiedMask&1<<i),newReq:0!==(this.newSettings.specifiedMask&1<<i),oldScore:this.currSettings.effectScores[t],newScore:this.newSettings.effectScores[t]})}return e}},methods:{changedValue(e,t,i){return e===t?i(e):`${i(e)}➜${i(t)}`},effectScoreStr(e){const t=(e,t)=>{const i=e?"✔":"✘";return`${i}${formatInt(t)}`},i=t(e.oldReq,e.oldScore),a=t(e.newReq,e.newScore);return e.oldScore===e.newScore?i:`${i}➜${a}`},topLevelClassObject(e){return{"o-cell":!0,"o-cell--changed":this.currSettings[e]!==this.newSettings[e]}},effectClassObject(e){return{"o-cell":!0,"o-cell--changed":e.oldReq!==e.newReq||e.oldScore!==e.newScore}},getEffectDesc(e){return GlyphEffects.all.find((t=>t.bitmaskIndex===e.bitmaskIndex&&t.isGenerated)).genericDesc}}},ik=tk;var ak=(0,H.A)(ik,ZA,ek,!1,null,"099f3c72",null);const nk=ak.exports,sk={name:"ImportFilterModal",components:{ModalWrapperChoice:Um,PrimaryButton:Fs,ImportFilterSingleType:nk},data(){return{currentSettings:{},input:""}},computed:{inputIsValid(){let e;try{return e=GameSaveSerializer.decodeText(this.input,"glyph filter"),e.length>0&&null!==e.match(/^[0-9,.|/-]*$/u)}catch{return!1}},parsedSettings(){if(!this.inputIsValid)return null;const e=GameSaveSerializer.decodeText(this.input,"glyph filter"),t=e.split("|"),i={};let a=3;for(const n of ALCHEMY_BASIC_GLYPH_TYPES){if(!n)continue;const e=t[a].split(",");i[n]={rarity:Number(e[0]),score:Number(e[1]),effectCount:Number(e[2]),specifiedMask:Number(e[3]),effectScores:e[4].split("/").map((e=>Number(e)))},a++}return{select:Number(t[0]),simple:Number(t[1]),trash:Number(t[2]),types:i}},selectStr(){return this.changedValue(this.parsedSettings.select,this.currentSettings.select,(e=>AutoGlyphProcessor.filterModeName(e)))},basicCountStr(){return this.changedValue(this.parsedSettings.simple,this.currentSettings.simple,formatInt)},trashStr(){return this.changedValue(this.parsedSettings.trash,this.currentSettings.trash,(e=>AutoGlyphProcessor.trashModeDesc(e)))},availableTypes(){return ALCHEMY_BASIC_GLYPH_TYPES.filter((e=>!GlyphTypes.locked.map((e=>e.id)).includes(e)))},settingTooltipText(){return'Наводите мышь на клетки для просмотра подробностей. Символы ✔ и ✘ означают\n        выбранный/не выбранный эффект в режиме "Заданные эффекты".'}},mounted(){this.$refs.input.select()},methods:{update(){this.currentSettings=JSON.parse(JSON.stringify(player.reality.glyphs.filter))},changedValue(e,t,i){return e===t?"(No change)":`${i(e)} ➜ ${i(t)}`},importFilter(){null!==this.parsedSettings&&(this.emitClose(),player.reality.glyphs.filter=this.parsedSettings,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))}}},rk=sk;var ok=(0,H.A)(rk,QA,JA,!1,null,"4a850126",null);const lk=ok.exports;var ck=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.inputIsValid,"show-confirm":!1},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Введите ваше сохранение ")]},proxy:!0}])},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import__input",attrs:{type:"text"},domProps:{value:e.input},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.importSave.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(t){t.target.composing||(e.input=t.target.value)}}}),i("div",{staticClass:"c-modal-import__save-info"},[e.inputIsSecret?i("div",[e._v(" ??? ")]):e.inputIsValidSave?[e.fileName?i("div",[e._v(" Имя файла: "+e._s(e.fileName)+" ")]):e._e(),i("div",[e._v("Антиматерии: "+e._s(e.formatPostBreak(e.antimatter,2,1)))]),e.progress.isInfinityUnlocked?i("div",[e._v(" Бесконечностей: "+e._s(e.formatPostBreak(e.infinities,2))+" ")]):e._e(),e.progress.isEternityUnlocked?i("div",[e._v(" Вечностей: "+e._s(e.formatPostBreak(e.player.eternities,2))+" ")]):e._e(),e.progress.isRealityUnlocked?i("div",[e._v(" Реальностей: "+e._s(e.formatPostBreak(e.player.realities,2))+" ")]):e._e(),e.progress.hasFullCompletion?i("div",[e._v(" Полных прохождений игры: "+e._s(e.formatInt(e.player.records.fullGameCompletions))+" ")]):e._e(),i("div",{staticClass:"c-modal-import__warning"},[e._v(" (Ваше текущее сохранение будет замещено!) ")]),i("br"),i("div",[e._v(" "+e._s(e.lastOpened)+" "),i("div",{staticClass:"o-primary-btn",on:{click:e.changeOfflineSetting}},[e._v(" Офлайн-прогресс: "+e._s(e.offlineType)+" ")]),i("span",{domProps:{innerHTML:e._s(e.offlineDetails)}})])]:e.hasInput?i("div",[e._v(" Недопустимое сохранение: "),i("br"),e._v(" "+e._s(e.saveCheckString)+" ")]):e._e(),e.player?i("div",{staticClass:"c-modal-hard-reset-danger"},[e.willLoseCosmetics?i("div",[i("br"),e._v(" Косметические наборы глифов, данные за прохождение игры, привязаны к вашему сохранению. "),i("br"),e._v(" Импорт этого сохранения приведёт к потере некоторых наборов. ")]):e._e(),e.willLoseSpeedrun?i("div",[i("br"),e._v(" Вы потеряете возможность начать спидран, так как она не разблокирована на этом сохранении. ")]):e._e()]):e._e()],2),e.inputIsValid?i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.importSave}},[e._v(" Импортировать ")]):e._e()],1)},uk=[];const dk={IMPORTED:0,LOCAL:1,IGNORED:2},hk={name:"ImportSaveModal",components:{ModalWrapperChoice:Um,PrimaryButton:Fs},data(){return{input:"",offlineImport:dk.IMPORTED}},computed:{saveCheckString(){const e=GameSaveSerializer.deserialize(this.input),t=GameStorage.checkPlayerObject(e);return t.length>300?`${t.slice(0,297)}...`:t},player(){return""===this.saveCheckString?GameSaveSerializer.deserialize(this.input):void 0},progress(){return PlayerProgress.of(this.player)},fileName(){return this.player.options.saveFileName},antimatter(){return this.player.antimatter||this.player.money},infinities(){const e=this.player.infinitied?this.player.infinitied:this.player.infinities;return new Decimal(e)},hasInput(){return""!==this.input},inputIsValid(){return this.inputIsValidSave||this.inputIsSecret},inputIsValidSave(){return void 0!==this.player},inputIsSecret(){return isSecretImport(this.input)||Theme.isSecretTheme(this.input)},isFromFuture(){return this.player.lastUpdate>Date.now()},lastOpened(){const e=Date.now()-this.player.lastUpdate;return this.isFromFuture?`Это сохранение из будущего через ${TimeSpan.fromMilliseconds(-e).toString("accusative")}.`:`Это сохранение в последний раз было открыто ${TimeSpan.fromMilliseconds(e).toString("accusative")} назад.`},offlineType(){switch(this.updateOfflineSettings(),this.offlineImport){case dk.IMPORTED:return"Согласно настройкам импортируемого сохранения";case dk.LOCAL:return"Согласно настройкам существующего сохранения";case dk.IGNORED:return"Без симуляции офлайн-прогресса";default:throw new Error("Unrecognized offline progress setting for importing")}},offlineDetails(){if(this.offlineImport===dk.IGNORED)return"Сохранение будет импортировано без офлайн-прогресса.";if(!GameStorage.offlineEnabled)return"Эта настройка не позволит симулировать офлайн-прогресс при импортировании.";if(this.isFromFuture)return"Офлайн-прогресс не может быть симулирован из-за несогласованности системного времени.";const e=Date.now()-this.player.lastUpdate,t=GameStorage.maxOfflineTicks(e);return`При импортировании будет ${pluralize("симулирован",t)} ${quantifyInt("тик",t)}, каждый продолжительностью в \n        ${TimeSpan.fromMilliseconds(e/t).toStringShort()}.`},willLoseCosmetics(){var e,t,i;const a=player.reality.glyphs.cosmetics.unlockedFromNG,n=null!==(e=null===(t=this.player.reality)||void 0===t||null===(i=t.glyphs.cosmetics)||void 0===i?void 0:i.unlockedFromNG)&&void 0!==e?e:[];return a.filter((e=>!n.includes(e))).length>0},willLoseSpeedrun(){var e;return player.speedrun.isUnlocked&&!(null!==(e=this.player.speedrun)&&void 0!==e&&e.isUnlocked)}},mounted(){this.$refs.input.select()},destroyed(){GameStorage.offlineEnabled=void 0,GameStorage.offlineTicks=void 0},methods:{changeOfflineSetting(){this.offlineImport=(this.offlineImport+1)%3},updateOfflineSettings(){var e,t;switch(this.offlineImport){case dk.IMPORTED:GameStorage.offlineEnabled=null===(e=this.player.options.offlineProgress)||void 0===e||e,GameStorage.offlineTicks=null!==(t=this.player.options.offlineTicks)&&void 0!==t?t:1e5;break;case dk.LOCAL:GameStorage.offlineEnabled=player.options.offlineProgress,GameStorage.offlineTicks=player.options.offlineTicks;break;case dk.IGNORED:GameStorage.offlineEnabled=!1;break}},importSave(){this.inputIsValid&&(this.emitClose(),GameStorage.import(this.input))}}},pk=hk;var mk=(0,H.A)(pk,ck,uk,!1,null,null,null);const yk=mk.exports;var fk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.importConstants},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Импорт сохранённых Древ Исследований в качестве постоянных ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Импортировать все ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Все ваши сохранённые Древа Исследований будут импортированы в качестве новых постоянных для Автоматизатора. Ниже приведены все допустимые Древа, которые могут быть импортированы, с началом и концом списка содержащихся в них Исследований. Некоторые названия могут быть изменены из-за ограничений на имена постоянных. "),i("br"),i("br"),e._l(e.presets.length,(function(t){return i("div",{key:t,class:{"l-not-imported":!e.willImport[t-1]}},[e._v(" Название: "+e._s(e.presets[t-1].name)+" ➜ "),i("b",[e._v(e._s(e.names[t-1]))]),i("br"),e._v(" "+e._s(e.shortenString(e.presets[t-1].studies))+" "),e.hasConflict(e.names[t-1])?i("span",{staticClass:"l-warn-text"},[i("br"),e._v(" Существующая постоянная будет замещена! ")]):e._e(),i("br"),i("br")])})),e.missedImports()>0?i("div",{staticClass:"l-warn-text"},[e._v(" "+e._s(e.quantify("Древо",e.missedImports()))+" из этого списка не может быть импортировано из-за ограничения на количество постоянных. ")]):e._e()],2)])},gk=[];const bk={name:"ImportTimeStudyConstants",components:{ModalWrapperChoice:Um},data(){return{constantNames:[],willImport:[]}},computed:{presets:()=>player.timestudy.presets.filter((e=>""!==e.studies)),names(){return this.presets.map(((e,t)=>`TSPreset${t+1}__${e.name.replaceAll(/[^a-zA-Z_0-9]/gu,"_")}`))}},methods:{update(){this.constantNames=[...player.reality.automator.constantSortOrder],this.updateImportStatus()},importConstants(){for(let e=0;e<this.presets.length;e++)AutomatorBackend.modifyConstant(this.names[e],this.presets[e].studies)},hasConflict(e){return this.constantNames.includes(e)},updateImportStatus(){let e=AutomatorData.MAX_ALLOWED_CONSTANT_COUNT-this.constantNames.length;this.willImport=[];for(let t=0;t<this.names.length;t++)this.hasConflict(this.names[t])?this.willImport.push(!0):e>0?(this.willImport.push(!0),e--):this.willImport.push(!1)},missedImports(){return this.willImport.countWhere((e=>!e))},shortenString(e){return e.length<55?e:`${e.substring(0,12)}...${e.substring(e.length-40,e.length)}`}}},vk=bk;var Ek=(0,H.A)(vk,fk,gk,!1,null,"b8a2f338",null);const Tk=Ek.exports;var _k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-information-modal c-information-modal"},[i("ModalCloseButton",{on:{click:e.emitClose}}),e._m(0),e._m(1),i("div",{staticClass:"l-socials"},[i("InformationModalButton",{attrs:{name:"Репозиторий на GitHub (локализация)",icon:"fa-brands fa-github",link:"https://github.com/Googolplexo1/AntimatterDimensionsSourceCode"}}),i("InformationModalButton",{attrs:{name:"r/AntimatterDimensions",icon:"fa-brands fa-reddit-alien",link:"https://www.reddit.com/r/AntimatterDimensions/"}}),i("InformationModalButton",{attrs:{name:"Сервер Antimatter Dimensions в Discord",icon:"fa-brands fa-discord",link:"https://discord.gg/ST9NaXa"}}),i("InformationModalButton",{attrs:{name:"Antimatter Dimensions в Google Play",icon:"fa-brands fa-google-play",link:"https://play.google.com/store/apps/details?id=kajfosz.antimatterdimensions"}}),i("InformationModalButton",{attrs:{name:"Antimatter Dimensions в Steam",icon:"fa-brands fa-steam",link:"https://store.steampowered.com/app/1399720/Antimatter_Dimensions/"}}),i("InformationModalButton",{attrs:{name:"Благодарности",icon:"fa-solid fa-users","show-modal":"credits"}}),i("InformationModalButton",{attrs:{name:"История изменений (оригинал)",icon:"fa-solid fa-file-lines","show-modal":"changelog"}})],1)],1)},Ck=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-h2p-header"},[i("div",{staticClass:"c-h2p-title"},[e._v(" Об игре ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-info-body"},[e._v(' "Измерения Антиматерии" (Antimatter Dimensions) - инкрементальная игра, созданная финским разработчиком под псевдонимом Hevipelle. Зародившись как сольный проект в 2016 году, она с тех пор была расширена крупной командой разработчиков и тестировщиков. '),i("br"),i("br"),e._v(' Игра обладает развёртывающимся геймплеем и несколькими слоями престижа. Окно "Помощь по игре" содержит полезную информацию о ходе прогресса. '),i("br"),i("br"),e._v(' В 2024 году переводчик под псевдонимом Gugolplekso выпустил русскую локализацию "Измерений Антиматерии", в которую вы сейчас играете. ')])}],Ak=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"c-socials--icon__wrapper",attrs:{"ach-tooltip":e.name}},[e.link?i("a",{staticClass:"c-socials--icon",on:{click:e.openLink}},[i("i",{class:e.icon})]):i("a",{staticClass:"c-socials--icon",on:{click:e.openAssociatedModal}},[i("i",{class:e.icon})])])},kk=[];const wk={name:"InformationModalButton",props:{name:{type:String,required:!0},icon:{type:String,required:!0},link:{type:String,required:!1,default:null},showModal:{type:String,required:!1,default:null}},methods:{openAssociatedModal(){Modal[this.showModal].show()},openLink(){Ol(this.link)}}},Sk=wk;var xk=(0,H.A)(Sk,Ak,kk,!1,null,"01811230",null);const Rk=xk.exports,Ik={name:"InformationModal",components:{ModalCloseButton:Am,InformationModalButton:Rk}},Mk=Ik;var Dk=(0,H.A)(Mk,_k,Ck,!1,null,"780bfa13",null);const Pk=Dk.exports;var Uk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperOptions",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Выбор сохранения ")]},proxy:!0}])},e._l(3,(function(e){return i("LoadGameEntry",{key:e,staticClass:"c-entry-border",attrs:{"save-id":e-1}})})),1)},Gk=[],Nk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-modal-options__save-record"},[i("h3",[e._v("Сохранение №"+e._s(e.saveId+1)+":"),e.isSelected?i("span",[e._v(" (выбрано)")]):e._e()]),e.fileName?i("span",[e._v("Имя файла: "+e._s(e.fileName))]):e._e(),i("span",[e._v("Антиматерии: "+e._s(e.formatAntimatter(e.antimatter)))]),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium",on:{click:e.load}},[e._v(" Загрузить ")])],1)},Bk=[];const Ok={name:"LoadGameEntry",components:{PrimaryButton:Fs},props:{saveId:{type:Number,required:!0}},data(){const e=GameStorage.saves[this.saveId];return{antimatter:new Decimal(e?e.antimatter||e.money:10),fileName:e?e.options.saveFileName:""}},computed:{isSelected(){return GameStorage.currentSlot===this.saveId}},methods:{load(){GameStorage.loadSlot(this.saveId)},formatAntimatter(e){return formatPostBreak(e,2,1)},update(){this.isSelected&&this.antimatter.copyFrom(Currency.antimatter)}}},Lk=Ok;var $k=(0,H.A)(Lk,Nk,Bk,!1,null,null,null);const Hk=$k.exports,Fk={name:"LoadGameModal",components:{ModalWrapperOptions:ib,LoadGameEntry:Hk}},qk=Fk;var Vk=(0,H.A)(qk,Uk,Gk,!1,null,"0cf8928d",null);const Yk=Vk.exports;var jk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Изменение зерна для генерации глифов ")]},proxy:!0}])},[i("div",[e._v(' Все наборы выбираемых глифов после первой реальности на всю игру случайно определяются с самого первого запуска игры по начальному значению числа, которое называется "зерном". Его роль заключается в генерации '),i("i",[e._v("определёной")]),e._v(" последовательности наборов выбираемых глифов. Если кто-то выберет то же зерно, что и вы, в другом забеге, вы будете выбирать глифы из одинаковых наборов. "),i("br"),i("br"),e._v(" Вы можете свободно переключаться между следующими тремя опциями, до тех пор пока вы не получите первый глиф. "),i("br"),e._v(" Текущая настройка: "),i("b",[e._v(e._s(e.seedText))]),i("br"),i("br"),i("PrimaryButton",{class:e.buttonClass(e.choiceEnum.FIXED),on:{click:function(t){return e.setMode(e.choiceEnum.FIXED)}}},[e._v(" Официально утверждённое зерно ")]),i("br"),e._v(" Эта настройка, выставленная по умолчанию, выбирает зерно "),i("b",[e._v(e._s(e.officialSeed))]),e._v(". Любой, кто не будет менять зерно, увидит те же самые наборы выбираемых глифов. "),i("br"),i("br"),i("PrimaryButton",{class:e.buttonClass(e.choiceEnum.RANDOM),on:{click:function(t){return e.setMode(e.choiceEnum.RANDOM)}}},[e._v(" Случайное зерно ")]),i("br"),e._v(" Зерно будет выбрано случайным образом, что почти гарантированно сделает наборы выбираемых глифов другими, нежели в забеге любого другого игрока, если только они не выбрали то же самое значение намеренно. "),i("br"),i("br"),i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:0===e.seedValue?"Зерно не может быть равно нулю!":"",expression:"seedValue === 0 ? 'Зерно не может быть равно нулю!' : ''"}],class:e.buttonClass(e.choiceEnum.PLAYER),on:{click:function(t){return e.setMode(e.choiceEnum.PLAYER,e.seedValue)}}},[e._v(" Зерно по выбору игрока: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputSeed,expression:"inputSeed"}],ref:"inputSeed",staticClass:"c-modal-input",attrs:{type:"text"},domProps:{value:e.inputSeed},on:{input:[function(t){t.target.composing||(e.inputSeed=t.target.value)},function(t){return e.handleSeedInput()}]}}),i("br"),e._v(" Ваше зерно примет введённое вами значение. "),i("br"),0!==e.seedValue?i("span",[e._v(" Вы ввели значение, которое будет "+e._s(e.convertedInput?"преобразовано в":"использовано как")+" число "),i("b",[e._v(e._s(e.seedValue))]),e._v(". ")]):i("span",[e._v(" Введённое вами значение "+e._s(e.convertedInput?"преобразуется в":"равно")+" "),i("b",[e._v("0")]),e._v("; зерно примет значение по умолчанию. ")]),i("br"),e._v(" По техническим причинам значение зерна должно быть ненулевым для корректной генерации глифов. ")],1)])},Wk=[];const Xk={name:"ModifySeedModal",components:{ModalWrapper:Jg,PrimaryButton:Fs},data(){return{mode:0,inputSeed:"",seedText:"",convertedInput:!1,seedValue:0}},computed:{choiceEnum:()=>SPEEDRUN_SEED_STATE,officialSeed:()=>Speedrun.officialFixedSeed},created(){this.seedValue=player.speedrun.initialSeed,this.inputSeed=`${player.speedrun.initialSeed}`,this.convertedInput=!1},methods:{update(){this.mode=player.speedrun.seedSelection,this.seedText=Speedrun.seedModeText()},handleSeedInput(){if(this.inputSeed.match(/^-?\d+$/gu)){const e=Number(this.inputSeed);this.seedValue=Math.abs(e)>9e15?this.hashStringToSeed(this.inputSeed):Number(this.inputSeed)}else this.seedValue=this.hashStringToSeed(this.inputSeed);this.convertedInput=this.seedValue!==Number(this.inputSeed),0===this.seedValue?this.setMode(this.choiceEnum.FIXED):this.setMode(this.choiceEnum.PLAYER,this.seedValue)},setMode(e,t){e===this.choiceEnum.PLAYER&&0===this.seedValue||Speedrun.modifySeed(e,parseInt(t,10))},buttonClass(e){return{"o-primary-btn--subtab-option":!0,"o-selected":e===this.mode}},hashStringToSeed(e){const t=17977308;let i=3735928559^t,a=1103547991^t;for(let n,s=0;s<e.length;s++)n=e.charCodeAt(s),i=Math.imul(i^n,2654435761),a=Math.imul(a^n,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&a)+(i>>>0)}}},zk=Xk;var Kk=(0,H.A)(zk,jk,Wk,!1,null,"d0f6c40e",null);const Qk=Kk.exports;var Jk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Условия Обречённой Реальности ")]},proxy:!0}])},[i("div",{staticClass:"pelle-effects-container"},e._l(e.nerfs,(function(t,a){return i("p",{key:a},[e._v(" "+e._s(t)+" ")])})),0),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn",on:{click:e.emitClose}},[e._v(" OK ")])],1)},Zk=[];const ew={name:"PelleEffectsModal",components:{PrimaryButton:Fs,ModalWrapper:Jg},computed:{nerfs(){return["Всё, что разблокируется Улучшениями Пелля, не может быть разблокировано обычным способом","Все множители к получению ОБ и ОВ, разблокированные до Обречения, отключены","Улучшение Бесконечности, производящее ОБ, отключено","Все множители к скорости репликации, разблокированные до Обречения, отключены",`Рост Репликанти после ${format(Number.MAX_VALUE,2)} замедляется ещё сильнее`,"У большинства Испытаний Вечности повышены цели",`Все галактики на ${formatPercents(.5)} слабее`,`Множители Измерений Антиматерии в ${formatInt(10)} раз меньше`,"Множитель достижений и многие награды за достижения отключены","Все множители к получению бесконечностей и вечностей и их производство отключены",`Вы получаете в ${formatInt(1e5)} раз меньше Замедленного Времени`,"Чёрные Дыры отключены",'Улучшение Реальности "Временная Трансцендентность" отключено',"Все эффекты, кроме награды за достижение 21, увеличивающие начальное количество ресурсов, отключены","Все эффекты, предотвращающие сброс ресурсов, отключены","Навыки ТИБ и ТЗВ отключены","Автоматическое выполнение Испытаний Бесконечности и Вечности отключено","Автоматика Теорем Времени отключена","Вся автоматика механик, разблокированных не ранее Замедления Времени, отключена","Улучшение Вечности, зависящее от времени игры, вместо этого зависит от времени текущего армагеддона","Все множители к получению Замедленного Времени, разблокированные до Обречения, кроме удвоителя ЗВ, отключены","Все множители к получению Тахионов отключены","Все производители Теорем Времени, разблокированные до Обречения, кроме соответствующего Улучшения Замедления, отключены","Активация глифов невозможна, до тех пор пока она не будет разрешена Пеллем",`Фактические уровни глифов понижены, а их редкость выставлена на ${formatPercents(0)}`,"Эффекты от Пожертвования и Расширения Глифов и алхимических ресурсов отключены","Нельзя запускать Реальности других Небожителей","Покупать музыкальные глифы нельзя","Награды за все слои Реальности Эффарига отключены","Все механики, связанные с хранением времени, отключены","Все этапы Ви отключены",`Эффект от ${formatInt(1)}-го уровня Терезы отключён`,"Заряжать Улучшения Бесконечности нельзя","Ваши Теоремы Пространства конфискованы","Мнимые Улучшения, кроме тех, которые разблокируют ИТМ и Небожителей, отключены","Эффект от континуума и Этапы Сингулярности отключены"]}}},tw=ew;var iw=(0,H.A)(tw,Jk,Zk,!1,null,"a64bf5f8",null);const aw=iw.exports;var nw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Создание Глифа Реальности ")]},proxy:!0}])},[i("div",{staticClass:"c-reality-glyph-creation"},[i("div",[e._v(" Создать Глиф Реальности уровня "+e._s(e.formatInt(e.realityGlyphLevel))+". Редкость Глифа Реальности всегда равна "+e._s(e.formatPercents(1))+", а уровень равен количеству Реальности (которая траится полностью) при создании глифа. Остальные алхимические ресурсы не тратятся. Глифы Реальности имеют уникальные эффекты, каждый из которых разблокируется на определённом уровне. Глифы Реальности могут быть пожертвованы для множителя к получению Кусков Памяти. Подобно Глифам Эффарига, из Глифов Реальности в любой момент времени может действовать лишь один. ")]),i("div",{staticClass:"o-available-effects-container"},[i("div",{staticClass:"o-available-effects"},[e._v(" Эффекты: ")]),e._l(e.possibleEffects,(function(t,a){return i("div",{key:a},[e._v(" "+e._s(e.formatGlyphEffect(t))+" ")])}))],2),e.isDoomed?i("PrimaryButton",{attrs:{enabled:!1}},[e._v(" Нельзя создавать Глифы Реальности в Обречении ")]):0!==e.realityGlyphLevel?i("PrimaryButton",{on:{click:e.createRealityGlyph}},[e._v(" Создать Глиф Реальности! ")]):i("PrimaryButton",{attrs:{enabled:!1}},[e._v(" Уровень Глифа Реальности должен быть выше "+e._s(e.formatInt(0))+" ")])],1)])},sw=[];const rw={name:"RealityGlyphCreationModal",components:{ModalWrapper:Jg,PrimaryButton:Fs},data(){return{isDoomed:!1,realityGlyphLevel:0,possibleEffects:[]}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.realityGlyphLevel=AlchemyResource.reality.effectValue;const e=GlyphEffects.all.filter((e=>e.glyphTypes.includes("reality"))).sort(((e,t)=>e.bitmaskIndex-t.bitmaskIndex)),t=e.map((e=>e.bitmaskIndex)).min();this.possibleEffects=e.map((e=>[realityGlyphEffectLevelThresholds[e.bitmaskIndex-t],e.id]))},createRealityGlyph(){0!==GameCache.glyphInventorySpace.value?(Glyphs.addToInventory(GlyphGenerator.realityGlyph(this.realityGlyphLevel)),AlchemyResource.reality.amount=0,player.reality.glyphs.createdRealityGlyph=!0,this.emitClose()):Modal.message.show("Нет свободных ячеек; пожертвуйте некоторые глифы, чтобы освободить место.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED})},formatGlyphEffect(e){if(this.realityGlyphLevel<e[0])return`(Требуется уровень ${formatInt(e[0])})`;const t=GlyphEffects[e[1]],i=t.effect(this.realityGlyphLevel,rarityToStrength(100)),a=t.singleDesc;return a.replace("{value}",t.formatEffect(i))}}},ow=rw;var lw=(0,H.A)(ow,nw,sw,!1,null,"19b75197",null);const cw=lw.exports;var uw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"glyphReplace"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы заменяете глиф ")]},proxy:!0}])},[e._v(" При замене глифа "+e._s(e.resetTerm)+". ")])},dw=[];const hw={name:"ReplaceGlyphModal",components:{ModalWrapperChoice:Um},props:{targetSlot:{type:Number,required:!0},inventoryIndex:{type:Number,required:!0}},data(){return{target:0,idx:0,isDoomed:!1}},computed:{resetTerm(){return this.isDoomed?"текущий Армагеддон будет перезапущен":"текущая Реальность будет перезапущена"}},methods:{update(){this.target=this.targetSlot,this.idx=this.inventoryIndex,this.glyph=Glyphs.findByInventoryIndex(this.idx),this.isDoomed=Pelle.isDoomed},handleYesClick(){Glyphs.swapIntoActive(this.glyph,this.targetSlot)}}},pw=hw;var mw=(0,H.A)(pw,uw,dw,!1,null,null,null);const yw=mw.exports;var fw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"respecIAP"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" You are about to respec your Shop Purchases ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Are you sure you want to respec your Shop Purchases? This will not cost anything and return the "+e._s(e.returnedSTDCount())+" "),i("img",{staticClass:"o-shop-button-button__img",attrs:{src:"images/std_coin.png"}}),e._v(" you spent on all purchases which give permanent multipliers. "),i("br"),i("br"),e._v(" Anything spent on offline progress and Glyph cosmetics will not be refunded. Glyph cosmetic sets are permanent and will not be lost or respeced once purchased. "),i("br"),i("br"),i("b",{staticClass:"o-warning"},[e._v("You will not be able to respec again unless you purchase more STD coins.")])])])},gw=[];const bw={name:"RespecIAPModal",components:{ModalWrapperChoice:Um},methods:{returnedSTDCount(){let e=0;for(const t of ShopPurchase.all)t.config.instantPurchase||(e+=t.purchases*t.cost);return e},handleYesClick(){ShopPurchaseData.respecAll(),EventHub.ui.offAll(this)}}},vw=bw;var Ew=(0,H.A)(vw,fw,gw,!1,null,"1db2b8e9",null);const Tw=Ew.exports;var _w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"sacrifice"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Пожертвование Измерений ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.message)+" ")]),i("br"),i("div",{staticClass:"c-modal-message__text"},[e._v(" "+e._s(e.multiplierText)+" "),i("br")])])},Cw=[];const Aw={name:"SacrificeModal",components:{ModalWrapperChoice:Um},data(){return{currentMultiplier:new Decimal,nextMultiplier:new Decimal}},computed:{message(){return Achievement(118).isUnlocked&&!Pelle.isDoomed?"Пожертвование Измерений даст вам множитель к 8-му Измерению Антиматерии в зависимости от количества\n          1-х Измерений Антиматерии при Пожертвовании.":"Пожертвование Измерений уничтожит все ваши Измерения Антиматерии с 1-го по 7-е\n        (не меняя их цены и множители), но даст множитель к 8-му Измерению Антиматерии в зависимости от общего\n        количества пожертвованных 1-х Измерений Антиматерии. Восстановление производства займёт некоторое время."},multiplierText(){return`Множитель в данный момент равен ${formatX(this.currentMultiplier,2,2)} и возрастёт до\n        ${formatX(this.nextMultiplier,2,2)} при Пожертвовании Измерений.`}},methods:{update(){this.currentMultiplier.copyFrom(Sacrifice.totalBoost),this.nextMultiplier.copyFrom(Sacrifice.nextBoost.times(Sacrifice.totalBoost))},handleYesClick(){sacrificeReset()}}},kw=Aw;var ww=(0,H.A)(kw,_w,Cw,!1,null,null,null);const Sw=ww.exports;var xw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Этапы Сингулярностей ")]},proxy:!0}])},[i("div",{staticClass:"c-modal__confirmation-toggle",on:{click:e.toggleGlow}},[i("div",{class:e.glowOptionClass()},[e.milestoneGlow?i("span",{staticClass:"fas fa-check"}):e._e()]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Включить подсветку кнопки при выполнении новых этапов ")])]),i("div",{staticClass:"l-singularity-milestone-modal-container-outer"},[i("div",{staticClass:"l-singularity-milestone-modal-container-inner"},e._l(e.milestones,(function(e){return i("SingularityMilestoneComponent",{key:e.id,attrs:{milestone:e}})})),1)]),i("div",{staticClass:"l-singularity-milestone-sort-container"},[i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(t){return e.cycleButton(0)}}},[e._v(" Измерять расстояние до этапов в: "),i("br"),e._v(" "+e._s(e.resourceStr)+" ")]),i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(t){return e.cycleButton(1)}}},[e._v(" Сортировать по: "),i("br"),e._v(" "+e._s(e.sortStr)+" ")]),i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(t){return e.cycleButton(2)}}},[e._v(" Помесить завершённые этапы: "),i("br"),e._v(" "+e._s(e.completedStr)+" ")]),i("button",{staticClass:"c-singularity-milestone-modal-sort-button",on:{click:function(t){return e.cycleButton(3)}}},[e._v(" Порядок: "),i("br"),e._v(" "+e._s(e.orderStr)+" ")])])])},Rw=[],Iw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.containerClass},[e.isMetro||e.isMaxed?e._e():i("div",{staticClass:"c-laitela-milestone--bar-border-fix"}),i("div",{class:e.barClass,style:e.barStyle}),i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e.isMaxed?e._e():i("b",[e._v(" "+e._s(e.progressDisplay)+" ")]),i("p",[i("span",{domProps:{innerHTML:e._s(e.upgradeDirectionIcon)}}),e._v(" "+e._s(e.description)+" ")]),i("b",[e._v(" "+e._s(e.effectDisplay)+" "),e.isUnique||e.isMaxed?e._e():i("span",[e._v("➜ "+e._s(e.nextEffectDisplay))])]),i("div",{staticClass:"c-laitela-milestone__completions"},[e._v(" "+e._s(e.completionsDisplay)+" ")])])])},Mw=[];const Dw={name:"SingularityMilestoneComponent",props:{milestone:{type:Object,required:!0},suppressGlow:{type:Boolean,default:!1}},data:()=>({isMaxed:!1,progressToNext:"",remainingSingularities:0,description:"",effectDisplay:"",isUnique:!1,nextEffectDisplay:"",start:0,completions:0,limit:0,milestoneMode:!1,singularitiesPerCondense:0,baseCondenseTime:0,currentCondenseTime:0,autoCondenseDelay:0,lastCheckedMilestones:0,autoSingActive:!1}),computed:{barStyle(){return{width:this.isMaxed?void 0:this.progressToNext}},barClass(){return{"c-laitela-milestone__progress":!0,"c-laitela-milestone-mask":!0,"c-laitela-milestone--completed":this.isMaxed}},containerClass(){return{"c-laitela-milestone":!0,"o-laitela-milestone--glow":!this.suppressGlow&&this.milestone.previousGoal>this.lastCheckedMilestones}},upgradeDirectionIcon(){switch(this.milestone.config.upgradeDirection){case Mt.SELF_BOOST:return"<b>ᛝ</b>";case Mt.BOOSTS_MAIN:return'<i class="fas fa-arrows-alt"></i>';case Mt.BOOSTS_LAITELA:return'<i class="fas fa-compress-arrows-alt"></i>';default:throw new Error("Unspecified Lai'tela upgrade direction in singularity milestone")}},maxCompletions(){return this.isUnique?1:this.limit},completionsDisplay(){const e=Number.isFinite(this.limit)?formatInt(this.maxCompletions):"∞";return`${formatInt(this.completions)}/${e} ${pluralize("выполнения",this.maxCompletions)}`},progressDisplay(){const e=this.remainingSingularities/this.singularitiesPerCondense;let t,i,a;switch(this.milestoneMode){case SINGULARITY_MILESTONE_RESOURCE.SINGULARITIES:return`Через ${quantify("Сингулярность",this.remainingSingularities,2)}`;case SINGULARITY_MILESTONE_RESOURCE.CONDENSE_COUNT:return`Через ${quantify("сжатие",e,2,2)}`;case SINGULARITY_MILESTONE_RESOURCE.MANUAL_TIME:return t=Math.clampMin(0,this.currentCondenseTime),i=Math.ceil(e-1)*this.baseCondenseTime,`Через ${TimeSpan.fromSeconds(t+i).toStringShort()} (при сжатии вручную)`;case SINGULARITY_MILESTONE_RESOURCE.AUTO_TIME:return t=Math.clampMin(0,this.currentCondenseTime+this.autoCondenseDelay),i=Math.ceil(e-1)*(this.baseCondenseTime+this.autoCondenseDelay),a=`Через ${TimeSpan.fromSeconds(t+i).toStringShort()}`,this.autoSingActive?a:"Автоматика сжатия выключена";default:throw new Error("Unrecognized Singularity Milestone mode")}},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.autoSingActive=player.auto.singularity.isActive,this.isMaxed=this.milestone.isMaxed,this.progressToNext=this.milestone.progressToNext,this.remainingSingularities=this.milestone.remainingSingularities,this.description=this.milestone.description,this.effectDisplay=this.milestone.effectDisplay,this.isUnique=this.milestone.isUnique,this.isUnique||this.isMaxed||(this.nextEffectDisplay=this.milestone.nextEffectDisplay),this.completions=this.milestone.completions,this.limit=this.milestone.limit,this.milestoneMode=player.celestials.laitela.singularitySorting.displayResource,this.singularitiesPerCondense=Singularity.singularitiesGained,this.baseCondenseTime=Singularity.timePerCondense,this.currentCondenseTime=Singularity.timeUntilCap,this.autoCondenseDelay=Singularity.timeDelayFromAuto,this.lastCheckedMilestones=player.celestials.laitela.lastCheckedMilestones,this.isMetro=Theme.current().isMetro}}},Pw=Dw;var Uw=(0,H.A)(Pw,Iw,Mw,!1,null,"519c29c9",null);const Gw=Uw.exports,Nw={name:"SingularityMilestonesModal",components:{SingularityMilestoneComponent:Gw,ModalWrapper:Jg},data(){return{milestones:[],resourceVal:0,sortVal:0,completedVal:0,orderVal:0,milestoneGlow:!1}},computed:{resourceStr(){const e=["Сингулярностях","Сжатиях","Оставшемся времени при сжатии вручную","Оставшемся времени при автоматическом сжатии"];return e[this.resourceVal]},sortStr(){const e=["Оставшимся Сингулярностям","Количеству выполнений","Доле от завершения","Сингулярностям для завершения","Порядку получения"];return e[this.sortVal]},completedStr(){const e=["В начало","В конец","Без изменений"];return e[this.completedVal]},orderStr(){const e=["Возрастающий","Убывающий"];return e[this.orderVal]}},watch:{resourceVal(e){player.celestials.laitela.singularitySorting.displayResource=e},sortVal(e){player.celestials.laitela.singularitySorting.sortResource=e},completedVal(e){player.celestials.laitela.singularitySorting.showCompleted=e},orderVal(e){player.celestials.laitela.singularitySorting.sortOrder=e},milestoneGlow(e){player.celestials.laitela.milestoneGlow=e}},beforeDestroy(){player.celestials.laitela.lastCheckedMilestones=Currency.singularities.value},methods:{update(){this.milestones=SingularityMilestones.sortedForCompletions(!0);const e=player.celestials.laitela.singularitySorting;this.resourceVal=e.displayResource,this.sortVal=e.sortResource,this.completedVal=e.showCompleted,this.orderVal=e.sortOrder,this.milestoneGlow=player.celestials.laitela.milestoneGlow},cycleButton(e){const t=player.celestials.laitela.singularitySorting;let i;switch(e){case 0:i=Object.keys(SINGULARITY_MILESTONE_RESOURCE).length,t.displayResource=(t.displayResource+1)%i;break;case 1:i=Object.keys(SINGULARITY_MILESTONE_SORT).length,t.sortResource=(t.sortResource+1)%i;break;case 2:i=Object.keys(COMPLETED_MILESTONES).length,t.showCompleted=(t.showCompleted+1)%i;break;case 3:i=Object.keys(SORT_ORDER).length,t.sortOrder=(t.sortOrder+1)%i;break;default:throw new Error("Unrecognized Singularity milestone sorting button")}},glowOptionClass(){return{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":this.milestoneGlow}},toggleGlow(){this.milestoneGlow=!this.milestoneGlow}}},Bw=Nw;var Ow=(0,H.A)(Bw,xw,Rw,!1,null,null,null);const Lw=Ow.exports;var $w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{"show-cancel":!e.onInfoPage&&!e.willStartRun,"show-confirm":!e.onInfoPage&&e.willStartRun,"confirm-class":"o-primary-btn--width-medium c-modal-hard-reset-btn c-modal__confirm-btn"},on:{confirm:e.startRun},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Активация режима спидрана ")]},proxy:!0},{key:"confirm",fn:function(){return[e._v(" Начать забег! ")]},proxy:!0},{key:"cancel",fn:function(){return[e._v(" Отменить ")]},proxy:!0}])},[e.onInfoPage?i("div",{staticClass:"c-modal-message__text"},[e._v(' Будет создано новое сохранение с дополнительным отслеживанием статистики времени достижения определённых этапов игры. Она будет видна в правом нижнем углу экрана и в специальном отделе вкладки "Статистика". '),i("br"),i("br"),e._v(" Почти все анимации и подтверждения по умолчанию будут отключены, но вы сможете менять любые настройки даже до достижения требуемого уровня прогресса. Когда вы начнёте забег, игра будет приостановлена, до тех пор пока не изменится количество вашей антиматерии, позволяя вам изменить все настройки по вашему желанию до начала игры. Чтобы избежать необходимости ждать долгое время, прежде чем начать оптимальный забег, несколько достижений будут даны даром. "),i("br"),i("br"),i("i",[e._v(" Режим спидрана не содержит дополнительного контента. ")]),i("br"),i("br"),i("PrimaryButton",{staticClass:"o-primary-btn--width-medium c-modal-hard-reset-btn c-modal__confirm-btn",on:{click:e.nextPage}},[e._v(" Продолжить ")])],1):i("div",{staticClass:"c-modal-message__text"},[e._v(" Вы можете ввести имя своего спидрана ниже. Это не влияет на геймплей, а лишь идентифицирует это сохранение как ваше. При отсутствии введённого имени будет сгенерировано случайное. Имя может быть изменено путём нажатия на него в информационном окошке спидрана, пока игра не началась. "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"name",staticClass:"c-modal-input c-modal-hard-reset__input",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(t){t.target.composing||(e.name=t.target.value)}}}),i("br"),i("br"),e._v(" Сохранения в режиме спидрана могут быть экспортированы и импортированы подобно обычным сохранениям. Импорт сохранения в режиме спидрана пометит его как сегментированный забег, так как импорт и экспорт позволяет оптимизировать отдельные отрезки игры. Иначе сохранение будет оставаться помеченным как непрерывный забег. "),i("br"),i("br"),e._v(' Вы сможете изменить зерно для генерации глифов во вкладке "Настройки" перед началом забега при желании. '),i("br"),i("br"),i("div",{staticClass:"c-modal-hard-reset-danger"},[e._v(' Запуск спидрана сбросит ваше сохранение в начало игры. Останутся такие параметры, как статистика количества прохождений игры, графические настройки, программы для Автоматизатора и косметические наборы глифов, но во всём остальном сохранение будет таким же, как если бы вы закончили игру и перезапустили её из экрана с благодарностями. Введите "Gotta Go Fast!" ниже, чтобы подтвердить своё намерение (пере)запустить забег. ')]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPhrase,expression:"confirmPhrase"}],ref:"confirmPhrase",staticClass:"c-modal-input c-modal-hard-reset__input",attrs:{type:"text"},domProps:{value:e.confirmPhrase},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)},input:function(t){t.target.composing||(e.confirmPhrase=t.target.value)}}})])])},Hw=[];const Fw={name:"SpeedrunModeModal",components:{PrimaryButton:Fs,ModalWrapperChoice:Um},data(){return{onInfoPage:!0,name:"",confirmPhrase:""}},computed:{willStartRun(){return"Gotta Go Fast!"===this.confirmPhrase}},methods:{nextPage(){this.onInfoPage=!1},startRun(){this.willStartRun&&(this.emitClose(),Speedrun.prepareSave(Speedrun.generateName(this.name)))}}},qw=Fw;var Vw=(0,H.A)(qw,$w,Hw,!1,null,null,null);const Yw=Vw.exports;var jw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{staticClass:"c-shop-modal",scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Support The Developer - coins ")]},proxy:!0}])},[e.macPurchaser?i("span",[i("button",{staticClass:"o-shop-button-button",on:{click:function(t){return e.macConfirm()}}},[e._v("Confirm Purchase to Receive STDs")]),i("br"),i("span",[e._v("(Required on Mac)")]),i("br")]):e._e(),i("div",{staticClass:"l-modal-store-content"},[i("img",{attrs:{src:"images/std_coin.png"}}),i("div",{staticClass:"c-modal-store-buttons"},[i("StdStoreRow",{attrs:{amount:30,cost:2.99}}),i("StdStoreRow",{attrs:{amount:60,cost:4.99}}),i("StdStoreRow",{attrs:{amount:140,cost:9.99}}),i("StdStoreRow",{attrs:{amount:300,cost:19.99}}),i("StdStoreRow",{attrs:{amount:1e3,cost:49.99}})],1)])])},Ww=[],Xw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-modal-store-btn-container"},[i("div",{staticClass:"o-modal-store-label"},[e._v(" "+e._s(e.amount)+" STDs ")]),i("button",{staticClass:"o-modal-store-btn",on:{click:e.purchase}},[e._v(" $"),i("span",[e._v(e._s(e.cost))])])])},zw=[];const Kw={interval:null,windowReference:null,hasCanceled:!1,init:()=>{player.IAP.checkoutSession.id&&Kw.pollForPurchases()},buyMoreSTD:async e=>{let t;player.IAP.checkoutSession={id:!0};try{t=await fetch(`${STD_BACKEND_URL}/purchase`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e,cloudID:Cloud.user.id})})}catch(a){return void GameUI.notify.error("Could not contact payment server!",1e4)}const i=await t.json();Kw.windowReference=window.open(i.url,"antimatterDimensionsPurchase","popup,width=500,height=500,left=100,top=100"),player.IAP.checkoutSession={id:i.id,amount:e},GameStorage.save(),Kw.pollForPurchases()},pollForPurchases:()=>{const{id:e,amount:t}=player.IAP.checkoutSession;let i=0;window.onbeforeunload=async()=>{var e;Kw.interval&&(null===(e=Kw.windowReference)||void 0===e||e.close(),await Kw.cancelPurchase(!1))},Kw.interval=setInterval((async()=>{var a;let n;i++;try{n=await fetch(`${STD_BACKEND_URL}/validate?sessionId=${e}`)}catch(c){return GameUI.notify.error("Could not contact payment server!",1e4),void Kw.clearInterval()}const{completed:s,failure:r}=await n.json();var o,l;s&&(null===(o=Kw.windowReference)||void 0===o||o.close(),await ShopPurchaseData.syncSTD(),GameUI.notify.success(`Purchase of ${t} STDs was successful, thank you for your support! ❤️`,1e4),Kw.clearInterval(),player.IAP.checkoutSession={id:!1},GameStorage.save(),Modal.hide());if(r)return null===(l=Kw.windowReference)||void 0===l||l.close(),Kw.clearInterval(),GameUI.notify.error("Purchase failed!",1e4),player.IAP.checkoutSession={id:!1},void GameStorage.save();!s&&(null!==(a=Kw.windowReference)&&void 0!==a&&a.closed||i>=600)&&await Kw.cancelPurchase(!0)}),3e3)},async buyUpgrade(e,t){var i;if(!Cloud.loggedIn)return!1;let a;try{a=await fetch(`${STD_BACKEND_URL}/upgrade`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:Cloud.user.id,upgrade:e,extraData:{requestedSet:t,fullCompletions:player.records.fullGameCompletions}})})}catch(s){return GameUI.notify.error("Unable to spend STD coins on upgrade!",1e4),!1}const n=await a.json();return n.success?GameUI.notify.info(`Successfully spent ${n.amountSpent} STD coins`,1e4):GameUI.notify.error(null!==(i=n.error)&&void 0!==i?i:"Unable to purchase upgrade",1e4),ShopPurchaseData.syncSTD(!1,n.data),n.success},async cancelPurchase(e){var t;if(!this.hasCanceled){null===(t=Kw.windowReference)||void 0===t||t.close(),Kw.clearInterval();try{await fetch(`${STD_BACKEND_URL}/expire`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:player.IAP.checkoutSession.id})})}catch(i){GameUI.notify.error("Could not contact payment server!",1e4)}e&&GameUI.notify.error("Purchase took too long to resolve!",1e4),player.IAP.checkoutSession={id:!1},GameStorage.save(),this.hasCanceled=!1}},clearInterval(){clearInterval(Kw.interval),window.onbeforeunload=null}},Qw=Kw,Jw={name:"StdStoreRow",props:{amount:{type:Number,required:!0},cost:{type:Number,required:!0}},methods:{purchase(){f?wc.purchaseIAP(this.amount):Qw.buyMoreSTD(this.amount,this.cost)}}},Zw=Jw;var eS=(0,H.A)(Zw,Xw,zw,!1,null,null,null);const tS=eS.exports,iS={name:"StdStoreModal",components:{ModalWrapper:Jg,StdStoreRow:tS},data(){return{macPurchaser:!1}},methods:{update(){this.macPurchaser=wc.hasPendingPurchaseConfirmations},macConfirm(){wc.validatePurchases()}}},aS=iS;var nS=(0,H.A)(aS,jw,Ww,!1,null,null,null);const sS=nS.exports;var rS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{staticClass:"c-modal-import-tree",attrs:{"show-cancel":!e.inputIsValid,"show-confirm":e.inputIsValid},on:{confirm:e.confirm},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.modalTitle)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" "+e._s(e.confirmText)+" ")]},proxy:!0}])},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],ref:"input",staticClass:"c-modal-input c-modal-import-tree__input",class:{"l-delete-input":e.deleting},attrs:{type:"text",maxlength:"1500",disabled:e.deleting},domProps:{value:e.input},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirm.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.emitClose.apply(null,arguments)}],input:function(t){t.target.composing||(e.input=t.target.value)}}}),i("div",{staticClass:"c-two-column"},[i("div",{staticClass:"c-study-info l-modal-import-tree__tree-info"},[e.inputIsSecret?i("div",[e._v(" ??? ")]):e.inputIsValidTree?[e.invalidMessage?i("div",{staticClass:"l-modal-import-tree__tree-info-line",domProps:{innerHTML:e._s(e.invalidMessage)}}):e._e(),e.isImporting?i("StudyStringLine",{attrs:{tree:e.combinedTree,"into-empty":!1}}):e._e(),i("StudyStringLine",{attrs:{tree:e.importedTree,"into-empty":!0}}),e.deleting&&e.importedTree.hasInfo?i("StudyTreeInfo",{attrs:{"header-text":"Сохранённое Древо содержит:","tree-status":e.importedTree}}):e._e(),e.deleting||e.isImporting||!e.importedTree.hasInfo?e._e():i("StudyTreeInfo",{attrs:{"header-text":"Статус при загрузке <b>без Исследований</b>:","tree-status":e.importedTree}}),!e.deleting&&e.combinedTree.hasInfo?i("StudyTreeInfo",{attrs:{"header-text":"Статус при загрузке <b>с текущим Древом</b>:","tree-status":e.combinedTree}}):e._e()]:e._e(),e.deleting||e.inputIsValidTree||!e.hasInput?e._e():i("div",[e._v(" Недопустимое Древо ")])],2),i("div",{staticClass:"c-study-preview"},[i("StudyStringPreview",{attrs:{"show-preview":e.inputIsValidTree,"new-studies":!e.isImporting||e.canEternity&&e.respecAndLoad?e.importedTree.newStudiesArray:e.combinedTree.newStudiesArray,"disregard-current-studies":!e.isImporting||e.canEternity&&e.respecAndLoad}})],1)]),!e.isImporting&&e.inputIsValidTree?i("div",[i("br"),e.deleting?e._e():i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Кодировка Древа будет форматирована, например, заменой 'a,b,c|d' на 'a, b, c | d'.",expression:"'Кодировка Древа будет форматирована, например, заменой \\'a,b,c|d\\' на \\'a, b, c | d\\'.'"}],on:{click:e.convertInputShorthands}},[e._v(" Форматировать кодировку Древа ")])],1):e._e(),e.isImporting?i("span",[i("br"),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.canEternity?"":"Вы не можете совершить вечность в данный момент, поэтому произойдёт обычная загрузка Древа.",expression:"canEternity ? '' : 'Вы не можете совершить вечность в данный момент, поэтому произойдёт обычная загрузка Древа.'"}],staticClass:"c-modal__confirmation-toggle",on:{click:function(t){e.respecAndLoad=!e.respecAndLoad}}},[i("div",{class:{"c-modal__confirmation-toggle__checkbox":!0,"c-modal__confirmation-toggle__checkbox--active":e.respecAndLoad}},[e.respecAndLoad?i("span",{staticClass:"fas fa-check"}):e._e()]),i("span",{staticClass:"c-modal__confirmation-toggle__text"},[e._v(" Также сбросить Древо и совершить вечность "),e.canEternity?e._e():i("span",{staticClass:"c-modal__confirmation-toggle__warning"},[e._v(" ! ")])])])]):e._e()])},oS=[],lS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[0===e.tree.timeTheorems&&0===e.tree.spaceTheorems?i("div",[i("i",[e._v("Данный импорт "+e._s(e.importDestString)+" не приведёт к покупке каких-либо новых Исследований Времени.")])]):i("div",[e._v(" Данный импорт "+e._s(e.importDestString)+" приведёт к покупке следующих Исследований: "),i("br"),e._v(" "+e._s(e.tree.newStudies)+" (Цена: "+e._s(e.formatTheoremCost(e.tree.timeTheorems,e.tree.spaceTheorems))+") ")]),i("br")])},cS=[];const uS={name:"StudyStringLine",props:{tree:{type:Object,required:!0},intoEmpty:{type:Boolean,required:!0}},computed:{importDestString(){return this.intoEmpty?"при пустом Древе":"при текущем Древе"}},methods:{formatTheoremCost(e,t){const i=`${formatWithCommas(e)} ТВ`,a=`${formatWithCommas(t)} ТП`;return 0===t?i:`${i} + ${a}`}}},dS=uS;var hS=(0,H.A)(dS,lS,cS,!1,null,null,null);const pS=hS.exports;var mS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-study-string-preview__tree--wrapper"},[e.showPreview?i("div",{staticClass:"l-time-study-tree l-study-string-preview__tree",style:e.treeStyleObject},[e._l(e.studies,(function(t){return i("PseudoTimeStudyButton",{key:t.study.type.toString()+t.study.id.toString(),attrs:{setup:t,"force-is-bought":e.getStudyForceBoughtState(e.studyString(t.study)),"is-new-from-import":!e.disregardCurrentStudies&&e.newStudies.includes(e.studyString(t.study))}})})),i("svg",{staticClass:"l-time-study-connection",style:e.treeStyleObject},e._l(e.connections,(function(t,a){return i("PseudoTimeStudyConnection",{key:"connection"+a,attrs:{"force-is-bought":e.getConnectionForceBoughtState(t),setup:t}})})),1)],2):i("span",{staticClass:"c-unavailable-warning"},[e._v(" Предпросмотр недоступен ")])])},yS=[],fS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:[e.classObject,e.studyClass],style:e.styleObject},[e._v(" "+e._s(e.studyString)+" ")])},gS=[];const bS={name:"PseudoTimeStudyButton",props:{setup:{type:Object,required:!0},forceIsBought:{type:Number,default:1},isNewFromImport:{type:Boolean,default:!1}},data(){return{isUseless:!1,doomedRealityStudy:!1,isBought:!1}},computed:{study(){return this.setup.study},styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"o-pseudo-time-study":!0,"l-time-study":!0,"c-pelle-useless":this.isUseless,"c-pelle-useless--bought":this.isUseless&&this.isBought,"c-pelle-useless--unavailable":this.isUseless&&!this.isBought,"o-pseudo-time-study--small":this.setup.isSmall,"o-pseudo-time-study--challenge":this.study.type===TIME_STUDY_TYPE.ETERNITY_CHALLENGE,"o-time-study--unavailable":!this.isBought&&!this.isUseless,"o-time-study--bought":this.isBought&&!this.isUseless,"o-time-study--new-import":this.isNewFromImport&&!this.isBought}},pathClass(){switch(this.study.type){case TIME_STUDY_TYPE.NORMAL:switch(this.setup.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-idle";case TIME_STUDY_PATH.LIGHT:return"o-time-study-light";case TIME_STUDY_PATH.DARK:return"o-time-study-dark";default:return"o-time-study-normal"}case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return"o-time-study-eternity-challenge";case TIME_STUDY_TYPE.DILATION:return 6===this.study.id?"o-time-study-reality":"o-time-study-dilation";case TIME_STUDY_TYPE.TRIAD:return"o-time-study-triad"}return""},studyClass(){return this.isUseless?"":`${this.pathClass}--${this.isBought?"bought":"unavailable"}`},studyString(){switch(this.study.type){case TIME_STUDY_TYPE.NORMAL:case TIME_STUDY_TYPE.TRIAD:return`${this.study.id}`;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return`ИспВ${this.study.id}`}return""}},methods:{update(){const e=this.study;this.isUseless=Pelle.uselessTimeStudies.includes(this.study.id)&&Pelle.isDoomed,this.isBought=ix.getState(this.forceIsBought,e.isBought),this.doomedRealityStudy=e.type===TIME_STUDY_TYPE.DILATION&&6===e.id&&Pelle.isDoomed}}},vS=bS;var ES=(0,H.A)(vS,fS,gS,!1,null,"5e8f4cce",null);const TS=ES.exports;var _S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isOverridden?e._e():i("line",{class:e.classObject,attrs:{x1:e.percents(e.setup.x1),y1:e.percents(e.setup.y1),x2:e.percents(e.setup.x2),y2:e.percents(e.setup.y2)}})},CS=[];const AS={name:"PseudoTimeStudyConnection",props:{setup:{type:Object,required:!0},forceIsBought:{type:Number,default:1}},data(){return{isOverridden:!1,isBought:!1}},computed:{classObject(){const e={"o-time-study-connection":!0,"o-time-study-connection--bought":this.isBought};let t;const i=this.setup.connection,a=i.from,n=i.to;function s(e){switch(e.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-connection--antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-connection--infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-connection--time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-connection--active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-connection--passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-connection--idle";default:return}}switch(n.type){case TIME_STUDY_TYPE.NORMAL:t=s(n)||s(a);break;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:t="o-time-study-connection--eternity-challenge";break;case TIME_STUDY_TYPE.DILATION:t="o-time-study-connection--dilation";break}return void 0!==t&&(e[t]=!0),e}},methods:{update(){this.isOverridden=this.setup.connection.isOverridden,this.isBought=ix.getState(this.forceIsBought,this.setup.isBought)},percents(e){return 100*e+"%"}}},kS=AS;var wS=(0,H.A)(kS,_S,CS,!1,null,"6dda8e60",null);const SS=wS.exports;var xS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isOverridden?e._e():i("line",{class:e.classObject,attrs:{x1:e.percents(e.setup.x1),y1:e.percents(e.setup.y1),x2:e.percents(e.setup.x2),y2:e.percents(e.setup.y2)}})},RS=[];const IS={name:"TimeStudyConnection",props:{setup:{type:Object,required:!0}},data(){return{isOverridden:!1,isBought:!1}},computed:{classObject(){const e={"o-time-study-connection":!0,"o-time-study-connection--bought":this.isBought};let t;const i=this.setup.connection,a=i.from,n=i.to;function s(e){switch(e.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-connection--antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-connection--infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-connection--time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-connection--active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-connection--passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-connection--idle";default:return}}switch(n.type){case TIME_STUDY_TYPE.NORMAL:t=s(n)||s(a);break;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:t="o-time-study-connection--eternity-challenge";break;case TIME_STUDY_TYPE.DILATION:t="o-time-study-connection--dilation";break}return void 0!==t&&(e[t]=!0),e}},methods:{update(){this.isOverridden=this.setup.connection.isOverridden,this.isBought=this.setup.isBought},percents(e){return 100*e+"%"}}};class MS{constructor(e){this.connection=e}get from(){return this.connection.from}get to(){return this.connection.to}setPosition(e,t,i){const a=e.find((e=>e.study===this.from)),n=e.find((e=>e.study===this.to));this.x1=(a.left+a.width/2)/t,this.y1=(a.top+a.height/2)/i,this.x2=(n.left+n.width/2)/t,this.y2=(n.top+n.height/2)/i}get isBought(){return this.from.isBought&&this.to.isBought}}const DS=IS;var PS=(0,H.A)(DS,xS,RS,!1,null,"99b5bd1a",null);const US=PS.exports;var GS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:[e.classObject,e.studyClass,e.eternityChallengeAnim],style:e.styleObject,on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleClick.apply(null,arguments)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.shiftClick.apply(null,arguments):null}]}},[e._t("default"),e.showDefaultCostDisplay?i("CostDisplay",{attrs:{br:"",config:e.config,name:"Теорема",postName:"Времени"}}):e.doomedRealityStudy||e.isDisabledByEnslaved?e._e():i("div",[e._v(" Цена: "+e._s(e.customCostStr)+" ")])],2)},NS=[],BS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("span",[e.br?i("br"):e._e(),e._v(" "+e._s(e.label)+" "+e._s(e.quantify(e.name,e.cost,0,0,e.formatCost))+" "+e._s(e.postName)+" ")]):e._e()},OS=[];function LS(e){return"number"===typeof e}function $S(e){return"string"===typeof e}function HS(e){return"function"===typeof e}function FS(e){return e instanceof Decimal}const qS={name:"CostDisplay",props:{config:{type:Object,required:!1,default:void 0},br:{type:Boolean,required:!1},name:{type:String,required:!0},postName:{type:String,required:!1},label:{type:String,default:"Цена:",required:!1}},data(){return{isVisible:!1,cost:0}},watch:{config:{immediate:!0,handler(e){var t;this.updateFunction=()=>{};const i=null===e||void 0===e?void 0:e.cost;if(this.isVisible=void 0!==i,!this.isVisible)return;if(this.formatCost=null!==(t=e.formatCost)&&void 0!==t?t:format,LS(i))return void(this.cost=i);if(FS(i))return void(this.cost=Decimal.fromDecimal(i));if(!HS(i))throw new Error(`CostDisplay config.cost has unsupported type "${typeof i}"`);const a=i();if(LS(a))return this.cost=a,void(this.updateFunction=()=>this.cost=i());if(FS(a))return this.cost=Decimal.fromDecimal(a),void(this.updateFunction=()=>this.cost.copyFrom(i()));throw new Error(`CostDisplay config.cost is a function which returns unsupported type "${typeof a}"`)}}},beforeCreate(){this.updateFunction=()=>{}},methods:{update(){this.updateFunction()},quantify}},VS=qS;var YS=(0,H.A)(VS,BS,OS,!1,null,null,null);const jS=YS.exports,WS={name:"TimeStudyButton",components:{CostDisplay:jS},props:{setup:{type:Object,required:!0},showCost:{type:Boolean,required:!1,default:!0},showStCost:{type:Boolean,required:!1,default:!1},specialClick:{type:Function,required:!1,default:null}},data(){return{isUseless:!1,isBought:!1,isAvailableForPurchase:!1,STCost:0,eternityChallengeRunning:!1,isCompleteEC:!1}},computed:{study(){return this.setup.study},styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"o-time-study":!this.isUseless,"l-time-study":!0,"c-pelle-useless":this.isUseless,"c-pelle-useless--bought":this.isUseless&&this.isBought,"c-pelle-useless--unavailable":this.isUseless&&!this.isAvailableForPurchase&&!this.isBought,"c-pelle-useless-available":this.isUseless&&!this.isAvailableForPurchase&&!this.isBought,"o-time-study--small":this.setup.isSmall,"o-time-study--unavailable":!this.isAvailableForPurchase&&!this.isBought&&!this.isUseless,"o-time-study--available":this.isAvailableForPurchase&&!this.isBought,"o-time-study--bought":this.isBought&&!this.isUseless}},pathClass(){switch(this.study.type){case TIME_STUDY_TYPE.NORMAL:switch(this.setup.path){case TIME_STUDY_PATH.ANTIMATTER_DIM:return"o-time-study-antimatter-dim";case TIME_STUDY_PATH.INFINITY_DIM:return"o-time-study-infinity-dim";case TIME_STUDY_PATH.TIME_DIM:return"o-time-study-time-dim";case TIME_STUDY_PATH.ACTIVE:return"o-time-study-active";case TIME_STUDY_PATH.PASSIVE:return"o-time-study-passive";case TIME_STUDY_PATH.IDLE:return"o-time-study-idle";case TIME_STUDY_PATH.LIGHT:return"o-time-study-light";case TIME_STUDY_PATH.DARK:return"o-time-study-dark";default:return"o-time-study-normal"}case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return"o-time-study-eternity-challenge";case TIME_STUDY_TYPE.DILATION:return 6===this.study.id?"o-time-study-reality":"o-time-study-dilation";case TIME_STUDY_TYPE.TRIAD:return"o-time-study-triad"}return""},studyClass(){if(this.isUseless)return"";let e="";return this.isAvailableForPurchase||this.isBought||(e+=`${this.pathClass}--unavailable`),this.isAvailableForPurchase&&!this.isBought&&(e+=`${this.pathClass}--available`),this.isBought&&(e+=`${this.pathClass}--bought`),this.isCompleteEC&&(e+=` ${this.pathClass}--complete`),e},eternityChallengeAnim(){return this.eternityChallengeRunning?"o-time-study-eternity-challenge--running":""},config(){return{...this.study.config,formatCost:e=>e>=1e6?format(e):formatInt(e)}},showDefaultCostDisplay(){const e=this.showCost&&!this.showStCost||0===this.STCost;return!this.setup.isSmall&&!this.doomedRealityStudy&&e},isDisabledByEnslaved(){return 192===this.study.id&&Enslaved.isRunning},customCostStr(){const e=this.setup.isSmall?`${formatInt(this.config.cost)} ТВ`:`${quantifyInt("Теорема",this.config.cost)} Времени`,t=this.setup.isSmall?`${formatInt(this.STCost)} ТП`:`${quantifyInt("Теорема",this.STCost)} Пространства`,i=[];return this.config.cost&&i.push(e),this.STCost&&this.showStCost&&i.push(t),i.join(" + ")},doomedRealityStudy(){return this.study.type===TIME_STUDY_TYPE.DILATION&&6===this.study.id&&Pelle.isDoomed}},methods:{update(){var e;const t=this.study;this.isUseless=Pelle.uselessTimeStudies.includes(this.study.id)&&Pelle.isDoomed,this.isBought=t.isBought,this.eternityChallengeRunning=t.type===TIME_STUDY_TYPE.ETERNITY_CHALLENGE&&(null===(e=EternityChallenge.current)||void 0===e?void 0:e.id)===t.id,this.isBought||(this.isAvailableForPurchase=t.canBeBought&&t.isAffordable),this.STCost=this.study.STCost,this.isCompleteEC=this.study.type===TIME_STUDY_TYPE.ETERNITY_CHALLENGE&&0===EternityChallenge(this.study.id).remainingCompletions},handleClick(){null!==this.specialClick&&this.study.isBought?this.specialClick():this.study.purchase()},shiftClick(){this.study.purchaseUntil&&this.study.purchaseUntil()}}};class XS{constructor(e){this.study=e.study,this.row=e.row,this.column=e.column}setPosition(e){this.top=e.itemPosition(this.row);const t=e.rows[this.row];this.left=t.itemPosition(this.column,e),this.width=t.layout.itemWidth,this.height=t.layout.itemHeight}get path(){return this.study.path}}const zS=WS;var KS=(0,H.A)(zS,GS,NS,!1,null,"5ed71503",null);const QS=KS.exports;class JS{constructor(e,t,i){this.layout=e,this.items=t,this.isWide=i}get width(){const e=this.items.length,t=this.layout;return e*t.itemWidth+(e-1)*t.spacing}itemPosition(e,t){const i=this.layout,a=t.width,n=(a-this.width)/2;return n+e*i.itemWidth+e*i.spacing}}class ZS{constructor(e){this.itemWidth=e.itemWidth,this.itemHeight=e.itemHeight,this.spacing=e.spacing}}class ex{constructor(e,t=1){this.spacing=4*t;const i=new ZS({itemWidth:18*t,itemHeight:10*t,spacing:3*t}),a=new ZS({itemWidth:12*t,itemHeight:10*t,spacing:.6*t}),n=(...e)=>new JS(i,e),s=(...e)=>new JS(a,e,!0),r=e=>TimeStudy(e).isUnlocked?TimeStudy(e):null,o=e=>TimeStudy.eternityChallenge(e);this.rows=[n(null,r(11),null),n(r(21),r(22)),n(null,r(31),r(32),r(33))],e===tx.ALTERNATIVE_62||e===tx.ALTERNATIVE_62_181||e===tx.ALTERNATIVE_TRIAD_STUDIES?this.rows.push(n(null,r(41),r(42),o(5)),n(r(51))):this.rows.push(n(r(41),r(42)),n(null,r(51),o(5))),this.rows.push(n(null,r(61),r(62)),n(r(71),r(72),r(73)),n(r(81),r(82),r(83)),n(r(91),r(92),r(93)),n(r(101),r(102),r(103)),n(o(7),r(111),null),n(r(121),r(122),r(123)),n(o(6),r(131),r(132),r(133),o(8)),n(r(141),r(142),r(143)),n(null,o(9),r(151),null,o(4)),n(r(161),r(162))),e===tx.ALTERNATIVE_181||e===tx.ALTERNATIVE_62_181||e===tx.ALTERNATIVE_TRIAD_STUDIES?this.rows.push(n(null,r(171),o(2)),n(o(1),r(181),o(3))):this.rows.push(n(r(171)),n(o(1),o(2),o(3)),n(r(181))),this.rows.push(n(o(10)),n(r(191),r(192),r(193)),n(r(201)),n(r(211),r(212),r(213),r(214)),s(r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228))),e!==tx.ALTERNATIVE_TRIAD_STUDIES||Pelle.isDoomed||this.rows.push(n(r(301),r(302),r(303),r(304))),this.rows.push(n(r(231),r(232),r(233),r(234)),n(o(11),o(12)),n(TimeStudy.dilation),n(TimeStudy.timeDimension(5),TimeStudy.timeDimension(6)),n(TimeStudy.timeDimension(7),TimeStudy.timeDimension(8)),n(TimeStudy.reality)),this.studies=[];for(let d=0;d<this.rows.length;d++){const e=this.rows[d];for(let t=0;t<e.items.length;t++){const i=e.items[t];if(null===i)continue;const a=new XS({study:i,row:d,column:t});e.isWide&&(a.isSmall=!0),this.studies.push(a)}}const l={};this.secretStudy=new XS({study:l,row:0,column:0});const c={};this.enslavedStudy=new XS({study:c,row:0,column:2}),this.connections=TimeStudy.allConnections.map((e=>new MS(e))),this.secretStudyConnection=new MS(new TimeStudyConnection(r(11),l)),this.enslavedStudyConnection=new MS(new TimeStudyConnection(r(11),c)),this.width=this.rows.map((e=>e.width)).max();const u=this.rows.map((e=>e.layout.itemHeight)).sum();this.height=u+(this.rows.length-1)*this.spacing;for(const d of this.studies)d.setPosition(this);this.secretStudy.setPosition(this),this.enslavedStudy.setPosition(this);for(const d of this.connections)d.setPosition(this.studies,this.width,this.height);this.secretStudyConnection.setPosition(this.studies.concat(this.secretStudy),this.width,this.height),this.enslavedStudyConnection.setPosition(this.studies.concat(this.enslavedStudy),this.width,this.height)}itemPosition(e){const t=this.rows.slice(0,e),i=t.map((e=>e.layout.itemHeight)).sum();return i+t.length*this.spacing}static create(e,t=1){void 0===this._instances&&(this._instances=[]);const i=new ex(e,t);return this._instances[`${e}__${t}`]=i,i}}const tx={NORMAL:0,ALTERNATIVE_62:1,ALTERNATIVE_181:2,ALTERNATIVE_62_181:3,ALTERNATIVE_TRIAD_STUDIES:4,get current(){const e=Perk.bypassEC5Lock.isBought,t=Perk.bypassEC1Lock.isBought&&Perk.bypassEC2Lock.isBought&&Perk.bypassEC3Lock.isBought;return Ra.canBuyTriad?this.ALTERNATIVE_TRIAD_STUDIES:e&&t?this.ALTERNATIVE_62_181:e?this.ALTERNATIVE_62:t?this.ALTERNATIVE_181:this.NORMAL}},ix={notBought:0,unspecified:1,bought:2,getState(e,t){switch(e){case this.notBought:return!1;case this.unspecified:return t;case this.bought:return!0}return t}},ax={name:"TimeStudiesTab",components:{PseudoTimeStudyButton:TS,PseudoTimeStudyConnection:SS},props:{disregardCurrentStudies:{type:Boolean,default:!1},newStudies:{required:!0,validator:e=>Array.isArray(e)||void 0===e},showPreview:{type:Boolean,default:!0}},data(){return{layoutType:tx.NORMAL,vLevel:0,renderedStudyCount:0,isEnslaved:!1,delayTimer:0}},computed:{layout(){return ex.create(this.layoutType,.15)},studies(){return this.layout.studies},connections(){return this.layout.connections},treeStyleObject(){return{width:`${this.layout.width}rem`,height:`${this.layout.height}rem`}},respecClassObject(){return{"o-primary-btn--subtab-option":!0,"o-primary-btn--respec-active":this.respec}}},watch:{vLevel(){this.$recompute("layout")}},methods:{update(){this.layoutType=tx.current,this.vLevel=Ra.pets.v.level,this.isEnslaved=Enslaved.isRunning||Date.now()-this.delayTimer<1e3},studyComponent(e){switch(e.type){case TIME_STUDY_TYPE.NORMAL:return NormalTimeStudy;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return ECTimeStudy;case TIME_STUDY_TYPE.DILATION:return DilationTimeStudy;case TIME_STUDY_TYPE.TRIAD:return TriadTimeStudy}throw"Unknown Time Study type"},studyString(e){switch(e.type){case TIME_STUDY_TYPE.NORMAL:case TIME_STUDY_TYPE.TRIAD:return`${e.id}`;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return`EC${e.id}`}return"Dilation Study"},getStudyForceBoughtState(e){return this.disregardCurrentStudies?this.newStudies.includes(e)?ix.bought:ix.notBought:ix.unspecified},getConnectionForceBoughtState(e){return this.disregardCurrentStudies?this.newStudies.includes(this.studyString(e.connection.to))&&this.newStudies.includes(this.studyString(e.connection.from))?ix.bought:ix.notBought:ix.unspecified}}},nx=ax;var sx=(0,H.A)(nx,mS,yS,!1,null,"21b5eeb5",null);const rx=sx.exports;var ox=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-tree-info"},[i("span",{staticClass:"l-tree-info-header",domProps:{innerHTML:e._s(e.headerText)}}),e.treeStatus.firstPaths?i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e._v(" Развилка Измерений: путь "+e._s(e.treeStatus.firstPaths)+" ")]):e._e(),e.treeStatus.secondPaths?i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e._v(" Развилка темпа: "+e._s(e.treeStatus.secondPaths)+" путь ")]):e._e(),e.treeStatus.ec>0?i("div",{staticClass:"l-modal-import-tree__tree-info-line"},[e._v(" Испытание Вечности: "+e._s(e.treeStatus.ec)+" "+e._s(e.treeStatus.startEC?"(будет запущено)":"")+" ")]):e._e()])},lx=[];const cx={name:"StudyTreeInfo",props:{headerText:{type:String,required:!0},treeStatus:{type:Object,required:!0}}},ux=cx;var dx=(0,H.A)(ux,ox,lx,!1,null,"2b51390c",null);const hx=dx.exports;let px="";const mx={name:"StudyStringModal",components:{ModalWrapperChoice:Um,StudyStringLine:pS,PrimaryButton:Fs,StudyStringPreview:rx,StudyTreeInfo:hx},props:{id:{type:Number,required:!0},deleting:{type:Boolean,required:!1,default:!1}},data(){return{input:"",name:"",respecAndLoad:!1,canEternity:!1}},computed:{isImporting(){return-1===this.id},importedTree(){if(!this.inputIsValidTree)return{};const e=new TimeStudyTree(this.truncatedInput),t=e.purchasedStudies.map((e=>this.studyString(e)));return{timeTheorems:e.spentTheorems[0],spaceTheorems:e.spentTheorems[1],newStudies:makeEnumeration(t),newStudiesArray:t,invalidStudies:e.invalidStudies,firstPaths:makeEnumeration(e.dimensionPaths),secondPaths:makeEnumeration(e.pacePaths),ec:e.ec,startEC:e.startEC,hasInfo:makeEnumeration(e.dimensionPaths)||e.ec>0}},combinedTree(){if(!this.inputIsValidTree)return{};const e=GameCache.currentStudyTree.value,t=this.combinedTreeObject,i=t.purchasedStudies.filter((t=>!e.purchasedStudies.includes(t))).map((e=>this.studyString(e))),a=TimeStudyTree.getECFromString(this.truncatedInput),n=t.startEC,s=[0,a].includes(player.challenge.eternity.current),r=t.ec!==a;return{timeTheorems:t.spentTheorems[0]-e.spentTheorems[0],spaceTheorems:t.spentTheorems[1]-e.spentTheorems[1],newStudies:makeEnumeration(i),newStudiesArray:i,firstPaths:makeEnumeration(t.dimensionPaths),secondPaths:makeEnumeration(t.pacePaths),ec:t.ec,startEC:n&&s&&!r,hasInfo:makeEnumeration(t.dimensionPaths)||t.ec>0}},combinedTreeObject(){const e=new TimeStudyTree;return e.attemptBuyArray(TimeStudyTree.currentStudies,!1),e.attemptBuyArray(e.parseStudyImport(this.truncatedInput),!0),e},modalTitle(){return this.deleting?`Удаление сохранённого Древа "${this.name}"`:this.isImporting?"Введите ваше Древо":`Редактирование сохранённого Древа "${this.name}"`},invalidMessage(){if(!this.inputIsValidTree||0===this.importedTree.invalidStudies.length)return null;let e=`#${this.truncatedInput}#`;e.length>300&&(e=`${e.slice(0,297)}...`);for(const t of this.importedTree.invalidStudies){const i=`${t}`.match(/(ИспВ)?(\d+)/u),a=parseInt(i[2],10);switch(i[1]){case"ИспВ":e=e.replaceAll(new RegExp(`\\|(${a})`,"gu"),'|<span style="color: var(--color-bad);">$1</span>');break;default:e=e.replaceAll(new RegExp(`(\\D)(${a})(\\D)`,"gu"),'$1<span style="color: var(--color-bad);">$2</span>$3');break}}return`Введённая строка содержит недопустимые номера Исследований: ${e.replaceAll("#","").replaceAll(",",", ")}\n        <br><br>`},truncatedInput(){return TimeStudyTree.truncateInput(this.input)},hasInput(){return""!==this.truncatedInput},inputIsValid(){return this.inputIsValidTree||this.inputIsSecret},inputIsValidTree(){return TimeStudyTree.isValidImportString(this.truncatedInput)},inputIsSecret(){return"250a61a086aa628c2ec695fc6150836eac6aeba6cb6bc975c0b546f49b37a689"===(0,kh.sha512_256)(this.input.toLowerCase())},confirmText(){return this.deleting?"Удалить":this.isImporting?"Импортировать":"Сохранить"}},watch:{input(e){px=e}},created(){const e=player.timestudy.presets[this.id];this.input=e?e.studies:px,this.name=e?e.name:""},mounted(){this.$refs.input.select()},methods:{update(){this.canEternity=Player.canEternity},confirm(){if(this.deleting)this.deletePreset();else if(this.isImporting){if(this.respecAndLoad&&Player.canEternity){player.respec=!0;const e=new TimeStudyTree(this.truncatedInput);return void animateAndEternity((()=>TimeStudyTree.commitToGameState(e.purchasedStudies,!1,e.startEC)))}this.importTree()}else this.savePreset()},convertInputShorthands(){this.input=TimeStudyTree.formatStudyList(this.input)},importTree(){this.inputIsValid&&(this.inputIsSecret&&SecretAchievement(37).unlock(),px="",this.emitClose(),TimeStudyTree.commitToGameState(this.combinedTreeObject.purchasedStudies,!1,this.combinedTree.startEC))},savePreset(){this.inputIsValid&&(player.timestudy.presets[this.id].studies=this.input,GameUI.notify.eternity(`Древо Исследований ${this.name} успешно редактировано.`),this.emitClose())},deletePreset(){const e=player.timestudy.presets[this.id].name,t=e?`Сохранённое Древо "${e}"`:"Сохранённое Древо";player.timestudy.presets[this.id].studies="",player.timestudy.presets[this.id].name="",GameUI.notify.eternity(`${t} удалено из слота ${this.id+1}`)},studyString(e){return e instanceof ECTimeStudyState?`ИспВ${e.id}`:`${e.id}`}}},yx=mx;var fx=(0,H.A)(yx,rS,oS,!1,null,"a857b3ca",null);const gx=fx.exports;var bx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"switchAutomatorMode"},on:{confirm:e.toggleAutomatorMode},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Переключить редактирование программм для Автоматизатора на "+e._s(e.otherMode)+" режим ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Подтвердить ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Если у вас есть запущеннная программа, она будет остановлена! "),e.errorCount?i("div",[i("br"),e._v(" Ваша программа содержит ошибки, которые могут быть неправильно переведены в "+e._s(e.otherMode)+" режим. Если вы решите продолжить, Автоматизатор всё равно попытается интерпретировать их, хотя некоторая информация может быть утрачена или неправильно перведена. ")]):e._e(),e.lostBlocks?i("b",[i("br"),e._v(" Внимание: ваша программа содержит строки, которые не могут быть интерпретированы как команды. Они будут удалены, так как не существует блока, в который их можно было бы преобразовать. Если ошибка будет в начале цикла или условного оператора, вы можете потерять крупные части вашей программы! "),i("span",{staticClass:"l-lost-text"},[e._v(" Переключение режима редактирования прямо сейчас приведёт к необратимой потере "+e._s(e.quantifyInt("строки",e.lostBlocks))+" кода! ")])]):e._e(),i("br"),i("span",{staticClass:"l-lost-text"},[e._v(" Скрывать эту информацию не рекомендуется, так как это может привести к тому, что части программы будут немедленно и безвозвратно утрачены, если она содержала ошибки во время попытки переключения режима редактирования. ")]),i("br"),i("br"),e._v(" Вы уверены, что хотите переключиться на "+e._s(e.otherMode)+" режим редактирования? ")])])},vx=[];const Ex={name:"SwitchAutomatorEditorModal",components:{ModalWrapperChoice:Um},props:{callback:{type:Function,required:!1,default:()=>({})},lostBlocks:{type:Number,required:!1,default:0}},data(){return{errorCount:0,isCurrentlyBlocks:!1}},computed:{currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(e){this.$viewModel.tabs.reality.automator.editorScriptID=e}},otherMode(){return this.isCurrentlyBlocks?"тесктовый":"блочный"}},methods:{update(){this.errorCount=AutomatorData.currentErrors().length,this.isCurrentlyBlocks=player.reality.automator.type===AUTOMATOR_TYPE.BLOCK},toggleAutomatorMode(){var e;AutomatorBackend.changeModes(this.currentScriptID),null===(e=this.callback)||void 0===e||e.call(this)}}},Tx=Ex;var _x=(0,H.A)(Tx,bx,vx,!1,null,"d84290aa",null);const Cx=_x.exports;var Ax=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Внешние изменения ")]},proxy:!0},{key:"cancel-text",fn:function(){return[e._v(" Нет ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Да ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Мы заметили, что вы загрузили старое сохранение; со времени старых версий внешний вид игры претерпел несколько изменений: "),i("br"),i("br"),i("div",{staticClass:"c-visual-change-list"},e._l(e.listEntries,(function(t,a){return i("div",{key:a,staticClass:"c-visual-change-list-entry"},[i("b",[e._v("•")]),e._v(" "+e._s(t)+" ")])})),0),i("br"),i("br"),e._v(' Вы можете свободно переключаться между Классическим интерфейсом, который использовался в старых версиях игры, и новейшим Современным интерфейсом в отделе "Внешний вид" вкладки "Настройки". Хотели ли бы вы переключиться на Современный интерфейс прямо сейчас? ')])])},kx=[];const wx={name:"UiChoiceModal",components:{ModalWrapperChoice:Um},computed:{listEntries(){return['Больше игровых событий анимированы. Если это влияет на ваши производительность или геймплей, анимации могут быть\n        отключены в отделе "Внешний вид" вкладки "Настройки".','Новые окна подтверждения пришли на замену встроенным в Javascript окнам оповещения. Они могут быть отключены в\n        отделе "Геймплей" вкладки "Настройки".',"Игра теперь обладает более изящным оформлением, созданным по современным принципам дизайна."]}},methods:{handleYesClick(){GameOptions.toggleUI()}}},Sx=wx;var xx=(0,H.A)(Sx,Ax,kx,!1,null,"6621c83e",null);const Rx=xx.exports;var Ix=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{attrs:{option:"glyphUndo"},on:{confirm:e.handleYesClick},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Вы деактивируете глиф ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text c-text-wrapper"},[e._v(" Последний активированный глиф будет убран из своего слота в инвентарь. Реальность сбросится, но некоторые параметры будут выставлены на те значения, которые они имели при активации глифа: "),i("br"),i("div",{staticClass:"c-text-wrapper"},[i("br"),e._v("- Количества антиматерии, Очков Бесконечности и Очков Вечности "),i("br"),e._v("- Улучшения Замедления и количества Тахионов и Замедленного Времени "),i("br"),e._v("- Количество Теорем Времени и выполнения Испытаний Вечности "),i("br"),e._v("- Разблокировка Измерений Времени и реальности "),i("br"),e._v("- Время в текущей бесконечности/вечности/реальности "),e.showStoredGameTime?i("span",[i("br"),e._v("- Stored game time")]):e._e()]),i("br"),e._v(" Обратите внимание: если вы нарушили определённые требования (например, условие достижения совершить реальность, не производя антиматерию), они сохранят статус нарушенных при деактивации глифа. Вам придётся выполнить такие требования, не деактивируя глифы в текущей реальности. ")])])},Mx=[];const Dx={name:"UndoGlyphModal",components:{ModalWrapperChoice:Um},data(){return{showStoredGameTime:!1}},methods:{update(){this.showStoredGameTime=Enslaved.isUnlocked},realityInvalidate(){this.emitClose(),Modal.message.show("Деактивация глифов может быть произведена только на реальности!",{closeEvent:GAME_EVENT.REALITY_RESET_AFTER})},handleYesClick(){this.emitClose(),Glyphs.undo()}}},Px=Dx;var Ux=(0,H.A)(Px,Ix,Mx,!1,null,"2701ce52",null);const Gx=Ux.exports;var Nx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapperChoice",{on:{confirm:e.disableLock},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Проверка требования "+e._s(e.upgradeStr)+" ")]},proxy:!0},{key:"confirm-text",fn:function(){return[e._v(" Отключить проверку ")]},proxy:!0}])},[i("div",{staticClass:"c-modal-message__text"},[e._v(" Вы уверены, что хотите "+e._s(e.lockEvent)+"? Если вы сделаете это прямо сейчас, "),i("span",{staticClass:"l-emphasis"},[e._v(" вы нарушите требование "+e._s(e.upgradeStr)+' "'+e._s(e.upgrade.name)+'" ')]),i("span",{attrs:{"ach-tooltip":e.upgrade.requirement}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),i("br"),e._v(' Нажав "Отменить", вы закроете это окно без последствий, в то время как при выборе варианта "Отключить проверку" проверка требования этого Улучшения будет отключена, и это сообщение больше не всплывёт, если только вы не включите проверку вновь. '),i("br"),i("br"),e._v(" В любом случае действие, которое вы попытались совершить, не будет совершено, так что вам придётся попробовать совершить его снова. ")])])},Bx=[];const Ox={name:"UpgradeMechanicLockModal",components:{ModalWrapperChoice:Um},props:{upgrade:{type:Object,required:!0},isImaginary:{type:Boolean,required:!0},specialLockText:{type:String,required:!1,default:null}},computed:{upgradeStr(){return this.isImaginary?"Мнимого Улучшения":"Улучшения Реальности"},lockEvent(){var e;return null!==(e=this.specialLockText)&&void 0!==e?e:this.upgrade.lockEvent}},methods:{disableLock(){this.upgrade.setMechanicLock(!1)}}},Lx=Ox;var $x=(0,H.A)(Lx,Nx,Bx,!1,null,"66e332a6",null);const Hx=$x.exports;var Fx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ModalWrapper",{staticClass:"c-modal-s12-games"},[i("div",{staticClass:"c-modal__title"},[e._v(" Игры ")]),i("S12GameEntries"),i("div",{staticClass:"c-modal-s12-games__magnified-display"},[-1!==e.S12Games.selected?[i("img",{staticClass:"c-modal-s12-games__magnified-display__img",attrs:{src:"images/s12/"+e.S12Games.entries[e.S12Games.selected].image}}),i("b",{staticClass:"c-modal-s12-games__magnified-display__text"},[e._v(" "+e._s(e.S12Games.entries[e.S12Games.selected].name)+" ")])]:e._e()],2)],1)},qx=[],Vx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-s12-games-container"},e._l(e.S12Games.entries,(function(t,a){return i("div",{key:t.name,staticClass:"c-s12-game",class:{"c-s12-game--selected":e.S12Games.selected===a},on:{click:function(t){return e.handleClick(a)}}},[i("div",{staticClass:"c-s12-game__inner"},[i("img",{staticClass:"c-s12-game__img",attrs:{src:"images/s12/"+t.image}}),i("div",{staticClass:"c-s12-game__text"},[e._v(" "+e._s(t.name)+" ")])])])})),0)},Yx=[];const jx={entries:[{name:"FE000000",link:"https://dan-simon.github.io/misc/fe000000/",image:"game--hex-game.png"},{name:"Trimps",link:"https://trimps.github.io/",image:"game--trimps.png"},{name:"Mine Defense",link:"http://scholtek.com/minedefense",image:"game--mine-defense.png"},{name:"Wizard and Minion Idle",link:"https://www.kongregate.com/games/Oninou/wami",image:"game--wami.png"},{name:"Anti-Idle",link:"https://www.kongregate.com/games/Tukkun/anti-idle-the-game",image:"game--anti-idle.png"},{name:"Synergism",link:"https://synergism.cc/",image:"game--synergism.png"},{name:"Universal Paperclips",link:"https://www.decisionproblem.com/paperclips/",image:"game--universal-paperclips.png"},{name:"Monies 2",link:"https://sneekxy.nmtechgroup.com/monies2/",image:"game--monies2.png"},{name:"The First Alkahistorian",link:"https://nagshell.github.io/elemental-inception-incremental/",image:"game--alkahistorian.png"},{name:"Melvor Idle",link:"https://melvoridle.com/",image:"game--melvor-idle.svg"}],selected:-1};let Wx=!1;const Xx={name:"S12Games",data(){return{S12Games:jx}},mounted(){document.body.addEventListener("click",this.clearSelected)},beforeDestroy(){document.body.removeEventListener("click",this.clearSelected),this.clearSelected()},methods:{clearSelected(){Wx||(jx.selected=-1)},handleClick(e){jx.selected!==e?(jx.selected=e,Wx=!0,setTimeout((()=>Wx=!1),0)):window.open(jx.entries[e].link)}}},zx=Xx;var Kx=(0,H.A)(zx,Vx,Yx,!1,null,"25a74b90",null);const Qx=Kx.exports,Jx={name:"S12GamesModal",components:{ModalWrapper:Jg,S12GameEntries:Qx},data(){return{S12Games:jx}},methods:{update(){"S12"!==this.$viewModel.theme&&EventHub.dispatch(GAME_EVENT.CLOSE_MODAL)}}},Zx=Jx;var eR=(0,H.A)(Zx,Fx,qx,!1,null,"0f0b0043",null);const tR=eR.exports;let iR=0;class aR{constructor(e,t=0,i){this._component=e,this._modalConfig={},this._priority=t,this._closeEvent=i}applyCloseListeners(e){const t=[GAME_EVENT.DIMBOOST_AFTER,GAME_EVENT.GALAXY_RESET_AFTER,GAME_EVENT.BIG_CRUNCH_AFTER,GAME_EVENT.ETERNITY_RESET_AFTER,GAME_EVENT.REALITY_RESET_AFTER];let i=!1;for(const a of t)a===e&&(i=!0),i&&EventHub.ui.on(a,(()=>this.removeFromQueue()),this._component);i||EventHub.ui.on(e,(()=>this.removeFromQueue()),this._component)}show(e){if(!GameUI.initialized)return;this._uniqueID=iR++,this._props=Object.assign({},e||{}),this._closeEvent&&this.applyCloseListeners(this._closeEvent),null!==e&&void 0!==e&&e.closeEvent&&this.applyCloseListeners(e.closeEvent);const t=ui.view.modal.queue;t.unshift(this),aR.sortModalQueue()}get isOpen(){return ui.view.modal.current===this}get component(){return this._component}get props(){return this._props}get priority(){return this._priority}removeFromQueue(){EventHub.ui.offAll(this._component),ui.view.modal.queue=ui.view.modal.queue.filter((e=>e._uniqueID!==this._uniqueID)),0===ui.view.modal.queue.length?ui.view.modal.current=void 0:ui.view.modal.current=ui.view.modal.queue[0]}static sortModalQueue(){const e=ui.view.modal.queue;e.sort(((e,t)=>t.priority-e.priority));const t=[...new Set(e)];ui.view.modal.queue=t,ui.view.modal.current=t[0]}static hide(){GameUI.initialized&&(ui.view.modal.queue.shift(),0===ui.view.modal.queue.length?ui.view.modal.current=void 0:ui.view.modal.current=ui.view.modal.queue[0],ui.view.modal.cloudConflict=[])}static hideAll(){if(GameUI.initialized){while(ui.view.modal.queue.length)ui.view.modal.queue[0].hide?ui.view.modal.queue[0].hide():aR.hide();ui.view.modal.current=void 0}}static get isOpen(){return ui.view.modal.current instanceof this}}class nR extends aR{show(e){super.show({id:e})}}class sR extends aR{show(e){super.show({diff:e})}}function rR(e){var t,i,a,n,s,r,o,l,c,u,d,h,p,m,y,f,g,b,v,E,T;const _={realTimePlayed:0,totalAntimatter:new Decimal(0),infinities:new Decimal(0),eternities:new Decimal(0),realities:0,infinityPoints:new Decimal(0),eternityPoints:new Decimal(0),realityMachines:new Decimal(0),imaginaryMachines:0,dilatedTime:new Decimal(0),bestLevel:0,pelleAM:new Decimal(0),remnants:0,realityShards:new Decimal(0),pelleLore:0,saveName:"",compositeProgress:0};return _.realTimePlayed=null!==(t=null===(i=e.records)||void 0===i?void 0:i.realTimePlayed)&&void 0!==t?t:100*e.totalTimePlayed,_.totalAntimatter.copyFrom(new Decimal(null===(a=e.records)||void 0===a?void 0:a.totalAntimatter)),_.infinities.copyFrom(new Decimal(e.infinities)),_.eternities.copyFrom(new Decimal(e.eternities)),_.realities=null!==(n=e.realities)&&void 0!==n?n:0,_.infinityPoints.copyFrom(new Decimal(e.infinityPoints)),_.eternityPoints.copyFrom(new Decimal(e.eternityPoints)),_.realityMachines.copyFrom(new Decimal(null===(s=e.reality)||void 0===s?void 0:s.realityMachines)),_.imaginaryMachines=null!==(r=null===(o=e.reality)||void 0===o?void 0:o.iMCap)&&void 0!==r?r:0,_.dilatedTime.copyFrom(new Decimal(null!==(l=null===(c=e.records)||void 0===c?void 0:c.thisReality.maxDT)&&void 0!==l?l:null!==(u=null===(d=e.dilation)||void 0===d?void 0:d.dilatedTime)&&void 0!==u?u:0)),_.bestLevel=null!==(h=null===(p=e.records)||void 0===p?void 0:p.bestReality.glyphLevel)&&void 0!==h?h:0,_.pelleAM.copyFrom(new Decimal(null===(m=e.celestials)||void 0===m?void 0:m.pelle.records.totalAntimatter)),_.remnants=null!==(y=null===(f=e.celestials)||void 0===f?void 0:f.pelle.remnants)&&void 0!==y?y:0,_.realityShards.copyFrom(new Decimal(null===(g=e.celestials)||void 0===g?void 0:g.pelle.realityShards)),_.pelleLore=null!==(b=null===(v=e.celestials)||void 0===v?void 0:v.pelle.quoteBits)&&void 0!==b?b:0,_.saveName=null!==(E=null===(T=e.options)||void 0===T?void 0:T.saveFileName)&&void 0!==E?E:"",_.compositeProgress=Uh.getCompositeProgress(e),_}aR.startEternityChallenge=new nR(ly),aR.startInfinityChallenge=new nR(my),aR.startNormalChallenge=new nR(wy),aR.catchup=new sR(vC,-1),aR.dimensionBoost=new aR(af,1,GAME_EVENT.DIMBOOST_AFTER),aR.antimatterGalaxy=new aR(Dy,1,GAME_EVENT.GALAXY_RESET_AFTER),aR.bigCrunch=new aR(Ky,1,GAME_EVENT.BIG_CRUNCH_AFTER),aR.exitChallenge=new aR(Uf,1,GAME_EVENT.REALITY_RESET_AFTER),aR.replicantiGalaxy=new aR(Ag,1,GAME_EVENT.ETERNITY_RESET_AFTER),aR.eternity=new aR(xf,1,GAME_EVENT.ETERNITY_RESET_AFTER),aR.enterDilation=new aR(_f,1,GAME_EVENT.REALITY_RESET_AFTER),aR.exitDilation=new aR($f,1,GAME_EVENT.REALITY_RESET_AFTER),aR.reality=new aR(bg,1,GAME_EVENT.REALITY_RESET_AFTER),aR.resetReality=new aR(Ig,1,GAME_EVENT.REALITY_RESET_AFTER),aR.celestials=new aR(yf,1),aR.hardReset=new aR(jf,1),aR.backupWindows=new aR(qb,1),aR.enterSpeedrun=new aR(Yw),aR.modifySeed=new aR(Qk),aR.changeName=new aR(MC),aR.armageddon=new aR(Oy,1),aR.confirmationOptions=new aR(tv),aR.infoDisplayOptions=new aR(pE),aR.awayProgressOptions=new aR(Mb),aR.glyphDisplayOptions=new aR(Bv),aR.cosmeticSetChoice=new aR(pv),aR.singleGlyphAppearance=new aR(BE),aR.hotkeys=new aR(oE),aR.newsOptions=new aR(vE),aR.animationOptions=new aR(vb),aR.hiddenTabs=new aR(tE),aR.preferredTree=new aR(ME),aR.notation=new aR(kE),aR.upgradeLock=new aR(Hx,1),aR.deleteCompanion=new aR(qE,1),aR.glyphDelete=new aR(zE,1,GAME_EVENT.GLYPHS_CHANGED),aR.glyphPurge=new aR(pT,1,GAME_EVENT.GLYPHS_CHANGED),aR.glyphSacrifice=new aR(kT,1,GAME_EVENT.GLYPHS_CHANGED),aR.glyphRefine=new aR(vT,1,GAME_EVENT.GLYPHS_CHANGED),aR.deleteAllUnprotectedGlyphs=new aR(oT,1,GAME_EVENT.GLYPHS_CHANGED),aR.deleteAllRejectedGlyphs=new aR(tT,1,GAME_EVENT.GLYPHS_CHANGED),aR.glyphShowcasePanel=new aR(OA),aR.glyphUndo=new aR(Gx,1,GAME_EVENT.REALITY_RESET_AFTER),aR.glyphReplace=new aR(yw,1,GAME_EVENT.REALITY_RESET_AFTER),aR.enslavedHints=new aR(oA),aR.realityGlyph=new aR(cw),aR.glyphSetSaveDelete=new aR(wA),aR.uiChoice=new aR(Rx),aR.h2p=new aR(VA),aR.information=new aR(Pk),aR.credits=new aR(zC,1),aR.changelog=new aR(kC,1),aR.awayProgress=new aR(z_),aR.loadGame=new aR(Yk),aR.import=new aR(yk),aR.importFilter=new aR(lk),aR.importScriptData=new aR(KA),aR.automatorScriptDelete=new aR(tA),aR.automatorScriptTemplate=new aR(B_),aR.switchAutomatorEditorMode=new aR(Cx),aR.clearAutomatorConstants=new aR(BC),aR.importTSConstants=new aR(Tk),aR.autobuyerEditModal=new aR(M_),aR.shop=new aR(sS),aR.studyString=new aR(gx),aR.singularityMilestones=new aR(Lw),aR.pelleEffects=new aR(aw),aR.sacrifice=new aR(Sw,1,GAME_EVENT.DIMBOOST_AFTER),aR.breakInfinity=new aR(tC,1,GAME_EVENT.ETERNITY_RESET_AFTER),aR.respecIAP=new aR(Tw),aR.s12Games=new aR(tR),aR.cloudSaveConflict=new aR(iy),aR.cloudLoadConflict=new aR(Km),aR.cloudInvalidData=new aR(Om),aR.addCloudConflict=function(e,t,i,a,n){aR.hide(),ui.view.modal.cloudConflict={saveId:e,saveComparison:t,cloud:rR(i),local:rR(a),onAccept:n}},aR.addImportConflict=function(e,t){aR.hide(),ui.view.modal.cloudConflict={importingSave:rR(e),currentSave:rR(t)}},aR.message=new class extends aR{show(e,t={},i=0){var a;if(GameUI.initialized){if(void 0===this.currPriority)this.currPriority=i;else if(i<this.currPriority)return;super.show(),this.message=e,this.callback=t.callback,this.closeButton=null!==(a=t.closeButton)&&void 0!==a&&a,EventHub.ui.offAll(this._component),t.closeEvent&&this.applyCloseListeners(t.closeEvent)}}hide(){EventHub.ui.offAll(this._component),this.currPriority=void 0,aR.hide()}}(Ey,2);const oR=function(e,t){this.name=e,this.isDark=function(){return this.isDefault()||"S12"===e?player.options.newUI:t.isDark},this.isMetro=t.isMetro,this.isAnimated=t.isAnimated,this.isSecret=t.isSecret,this.isDefault=function(){return"Normal"===e},this.isAvailable=function(){return!this.isSecret||player.secretUnlocks.themes.some((t=>t.match(/^S[0-9]*/u)[0]===e))},this.displayName=function(){if("Normal"===e)return"Обычная";if("Metro"===e)return"Metro";if(this.isSecret)return player.secretUnlocks.themes.find((t=>t.match(/^S[0-9]*/u)[0]===e)).replace(/^S[0-9]*/u,"");let t="AMOLED";return e.includes("Dark")&&(t="Тёмная"),e.includes("Inverted")&&(t="Инвертированная"),t+(this.isMetro?" Metro":"")},this.set=function(){document.body.classList.remove(...document.body.classList),document.body.classList.add(this.cssClass()),this.isMetro&&document.body.classList.add("s-base--metro"),this.isDark()&&document.body.classList.add("s-base--dark"),this.isAnimated&&player.options.animations.background?document.getElementById("background-animations").style.display="block":document.getElementById("background-animations").style.display="none",player.options.newUI?player.options.themeModern=e:player.options.themeClassic=e,ui.view.theme=e,window.getSelection().removeAllRanges(),PerkNetwork.forceNetworkRemake()},this.cssClass=function(){return`t-${this.name.replace(/\s+/gu,"-").toLowerCase()}`}};oR.currentName=function(){return player.options.newUI?player.options.themeModern:player.options.themeClassic},oR.current=function(){return lR.find(oR.currentName())},oR.set=function(e){const t=lR.find(e);return t.set(),t},oR.secretThemeIndex=function(e){const t=["4f066c1cb27b28de75a481b8ff3f98a598dc51fc11c6c126ef653015b534c18c","579c69037ca17bae3e1f5ca3aafdea6145d88bd5383706ab5dc698d2d34720fe","0c20adbb7a6a19b0fd8e16e9acd5245e530091ae783cacda39989bb49a7dc77d","c61c7de996b91890ccbd3f67faa249552b1ac9ca521776012601399581945d69","bf9a8c2cf8370c921f956f344a16c5f344f80c996f3d76c1d5541f5cbefe9df3","e05d479cac006d29519df025787f3e4ff3e1033d2ced1d86a50406a4f9ef1e5d","41a8a050ae49d0ff25fc972c09fa3fb08457c38c507f7ed29733128cafc3dcb3","b0721af6a16b363d8b20587946271d30322a860c59ec31bf1d0b15cdc89765f1","3b157f2041433d2b6f18cc4c39da9c95f57f66dcfc62fa98bfcd7a723ed53c7d","fdc68ae204e64efd5dd84df25bfa877e3a8b540a906e74dfbee3500085eacbc4","570439b58f4c4415c859b80f215016f01c8349413c65e007c115f64f85d2de59","1248689171faaa0abb68279199a8d2eb232dba10d2dacb79a705f680b6862c0e"],i=(0,kh.sha512_256)(e.toUpperCase());return t.indexOf(i)},oR.isSecretTheme=function(e){return-1!==oR.secretThemeIndex(e)},oR.animatedThemeUnlocked=function(){return lR.all.some((e=>e.isAvailable&&e.isAnimated))},oR.tryUnlock=function(e){const t=oR.secretThemeIndex(e);if(-1===t)return!1;const i=`S${t+1}`,a=e[0].toUpperCase()+e.slice(1).toLowerCase(),n=i+a,s=player.secretUnlocks.themes.has(n);return player.secretUnlocks.themes.add(n),oR.set(i),SecretAchievement(25).unlock(),s||(GameUI.notify.success(`Вы разблокировали тему "${a}"!`,5e3),oR.current().isAnimated&&setTimeout(Modal.message.show('На этой секретной теме есть анимации.\n        Вы можете отключить их в отделе "Внешний вид" этой вкладки.'),100)),!0},oR.create=function(e,t){const i={isDark:t.dark,isMetro:t.metro,isAnimated:t.animated,isSecret:t.secret};return new oR(e,i)};const lR={all:[oR.create("Normal",{}),oR.create("Metro",{metro:!0}),oR.create("Dark",{dark:!0}),oR.create("Dark Metro",{dark:!0,metro:!0}),oR.create("Inverted",{}),oR.create("Inverted Metro",{metro:!0}),oR.create("AMOLED",{dark:!0}),oR.create("AMOLED Metro",{dark:!0,metro:!0}),oR.create("S1",{animated:!0,secret:!0}),oR.create("S2",{secret:!0}),oR.create("S3",{secret:!0}),oR.create("S4",{secret:!0}),oR.create("S5",{secret:!0}),oR.create("S6",{dark:!0,animated:!0,secret:!0}),oR.create("S7",{metro:!0,secret:!0}),oR.create("S8",{metro:!0,secret:!0}),oR.create("S9",{secret:!0}),oR.create("S10",{dark:!0,metro:!0,animated:!0,secret:!0}),oR.create("S11",{dark:!0,animated:!0,secret:!0}),oR.create("S12",{secret:!0})],available(){return lR.all.filter((e=>e.isAvailable()))},find(e){return lR.all.find((t=>t.name===e))}};class cR{static toggleNews(){player.options.news.enabled=!player.options.news.enabled,ui.view.news=player.options.news.enabled,GameStorage.save()}static toggleUI(){player.options.newUI=!player.options.newUI,ui.view.newUI=player.options.newUI,Themes.find(Theme.currentName()).set(),Nl.updateZoom(),GameStorage.save()}static toggleGender(){player.options.genderMale=!player.options.genderMale}static cloudSave(){Cloud.saveCheck(!0)}static cloudLoad(){Cloud.loadCheck()}static login(){Cloud.login()}static logout(){Cloud.logout()}static refreshUpdateRate(){200===player.options.updateRate&&SecretAchievement(31).unlock(),GameIntervals.gameLoop.restart()}static refreshAutosaveInterval(){GameIntervals.save.restart()}}const uR=["3915e64b0b8f4ff898f3a31670b9734cd49d670d584fc28546b58a0daf9d3a7f","857876556a230da15fe1bb6f410ca8dbc9274de47c1a847c2281a7103dd2c274","2190c29d4ef3169895fd9e179d976d0ddf05882ef234abbbb7e4cae858360444","1f270cad586bdf792a5b0059fd0c3f166cc588e47ff211e3059ab5f4aebd6f37"];function dR(e){const t=(0,kh.sha512_256)(e.replace(/\s/gu,"").toUpperCase());return uR.indexOf(t)}function hR(e){return-1!==dR(e)}function pR(e){const t=dR(e);switch(t){case 0:return bf.display("a-barrel-roll",5),SecretAchievement(15).unlock(),!0;case 1:return SecretAchievement(14).unlock(),!0;case 2:return SecretAchievement(37).unlock(),!0;case 3:return player.records.fullGameCompletions>0||y?Speedrun.unlock():GameUI.notify.error("Сначала завершите игру!",15e3),!0;default:return!1}}var mR=i(7362),yR=i(7073);class fR{static initializeVars(){fR._wasLongPress=!1,fR._pressTimer=null,fR._currentCancelHandler=null,fR._currentTarget=null,fR._pressCount=0}static addTo(e,t,i){if(!Object.prototype.hasOwnProperty.call(i,"longPress"))throw"Need to specify a longPress handler";const a=e=>fR._pressBegin(t,i.longPress,i.cancel,i.repeat,e);e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),e.addEventListener("mouseout",fR._cancelCurrentPress),e.addEventListener("touchcancel",fR._cancelCurrentPress),e.addEventListener("touchmove",(t=>{t.preventDefault();const i=t.changedTouches[0];e!==document.elementFromPoint(i.pageX,i.pageY)&&fR._cancelCurrentPress()})),i.click?(e.addEventListener("click",(e=>fR._handleClick(e,i.click))),e.addEventListener("touchend",(e=>fR._handleTouchEnd(e,i.click)))):(e.addEventListener("click",fR._cancelCurrentPress),e.addEventListener("touchend",fR._cancelCurrentPress))}static _cancelCurrentPress(e){fR._currentCancelHandler&&(fR._currentCancelHandler(e),fR._currentCancelHandler=null),null!==fR._pressTimer&&(clearTimeout(fR._pressTimer),fR._pressTimer=null),fR._wasLongPress=!1,fR._currentTarget=null}static _pressBegin(e,t,i,a,n){fR._cancelCurrentPress(n),"click"===n.type&&0!==n.button||(++fR._pressCount,fR._currentCancelHandler=i,fR._wasLongPress=!1,fR._currentTarget=n.target,n.target.focus(),fR._pressTimer=setTimeout((()=>{fR._wasLongPress=!0,t(n),a?fR._beginRepeat(a,t,n):(fR._pressTimer=null,fR._currentCancelHandler=null)}),e))}static _beginRepeat(e,t,i){fR._pressTimer=setTimeout((()=>{t(i),fR._beginRepeat(e,t,i)}),e)}static _handleClick(e,t){const i=fR._wasLongPress;return 0!==e.button?t(e):(fR._cancelCurrentPress(e),!i&&t(e))}static _handleTouchEnd(e,t){const i=fR._currentTarget,a=fR._wasLongPress;return fR._cancelCurrentPress(e),!a&&i===e.target&&t(e)}}function gR(e){e.directive("long-press",{bind(e,t,i){const a=(e,t)=>{const a=i.data&&i.data.on;a&&a[e]&&a[e].fns(t)};fR.addTo(e,t.value.delay,{longPress:()=>a("longpress"),cancel:()=>a("longpresscancel"),click:()=>a("longpressclick")})}})}function bR(e){e.directive("repeating-click",{bind(e,t,i){const a=(e,t)=>{const a=i.data&&i.data.on;a&&a[e]&&a[e].fns(t)};fR.addTo(e,t.value.delay,{longPress:()=>a("repeatclick"),click:()=>a("firstclick"),repeat:250})}})}fR.initializeVars();const vR=function(){const e=document.createElement("div");e.classList.add("o-notification");const t="a-notification--enter",i="a-notification--leave";function a(n,s,r=2e3){if(!GameUI.initialized)return void setTimeout(a,500,n,s,r);const o=e.cloneNode();o.textContent=n,o.classList.add(s,t);const l=document.getElementById("notification-container");l.appendChild(o);let c=!1;function u(){c||(c=!0,o.classList.remove(t))}setTimeout((()=>u()),500);let d=!1;function h(){d||(d=!0,u(),o.classList.add(i),setTimeout((()=>o.remove()),500))}setTimeout((()=>h()),r),o.onclick=()=>h()}return{success:(e,t)=>a(e,"o-notification--success",t),error:(e,t)=>a(e,"o-notification--error",t),info:(e,t)=>a(e,"o-notification--info",t),infinity:(e,t)=>a(e,"o-notification--infinity",t),eternity:(e,t)=>a(e,"o-notification--eternity",t),reality:(e,t)=>a(e,"o-notification--reality",t),automator:(e,t)=>a(e,"o-notification--automator",t),blackHole:(e,t)=>a(e,"o-notification--black-hole",t),strike:(e,t)=>a(e,"o-notification--strike",t),showBlackHoles:!0}}(),ER={view:{modal:{queue:[],current:void 0,cloudConflict:[],progressBar:void 0},quotes:{queue:[],current:void 0,history:void 0},tabs:{reality:{openGlyphWeights:!1,currentGlyphTooltip:-1,glyphTooltipDirection:1,draggingGlyphInfo:{id:0,type:"",sacrificeValue:0},mouseoverGlyphInfo:{id:0,type:"",sacrificeValue:0,refineValue:0,inInventory:!1},automator:{fullScreen:!1,editorScriptID:"",lines:[]}}},shiftDown:!1,theme:"Normal",bigCrunch:!1,scrollWindow:0,draggingUIID:-1,currentContextMenu:null,tab:"dimensions",subtab:"antimatter",newUI:!1,news:!1,initialized:!1,tutorialState:0,tutorialActive:!0,h2pForcedTab:void 0},notationName:"",formatPreBreak:!1,lastClickTime:0};var TR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.view.initialized?i("div",{staticClass:"ui-wrapper",class:e.containerClass,attrs:{id:"ui-container"}},[i("div",{staticClass:"c-game-ui",attrs:{id:"ui"}},[i(e.uiLayout,{tag:"component"},[i(e.page,{tag:"component",staticClass:"c-game-tab"})],1),e.isThemeS12?i("S12DesktopIcons"):e._e(),"Normal"!==e.view.theme?i("link",{attrs:{type:"text/css",rel:"stylesheet",href:e.themeCss}}):e._e()],1),e.isThemeS12?e._e():i("GameUiComponentFixed"),e.isThemeS12?e._e():i("BackgroundAnimations"),e.isThemeS12?i("S12UiFixed"):e._e()],1):e._e()},_R=[],CR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-background-animations",attrs:{id:"ui-background-animations"}},[e.blob?i("BlobSnowflakes"):e._e(),e.animateTachyons?i("TachyonParticles"):e._e()],1)},AR=[],kR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.initialized?i("div",[e.animateBackground?i("svg",{staticClass:"c-blob-snowflake-container"},e._l(e.count,(function(t){return i("BlobSnowflake",{key:t,attrs:{bounds:e.bounds}})})),1):i("svg",{staticClass:"c-blob-background-container"},e._l(e.count,(function(t){return i("BlobBackground",{key:t,attrs:{bounds:e.bounds}})})),1)]):e._e()},wR=[],SR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("text",{staticClass:"o-blob-background"})},xR=[];const RR={name:"BlobBackground",props:{bounds:{type:Object,required:!0}},mounted(){this.drop()},methods:{drop(){const e=60,t=5+8*Math.random(),i=this.bounds,a={x:Math.random()*(i.x-e),y:e+Math.random()*(i.y-e)};function n(){const e=23,t="",i=t.codePointAt(0)||65,a=[];for(let n=0;n<e;n++)a.push(String.fromCharCode(i+n));return a[Math.floor(Math.random()*a.length)]}this.$el.textContent=n(),this.$el.setAttribute("x",a.x),this.$el.setAttribute("y",a.y),this.$el.setAttribute("font-size",`${t}em`)}}},IR=RR;var MR=(0,H.A)(IR,SR,xR,!1,null,"3413da3e",null);const DR=MR.exports;var PR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("text",{staticClass:"o-blob-snowflake"})},UR=[],GR=i(1591),NR=i.n(GR);const BR={name:"BlobSnowflake",props:{bounds:{type:Object,required:!0}},mounted(){this.fly()},beforeDestroy(){for(const e of this.tweens)NR().remove(e)},methods:{fly(){const e=120,t=50+50*Math.random(),i=160+60*Math.random(),a=1e3+1e4*Math.random(),n=3e3+1e3*Math.random(),s=2+3*Math.random(),r=this.bounds,o={x:-300,y:-150},l=-150,c=r.y+150,u=Math.random()-.5,d=new(NR().Tween)(o).to({x:`${u<0?"-":"+"}${t}`},n).easing(NR().Easing.Sinusoidal.InOut),h=new(NR().Tween)(o).to({x:`${u<0?"+":"-"}${t}`},n).easing(NR().Easing.Sinusoidal.InOut),p=new(NR().Tween)(o).to({y:`+${i}`},n).easing(NR().Easing.Linear.None).onUpdate((()=>{this.$el.setAttribute("x",o.x),this.$el.setAttribute("y",o.y),o.y>c&&(d.chain(m),h.chain(m),p.chain(y))})),m=new(NR().Tween)(o).to({x:e+Math.random()*(r.x-2*e)},0).chain(d).easing(NR().Easing.Linear.None),y=new(NR().Tween)(o).to({y:l},0).easing(NR().Easing.Linear.None).chain(p).onUpdate((()=>{this.$el.textContent=f(),this.$el.setAttribute("x",o.x),this.$el.setAttribute("y",o.y),this.$el.setAttribute("font-size",`${s}em`),d.chain(h),h.chain(d),p.chain(p)}));function f(){const e=23,t="",i=t.codePointAt(0)||65,a=[];for(let n=0;n<e;n++)a.push(String.fromCharCode(i+n));return Math.random()<GameEnd.endState**2?"":a[Math.floor(Math.random()*a.length)]}m.start(a),y.start(a),this.tweens=[d,h,p,m,y]}}},OR=BR;var LR=(0,H.A)(OR,PR,UR,!1,null,"67871b93",null);const $R=LR.exports,HR={name:"BlobSnowflakes",components:{BlobSnowflake:$R,BlobBackground:DR},data(){return{animateBackground:!1,count:0,initialized:!1,bounds:{x:0,y:0}}},mounted(){this.updateSize(),window.addEventListener("resize",this.updateSize),this.initialized=!0},destroyed(){window.removeEventListener("resize",this.updateSize)},methods:{update(){this.animateBackground=player.options.animations.background,this.count=player.options.animations.blobSnowflakes},updateSize(){this.bounds.x=document.documentElement.clientWidth,this.bounds.y=document.documentElement.clientHeight}}},FR=HR;var qR=(0,H.A)(FR,kR,wR,!1,null,"2549fa62",null);const VR=qR.exports;var YR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.initialized?i("svg",{staticClass:"c-tachyon-particle-container"},e._l(e.count,(function(t){return i("TachyonParticle",{key:t,attrs:{bounds:e.bounds,"is-blob":e.isBlob}})})),1):e._e()},jR=[],WR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isBlob?i("text",{staticClass:"o-tachyon-particle"},[e._v(" "+e._s(e.blob)+" ")]):i("circle",{staticClass:"o-tachyon-particle",attrs:{r:"2"}})},XR=[];const zR={name:"TachyonParticle",props:{bounds:{type:Object,required:!0},isBlob:{type:Boolean,required:!0}},data(){return{blob:""}},mounted(){const e="";this.blob=e[Math.floor(Math.random()*e.length)],this.fly()},beforeDestroy(){NR().remove(this.tween)},methods:{fly(){const e=this.bounds,t={x:Math.random()*e.x,y:Math.random()*e.y},i=d(),a=this.isBlob?.5:0,n=1-a,s=1.5-a,r=n+Math.random()*(s-n),o=h(t,i,{x:0,y:0},e),l={x:t.x+i.x*o,y:t.y+i.y*o},c=Math.max(o/r,1),u=t;function d(){const e=2*Math.random()*Math.PI;return{x:Math.cos(e),y:Math.sin(e)}}function h(e,t,i,a){const n={x:1/t.x,y:1/t.y},s=(i.x-e.x)*n.x,r=(a.x-e.x)*n.x,o=(i.y-e.y)*n.y,l=(a.y-e.y)*n.y;return Math.min(Math.max(s,r),Math.max(o,l))}this.tween=new(NR().Tween)(u).to(l,c).onUpdate((()=>{this.$el.setAttribute(this.isBlob?"x":"cx",u.x),this.$el.setAttribute(this.isBlob?"y":"cy",u.y)})).easing(NR().Easing.Linear.None).onComplete(this.fly.bind(this)).start(tweenTime)}}},KR=zR;var QR=(0,H.A)(KR,WR,XR,!1,null,"374b7fbb",null);const JR=QR.exports,ZR={name:"TachyonParticles",components:{TachyonParticle:JR},data(){return{count:0,initialized:!1,bounds:{x:0,y:0},isBlob:!1}},mounted(){this.$nextTick(this.updateSize),window.addEventListener("resize",this.updateSize),this.initialized=!0},destroyed(){window.removeEventListener("resize",this.updateSize)},methods:{update(){this.count=Currency.tachyonParticles.gte(1)?Math.clampMin(Math.floor(20*Math.log10(Currency.tachyonParticles.exponent)),1):0,this.isBlob="S11"===Theme.currentName()},updateSize(){this.bounds.x=this.$el.clientWidth,this.bounds.y=this.$el.clientHeight}}},eI=ZR;var tI=(0,H.A)(eI,YR,jR,!1,null,"d31a6422",null);const iI=tI.exports,aI={name:"BackgroundAnimations",components:{BlobSnowflakes:VR,TachyonParticles:iI},data(){return{blob:!1,animateTachyons:!1}},methods:{update(){this.blob="S11"===Theme.currentName(),this.animateTachyons=player.options.animations.tachyonParticles&&"Замедление Времени"===Tabs.current[this.$viewModel.subtab].name}}},nI=aI;var sI=(0,H.A)(nI,CR,AR,!1,null,"d8935fe2",null);const rI=sI.exports;var oI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{key:e.newGameKey,staticClass:"container c-old-ui l-old-ui",attrs:{id:"container"}},[i("link",{attrs:{rel:"stylesheet",type:"text/css",href:"stylesheets/old-ui.css"}}),i("BigCrunchButton"),e.bigCrunch?e._e():[e.news?i("NewsTicker",{staticClass:"l-old-ui__news-bar"}):e._e(),i("GameHeader",{staticClass:"l-old-ui__header"}),i("ClassicTabBar"),e.tab.config.before?i(e.tab.config.before,{tag:"component"}):e._e(),i("ClassicSubtabBar"),i("div",{staticClass:"l-old-ui__page"},[e._t("default")],2)]],2)},lI=[],cI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.shouldDisplay?i("span",[e.isModern?i("div",[e.smallCrunch?e._e():i("h3",{staticClass:"l-spacing"},[e._v(" Мир разрушился от переизбытка антиматерии. ")]),i("button",{class:{"btn-big-crunch":!0,"btn-big-crunch--small":e.smallCrunch},on:{click:e.handleClick}},[e._v(" Большое Сжатие ")])]):i("div",[i("button",{class:{"o-tab-btn":!0,"o-big-crunch-btn":!0,"l-old-ui__big-crunch-btn":!0,"l-old-ui__big-crunch-btn--overlay":e.smallCrunch},on:{click:e.handleClick}},[e._v(" Большое Сжатие ")]),e.smallCrunch?e._e():i("div",{staticClass:"o-emptiness"},[e._v(" Мир разрушился от переизбытка антиматерии. ")])])]):e._e()},uI=[];const dI={name:"BigCrunchButton",data(){return{isModern:!1,smallCrunch:!1,shouldDisplay:!1}},methods:{update(){this.shouldDisplay=!player.break&&Player.canCrunch,this.shouldDisplay&&(this.isModern=player.options.newUI,this.smallCrunch=Time.bestInfinityRealTime.totalMinutes<=1)},handleClick(){PlayerProgress.infinityUnlocked()?bigCrunchResetRequest():Modal.bigCrunch.show()}}},hI=dI;var pI=(0,H.A)(hI,cI,uI,!1,null,"220fe6f8",null);const mI=pI.exports;var yI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("HeaderChallengeDisplay"),i("HeaderChallengeEffects"),i("HeaderPrestigeGroup"),e.hasReality?i("GameSpeedDisplay"):e._e(),e.hasReality?i("br"):e._e(),i("HeaderBlackHole")],1)},fI=[],gI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.canModifyBlackHoles?i("span",{staticClass:"c-black-hole-header"},[i("PrimaryButton",{staticClass:"o-primary-btn--buy-max c-primary-btn--black-hole-header",attrs:{onclick:"BlackHoles.togglePause()"}},[e._v(" "+e._s(e.pauseText)+" ")]),e.canCharge?i("span",[i("PrimaryButton",{class:e.chargingClassObject(),attrs:{onclick:"Enslaved.toggleStoreBlackHole()"}},[e.isCharging?i("span",[e._v(" Прекратить зарядку ЧД ")]):i("span",[e._v(" Зарядить ЧД ")])])],1):e._e(),e.displaySingle?i("span",{staticClass:"c-black-hole-status-text",domProps:{innerHTML:e._s("🌀:"+e.singleState)}}):i("span",e._l(e.blackHoles,(function(e,t){return i("HeaderBlackHoleStatusText",{key:"state"+t,attrs:{"black-hole":e}})})),1),e.canCharge?i("span",[i("PrimaryButton",{staticClass:"o-discharge-btn c-primary-btn--black-hole-header",class:{"o-small-discharge-text":e.hasLongText},attrs:{onclick:"Enslaved.useStoredTime(false)"}},[e._v(" "+e._s(e.dischargeText)+" ")])],1):e._e(),e.canAutoRelease?i("span",[i("PrimaryToggleButton",{staticClass:"o-primary-btn--buy-max c-primary-btn--black-hole-header",attrs:{label:"Пульсирование:"},model:{value:e.isAutoReleasing,callback:function(t){e.isAutoReleasing=t},expression:"isAutoReleasing"}})],1):e._e()],1):e._e()},bI=[],vI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("span",[e._v(" 🌀"+e._s(e.id)+":"),i("span",{domProps:{innerHTML:e._s(e.state)}})]):e._e()},EI=[];const TI={name:"HeaderBlackHoleStatusText",props:{blackHole:{type:Object,required:!0}},data(){return{isUnlocked:!1,state:""}},computed:{id(){return this.blackHole.id}},methods:{update(){this.isUnlocked=this.blackHole.isUnlocked,this.state=this.blackHole.displayState}}},_I=TI;var CI=(0,H.A)(_I,vI,EI,!1,null,"0cc13ba1",null);const AI=CI.exports,kI={name:"HeaderBlackHole",components:{PrimaryButton:Fs,PrimaryToggleButton:$g,HeaderBlackHoleStatusText:AI},data(){return{canModifyBlackHoles:!1,displaySingle:!1,singleState:"",pauseText:"",canCharge:!1,isCharging:!1,storedTime:0,canAutoRelease:!1,isAutoReleasing:!1}},computed:{blackHoles:()=>BlackHoles.list,id(){return this.blackHole.id},dischargeText(){return`Разрядить ЧД: ${timeDisplayShort(this.storedTime)}`},hasLongText(){return this.dischargeText.length>15}},watch:{isAutoReleasing(e){player.celestials.enslaved.isAutoReleasing=e}},methods:{update(){this.canModifyBlackHoles=BlackHoles.areUnlocked&&!Laitela.isRunning,this.displaySingle=BlackHoles.arePermanent,this.displaySingle&&(this.singleState=BlackHole(1).displayState),this.pauseText=this.pauseButtonText(),this.canCharge=Enslaved.isUnlocked,this.isCharging=Enslaved.isStoringGameTime,this.storedTime=player.celestials.enslaved.stored,this.canAutoRelease=Ra.unlocks.autoPulseTime.canBeApplied,this.isAutoReleasing=player.celestials.enslaved.isAutoReleasing},pauseButtonText(){if(BlackHoles.arePaused&&player.blackHoleNegative<1)return"Отменить инверсию ЧД";if(BlackHoles.arePaused)return"Возобновить цикл ЧД";const e=BlackHoles.unpauseAccelerationFactor;return 1!==e?`${formatPercents(e,1)} эффективности`:player.blackHoleNegative<1?"Инвертировать ЧД":"Приостановить ЧД"},timeDisplayShort(e){return timeDisplayShort(e)},chargingClassObject(){return{"o-primary-btn--buy-max c-primary-btn--black-hole-header":!0,"o-bh-charge-disabled":this.isAutoReleasing}}}},wI=kI;var SI=(0,H.A)(wI,gI,bI,!1,null,"3e52e548",null);const xI=SI.exports;var RI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{staticClass:"l-game-header__challenge-text"},[i("span",{class:e.textClassObject(),on:{click:e.textClicked}},[e._v(" Вы "+e._s(e.challengeDisplay)+". ")]),e.isInFailableEC?i("FailableEcText"):e._e(),i("span",{staticClass:"l-padding-line"}),e.showExit?i("PrimaryButton",{on:{click:e.exitButtonClicked}},[e._v(" "+e._s(e.exitText)+" ")]):e._e()],1):e._e()},II=[],MI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(" - "),i("span",{style:e.textStyle},[e._v(e._s(e.text))])])},DI=[];const PI={name:"FailableEcText",data(){return{currentResource:new Decimal(0),maximumResource:new Decimal(0),currentEternityChallengeId:0}},computed:{textStyle(){if(this.maximumResource.eq(0))return{};const e=this.currentResource.div(this.maximumResource).toNumber(),t=Theme.current().isDark()&&"S6"!==Theme.current().name,i=t?2:1.5,a=[Math.round(255*Math.min(i*e,1)),Math.round(255*Math.min(i*(1-e),1)*(t?1:.7)),0];return{color:`rgb(${a.join(",")})`}},text(){return 4===this.currentEternityChallengeId?`${formatInt(this.currentResource)} / ${formatInt(this.maximumResource)} бесконечностей`:`${TimeSpan.fromSeconds(this.currentResource.toNumber()).toString()} /\n        ${TimeSpan.fromSeconds(this.maximumResource.toNumber()).toString("genitive")}`}},methods:{update(){EternityChallenge.current&&[4,12].includes(EternityChallenge.current.id)&&(this.currentEternityChallengeId=EternityChallenge.current.id,4===this.currentEternityChallengeId?this.currentResource.copyFrom(Currency.infinities):this.currentResource=new Decimal(Time.thisEternity.totalSeconds),this.maximumResource=new Decimal(EternityChallenge.current.config.restriction(EternityChallenge.current.completions)))}}},UI=PI;var GI=(0,H.A)(UI,MI,DI,!1,null,"1b1fb308",null);const NI=GI.exports,BI={name:"HeaderChallengeDisplay",components:{FailableEcText:NI,PrimaryButton:Fs},data(){return{activityTokens:[],infinityUnlocked:!1,showExit:!1,exitText:"",resetCelestial:!1,inPelle:!1}},computed:{parts(){function e(e,t,i){return{name:()=>`в Реальности ${t}`,isActive:e=>e,activityToken:()=>e.isRunning,tabName:()=>i}}return[{name:e=>`${this.numberText(e)} Обычном Испытании`,isActive:e=>e>0,activityToken:()=>player.challenge.normal.current},{name:e=>`${this.numberText(e)} Испытании Бесконечности`,isActive:e=>e>0,activityToken:()=>player.challenge.infinity.current},{name:e=>`${this.numberText(e)} Испытании Вечности`,isActive:e=>e>0,activityToken:()=>player.challenge.eternity.current},{name:()=>"в Замедлении Времени",isActive:e=>e,activityToken:()=>player.dilation.active},e(Teresa,"Терезы","teresa"),e(Effarig,"Эффарига","effarig"),e(Enslaved,"Безымянных","enslaved"),e(V,"Ви","v"),e(Ra,"Ра","ra"),e(Laitela,"Лайтелы","laitela"),{name:()=>"в Обречённой Реальности. Удачи",isActive:e=>e,activityToken:()=>this.inPelle}]},activeChallengeNames(){const e=[];for(let t=0;t<this.activityTokens.length;t++){const i=this.activityTokens[t],a=this.parts[t];if(a.isActive(i))if(a.name(i).includes("Испытании Вечности")){const t=player.challenge.eternity.current,n=EternityChallenge(t).completions+1;let s="";s=Enslaved.isRunning&&1===t?`(${formatInt(n)}/???)`:6===n?"(уже выполнено)":`(${formatInt(n)}/${formatInt(5)})`,e.push(`${a.name(i)} ${s}`)}else e.push(a.name(i))}return e},isVisible(){return this.infinityUnlocked||this.activeChallengeNames.length>0},challengeDisplay(){return 0===this.activeChallengeNames.length?"вне всех испытаний":this.activeChallengeNames.join(" ")}},methods:{update(){this.infinityUnlocked=PlayerProgress.infinityUnlocked(),this.activityTokens=this.parts.map((e=>e.activityToken())),this.showExit=this.activeChallengeNames.length>this.inPelle*(1+player.dilation.active),this.exitText=this.exitDisplay(),this.resetCelestial=player.options.retryCelestial,this.inPelle=Pelle.isDoomed,this.isInFailableEC=[4,12].includes(player.challenge.eternity.current)},exitButtonClicked(){let e,t;const i=Player.anyChallenge instanceof EternityChallengeState;if(!player.dilation.active||Player.isInAnyChallenge&&!i){if(Player.isInAnyChallenge){const a=this.activeChallengeNames[0].replace(/ \(..5\)|в |во /gu,"").replaceAll("м","е").replace("ии","ие");e={chall:a,normal:i?"вечности":"бесконечности"},t=()=>{const e=Player.anyChallenge;Player.anyChallenge.exit(!1),player.options.retryChallenge&&e.requestStart()}}else e={chall:this.activeChallengeNames[0].replace("в ","").replace("и","ь"),normal:"реальности"},t=()=>beginProcessReality(getRealityProps(!0));player.options.confirmations.exitChallenge?Modal.exitChallenge.show({challengeName:e.chall,normalName:e.normal,hasHigherLayers:this.activeChallengeNames.length>1,exitFn:t}):t()}else player.options.confirmations.dilation?Modal.exitDilation.show():startDilatedEternityRequest()},textClicked(){if(0===this.activeChallengeNames.length)return;let e="",t="";for(let a=0;a<this.activityTokens.length;a++){var i;const n=this.activityTokens[a],s=this.parts[a];if(s.isActive(n)){e=s.name(n),t=null===(i=s.tabName)||void 0===i?void 0:i.call(s);break}}e.match("Обычном Испытании")?Tab.challenges.normal.show(!0):e.match("Испытании Бесконечности")?Tab.challenges.infinity.show(!0):e.match("Испытании Вечности")?Tab.challenges.eternity.show(!0):player.dilation.active?Tab.eternity.dilation.show(!0):this.inPelle?Tab.celestials.pelle.show(!0):Tab.celestials[t].show(!0)},exitDisplay(){return Player.isInAnyChallenge?player.options.retryChallenge?"Перезапустить Испытание":"Покинуть Испытание":player.dilation.active?"Выйти из Замедления":this.resetCelestial?"Перезапустить Реальность":"Покинуть Реальность"},textClassObject(){return{"l-challenge-display":!0,"l-challenge-display--clickable":0!==this.activeChallengeNames.length}},numberText(e){return`${2===e?"во":"в"} ${e}-м`}}},OI=BI;var LI=(0,H.A)(OI,RI,II,!1,null,"6710cbef",null);const $I=LI.exports;var HI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.waitingforHint?i("div",[e._v(" "+e._s(e.enslavedText)+" ")]):e._e(),e.isInEffarig?i("div",[e._v(" Скорость игры и множители измерений замедлены со степенью "+e._s(e.effarigMultNerfText)+" "),i("br"),e._v(" Скорость тика замедлена со степенью "+e._s(e.effarigTickNerfText)+" ")]):e._e(),e.isInLaitela?i("div",[e._v(" Энтропия: "+e._s(e.laitelaEntropy)+" ("+e._s(e.laitelaTimer)+") ")]):e._e(),e.isInMatterChallenge?i("div",[e._v(" Есть "+e._s(e.format(e.matter,2,1))+" материи. ")]):e._e(),e.isChallengePowerVisible?i("div",[e._v(" "+e._s(e.challengePower)+" ")]):e._e()])},FI=[];const qI={name:"HeaderChallengeEffects",data(){return{isInMatterChallenge:!1,matter:new Decimal(0),isChallengePowerVisible:!1,challengePower:"",isInEffarig:!1,effarigMultNerfText:"",effarigTickNerfText:"",isInLaitela:!1,laitelaTimer:0,laitelaEntropy:"",waitingforHint:!1,enslavedTimer:""}},computed:{enslavedText(){return`Безымянные помогают вам искать трещины в их Реальности -\n        они смогут дать вам совет через ${this.enslavedTimer}`}},methods:{update(){this.isInMatterChallenge=Player.isInMatterChallenge,this.isInMatterChallenge&&this.matter.copyFrom(Currency.matter),this.updateChallengePower(),this.isInEffarig=Effarig.isRunning,this.isInEffarig&&(this.effarigMultNerfText=`${format(.25+.25*Effarig.nerfFactor(Currency.infinityPower.value),0,5)}`,this.effarigTickNerfText=`${formatPow(.7+.1*Effarig.nerfFactor(Currency.timeShards.value),0,5)}`),this.isInLaitela=Laitela.isRunning,this.isInLaitela&&(player.celestials.laitela.entropy>0?(this.laitelaEntropy=`${formatPercents(player.celestials.laitela.entropy,2,2)}`,this.laitelaTimer=Time.thisRealityRealTime.toStringShort()):(this.laitelaEntropy=`${formatPercents(1,2,2)}`,this.laitelaTimer=TimeSpan.fromSeconds(player.celestials.laitela.thisCompletion).toStringShort())),this.waitingforHint=Enslaved.canTickHintTimer;const e=18e6-player.celestials.enslaved.hintUnlockProgress;this.enslavedTimer=TimeSpan.fromMilliseconds(e/(Enslaved.isRunning?1:.4)).toStringShort()},updateChallengePower(){const e=NormalChallenge(2).isRunning,t=NormalChallenge(3).isRunning,i=InfinityChallenge(6).isRunning,a=InfinityChallenge(8).isRunning,n=e||t||i||a;if(this.isChallengePowerVisible=n,n){const n=[];e&&n.push(`Скорость производства: ${formatPercents(player.chall2Pow,2,2)}`),t&&n.push(`Множитель к производству антиматерии: ${formatX(player.chall3Pow,3,4)}`),i&&n.push(`Множители Измерений Антиматерии разделены на\n          ${format(new Decimal(1).timesEffectOf(InfinityChallenge(6)),2,2)}`),a&&n.push(`Множители Измерений Антиматерии разделены на\n          ${format(new Decimal(1).timesEffectOf(InfinityChallenge(8)).reciprocal(),2,2)}`),this.challengePower=n.join(" | ")}}}},VI=qI;var YI=(0,H.A)(VI,HI,FI,!1,null,"71229e95",null);const jI=YI.exports;var WI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-prestige-info-blocks"},[i("HeaderEternityContainer",{staticClass:"l-game-header__eternity"}),i("HeaderCenterContainer",{staticClass:"l-game-header__center"}),i("HeaderInfinityContainer",{staticClass:"l-game-header__infinity"})],1)},XI=[],zI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.shouldDisplay?i("div",{staticClass:"c-prestige-button-container"},[i("span",[e._v("У вас "),i("span",{staticClass:"c-game-header__antimatter"},[e._v(e._s(e.format(e.antimatter,2,1)))]),e._v(" антиматерии.")]),e.hasRealityButton?i("div",{staticClass:"c-reality-container"},[i("RealityCurrencyHeader"),e.isDoomed?i("ArmageddonButton",{attrs:{"is-header":!0}}):i("RealityButton")],1):i("div",[e._v(" Вы получаете "+e._s(e.format(e.antimatterPerSec,2))+" антиматерии в секунду. "),i("br"),i("HeaderTickspeedInfo")],1)]):e._e()},KI=[],QI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.buttonClassObject,on:{click:e.manualArmageddon}},[e.isHeader?i("span",[e._v("Нельзя выйти из Обречённой Реальности!"),i("br")]):e._e(),i("span",{staticClass:"c-remnant-gain-display"},[e._v(" Совершить армагеддон за "),i("span",{staticClass:"c-remnant-gain"},[e._v(e._s(e.remnantGain))]),e._v(" "+e._s(e.remnants)+" ")]),i("br"),e._v(" Производство Осколков Реальности: "),i("span",{staticClass:"c-reality-shard-gain"},[e._v(e._s(e.format(e.realityShardGain,2,2)))]),e._v("/с ➜ "),i("span",{staticClass:"c-reality-shard-gain"},[e._v(e._s(e.format(e.nextRealityShardGain,2,2)))]),e._v("/с ")])},JI=[];const ZI={name:"ArmageddonButton",props:{isHeader:{type:Boolean,required:!1,default:!1}},data(){return{remnantsGain:0,realityShardGain:new Decimal(0),nextRealityShardGain:new Decimal(0),canArmageddon:!1}},computed:{remnants(){return pluralize("Останок",this.remnantsGain)},remnantGain(){return format(this.remnantsGain,2)},buttonClassObject(){return{"c-armageddon-button":!0,"l-armageddon-button":!this.isHeader,"l-reality-button":this.isHeader,"l-armageddon-button--header":this.isHeader,"c-armageddon-button--unavailable":!this.canArmageddon}}},methods:{update(){this.remnantsGain=Pelle.remnantsGain,this.realityShardGain.copyFrom(Pelle.realityShardGainPerSecond),this.nextRealityShardGain.copyFrom(Pelle.nextRealityShardGain),this.canArmageddon=Pelle.canArmageddon},manualArmageddon(){this.canArmageddon&&(player.options.confirmations.armageddon?Modal.armageddon.show():Pelle.armageddon(!0))}}},eM=ZI;var tM=(0,H.A)(eM,QI,JI,!1,null,"b4b58ee2",null);const iM=tM.exports;var aM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-reality-currency"},[e._v(" У вас "),i("b",{class:e.resourceClass()},[e._v(" "+e._s(e.currencyValue)+" ")]),e._v(" "+e._s(e.currencyName)+" Реальности. "),i("br"),e.showIM?i("span",[e._v(" У вас "),i("b",{class:e.resourceClass()},[e._v(" "+e._s(e.im)+" ")]),e._v(" Мнимой Машины. ")]):e._e()])},nM=[];const sM={name:"RealityCurrencyHeader",data(){return{isDoomed:!1,currencyValue:new Decimal,currencyName:"",im:new Decimal,showIM:!1}},methods:{update(){if(this.isDoomed=Pelle.isDoomed,this.im=format(Currency.imaginaryMachines.value,2,2),this.showIM=Currency.imaginaryMachines.value&&!this.isDoomed,this.isDoomed){const e=Currency.realityShards.value;this.currencyValue=format(e,2),this.currencyName="Осколка"}else{const e=Currency.realityMachines.value;this.currencyValue=format(e,2),this.currencyName=pluralize("Машина",e)}},resourceClass(){return{"c-reality-tab__reality-machines":!0,"c-shard-color":this.isDoomed}}}},rM=sM;var oM=(0,H.A)(rM,aM,nM,!1,null,"2ac5cba0",null);const lM=oM.exports;var cM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("br"),e._v(" "+e._s(e.perUpgrade)+" "),i("br"),e._v(" "+e._s(e.tickspeedDisplay)+" "),i("br"),i("GameSpeedDisplay")],1)},uM=[],dM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"c-gamespeed"},[i("span",[e._v(" "+e._s(e.baseText)+" ")]),e.isPulsing?i("span",[e._v("("),i("i",{staticClass:"fas fa-expand-arrows-alt u-fa-padding"}),e._v(" "+e._s(e.pulseSpeedText)+")")]):e._e()])},hM=[];const pM={name:"GameSpeedDisplay",props:{},data(){return{baseSpeed:0,pulsedSpeed:0,hasSeenAlteredSpeed:!1,isStopped:!1,isEC12:!1,isPulsing:!1}},computed:{baseSpeedText(){if(this.isStopped)return`${formatInt(0)} (запущено сохранение реального времени)`;const e=this.formatNumber(this.baseSpeed);return this.isEC12?`${e} (фиксированно)`:`${e}`},pulseSpeedText(){return`${this.formatNumber(this.pulsedSpeed)}`},baseText(){return this.hasSeenAlteredSpeed?1===this.baseSpeed?"Игра идёт с нормальной скоростью.":`Скорость игры изменена: ${this.baseSpeedText}`:null}},methods:{update(){this.baseSpeed=getGameSpeedupFactor(),this.pulsedSpeed=getGameSpeedupForDisplay(),this.hasSeenAlteredSpeed=PlayerProgress.seenAlteredSpeed(),this.isStopped=Enslaved.isStoringRealTime,this.isEC12=EternityChallenge(12).isRunning,this.isPulsing=this.baseSpeed!==this.pulsedSpeed&&Enslaved.canRelease(!0)},formatNumber(e){return e>=.001&&e<1e4&&1!==e?format(e,3,3):e<.001?`${formatInt(1)} / ${format(1/e,2)}`:`${format(e,2)}`}}},mM=pM;var yM=(0,H.A)(mM,dM,hM,!1,null,"1df4f0f8",null);const fM=yM.exports,gM={name:"HeaderTickspeedInfo",components:{GameSpeedDisplay:fM},data(){return{mult:new Decimal(0),tickspeed:new Decimal(0),galaxyCount:0,purchasedTickspeed:0,freeTickspeed:0}},computed:{tickspeedDisplay(){return`Скорость тика: ${format(this.tickspeed,2,3)}`},perUpgrade(){return InfinityChallenge(3).isRunning?`Каждый ускоритель даёт множитель\n        ${formatX(1.05+.005*this.galaxyCount,3,3)} ко всем ИА`:`ИА производят в ${format(this.mult.reciprocal(),2,3)} раза за ускоритель быстрее`}},methods:{update(){this.mult.copyFrom(Tickspeed.multiplier),this.tickspeed.copyFrom(Tickspeed.perSecond),this.galaxyCount=player.galaxies,this.purchasedTickspeed=player.totalTickBought,this.freeTickspeed=FreeTickspeed.amount}}},bM=gM;var vM=(0,H.A)(bM,cM,uM,!1,null,"49ba319c",null);const EM=vM.exports;var TM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-reality-button"},[i("button",{staticClass:"c-reality-button infotooltip",class:e.classObject,on:{click:e.handleClick}},[i("div",{staticClass:"l-reality-button__contents"},[e.canReality?[i("div",{staticClass:"c-reality-button__header"},[e._v(" Создать новую реальность ")]),i("div",[e._v(e._s(e.formatMachinesGained)+" "+e._s(e.formatMachineStats))]),i("div",[e._v(e._s(e.formatGlyphLevel))])]:[i("div",[e._v("Разблокируйте реальность в Древе Исследований")])],e.canReality?i("div",{staticClass:"infotooltiptext"},[i("div",[e._v(e._s(e.additionalRMText))]),i("div",[e._v("Получение других ресурсов:")]),i("div",[e._v(e._s(e.quantifyInt("Очко",e.ppGained))+" Умения")]),0!==e.shardsGained?i("div",[e._v(" "+e._s(e.shardsGainedText)),e.willAmplify?e._e():i("span",[e._v(" ("+e._s(e.format(e.currentShardsRate,2))+"/мин) "),i("br"),e._v(" Пик: "+e._s(e.format(e.bestShardRate,2))+"/мин на "+e._s(e.format(e.bestShardRateVal,2))+" РО")])]):e._e(),e._l(e.celestialRunText,(function(t,a){return i("div",{key:a},[t[0]?i("span",[e._v(" "+e._s(t[1])+" "),i("br"),e._v(" "+e._s(t[2])+" ")]):e._e()])}))],2):e._e()],2)])])},_M=[];const CM={name:"RealityButton",data(){return{canReality:!1,showSpecialEffect:!1,hasRealityStudy:!1,machinesGained:new Decimal(0),newIMCap:0,realityTime:0,glyphLevel:0,nextGlyphPercent:0,nextMachineEP:0,shardsGained:0,currentShardsRate:0,bestMachineRate:new Decimal(0),bestMachineRateVal:new Decimal(0),bestShardRate:0,bestShardRateVal:0,ppGained:0,willAmplify:!1,celestialRunText:["","","","",""]}},computed:{formatMachinesGained(){return this.machinesGained.gt(0)?`Машин Реальности: ${format(this.machinesGained,2)}`:"Достигнут предел МР"},formatMachineStats(){return!PlayerProgress.realityUnlocked()&&this.nextMachineEP.gt("1e8000")?"(Ограничено на текущую реальность!)":this.machinesGained.gt(0)&&this.machinesGained.lt(100)?`(Следующая на ${format(this.nextMachineEP,2)} ОВ)`:this.machinesGained.eq(0)&&0===this.newIMCap?`(Теоретически: ${format(this.projectedRM,2)} МР)`:0!==this.newIMCap?`(Предел ММ: ${format(this.newIMCap,2)})`:this.machinesGained.lt(Number.MAX_VALUE)&&!this.willAmplify?`(${format(this.machinesGained.divide(this.realityTime),2,2)} МР/мин)`:""},additionalRMText(){return 0!==this.newIMCap?`Теоретически: ${format(this.projectedRM,2)} МР`:!this.willAmplify&&this.machinesGained.gte(100)&&this.machinesGained.lt(Number.MAX_VALUE)?`Пик МР: ${format(this.bestMachineRate,2)}/мин на ${format(this.bestMachineRateVal,2)} МР`:""},formatGlyphLevel(){return this.glyphLevel>=1e4?`Уровень глифа: ${formatInt(this.glyphLevel)}`:`Уровень глифа: ${formatInt(this.glyphLevel)} (${this.nextGlyphPercent} до следующего)`},showShardsRate(){return this.currentShardsRate},shardsGainedText(){return quantify("Реликтовый Осколок",this.shardsGained,2)},classObject(){return{"c-reality-button--unlocked":this.canReality,"c-reality-button--locked":!this.canReality,"c-reality-button--special":this.showSpecialEffect}}},methods:{percentToNextGlyphLevelText(){const e=getGlyphLevelInputs();let t=e.actualLevel;isFinite(t)||(t=0);const i=this.glyphLevel>1e3?0:1;return`${formatPercents(Math.min(t-Math.floor(t),.999),i)}`},update(){if(this.hasRealityStudy=TimeStudy.reality.isBought,this.canReality=isRealityAvailable(),this.showSpecialEffect=this.hasSpecialReward(),!this.canReality)return void(this.shardsGained=0);function e(e){const t=Decimal.divide(e,MachineHandler.realityMachineMultiplier);if(t.lte(1))return Decimal.pow10(4e3);if(t.lte(10))return Decimal.pow10(4e3/27*(t.toNumber()+26));let i=Decimal.pow10(4e3*(t.log10()/3+1));return!PlayerProgress.realityUnlocked()&&i.gte("1e6000")&&(i=i.div("1e6000").pow(4).times("1e6000")),i}const t=simulatedRealityCount(!1)+1;this.willAmplify=Enslaved.boostReality,this.projectedRM=MachineHandler.uncappedRM,this.newIMCap=MachineHandler.projectedIMCap,this.machinesGained=gainedRealityMachines(!0),this.realityTime=Time.thisRealityRealTime.totalMinutes,this.glyphLevel=gainedGlyphLevel().actualLevel,this.nextGlyphPercent=this.percentToNextGlyphLevelText(),this.nextMachineEP=e(this.machinesGained.plus(1)),this.ppGained=t,this.shardsGained=Effarig.shardsGained*t,this.currentShardsRate=this.shardsGained/Time.thisRealityRealTime.totalMinutes,this.bestMachineRate=player.records.thisReality.bestRMmin,this.bestMachineRateVal=player.records.thisReality.bestRMminVal,this.bestShardRate=player.records.thisReality.bestRSmin*t,this.bestShardRateVal=player.records.thisReality.bestRSminVal*t;const i=this.formatScalingMultiplierText("Награда за Реальность Терезы:",Teresa.runRewardMultiplier,Math.max(Teresa.runRewardMultiplier,Teresa.rewardMultiplier(Currency.antimatter.value))),a=this.formatThresholdText(Teresa.rewardMultiplier(Currency.antimatter.value)>Teresa.runRewardMultiplier,player.celestials.teresa.bestRunAM,"антиматерии");this.celestialRunText=[[Teresa.isRunning,i,a]]},handleClick(){this.canReality&&requestManualReality()},formatScalingMultiplierText(e,t,i){return`${e} ${formatX(t,2,2)} ➜ ${formatX(i,2,2)}`},formatThresholdText(e,t,i){return e?"":`(необходимо ${format(t,2,2)} ${i} для улучшения)`},hasSpecialReward(){return!!(Teresa.isRunning&&Teresa.rewardMultiplier(Currency.antimatter.value)>Teresa.runRewardMultiplier)||Currency.eternityPoints.value.exponent>4e3&&(Effarig.isRunning&&!EffarigUnlock.reality.isUnlocked||Enslaved.isRunning&&!Enslaved.isCompleted)}}},AM=CM;var kM=(0,H.A)(AM,TM,_M,!1,null,"7d76a6a3",null);const wM=kM.exports,SM={name:"HeaderCenterContainer",components:{HeaderTickspeedInfo:EM,RealityCurrencyHeader:lM,RealityButton:wM,ArmageddonButton:iM},data(){return{shouldDisplay:!0,isModern:!1,hasRealityButton:!1,isDoomed:!1,antimatter:new Decimal(0),antimatterPerSec:new Decimal(0)}},methods:{update(){this.shouldDisplay=player.break||!Player.canCrunch,this.shouldDisplay&&(this.isModern=player.options.newUI,this.isDoomed=Pelle.isDoomed,this.antimatter.copyFrom(Currency.antimatter),this.hasRealityButton=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,this.hasRealityButton||this.antimatterPerSec.copyFrom(Currency.antimatter.productionPerSecond))}}},xM=SM;var RM=(0,H.A)(xM,zI,KI,!1,null,"1afffe18",null);const IM=RM.exports;var MM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showContainer?i("div",{staticClass:"c-prestige-button-container"},[e.showEP?i("div",{staticClass:"c-eternity-points"},[e._v(" У вас "),i("span",{staticClass:"c-game-header__ep-amount"},[e._v(e._s(e.format(e.eternityPoints,2)))]),e._v(" "+e._s(e.pluralize("Очко",e.eternityPoints))+" Вечности. "),e.showNextEP?i("span",[e._v("(Следующее ОВ на "+e._s(e.format(e.nextEP,1))+" ОБ)")]):e._e()]):e._e(),i("UnlockInfinityDimButton"),i("EternityButton")],1):e._e()},DM=[],PM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("button",{staticClass:"o-prestige-button",class:e.buttonClassObject,attrs:{onclick:"eternityResetRequest()"},on:{mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[-1===e.type?[e._v(" Достигните "+e._s(e.format(e.eternityGoal,2,2))+" "),i("br"),e._v(" Очков Бесконечности ")]:0===e.type?[e._v(" Иные времена ждут... "),i("br"),e._v(" Пора стать Вечным ")]:1===e.type?[e._v(" Совершить вечность за "),e.showEPRate?e._e():i("br"),i("span",{style:e.amountStyle},[e._v(e._s(e.format(e.gainedEP,2)))]),e.showEPRate?i("span",[e._v(" ОВ")]):i("span",[e._v(" "+e._s(e.pluralize("Очко",e.gainedEP))+" Вечности")]),i("br"),e.showEPRate?[e._v(" Текущий прирост: "+e._s(e.format(e.currentEPRate,2,2))+" ОВ/мин "),i("br"),e._v(" Пик: "+e._s(e.format(e.peakEPRate,2,2))+" ОВ/мин "),i("br"),e._v(" при "+e._s(e.format(e.peakEPRateVal,2,2))+" ОВ ")]:e._e()]:2===e.type||6===e.type&&!e.canEternity?[e._v(" Иные испытания ждут... "),i("br"),e._v(" Пора стать Вечным ")]:3===e.type?[e._v(" Совершить вечность за "),i("span",{style:e.tachyonAmountStyle},[e._v(e._s(e.format(e.gainedTachyons,2)))]),e._v(" "+e._s(e.pluralize("Тахион",e.gainedTachyons))+" ")]:4===e.type||5===e.type?[4===e.type?[e._v(" Совершить вечность за "),i("span",{style:e.amountStyle},[e._v(e._s(e.format(e.gainedEP,2,2)))]),e._v(" ОВ ")]:[e._v(" Совершить вечность за "),i("span",{style:e.tachyonAmountStyle},[e._v(e._s(e.format(e.gainedTachyons,2,1)))]),e._v(" "+e._s(e.pluralize("Тахион",e.gainedTachyons))+" ")],i("br"),e._v(" Обратите внимание на новый контент! ")]:6===e.type?[e._v(" Иные испытания ждут... "),e.fullyCompleted?[i("br"),e._v(" (Это Испытание уже полностью завершено) ")]:[i("br"),e._v(" "+e._s(e.quantifyInt("выполнение",e.gainedCompletions))+" на вечности "),e.failedRestriction?[i("br"),e._v(" "+e._s(e.failedRestriction)+" ")]:e.hasMoreCompletions?[i("br"),e._v(" Следующая цель: "+e._s(e.format(e.nextGoalAt))+" ОБ ")]:e._e()]]:e._e()],2):e._e()},UM=[];const GM={name:"EternityButton",data(){return{isVisible:!1,type:NM.FIRST_TIME,gainedEP:new Decimal(0),currentEP:new Decimal(0),currentEPRate:new Decimal(0),peakEPRateVal:new Decimal(0),peakEPRate:new Decimal(0),currentTachyons:new Decimal(0),gainedTachyons:new Decimal(0),challengeCompletions:0,gainedCompletions:0,fullyCompleted:!1,failedRestriction:void 0,hasMoreCompletions:!1,nextGoalAt:new Decimal(0),canEternity:!1,eternityGoal:new Decimal(0),hover:!1,headerTextColored:!0,creditsClosed:!1,showEPRate:!1,isDilation:!1}},computed:{buttonClassObject(){return{"o-eternity-button":!this.isDilation,"o-eternity-button--dilation":this.isDilation,"o-eternity-button--unavailable":!this.canEternity,"o-pelle-disabled-pointer":this.creditsClosed}},rateThreshold:()=>1e100,amountStyle(){if(!this.headerTextColored||this.currentEP.lt(this.rateThreshold))return{"transition-duration":"0s"};if(this.hover)return{color:"black","transition-duration":"0.2s"};const e=getComputedStyle(document.body).getPropertyValue("--color-text").split("#")[1],t=[[255,0,0],[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4),16)],[0,255,0]],i=this.gainedEP.log10()/this.currentEP.log10(),a=e=>{if(i<.9)return t[0][e];if(i<1){const a=10*(i-.9);return Math.round(t[0][e]*(1-a)+t[1][e]*a)}if(i<1.1){const a=10*(i-1);return Math.round(t[1][e]*(1-a)+t[2][e]*a)}return t[2][e]},n=[a(0),a(1),a(2)];return{color:`rgb(${n.join(",")})`,"transition-duration":"0.2s"}},tachyonAmountStyle(){if(!this.headerTextColored||this.hover)return{"transition-duration":"0s"};let e;e=this.currentTachyons.eq(0)?this.gainedTachyons.eq(0)?0:1/0:this.gainedTachyons.div(this.currentTachyons).toNumber();const t=[Math.round(255*Math.clampMax(1/e,1)),Math.round(255*Math.clampMax(e,1)),Math.round(255*Math.clampMax(e,1/e))];return{color:`rgb(${t.join(",")})`}}},methods:{update(){if(this.isVisible=Player.canEternity||EternityMilestone.autoUnlockID.isReached||InfinityDimension(8).isUnlocked,this.isDilation=player.dilation.active,!this.isVisible)return;if(this.canEternity=Player.canEternity,this.eternityGoal.copyFrom(Player.eternityGoal),this.headerTextColored=player.options.headerTextColored,!this.canEternity)return void(this.type=NM.CANNOT_ETERNITY);if(!PlayerProgress.eternityUnlocked())return void(this.type=NM.FIRST_TIME);if(EternityChallenge.isRunning)return Perk.studyECBulk.isBought?(this.type=NM.CHALLENGE_RUPG,void this.updateChallengeWithRUPG()):void(this.type=NM.CHALLENGE);const e=gainedEternityPoints();this.currentEP.copyFrom(Currency.eternityPoints),this.gainedEP.copyFrom(e);const t=!PlayerProgress.realityUnlocked()&&Currency.eternityPoints.exponent>=4e3&&!TimeStudy.reality.isBought;if(this.isDilation)return this.type=t?NM.DILATION_EXPLORE_NEW_CONTENT:NM.DILATION,this.currentTachyons.copyFrom(Currency.tachyonParticles),void this.gainedTachyons.copyFrom(getTachyonGain(!0));this.type=t?NM.NORMAL_EXPLORE_NEW_CONTENT:NM.NORMAL,this.currentEPRate.copyFrom(e.dividedBy(TimeSpan.fromMilliseconds(player.records.thisEternity.realTime).totalMinutes)),this.peakEPRateVal.copyFrom(player.records.thisEternity.bestEPminVal),this.peakEPRate.copyFrom(player.records.thisEternity.bestEPmin),this.showEPRate=this.peakEPRate.lte(this.rateThreshold),this.creditsClosed=GameEnd.creditsEverClosed},updateChallengeWithRUPG(){const e=EternityChallenge.current;if(this.fullyCompleted=e.isFullyCompleted,this.fullyCompleted)return;const t=e.gainedCompletionStatus;this.gainedCompletions=t.gainedCompletions,this.failedRestriction=t.failedRestriction,this.hasMoreCompletions=t.hasMoreCompletions,this.nextGoalAt.copyFrom(t.nextGoalAt)}}},NM={CANNOT_ETERNITY:-1,FIRST_TIME:0,NORMAL:1,CHALLENGE:2,DILATION:3,NORMAL_EXPLORE_NEW_CONTENT:4,DILATION_EXPLORE_NEW_CONTENT:5,CHALLENGE_RUPG:6},BM=GM;var OM=(0,H.A)(BM,PM,UM,!1,null,"f03346ca",null);const LM=OM.exports;var $M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("button",{class:e.buttonClassObject,on:{click:e.tryUnlockNextInfinityDimension}},[e._v(" "+e._s(e.text)+" ")]):e._e()},HM=[];const FM={name:"UnlockInfinityDimButton",data(){return{isVisible:!1,canUnlock:!1,hasIPUnlock:!0,amRequirement:new Decimal(0),ipRequirement:0}},computed:{text(){const e=(this.hasIPUnlock?"новый вид измерений":"следующее Измерение Бесконечности")+".";if(this.canUnlock)return`Разблокировать ${e}`;const t=format(this.amRequirement),i=format(this.ipRequirement);return this.hasIPUnlock?`Достигните ${i} Очков Бесконечности и ${t} антиматерии, чтобы разблокировать ${e}`:`Достигните ${t} антиматерии, чтобы разблокировать ${e}`},buttonClassObject(){return{"o-prestige-button":!0,"o-infinity-button":!0,"o-infinity-button--unavailable":!this.canUnlock}}},methods:{update(){if(this.isVisible=player.break&&!InfinityDimension(8).isUnlocked&&!Player.canEternity&&!EternityMilestone.autoUnlockID.isReached,!this.isVisible)return;const e=InfinityDimensions.next();this.canUnlock=e.canUnlock,this.hasIPUnlock=e.hasIPUnlock,this.amRequirement=e.amRequirement,this.ipRequirement=e.ipRequirement},tryUnlockNextInfinityDimension(){InfinityDimensions.unlockNext()}}},qM=FM;var VM=(0,H.A)(qM,$M,HM,!1,null,"5d66319b",null);const YM=VM.exports,jM={name:"HeaderEternityContainer",components:{EternityButton:LM,UnlockInfinityDimButton:YM},data(){return{showContainer:!1,showEP:!1,showNextEP:!1,eternityPoints:new Decimal(0),nextEP:new Decimal(0)}},methods:{update(){this.showContainer=player.break||PlayerProgress.eternityUnlocked(),this.showEP=PlayerProgress.eternityUnlocked(),this.eternityPoints.copyFrom(Currency.eternityPoints.value.floor()),this.showNextEP=Player.canEternity&&player.records.thisReality.maxEP.lt(100)&&gainedEternityPoints().lt(100),this.showNextEP&&this.nextEP.copyFrom(requiredIPForEP(gainedEternityPoints().floor().toNumber()+1))}}},WM=jM;var XM=(0,H.A)(WM,MM,DM,!1,null,"60c3ca8e",null);const zM=XM.exports;var KM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showContainer?i("div",{staticClass:"c-prestige-button-container"},[i("div",{staticClass:"c-infinity-points"},[e._v(" У вас "),i("span",{staticClass:"c-game-header__ip-amount"},[e._v(e._s(e.format(e.infinityPoints,2)))]),e._v(" "+e._s(e.pluralize("Очко",e.infinityPoints))+" Бесконечности. "),e.isTesseractUnlocked?i("span",{domProps:{innerHTML:e._s(e.tesseractText)}}):e._e()]),i("BigCrunchButton")],1):e._e()},QM=[],JM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible&&!e.tesseractAffordable?i("button",{staticClass:"o-prestige-button o-infinity-button",class:e.buttonClassObject,on:{click:e.crunch,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[e.canCrunch?e.inAntimatterChallenge?[e._v(" Совершить Большое Сжатие "),i("br"),e._v(" и завершить Испытание ")]:[e.showIPRate?e._e():i("div"),i("b",[e._v(" Совершить Большое Сжатие за "),e.showIPRate?e._e():i("br"),i("span",{style:e.amountStyle},[e._v(e._s(e.format(e.gainedIP,2)))]),e.showIPRate?i("span",[e._v(" ОБ")]):i("span",[e._v(" "+e._s(e.pluralize("Очко",e.gainedIP))+" Бесконечности")])]),e.showIPRate?[i("br"),e._v(" Текущий прирост: "+e._s(e.format(e.currentIPRate,2))+" ОБ/мин "),i("br"),e._v(" Пик: "+e._s(e.format(e.peakIPRate,2))+" ОБ/мин "),i("br"),e._v(" при "+e._s(e.format(e.peakIPRateVal,2))+" ОБ ")]:i("div")]:[e._v(" Достигните "+e._s(e.format(e.infinityGoal,2,2))+" "),i("br"),e._v(" антиматерии ")]],2):e.tesseractAffordable?i("button",{staticClass:"o-prestige-button c-game-header__tesseract-available",class:{"o-pelle-disabled-pointer":e.creditsClosed},on:{click:e.switchToInfinity}},[i("b",[e._v(" У вас достаточно Очков Бесконечности для покупки Тессеракта ")])]):e._e()},ZM=[];const eD={name:"BigCrunchButton",data(){return{isVisible:!1,gainedIP:new Decimal(0),currentIPRate:new Decimal(0),peakIPRate:new Decimal(0),peakIPRateVal:new Decimal(0),currentIP:new Decimal(0),tesseractAffordable:!1,canCrunch:!1,infinityGoal:new Decimal(0),inAntimatterChallenge:!1,hover:!1,headerTextColored:!0,creditsClosed:!1,showIPRate:!1}},computed:{buttonClassObject(){return{"o-infinity-button--unavailable":!this.canCrunch,"o-pelle-disabled-pointer":this.creditsClosed}},rateThreshold:()=>5e11,amountStyle(){if(!this.headerTextColored||this.currentIP.lt(this.rateThreshold))return{"transition-duration":"0s"};if(this.hover)return{color:"black","transition-duration":"0.2s"};const e=getComputedStyle(document.body).getPropertyValue("--color-text").split("#")[1],t=[[255,0,0],[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4),16)],[0,255,0]],i=this.gainedIP.log10()/this.currentIP.log10(),a=e=>{if(i<.9)return t[0][e];if(i<1){const a=10*(i-.9);return Math.round(t[0][e]*(1-a)+t[1][e]*a)}if(i<1.1){const a=10*(i-1);return Math.round(t[1][e]*(1-a)+t[2][e]*a)}return t[2][e]},n=[a(0),a(1),a(2)];return{color:`rgb(${n.join(",")})`,"transition-duration":"0.2s"}}},methods:{update(){if(this.isVisible=player.break,this.tesseractAffordable=Tesseracts.canBuyTesseract,!this.isVisible)return;this.canCrunch=Player.canCrunch,this.infinityGoal.copyFrom(Player.infinityGoal),this.inAntimatterChallenge=Player.isInAntimatterChallenge,this.headerTextColored=player.options.headerTextColored,this.creditsClosed=GameEnd.creditsEverClosed;const e=gainedInfinityPoints();this.currentIP.copyFrom(Currency.infinityPoints),this.gainedIP.copyFrom(e),this.currentIPRate.copyFrom(e.dividedBy(Math.clampMin(5e-4,Time.thisInfinityRealTime.totalMinutes))),this.peakIPRate.copyFrom(player.records.thisInfinity.bestIPmin),this.peakIPRateVal.copyFrom(player.records.thisInfinity.bestIPminVal),this.showIPRate=this.peakIPRate.lte(this.rateThreshold)},switchToInfinity(){Tab.dimensions.infinity.show(!0)},crunch(){Player.canCrunch&&manualBigCrunchResetRequest()}}},tD=eD;var iD=(0,H.A)(tD,JM,ZM,!1,null,"2499fb05",null);const aD=iD.exports,nD={name:"HeaderInfinityContainer",components:{BigCrunchButton:aD},data(){return{showContainer:!1,infinityPoints:new Decimal(0),isTesseractUnlocked:!1,tesseractCost:new Decimal(0),tesseractText:""}},methods:{update(){this.showContainer=player.break||PlayerProgress.infinityUnlocked(),this.infinityPoints.copyFrom(Currency.infinityPoints.value.floor()),this.isTesseractUnlocked=Enslaved.isCompleted,this.tesseractCost=Tesseracts.nextCost,this.tesseractText=this.tesseractProgress()},tesseractProgress(){const e=this.infinityPoints.add(1).log10()/this.tesseractCost.log10();return e>1?`<b>(${formatPercents(1)})</b>`:`(${formatPercents(e,2,2)})`}}},sD=nD;var rD=(0,H.A)(sD,KM,QM,!1,null,"0d2aafb0",null);const oD=rD.exports,lD={name:"HeaderPrestigeGroup",components:{HeaderCenterContainer:IM,HeaderEternityContainer:zM,HeaderInfinityContainer:oD}},cD=lD;var uD=(0,H.A)(cD,WI,XI,!1,null,"05a7d691",null);const dD=uD.exports,hD={name:"GameHeader",components:{HeaderChallengeDisplay:$I,HeaderChallengeEffects:jI,HeaderBlackHole:xI,HeaderPrestigeGroup:dD,GameSpeedDisplay:fM},data(){return{hasReality:!1}},methods:{update(){this.hasReality=PlayerProgress.realityUnlocked()}}},pD=hD;var mD=(0,H.A)(pD,yI,fI,!1,null,"6d71e8ba",null);const yD=mD.exports;var fD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"ticker",staticClass:"c-news-ticker"},[i("span",{ref:"line",staticClass:"c-news-line c-news-ticker__line",class:e.lineClass,on:{click:e.onLineClick}})])},gD=[];const bD={name:"NewsTicker",data(){return{enableAnimation:!1}},computed:{lineClass(){return this.enableAnimation?void 0:"c-disable-ticker-animation"}},beforeCreate(){this.recentTickers=[]},mounted(){document.addEventListener("visibilitychange",(()=>this.restart.bind(this))),this.restart()},beforeDestroy(){this.clearTimeouts()},methods:{update(){var e;null!==(e=this.currentNews)&&void 0!==e&&e.dynamic&&(this.$refs.line.innerHTML=this.currentNews.text),this.enableAnimation=player.options.news.includeAnimated},restart(){GameUI.initialized?(this.clearTimeouts(),document.hidden||this.prepareNextMessage()):setTimeout(this.restart.bind(this),100)},clearTimeouts(){clearTimeout(this.delayTimeout),clearTimeout(this.scrollTimeout)},prepareNextMessage(){var e,t;const i=this.$refs.line;if(void 0===i)return;const a=e=>{var t;return(null===(t=e.unlocked)||void 0===t||t)&&!this.recentTickers.includes(e.id)};if(nextNewsMessageId&&GameDatabase.news.find((e=>e.id===nextNewsMessageId)))this.currentNews=GameDatabase.news.find((e=>e.id===nextNewsMessageId)),nextNewsMessageId=void 0;else if(this.currentNews&&"a236"===this.currentNews.id)this.currentNews=GameDatabase.news.filter((e=>e.isAdvertising&&a(e))).randomElement();else{const e=Math.random()<player.options.news.AIChance;this.currentNews=GameDatabase.news.filter((t=>t.id.includes("ai")===e)).filter((e=>a(e))).randomElement()}this.recentTickers.push(this.currentNews.id);while(this.recentTickers.length>player.options.news.repeatBuffer)this.recentTickers.shift();this.currentNews.reset&&this.currentNews.reset();let n=this.currentNews.text;f&&(window.openNewsLink=Ol,n=n.replace(/href=['"]([^"']+)['"]/gu,"href onClick='window.openNewsLink(\"$1\"); return false;'")),i.innerHTML=n,i.style["transition-duration"]="0ms","a244"===(null===(e=this.currentNews)||void 0===e?void 0:e.id)||"ai63"===(null===(t=this.currentNews)||void 0===t?void 0:t.id)?i.style.transform="translateX(-100%)":i.style.transform="translateX(0)";const s=1e3;this.delayTimeout=setTimeout(this.scrollMessage.bind(this),s)},scrollMessage(){const e=this.$refs.line,t=100*player.options.news.speed,i=(this.$refs.ticker.clientWidth+e.clientWidth)/t;e.style["transition-duration"]=`${i}s`,this.currentNews&&"a244"===this.currentNews.id?e.style.transform="translateX(0)":e.style.transform="translateX(-100%)",NewsHandler.addSeenNews(this.currentNews.id),NewsHandler.uniqueTickersSeen>=50&&Achievement(22).unlock(),this.scrollTimeout=setTimeout(this.prepareNextMessage.bind(this),1e3*i)},onLineClick(){if(void 0===this.currentNews.onClick)return;SecretAchievement(24).unlock();const e=this.currentNews.onClick();void 0!==e&&(this.$refs.line.innerHTML=e)}}},vD=bD;var ED=(0,H.A)(vD,fD,gD,!1,null,null,null);const TD=ED.exports;var _D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{staticClass:"c-subtab-button-container"},e._l(e.subtabs,(function(t,a){return i("ClassicSubtabButton",{key:a,attrs:{subtab:t,"parent-name":e.tab.name}})})),1):e._e()},CD=[],AD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isAvailable?i("button",{class:e.classObject,on:{click:function(t){return e.subtab.show(!0)}}},[e._v(" "+e._s(e.tabName)+" "),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]):e._e()},kD=[];const wD={name:"ClassicSubtabButton",props:{subtab:{type:Object,required:!0},parentName:{type:String,required:!0}},data(){return{isAvailable:!1,hasNotification:!1,isCurrentSubtab:!1,tabName:""}},computed:{classObject(){return{"o-tab-btn":!0,"o-tab-btn--secondary":!0,"o-subtab-btn--active":this.isCurrentSubtab,"o-tab-btn--infinity":"Бесконечность"===this.parentName,"o-tab-btn--eternity":"Вечность"===this.parentName,"o-tab-btn--reality":"Реальность"===this.parentName,"o-tab-btn--celestial":"Небожители"===this.parentName}}},methods:{update(){this.isAvailable=this.subtab.isAvailable,this.hasNotification=this.subtab.hasNotification,this.isCurrentSubtab=this.subtab.isOpen&&"S9"!==Theme.currentName(),this.tabName=Pelle.transitionText(this.subtab.name,this.subtab.name,Math.max(Math.min(GameEnd.endState-this.subtab.id%4/10,1),0))}}},SD=wD;var xD=(0,H.A)(SD,AD,kD,!1,null,"153f315a",null);const RD=xD.exports,ID={name:"ClassicSubtabBar",components:{ClassicSubtabButton:RD},data(){return{isVisible:!1}},computed:{tab:()=>Tabs.current,subtabs(){return this.tab.subtabs}},methods:{update(){this.isVisible=this.subtabs.countWhere((e=>e.isAvailable))>1}}},MD=ID;var DD=(0,H.A)(MD,_D,CD,!1,null,"b242ebf6",null);const PD=DD.exports;var UD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.tabs,(function(e,t){return i("ClassicTabButton",{key:t,attrs:{"tab-position":t,tab:e}})})),1)},GD=[],ND=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isAvailable?i("button",{staticClass:"o-tab-btn",class:[e.tab.config.UIClass,{"o-tab-btn--active":e.isCurrentTab}],on:{click:function(t){return e.tab.show(!0)}}},[e._v(" "+e._s(e.tabName)+" "),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]):e._e()},BD=[];const OD={name:"ClassicTabButton",props:{tab:{type:Object,required:!0},tabPosition:{type:Number,required:!0}},data(){return{isAvailable:!1,hasNotification:!1,tabName:""}},computed:{isCurrentTab(){return this.tab.isOpen&&"S9"!==Theme.currentName()}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.hasNotification=this.tab.hasNotification,this.tabPosition<Pelle.endTabNames.length?this.tabName=Pelle.transitionText(this.tab.name,Pelle.endTabNames[this.tabPosition],Math.max(Math.min(GameEnd.endState-this.tab.id%4/10,1),0)):this.tabName=this.tab.name}}},LD=OD;var $D=(0,H.A)(LD,ND,BD,!1,null,"48d1e610",null);const HD=$D.exports,FD={name:"ClassicTabBar",components:{ClassicTabButton:HD},computed:{tabs:()=>Tabs.oldUI}},qD=FD;var VD=(0,H.A)(qD,UD,GD,!1,null,"2184dcb0",null);const YD=VD.exports;var jD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-eternity-tab__header"},[e._v(" У вас "),i("span",{staticClass:"c-eternity-tab__eternity-points"},[e._v(e._s(e.format(e.eternityPoints,2)))]),e._v(" "+e._s(e.pluralize("Очко",e.eternityPoints))+" Вечности. ")])},WD=[];const XD={name:"EternityPointsHeader",data(){return{eternityPoints:new Decimal}},methods:{update(){this.eternityPoints.copyFrom(Currency.eternityPoints.value.floor())}}},zD=XD;var KD=(0,H.A)(zD,jD,WD,!1,null,"2c758510",null);const QD=KD.exports;var JD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"c-infinity-tab__header"},[e._v(" У вас "),i("span",{staticClass:"c-infinity-tab__infinity-points"},[e._v(e._s(e.format(e.infinityPoints,2)))]),e._v(" "+e._s(e.pluralize("Очко",e.infinityPoints))+" Бесконечности. ")])},ZD=[];const eP={name:"InfinityPointsHeader",data(){return{infinityPoints:new Decimal,isVisible:!1}},methods:{update(){this.infinityPoints.copyFrom(Currency.infinityPoints),this.isVisible=PlayerProgress.infinityUnlocked()}}},tP=eP;var iP=(0,H.A)(tP,JD,ZD,!1,null,"76d85f18",null);const aP=iP.exports,nP={name:"ClassicUi",components:{GameHeader:yD,ClassicSubtabBar:PD,ClassicTabBar:YD,NewsTicker:TD,InfinityPointsHeader:aP,EternityPointsHeader:QD,BigCrunchButton:mI},data(){return{bigCrunch:!1,smallCrunch:!1,newGameKey:""}},computed:{tab:()=>Tabs.current,news(){return this.$viewModel.news}},methods:{update(){const e=!player.break&&Player.canCrunch;this.bigCrunch=e&&Time.bestInfinityRealTime.totalMinutes>1,this.newGameKey=Pelle.isDoomed}}},sP=nP;var rP=(0,H.A)(sP,oI,lI,!1,null,"23d51220",null);const oP=rP.exports;var lP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-game-ui--fixed",attrs:{id:"ui-fixed"}},[i("div",{staticClass:"l-notification-container",attrs:{id:"notification-container"}}),i("HowToPlay",{style:e.hideIfMatoFullscreen}),"studies"===e.view.subtab?i("TimeTheoremShop",{staticClass:"l-time-studies-tab__tt-shop"}):e._e(),e.view.newUI&&"S12"!==e.view.theme?i("ModernSidebar",{style:e.hideIfMatoFullscreen}):e._e(),i("SaveTimer",{style:e.hideIfMatoFullscreen}),i("SpeedrunStatus",{style:e.hideIfMatoFullscreen}),"S12"!==e.view.theme?[e.view.modal.progressBar?i("ModalProgressBar"):e.view.quotes.current?i("CelestialQuoteModal",{attrs:{quote:e.view.quotes.current}}):e.view.quotes.history?i("CelestialQuoteHistoryDisplay",{attrs:{quotes:e.view.quotes.history}}):e.view.modal.current?i("PopupModal",{attrs:{modal:e.view.modal.current}}):e._e(),e.view.modal.progressBar?i("ModalProgressBar"):e._e(),e.ending?i("FadeAway"):e._e(),e.ending?i("CreditsContainer"):e._e(),e.ending?i("NewGame"):e._e(),i("SpectateGame")]:e._e()],2)},cP=[],uP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-modal-overlay c-modal-overlay"},[i("i",{staticClass:"c-modal-celestial-quote-history__close fas fa-circle-xmark o-light-button",on:{click:e.close}}),i("div",{staticClass:"c-quote-history-modal__clickable-background",on:{click:e.close}}),e._l(e.unlockedQuotes,(function(t,a){return i("div",{key:a,on:{click:function(t){e.focusedQuoteId=a}}},e._l(t.quote.config.lines,(function(n,s){return i("div",{key:s,on:{click:function(e){t.currentLine=s}}},[i("CelestialQuoteLine",{staticClass:"c-quote-overlay",class:{"c-quote-overlay--background":!e.isFocused(a,s)},style:e.quoteStyle(a,s),attrs:{quote:t.quote,"current-line":s,primary:""}})],1)})),0)})),i("div",{staticClass:"c-quote-history-modal__controls"},[i("i",{class:e.upClass,on:{click:e.progressUp}}),i("i",{class:e.downClass,on:{click:e.progressDown}}),i("i",{class:e.leftClass,on:{click:e.progressLeft}}),i("i",{class:e.rightClass,on:{click:e.progressRight}})])],2)},dP=[],hP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CelestialQuoteBackground",{attrs:{"celestial-symbols":e.celestialSymbols,celestials:e.celestials,primary:e.primary}},[e.line.showCelestialName?i("span",{staticClass:"c-modal-celestial-name"},[e._v(" "+e._s(e.celestialName)+" ")]):e._e(),i("i",{class:e.leftClass,on:{click:function(t){return e.$emit("progress-in","left")}}}),i("span",{staticClass:"l-modal-celestial-quote__text"},[e._v(" "+e._s(e.message)+" ")]),i("i",{class:e.rightClass,on:{click:function(t){return e.$emit("progress-in","right")}}}),e.closeVisible?i("i",{staticClass:"c-modal-celestial-quote__end fas fa-check-circle",on:{click:e.emitClose}}):e._e()])},pP=[],mP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.modalClass},[e._l(e.celestials,(function(t,a){return i("span",{key:a,staticClass:"c-modal-celestial-quote c-modal-celestial-quote__symbol",style:e.styleObject(t,.2,!0),domProps:{innerHTML:e._s(e.celestialSymbols[a])}})})),e._l(e.celestials,(function(t,a){return i("span",{key:a+10,staticClass:"c-modal-celestial-quote c-modal-celestial-quote__shadow",style:e.styleObject(t,1,!1)})})),e._l(e.celestials,(function(t,a){return i("span",{key:a+20,staticClass:"c-modal-celestial-quote c-modal-celestial-quote__text",style:e.styleObject(t,1,!0)},[e._t("default")],2)}))],2)},yP=[];const fP={name:"CelestialQuoteBackground",props:{celestialSymbols:{type:Array,required:!0},celestials:{type:Array,required:!0},primary:{type:Boolean,required:!0}},computed:{modalClass(){return{"l-modal-celestial-quote":!0}}},methods:{styleObject(e,t,i){const a=`var(--color-${e[0]}--base)`;return"laitela"===e[0]?{color:`var(--color-${e[0]}--accent)`,background:i?void 0:a,opacity:t*e[1]}:{color:a,opacity:t*e[1]}}}},gP=fP;var bP=(0,H.A)(gP,mP,yP,!1,null,"3f7bcfc0",null);const vP=bP.exports,EP={name:"CelestialQuoteLine",components:{CelestialQuoteBackground:vP},props:{quote:{type:Object,required:!0},currentLine:{type:Number,required:!0},primary:{type:Boolean,required:!1,default:!1},leftVisible:{type:Boolean,required:!1,default:!1},rightVisible:{type:Boolean,required:!1,default:!1},closeVisible:{type:Boolean,required:!1,default:!1}},data(){return{message:"",celestialSymbols:[],celestials:[],celestialName:""}},computed:{line(){return this.quote.line(this.currentLine)},leftClass(){return{"c-modal-celestial-quote__arrow":!0,"c-modal-celestial-quote__arrow-left":!0,"c-modal-celestial-quote__arrow-invisible":!this.leftVisible,fas:!0,"fa-chevron-circle-left":!0}},rightClass(){return{"c-modal-celestial-quote__arrow":!0,"c-modal-celestial-quote__arrow-right":!0,"c-modal-celestial-quote__arrow-invisible":!this.rightVisible,fas:!0,"fa-chevron-circle-right":!0}}},methods:{update(){const e=this.line;this.celestialSymbols=e.celestialSymbols,this.message=e.line,this.celestials=e.celestials,this.celestialName=e.celestialName}}},TP=EP;var _P=(0,H.A)(TP,hP,pP,!1,null,"7e428c16",null);const CP=_P.exports,AP={name:"CelestialQuoteHistoryDisplay",components:{CelestialQuoteLine:CP},props:{quotes:{type:Array,required:!0}},data(){return{focusedQuoteId:0,unlockedQuotes:[],lastProgress:Date.now()}},computed:{name(){return this.unlockedQuotes[0].quote._celestial},focusedQuote(){return this.unlockedQuotes[this.focusedQuoteId]},currentQuoteLine(){return this.focusedQuote.currentLine},commonButtonClass(){const e="laitela"===this.name&&!Theme.current().isDark();return{"fas c-modal-celestial-quote-history__arrow":!0,"o-dark-button":e,"o-light-button":!e}},upClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-up fa-chevron-circle-up":!0,"c-modal-celestial-quote-history__arrow--disabled":this.focusedQuoteId<=0}},downClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-down fa-chevron-circle-down":!0,"c-modal-celestial-quote-history__arrow--disabled":this.focusedQuoteId>=this.unlockedQuotes.length-1}},leftClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-left fa-chevron-circle-left":!0,"c-modal-celestial-quote-history__arrow--disabled":this.currentQuoteLine<=0}},rightClass(){return{...this.commonButtonClass,"c-modal-celestial-quote-history__arrow-right fa-chevron-circle-right":!0,"c-modal-celestial-quote-history__arrow--disabled":this.currentQuoteLine>=this.focusedQuote.quote.totalLines-1}}},created(){this.unlockedQuotes=this.quotes.filter((e=>e.isUnlocked)).map((e=>({quote:e,currentLine:0}))),this.$nextTick((()=>{this.on$(GAME_EVENT.ARROW_KEY_PRESSED,(e=>{switch(e[0]){case"up":this.progressUp();break;case"down":this.progressDown();break;case"left":this.progressLeft();break;case"right":this.progressRight();break}}))}))},methods:{isFocused(e,t){return this.focusedQuoteId===e&&this.currentQuoteLine===t},quoteStyle(e,t){const i=e===this.focusedQuoteId?1-.3*(t!==this.currentQuoteLine):1-Math.abs(e-this.focusedQuoteId)/8,a=e===this.focusedQuoteId&&t!==this.currentQuoteLine?`translateX(${110*(t-this.currentQuoteLine)+20*Math.sign(t-this.currentQuoteLine)}%)`:"";return{top:`calc(50vh + ${16*kP(e-this.focusedQuoteId)}rem)`,transform:`translate(-50%, -50%) scale(${Math.max(i,0)}) ${a}`,opacity:Number(t===this.unlockedQuotes[e].currentLine||e===this.focusedQuoteId),visibility:t===this.unlockedQuotes[e].currentLine||e===this.focusedQuoteId?"visible":"hidden","z-index":-Math.abs(e-this.focusedQuoteId)}},progressUp(){Date.now()-this.lastProgress<150||(this.focusedQuoteId=Math.max(0,this.focusedQuoteId-1),this.lastProgress=Date.now())},progressDown(){Date.now()-this.lastProgress<150||(this.focusedQuoteId=Math.min(this.unlockedQuotes.length-1,this.focusedQuoteId+1),this.lastProgress=Date.now())},progressLeft(){Date.now()-this.lastProgress<150||(this.focusedQuote.currentLine=Math.max(0,this.focusedQuote.currentLine-1),this.lastProgress=Date.now())},progressRight(){Date.now()-this.lastProgress<150||(this.focusedQuote.currentLine=Math.min(this.focusedQuote.quote.totalLines-1,this.focusedQuote.currentLine+1),this.lastProgress=Date.now())},close(){Quote.clearHistory()}}};function kP(e){return Math.sign(e)*Math.pow(Math.abs(e),.4)}const wP=AP;var SP=(0,H.A)(wP,uP,dP,!1,null,"198b74ab",null);const xP=SP.exports;var RP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-modal-overlay c-modal-overlay"},[i("CelestialQuoteLineBasicInteractable",{staticClass:"c-quote-overlay",attrs:{quote:e.quote}})],1)},IP=[],MP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CelestialQuoteLine",{attrs:{quote:e.quote,"current-line":e.currentLine,"left-visible":!e.isQuoteStart&&e.leftVisible,"right-visible":!e.isQuoteEnd&&e.rightVisible,"close-visible":e.isQuoteEnd&&e.closeVisible,primary:""},on:{close:e.close,"progress-in":e.progressIn}})},DP=[];const PP={name:"CelestialQuoteBasicInteractable",components:{CelestialQuoteLine:CP},props:{quote:{type:Object,required:!0},isFocused:{type:Boolean,required:!1,default:!0},primary:{type:Boolean,required:!1,default:!1},leftVisible:{type:Boolean,required:!1,default:!0},rightVisible:{type:Boolean,required:!1,default:!0},closeVisible:{type:Boolean,required:!1,default:!0}},data(){return{index:0}},computed:{totalLines(){return this.quote.totalLines},currentLine:{get(){return this.index},set(e){this.index=Math.clamp(e,0,this.totalLines-1)}},isQuoteStart(){return 0===this.currentLine},isQuoteEnd(){return this.currentLine===this.totalLines-1}},created(){this.$nextTick((()=>{this.on$(GAME_EVENT.ARROW_KEY_PRESSED,(e=>this.progressIn(e[0]))),this.on$(GAME_EVENT.ENTER_PRESSED,(()=>{this.isQuoteEnd&&this.close()}))}))},methods:{progressIn(e){if(!this.isFocused)return!1;switch(e){case"left":return this.currentLine--;case"right":return this.currentLine++;default:return!1}},close(){this.isFocused&&(this.index=0,Quote.advanceQueue())}}},UP=PP;var GP=(0,H.A)(UP,MP,DP,!1,null,null,null);const NP=GP.exports,BP={name:"CelestialQuoteModal",components:{CelestialQuoteLineBasicInteractable:NP},props:{quote:{type:Object,required:!0}}},OP=BP;var LP=(0,H.A)(OP,RP,IP,!1,null,"4e0361e1",null);const $P=LP.exports;var HP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-credits-container",style:e.creditStyles},[i("i",{staticClass:"c-mute-button fa-solid",class:e.muteIconClass,style:e.muteStyle,on:{click:function(t){e.isMuted=!e.isMuted}}}),e._l(e.celestialDisplays,(function(t,a){return i("div",{key:a+"-end-credit-symbol-disp",staticClass:"c-credits-cel-symbol",class:"c-"+a+"-credits",domProps:{innerHTML:e._s(t)}})})),i("span",{ref:"creditsDisplay"},[i("CreditsDisplay")],1)],2)},FP=[];const qP={name:"CreditsContainer",components:{CreditsDisplay:YC},data(){return{rolling:!1,scroll:0,audio:null,isMuted:!1}},computed:{creditStyles(){return{bottom:`${this.scroll}px`,display:this.rolling?"block":"none"}},muteStyle(){return{top:`calc(${this.scroll+20}px - 100vh)`,display:this.rolling?"block":"none"}},muteIconClass(){return this.isMuted?"fa-volume-xmark":"fa-volume-high"},celestialDisplays(){return{teresa:Teresa.symbol,effarig:Effarig.symbol,enslaved:Enslaved.symbol,v:V.symbol,ra:Ra.symbol,laitela:Laitela.symbol,pelle:Pelle.symbol}}},watch:{rolling(e,t){GameEnd.creditsEverClosed||!t&&e&&null===this.audio&&(this.audio=new Audio("audio/credits.mp3"),this.audio.play())}},created(){const e=player.options.updateRate;player.options.updateRate=33,GameOptions.refreshUpdateRate(),player.options.updateRate=e},methods:{update(){var e;const t=((null===(e=this.$refs.creditsDisplay)||void 0===e?void 0:e.offsetHeight)||0)+innerHeight;this.rolling=GameEnd.endState>END_STATE_MARKERS.CREDITS_START,this.scroll=(Math.clampMax(GameEnd.endState,END_STATE_MARKERS.CREDITS_END)-END_STATE_MARKERS.CREDITS_START)/(END_STATE_MARKERS.SONG_END-END_STATE_MARKERS.CREDITS_START)*t,this.audio&&(this.audio.volume=this.isMuted?0:Math.clamp(GameEnd.endState-END_STATE_MARKERS.CREDITS_START,0,.3))}}},VP=qP;var YP=(0,H.A)(VP,HP,FP,!1,null,"02fe6ce8",null);const jP=YP.exports;var WP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-background-overlay",style:{opacity:e.opacity,pointerEvents:e.opacity>1?"auto":"none"}})},XP=[];const zP={name:"FadeAway",data(){return{opacity:0}},methods:{update(){this.opacity=(GameEnd.endState-END_STATE_MARKERS.FADE_AWAY)/2}}},KP=zP;var QP=(0,H.A)(KP,WP,XP,!1,null,"0b58eaaa",null);const JP=QP.exports;var ZP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{class:e.h2pClassObject,style:e.topMargin,on:{click:e.showH2P}},[e._v(" ? "),e.hasTutorial?i("div",{staticClass:"h2p-tooltip"},[e._v(" Нажмите для просмотра информации ")]):e._e()]),e.hasTutorial?i("div",{staticClass:"h2p-tutorial--glow",style:e.topMargin}):e._e(),i("div",{staticClass:"o-tab-btn l-information l-help-me",on:{click:e.showInfo}},[e._v(" i ")])])},eU=[];const tU={name:"HowToPlay",data(){return{hasTutorial:!1,isModern:!1}},computed:{h2pClassObject(){return{"o-tab-btn l-help-me":!0}},topMargin(){return{"margin-top":this.isModern?"4.5rem":"1rem"}}},methods:{update(){this.hasTutorial=Tutorial.emphasizeH2P(),this.isModern=player.options.newUI},showH2P(){Modal.h2p.show(),GameKeyboard.stopSpins()},showInfo(){Modal.information.show()}}},iU=tU;var aU=(0,H.A)(iU,ZP,eU,!1,null,"772b098f",null);const nU=aU.exports;var sU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-modal-overlay c-modal-overlay progress-bar-modal"},[i("div",{staticClass:"c-modal"},[i("div",{staticClass:"modal-progress-bar"},[i("div",{staticClass:"modal-progress-bar__label"},[e._v(" "+e._s(e.progress.label)+" ")]),i("div",[e._v(" "+e._s(e.progress.info())+" ")]),i("div",{staticClass:"modal-progress-bar__margin"},[i("div",[e._v(" "+e._s(e.progress.progressName)+" рассчитано: "+e._s(e.formatInt(e.progress.current))+"/"+e._s(e.formatInt(e.progress.max))+" ")]),i("div",[e._v(" Времени осталось: "+e._s(e.remainingTime)+" ")]),i("div",{staticClass:"modal-progress-bar__hbox"},[i("div",{staticClass:"modal-progress-bar__bg"},[i("div",{staticClass:"modal-progress-bar__fg",style:e.foregroundStyle})])])]),i("div",{staticClass:"modal-progress-bar__buttons"},e._l(e.buttons,(function(t,a){return i("OfflineSpeedupButton",{key:a,attrs:{button:t,progress:e.progress}})})),1)])])])},rU=[],oU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PrimaryButton",{class:e.buttonClass,on:{click:e.buttonClicked}},[e._v(" "+e._s(e.button.text)+" ")])},lU=[];const cU={name:"OfflineSpeedupButton",components:{PrimaryButton:Fs},props:{button:{type:Object,required:!0},progress:{type:Object,required:!0}},computed:{canBeClicked(){return this.button.condition(this.progress.current,this.progress.max)},buttonClass(){return{"o-primary-btn--width-medium":!0,"o-primary-btn--disabled":!this.canBeClicked}}},methods:{buttonClicked(){this.canBeClicked&&this.button.click()}}},uU=cU;var dU=(0,H.A)(uU,oU,lU,!1,null,null,null);const hU=dU.exports,pU={name:"ModalProgressBar",components:{OfflineSpeedupButton:hU},computed:{progress(){return this.$viewModel.modal.progressBar},foregroundStyle(){return{width:this.progress.current/this.progress.max*100+"%"}},remainingTime(){const e=Date.now()-this.progress.startTime,t=e*(this.progress.max-this.progress.current)/this.progress.current;return TimeSpan.fromMilliseconds(t).toStringShort()},buttons(){return this.progress.buttons||[]}}},mU=pU;var yU=(0,H.A)(mU,sU,rU,!1,null,"48fb3124",null);const fU=yU.exports;var gU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isHidden?e._e():i("div",{staticClass:"c-modern-sidebar"},[i("ModernSidebarCurrency"),e._l(e.tabs,(function(t,a){return[e.tabVisibilities[a]?i("ModernTabButton",{key:t.name,attrs:{tab:t,"tab-position":a}}):e._e()]}))],2)},bU=[],vU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.containerClass(),on:{click:function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.cycleResource(1):null}}},[i("div",{staticClass:"c-sidebar-resource__information"},[i("span",{staticClass:"c-sidebar-resource__name"},[e._v(e._s(e.resourceName)+":")])]),i("h2",{class:e.resource.formatClass,style:e.styleObject()},[e._v(" "+e._s(e.displayValue)+" ")])])},EU=[];const TU={name:"ModernSidebarCurrency",data(){return{sidebarID:0,resourceName:"",resourceValue:new Decimal(0)}},computed:{resourceDB:()=>GameDatabase.sidebarResources,numDBEntries(){return this.resourceDB.length},resource(){return 0===this.sidebarID?this.resourceDB.filter((e=>e.isAvailable())).sort(((e,t)=>t.id-e.id))[0]:this.resourceDB.find((e=>e.id===this.sidebarID))},displayValue(){return this.resource.formatValue(this.resourceValue).replace(" + ","+")}},methods:{update(){var e;this.sidebarID=player.options.sidebarResourceID,this.resourceName=null!==(e=this.resource.resourceName)&&void 0!==e?e:this.resource.optionName,this.resourceValue.copyFrom(this.resource.value())},cycleResource(e){const t=this.sidebarID;this.sidebarID=(this.sidebarID+this.numDBEntries+e)%this.numDBEntries;while(this.sidebarID!==t){if(this.resource.isAvailable())break;this.sidebarID=(this.sidebarID+this.numDBEntries+e)%this.numDBEntries}player.options.sidebarResourceID=this.sidebarID},containerClass(){return{"c-sidebar-resource":!0,"c-sidebar-resource-default":0===this.sidebarID}},styleObject(){const e=this.displayValue.length;return{transform:`scale(${e<10?1:10/e})`}}}},_U=TU;var CU=(0,H.A)(_U,vU,EU,!1,null,"5fca560e",null);const AU=CU.exports;var kU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.isHidden&&e.isAvailable?i("div",{class:[e.classObject,e.tab.config.UIClass]},[i("div",{staticClass:"l-tab-btn-inner",on:{click:function(t){return e.tab.show(!0)}}},[e._v(" "+e._s(e.tabName)+" "),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),e.showSubtabs?i("div",{staticClass:"subtabs"},[e._l(e.tab.subtabs,(function(t,a){return[e.subtabVisibilities[a]?i("div",{key:a,staticClass:"o-tab-btn o-tab-btn--subtab",class:[e.tab.config.UIClass,{"o-subtab-btn--active":e.isCurrentSubtab(t.id)}],on:{click:function(e){return t.show(!0)}}},[i("span",{domProps:{innerHTML:e._s(t.symbol)}}),t.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e(),i("div",{staticClass:"o-subtab__tooltip"},[e._v(" "+e._s(t.name)+" ")])]):e._e()]}))],2):e._e()]):e._e()},wU=[];const SU={name:"ModernTabButton",props:{tab:{type:Object,required:!0},tabPosition:{type:Number,required:!0}},data(){return{isAvailable:!1,isHidden:!1,subtabVisibilities:[],showSubtabs:!1,hasNotification:!1,tabName:""}},computed:{classObject(){return{"o-tab-btn":!0,"o-tab-btn--modern-tabs":!0,"o-tab-btn--subtabs":this.showSubtabs,"o-tab-btn--active":this.isCurrentTab&&"S9"!==Theme.currentName()}},isCurrentTab(){return this.tab.isOpen}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.isHidden=this.tab.isHidden,this.subtabVisibilities=this.tab.subtabs.map((e=>e.isAvailable)),this.showSubtabs=this.isAvailable&&this.subtabVisibilities.length>=1,this.hasNotification=this.tab.hasNotification,this.tabPosition<Pelle.endTabNames.length?this.tabName=Pelle.transitionText(this.tab.name,Pelle.endTabNames[this.tabPosition],Math.clamp(GameEnd.endState-this.tab.id%4/10,0,1)):this.tabName=this.tab.name},isCurrentSubtab(e){return player.options.lastOpenSubtab[this.tab.id]===e&&"S9"!==Theme.currentName()}}},xU=SU;var RU=(0,H.A)(xU,kU,wU,!1,null,"4557db58",null);const IU=RU.exports,MU={name:"ModernSidebar",components:{ModernSidebarCurrency:AU,ModernTabButton:IU},data(){return{isHidden:!1,tabVisibilities:[]}},computed:{tabs:()=>Tabs.newUI},methods:{update(){this.isHidden=AutomatorData.isEditorFullscreen,this.tabVisibilities=Tabs.newUI.map((e=>e.isAvailable))}}},DU=MU;var PU=(0,H.A)(DU,gU,bU,!1,null,"6ccfd6ae",null);const UU=PU.exports;var GU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-new-game-container",style:e.style},[i("h2",[e._v(" Сбросить всю игру, кроме программ для Автоматизатора, сохранённых Древ, разблокированных секретных тем и достижений и Глифа-компаньона. ")]),i("h3",[e._v("Вы можете просмотреть игру в её текущем состоянии, нажав кнопку в правом верхнем углу.")]),i("div",{staticClass:"c-new-game-button-container"},[i("button",{staticClass:"c-new-game-button",on:{click:e.startNewGame}},[e._v(" Начать заново? ")])]),i("br"),e.hasMoreCosmetics?i("h3",[e._v(" В честь завершения игры вы получаете новый косметический набор глифов по вашему выбору. Вы сможете свободно настраивать внешний вид глифов, когда вы вновь достигнете реальности, но это никак не отразится собственно на геймплее. "),i("br"),i("button",{staticClass:"c-new-game-button",on:{click:e.openSelectionModal}},[e._v(" Выбрать косметический набор ")]),i("br"),i("br"),e._v(" Выбрано: "+e._s(e.selectedSetName)+" ")]):i("h3",[e._v(" Вы уже разблокировали все наборы глифов! ")]),i("br"),i("h3",[e._v(' Вы также можете импортировать "спидран", чтобы перезапустить игру с дополнительной отслежкой скорости вашего прогресса. ')])])},NU=[];const BU={name:"NewGame",data(){return{opacity:0,visible:!1,hasMoreCosmetics:!1,selectedSetName:""}},computed:{style(){return{opacity:this.opacity,visibility:this.visible?"visible":"hidden"}}},methods:{update(){var e,t;this.visible=GameEnd.endState>END_STATE_MARKERS.SHOW_NEW_GAME&&!GameEnd.removeAdditionalEnd,this.opacity=2*(GameEnd.endState-END_STATE_MARKERS.SHOW_NEW_GAME),this.hasMoreCosmetics=GlyphAppearanceHandler.lockedSets.length>0,this.selectedSetName=null!==(e=null===(t=GlyphAppearanceHandler.chosenFromModal)||void 0===t?void 0:t.name)&&void 0!==e?e:"Нет (будет выбран случайно)"},startNewGame(){NG.startNewGame()},openSelectionModal(){Modal.cosmeticSetChoice.show()}}},OU=BU;var LU=(0,H.A)(OU,GU,NU,!1,null,"3874c396",null);const $U=LU.exports;var HU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showModal?i("div",{ref:"modal",staticClass:"c-modal l-modal",style:e.positionStyle},[i(e.modal.component,e._b({tag:"component",on:{close:e.hide}},"component",e.modal.props,!1))],1):e._e()},FU=[];const qU={name:"PopupModal",props:{modal:{type:Object,required:!0}},data(){return{showModal:!1,positionStyle:{}}},created(){this.on$(GAME_EVENT.CLOSE_MODAL,this.hide)},mounted(){this.updatePositionStyles()},destroyed(){document.activeElement.blur()},methods:{update(){const e=this.showModal;this.showModal=GameEnd.endState<=END_STATE_MARKERS.INTERACTIVITY_DISABLED||"CosmeticSetChoiceModal"===this.modal.component.name,this.showModal!==e&&this.$nextTick((()=>this.updatePositionStyles())),this.updatePositionStyles()},updatePositionStyles(){if(!this.$refs.modal)return;if(!this.showModal||"S12"!==this.$viewModel.theme)return void(this.positionStyle={});const e=this.$refs.modal.offsetWidth,t=this.$refs.modal.offsetHeight;this.positionStyle={left:`${Math.round(innerWidth/2-e/2)}px`,top:`${Math.round(innerHeight/2-t/2)}px`,transform:"none"}},hide(){this.modal.isOpen&&(this.modal.hide?this.modal.hide():Modal.hide())}}},VU=qU;var YU=(0,H.A)(VU,HU,FU,!1,null,null,null);const jU=YU.exports;var WU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showTimeSinceSave?i("div",{staticClass:"o-save-timer",on:{click:e.save}},[e.saveDisabled?i("b",[e._v("Больше нечего сохранять.")]):i("span",[e._v("Время, прошедшее с момента последнего сохранения: "+e._s(e.timeString))])]):e._e()},XU=[];const zU={name:"SaveTimer",data(){return{currentTime:0,cloudSaveEnabled:!1,lastLocalSave:0,lastCloudSave:0,showTimeSinceSave:!1,saveDisabled:!1}},computed:{timeString(){const e=timeDisplayShort(this.currentTime-this.lastLocalSave),t=timeDisplayShort(this.currentTime-this.lastCloudSave);return this.cloudSaveEnabled?`${e} (локальное) | ${t} (облачное)`:e}},methods:{update(){this.currentTime=Date.now(),this.cloudSaveEnabled=player.options.cloudEnabled&&Cloud.loggedIn,this.lastLocalSave=GameStorage.lastSaveTime,this.lastCloudSave=GameStorage.lastCloudSave,this.showTimeSinceSave=player.options.showTimeSinceSave,this.saveDisabled=GameEnd.endState>=END_STATE_MARKERS.INTERACTIVITY_DISABLED},save(){GameStorage.save(!1,!0)}}},KU=zU;var QU=(0,H.A)(KU,WU,XU,!1,null,"70f119be",null);const JU=QU.exports;var ZU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showSpectate?i("div",{key:e.endState},[i("PrimaryButton",{staticClass:"c-swap-button o-primary-btn--modal-close c-modal__close-btn tutorial--glow",on:{click:e.swap}},[i("i",{staticClass:"fas fa-sync"})])],1):e._e()},eG=[];const tG={name:"SpectateGame",components:{PrimaryButton:Fs},data(){return{showSpectate:Boolean}},methods:{update(){this.showSpectate=GameEnd.endState>END_STATE_MARKERS.SPECTATE_GAME,this.endState=GameEnd.endState},swap(){GameEnd.creditsClosed=!GameEnd.creditsClosed,GameEnd.creditsEverClosed||(GameEnd.creditsEverClosed=!0)}}},iG=tG;var aG=(0,H.A)(iG,ZU,eG,!1,null,"21f229d4",null);const nG=aG.exports;var sG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isActive?i("div",{staticClass:"c-speedrun-status"},[e.isCollapsed?e._e():i("div",[i("b",[e._v("Статус спидрана ("),i("span",{domProps:{innerHTML:e._s(e.statusText)}}),e._v(")")]),i("br"),i("span",{class:{"c-speedrun-status--can-change":!e.hasStarted},on:{click:e.changeName}},[e._v(" Имя игрока: "+e._s(e.saveName)+" ")]),i("br"),i("i",[e._v(e._s(e.segmentText))]),i("br"),i("span",{class:{"c-speedrun-status--can-change":e.canModifySeed},on:{click:function(t){return e.openSeedModal()}}},[e._v(e._s(e.seedText))]),i("br"),e._v(" Общее реальное время: "+e._s(e.timePlayedStr)+" "),i("br"),e._v(" Офлайн-прогресс: "),i("span",{domProps:{innerHTML:e._s(e.offlineText)}}),i("br"),e._v(" Последняя достигнутая стадия: "+e._s(e.milestoneName(e.mostRecent))+" "),e.mostRecent?i("span",[e._v("("+e._s(e.timeSince)+" назад)")]):e._e(),i("br")]),i("div",{staticClass:"c-speedrun-status--collapse",on:{click:e.toggleCollapse}},[i("i",{class:e.collapseIcon}),e._v(" "+e._s(e.collapseText())+" "),i("i",{class:e.collapseIcon})])]):e._e()},rG=[];const oG={name:"SpeedrunStatus",data(){return{isActive:!1,isSegmented:!1,hasStarted:!1,startDate:0,saveName:"",timePlayedStr:"",offlineProgress:!1,offlineFraction:0,mostRecent:{},isCollapsed:!1,timeSince:0,seedText:0,canModifySeed:!1,isComplete:!1}},computed:{statusText(){return this.isComplete?'<span style="color: var(--color-good)">Завершён!</span>':this.hasStarted?'<span style="color: var(--color-good)">Запущен!</span>':'<span style="color: var(--color-bad)">Не начат</span>'},segmentText(){return this.isSegmented?"Сегментированный забег (импортированное сохранение)":"Непрерывный забег (без импорта сохранения)"},offlineText(){const e=this.offlineProgress?'<span style="color: var(--color-good)">Включён</span>':'<span style="color: var(--color-bad)">Отключён</span>',t=0===this.offlineFraction?"(Офлайн-прогресс не использован)":`(${formatPercents(this.offlineFraction,2)} времени проведено офлайн)`;return`${e} ${t}`},collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"}},methods:{update(){var e;const t=player.speedrun;this.isActive=t.isActive,this.canModifySeed=Speedrun.canModifySeed(),this.isActive&&(this.isSegmented=t.isSegmented,this.hasStarted=t.hasStarted,this.startDate=t.startDate,this.saveName=t.name,this.isCollapsed=t.hideInfo,this.isComplete=Achievement(188).isUnlocked,this.timePlayedStr=Time.realTimePlayed.toStringShort(),this.offlineProgress=player.options.offlineProgress,this.offlineFraction=t.offlineTimeUsed/Math.clampMin(player.records.realTimePlayed,1),this.mostRecent=Speedrun.mostRecentMilestone(),this.timeSince=Time.realTimePlayed.minus(TimeSpan.fromMilliseconds(null!==(e=t.records[this.mostRecent])&&void 0!==e?e:0)).toStringShort(),this.seedText=Speedrun.seedModeText())},milestoneName(e){const t=GameDatabase.speedrunMilestones;return 0===e?"Нет":t.find((t=>t.id===e)).name},changeName(){this.hasStarted||Modal.changeName.show()},collapseText(){return this.isCollapsed?"Раскрыть":"Нажмите, чтобы скрыть информацию о спидране"},toggleCollapse(){player.speedrun.hideInfo=!this.isCollapsed},openSeedModal(){this.canModifySeed&&Modal.modifySeed.show()}}},lG=oG;var cG=(0,H.A)(lG,sG,rG,!1,null,"76b5a544",null);const uG=cG.exports;var dG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-theorem-buttons"},[i("div",{staticClass:"ttshop-container ttshop-background"},[i("div",{staticClass:"ttbuttons-row ttbuttons-top-row",attrs:{"data-role":"page"}},[e._m(0),i("p",{staticClass:"timetheorems"},[i("span",{staticClass:"c-tt-amount"},[e._v(" "+e._s(e.quantify("Теорема",e.theoremAmount,2,0,e.formatTimeTheoremType))+" Времени ")]),e.showST?i("span",[i("br"),e._v(" "+e._s(e.quantifyInt("Теорема",e.STamount))+" Пространства ")]):e._e()]),i("div",{staticClass:"l-load-tree-area"},[i("div",{staticClass:"l-tree-load-button-wrapper"},e._l(6,(function(e){return i("TimeStudySaveLoadButton",{key:e,attrs:{saveslot:e}})})),1),i("div",{staticClass:"tt-gen-container"},[e.hasTTGen?i("span",{staticClass:"checkbox-margin",attrs:{"ach-tooltip":"Здесь по умолчанию отображается производство ТВ, а при зажатии клавиши Shift - общее количество ТВ.\n              Эта галочка меняет эти две характеристики местами."}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.invertTTgenDisplay,expression:"invertTTgenDisplay"}],staticClass:"o-clickable",attrs:{type:"checkbox"},domProps:{value:e.invertTTgenDisplay,checked:Array.isArray(e.invertTTgenDisplay)?e._i(e.invertTTgenDisplay,e.invertTTgenDisplay)>-1:e.invertTTgenDisplay},on:{input:function(t){return e.toggleTTgen()},change:function(t){var i=e.invertTTgenDisplay,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=e.invertTTgenDisplay,r=e._i(i,s);a.checked?r<0&&(e.invertTTgenDisplay=i.concat([s])):r>-1&&(e.invertTTgenDisplay=i.slice(0,r).concat(i.slice(r+1)))}else e.invertTTgenDisplay=n}}})]):e._e(),e.showTTGen?i("span",[e._v(" Вы производите "+e._s(e.TTgenRateText)+". ")]):i("span",[e._v(" У вас "+e._s(e.totalTimeTheoremText)+". ")])])])]),e.minimized?i("div",{staticClass:"ttbuttons-row ttbuttons-bottom-row-hide"}):i("div",{staticClass:"ttbuttons-row",style:e.shopBottomRowHeightStyle},[i("TimeTheoremBuyButton",{attrs:{budget:e.budget.am,cost:e.costs.am,"format-cost":e.formatAM,action:e.buyWithAM}}),i("TimeTheoremBuyButton",{attrs:{budget:e.budget.ip,cost:e.costs.ip,"format-cost":e.formatIP,action:e.buyWithIP}}),i("TimeTheoremBuyButton",{attrs:{budget:e.budget.ep,cost:e.costs.ep,"format-cost":e.formatEP,action:e.buyWithEP}}),i("div",{staticClass:"l-tt-buy-max-vbox"},[e.minimized?e._e():i("button",{staticClass:"o-tt-top-row-button c-tt-buy-button c-tt-buy-button--unlocked",on:{click:e.buyMaxTheorems}},[e._v(" Купить всё ")]),!e.minimized&&e.hasTTAutobuyer?i("PrimaryToggleButton",{staticClass:"o-tt-autobuyer-button c-tt-buy-button c-tt-buy-button--unlocked",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):e._e()],1)],1)]),e.minimizeAvailable?i("button",{staticClass:"ttshop-minimize-btn ttshop-background",on:{click:e.minimize}},[i("span",{staticClass:"minimize-arrow",style:e.minimizeArrowStyle},[e._v("▼")])]):e._e()])},hG=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"l-tt-save-load-btn c-tt-buy-button c-tt-buy-button--unlocked",attrs:{onClick:"Modal.preferredTree.show()"}},[i("i",{staticClass:"fas fa-cog"})])}],pG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("HoverMenu",{staticClass:"l-tt-save-load-btn__wrapper",scopedSlots:e._u([{key:"object",fn:function(){return[i("button",{staticClass:"l-tt-save-load-btn c-tt-buy-button c-tt-buy-button--unlocked",on:{click:[function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.save.apply(null,arguments):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.load.apply(null,arguments)}]}},[e._v(" "+e._s(e.displayName)+" ")])]},proxy:!0},{key:"menu",fn:function(){return[i("div",{staticClass:"l-tt-save-load-btn__menu c-tt-save-load-btn__menu"},[i("span",{attrs:{"ach-tooltip":"Название Древа (до 4 символов ASCII)"}},[i("input",{staticClass:"l-tt-save-load-btn__menu-rename c-tt-save-load-btn__menu-rename",attrs:{type:"text",size:"4",maxlength:"4"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideContextMenu.apply(null,arguments)},blur:e.nicknameBlur}})]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.edit}},[e._v(" Редактировать ")]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.handleExport}},[e._v(" Экспортировать ")]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.save}},[e._v(" Сохранить ")]),i("div",{staticClass:"l-tt-save-load-btn__menu-item"},[i("div",{staticClass:"c-tt-save-load-btn__menu-item",on:{click:e.load}},[e._v(" Загрузить ")]),i("div",{staticClass:"c-tt-save-load-btn__menu-item__hover-options"},[i("div",{class:{"c-tt-save-load-btn__menu-item__hover-option":!0,"c-tt-save-load-btn__menu-item__hover-option--disabled":!e.canEternity},on:{click:e.respecAndLoad}},[e._v(" Сбросить текущее Древо и загрузить ")])])]),i("div",{staticClass:"l-tt-save-load-btn__menu-item c-tt-save-load-btn__menu-item",on:{click:e.deletePreset}},[e._v(" Удалить ")])])]},proxy:!0}])})},mG=[],yG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._g({staticClass:"hover-menu__wrapper",on:{contextmenu:function(t){return t.preventDefault(),e.toggleContextMenu.apply(null,arguments)}}},e.listeners),[e._t("object"),e.contextMenuIsVisible?e._t("menu"):e._e()],2)},fG=[];const gG={name:"HoverMenu",props:{saveslot:{type:Number,default:0}},data:()=>({componentID:UIID.next(),contextMenuHideTimer:null,contextMenuShowTimer:null}),computed:{contextMenuIsVisible(){return this.$viewModel.currentContextMenu===this.componentID},listeners(){return Object.assign({},this.$listeners,{touchstart:()=>this.startShowTimer(),mouseenter:()=>this.startShowTimer(),mouseleave:()=>this.startHideTimer()})}},methods:{startShowTimer(){this.stopHideTimer(),this.contextMenuIsVisible||this.contextMenuShowTimer||(this.contextMenuShowTimer=setTimeout((()=>{this.contextMenuShowTimer=null,this.showContextMenu()}),250))},showContextMenu(){this.stopTimers(),this.$viewModel.currentContextMenu=this.componentID},startHideTimer(){this.stopShowTimer(),this.contextMenuIsVisible&&!this.contextMenuHideTimer&&(this.contextMenuHideTimer=setTimeout((()=>{this.contextMenuHideTimer=null,this.hideContextMenu()}),500))},hideContextMenu(){this.stopTimers(),this.$viewModel.currentContextMenu===this.componentID&&(this.$viewModel.currentContextMenu=null)},toggleContextMenu(){this.contextMenuIsVisible?this.hideContextMenu():this.showContextMenu()},stopTimers(){this.stopHideTimer(),this.stopShowTimer()},stopHideTimer(){this.contextMenuHideTimer&&(clearTimeout(this.contextMenuHideTimer),this.contextMenuHideTimer=null)},stopShowTimer(){this.contextMenuShowTimer&&(clearTimeout(this.contextMenuShowTimer),this.contextMenuShowTimer=null)}}},bG=gG;var vG=(0,H.A)(bG,yG,fG,!1,null,"0f008cfb",null);const EG=vG.exports,TG={name:"TimeStudySaveLoadButton",components:{HoverMenu:EG},props:{saveslot:{type:Number,required:!0}},data(){return{name:"",displayName:"",canEternity:!1}},computed:{preset(){return player.timestudy.presets[this.saveslot-1]}},methods:{update(){this.name=player.timestudy.presets[this.saveslot-1].name,this.displayName=""===this.name?this.saveslot:this.name,this.canEternity=Player.canEternity},nicknameBlur(e){const t=e.target.value.slice(0,4).trim();if(!this.isASCII(t))return;const i=player.timestudy.presets.map((e=>e.name));i.includes(t)||(this.preset.name=t,this.name=this.preset.name)},hideContextMenu(){this.$viewModel.currentContextMenu=null},isASCII(e){return!/[^\u0000-\u00ff]/u.test(e)},save(){this.hideContextMenu(),this.preset.studies=GameCache.currentStudyTree.value.exportString;const e=this.name?`Древо Исследований "${this.name}"`:"Древо Исследований";GameUI.notify.eternity(`${e} сохранено в слоте №${this.saveslot}`)},load(){if(this.hideContextMenu(),this.preset.studies){const e=new TimeStudyTree;e.attemptBuyArray(TimeStudyTree.currentStudies,!1),e.attemptBuyArray(e.parseStudyImport(this.preset.studies),!0),TimeStudyTree.commitToGameState(e.purchasedStudies,!1,e.startEC);const t=this.name?`Древо Исследований "${this.name}"`:"Древо Исследований";GameUI.notify.eternity(`${t} загружено из слота №${this.saveslot}`)}else Modal.message.show("Этот слот пустой.")},respecAndLoad(){if(Player.canEternity){player.respec=!0;const e=new TimeStudyTree;e.attemptBuyArray(e.parseStudyImport(this.preset.studies)),animateAndEternity((()=>TimeStudyTree.commitToGameState(e.purchasedStudies,!1,e.startEC)))}},deletePreset(){this.hideContextMenu(),this.preset.studies?Modal.studyString.show({id:this.saveslot-1,deleting:!0}):Modal.message.show("Этот слот пустой.")},handleExport(){this.hideContextMenu(),copyToClipboard(this.preset.studies);const e=this.name?`Древо Исследований "${this.name}"`:"Древо Исследований";GameUI.notify.eternity(`${e} экспортировано из слота №${this.saveslot} в ваш буфер обмена`)},edit(){Modal.studyString.show({id:this.saveslot-1})}}},_G=TG;var CG=(0,H.A)(_G,pG,mG,!1,null,"a89fba6c",null);const AG=CG.exports;var kG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"l-tt-buy-button c-tt-buy-button",class:e.enabledClass,on:{click:e.action}},[e._v(" "+e._s(e.isLocked?"Разблокируется на вечности":e.formatCost(e.cost))+" ")])},wG=[];const SG={props:{budget:Decimal,cost:Decimal,formatCost:{type:Function,required:!0},action:{type:Function,required:!0}},data(){return{isLocked:!1}},computed:{isEnabled(){return!this.isLocked&&this.budget.gte(this.cost)},enabledClass(){return!this.isEnabled||this.isLocked?"c-tt-buy-button--locked":"c-tt-buy-button--unlocked"}},methods:{update(){this.isLocked=player.eternities.eq(0)}}},xG=SG;var RG=(0,H.A)(xG,kG,wG,!1,null,null,null);const IG=RG.exports,MG={name:"TimeTheoremShop",components:{PrimaryToggleButton:$g,TimeTheoremBuyButton:IG,TimeStudySaveLoadButton:AG},data(){return{theoremAmount:new Decimal(0),theoremGeneration:new Decimal(0),totalTimeTheorems:new Decimal(0),shopMinimized:!1,minimizeAvailable:!1,hasTTAutobuyer:!1,isAutobuyerOn:!1,budget:{am:new Decimal(0),ip:new Decimal(0),ep:new Decimal(0)},costs:{am:new Decimal(0),ip:new Decimal(0),ep:new Decimal(0)},showST:!1,STamount:0,hasTTGen:!1,showTTGen:!1,invertTTgenDisplay:!1}},computed:{minimized(){return this.minimizeAvailable&&this.shopMinimized},formatTimeTheoremType(){return this.theoremAmount.gte(1e6)?format:!Teresa.isRunning&&!Enslaved.isRunning&&getAdjustedGlyphEffect("dilationTTgen")>0&&!DilationUpgrade.ttGenerator.isBought?formatFloat:formatInt},TTgenRateText(){return this.theoremGeneration.lt(1/3600)?`ТВ, получая по одной каждые ${TimeSpan.fromSeconds(this.theoremGeneration.reciprocal().toNumber()).toStringShort(!1)}`:this.theoremGeneration.lt(.1)?`${format(this.theoremGeneration.times(3600),2,2)} ТВ в час`:`${format(this.theoremGeneration,2,2)} ТВ в секунду`},totalTimeTheoremText(){return`${quantify("Теорема",this.totalTimeTheorems,2,2,this.formatTimeTheoremType)} Времени всего`},minimizeArrowStyle(){return{transform:this.minimized?"rotate(-180deg)":"",transition:"all 0.25s ease-out"}},shopBottomRowHeightStyle(){return{height:this.hasTTAutobuyer?"6.7rem":"4.4rem"}}},watch:{isAutobuyerOn(e){Autobuyer.timeTheorem.isActive=e},invertTTgenDisplay(e){player.options.invertTTgenDisplay=e}},methods:{minimize(){player.timestudy.shopMinimized=!player.timestudy.shopMinimized},formatAM(e){return`${format(e)} антиматерии`},buyWithAM(){TimeTheorems.buyOne(!1,"am")},formatIP(e){return`${format(e)} ОБ`},buyWithIP(){TimeTheorems.buyOne(!1,"ip")},formatEP(e){return`${format(e,2,0)} ОВ`},buyWithEP(){TimeTheorems.buyOne(!1,"ep")},buyMaxTheorems(){TimeTheorems.buyMax(!1)},update(){this.theoremAmount.copyFrom(Currency.timeTheorems),this.theoremGeneration.copyFrom(getTTPerSecond().times(getGameSpeedupForDisplay())),this.totalTimeTheorems.copyFrom(Currency.timeTheorems.max),this.shopMinimized=player.timestudy.shopMinimized,this.hasTTAutobuyer=Autobuyer.timeTheorem.isUnlocked,this.isAutobuyerOn=Autobuyer.timeTheorem.isActive,this.minimizeAvailable=DilationUpgrade.ttGenerator.isBought||this.hasTTAutobuyer;const e=this.budget;e.am.copyFrom(TimeTheoremPurchaseType.am.currency),e.ip.copyFrom(TimeTheoremPurchaseType.ip.currency),e.ep.copyFrom(TimeTheoremPurchaseType.ep.currency);const t=this.costs;t.am.copyFrom(TimeTheoremPurchaseType.am.cost),t.ip.copyFrom(TimeTheoremPurchaseType.ip.cost),t.ep.copyFrom(TimeTheoremPurchaseType.ep.cost),this.showST=V.spaceTheorems>0&&!Pelle.isDoomed,this.STamount=V.availableST,this.hasTTGen=this.theoremGeneration.gt(0),this.showTTGen=this.hasTTGen&&ui.view.shiftDown===this.invertTTgenDisplay,this.invertTTgenDisplay=player.options.invertTTgenDisplay},toggleTTgen(){this.invertTTgenDisplay=!this.invertTTgenDisplay}}},DG=MG;var PG=(0,H.A)(DG,dG,hG,!1,null,"8f2642f2",null);const UG=PG.exports,GG={name:"GameUiComponentFixed",components:{HowToPlay:nU,TimeTheoremShop:UG,ModernSidebar:UU,SaveTimer:JU,SpeedrunStatus:uG,PopupModal:jU,ModalProgressBar:fU,CelestialQuoteModal:$P,CelestialQuoteHistoryDisplay:xP,FadeAway:JP,CreditsContainer:jP,SpectateGame:nG,NewGame:$U},data(){return{ending:!1}},computed:{view(){return this.$viewModel},hideIfMatoFullscreen(){return{visibility:ui.view.tabs.reality.automator.fullScreen?"hidden":"visible"}}},methods:{update(){this.ending=GameEnd.endState>=END_STATE_MARKERS.FADE_AWAY&&!GameEnd.creditsClosed}}},BG=GG;var OG=(0,H.A)(BG,lP,cP,!1,null,"4d93d0ce",null);const LG=OG.exports;var $G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"page"}},[i("link",{attrs:{rel:"stylesheet",type:"text/css",href:"stylesheets/new-ui-styles.css"}}),i("div",{key:e.newGameKey,staticClass:"game-container",style:e.topMargin},[e.news?i("NewsTicker"):e._e(),i("BigCrunchButton"),e.bigCrunch?e._e():i("div",{staticClass:"tab-container"},[i("HeaderPrestigeGroup"),i("div",{staticClass:"information-header"},[i("HeaderChallengeDisplay"),i("HeaderChallengeEffects"),e.hasReality?i("GameSpeedDisplay"):e._e(),e.hasReality?i("br"):e._e(),i("HeaderBlackHole")],1),e._t("default")],2)],1)])},HG=[];const FG={name:"ModernUi",components:{BigCrunchButton:mI,HeaderChallengeDisplay:$I,HeaderChallengeEffects:jI,NewsTicker:TD,HeaderBlackHole:xI,HeaderPrestigeGroup:dD,GameSpeedDisplay:fM},data(){return{bigCrunch:!1,hasReality:!1,newGameKey:""}},computed:{news(){return this.$viewModel.news},topMargin(){return this.$viewModel.news?"":"margin-top: 3.9rem"}},methods:{update(){const e=!player.break&&Player.canCrunch;this.bigCrunch=e&&Time.bestInfinityRealTime.totalMinutes>1,this.hasReality=PlayerProgress.realityUnlocked(),this.newGameKey=Pelle.isDoomed},handleClick(){PlayerProgress.infinityUnlocked()?manualBigCrunchResetRequest():Modal.bigCrunch.show()}}},qG=FG;var VG=(0,H.A)(qG,$G,HG,!1,null,"6cdb825d",null);const YG=VG.exports;var jG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-ra-alchemy-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.showAlchemyHowTo}},[e._v(" Нажмите для просмотра информации об алхимии ")]),e.isDoomed?e._e():i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllReactions}},[e._v(" "+e._s(e.allReactionsDisabled?"Включить":"Отключить")+" все реакции ")]),e.realityCreationVisible?i("PrimaryButton",{class:e.realityGlyphCreationClass,attrs:{onclick:"Modal.realityGlyph.show()"}},[e._v(" Просмотреть создание Глифа Реальности ")]):e._e()],1),i("AlchemyResourceInfo",{key:e.infoResourceId,attrs:{resource:e.infoResource}}),i("br"),e._v(" Глифы могут быть облагорожены с помощью Фильтра Глифов. "),i("br"),e._v(" Каждый из основных алхимических ресурсов ограничен в зависимости от наибольшего из уровней облагороженных глифов соответствующего типа. "),e.reactionsAvailable?i("span",[e._v(" Реакции происходят скачками каждую реальность, на что не влияет усиление реальности сохранённым реальным временем. ")]):e._e(),i("div",{staticClass:"l-alchemy-circle",style:e.circleStyle},[e.isDoomed?i("span",{staticClass:"c-pelle-symbol-overlay",domProps:{innerHTML:e._s(e.pelleSymbol)}}):e._e(),i("svg",{staticClass:"l-alchemy-orbit-canvas"},e._l(e.layout.orbits,(function(t,a){return i("circle",{key:a,staticClass:"o-alchemy-orbit",class:e.orbitClass,attrs:{cx:"50%",cy:"50%",r:e.orbitSize(t)}})})),0),e._l(e.layout.nodes,(function(t,a){return i("AlchemyCircleNode",{key:a,class:e.nodeClass(t),attrs:{node:t,"is-focused":e.isFocusedNode(t)},on:{mouseenter:function(i){return e.handleMouseEnter(t)},mouseleave:e.handleMouseLeave,click:function(i){return e.handleClick(t)}}})})),i("svg",{staticClass:"l-alchemy-arrow-canvas"},[e._l(e.layout.reactionArrows,(function(t,a){return i("line",e._b({key:"arrow-"+a+e.realityAmount,class:e.reactionPathClass(t)},"line",e.reactionArrowPaths(t),!1))})),e._l(e.layout.reactionArrows,(function(t,a){return i("line",e._b({key:"arrow2-"+a+e.realityAmount,class:e.reactionArrowClass(t)},"line",e.reactionArrowPositions(t),!1))}))],2)],2)],1)},WG=[];class XG{constructor(e,t,i=0){this._resources=AlchemyResources.all.filter((t=>t.config.tier===e)).sort(((e,t)=>e.config.uiOrder-t.config.uiOrder)),this._radius=t,this._angleOffset=i}get radius(){return this._radius}get nodes(){const e=[],t=Math.PI_2/this._resources.length;let i=this._angleOffset;for(const a of this._resources)e.push({resource:a,x:this._radius*Math.sin(i),y:this._radius*Math.cos(i)}),i+=t;return e}}class zG{constructor(){this.orbits=[new XG(1,4,-Math.PI/3),new XG(2,3),new XG(3,2,Math.PI/3),new XG(4,1,-Math.PI/6),new XG(5,0)];const e=[];for(const a of this.orbits.map((e=>e.nodes)))e.push(...a);const t=2*Math.max(e.map((e=>Math.abs(e.x))).max(),e.map((e=>Math.abs(e.y))).max());for(const a of e)a.x=100*(a.x/t+.5),a.y=100*(a.y/t+.5);const i=[];for(const a of AlchemyReactions.all.compact()){const t=e.find((e=>e.resource===a.product)),n=a.reagents.map((t=>e.find((e=>e.resource===t.resource))));for(const e of n)i.push({reaction:a,reagent:e,product:t})}this.reactionArrows=i,this.nodes=e,this.size=t}}var KG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-alchemy-node",class:e.classObject,style:e.layoutStyle,on:{mouseenter:function(t){return e.$emit("mouseenter")},mouseleave:function(t){return e.$emit("mouseleave")},click:e.emitClick}},[i("AlchemyResourceArc",{attrs:{resource:e.resource,"class-object":e.classObject}}),e.isUnlocked?i("span",[i("HintText",{staticClass:"o-hint-text--alchemy-node l-hint-text--alchemy-node",class:e.hintClassObject,attrs:{type:"alchemy"}},[e._v(" "+e._s(e.formatInt(e.amount))+" ")])],1):e._e()],1)},QG=[],JG=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-alchemy-resource-arc-wrapper"},[i("div",{staticClass:"o-alchemy-resource-arc-spinner o-alchemy-resource-arc-circle",style:e.spinnerTransform}),i("div",{staticClass:"o-alchemy-resource-arc-filler o-alchemy-resource-arc-circle",style:e.fillerTransform}),i("div",{staticClass:"o-alchemy-resource-arc-mask",style:e.maskTransform}),i("div",{staticClass:"o-alchemy-node-mask",class:e.classObject},[e._v(" "+e._s(e.resource.symbol)+" ")])])},ZG=[];const eN={name:"AlchemyResourceArc",props:{resource:{type:Object,required:!0},classObject:{type:Object,required:!0}},data(){return{amount:0,fillFraction:0}},computed:{spinnerTransform(){return{transform:`rotate(${360*this.fillFraction}deg)`,background:1===this.fillFraction?"#ff9800":void 0}},fillerTransform(){return{opacity:this.fillFraction>.5?1:0,background:1===this.fillFraction?"#ff9800":void 0}},maskTransform(){return{opacity:this.fillFraction>.5?0:1}}},methods:{update(){this.amount=this.resource.amount,this.fillFraction=this.resource.fillFraction}}},tN=eN;var iN=(0,H.A)(tN,JG,ZG,!1,null,"18cd169c",null);const aN=iN.exports;var nN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showThisHintText,expression:"showThisHintText"}],staticClass:"o-hint-text l-hint-text"},[e._t("default")],2)},sN=[];const rN={name:"HintText",props:{type:{type:String,required:!0}},computed:{showThisHintText(){return this.$viewModel.shiftDown||player.options.showHintText[this.type]}}},oN=rN;var lN=(0,H.A)(oN,nN,sN,!1,null,null,null);const cN=lN.exports,uN={name:"AlchemyCircleNode",components:{HintText:cN,AlchemyResourceArc:aN},props:{node:{type:Object,required:!0},isFocused:{type:Boolean,required:!1,default:!1}},data(){return{isReactionActive:!1,amount:0,flow:0,isUnlocked:!1}},computed:{resource(){return this.node.resource},isBaseResource(){return this.resource.isBaseResource},layoutStyle(){const e=Math.clamp(.7*Math.sqrt(Math.abs(this.flow)),0,1);return{left:`${this.node.x}%`,top:`${this.node.y}%`,"box-shadow":`0 0 0.3rem 0.3rem\n          rgba(${this.flow>0?"156, 204, 101":"204, 102, 102"}, ${e})`}},classObject(){return{"o-alchemy-node--base":this.isBaseResource,"o-alchemy-node--active":this.isReactionActive,"o-alchemy-node--unfocused":!this.isFocused,"o-alchemy-node--locked":!this.isUnlocked}},hintClassObject(){return this.isFocused?void 0:"o-hint-text--alchemy-node--unfocused"}},methods:{update(){this.isReactionActive=!Pelle.isDoomed&&!this.isBaseResource&&this.node.resource.reaction.isActive,this.amount=this.resource.amount,this.flow=this.resource.flow,this.isUnlocked=this.resource.isUnlocked}}},dN=uN;var hN=(0,H.A)(dN,KG,QG,!1,null,"ce831c78",null);const pN=hN.exports;var mN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("div",{class:e.classObject},[i("span",{staticClass:"c-alchemy-resource-info__title"},[e._v(" "+e._s(e.resource.symbol)+" "+e._s(e.resource.name)+" "+e._s(e.resource.symbol)+" ")]),e.isDoomed?i("span",[e._v(" Разрушено Пеллем ")]):i("span",[e._v(" "+e._s(e.capped?"Ограничено":"Количество")+": "+e._s(e.resourceAmount)+"/"+e._s(e.resourceCap)+" (Недавнее изменение: "),i("span",{domProps:{innerHTML:e._s(e.formattedFlow)}}),e._v(") ")]),e.isBaseResource?i("span",[e._v("Основной ресурс")]):i("span",[e._v("Реакция: "+e._s(e.isReactionActive?"включена":"отключена")+" ("+e._s(e.reactionText)+")")]),i("span",{class:{"o-pelle-disabled":e.isDoomed}},[i("EffectDisplay",{attrs:{label:"Эффект",config:e.effectConfig}})],1)]):i("div",{class:e.classObject},[e._v(" Требование разблокировки: "+e._s(e.unlockRequirement)+" ")])},yN=[],fN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible&&void 0!==e.effectDisplay?i("span",[e.br?i("br"):e._e(),e._v(" "+e._s(e.labelDisplay)+e._s(e.effectDisplay)+" ")]):e._e()},gN=[];const bN={name:"EffectDisplay",props:{config:{type:Object,required:!1,default:void 0},br:{type:Boolean,required:!1},label:{type:String,default:"Сейчас",required:!1},ignoreCapped:{type:Boolean,required:!1,default:!1}},data(){return{isVisible:!1,effectValue:0,cap:Number.MAX_VALUE,hasCap:!1}},computed:{reachedCap(){return this.hasCap&&this.reachedCapFunction()},labelDisplay(){return this.config.noLabel?"":`${this.reachedCap&&!this.ignoreCapped?"Ограничено":this.label}: `},effectDisplay(){return this.formatEffect(this.reachedCap?this.cap:this.effectValue)}},watch:{config:{immediate:!0,handler(e){this.updateEffect=()=>{},this.updateCap=()=>{};const t=null===e||void 0===e?void 0:e.effect,i=null===e||void 0===e?void 0:e.formatEffect;if(this.isVisible=void 0!==t&&void 0!==i,!this.isVisible)return;if(this.formatEffect=i,LS(t))return void(this.effectValue=t);if(FS(t))return void(this.effectValue=Decimal.fromDecimal(t));if(!HS(t))throw new Error(`EffectDisplay config.effect has  unsupported type "${typeof t}"`);const a=t();if(LS(a))this.effectValue=a,this.updateEffect=()=>this.effectValue=t();else{if(!FS(a))throw new Error(`EffectDisplay config.effect is a function which returns unsupported type "${typeof t}"`);this.effectValue=Decimal.fromDecimal(a),this.updateEffect=()=>this.effectValue.copyFrom(t())}let n=e.cap;if(void 0!==e.reachedCap&&(n=()=>this.effectValue,this.reachedCapFunction=e.reachedCap),void 0!==n){if(void 0===e.reachedCap&&(this.reachedCapFunction=LS(a)?()=>this.effectValue>=this.cap:()=>this.effectValue.gte(this.cap)),LS(n))return this.cap=n,void(this.hasCap=!0);if(FS(n))return this.cap=Decimal.fromDecimal(n),void(this.hasCap=!0);if(HS(n))return this.updateCap=()=>{this.cap=n(),this.hasCap=void 0!==this.cap},void this.updateCap();throw new Error(`EffectDisplay config.cap is a function which returns unsupported type "${typeof t}"`)}}}},beforeCreate(){this.updateEffect=()=>{},this.updateCap=()=>{}},methods:{update(){this.updateEffect(),this.updateCap()}}},vN=bN;var EN=(0,H.A)(vN,fN,gN,!1,null,null,null);const TN=EN.exports,_N={name:"AlchemyResourceInfo",components:{EffectDisplay:TN},props:{resource:{type:Object,required:!0}},data(){return{amount:0,cap:0,capped:!1,flow:0,isReactionActive:!1,reactionProduction:0,isUnlocked:!1,unlockRequirement:""}},computed:{classObject(){return{"c-alchemy-resource-info":!0,"c-alchemy-resource-info--locked":!this.isUnlocked}},divisibleByThree(){return this.reaction.reagents.every((e=>e.cost%3===0))},reaction(){return this.resource.reaction},isBaseResource(){return this.resource.isBaseResource},reactionText(){if(this.resource===AlchemyResource.reality)return this.realityReactionText;const e=this.reaction.reagents.map((e=>`${this.formatCoefficient(this.divisibleByThree?2*e.cost/3:2*e.cost)}${e.resource.symbol}`)).join(" + ");return`${e} ➜ ${this.formatCoefficient(this.divisibleByThree?1:3)}${this.resource.symbol}`},realityReactionText(){const e=this.reaction.reagents.map((e=>e.resource.symbol)).join(" + ");return`${e} ➜ ${this.resource.symbol} (на эту реакцию не влияет Синергия)`},effectConfig(){const e=this.resource;return{effect:()=>e.effectValue,formatEffect:e.config.formatEffect}},resourceAmount(){return formatFloat(this.amount,1)},resourceCap(){return formatFloat(this.cap,1)},formattedFlow(){const e=this.flow>=0?"+":"-";if(Math.abs(this.flow)<.01)return"Нет";const t=`${e}${format(Math.abs(this.flow),2,2)}/с`,i=this.flow>0?"9CCC65":"CC6666";return`<span style="color:#${i}">${t}</span>`},isDoomed:()=>Pelle.isDoomed},methods:{update(){const e=this.resource;this.amount=e.amount,this.cap=e.cap,this.capped=e.capped,this.flow=e.flow,this.isUnlocked=e.isUnlocked,this.unlockRequirement=e.lockText,this.isBaseResource||(this.isReactionActive=!this.isDoomed&&this.reaction.isActive,this.reactionProduction=this.reaction.reactionProduction)},formatCoefficient(e){return 1===e?"":formatInt(e)}}},CN=_N;var AN=(0,H.A)(CN,mN,yN,!1,null,"30185ba8",null);const kN=AN.exports,wN={name:"AlchemyTab",components:{PrimaryButton:Fs,AlchemyCircleNode:pN,AlchemyResourceInfo:kN},data(){return{infoResourceId:0,focusedResourceId:-1,reactionsAvailable:!1,realityCreationVisible:!1,animationTimer:0,alchemyCap:0,capFactor:0,createdRealityGlyph:!1,allReactionsDisabled:!1,realityAmount:0}},computed:{resources:()=>AlchemyResources.all,layout:()=>new zG,sizeMultiplier:()=>5,infoResource(){return this.resources[this.infoResourceId]},circleStyle(){const e=this.layout.size*this.sizeMultiplier;return{width:`${e}rem`,height:`${e}rem`,opacity:this.isDoomed?.8:1}},orbitClass(){return-1===this.focusedResourceId||this.isDoomed?void 0:"o-alchemy-orbit--unfocused"},realityGlyphCreationClass(){return{"o-primary-btn--subtab-option":!0,"tutorial--glow":!this.createdRealityGlyph}},reactions(){return AlchemyReactions.all.compact().filter((e=>e.product.isUnlocked))},isDoomed(){return Pelle.isDoomed},pelleSymbol(){return Pelle.symbol}},methods:{update(){this.reactionsAvailable=0!==AlchemyResources.all.filter((e=>!e.isBaseResource&&e.isUnlocked)).length,this.realityCreationVisible=25===Ra.pets.effarig.level,this.animationTimer+=35,this.alchemyCap=Ra.alchemyResourceCap,this.capFactor=1/GlyphSacrificeHandler.glyphRefinementEfficiency,this.createdRealityGlyph=player.reality.glyphs.createdRealityGlyph,this.allReactionsDisabled=this.reactions.every((e=>!e.isActive)),this.realityAmount=AlchemyResource.reality.amount},orbitSize(e){const t=this.layout.orbits.map((e=>e.radius)).max();return e.radius/t*50+"%"},handleMouseEnter(e){this.infoResourceId=e.resource.id,e.resource.isUnlocked&&(this.focusedResourceId=e.resource.id)},handleMouseLeave(){this.focusedResourceId=-1},handleClick(e){const t=e.resource;if(t.isUnlocked)return this.infoResourceId!==t.id?(this.infoResourceId=t.id,void(this.focusedResourceId=t.id)):void(t.isBaseResource||(t.reaction.isActive=!t.reaction.isActive,GameUI.update()))},isUnlocked(e){return e.product.resource.isUnlocked&&e.reagent.resource.isUnlocked},isCapped(e){const t=e.reagent.resource,i=e.product.resource;return i.amount>0&&i.amount>=t.amount||i.amount>=i.cap},isLessThanRequired(e){return e.product.resource.amount>0&&e.reagent.cost<e.reagent.resource.cap},isActiveReaction(e){return e.reaction.isActive&&!this.isDoomed},isFocusedReaction(e){return!this.isDoomed&&(this.isUnlocked(e)&&(e.product.resource.id===this.focusedResourceId||e.reagent.resource.id===this.focusedResourceId))},isDisplayed(e){return this.isUnlocked(e)&&(this.isActiveReaction(e)||this.isFocusedReaction(e))},isFocusedNode(e){var t,i;if(-1===this.focusedResourceId||this.isDoomed)return!0;const a=this.resources[this.focusedResourceId];return a===e.resource||((null===(t=a.reaction)||void 0===t?void 0:t.reagents.some((t=>t.resource===e.resource)))||(null===(i=e.resource.reaction)||void 0===i?void 0:i.reagents.some((e=>e.resource===a))))},reactionArrowPositions(e){if(!this.isDisplayed(e)||this.isCapped(e))return;const t=e.reagent.x,i=e.reagent.y,a=e.product.x,n=e.product.y,s=Math.sqrt(Math.pow(a-t,2)+Math.pow(n-i,2)),r=40*s,o=this.animationTimer%r/r,l=Math.max(0,o+2/s),c=Math.min(1,o-2/s);return{x1:t*(1-l)+a*l+"%",y1:i*(1-l)+n*l+"%",x2:t*(1-c)+a*c+"%",y2:i*(1-c)+n*c+"%"}},reactionArrowPaths(e){return{x1:`${e.reagent.x}%`,y1:`${e.reagent.y}%`,x2:`${e.product.x}%`,y2:`${e.product.y}%`}},reactionPathClass(e){return{"o-alchemy-reaction-path":this.isUnlocked(e),"o-alchemy-reaction-path--capped":this.isCapped(e)&&this.isDisplayed(e),"o-alchemy-reaction-path--less-than-required":this.isLessThanRequired(e)&&this.isDisplayed(e),"o-alchemy-reaction-path--focused":!this.isCapped(e)&&this.isFocusedReaction(e),"o-alchemy-reaction-path--not-focused":!this.isFocusedReaction(e)&&-1!==this.focusedResourceId,"o-alchemy-reaction-path--doomed":this.isDoomed}},reactionArrowClass(e){return{"o-alchemy-reaction-arrow":!this.isCapped(e)&&this.isDisplayed(e),"o-alchemy-reaction-arrow--focused":this.isFocusedReaction(e)}},showAlchemyHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter((e=>"Алхимия"===e.name))[0],Modal.h2p.show()},toggleAllReactions(){const e=this.allReactionsDisabled;for(const t of this.reactions)t.isActive=e},nodeClass(e){const t=e.resource;return{"o-clickable":t.isUnlocked&&!t.isBaseResource&&!this.isDoomed}}}},SN=wN;var xN=(0,H.A)(SN,jG,WG,!1,null,"328649d2",null);const RN=xN.exports;var IN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.activeComponent,{tag:"component"})},MN=[],DN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-old-ui-antimatter-dim-tab"},[i("AntimatterDimensionsTabHeader"),e._v(" "+e._s(e.multiplierText)+" "),i("TickspeedRow"),i("div",{staticClass:"l-dimensions-container"},[e._l(8,(function(e){return i("AntimatterDimensionRow",{key:e,attrs:{tier:e}})})),i("DimensionBoostRow"),i("AntimatterGalaxyRow")],2),e.isQuickResetAvailable?i("PrimaryButton",{staticClass:"o-primary-btn--quick-reset",on:{click:e.quickReset}},[e._v(" Совершить сброс наподобие Расширения Измерений "),e.hasDimensionBoosts?i("span",[e._v(" с потерей одного Расширения Измерений")]):i("span",[e._v(" без получения множителя")])]):e._e(),i("div",{staticClass:"l-flex"}),i("AntimatterDimensionProgressBar",{staticClass:"l-antimatter-dim-tab__progress_bar"})],1)},PN=[],UN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-progress-bar"},[i("div",{staticClass:"c-progress-bar__fill",style:e.progressBarStyle},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"c-progress-bar__percents"},[e._v(" "+e._s(e.displayPercents)+" ")])])])},GN=[];const NN={name:"AntimatterDimensionProgressBar",data(){return{fill:0,tooltip:"",displayPercents:""}},computed:{progressBarStyle(){return{width:`${(100*this.fill).toFixed(2)}%`}}},methods:{update(){this.displayPercents=formatPercents(this.fill,2);const e=(e,t,i)=>{this.fill=Math.clampMax(e.pLog10()/Decimal.log10(t),1),this.tooltip=i},t=(e,t,i)=>{this.fill=Math.clampMax(e/t,1),this.tooltip=i},i=Player.isInAntimatterChallenge||EternityChallenge.isRunning||player.dilation.active||Laitela.isRunning;if(i)if(Player.isInAntimatterChallenge)e(Currency.antimatter.value,Player.antimatterChallenge.goal,"Процент до цели Испытания");else if(EternityChallenge.isRunning)if(Perk.studyECBulk.isBought){const t=EternityChallenge.current.gainedCompletionStatus.nextGoalAt;t?e(Currency.infinityPoints.value,t,"Процент до следующей цели Испытания"):e(Currency.infinityPoints.value,10,"Это Испытание уже полностью выполнено!")}else e(Currency.infinityPoints.value,Player.eternityGoal,"Процент до цели Испытания Вечности");else player.dilation.active?player.dilation.lastEP.gt(0)?e(Currency.antimatter.value,getTachyonReq(),"Процент до рекорда антиматерии в Замедлении"):e(Currency.infinityPoints.value,Player.eternityGoal,"Процент до вечности"):e(Decimal.pow10(player.celestials.laitela.entropy),10,"Процент до дестабилизации Реальности Лайтелы");else if(Pelle.isDoomed)PelleRifts.recursion.milestones[2].canBeApplied||GalaxyGenerator.spentGalaxies>0?e(Currency.infinityPoints.value,Tesseracts.nextCost,"Процент до следующего Тессеракта"):PelleStrikes.dilation.hasStrike?e(Currency.eternityPoints.value,v.E4000,"Процент до Генератора Галактик"):PelleStrikes.ECs.hasStrike?t((Math.min(Currency.timeTheorems.max.toNumber()/12900,1)+Math.min(EternityChallenges.completions/60,1))/2,1,"Процент до пятого Удара"):PelleStrikes.eternity.hasStrike?t(Currency.timeTheorems.max.toNumber(),115,"Процент до четвёртого Удара"):PelleStrikes.powerGalaxies.hasStrike?e(Currency.infinityPoints.value,Player.eternityGoal,"Процент до третьего Удара"):PelleStrikes.infinity.hasStrike?player.break?e(Currency.infinityPoints.value,5e11,"Процент до второго Удара"):e(Currency.antimatter.value,Decimal.NUMBER_MAX_VALUE,"Процент до бесконечности"):e(Currency.antimatter.value,Decimal.NUMBER_MAX_VALUE,"Процент до первого Удара");else if(Enslaved.isCompleted)e(Currency.infinityPoints.value,Tesseracts.nextCost,"Процент до следующего Тессеракта");else if(PlayerProgress.dilationUnlocked())e(Currency.eternityPoints.value,v.E4000,"Процент до реальности");else if(InfinityDimension(8).isUnlocked)e(Currency.infinityPoints.value,Player.eternityGoal,"Процент до вечности");else if(player.break){const t="Процент до "+(InfinityDimensions.next().hasIPUnlock?"нового типа измерений":"следующего Измерения Бесконечности"),i=InfinityDimensions.next();i.ipRequirementReached?e(player.records.thisEternity.maxAM,i.amRequirement,t):e(player.infinityPoints,i.ipRequirement,t)}else e(Currency.antimatter.value,Decimal.NUMBER_MAX_VALUE,"Процент до бесконечности")}}},BN=NN;var ON=(0,H.A)(BN,UN,GN,!1,null,null,null);const LN=ON.exports;var $N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row c-antimatter-dim-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,2),"amount-text":e.amountText,rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container"},[e.isContinuumActive?e._e():i("PrimaryButton",{class:e.buySingleClass,attrs:{enabled:e.isAffordable&&!e.isCapped&&e.isUnlocked},on:{click:e.buySingle}},[i("div",{class:e.tutorialClass()},[e._v(" "+e._s(e.singleText)+" ")]),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.boughtTooltip)+" ")]),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),i("PrimaryButton",{class:e.buyTenClass,attrs:{enabled:(e.isAffordableUntil10||e.isContinuumActive)&&!e.isCapped&&e.isUnlocked},on:{click:e.buyUntil10}},[e._v(" "+e._s(e.until10Text)+" "),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.boughtTooltip)+" ")])])],1)],1)},HN=[],FN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-dimension-text-container"},[i("div",{class:e.adjustableTextClass()},[i("span",{staticClass:"c-dim-row__large"},[e._v(" "+e._s(e.name)+" ")]),i("span",{staticClass:"c-dim-row__small"},[e._v(" "+e._s(e.multiplierText)+" ")])]),i("div",{class:e.adjustableTextClass()},[i("span",{staticClass:"c-dim-row__large"},[e._v(" "+e._s(e.amountText)+" ")]),e.rate.neq(0)&&e.showPercentage?i("span",{staticClass:"c-dim-row__small"},[e._v(" "+e._s(e.rateText)+" ")]):e._e()])])},qN=[];const VN={name:"GenericDimensionRowText",props:{tier:{type:Number,required:!0},name:{type:String,required:!0},multiplierText:{type:String,required:!0},amountText:{type:String,required:!0},rate:{type:Object,required:!0}},data(){return{isSmall:0}},computed:{rateText(){return this.rate.neq(0)?` (+${format(this.rate,2,2)}%/с)`:""},showPercentage(){return player.options.showHintText.showPercentage||ui.view.shiftDown}},methods:{update(){this.isSmall=window.innerWidth<1573},adjustableTextClass(){return{"l-narrow-box":this.isSmall,"l-wide-box":!this.isSmall}}}},YN=VN;var jN=(0,H.A)(YN,FN,qN,!1,null,"d07d598e",null);const WN=jN.exports,XN={name:"ClassicAntimatterDimensionRow",components:{GenericDimensionRowText:WN,PrimaryButton:Fs},props:{tier:{type:Number,required:!0}},data(){return{end:!1,isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,boughtBefore10:0,rateOfChange:new Decimal(0),singleCost:new Decimal(0),until10Cost:new Decimal(0),isAffordable:!1,isAffordableUntil10:!1,isContinuumActive:!1,continuumValue:0,isShown:!1,isCostsAD:!1,formattedAmount:null,hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,name(){return`${this.tier}-е Измерение Антиматерии`},amountText(){if(this.formattedAmount)return this.formattedAmount;const e=this.tier<8?format(this.amount,2):formatInt(this.amount);return`${e} (${formatInt(this.boughtBefore10)})`},singleText(){if(this.isCapped)return"Ограничено";const e=this.showCostTitle(this.singleCost)?"Цена: ":"",t=this.isCostsAD?`${this.costUnit}`:"антиматерии";return`${e} ${format(this.singleCost)} ${t}`},until10Text(){if(this.isCapped)return"Разрушено Реальностью Безымянных";if(this.isContinuumActive)return`Континуум: ${this.continuumString}`;const e=`До ${formatInt(10)},${this.showCostTitle(this.until10Cost)?" цена":""}`,t=this.isCostsAD?`${this.costUnit}`:"антиматерии";return`${e} ${format(this.until10Cost)} ${t}`},continuumString(){return formatFloat(this.continuumValue,2)},showRow(){return this.isShown||this.isUnlocked||this.amount.gt(0)},boughtTooltip(){return this.isCapped?`В Реальности Безымянных нельзя купить более ${format(1)} 8-го Измерения Антиматерии`:this.isContinuumActive?"Континуум замещает покупку Измерений Антиматерии":`Куплено ${quantifyInt("раз",this.bought)}`},costUnit(){return this.tier-2+"-х ИА"},buySingleClass(){return{"o-primary-btn--buy-ad o-primary-btn--buy-single-ad c-dim-tooltip-container":!0,"l-dim-row-small-text":this.isLongText(this.singleText)||!this.showCostTitle(this.singleCost)}},buyTenClass(){return{"o-primary-btn--buy-ad o-primary-btn--buy-dim c-dim-tooltip-container":!0,"o-primary-btn--buy-10-ad":!this.isContinuumActive,"o-primary-btn--continuum-ad o-continuum":this.isContinuumActive,"l-dim-row-small-text":this.isLongText(this.until10Text)&&!this.isContinuumActive}}},methods:{update(){const e=this.tier;if(8===e&&this.isDoomed&&(this.formattedAmount=formatInt(this.amount)),e>DimBoost.maxDimensionsUnlockable)return;const t=AntimatterDimension(e);this.isUnlocked=t.isAvailableForPurchase,this.isCapped=8===e&&Enslaved.isRunning&&t.bought>=1,this.multiplier.copyFrom(t.multiplier),this.amount.copyFrom(t.totalAmount),this.totalAmount=t.totalAmount,this.bought=t.bought,this.boughtBefore10=t.boughtBefore10,this.singleCost.copyFrom(t.cost),this.until10Cost.copyFrom(t.costUntil10),e<8&&this.rateOfChange.copyFrom(t.rateOfChange),this.isAffordable=t.isAffordable,this.isAffordableUntil10=t.isAffordableUntil10,this.isContinuumActive=Laitela.continuumActive,this.isContinuumActive&&(this.continuumValue=t.continuumValue),this.isShown=DimBoost.totalBoosts>0&&DimBoost.totalBoosts+3>=e||PlayerProgress.infinityUnlocked(),this.isCostsAD=NormalChallenge(6).isRunning&&e>2&&!this.isContinuumActive,this.hasTutorial=1===e&&Tutorial.isActive(TUTORIAL_STATE.DIM1)||2===e&&Tutorial.isActive(TUTORIAL_STATE.DIM2)},buySingle(){this.isContinuumActive||buyOneDimension(this.tier)},buyUntil10(){this.isContinuumActive||buyManyDimension(this.tier)},showCostTitle(e){return e.exponent<1e6},isLongText(e){return e.length>29},tutorialClass(){return{"l-glow-container":!0,"tutorial--glow":this.isAffordable&&this.hasTutorial}}}},zN=XN;var KN=(0,H.A)(zN,$N,HN,!1,null,"cd75f632",null);const QN=KN.exports;var JN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-antimatter-dim-tab__header"},[i("PrimaryButton",{directives:[{name:"show",rawName:"v-show",value:e.isSacrificeUnlocked,expression:"isSacrificeUnlocked"},{name:"tooltip",rawName:"v-tooltip",value:e.sacrificeTooltip,expression:"sacrificeTooltip"}],staticClass:"o-primary-btn--sacrifice",attrs:{enabled:e.isSacrificeAffordable},on:{click:e.sacrifice}},[e.isSacrificeAffordable?i("span",[e._v(" Пожертвование Измерений ("+e._s(e.formatX(e.sacrificeBoost,2,2))+") ")]):i("span",[e._v(" Пожертвование Измерений недоступно ("+e._s(e.disabledCondition)+") ")])]),i("PrimaryButton",{staticClass:"o-primary-btn--buy-max",on:{click:e.maxAll}},[e._v(" Max all (M) ")])],1)},ZN=[];const eB={name:"ClassicAntimatterDimensionsTabHeader",components:{PrimaryButton:Fs},data(){return{isSacrificeUnlocked:!1,isSacrificeAffordable:!1,currentSacrifice:new Decimal(0),sacrificeBoost:new Decimal(0),disabledCondition:""}},computed:{sacrificeTooltip(){return`Множитель ${formatX(this.sacrificeBoost,2,2)} к 8-му Измерению Антиматерии`}},methods:{update(){const e=Sacrifice.isVisible;this.isSacrificeUnlocked=e,e&&(this.isSacrificeAffordable=Sacrifice.canSacrifice,this.currentSacrifice.copyFrom(Sacrifice.totalBoost),this.sacrificeBoost.copyFrom(Sacrifice.nextBoost),this.disabledCondition=Sacrifice.disabledCondition)},sacrifice(){sacrificeBtnClick()},maxAll(){maxAll()}}},tB=eB;var iB=(0,H.A)(tB,JN,ZN,!1,null,null,null);const aB=iB.exports;var nB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-dimension-row c-antimatter-dim-row c-antimatter-prestige-row"},[i("div",{staticClass:"l-dim-row__prestige-text c-dim-row__label c-dim-row__label--amount l-text-wrapper"},[e._v(" "+e._s(e.typeName)+" ("+e._s(e.sumText)+"); Требуется: "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" ИА "),i("div",{staticClass:"l-scaling-text-wrapper"},[e._v(" "+e._s(e.hasIncreasedScaling?e.costScalingText:"")+" ")])]),i("PrimaryButton",{class:e.classObject,attrs:{enabled:e.canBeBought},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.buyGalaxy(!0)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.buyGalaxy(!1):null}]}},[e._v(" "+e._s(e.buttonText)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])],1)},sB=[];const rB={name:"ClassicAntimatterGalaxyRow",components:{PrimaryButton:Fs},data(){return{type:GALAXY_TYPE.NORMAL,galaxies:{normal:0,replicanti:0,dilation:0},requirement:{tier:1,amount:0},canBeBought:!1,distantStart:0,remoteStart:0,lockText:null,canBulkBuy:!1,creditsClosed:!1,scalingText:{distant:null,remote:null},hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return`${this.requirement.tier}-${pluralize("е",this.requirement.amount)}`},buttonText(){if(null!==this.lockText)return this.lockText;const e=[];return Pelle.isDoomed&&e.push("антиматерии","Измерений Антиматерии","ускорителей"),Perk.antimatterNoReset.isBought||e.push("Измерений Антиматерии","ускорителей"),Achievement(143).isUnlocked||e.push("Расширений Измерений"),Achievement(111).isUnlocked||Perk.antimatterNoReset.isBought||e.push("антиматерии"),0===e.length?"Усилить ускорители":`Сбросить ваше количество ${makeEnumeration(e)}, чтобы усилить ускорители`},sumText(){const e=[Math.max(this.galaxies.normal,0)];this.galaxies.replicanti>0&&e.push(this.galaxies.replicanti),this.galaxies.dilation>0&&e.push(this.galaxies.dilation);const t=e.map(this.formatGalaxies).join(" + ");return e.length>=2?`${t} = ${this.formatGalaxies(e.sum())}`:t},typeName(){switch(this.type){case GALAXY_TYPE.NORMAL:return"Галактики Антиматерии";case GALAXY_TYPE.DISTANT:return"Далёкие Галактики Антиматерии";case GALAXY_TYPE.REMOTE:return"Сверхдалёкие Галактики Антиматерии"}},hasIncreasedScaling(){return this.type!==GALAXY_TYPE.NORMAL},costScalingText(){switch(this.type){case GALAXY_TYPE.DISTANT:return`Галактики дорожают быстрее после ${formatInt(this.distantStart)}`;case GALAXY_TYPE.REMOTE:{const e=[{type:"далёкие",function:"квадратичный",amount:this.distantStart},{type:"сверхдалёкие",function:"экспоненциальный",amount:this.remoteStart}];return`Увеличение наценки на Галактики Антиматерии: ${e.sort(((e,t)=>e.amount-t.amount)).map((e=>`${e.function} рост требования после ${this.formatGalaxies(e.amount)} (на ${e.type})`)).join(", ").capitalize()}`}}},classObject(){return{"o-primary-btn--galaxy l-dim-row__prestige-button":!0,"tutorial--glow":this.canBeBought&&this.hasTutorial,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){this.type=Galaxy.type,this.galaxies.normal=player.galaxies+GalaxyGenerator.galaxies,this.galaxies.replicanti=Replicanti.galaxies.total,this.galaxies.dilation=player.dilation.totalTachyonGalaxies;const e=Galaxy.requirement;this.requirement.amount=e.amount,this.requirement.tier=e.tier,this.canBeBought=e.isSatisfied&&Galaxy.canBeBought,this.distantStart=EternityChallenge(5).isRunning?0:Galaxy.costScalingStart,this.remoteStart=Galaxy.remoteStart,this.lockText=Galaxy.lockText,this.canBulkBuy=EternityMilestone.autobuyMaxGalaxies.isReached,this.creditsClosed=GameEnd.creditsEverClosed,this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.GALAXY)},buyGalaxy(e){this.canBeBought&&manualRequestGalaxyReset(this.canBulkBuy&&e)},formatGalaxies(e){return e>1e8?format(e,2):formatInt(e)}}},oB=rB;var lB=(0,H.A)(oB,nB,sB,!1,null,"28f834d3",null);const cB=lB.exports;var uB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-dimension-row c-antimatter-dim-row c-antimatter-prestige-row"},[i("div",{staticClass:"l-dim-row__prestige-text c-dim-row__label c-dim-row__label--amount"},[e._v(" Расширения Измерений ("+e._s(e.boostCountText)+"); "),i("span",[e._v("Требуется: "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" ИА")])]),i("PrimaryButton",{class:e.classObject,attrs:{enabled:e.isBuyable},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.dimensionBoost(!0)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.dimensionBoost(!1):null}]}},[e._v(" "+e._s(e.unlockedByBoost)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])],1)},dB=[];const hB={name:"ClassicDimensionBoostRow",components:{PrimaryButton:Fs},data(){return{requirement:{tier:1,amount:0},isBuyable:!1,purchasedBoosts:0,imaginaryBoosts:0,lockText:null,unlockedByBoost:null,creditsClosed:!1,requirementText:null,hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return`${this.requirement.tier}-${pluralize("е",this.requirement.amount)}`},boostCountText(){if(this.requirementText)return this.requirementText;const e=[this.purchasedBoosts];0!==this.imaginaryBoosts&&e.push(this.imaginaryBoosts);const t=e.map(formatInt).join(" + ");return e.length>=2?`${t} = ${formatInt(e.sum())}`:t},classObject(){return{"o-primary-btn--dimboost l-dim-row__prestige-button":!0,"tutorial--glow":this.isBuyable&&this.hasTutorial,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){const e=DimBoost.requirement;this.requirement.tier=e.tier,this.requirement.amount=e.amount,this.isBuyable=e.isSatisfied&&DimBoost.canBeBought,this.purchasedBoosts=DimBoost.purchasedBoosts,this.imaginaryBoosts=DimBoost.imaginaryBoosts,this.lockText=DimBoost.lockText,this.unlockedByBoost=DimBoost.unlockedByBoost,this.creditsClosed=GameEnd.creditsClosed,this.isDoomed&&(this.requirementText=formatInt(this.purchasedBoosts)),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.DIMBOOST)},dimensionBoost(e){DimBoost.requirement.isSatisfied&&DimBoost.canBeBought&&manualRequestDimensionBoost(e)}}},pB=hB;var mB=(0,H.A)(pB,uB,dB,!1,null,"4a957a1d",null);const yB=mB.exports;var fB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject},[i("div",{staticClass:"tickspeed-buttons"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.upgradeCount,expression:"upgradeCount"}],class:e.buttonClass(),attrs:{onclick:"buyTickSpeed()"}},[e.isContinuumActive?i("span",[e._v(" Континуум ускорителей: "+e._s(e.continuumString)+" ")]):e.isEC9?i("span",[e._v(" Ускорители недоступны (ИспВ9) ")]):i("span",[e._v(" Цена ускорителя: "+e._s(e.format(e.cost))+" ")]),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),e.isContinuumActive?e._e():i("button",{staticClass:"o-primary-btn tickspeed-max-btn",class:{"o-primary-btn--disabled":!e.isAffordable&&!e.isContinuumActive},attrs:{onclick:"buyMaxTickSpeed()"}},[e._v(" Купить все ")])]),e.hasRealityButton?i("div",{staticClass:"tickspeed-labels"},[e._v(" "+e._s(e.tickspeedDisplay)+" | "+e._s(e.multiplierDisplay)+" ")]):e._e()])},gB=[];const bB={name:"TickspeedRow",data(){return{purchasedTickspeed:0,freeTickspeed:0,isVisible:!1,mult:new Decimal(0),cost:new Decimal(0),isAffordable:!1,tickspeed:new Decimal(0),gameSpeedMult:1,galaxyCount:0,isContinuumActive:!1,continuumValue:0,hasTutorial:!1,hasRealityButton:!1,isEC9:!1}},computed:{classObject(){return{"l-tickspeed-container":!0,"l-tickspeed-container--hidden":!this.isVisible}},multiplierDisplay(){if(InfinityChallenge(3).isRunning)return`Множитель ${formatX(1.05+.005*this.galaxyCount,3,3)}\n        ко всем Измерениям Антиматерии`;const e=this.mult;return`Множитель ${format(e.reciprocal(),2,3)} ко скорости тика за ускоритель`},tickspeedDisplay(){return`Скорость тика: ${format(this.tickspeed,2,3)}`},continuumString(){return formatFloat(this.continuumValue,2)},upgradeCount(){const e=this.purchasedTickspeed;return this.freeTickspeed?0===e||this.isContinuumActive?`${quantifyInt("дополнительный",this.freeTickspeed)} ${pluralize("ускоритель",this.freeTickspeed)}`:`${quantifyInt("ускоритель",e)} ${pluralize("куплен",e)} + ${quantifyInt("дополнительный",this.freeTickspeed)}`:`${quantifyInt("ускоритель",e)} ${pluralize("куплен",e)}`}},methods:{update(){this.hasRealityButton=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought,this.purchasedTickspeed=player.totalTickBought,this.freeTickspeed=FreeTickspeed.amount,this.isEC9=EternityChallenge(9).isRunning,this.isVisible=Tickspeed.isUnlocked||this.isEC9,this.isVisible&&(this.mult.copyFrom(Tickspeed.multiplier),this.cost.copyFrom(Tickspeed.cost),this.isAffordable=Tickspeed.isAvailableForPurchase&&Tickspeed.isAffordable,this.tickspeed.copyFrom(Tickspeed.perSecond),this.gameSpeedMult=getGameSpeedupForDisplay(),this.galaxyCount=player.galaxies,this.isContinuumActive=Laitela.continuumActive,this.isContinuumActive&&(this.continuumValue=Tickspeed.continuumValue),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.TICKSPEED))},buttonClass(){return{"o-primary-btn":!0,"tickspeed-btn":!0,"o-primary-btn--disabled":!this.isAffordable&&!this.isContinuumActive,"o-non-clickable o-continuum":this.isContinuumActive,"tutorial--glow":this.isAffordable&&this.hasTutorial}}}},vB=bB;var EB=(0,H.A)(vB,fB,gB,!1,null,"6a30694e",null);const TB=EB.exports,_B={name:"ClassicAntimatterDimensionsTab",components:{PrimaryButton:Fs,AntimatterDimensionRow:QN,AntimatterDimensionsTabHeader:aB,AntimatterGalaxyRow:cB,DimensionBoostRow:yB,AntimatterDimensionProgressBar:LN,TickspeedRow:TB},data(){return{hasDimensionBoosts:!1,isQuickResetAvailable:!1,isSacrificeUnlocked:!1,buy10Mult:new Decimal(0),currentSacrifice:new Decimal(0),hasRealityButton:!1,multiplierText:""}},methods:{update(){this.hasDimensionBoosts=player.dimensionBoosts>0,this.isQuickResetAvailable=Player.isInAntimatterChallenge&&Player.antimatterChallenge.isQuickResettable,this.isSacrificeUnlocked=Sacrifice.isVisible,this.buy10Mult.copyFrom(AntimatterDimensions.buyTenMultiplier),this.currentSacrifice.copyFrom(Sacrifice.totalBoost),this.hasRealityButton=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought;const e=this.isSacrificeUnlocked?` | Множитель Пожертвования Измерений: ${formatX(this.currentSacrifice,2,2)}`:"";this.multiplierText=`Множитель за покупку ${formatInt(10)} измерений: ${formatX(this.buy10Mult,2,2)}${e}`},quickReset(){softReset(-1,!0,!0)}}},CB=_B;var AB=(0,H.A)(CB,DN,PN,!1,null,"700e7a49",null);const kB=AB.exports;var wB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-antimatter-dim-tab"},[i("div",{staticClass:"modes-container"},[i("button",{staticClass:"o-primary-btn",on:{click:e.changeBuyMode}},[e._v(" "+e._s(e.getUntil10Display())+" ")]),i("PrimaryButton",{directives:[{name:"show",rawName:"v-show",value:e.isSacrificeUnlocked,expression:"isSacrificeUnlocked"},{name:"tooltip",rawName:"v-tooltip",value:e.sacrificeTooltip,expression:"sacrificeTooltip"}],staticClass:"o-primary-btn--sacrifice",attrs:{enabled:e.isSacrificeAffordable},on:{click:e.sacrifice}},[e.isSacrificeAffordable?i("span",[e._v("Пожертвование Измерений ("+e._s(e.formatX(e.sacrificeBoost,2,2))+")")]):i("span",[e._v("Пожертвование Измерений недоступно ("+e._s(e.disabledCondition)+")")])]),i("button",{staticClass:"o-primary-btn",on:{click:e.maxAll}},[e._v(" Купить всё (M) ")])],1),i("span",[e._v(e._s(e.multiplierText))]),i("TickspeedRow"),i("div",{staticClass:"l-dimensions-container"},e._l(8,(function(e){return i("AntimatterDimensionRow",{key:e,attrs:{tier:e}})})),1),i("div",{staticClass:"resets-container"},[i("DimensionBoostRow"),e.isQuickResetAvailable?i("PrimaryButton",{staticClass:"o-primary-btn--quick-reset",attrs:{onclick:"softReset(-1, true, true)"}},[e._v(" Совершить сброс наподобие Расширения Измерений "),e.hasDimensionBoosts?i("span",[e._v(" с потерей одного Расширения Измерений")]):i("span",[e._v(" без получения множителя")])]):e._e(),i("AntimatterGalaxyRow")],1),i("AntimatterDimensionProgressBar")],1)},SB=[],xB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-row-antimatter-dim c-antimatter-dim-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,2),"amount-text":e.amountDisplay,rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container c-modern-dim-tooltip-container"},[i("div",{staticClass:"c-modern-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.boughtTooltip)+" ")]),i("button",{class:e.buttonClass(),on:{click:e.buy}},[i("div",{class:e.buttonTextClass()},[i("div",[e._v(" "+e._s(e.buttonPrefix)+" ")]),i("div",{class:{"l-dim-row-small-text":e.hasLongText}},[e._v(" "+e._s(e.buttonValue)+" ")]),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]),e.isContinuumActive||!e.isUnlocked||e.isCapped?e._e():i("div",{staticClass:"fill"},[i("div",{staticClass:"fill-purchased",style:{width:10*e.boughtBefore10+"%"}}),i("div",{staticClass:"fill-possible",style:{width:10*e.howManyCanBuy+"%"}})])])])],1)},RB=[];const IB={name:"ModernAntimatterDimensionRow",components:{GenericDimensionRowText:WN},props:{tier:{type:Number,required:!0}},data(){return{isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,boughtBefore10:0,rateOfChange:new Decimal(0),singleCost:new Decimal(0),until10Cost:new Decimal(0),isAffordable:!1,buyUntil10:!0,howManyCanBuy:0,isContinuumActive:!1,continuumValue:0,isShown:!1,isCostsAD:!1,amountDisplay:"",hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,name(){return`${this.tier}-е Измерение Антиматерии`},costDisplay(){return this.buyUntil10?format(this.until10Cost):format(this.singleCost)},continuumString(){return formatFloat(this.continuumValue,2)},showRow(){return this.isShown||this.isUnlocked||this.amount.gt(0)},boughtTooltip(){return this.isCapped?`В Реальности Безымянных нельзя купить более ${format(1)} 8-го Измерения Антиматерии`:this.isContinuumActive?"Континуум замещает покупку Измерений Антиматерии":`Куплено ${quantifyInt("раз",this.bought)}`},costUnit(){return this.tier-2+"-х ИА"},buttonPrefix(){return this.isUnlocked?this.isCapped?"Разрушено Реальностью Безымянных":this.isContinuumActive?"Континуум: ":`Купить ${formatInt(this.howManyCanBuy)}`:"Недоступно"},buttonValue(){if(this.isCapped)return"";if(this.isContinuumActive)return this.continuumString;const e=this.showCostTitle(this.buyUntil10?this.until10Cost:this.singleCost)?"Цена: ":"",t=this.isCostsAD?this.costUnit:"антиматерии";return`${e}${this.costDisplay} ${t}`},hasLongText(){return this.buttonValue.length>29}},methods:{update(){const e=this.tier;if(e>DimBoost.maxDimensionsUnlockable&&!this.isDoomed)return;const t=AntimatterDimension(e);this.isUnlocked=t.isAvailableForPurchase;const i=player.buyUntil10;this.isCapped=8===e&&Enslaved.isRunning&&t.bought>=1,this.multiplier.copyFrom(AntimatterDimension(e).multiplier),this.amount.copyFrom(t.totalAmount),this.bought=t.bought,this.boughtBefore10=t.boughtBefore10,this.howManyCanBuy=i?t.howManyCanBuy:Math.min(t.howManyCanBuy,1),this.singleCost.copyFrom(t.cost),this.until10Cost.copyFrom(t.cost.times(Math.max(t.howManyCanBuy,1))),e<8&&this.rateOfChange.copyFrom(t.rateOfChange),this.isAffordable=t.isAffordable,this.buyUntil10=i,this.isContinuumActive=Laitela.continuumActive,this.isContinuumActive&&(this.continuumValue=t.continuumValue),this.isShown=DimBoost.totalBoosts>0&&DimBoost.totalBoosts+3>=e||PlayerProgress.infinityUnlocked(),this.isCostsAD=NormalChallenge(6).isRunning&&e>2&&!this.isContinuumActive,this.amountDisplay=this.tier<8?format(this.amount,2):formatInt(this.amount),this.hasTutorial=1===e&&Tutorial.isActive(TUTORIAL_STATE.DIM1)||2===e&&Tutorial.isActive(TUTORIAL_STATE.DIM2)},buy(){this.isContinuumActive||(1===this.howManyCanBuy?buyOneDimension(this.tier):buyAsManyAsYouCanBuy(this.tier))},showCostTitle(e){return e.exponent<1e6},buttonClass(){return{"o-primary-btn o-primary-btn--new":!0,"o-primary-btn--disabled":!this.isAffordable&&!this.isContinuumActive||!this.isUnlocked||this.isCapped,"o-non-clickable o-continuum":this.isContinuumActive}},buttonTextClass(){return{"button-content l-modern-buy-ad-text":!0,"tutorial--glow":this.isAffordable&&this.hasTutorial}}}},MB=IB;var DB=(0,H.A)(MB,xB,RB,!1,null,"75850408",null);const PB=DB.exports;var UB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reset-container galaxy"},[i("h4",[e._v(e._s(e.typeName)+" ("+e._s(e.sumText)+")")]),i("span",[e._v("Требуется: "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" ИА")]),e.hasIncreasedScaling?i("span",[e._v(e._s(e.costScalingText))]):e._e(),i("button",{class:e.classObject,on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.buyGalaxy(!0)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.buyGalaxy(!1):null}]}},[e._v(" "+e._s(e.buttonText)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])])},GB=[];const NB={name:"ModernAntimatterGalaxyRow",data(){return{type:GALAXY_TYPE.NORMAL,galaxies:{normal:0,replicanti:0,dilation:0},requirement:{tier:1,amount:0},canBeBought:!1,distantStart:0,remoteStart:0,lockText:null,canBulkBuy:!1,creditsClosed:!1,scalingText:{distant:null,remote:null},hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return`${this.requirement.tier}-${pluralize("е",this.requirement.amount)}`},buttonText(){if(null!==this.lockText)return this.lockText;const e=[];return Pelle.isDoomed&&e.push("антиматерии","Измерений Антиматерии","ускорителей"),Perk.antimatterNoReset.isBought||e.push("Измерений Антиматерии","ускорителей"),Achievement(143).isUnlocked||e.push("Расширений Измерений"),Achievement(111).isUnlocked||Perk.antimatterNoReset.isBought||e.push("антиматерии"),0===e.length?"Усилить ускорители":`Сбросить ваше количество ${makeEnumeration(e)}, чтобы усилить ускорители`},sumText(){const e=[Math.max(this.galaxies.normal,0)];this.galaxies.replicanti>0&&e.push(this.galaxies.replicanti),this.galaxies.dilation>0&&e.push(this.galaxies.dilation);const t=e.map(this.formatGalaxies).join(" + ");return e.length>=2?`${t} = ${this.formatGalaxies(e.sum())}`:t},typeName(){switch(this.type){case GALAXY_TYPE.NORMAL:return"Галактики Антиматерии";case GALAXY_TYPE.DISTANT:return"Далёкие Галактики Антиматерии";case GALAXY_TYPE.REMOTE:return"Сверхдалёкие Галактики Антиматерии"}},hasIncreasedScaling(){return this.type!==GALAXY_TYPE.NORMAL},costScalingText(){switch(this.type){case GALAXY_TYPE.DISTANT:return`Галактики дорожают быстрее после ${formatInt(this.distantStart)}`;case GALAXY_TYPE.REMOTE:{const e=[{type:"далёкие",function:"квадратичный",amount:this.distantStart},{type:"сверхдалёкие",function:"экспоненциальный",amount:this.remoteStart}];return`Увеличение наценки на Галактики Антиматерии: ${e.sort(((e,t)=>e.amount-t.amount)).map((e=>`${e.function} рост требования после ${this.formatGalaxies(e.amount)} (на ${e.type})`)).join(", ").capitalize()}`}}},classObject(){return{"o-primary-btn o-primary-btn--new o-primary-btn--dimension-reset":!0,"tutorial--glow":this.canBeBought&&this.hasTutorial,"o-primary-btn--disabled":!this.canBeBought,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){this.type=Galaxy.type,this.galaxies.normal=player.galaxies+GalaxyGenerator.galaxies,this.galaxies.replicanti=Replicanti.galaxies.total,this.galaxies.dilation=player.dilation.totalTachyonGalaxies;const e=Galaxy.requirement;this.requirement.amount=e.amount,this.requirement.tier=e.tier,this.canBeBought=e.isSatisfied&&Galaxy.canBeBought,this.distantStart=EternityChallenge(5).isRunning?0:Galaxy.costScalingStart,this.remoteStart=Galaxy.remoteStart,this.lockText=Galaxy.lockText,this.canBulkBuy=EternityMilestone.autobuyMaxGalaxies.isReached,this.creditsClosed=GameEnd.creditsEverClosed,this.isDoomed&&(this.scalingText={distant:this.formatGalaxies(this.distantStart),remote:this.formatGalaxies(Galaxy.remoteStart)}),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.GALAXY)},buyGalaxy(e){this.canBeBought&&manualRequestGalaxyReset(this.canBulkBuy&&e)},formatGalaxies(e){return e>1e8?format(e,2):formatInt(e)}}},BB=NB;var OB=(0,H.A)(BB,UB,GB,!1,null,null,null);const LB=OB.exports;var $B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reset-container dimboost"},[i("h4",[e._v("Расширения Измерений ("+e._s(e.boostCountText)+")")]),i("span",[e._v("Требуется: "+e._s(e.formatInt(e.requirement.amount))+" "+e._s(e.dimName)+" ИА")]),i("button",{class:e.classObject,on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.dimensionBoost(!0)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.dimensionBoost(!1):null}]}},[e._v(" "+e._s(e.unlockedByBoost)+" "),e.hasTutorial?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])])},HB=[];const FB={name:"ModernDimensionBoostRow",data(){return{requirement:{tier:1,amount:0},isBuyable:!1,purchasedBoosts:0,imaginaryBoosts:0,lockText:null,unlockedByBoost:null,creditsClosed:!1,requirementText:null,hasTutorial:!1}},computed:{isDoomed:()=>Pelle.isDoomed,dimName(){return`${this.requirement.tier}-${pluralize("е",this.requirement.amount)}`},boostCountText(){if(this.requirementText)return this.requirementText;const e=[this.purchasedBoosts];0!==this.imaginaryBoosts&&e.push(this.imaginaryBoosts);const t=e.map(formatInt).join(" + ");return e.length>=2?`${t} = ${formatInt(e.sum())}`:t},classObject(){return{"o-primary-btn o-primary-btn--new o-primary-btn--dimension-reset":!0,"tutorial--glow":this.isBuyable&&this.hasTutorial,"o-primary-btn--disabled":!this.isBuyable,"o-pelle-disabled-pointer":this.creditsClosed}}},methods:{update(){const e=DimBoost.requirement;this.requirement.tier=e.tier,this.requirement.amount=e.amount,this.isBuyable=e.isSatisfied&&DimBoost.canBeBought,this.purchasedBoosts=DimBoost.purchasedBoosts,this.imaginaryBoosts=DimBoost.imaginaryBoosts,this.lockText=DimBoost.lockText,this.unlockedByBoost=DimBoost.unlockedByBoost,this.creditsClosed=GameEnd.creditsEverClosed,this.isDoomed&&(this.requirementText=formatInt(this.purchasedBoosts)),this.hasTutorial=Tutorial.isActive(TUTORIAL_STATE.DIMBOOST)},dimensionBoost(e){DimBoost.requirement.isSatisfied&&DimBoost.canBeBought&&manualRequestDimensionBoost(e)}}},qB=FB;var VB=(0,H.A)(qB,$B,HB,!1,null,null,null);const YB=VB.exports,jB={name:"ModernAntimatterDimensionsTab",components:{PrimaryButton:Fs,AntimatterDimensionProgressBar:LN,AntimatterDimensionRow:PB,AntimatterGalaxyRow:LB,DimensionBoostRow:YB,TickspeedRow:TB},data(){return{hasDimensionBoosts:!1,buyUntil10:!0,isSacrificeUnlocked:!1,isSacrificeAffordable:!1,buy10Mult:new Decimal(0),currentSacrifice:new Decimal(0),sacrificeBoost:new Decimal(0),disabledCondition:"",isQuickResetAvailable:!1,hasContinuum:!1,isContinuumActive:!1,multiplierText:""}},computed:{sacrificeTooltip(){return`Множитель ${formatX(this.sacrificeBoost,2,2)} к 8-му Измерению Антиматерии`}},methods:{maxAll(){maxAll()},sacrifice(){sacrificeBtnClick()},changeBuyMode(){if(this.hasContinuum)if(this.isContinuumActive)Laitela.setContinuum(!1),player.buyUntil10=!0;else if(player.buyUntil10)player.buyUntil10=!1;else{if(ImaginaryUpgrade(21).isLockingMechanics&&player.auto.disableContinuum)return void ImaginaryUpgrade(21).tryShowWarningModal();Laitela.setContinuum(!0)}else player.buyUntil10=!player.buyUntil10},getUntil10Display(){return this.isContinuumActive?"Континуум":this.buyUntil10?`Покупать до ${formatInt(10)}`:"Покупать по одному"},update(){this.hasDimensionBoosts=player.dimensionBoosts>0,this.buyUntil10=player.buyUntil10,this.hasContinuum=Laitela.continuumUnlocked,this.isContinuumActive=Laitela.continuumActive,this.isQuickResetAvailable=Player.isInAntimatterChallenge&&Player.antimatterChallenge.isQuickResettable;const e=Sacrifice.isVisible;if(this.isSacrificeUnlocked=e,this.buy10Mult.copyFrom(AntimatterDimensions.buyTenMultiplier),this.multiplierText=`Множитель за покупку ${formatInt(10)} измерений: ${formatX(this.buy10Mult,2,2)}`,!e)return;this.isSacrificeAffordable=Sacrifice.canSacrifice,this.currentSacrifice.copyFrom(Sacrifice.totalBoost),this.sacrificeBoost.copyFrom(Sacrifice.nextBoost),this.disabledCondition=Sacrifice.disabledCondition;const t=this.isSacrificeUnlocked?` | Множитель Пожертвования Измерений: ${formatX(this.currentSacrifice,2,2)}`:"";this.multiplierText+=t}}},WB=jB;var XB=(0,H.A)(WB,wB,SB,!1,null,"6575e513",null);const zB=XB.exports,KB={name:"AntimatterDimensionsTab",components:{ClassicAntimatterDimensionsTab:kB,ModernAntimatterDimensionsTab:zB},computed:{activeComponent(){return this.$viewModel.newUI?"ModernAntimatterDimensionsTab":"ClassicAntimatterDimensionsTab"}}},QB=KB;var JB=(0,H.A)(QB,IN,MN,!1,null,null,null);const ZB=JB.exports;var eO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-autobuyers-tab"},[i("AutobuyerToggles"),i("OpenModalHotkeysButton"),e.hasSeenGamespeedAlteringEffects?i("div",[e._v(" Интервалы и настройки автоматики по времени всегда используют "),i("b",[e._v("реальное времяисчисление")]),e._v(", а, значит, "),i("br"),e._v(" на них не влияет скорость игры. "),i("br"),i("br")]):e._e(),e.hasInfinity?e._e():i("div",[e._v(" Испытания, разблокирующие возможности улучшения автоматики, разблокируются на бесконечности. ")]),i("b",[e._v("Автоматика, опт которой не отображён, по умолчанию имеет безграничный опт.")]),i("b",[e._v(" Опт автоматики Измерений Антиматерии может быть увеличен, после того как её интервал достигнет "+e._s(e.formatInt(100))+"мс. ")]),e.hasInstant?i("b",[e._v('Автоматика, интервал которой отображён как "Мгновенно", срабатывает раз в игровой тик ('+e._s(e.gameTickLength)+").")]):e._e(),i("RealityAutobuyerBox",{staticClass:"c-reality-pos"}),i("EternityAutobuyerBox",{staticClass:"c-eternity-pos"}),i("BigCrunchAutobuyerBox",{staticClass:"c-infinity-pos"}),i("GalaxyAutobuyerBox"),i("DimensionBoostAutobuyerBox"),e.hasContinuum?e._e():i("TickspeedAutobuyerBox"),e.displayADAutobuyersIndividually?e._l(8,(function(e){return i("DimensionAutobuyerBox",{key:e,attrs:{tier:e}})})):e._e(),i("SimpleAutobuyersMultiBox")],2)},tO=[],iO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{on:"Приостановить автоматику",off:"Возобновить автоматику"},model:{value:e.autobuyersOn,callback:function(t){e.autobuyersOn=t},expression:"autobuyersOn"}}),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(t){return e.toggleAllAutobuyers()}}},[e._v(" "+e._s(e.allAutobuyersDisabled?"Включить":"Выключить")+" всю автоматику ")]),e.isDoomed?i("span",[e.showContinuum?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option"},[e._v(" Континуум отключён ")]):e._e()],1):i("span",[e.showContinuum?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{on:"Включить Континуум",off:"Выключить Континуум"},model:{value:e.disableContinuum,callback:function(t){e.disableContinuum=t},expression:"disableContinuum"}}):e._e()],1)],1)},aO=[];const nO={name:"AutobuyerToggles",components:{PrimaryButton:Fs,PrimaryToggleButton:$g},data(){return{isDoomed:!1,autobuyersOn:!1,showContinuum:!1,disableContinuum:!1,allAutobuyersDisabled:!1}},watch:{autobuyersOn(e){player.auto.autobuyersOn=e},disableContinuum(e){!ImaginaryUpgrade(21).isLockingMechanics||e?Laitela.setContinuum(!e):ImaginaryUpgrade(21).tryShowWarningModal()}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.autobuyersOn=player.auto.autobuyersOn,this.showContinuum=Laitela.isUnlocked,this.disableContinuum=player.auto.disableContinuum,this.allAutobuyersDisabled=Autobuyers.unlocked.every((e=>!e.isActive))},toggleAllAutobuyers(){for(const e of Autobuyers.unlocked)e.isActive=this.allAutobuyersDisabled}}},sO=nO;var rO=(0,H.A)(sO,iO,aO,!1,null,"84e1c796",null);const oO=rO.exports;var lO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,name:e.name,"show-interval":""},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[i("DimensionBulkButton",{attrs:{autobuyer:e.autobuyer}}),i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},{key:"toggleSlot",fn:function(){return[i("button",{staticClass:"o-autobuyer-btn",on:{click:e.toggleMode}},[e._v(" "+e._s(e.modeDisplay)+" ")])]},proxy:!0}])})},cO=[],uO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasMaxedInterval&&!e.bulkUnlimited&&e.isUnlocked?i("button",{class:e.classObject,on:{click:e.upgradeBulk}},[i("span",[e._v(e._s(e.bulkDisplay))]),e.hasMaxedBulk?e._e():[i("br"),i("span",[e._v("Цена: "+e._s(e.format(e.cost,2,0))+" ОБ")])]],2):e.hasMaxedInterval&&!e.bulkUnlimited?i("button",{staticClass:"o-autobuyer-btn l-autobuyer-box__button o-autobuyer-btn--unavailable"},[e._v(" Выполните Испытание, чтобы разблокировать возможность улучшения опта ")]):e._e()},dO=[];const hO={name:"DimensionBulkButton",props:{autobuyer:{type:Object,required:!0}},data(){return{hasMaxedInterval:!1,hasMaxedBulk:!1,isUnlocked:!1,bulkUnlimited:!1,bulk:1,cost:1,isAffordable:!1}},computed:{bulkDisplay(){if(this.hasMaxedBulk)return`${format(this.bulk,2,0)}-кратный опт (ограничено)`;const e=Math.min(2*this.bulk,this.autobuyer.bulkCap);return`${format(this.bulk,2,0)} ➜ ${format(e,2,0)}-кратный опт`},classObject(){return{"o-autobuyer-btn":!0,"o-autobuyer-btn--unavailable":!this.isAffordable&&!this.hasMaxedBulk,"o-non-clickable":this.hasMaxedBulk}}},methods:{update(){const e=this.autobuyer;this.hasMaxedInterval=e.hasMaxedInterval,this.isUnlocked=e.isUnlocked,this.hasMaxedBulk=e.hasMaxedBulk,this.bulkUnlimited=e.hasUnlimitedBulk,this.bulk=e.bulk,this.cost=e.cost,this.isAffordable=Currency.infinityPoints.gte(this.cost)},upgradeBulk(){this.autobuyer.upgradeBulk()}}},pO=hO;var mO=(0,H.A)(pO,uO,dO,!1,null,"5ea3d08b",null);const yO=mO.exports,fO={name:"DimensionAutobuyerBox",components:{DimensionBulkButton:yO,AutobuyerBox:HT,AutobuyerIntervalButton:ZT},props:{tier:{type:Number,required:!0}},data(){return{mode:AUTOBUYER_MODE.BUY_SINGLE}},computed:{autobuyer(){return Autobuyer.antimatterDimension(this.tier)},name(){return`Автоматика ${this.tier}-х Измерений Антиматерии`},modeDisplay(){switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:return"Покупает по одному";case AUTOBUYER_MODE.BUY_10:return"Покупает все"}throw"Unknown Dimension Autobuyer mode"}},methods:{update(){this.mode=this.autobuyer.mode},toggleMode(){this.autobuyer.toggleMode(),this.update()}}},gO=fO;var bO=(0,H.A)(gO,lO,cO,!1,null,"791ffc0a",null);const vO=bO.exports;var EO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"c-options-tab__hotkeys-link",on:{click:e.handleClick}},[e._v(" Нажмите "),i("kbd",[e._v("?")]),e._v(", чтобы просмотреть список горячих клавиш. ")])},TO=[];const _O={name:"OpenModalHotkeysButton",methods:{handleClick(){Modal.hotkeys.show()}}},CO=_O;var AO=(0,H.A)(CO,EO,TO,!1,null,null,null);const kO=AO.exports;var wO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"l-autobuyers-tab"},[e._l(e.multiple,(function(e,t){return i("MultipleAutobuyersBox",{key:t,attrs:{type:e}})})),i("MultipleSingleAutobuyersGroup")],2)},SO=[],xO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.showAutobuyers||e.isADBox&&e.continuumActive?e.isADBox&&e.continuumActive?i("span",{staticClass:"c-autobuyer-box-row"},[e._v(" Континуум замещает вашу автоматику Измерений Антиматерии и ускорителей, так как множители от них "),i("br"),e._v(" теперь автоматически непрерывно меняются в соответствии с количеством, которое вы могли бы купить. ")]):e._e():i("span",{staticClass:"c-autobuyer-box-row"},[i("AutobuyerGroupToggleLabel",{attrs:{"is-active":e.parentActive,name:e.name},on:{click:e.toggleGroup}}),i("div",{staticClass:"l-autobuyer-box__title"},[e._v(" Автоматика"),i("br"),e._v(e._s(e.name)+" "),e.displayLabelAsGroup?i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyers[0]}}):e._e()],1),i("div",{staticClass:"l-autobuyer-box__autobuyers"},[e._l(e.autobuyers,(function(t,a){return[i("SingleAutobuyerInRow",{key:a,staticClass:"l-autobuyer-box__autobuyers-internal",style:e.boxSize,attrs:{autobuyer:t,"show-individual":!e.displayLabelAsGroup,"parent-disabled":!e.parentActive}}),a%e.entryCountPerRow===e.entryCountPerRow?i("br",{key:a}):e._e()]}))],2)],1)},RO=[],IO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerToggleLabel",{attrs:{"is-active":e.isActive,"is-disabled":e.isDisabled,name:e.name},on:{click:e.emitClick}})},MO=[],DO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-autobuyer-box__footer",on:{click:e.emitClick}},[i("label",{class:e.autobuyerStateClass},[i("span",{class:e.autobuyerToggleClass})]),i("input",{attrs:{disabled:e.isDisabled,name:e.name,type:"checkbox"},domProps:{checked:e.isActive&&!e.isDisabled}})])},PO=[];const UO={name:"AutobuyerToggleLabel",props:{isActive:Boolean,isDisabled:Boolean,name:{type:String,required:!0}},computed:{autobuyerToggleClass(){return this.isDisabled?this.isActive?"fas fa-pause":"fas fa-times":this.isActive?"fas fa-check":"fas fa-times"},autobuyerStateClass(){return this.isDisabled?{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label--active-paused":this.isActive,"o-autobuyer-toggle-checkbox__label--deactive-paused":!this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":this.isDisabled}:{"o-autobuyer-toggle-checkbox__label":!0,"o-autobuyer-toggle-checkbox__label--active":this.isActive,"o-autobuyer-toggle-checkbox__label--disabled":this.isDisabled}}}},GO=UO;var NO=(0,H.A)(GO,DO,PO,!1,null,"3e71e566",null);const BO=NO.exports,OO={name:"AutobuyerGroupToggleLabel",components:{AutobuyerToggleLabel:BO},props:{isActive:Boolean,name:{type:String,required:!0}},data(){return{isDisabled:!1}},methods:{update(){this.isDisabled=!player.auto.autobuyersOn}}},LO=OO;var $O=(0,H.A)(LO,IO,MO,!1,null,"083b4b97",null);const HO=$O.exports;var FO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("span",{staticClass:"c-autobuyer-box-slot"},[i("AutobuyerSingleToggleLabel",{attrs:{autobuyer:e.autobuyer,"parent-disabled":e.parentDisabled}}),e._v(" "+e._s(e.name)+" "),e.showIndividual?i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyer}}):e._e(),e.hasMode?i("AutobuyerModeButton",{attrs:{autobuyer:e.autobuyer}}):e._e()],1):e._e()},qO=[],VO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"o-autobuyer-btn o-autobuyer-btn--tiny",on:{click:e.toggleMode}},[e._v(" "+e._s(e.modeDisplay)+" ")])},YO=[];const jO={name:"AutobuyerModeButton",props:{autobuyer:{type:Object,required:!0}},data(){return{mode:AUTOBUYER_MODE.BUY_SINGLE}},computed:{modeDisplay(){switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:return"Покупает по одному";case AUTOBUYER_MODE.BUY_10:return"Покупает все"}throw"Unknown Dimension Autobuyer mode"}},methods:{update(){this.mode=this.autobuyer.mode},toggleMode(){this.autobuyer.toggleMode(),this.update()}}},WO=jO;var XO=(0,H.A)(WO,VO,YO,!1,null,"7bc40e49",null);const zO=XO.exports;var KO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerToggleLabel",{attrs:{"is-active":e.isActive,"is-disabled":e.isDisabled,name:e.name},on:{click:e.toggle}})},QO=[];const JO={name:"AutobuyerSingleToggleLabel",components:{AutobuyerToggleLabel:BO},props:{autobuyer:{type:Object,required:!0},parentDisabled:Boolean},data(){return{isActive:!1,isDisabled:!1}},computed:{name(){return this.autobuyer.name}},methods:{update(){this.isActive=this.autobuyer.isActive,this.isDisabled=!player.auto.autobuyersOn||this.parentDisabled},toggle(){this.autobuyer.toggle()}}},ZO=JO;var eL=(0,H.A)(ZO,KO,QO,!1,null,"311f081c",null);const tL=eL.exports,iL={name:"SingleAutobuyerInRow",components:{AutobuyerSingleToggleLabel:tL,AutobuyerIntervalLabel:BT,AutobuyerModeButton:zO},props:{autobuyer:{type:Object,required:!0},showIndividual:Boolean,parentDisabled:Boolean},data(){return{isVisible:!1}},computed:{name(){return this.autobuyer.name},hasMode(){return void 0!==this.autobuyer.mode}},methods:{update(){const e=this.autobuyer;this.isVisible=e.isUnlocked||e.isBought}}},aL=iL;var nL=(0,H.A)(aL,FO,qO,!1,null,"629cb6b8",null);const sL=nL.exports,rL={name:"MultipleAutobuyersBox",components:{AutobuyerIntervalLabel:BT,AutobuyerGroupToggleLabel:HO,SingleAutobuyerInRow:sL},props:{type:{type:Function,required:!0}},data(){return{continuumActive:!1,anyUnlocked:!1,displayLabelAsGroup:!1,parentActive:!1}},computed:{autobuyers(){return this.type.zeroIndexed},name(){return this.type.groupName},entryCount(){return this.type.entryCount},rowCount(){return Math.ceil(this.entryCount/8)},entryCountPerRow(){return 1===this.rowCount?this.entryCount:5},boxSize(){return`flex: 1 0 ${100/this.entryCountPerRow-1}%`},isADBox(){return this.name===Autobuyer.antimatterDimension.groupName},showAutobuyers(){return this.isADBox?this.anyUnlocked&&this.displayLabelAsGroup:this.anyUnlocked}},methods:{update(){var e,t;this.continuumActive=Laitela.continuumActive;const i=this.type;this.anyUnlocked=i.anyUnlocked,this.displayLabelAsGroup=(null===(e=i.allMaxedInterval)||void 0===e||e)&&(null===(t=i.allUnlimitedBulk)||void 0===t||t),this.parentActive=i.isActive},toggleGroup(){this.type.toggle()}}},oL=rL;var lL=(0,H.A)(oL,xO,RO,!1,null,"02f34bc0",null);const cL=lL.exports;var uL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"l-autobuyer-singlet-group"},[e._l(e.singles,(function(t,a){return[i("SingleAutobuyerBox",{key:a,style:e.boxSize,attrs:{autobuyer:t}}),a%e.entryCountPerRow===e.entryCountPerRow?i("br",{key:a}):e._e()]}))],2)},dL=[],hL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("span",{staticClass:"c-autobuyer-box-row"},[i("AutobuyerSingleToggleLabel",{attrs:{autobuyer:e.autobuyer}}),i("div",[e._v(" "+e._s(e.name)+" "),i("AutobuyerIntervalLabel",{attrs:{autobuyer:e.autobuyer}}),e.isHiddenSacrifice?i("b",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Автоматизировано достижением 118 ")]):e.autobuyer.hasInput?i("span",{staticClass:"c-autobuyer-box__small-text"},[e._v(" Множитель: "),i("AutobuyerInput",{staticClass:"c-small-autobuyer-input",attrs:{autobuyer:e.autobuyer,type:e.autobuyer.inputType,property:e.autobuyer.inputEntry}})],1):e._e()],1)],1):e._e()},pL=[];const mL={name:"SingleAutobuyerBox",components:{AutobuyerSingleToggleLabel:tL,AutobuyerIntervalLabel:BT,AutobuyerInput:q},props:{autobuyer:{type:Object,required:!0}},data(){return{isUnlocked:!1,isHiddenSacrifice:!1}},computed:{name(){return this.autobuyer.name},isSacrifice(){return"Пожертвование Измерений"===this.name}},methods:{update(){this.isUnlocked=this.autobuyer.isUnlocked,this.isHiddenSacrifice=this.isSacrifice&&Achievement(118).canBeApplied}}},yL=mL;var fL=(0,H.A)(yL,hL,pL,!1,null,"9cfae6e8",null);const gL=fL.exports,bL={name:"MultipleSingleAutobuyersGroup",components:{SingleAutobuyerBox:gL},computed:{singles(){return Autobuyers.display[1]},entryCount(){return this.singles.length},rowCount(){return Math.ceil(this.entryCount/4)},entryCountPerRow(){return 1===this.rowCount?this.entryCount:4},boxSize(){return`flex: 1 0 ${100/this.entryCountPerRow-2}%`}}},vL=bL;var EL=(0,H.A)(vL,uL,dL,!1,null,"59ad48ab",null);const TL=EL.exports,_L={name:"SimpleAutobuyersMultiBox",components:{MultipleAutobuyersBox:cL,MultipleSingleAutobuyersGroup:TL},computed:{multiple(){return Autobuyers.display[0]}}},CL=_L;var AL=(0,H.A)(CL,wO,SO,!1,null,"2bc353a8",null);const kL=AL.exports;var wL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AutobuyerBox",{attrs:{autobuyer:e.autobuyer,name:"Автоматика ускорителей","show-interval":""},scopedSlots:e._u([{key:"intervalSlot",fn:function(){return[i("AutobuyerIntervalButton",{attrs:{autobuyer:e.autobuyer}})]},proxy:!0},{key:"toggleSlot",fn:function(){return[e.isUnlocked?i("button",{staticClass:"o-autobuyer-btn",on:{click:e.toggleMode}},[e._v(" "+e._s(e.modeDisplay)+" ")]):i("button",{staticClass:"o-autobuyer-btn o-autobuyer-btn--unavailable"},[e._v(" Выполните Испытание, чтобы изменить режим ")])]},proxy:!0}])})},SL=[];const xL={name:"TickspeedAutobuyerBox",components:{AutobuyerBox:HT,AutobuyerIntervalButton:ZT},data(){return{mode:AUTOBUYER_MODE.BUY_SINGLE,isUnlocked:!1}},computed:{autobuyer:()=>Autobuyer.tickspeed,modeDisplay(){switch(this.mode){case AUTOBUYER_MODE.BUY_SINGLE:return"Покупает по одному";case AUTOBUYER_MODE.BUY_MAX:return"Покупает все"}throw"Unknown tickspeed autobuyer mode"}},methods:{update(){this.mode=this.autobuyer.mode,this.isUnlocked=this.autobuyer.isUnlocked},toggleMode(){this.autobuyer.toggleMode(),this.update()}}},RL=xL;var IL=(0,H.A)(RL,wL,SL,!1,null,"5c2b51da",null);const ML=IL.exports,DL={name:"AutobuyersTab",components:{AutobuyerToggles:oO,OpenModalHotkeysButton:kO,RealityAutobuyerBox:S_,EternityAutobuyerBox:y_,BigCrunchAutobuyerBox:a_,GalaxyAutobuyerBox:T_,DimensionBoostAutobuyerBox:c_,TickspeedAutobuyerBox:ML,DimensionAutobuyerBox:vO,SimpleAutobuyersMultiBox:kL},data(){return{hasInfinity:!1,hasContinuum:!1,displayADAutobuyersIndividually:!1,hasInstant:!1}},computed:{hasSeenGamespeedAlteringEffects(){return PlayerProgress.seenAlteredSpeed()},gameTickLength(){return`${formatInt(player.options.updateRate)}мс`}},methods:{update(){this.hasInfinity=PlayerProgress.infinityUnlocked(),this.hasContinuum=Laitela.continuumActive,this.checkADAutoStatus()},checkADAutoStatus(){const e=Autobuyer.antimatterDimension;Pelle.isDoomed?this.displayADAutobuyersIndividually=!e.zeroIndexed.filter((e=>e.isUnlocked)).every((e=>e.hasUnlimitedBulk&&e.hasMaxedInterval)):(this.hasInstant=e.hasInstant,this.displayADAutobuyersIndividually=!e.collapseDisplay)}}},PL=DL;var UL=(0,H.A)(PL,eO,tO,!1,null,"924b489c",null);const GL=UL.exports;var NL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator-tab l-automator-tab",class:e.tabClass},[e.automatorUnlocked?i("div",[i("div",[e._v(" "+e._s(e.intervalText)+" ")]),i("span",{class:{"c-overlimit":e.currentChars>e.maxScriptChars}},[e._v(" Текущая программа: "+e._s(e.formatInt(e.currentChars))+" / "+e._s(e.formatInt(e.maxScriptChars))+" ")]),e._v(" | "),i("span",{class:{"c-overlimit":e.totalChars>e.maxTotalChars}},[e._v(" По всем программам: "+e._s(e.formatInt(e.totalChars))+" / "+e._s(e.formatInt(e.maxTotalChars))+" ")]),i("br"),e.withinLimit?e._e():i("span",{staticClass:"c-overlimit"},[e._v(" (Изменения не будут сохранены, так как превышено ограничение на количество символов!) ")]),i("div",{staticClass:"c-automator-split-pane"},[i("SplitPane",{attrs:{"min-percent":44,"default-percent":50,split:"vertical"},scopedSlots:e._u([{key:"paneL",fn:function(){return[i("AutomatorEditor")]},proxy:!0},{key:"paneR",fn:function(){return[i("AutomatorDocs")]},proxy:!0}],null,!1,3115218829)})],1)]):i("AutomatorPointsList")],1)},BL=[],OL=i(6369),LL=i.n(OL),$L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-automator-pane"},[i("AutomatorControls"),e.isTextAutomator?i("AutomatorTextEditor",{attrs:{"current-script-id":e.currentScriptID}}):e._e(),e.isTextAutomator?e._e():i("AutomatorBlockEditor")],1)},HL=[],FL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-automator__controls l-automator__controls"},[i("div",{staticClass:"c-automator-control-row l-automator-button-row"},[i("div",{staticClass:"c-button-group"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Перезапустить программу",expression:"'Перезапустить программу'"}],staticClass:"fa-fast-backward",on:{click:e.rewind}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.playTooltip,hideOnTargetClick:!1},expression:"{\n          content: playTooltip,\n          hideOnTargetClick: false\n        }"}],class:e.playButtonClass,on:{click:e.play}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Остановить программу и сбросить текущую строку",expression:"'Остановить программу и сбросить текущую строку'"}],staticClass:"fa-stop",on:{click:e.stop}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Пропустить одну строку",expression:"'Пропустить одну строку'"}],staticClass:"fa-step-forward",on:{click:e.step}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Автоматически перезапускать программу по её окончании",expression:"'Автоматически перезапускать программу по её окончании'"}],staticClass:"fa-sync-alt",class:{"c-automator__button--active":e.repeatOn},on:{click:e.repeat}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Автоматически перезапускать текущую программу при реальности",expression:"'Автоматически перезапускать текущую программу при реальности'"}],staticClass:"fa-reply",class:{"c-automator__button--active":e.forceRestartOn},on:{click:e.restart}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Прокручивать поле программы до текущей строки",expression:"'Прокручивать поле программы до текущей строки'"}],staticClass:"fa-indent",class:{"c-automator__button--active":e.followExecution},on:{click:e.follow}}),e.fullScreen?i("span",{staticClass:"c-automator__status-text c-automator__status-text--small",class:{"c-automator__status-text--error":e.currentChars>e.maxScriptChars}},[e._v(" Эта программа: "+e._s(e.formatInt(e.currentChars))+"/"+e._s(e.formatInt(e.maxScriptChars))+" ")]):e._e()],1),i("div",{staticClass:"c-button-group"},[i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Отменить",expression:"'Отменить'"}],staticClass:"fa-arrow-rotate-left",class:{"c-automator__button--inactive":!e.hasUndo},on:{click:e.undo}}),i("AutomatorButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Вернуть",expression:"'Вернуть'"}],staticClass:"fa-arrow-rotate-right",class:{"c-automator__button--inactive":!e.hasRedo},on:{click:e.redo}}),i("AutomatorModeSwitch")],1)]),i("div",{staticClass:"l-automator-button-row"},[e.duplicateStatus?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Более одной программы имеет это имя!",expression:"'Более одной программы имеет это имя!'"}],staticClass:"fas fa-exclamation-triangle c-automator__status-text c-automator__status-text--error"}):e._e(),e.editingDifferentScript?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Выполняется иная программа, нежели открыта в редакторе",expression:"'Выполняется иная программа, нежели открыта в редакторе'"}],staticClass:"fas fa-circle-exclamation c-automator__status-text c-automator__status-text--warning"}):e._e(),e.justCompleted?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Предыдущая программа завершила работу",expression:"'Предыдущая программа завершила работу'"}],staticClass:"fas fa-circle-check c-automator__status-text"}):e._e(),i("span",{staticClass:"c-automator__status-text",class:{"c-automator__status-text--error":e.hasErrors&&!(e.isRunning||e.isPaused)}},[e._v(" "+e._s(e.statusText)+" ")])])])},qL=[],VL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.automatorModeTooltip,hideOnTargetClick:!1},expression:"{\n    content: automatorModeTooltip,\n    hideOnTargetClick: false\n  }"}],class:Object.assign({},{"c-slider-toggle-button":!0,"c-slider-toggle-button--right":e.isTextAutomator},e.tutorialClass),on:{click:e.toggleAutomatorMode}},[i("i",{staticClass:"fas fa-cubes"}),i("i",{staticClass:"fas fa-code"})])},YL=[];const jL={name:"AutomatorModeSwitch",data(){return{automatorType:0}},computed:{currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(e){this.$viewModel.tabs.reality.automator.editorScriptID=e}},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},isTextAutomator(){return this.automatorType===AUTOMATOR_TYPE.TEXT},automatorModeTooltip(){return this.automatorType===AUTOMATOR_TYPE.BLOCK?"Переключиться на текстовый режим редактирования":"Переключиться на блочный режим редактирования"},tutorialClass(){return{"tutorial--glow":ui.view.tutorialState===TUTORIAL_STATE.AUTOMATOR&&ui.view.tutorialActive}}},created(){this.on$(GAME_EVENT.GAME_LOAD,(()=>this.onGameLoad())),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,(()=>this.onGameLoad())),this.updateCurrentScriptID()},methods:{update(){this.automatorType=player.reality.automator.type},onGameLoad(){this.updateCurrentScriptID()},updateCurrentScriptID(){const e=player.reality.automator.scripts;this.currentScriptID=player.reality.automator.state.editorScript,void 0===e[this.currentScriptID]&&(this.currentScriptID=Object.keys(e)[0],player.reality.automator.state.editorScript=this.currentScriptID,AutomatorData.clearUndoData()),BlockAutomator.hasUnparsableCommands(this.currentScript)&&player.reality.automator.type===AUTOMATOR_TYPE.BLOCK&&(Modal.message.show("Некоторые команды не удалось распознать - включён текстовый режим редактирования."),AutomatorBackend.changeModes(this.currentScriptID)),this.$nextTick((()=>BlockAutomator.updateEditor(this.currentScript)))},toggleAutomatorMode(){const e=player.reality.automator.scripts[this.currentScriptID].content,t=this.automatorType===AUTOMATOR_TYPE.TEXT&&(BlockAutomator.hasUnparsableCommands(e)||0!==AutomatorData.currentErrors().length);if(player.options.confirmations.switchAutomatorMode&&(t||AutomatorBackend.isRunning)){const t=On(e),i=this.automatorType===AUTOMATOR_TYPE.TEXT?t.validatedBlocks-t.visitedBlocks:0;Modal.switchAutomatorEditorMode.show({callBack:()=>this.$recompute("currentScriptContent"),lostBlocks:i})}else AutomatorBackend.changeModes(this.currentScriptID);AutomatorData.clearUndoData()}}},WL=jL;var XL=(0,H.A)(WL,VL,YL,!1,null,"875cf954",null);const zL=XL.exports,KL={name:"AutomatorControls",components:{AutomatorButton:vr,AutomatorModeSwitch:zL},data(){return{isRunning:!1,isPaused:!1,repeatOn:!1,justCompleted:!1,forceRestartOn:!1,followExecution:!1,hasErrors:!1,currentLine:0,statusName:"",editingName:"",editingDifferentScript:!1,currentChars:0,hasUndo:!1,hasRedo:!1}},computed:{fullScreen(){return this.$viewModel.tabs.reality.automator.fullScreen},currentScriptID(){return this.$viewModel.tabs.reality.automator.editorScriptID},playTooltip(){return this.isPaused?"Возобновить выполнение программы":this.isRunning?"Приостановить выполнение программы":"Запустить программу"},playButtonClass(){return{"c-automator__button--active":this.isRunning,"fa-play":!this.isRunning&&!this.isPaused,"fa-pause":this.isRunning,"fa-eject":this.isPaused}},statusText(){const e=Math.clampMin(Math.ceil(Math.log10(AutomatorBackend.currentScriptLength+1)),1);let t=`0000${this.currentLine}`;return t=t.slice(t.length-e),this.isPaused?`Приостановлено: "${this.statusName}" (возобновит выполнение со строки ${t})`:this.isRunning?`Выполняется: "${this.statusName}" (строка ${t})`:this.hasErrors?`Остановлено: "${this.statusName}" не может быть выполнена ввиду наличия ошибок`:`Остановлено: "${this.statusName}" будет выполняться`},maxScriptChars(){return AutomatorData.MAX_ALLOWED_SCRIPT_CHARACTERS}},methods:{update(){this.isRunning=AutomatorBackend.isRunning,this.isPaused=AutomatorBackend.isOn&&!this.isRunning,this.repeatOn=AutomatorBackend.state.repeat,this.justCompleted=AutomatorBackend.hasJustCompleted,this.forceRestartOn=AutomatorBackend.state.forceRestart,this.followExecution=AutomatorBackend.state.followExecution,this.hasErrors=0!==AutomatorData.currentErrors().length,this.currentLine=AutomatorBackend.currentLineNumber,this.statusName=this.isPaused||this.isRunning?AutomatorBackend.scriptName:AutomatorBackend.currentEditingScript.name,this.duplicateStatus=AutomatorBackend.hasDuplicateName(this.statusName),this.editingDifferentScript=(this.isRunning||this.isPaused)&&AutomatorBackend.currentEditingScript.id!==AutomatorBackend.currentRunningScript.id,this.currentChars=AutomatorData.singleScriptCharacters(),this.hasUndo=AutomatorData.undoBuffer.length>0,this.hasRedo=AutomatorData.redoBuffer.length>0},rewind:()=>AutomatorBackend.restart(),play(){this.hasErrors?AutomatorBackend.mode=AUTOMATOR_MODE.PAUSED:this.isRunning?AutomatorBackend.pause():(player.reality.automator.type===AUTOMATOR_TYPE.BLOCK&&this.$emit("automatorplay"),AutomatorBackend.isOn?AutomatorBackend.mode=AUTOMATOR_MODE.RUN:AutomatorBackend.start(this.currentScriptID))},stop:()=>AutomatorBackend.stop(),step(){AutomatorBackend.isOn?AutomatorBackend.mode=AUTOMATOR_MODE.SINGLE_STEP:AutomatorBackend.start(this.currentScriptID,AUTOMATOR_MODE.SINGLE_STEP)},repeat:()=>AutomatorBackend.toggleRepeat(),restart:()=>AutomatorBackend.toggleForceRestart(),follow:()=>AutomatorBackend.toggleFollowExecution(),undo:()=>AutomatorData.undoScriptEdit(),redo:()=>AutomatorData.redoScriptEdit()}},QL=KL;var JL=(0,H.A)(QL,FL,qL,!1,null,"ba96b4d8",null);const ZL=JL.exports,e$={name:"AutomatorEditor",components:{AutomatorBlockEditor:hs,AutomatorTextEditor:Ms,AutomatorControls:ZL},data(){return{automatorType:0}},computed:{currentScriptID:{get(){return this.$viewModel.tabs.reality.automator.editorScriptID},set(e){this.$viewModel.tabs.reality.automator.editorScriptID=e}},currentScriptContent(){return player.reality.automator.scripts[this.currentScriptID].content},currentScript(){return CodeMirror.Doc(this.currentScriptContent,"automato").getValue()},isTextAutomator(){return this.automatorType===AUTOMATOR_TYPE.TEXT}},created(){this.on$(GAME_EVENT.GAME_LOAD,(()=>this.onGameLoad())),this.on$(GAME_EVENT.AUTOMATOR_SAVE_CHANGED,(()=>this.onGameLoad())),this.updateCurrentScriptID()},methods:{update(){this.automatorType=player.reality.automator.type,!AutomatorBackend.isOn&&AutomatorTextUI.editor&&AutomatorData.needsRecompile&&AutomatorTextUI.editor.performLint()},onGameLoad(){this.updateCurrentScriptID()},updateCurrentScriptID(){const e=player.reality.automator.scripts;if(this.currentScriptID=player.reality.automator.state.editorScript,void 0===e[this.currentScriptID]&&(this.currentScriptID=Number(Object.keys(e)[0]),player.reality.automator.state.editorScript=this.currentScriptID,AutomatorData.clearUndoData()),BlockAutomator.hasUnparsableCommands(this.currentScript)&&player.reality.automator.type===AUTOMATOR_TYPE.BLOCK){Modal.message.show("Некоторые блоки не удалось распознать - включён текстовый режим редактирования.");const e=AutomatorData.currentScriptText();AutomatorBackend.changeModes(this.currentScriptID),player.reality.automator.scripts[this.currentScriptID].content=e,this.automatorType=AUTOMATOR_TYPE.TEXT}this.$nextTick((()=>BlockAutomator.updateEditor(this.currentScript)))}}},t$=e$;var i$=(0,H.A)(t$,$L,HL,!1,null,"ca4da470",null);const a$=i$.exports;var n$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"l-header"},[e._v(" У вас "+e._s(e.formatInt(e.totalPoints))+" из "+e._s(e.formatInt(e.pointsForAutomator))+" Очков Автоматизации, необходимых для разблокировки Автоматизатора. "),i("br"),e._v(" Вы получаете Очки Автоматизации из следующих источников: ")]),i("div",{staticClass:"l-automator-points-list-container"},[i("div",{staticClass:"l-automator-points-list-side-col c-automator-points-list-col"},[i("span",{staticClass:"c-automator-points-list-symbol fas fa-project-diagram"}),i("span",{staticClass:"c-automator-points-list-ap--large"},[e._v(e._s(e.formatInt(e.fromPerks))+" ОА")]),i("span",{staticClass:"l-large-text"},[e._v(" Навыки ")]),e._l(e.perkSources,(function(t){return i("div",{key:t.id,staticClass:"c-automator-points-list-single-entry",style:e.textColor(t.isBought)},[i("span",{staticClass:"c-automator-points-list-perk-label"},[e._v(e._s(t.label))]),e._v(" - "+e._s(t.shortDescription)+" "),i("span",{staticClass:"c-automator-points-list-ap"},[e._v(e._s(e.formatInt(t.automatorPoints))+" ОА")])])}))],2),i("div",{staticClass:"l-automator-points-list-center-col"},e._l(e.otherSources,(function(t){return i("div",{key:t.name,staticClass:"c-automator-points-list-cell"},[i("span",{staticClass:"c-automator-points-list-ap--large"},[e._v(e._s(e.formatInt(t.automatorPoints()))+" ОА")]),i("span",{staticClass:"l-large-text"},[e._v(" "+e._s(t.name)+" ")]),i("br"),i("br"),i("span",{style:e.textColor(t.automatorPoints()>0)},[e._v(" "+e._s(t.shortDescription())+" ")]),i("span",{staticClass:"c-automator-points-list-symbol",domProps:{innerHTML:e._s(t.symbol)}})])})),0),i("div",{staticClass:"l-automator-points-list-side-col c-automator-points-list-col"},[i("span",{staticClass:"c-automator-points-list-symbol fas fa-arrow-up"}),i("span",{staticClass:"c-automator-points-list-ap--large"},[e._v(e._s(e.formatInt(e.fromUpgrades))+" ОА")]),i("span",{staticClass:"l-large-text"},[e._v(" Улучшения Реальности ")]),e._l(e.upgradeSources,(function(t){return i("div",{key:t.id,staticClass:"c-automator-points-list-single-entry l-upgrade-list",style:e.textColor(t.isBought)},[i("b",[e._v(e._s(t.name))]),i("span",{staticClass:"c-automator-points-list-ap"},[e._v(e._s(e.formatInt(t.automatorPoints))+" ОА")]),i("br"),e._v(" "+e._s(t.shortDescription)+" ")])}))],2)]),i("br"),i("div",[e._v(" Автоматизатор может, между прочим, покупать Исследования Времени и запускать Испытания Вечности и Замедление. "),i("br"),e._v(" Он также может совершать бесконечность и вечность при определённых условиях независимо от автоматики и изменять некоторые настройки автоматики. "),i("br"),e._v(" Скорость работы Автоматизатора постепенно растёт каждую реальность. Если бы вы разблокировали Автоматизатор прямо сейчас, он бы мог выполнять "+e._s(e.format(1e3/e.automatorInterval,2,2))+" команды в секунду по реальному времяисчислению. ")])])},s$=[];const r$={name:"AutomatorPointsList",data(){return{totalPoints:0}},computed:{pointsForAutomator:()=>AutomatorPoints.pointsForAutomator,fromPerks:()=>AutomatorPoints.pointsFromPerks,fromUpgrades:()=>AutomatorPoints.pointsFromUpgrades,perkSources:()=>AutomatorPoints.perks,upgradeSources:()=>AutomatorPoints.upgrades,otherSources:()=>GameDatabase.reality.automator.otherAutomatorPoints,automatorInterval:()=>AutomatorBackend.currentInterval},methods:{update(){this.totalPoints=AutomatorPoints.totalPoints},textColor(e){return{color:e?"var(--color-good)":"var(--color-bad)"}}}},o$=r$;var l$=(0,H.A)(o$,n$,s$,!1,null,"11f6b24d",null);const c$=l$.exports,u$={name:"AutomatorTab",components:{SplitPane:LL(),AutomatorEditor:a$,AutomatorPointsList:c$,AutomatorDocs:Vo},data(){return{automatorUnlocked:!1,interval:0,currentChars:0,totalChars:0,withinLimit:!1}},computed:{fullScreen(){return this.$viewModel.tabs.reality.automator.fullScreen},tabClass(){if(this.fullScreen)return"c-automator-tab--full-screen"},fullScreenIconClass(){return this.fullScreen?"fa-compress-arrows-alt":"fa-expand-arrows-alt"},intervalText(){const e=`С каждой реальностью он работает на ${formatPercents(.006,1)} быстрее, с ограничением в\n        ${formatInt(1e3)} команд в секунду.`;return 1===this.interval?`Автоматизатор работает с максимальной скоростью (${formatInt(1e3)} команд в секунду по реальному времяисчислению).`:`Автоматизатор выполняет ${format(1e3/this.interval,2,2)} команды в секунду.\n          ${e}`},maxScriptChars(){return AutomatorData.MAX_ALLOWED_SCRIPT_CHARACTERS},maxTotalChars(){return AutomatorData.MAX_ALLOWED_TOTAL_CHARACTERS}},methods:{update(){this.automatorUnlocked=Player.automatorUnlocked,this.interval=AutomatorBackend.currentInterval,this.currentChars=AutomatorData.singleScriptCharacters(),this.totalChars=AutomatorData.totalScriptCharacters(),this.withinLimit=AutomatorData.isWithinLimit()}}},d$=u$;var h$=(0,H.A)(d$,NL,BL,!1,null,"2c77ce92",null);const p$=h$.exports;var m$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-black-hole-tab"},[e.isEnslaved||e.isDoomed?i("div",{staticClass:"c-black-hole-disabled-description"},[e.isEnslaved?i("i",[e._v(" Ты должен... искать... другие пути... "),i("br")]):e._e(),e._v(" Физика этой реальности несовместима с существованием Чёрных Дыр. ")]):e.isUnlocked?[i("div",{staticClass:"c-subtab-option-container"},[i("button",{staticClass:"o-primary-btn o-primary-btn--subtab-option",on:{click:e.togglePause}},[e._v(" "+e._s(e.stateChange)+" ")]),e.isPermanent?e._e():i("button",{staticClass:"o-primary-btn o-primary-btn--subtab-option",on:{click:e.changePauseMode}},[e._v(" Автоматически останавливать ЧД: "+e._s(e.pauseModeString)+" ")])]),i("canvas",{ref:"canvas",staticClass:"c-black-hole-canvas",attrs:{width:"400",height:"400"}}),i("div",{staticClass:"l-black-hole-upgrade-grid"},[e._l(e.blackHoles,(function(e,t){return i("BlackHoleStateRow",{key:"state"+t,attrs:{"black-hole":e}})})),e.hasBH2&&!e.isPermanent?i("span",[i("b",[e._v(e._s(e.detailedBH2))]),i("br"),e._v(" Цикл активности 2-й Чёрной Дыры продвигается, только пока действует 1-я Чёрная Дыра. "),i("br"),e._v(" Улучшения влияют на внутренний таймер; в заглавии показано реальное время, оставшееся до перехода в другую фазу. ")]):e._e(),i("br"),e.isPermanent?e._e():i("div",[e._v(" Каждая Чёрная Дыра начинает действовать беспрерывно, когда доля её действующей фазы по времени достигает "+e._s(e.formatPercents(.9999,2))+". "),i("br"),e._v(" Доля времени действующей фазы: "+e._s(e.formatPercents(e.blackHoleUptime[0],3))+" "),e.hasBH2?i("span",[e._v("и "+e._s(e.formatPercents(e.blackHoleUptime[1],3))+" для 1-й и 2-й Чёрных Дыр соответственно")]):e._e()]),i("BlackHoleChargingSliders",{staticClass:"l-enslaved-shop-container"})],2),i("div",{class:e.gridStyle()},e._l(e.blackHoles,(function(e,t){return i("BlackHoleUpgradeRow",{key:"upgrades"+t,attrs:{"black-hole":e}})})),1)]:i("div",{staticClass:"l-pre-unlock-text"},[i("BlackHoleUnlockButton",{on:{blackholeunlock:e.startAnimation}}),e._v(" Чёрная Дыра значительно ускоряет всю игру на короткий промежуток времени. "),i("br"),e._v(" (По умолчанию: ускорение в "+e._s(e.formatInt(180))+" раз на "+e._s(e.formatInt(10))+" секунд раз в час.) "),i("br"),i("br"),e._v(" Разблокировка Чёрной Дыры также даёт "+e._s(e.formatInt(10))+" Очков Автоматизации. ")],1)],2)},y$=[];const f$=function(){const e=1.5,t=.5,i=120,a=100,n=2;let s;function r(e,t){let i=t;const a=20;for(let n=0;n<a;n++)i=t+e*Math.sin(i);return i}class o{draw(e){e.beginPath(),e.lineWidth=2*this.size,this.performDraw(e),e.stroke()}performDraw(e){}static calculatePosition(e,t){return{x:e*Math.sin(2*Math.PI*t),y:e*Math.cos(2*Math.PI*t)}}}class l extends o{constructor(){super(),this.angle=0,this.distance=0,this.size=e}update(e,t,i){const n=r(t,2*Math.PI*e/i),s=a*(1-t*Math.cos(n));let o=2*Math.atan(Math.sqrt((1+t)/(1-t)*Math.pow(Math.tan(n/2),2)));Math.tan(n/2)<0&&(o*=-1),this.distance=s,this.angle=o/(2*Math.PI)}performDraw(t){const{x:i,y:a}=o.calculatePosition(this.distance,this.angle);t.arc(i+200,a+200,e,0,2*Math.PI),t.strokeStyle="rgb(0, 0, 255)"}}class c extends o{constructor(e){super(),this.size=e}performDraw(e){const t=e.createRadialGradient(200,200,0,200,200,2*this.size);BlackHoles.areNegative?(t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.85,"rgba(190, 190, 190, 1)"),t.addColorStop(.87,"rgba(170, 170, 170, 1)"),t.addColorStop(1,"rgba(135, 135, 135, 0)")):(t.addColorStop(0,"rgba(0, 0, 0, 1)"),t.addColorStop(.9,"rgba(0, 0, 0, 1)"),t.addColorStop(.92,"rgba(100, 100, 100, 1)"),t.addColorStop(1,"rgba(100, 100, 100, 0)")),e.fillStyle=t,e.fillRect(0,0,400,400),e.strokeStyle="black"}}const u="";class d extends o{constructor(){super(),this.size=t,this.respawn()}respawn(){this.distance=d.randomDistance(),this.lastDistance=this.distance,this.preLastDistance=this.distance,this.angle=Math.random(),this.lastAngle=this.angle,this.preLastAngle=this.angle,this.respawnTick=!0,this.isInside=BlackHoles.areNegative,this.blob=u[Math.floor(Math.random()*u.length)],this.isBlob="S11"===Theme.currentName()}static randomDistance(){return BlackHoles.areNegative?(1.97*Math.random()+.03)*s:s+.5*a*Math.random()*(BlackHole(1).isActive?2:1)}update(e,t){const i=1.5,a=Math.min(Math.pow(Math.max(t,2)/2,3),5),n=i*a*Math.min(e,16)/1e3;this.isInside||(this.preLastAngle=this.lastAngle,this.lastAngle=this.angle,this.angle=(this.angle+20*n*Math.PI*Math.pow(this.distance,-1.5))%1),this.preLastDistance=this.lastDistance,this.lastDistance=this.distance;const r=1+.3*n*Math.pow(this.distance/s,-2);if(BlackHoles.areNegative?this.distance*=r:this.distance/=r,this.distance>2.74645*s&&BlackHoles.areNegative)this.respawn();else if(this.distance<.01*s&&!BlackHoles.areNegative)return void this.respawn();this.isInside=this.distance<=.865*s,this.respawnTick=!1}performDraw(e){if(this.drawTrail(e),!BlackHole(1).isActive)return void(e.strokeStyle="rgb(127, 127, 127)");const{distance:t}=this;if(t>s){const i=Math.floor(127*(t-s)/a);e.strokeStyle=`rgb(${135-i}, ${i}, ${i})`}if(t<=s){const i=Math.floor(255*Math.sqrt(t/s));e.strokeStyle=`rgb(${i}, 0, 0)`}}drawTrail(e){if(this.isInside&&!BlackHole(2).isActive)return;const{x:t,y:i}=o.calculatePosition(this.distance,this.angle);if(this.respawnTick||!BlackHole(1).isActive)return e.arc(t+200,i+200,this.size,0,2*Math.PI),void(this.isBlob&&this.drawAndRotateBlob(e,t,i));const a=this.isInside?this.angle:this.preLastAngle,{x:n,y:s}=o.calculatePosition(this.preLastDistance,a);e.lineCap="round",this.isBlob?this.drawAndRotateBlob(e,t,i):(e.lineWidth*=1,e.moveTo(t+200,i+200),e.lineTo(n+200,s+200))}drawAndRotateBlob(e,t,i){const a=18;if(e.textAlign="center",e.fillStyle="orange",this.distance<=s){const t=this.distance/s,i=a*Math.sqrt(t),n=165*t**2;e.fillStyle=`rgba(255, ${n}, 0, ${2*t})`,e.font=`${i}px Typewriter`}else e.font=`${a}px Typewriter`;e.save(),e.translate(t+200,i+200),e.rotate(-this.angle*Math.PI*2+Math.PI),e.fillText(this.blob,0,0),e.restore()}}return class{constructor(t){this.context=t,this.planet=new l,this.period=BlackHole(1).cycleLength;const o=(1-Math.pow(n,-2))/(1-Math.pow(BlackHole(1).power,-2));let u=.5;const h=1e3,p=2*Math.PI*Math.min(.9,BlackHole(1).duration/this.period);for(let e=0;e<h;e++){const e=r(u,p);u=(o-1)/(o*Math.cos(e)-1)}this.eccentricity=u,s=a*(1-u)*(1-Math.pow(BlackHole(1).power,-2)),this.hole=new c((s-e)/2),this.particles=Array.range(0,i).map((()=>new d)),this.frameRequest=requestAnimationFrame((e=>this.update(e)))}update(e){if(this.frameRequest=requestAnimationFrame((e=>this.update(e))),void 0===e||void 0===this.lastFrame)return void(this.lastFrame=e);const t=e-this.lastFrame;this.lastFrame=e,this.planet.update(this.totalPhase(),this.eccentricity,this.period),this.context.clearRect(0,0,400,400),this.hole.draw(this.context);for(const a of this.particles)a.draw(this.context);if(BlackHoles.arePaused&&!BlackHoles.areNegative)return;const i=1/Math.sqrt(1-s/this.planet.distance);for(const a of this.particles)a.update(t,i)}totalPhase(){const e=BlackHole(1);return e.isActive?(e.phase-e.duration/2+this.period)%this.period:e.phase+e.duration/2}unmount(){cancelAnimationFrame(this.frameRequest)}}}();var g$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isNegativeBHUnlocked?i("div",{staticClass:"l-black-hole-sliders"},[i("b",[e._v(" Инвертированная Чёрная Дыра делит скорость игры на "+e._s(e.format(e.negativeBHDivisor,2,2))+". (В данный момент "+e._s(e.isInverted?"включено":"отключено")),0===e.negativeSlider||e.isInverted?e._e():i("span",{attrs:{"ach-tooltip":e.infoTooltip}},[i("i",{staticClass:"fas fa-question-circle l-margin-left"})]),e._v(") ")]),e.isDisabled?i("div",{staticClass:"l-lock-text"},[e._v(" "+e._s(e.reqLockText)+" ")]):i("SliderComponent",e._b({attrs:{value:e.negativeSlider},on:{input:function(t){return e.adjustSliderNegative(t)}}},"SliderComponent",e.sliderProps(!0),!1)),i("br"),e._v(" Инверсия Чёрной Дыры влияет только на её собственный эффект, а не на финальную скорость игры, хотя она также влияет на фактическое значение эффекта Глифа Эффарига, возводящего скорость игры в степень. ")],1):e._e()])},b$=[];const v$={name:"BlackHoleChargingSliders",components:{SliderComponent:yb},data(){return{isNegativeBHUnlocked:!1,isInverted:!1,isLaitela:!1,negativeSlider:0,negativeBHDivisor:1,maxNegativeBlackHole:300,isDisabled:!1}},computed:{infoTooltip(){return this.isLaitela?"Физика этой реальности несовместима с инверсией Чёрных Дыр":"Чёрная Дыра должна быть приостановлена при инверсии"},reqLockText(){return"Сила инверсии не может быть изменена из-за требования Мнимого Улучшения"}},methods:{update(){this.isNegativeBHUnlocked=V.isFlipped&&BlackHoles.arePermanent,this.isInverted=BlackHoles.areNegative,this.isLaitela=Vp.isRunning,this.negativeSlider=-Math.log10(player.blackHoleNegative),this.negativeBHDivisor=Math.pow(10,this.negativeSlider);const e=player.requirementChecks.reality.slowestBH<=1e-300;this.isDisabled=ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&e},adjustSliderNegative(e){this.negativeSlider=e,player.blackHoleNegative=Math.pow(10,-this.negativeSlider),player.requirementChecks.reality.slowestBH=Math.max(player.requirementChecks.reality.slowestBH,player.blackHoleNegative)},sliderProps(e){return{min:0,max:e?this.maxNegativeBlackHole:990,interval:1,width:"57rem",tooltip:!1}}}},E$=v$;var T$=(0,H.A)(E$,g$,b$,!1,null,"07d636a7",null);const _$=T$.exports;var C$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("h3",[e._v(" Состояние "+e._s(e.description)+": "),e.isPermanent?[e._v(" действует беспрерывно ")]:e.isActive?[e._v(" действует ("+e._s(e.nextChange)+" осталось) ")]:2===e.id&&e.isCharged?[e._v(" готова (активируется вместе с 1-й Чёрной Дырой через "+e._s(e.nextChange)+") ")]:[e._v(" бездействует ("+e._s(e.nextChange)+" осталось) ")]],2):e._e()},A$=[];const k$={name:"BlackHoleStateRow",props:{blackHole:{type:Object,required:!0}},data(){return{isUnlocked:!1,isPermanent:!1,isActive:!1,isCharged:!1,nextChange:"",state:""}},computed:{description(){return this.blackHole.description()},id(){return this.blackHole.id}},methods:{update(){const{blackHole:e}=this;this.isUnlocked=e.isUnlocked,this.isUnlocked&&(this.isPermanent=e.isPermanent,this.isActive=e.isActive,this.isCharged=e.isCharged,this.nextChange=TimeSpan.fromSeconds(e.timeWithPreviousActiveToNextStateChange).toStringShort(),this.state=e.displayState)}}},w$=k$;var S$=(0,H.A)(w$,C$,A$,!1,null,"52c14606",null);const x$=S$.exports;var R$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn c-reality-upgrade-btn--black-hole-unlock",class:e.classObject,on:{click:e.unlock}},[e._v(" Разблокировать Чёрную Дыру "),i("br"),e._v(" Цена: "+e._s(e.formatInt(100))+" Машин Реальности ")])},I$=[];const M$={name:"BlackHoleUnlockButton",data(){return{canBeUnlocked:!1}},computed:{classObject(){return{"c-reality-upgrade-btn--unavailable":!this.canBeUnlocked}}},methods:{update(){this.canBeUnlocked=BlackHoles.canBeUnlocked},unlock(){BlackHoles.unlock(),this.$emit("blackholeunlock")}}},D$=M$;var P$=(0,H.A)(D$,R$,I$,!1,null,"c1b17d90",null);const U$=P$.exports;var G$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("div",{staticClass:"l-black-hole-upgrade-grid__row"},[e.isPermanent?e._e():i("BlackHoleUpgradeButton",{key:e.intervalVal,attrs:{config:e.intervalConfig}}),i("BlackHoleUpgradeButton",{attrs:{config:e.powerConfig}}),e.isPermanent?e._e():i("BlackHoleUpgradeButton",{key:e.durationVal,attrs:{config:e.durationConfig}})],1):e._e()},N$=[],B$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn",class:e.classObject,on:{click:function(t){return e.config.upgrade.purchase()}}},[i("DescriptionDisplay",{attrs:{config:e.config}}),i("EffectDisplay",{attrs:{config:e.effectConfig,label:e.config.effectTitle}}),e.isCapped?e._e():i("CostDisplay",{attrs:{config:e.costConfig,name:"Машина",postName:"Реальности"}})],1),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):e._e()],1)},O$=[],L$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("span",{class:e.classObject},[e._v(" "+e._s(e.title)+" "+e._s(e.description)+" ")]):e._e()},$$=[];const H$={name:"DescriptionDisplay",props:{config:{type:Object,required:!1,default:void 0},name:{type:String,required:!1,default:void 0},length:{type:Number,required:!1,default:void 0},title:{type:String,required:!1,default:""},capitalizationNeeded:{type:Boolean,required:!1,default:!0}},data(){return{isVisible:!1,description:""}},computed:{classObject(){const e=this.name;if(void 0===e)return;const t={};return t[e]=!0,this.description.length>=this.length&&(t[`${e}--small-text`]=!0),t}},watch:{config:{immediate:!0,handler(e){this.updateFunction=()=>{};const t=null===e||void 0===e?void 0:e.description,i=e=>this.capitalizationNeeded?e.charAt(0).toUpperCase()+e.slice(1):e;if(this.isVisible=void 0!==t,!this.isVisible)return;if($S(t))return void(this.description=i(t));if(!HS(t))throw new Error(`DescriptionDisplay config.description has  unsupported type "${typeof t}"`);const a=t();if($S(a))return this.config.scrambleText?(this.description=i(a).replace("*",$e.wordCycle(this.config.scrambleText,!0)),void(this.updateFunction=()=>this.description=i(t()).replace("*",$e.wordCycle(this.config.scrambleText,!0)))):(this.description=i(a),void(this.updateFunction=()=>this.description=i(t())));throw new Error(`DescriptionDisplay config.description is a function which returns unsupported type "${typeof a}"`)}}},beforeCreate(){this.updateFunction=()=>{}},methods:{update(){this.updateFunction()}}},F$=H$;var q$=(0,H.A)(F$,L$,$$,!1,null,null,null);const V$=q$.exports,Y$={name:"BlackHoleUpgradeButton",components:{PrimaryToggleButton:$g,DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS},props:{config:{type:Object,required:!0}},data(){return{isAffordable:!1,isCapped:!1,isAutoUnlocked:!1,isAutobuyerOn:!1}},computed:{effectConfig(){const{config:e}=this;return{effect:()=>e.upgrade.value,formatEffect:t=>e.formatEffect(t)}},costConfig(){const{config:e}=this;return{cost:()=>e.upgrade.cost,formatCost:e=>format(e,2,0)}},classObject(){return{"c-reality-upgrade-btn--unavailable":!this.isAffordable}}},watch:{isAutobuyerOn(e){Autobuyer.blackHolePower(this.config.upgrade.id).isActive=e}},methods:{update(){this.isCapped=0===this.config.upgrade.value,this.isAffordable=this.config.upgrade.isAffordable&&!this.isCapped;const e=this.config.upgrade.hasAutobuyer,t=Autobuyer.blackHolePower(this.config.upgrade.id);this.isAutoUnlocked=e&&t.isUnlocked,this.isAutobuyerOn=e&&t.isActive}}},j$=Y$;var W$=(0,H.A)(j$,B$,O$,!1,null,"1152906a",null);const X$=W$.exports,z$={name:"BlackHoleUpgradeRow",components:{BlackHoleUpgradeButton:X$},props:{blackHole:{type:Object,required:!0}},data(){return{isUnlocked:!1,isPermanent:!1,intervalVal:0,durationVal:0}},computed:{intervalConfig(){return{upgrade:this.blackHole.intervalUpgrade,description:()=>`Укоротить фазу бездействия ${this.blackHole.description()} на ${formatPercents(.2)}`,effectTitle:"Сейчас",formatEffect:()=>`${TimeSpan.fromSeconds(this.blackHole.rawInterval).toStringShort(!1)}`}},powerConfig(){return{upgrade:this.blackHole.powerUpgrade,description:()=>`Усилить эффект ${this.blackHole.description()} на ${formatPercents(.35)}`,effectTitle:"Сейчас",formatEffect:e=>`${formatX(e,2,2)}`}},durationConfig(){return{upgrade:this.blackHole.durationUpgrade,description:()=>`Удлинить фазу действия ${this.blackHole.description()} на ${formatPercents(.3)}`,effectTitle:"Сейчас",formatEffect:()=>`${TimeSpan.fromSeconds(this.blackHole.duration).toStringShort(!1)}`}}},methods:{update(){const e=this.blackHole;this.isUnlocked=e.isUnlocked,this.isPermanent=e.isPermanent,this.intervalVal=e.rawInterval,this.durationVal=e.duration}}},K$=z$;var Q$=(0,H.A)(K$,G$,N$,!1,null,"14e6106a",null);const J$=Q$.exports,Z$={name:"BlackHoleTab",components:{BlackHoleUpgradeRow:J$,BlackHoleStateRow:x$,BlackHoleChargingSliders:_$,BlackHoleUnlockButton:U$},data(){return{isDoomed:!1,isUnlocked:!1,isPaused:!1,isEnslaved:!1,pauseMode:0,detailedBH2:"",isPermanent:!1,hasBH2:!1,blackHoleUptime:[],stateChange:""}},computed:{blackHoles:()=>BlackHoles.list,pauseModeString(){switch(this.pauseMode){case BLACK_HOLE_PAUSE_MODE.NO_PAUSE:return"отключено";case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH1:return this.hasBH2?"перед активацией ЧД1":"перед активацией";case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH2:return"перед активацией ЧД2";default:throw new Error("Unrecognized BH offline pausing mode")}}},mounted(){this.startAnimation()},destroyed(){this.animation&&this.animation.unmount()},methods:{update(){this.isDoomed=Pelle.isDoomed,this.isUnlocked=BlackHoles.areUnlocked,this.isPaused=BlackHoles.arePaused,this.isEnslaved&&!Enslaved.isRunning&&(this.animation&&this.animation.unmount(),this.startAnimation()),this.isEnslaved=Enslaved.isRunning,this.isPermanent=BlackHoles.arePermanent,this.pauseMode=player.blackHoleAutoPauseMode,this.hasBH2=BlackHole(2).isUnlocked,this.blackHoleUptime=[BlackHole(1).duration/BlackHole(1).cycleLength,BlackHole(2).duration/BlackHole(2).cycleLength],this.detailedBH2=this.bh2Status(),player.blackHoleNegative<1?this.stateChange=this.isPaused?"Отменить инверсию ЧД":"Инвертировать ЧД":this.stateChange=this.isPaused?"Возобновить цикл ЧД":"Приостановить ЧД"},bh2Status(){const e=BlackHole(1).timeWithPreviousActiveToNextStateChange,t=BlackHole(2).timeWithPreviousActiveToNextStateChange;if(BlackHole(1).isActive&&BlackHole(2).isActive){const i=Math.min(e,t);return`2-я Чёрная Дыра будет действовать в течение ${TimeSpan.fromSeconds(i).toStringShort()}!`}if(BlackHole(1).isActive&&t<e){const i=Math.min(e-t,BlackHole(2).duration);return`2-я Чёрная Дыра активируется, прежде чем деактивируется 1-я Чёрная Дыра,\n          на ${TimeSpan.fromSeconds(i).toStringShort()}`}if(BlackHole(1).isActive||t>BlackHole(1).duration){const i=BlackHole(1).isActive?Math.floor((t-e)/BlackHole(1).duration)+1:Math.floor(t/BlackHole(1).duration);return`2-я Чёрная Дыра активируется через ${quantifyInt("цикл",i)} активности 1-й Чёрной Дыры.`}if(BlackHole(2).isCharged){const e=Math.min(BlackHole(1).duration,t);return`2-я Чёрная Дыра активируется вместе с 1-й Чёрной Дырой\n          на ${TimeSpan.fromSeconds(e).toStringShort()}.`}const i=Math.min(BlackHole(1).duration-t,BlackHole(2).duration);return`2-я Чёрная Дыра активируется через ${TimeSpan.fromSeconds(t).toStringShort()} после\n        активации 1-й Чёрной Дыры на ${TimeSpan.fromSeconds(i).toStringShort()}.`},togglePause(){BlackHoles.togglePause(),BlackHoles.arePaused&&(player.celestials.enslaved.isAutoReleasing=!1),this.update()},changePauseMode(){let e;switch(this.pauseMode){case BLACK_HOLE_PAUSE_MODE.NO_PAUSE:e=BlackHole(1).isPermanent?2:1;break;case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH1:e=this.hasBH2?1:2;break;case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH2:e=1;break;default:throw new Error("Unrecognized BH offline pausing mode")}player.blackHoleAutoPauseMode=(this.pauseMode+e)%Object.values(BLACK_HOLE_PAUSE_MODE).length},startAnimation(){setTimeout((()=>{this.$refs.canvas&&(this.animation=new f$(this.$refs.canvas.getContext("2d")))}),1)},gridStyle(){return this.isPermanent?"l-black-hole-upgrade-permanent":"l-black-hole-upgrade-grid"}}},eH=Z$;var tH=(0,H.A)(eH,m$,y$,!1,null,"3d19a036",null);const iH=tH.exports;var aH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-break-infinity-tab"},[e.isUnlocked?e._e():i("div",[e._v(" Снизьте интервал автоматики Большого Сжатия до "+e._s(e.format(.1,1,1))+" секунды, чтобы получить возможность Преодолеть Бесконечность. ")]),i("BreakInfinityButton",{staticClass:"l-break-infinity-tab__break-btn"}),e.isUnlocked?i("div",{staticClass:"l-break-infinity-upgrade-grid l-break-infinity-tab__grid"},e._l(e.grid,(function(t,a){return i("div",{key:a,staticClass:"l-break-infinity-upgrade-grid__row"},e._l(t,(function(t){return i("InfinityUpgradeButton",{key:t.id,class:e.btnClassObject(a),attrs:{upgrade:t}})})),1)})),0):e._e()],1)},nH=[],sH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],class:e.classObject,on:{click:e.clicked}},[e._v(" "+e._s(e.text)+" ")])},rH=[];const oH={name:"BreakInfinityButton",data(){return{isBroken:!1,isUnlocked:!1,isEnslaved:!1}},computed:{classObject(){return{"o-infinity-upgrade-btn":!0,"o-infinity-upgrade-btn--color-2":!0,"o-infinity-upgrade-btn--available":this.isUnlocked,"o-infinity-upgrade-btn--unavailable":!this.isUnlocked,"o-infinity-upgrade-btn--feel-eternity":this.isEnslaved,"o-infinity-upgrade-btn--unclickable":this.isBroken&&!this.isEnslaved}},tooltip(){if(this.isEnslaved)return"...вечность за вечностью, эпоха за эпохой..."},text(){return this.isEnslaved?"ПОЧУВСТВОВАТЬ ВЕЧНОСТЬ":this.isBroken?"БЕСКОНЕЧНОСТЬ ПРЕОДОЛЕНА":"ПРЕОДОЛЕТЬ БЕСКОНЕЧНОСТЬ"}},methods:{update(){this.isBroken=player.break,this.isUnlocked=Autobuyer.bigCrunch.hasMaxedInterval,this.isEnslaved=Enslaved.isRunning},clicked(){this.isEnslaved?Enslaved.feelEternity():!this.isBroken&&this.isUnlocked&&Modal.breakInfinity.show()}}},lH=oH;var cH=(0,H.A)(lH,sH,rH,!1,null,"5f4b3c5c",null);const uH=cH.exports;var dH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.classObject,on:{mouseenter:function(t){e.showingCharged=e.canBeCharged},mouseleave:function(t){e.showingCharged=!1},click:function(t){return e.upgrade.purchase()}}},[i("span",{class:{"o-pelle-disabled":e.isUseless}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.showWorstChallenge?i("span",[i("br"),e._v(" "+e._s(e.worstChallengeString)+" ")]):e._e(),e.isDisabled?e._e():i("EffectDisplay",{attrs:{br:"",config:e.config}}),!e.isDisabled&&e.isImprovedByTS31?[i("br"),e._v(" С учётом ИсслВ31: "+e._s(e.formatX(e.ts31Effect,2,2))+" ")]:e._e()],2),e.isBought?e._e():i("CostDisplay",{attrs:{br:"",config:e.config,name:"Очко",postName:"Бесконечности"}}),e._t("default")],2)},hH=[];const pH={name:"InfinityUpgradeButton",components:{DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS},props:{upgrade:{type:Object,required:!0}},data(){return{showWorstChallenge:!1,worstChallengeString:"",isUseless:!1,canBeBought:!1,chargePossible:!1,canBeCharged:!1,isBought:!1,isCharged:!1,isDisabled:!1,showingCharged:!1,hasTS31:!1,ts31Effect:new Decimal(0)}},computed:{isBasedOnInfinities(){return/(18|27|36|45)Mult/u.test(this.upgrade.id)||"infinitiedMult"===this.upgrade.id},shiftDown(){return ui.view.shiftDown},showChargedEffect(){return this.chargePossible&&(this.isCharged||this.showingCharged||this.shiftDown)},config(){const e=this.upgrade.config;return this.showChargedEffect?e.charged:e},classObject(){return{"o-infinity-upgrade-btn":!0,"o-infinity-upgrade-btn--bought":!this.isUseless&&this.isBought,"o-infinity-upgrade-btn--available":!this.isUseless&&!this.isBought&&this.canBeBought,"o-infinity-upgrade-btn--unavailable":!this.isUseless&&!this.isBought&&!this.canBeBought,"o-infinity-upgrade-btn--useless":this.isUseless,"o-pelle-disabled":this.isUseless,"o-infinity-upgrade-btn--chargeable":!this.isCharged&&this.chargePossible&&(this.showingCharged||this.shiftDown),"o-infinity-upgrade-btn--charged":this.isCharged,"o-pelle-disabled-pointer":this.isUseless}},isImprovedByTS31(){return this.hasTS31&&this.isBasedOnInfinities&&!this.showChargedEffect}},methods:{update(){const e=this.upgrade;if(this.isBought=e.isBought||e.isCapped,this.chargePossible=Ra.unlocks.chargedInfinityUpgrades.canBeApplied&&e.hasChargeEffect&&!Pelle.isDoomed,this.canBeBought=e.canBeBought,this.canBeCharged=e.canCharge,this.isCharged=e.isCharged,this.isDisabled=e.config.isDisabled&&e.config.isDisabled(e.config.effect()),this.isUseless=Pelle.uselessInfinityUpgrades.includes(e.id)&&Pelle.isDoomed,this.hasTS31=TimeStudy(31).canBeApplied,!this.isDisabled&&this.isImprovedByTS31&&(this.ts31Effect=Decimal.pow(e.config.effect(),4)),"challengeMult"!==e.id)return;this.showWorstChallenge=e.effectValue!==e.cap&&player.challenge.normal.bestTimes.sum()<Number.MAX_VALUE;const t=GameCache.worstChallengeTime.value,i=2+player.challenge.normal.bestTimes.indexOf(t);this.worstChallengeString=`(Испытание ${i}: ${timeDisplayShort(t)})`}}},mH=pH;var yH=(0,H.A)(mH,dH,hH,!1,null,"1f2f614a",null);const fH=yH.exports,gH={name:"BreakInfinityTab",components:{BreakInfinityButton:uH,InfinityUpgradeButton:fH},data(){return{isUnlocked:!1}},computed:{grid(){return[[BreakInfinityUpgrade.totalAMMult,BreakInfinityUpgrade.currentAMMult,BreakInfinityUpgrade.galaxyBoost],[BreakInfinityUpgrade.infinitiedMult,BreakInfinityUpgrade.achievementMult,BreakInfinityUpgrade.slowestChallengeMult],[BreakInfinityUpgrade.infinitiedGen,BreakInfinityUpgrade.autobuyMaxDimboosts,BreakInfinityUpgrade.autobuyerSpeed],[BreakInfinityUpgrade.tickspeedCostMult,BreakInfinityUpgrade.dimCostMult,BreakInfinityUpgrade.ipGen]]}},methods:{update(){this.isUnlocked=Autobuyer.bigCrunch.hasMaxedInterval},btnClassObject(e){return{"l-infinity-upgrade-grid__cell":!0,"o-infinity-upgrade-btn--multiplier":3===e}},timeDisplayShort(e){return timeDisplayShort(e)}}},bH=gH;var vH=(0,H.A)(bH,aH,nH,!1,null,"3b438a43",null);const EH=vH.exports;var TH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("svg",{ref:"celestialNavigationSVG",staticClass:"c-wide-canvas-element l-celestial-navigation"},[i("defs",[i("linearGradient",{attrs:{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[i("stop",{attrs:{offset:"0%","stop-color":"#ffff00","stop-opacity":"1"}}),i("stop",{attrs:{offset:"100%","stop-color":"#ff0000","stop-opacity":"1"}})],1),i("linearGradient",{attrs:{id:"incompleteFade",x1:"0",x2:"8",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#888","stop-opacity":"0"}}),i("stop",{attrs:{offset:"8","stop-color":"#888","stop-opacity":"1"}})],1),i("linearGradient",{attrs:{id:"fadeGrad",y2:"0",x2:"1"}},[i("stop",{attrs:{offset:"0.5","stop-color":"white","stop-opacity":"0"}}),i("stop",{attrs:{offset:"1","stop-color":"white","stop-opacity":".5"}})],1),i("linearGradient",{attrs:{id:"gradTeresaEffarig",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#5151ec"}}),i("stop",{attrs:{offset:"1","stop-color":"#d13737"}})],1),i("linearGradient",{attrs:{id:"gradEffarigEnslaved",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#d13737"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffa337"}})],1),i("linearGradient",{attrs:{id:"gradEnslavedV",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#ffa337"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffe066"}})],1),i("linearGradient",{attrs:{id:"gradRaTeresa",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#5151ec"}})],1),i("linearGradient",{attrs:{id:"gradRaEffarig",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#d13737"}})],1),i("linearGradient",{attrs:{id:"gradRaEnslaved",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffa337"}})],1),i("linearGradient",{attrs:{id:"gradRaV",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"#ffe066"}})],1),i("linearGradient",{attrs:{id:"gradRaLaitela",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"#9063de"}}),i("stop",{attrs:{offset:"1","stop-color":"white"}})],1),i("linearGradient",{attrs:{id:"gradLaitelaPelle",y2:"0",x2:"1",gradientUnits:"userSpaceOnUse"}},[i("stop",{attrs:{offset:"0","stop-color":"white"}}),i("stop",{attrs:{offset:"1","stop-color":"crimson"}})],1),i("mask",{attrs:{id:"fade",maskContentUnits:"objectBoundingBox"}},[i("rect",{attrs:{width:"1",height:"1",fill:"url(#fadeGrad)"}})]),i("filter",{attrs:{id:"completeGlow",x:"-100%",y:"-100%",width:"300%",height:"300%"}},[i("feGaussianBlur",{attrs:{in:"SourceGraphic",result:"blurred",stdDeviation:"2"}}),i("feMerge",[i("feMergeNode",{attrs:{in:"blurred"}}),i("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1),i("filter",{attrs:{id:"backgroundGlow",x:"-100%",y:"-100%",width:"300%",height:"300%"}},[i("feGaussianBlur",{attrs:{in:"SourceGraphic",result:"blurred",stdDeviation:"4"}}),i("feMerge",[i("feMergeNode",{attrs:{in:"blurred"}}),i("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1)],1),i("image",{attrs:{x:"-250",y:"-350",height:"1503",width:"1503",href:"images/celestial-navigation-bg.webp"}}),e._l(e.drawOrder,(function(t,a){return i("g",{key:a,attrs:{visibility:e.nodeVisibility(t)}},[i(t.is,e._b({tag:"component",attrs:{complete:e.nodeState[t.nodeId].complete}},"component",t.config,!1))],1)}))],2)])},_H=[],CH=i(8852),AH=i.n(CH),kH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("path",{attrs:{transform:e.ringBackgroundTransform,d:e.ringBackgroundPath,fill:"rgba(0,0,0,0.75)",stroke:"none",filter:e.ringBackgroundFilter}})},wH=[];function SH(e){if(!e.gapDeg){const t=e.rMinor?`m 0.2 ${e.rMajor-e.rMinor}\na ${e.rMinor} ${e.rMinor} 0 1 1 -0.2 0\nz`:"";return`M -0.1, ${-e.rMajor}\na ${e.rMajor} ${e.rMajor} 0 1 0 0.2 0\nz\n${t}`}const t=Math.PI/180,i=void 0===e.gapAngleDeg?e.gapDeg/2:e.gapAngleDeg,a=t*(e.gapCenterDeg+e.gapDeg/2),n=Math.cos(a),s=Math.sin(a),r=t*(e.gapCenterDeg-e.gapDeg/2),o=Math.cos(r),l=Math.sin(r),c=e.rMajor/e.rMinor*Math.sin(t*(e.gapDeg/2-i)),u=Math.asin(c)+t*i,d=t*e.gapCenterDeg+u,h=Math.cos(d),p=Math.sin(d),m=t*e.gapCenterDeg-u,y=Math.cos(m),f=Math.sin(m),g=e.gapDeg<=180?1:0;return`M ${n*e.rMajor-.001*s} ${s*e.rMajor+.001*n}\nA ${e.rMajor} ${e.rMajor} 0 ${g} 1 ${o*e.rMajor+.001*l} ${l*e.rMajor-.001*o}\nL ${y*e.rMinor+.001*f} ${f*e.rMinor-.001*y}\nA ${e.rMinor} ${e.rMinor} 0 ${g} 0 ${h*e.rMinor-.001*p} ${p*e.rMinor+.001*h}\nz`}const xH={name:"NodeBackground",props:{position:{type:Object,required:!0},ring:{type:Object,required:!0},isStacked:{type:Boolean,required:!1,default:!1}},computed:{ringBackgroundTransform(){return this.position.asTranslate()},ringBackgroundPath(){return SH(this.ring)},ringBackgroundFilter(){return this.isStacked?"":"url(#backgroundGlow)"}}},RH=xH;var IH=(0,H.A)(RH,kH,wH,!1,null,"4a7519ae",null);const MH=IH.exports;var DH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("g",e._g({staticClass:"o-celestial-nav__hoverable",class:e.nodeClass,attrs:{transform:e.baseTransform}},e.clickAction?{click:e.clickAction}:{}),[i("path",{staticClass:"o-celestial-nav__node-overlay",attrs:{d:e.pathData}}),e.hasLegend?i("g",{staticClass:"tooltiptext"},[i("polyline",{staticClass:"o-celestial-nav__legend-arrow",attrs:{points:e.legendArrowPointString}}),i("path",{staticClass:"o-celestial-nav__legend-outline",attrs:{d:e.pathData}}),i("g",{attrs:{transform:e.legendTransform}},[i("text",{staticClass:"o-celestial-nav__legend-text",attrs:{"text-anchor":e.legendTextAnchor,"dominant-baseline":"middle","font-size":e.LEGEND_FONT_SIZE}},e._l(e.legendLines,(function(t,a){return i("tspan",{key:a,attrs:{x:"0",y:e.legendLineY(a)}},[e._v(" "+e._s(t)+" ")])})),0)])]):e._e()])},PH=[];const UH={name:"NodeOverlay",props:{complete:{type:Number,required:!0},position:{type:Object,required:!0},legend:{type:Object,required:!1,default:void 0},ring:{type:Object,required:!0},fill:{type:String,required:!1,default:void 0},alwaysShowLegend:{type:Boolean,required:!1,default:!1},forceLegend:{type:Function,required:!1,default:void 0},clickAction:{type:Function,required:!1,default:void 0}},data(){return{legendLines:[],hoverOverride:!1}},computed:{LEGEND_FONT_SIZE:()=>16,baseTransform(){return this.position.asTranslate()},pathData(){return SH(this.ring)},hasLegend(){return Boolean(this.legend)&&(!this.legend.hideWhenCompleted||this.complete<1)},legendArrowPoints(){const e=Vector.unitFromDegrees(this.legend.angle),t=[e.times(this.ring.rMajor+2)];return t.push(t[0].plus(e.times(this.legend.diagonal))),t.push(t[1].plus(Vector.horiz(this.legend.horizontal*Math.sign(e.x)))),t},legendArrowPointString(){return this.legendArrowPoints.join(" ")},legendTransform(){const e=this.legendArrowPoints,t=Math.sign(e[2].x-e[0].x);return e[2].plus(Vector.horiz(4*t)).asTranslate()},legendTextAnchor(){const e=(this.legend.angle+360)%360;return e>90&&e<270?"end":"start"},nodeClass(){return{"o-celestial-nav__force-hover":this.hoverOverride,"o-celestial-nav__clickable":void 0!==this.clickAction}}},methods:{update(){this.legendLines=this.getLines(),this.hoverOverride=this.alwaysShowLegend||this.forceLegend&&this.forceLegend()},legendLineY(e){const t=Math.round(1.25*this.LEGEND_FONT_SIZE/2),i=this.legendLines.length;return(2*e-(i-1))*t},getLines(){if(!this.legend)return null;const e="function"===typeof this.legend.text?this.legend.text(this.complete):this.legend.text;return"string"===typeof e?[e]:e}}},GH=UH;var NH=(0,H.A)(GH,DH,PH,!1,null,"689b5224",null);const BH=NH.exports;var OH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("g",{attrs:{transform:e.baseTransform}},[i("path",{class:e.ringClass,attrs:{d:e.pathData,stroke:"none",fill:e.fill,filter:e.ringFilter}}),e.symbol?i("text",{staticClass:"o-celestial-nav__symbol o-no-mouse",attrs:{fill:"#000","dominant-baseline":"middle","font-size":e.symbolFontSize,dy:e.symbolOffset}},[e._v(" "+e._s(e.symbol)+" ")]):e._e()])},LH=[];const $H={name:"NodeRing",props:{complete:{type:Number,required:!0},position:{type:Object,required:!0},ring:{type:Object,required:!0},symbol:{type:String,required:!1,default:""},symbolScale:{type:Number,required:!1,default:1.4},symbolOffset:{type:String,required:!1,default:"0"},completeClass:{type:String,required:!1,default:void 0},incompleteClass:{type:String,required:!1,default:void 0},fill:{type:String,required:!1,default:void 0},isStacked:{type:Boolean,required:!1,default:!1}},computed:{baseTransform(){return this.position.asTranslate()},pathData(){return SH(this.ring)},ringClass(){return this.complete>=1?this.completeClass:this.incompleteClass},symbolFontSize(){return this.ring.rMajor*this.symbolScale},ringFilter(){return this.complete>=1&&!this.isStacked?"url(#completeGlow)":""}}},HH=$H;var FH=(0,H.A)(HH,OH,LH,!1,null,"10806dde",null);const qH=FH.exports;var VH=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("g",[e.noBG?e._e():i("g",{attrs:{transform:e.incompleteTransform}},[i("path",{attrs:{d:e.incompleteFadePath,fill:"url(#incompleteFade)"}}),e.hasIncompleteSolidPath?i("path",{attrs:{d:e.incompleteSolidPath,fill:"#888"}}):e._e()]),i("g",{attrs:{filter:e.filter}},[i("path",{style:{opacity:e.opacity},attrs:{transform:e.completeTransform,fill:e.fill,stroke:"none",d:e.completePath}})])])},YH=[];const jH={name:"ProgressConnector",props:{complete:{type:Number,required:!0},completeWidth:{type:Number,required:!1,default:8},incompleteWidth:{type:Number,required:!1,default:6},noBG:{type:Boolean,required:!1,default:!1},opacity:{type:Number,required:!1,default:1},fill:{type:String,required:!1,default:"#5151ec"},filterName:{type:String,required:!1,default:"completeGlow"},path:{type:Object,required:!0},pathStart:{type:Number,required:!0},pathEnd:{type:Number,required:!0},pathPadStart:{type:Number,required:!1,default:0},pathPadEnd:{type:Number,required:!1,default:0}},computed:{unpaddedSpan(){return this.pathEnd-this.pathPadEnd-(this.pathStart+this.pathPadStart)},incompleteStart(){return this.complete>=1?this.pathEnd:this.pathStart+this.pathPadStart+this.unpaddedSpan*this.complete},incompleteStartShape(){return this.shapeAt(this.incompleteStart)},completeStartShape(){return this.shapeAt(this.pathStart)},incompleteTransform(){const e=this.incompleteStartShape;return`${e.position.asTranslate()} ${e.direction.asRotate()}`},pathEndShape(){return this.shapeAt(this.pathEnd)},totalPathOffsetPx(){return this.pathEndShape.position.minus(this.completeStartShape.position)},completeTransform(){const e=this.completeStartShape,t=this.totalPathOffsetPx.length;return`${e.position.asTranslate()} ${e.direction.asRotate()} scale(${t})`},incompleteFadeEnd(){const e=this.incompleteStartShape,t=12/e.derivative.length;return this.pathEnd>this.pathStart?Math.min(this.incompleteStart+t,this.pathEnd):Math.max(this.incompleteStart-t,this.pathEnd)},incompleteFadePath(){return this.generateIncompletePath(this.incompleteStart,this.incompleteFadeEnd)},incompleteSolidPath(){return this.generateIncompletePath(this.incompleteFadeEnd-.001*(this.pathEnd-this.incompleteFadeEnd),this.pathEnd)},completePath(){const e=this.completeStartShape,t=1/this.totalPathOffsetPx.length,i=AffineTransform.translation(e.position.negative).rotated(-e.direction.angle).scaled(t),a=this.pathStart,n=this.incompleteStart,s=this.completeWidth,r=this.getOffsetPath(-s/2,a,n).transformedBy(i),o=this.getOffsetPath(s/2,n,a).transformedBy(i),l=this.incompleteStartShape.direction.transformedBy(i.withoutTranslation),c=r.path[r.path.length-1],u=o.path[0],d=c.position(1).plus(l.times(s/2)),h=u.position(0).plus(l.times(s/2)),p=`C ${d.x} ${d.y} ${h.x} ${h.y} ${u.p0.x} ${u.p0.y}\n`;return r.toSVG("M")+p+o.toSVG("L")},hasIncompleteSolidPath(){return this.incompleteFadeEnd!==this.pathEnd},filter(){return`url(#${this.filterName})`}},methods:{generateIncompletePath(e,t){const i=this.getOffsetPath(-this.incompleteWidth/2,e,t),a=this.getOffsetPath(this.incompleteWidth/2,t,e),n=this.incompleteStartShape,s=AffineTransform.translation(n.position.negative).rotated(-n.direction.angle);return i.transformedBy(s).toSVG("M")+a.transformedBy(s).toSVG("L")},getOffsetPath(e,t,i){if(this.path instanceof LinearPath)return new PiecewisePath([this.path.createOffsetLine(e,t,i)]);const a=new OffsetCurve(this.path,e);return PiecewisePath.cubicBezierFitToCurveSection(a,t,i)},shapeAt(e){const t=this.path.shapeAt(e);return this.pathStart>this.pathEnd&&(t.direction=t.direction.negative,t.derivative=t.derivative.negative),t}}},WH=jH;var XH=(0,H.A)(WH,VH,YH,!1,null,"027e7312",null);const zH=XH.exports,KH={name:"CelestialNavigationTab",components:{NodeRing:qH,NodeBackground:MH,NodeOverlay:BH,ProgressConnector:zH},data:()=>({nodeState:null}),computed:{db(){return{...GameDatabase.celestials.navigation,...GameDatabase.celestials.navSigils}},drawOrder(){const e=this.db,t=[];for(const i of Object.keys(e)){const a=e[i];if(a.connector instanceof Array)for(const e of a.connector)t.push({nodeId:i,is:zH,config:e,drawOrder:e.drawOrder||Xe.CONNECTORS});else a.connector&&t.push({nodeId:i,is:zH,config:a.connector,drawOrder:a.connector.drawOrder||Xe.CONNECTORS});a.node&&(t.push({nodeId:i,is:MH,config:a.node,drawOrder:a.node.bgDrawOrder||Xe.NODE_BG}),t.push({nodeId:i,is:qH,config:a.node,drawOrder:a.node.drawOrder||Xe.NODES}),t.push({nodeId:i,is:BH,config:a.node,drawOrder:a.node.overlayDrawOrder||Xe.NODE_OVERLAYS})),t.sort(((e,t)=>e.drawOrder-t.drawOrder))}return t}},created(){this.nodeState=Object.keys(this.db).mapToObject((e=>e),(()=>({visible:!1,complete:0})))},mounted(){const e=function(e,t){const i=this.getSizes(),a=i.width-(i.viewBox.x+i.viewBox.width)*i.realZoom,n=-i.viewBox.x*i.realZoom,s=i.height-(i.viewBox.y+i.viewBox.height)*i.realZoom,r=-i.viewBox.y*i.realZoom;return{x:Math.max(a,Math.min(n,t.x)),y:Math.max(s,Math.min(r,t.y))}};this.panZoom=AH()(this.$refs.celestialNavigationSVG,{controlIconsEnabled:!0,dblClickZoomEnabled:!1,center:!1,fit:!1,zoomScaleSensitivity:.3,minZoom:.64,maxZoom:1.5,beforePan:e}),QH.pan&&this.panZoom.pan(QH.pan),QH.zoom&&this.panZoom.zoom(QH.zoom)},beforeDestroy(){this.panZoom&&(QH.zoom=this.panZoom.getZoom(),QH.pan=this.panZoom.getPan(),this.panZoom.destroy(),delete this.panZoom)},methods:{update(){for(const e of Object.keys(this.db))this.nodeState&&(this.nodeState[e].visible=this.db[e].visible(),this.nodeState[e].complete=this.db[e].complete())},vec(e,t){return new Vector(e,t)},nodeVisibility(e){return this.nodeState[e.nodeId].visible?"visible":"hidden"}}};const QH={pan:{x:125,y:125},zoom:.75},JH=KH;var ZH=(0,H.A)(JH,TH,_H,!1,null,"8ce190f0",null);const eF=ZH.exports;var tF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-challenge-records-tab c-stats-tab"},[i("ChallengeRecordsList",{attrs:{start:2,times:e.normalChallenges,names:e.normalNames}}),e.infinityChallengesUnlocked?i("ChallengeRecordsList",{staticClass:"l-challenge-records-tab__infinity_challenges",attrs:{start:1,times:e.infinityChallenges,names:e.infinityNames}}):e._e()],1)},iF=[],aF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("br"),e._l(e.times,(function(t,a){return i("div",{key:a},[t<Number.MAX_VALUE?i("span",[e._v("Рекорд "+e._s(e.start+a)+"-го "+e._s(e.names[0])+": "+e._s(e.timeDisplayShort(t)))]):i("span",[e._v("Вы ещё не выполнили "+e._s(e.start+a)+"-е "+e._s(e.names[1]))])])})),i("br"),e.completedAllChallenges?i("div",[e._v(" Сумма рекордов "+e._s(e.names[2])+": "+e._s(e.timeDisplayShort(e.timeSum))+" ")]):i("div",[e._v(" У вас есть невыполненное "+e._s(e.names[1])+". ")])],2)},nF=[];const sF={name:"ChallengeRecordsList",props:{names:{type:Array,required:!0},start:{type:Number,required:!0},times:{type:Array,required:!0}},computed:{timeSum(){return this.times.sum()},completedAllChallenges(){return this.timeSum<Number.MAX_VALUE}},methods:{timeDisplayShort}},rF=sF;var oF=(0,H.A)(rF,aF,nF,!1,null,null,null);const lF=oF.exports,cF={name:"ChallengeRecordsTab",components:{ChallengeRecordsList:lF},data(){return{infinityChallengesUnlocked:!1,normalChallenges:[],infinityChallenges:[],normalNames:[],infinityNames:[]}},methods:{update(){this.infinityChallengesUnlocked=PlayerProgress.infinityChallengeCompleted()||PlayerProgress.eternityUnlocked(),this.normalChallenges=player.challenge.normal.bestTimes.slice(0),this.infinityChallenges=player.challenge.infinity.bestTimes.slice(0),this.normalNames=["Обычного Испытания","Обычное Испытание","Обычных Испытаний"],this.infinityNames=["Испытания Бесконечности","Испытание Бесконечности","Испытаний Бесконечности"]}}},uF=cF;var dF=(0,H.A)(uF,tF,iF,!1,null,null,null);const hF=dF.exports;var pF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-teresa-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"effarig"}}),i("div",{staticClass:"l-effarig-shop-and-run"},[i("div",{staticClass:"l-effarig-shop"},[i("div",{staticClass:"c-effarig-relics"},[e._v(" У вас "+e._s(e.quantify("Реликтовый Осколок",e.relicShards,2,0))+". "),i("br"),e.relicShardRarityAlwaysMax?i("span",[e._v(" Редкость получаемых глифов увеличивается на "+e._s(e.formatPercents(e.shardRarityBoost,2))+". ")]):i("span",[e._v(" У каждого из генерируемых глифов редкость будет увеличена "),i("br"),e._v(" на случайное значение от "+e._s(e.formatPercents(0))+" до "+e._s(e.formatPercents(e.shardRarityBoost,2))+". ")]),e.shardPower>1?i("span",[i("br"),e._v(" Кроме того, жертвенные ценнности глифов возведены в степень "+e._s(e.format(e.shardPower,0,2))+". ")]):e._e()]),i("div",{staticClass:"c-effarig-relic-description"},[e._v(" Вы получите "+e._s(e.quantify("Реликтовый Осколок",e.shardsGained,2))+" на реальности ("+e._s(e.format(e.currentShardsRate,2))+"/мин). "),0!==e.amplification?i("span",[i("br"),e._v(" С учётом усиления реальности "),i("br"),e._v(" вы получите "+e._s(e.quantify("Реликтовый Осколок",e.amplifiedShards,2))+" ("+e._s(e.format(e.amplifiedShardsRate,2))+"/мин). ")]):e._e()]),e._m(0),e._l(e.shopUnlocks,(function(e,t){return i("EffarigUnlockButton",{key:t,attrs:{unlock:e}})})),i("EffarigUnlockButton",{attrs:{unlock:e.runUnlock}}),e.vIsFlipped?i("button",{staticClass:"c-effarig-shop-button c-effarig-shop-button--available",on:{click:e.createCursedGlyph}},[e._v(" Получить Проклятый Глиф... ")]):e._e()],2),e.runUnlocked?i("div",{staticClass:"l-effarig-run"},[i("div",{staticClass:"c-effarig-run-description"},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Запустить Реальность Эффарига ")])]),i("div",{class:e.runButtonOuterClass,on:{click:e.startRun}},[i("div",{class:e.runButtonInnerClass,attrs:{"button-symbol":e.symbol}},[e._v(" "+e._s(e.symbol)+" ")])]),i("div",{staticClass:"c-effarig-run-description"},[e._v(" "+e._s(e.runDescription)+" "),i("br"),i("br"),i("h3",[e._v("Награды:")])]),e._l(e.runUnlocks,(function(e,t){return i("EffarigRunUnlockReward",{key:t,attrs:{unlock:e}})}))],2):e._e()])],1)},mF=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-effarig-relic-description"},[i("br"),e._v(" Количество получаемых Реликтовых Осколков зависит от количества "),i("br"),e._v(" различных действующих эффектов глифов, и в меньшей степени "),i("br"),e._v(" от Очков Вечности. ")])}],yF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShown?i("button",{staticClass:"c-celestial-quote-history--button",style:{"--scoped-cel-color":e.color},on:{click:e.show}},[e._v(" Речи "+e._s(e.possessiveForm)+" ")]):e._e()},fF=[];const gF={name:"CelestialQuoteHistory",props:{celestial:{type:String,required:!0}},data(){return{isShown:!1}},computed:{color(){return"laitela"===this.celestial?"var(--color-laitela--accent)":`var(--color-${this.celestial}--base)`},possessiveForm(){return Celestials[this.celestial].possessiveName}},methods:{update(){this.isShown=Celestials[this.celestial].quotes.all.some((e=>e.isUnlocked))},show(){Quote.showHistory(Celestials[this.celestial].quotes.all)}}},bF=gF;var vF=(0,H.A)(bF,yF,fF,!1,null,null,null);const EF=vF.exports;var TF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-effarig-tab__reward"},[i("div",{staticClass:"c-effarig-tab__reward-label"},[e._v(" "+e._s(e.unlock.config.label)+": ")]),e.isUnlocked?i("div",{staticClass:"l-effarig-tab__reward-descriptions",class:{"c-effarig-reward":e.isCompleted}},e._l(e.descriptionLines,(function(t,a){return i("div",{key:a+"-effarig-reward-description",staticClass:"c-effarig-tab__reward-description"},[i("span",{staticClass:"c-effarig-tab__reward-symbol"},[e._v(" "+e._s(e.symbol)+" ")]),i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" "+e._s(t)+" ")])])})),0):i("span",{staticClass:"c-effarig-tab__reward-symbol"},[e._v("?")])])},_F=[];const CF={name:"EffarigRunUnlockReward",props:{unlock:{type:Object,required:!0}},data(){return{isUnlocked:!1,isCompleted:!1}},computed:{descriptionLines(){return this.unlock.config.description.split("\n").map((e=>e.trim()))},symbol:()=>GLYPH_SYMBOLS.effarig,isDoomed:()=>Pelle.isDoomed},methods:{update(){this.isCompleted=this.unlock.isUnlocked,this.isUnlocked=this.isCompleted||Effarig.currentStageName===this.unlock.config.label}}},AF=CF;var kF=(0,H.A)(AF,TF,_F,!1,null,null,null);const wF=kF.exports;var SF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.classObject,on:{click:e.purchase}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.isBought?e._e():i("CostDisplay",{attrs:{config:e.config,name:"",label:"",postName:"Реликтовых Осколков"}})],1)},xF=[];const RF={name:"EffarigUnlockButton",components:{DescriptionDisplay:V$,CostDisplay:jS},props:{unlock:{type:Object,required:!0}},data(){return{isBought:!1,isAvailable:!1}},computed:{config(){return this.unlock.config},classObject(){return{"c-effarig-shop-button":!0,"c-effarig-shop-button--bought":this.isBought,"c-effarig-shop-button--available":this.isAvailable&&!this.isBought}}},methods:{update(){this.isBought=this.unlock.isUnlocked,this.isAvailable=Currency.relicShards.gte(this.unlock.cost)},purchase(){this.unlock.purchase()}}},IF=RF;var MF=(0,H.A)(IF,SF,xF,!1,null,null,null);const DF=MF.exports,PF={name:"EffarigTab",components:{EffarigUnlockButton:DF,EffarigRunUnlockReward:wF,CelestialQuoteHistory:EF},data(){return{relicShards:0,shardRarityBoost:0,shardPower:0,shardsGained:0,currentShardsRate:0,amplification:0,amplifiedShards:0,amplifiedShardsRate:0,runUnlocked:!1,quote:"",isRunning:!1,vIsFlipped:!1,relicShardRarityAlwaysMax:!1}},computed:{shopUnlocks:()=>[EffarigUnlock.adjuster,EffarigUnlock.glyphFilter,EffarigUnlock.setSaves],runUnlock:()=>EffarigUnlock.run,runUnlocks:()=>[EffarigUnlock.infinity,EffarigUnlock.eternity,EffarigUnlock.reality],symbol:()=>GLYPH_SYMBOLS.effarig,runButtonOuterClass(){return{"l-effarig-run-button":!0,"c-effarig-run-button":!0,"c-effarig-run-button--running":this.isRunning,"c-effarig-run-button--not-running":!this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runButtonInnerClass(){return this.isRunning?"c-effarig-run-button__inner--running":"c-effarig-run-button__inner--not-running"},runDescription(){return`${GameDatabase.celestials.descriptions[1].effects()}\n\n      ${GameDatabase.celestials.descriptions[1].description()}`},showShardsRate(){return this.currentShardsRate},isDoomed:()=>Pelle.isDoomed},watch:{isRunning(){this.$recompute("runDescription")}},methods:{update(){this.relicShards=Currency.relicShards.value,this.shardRarityBoost=Effarig.maxRarityBoost/100,this.shardPower=Ra.unlocks.maxGlyphRarityAndShardSacrificeBoost.effectOrDefault(1),this.shardsGained=Effarig.shardsGained,this.currentShardsRate=this.shardsGained/Time.thisRealityRealTime.totalMinutes,this.amplification=simulatedRealityCount(!1),this.amplifiedShards=this.shardsGained*(1+this.amplification),this.amplifiedShardsRate=this.amplifiedShards/Time.thisRealityRealTime.totalMinutes,this.quote=Effarig.quote,this.runUnlocked=EffarigUnlock.run.isUnlocked,this.isRunning=Effarig.isRunning,this.vIsFlipped=V.isFlipped,this.relicShardRarityAlwaysMax=Ra.unlocks.extraGlyphChoicesAndRelicShardRarityAlwaysMax.canBeApplied},startRun(){this.isDoomed||Modal.celestials.show({name:"Эффарига",number:1})},createCursedGlyph(){Glyphs.giveCursedGlyph()}}},UF=PF;var GF=(0,H.A)(UF,pF,mF,!1,null,"77b86960",null);const NF=GF.exports;var BF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-enslaved-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"enslaved"}}),e.hasAutoRelease&&e.canAutoRelease?i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Пульсирование Чёрной Дыры:"},model:{value:e.autoRelease,callback:function(t){e.autoRelease=t},expression:"autoRelease"}})],1):e._e(),i("div",{staticClass:"l-enslaved-celestial-tab--inner"},[i("div",{staticClass:"l-enslaved-run-container"},[e.hasUnlock(e.unlocksInfo.RUN)?i("div",[i("div",{staticClass:"c-enslaved-run-button"},[i("div",{staticClass:"c-enslaved-run-button__title",class:e.doomedDisabledClass},[e._v(" "+e._s(e.realityTitle)+" ")]),e.completed?i("div",[i("b",[e._v("(Выполнена)")])]):e._e(),i("div",{class:e.runButtonClassObject,on:{click:e.startRun}},[i("div",{staticClass:"c-enslaved-run-button__icon__sigil"},[e._v(" "+e._s(e.enslavedSymbol)+" ")]),e._l(e.isRunning?25:0,(function(t){return i("div",{key:t,staticClass:"c-enslaved-run-button__icon__glitch",style:e.glitchStyle(t)})}))],2),e._l(e.runDescription,(function(t){return i("div",{key:t,staticClass:"c-enslaved-run-description-line"},[e._v(" "+e._s(t)+" ")])})),i("b",[e._v('Награда: разблокировать Тессеракты, увеличивающие ограничение на покупку Измерений Бесконечности (во вкладке "Измерения Бесконечности")')])],2)]):e._e()]),i("div",{staticClass:"l-enslaved-upgrades-column"},[e.hintsUnlocked?i("PrimaryButton",{staticClass:"o-primary-btn",attrs:{onclick:"Modal.enslavedHints.show()"}},[e._v(" Ближе присмотреться к Реальности... ")]):e._e(),i("div",{staticClass:"l-enslaved-top-container"},[i("div",{staticClass:"l-enslaved-top-container__half"},[e._v(" Во время зарядки Чёрной Дыры множители ко скорости игры "+e._s(e.hasAutoRelease?"уменьшены":"отключены")+", и теряемая скорость преобразуется в сохранённое игровое время. Разрядка Чёрной Дыры позволяет вам перепрыгнуть на это время. Сохранённое игровое время используется также для покупки определённых улучшений. "),i("button",{class:e.storeGameTimeClass,on:{click:e.toggleStoreBlackHole}},[i("div",{staticClass:"o-enslaved-stored-time",class:e.doomedDisabledClass},[e._v(" "+e._s(e.timeDisplayShort(e.storedBlackHole))+" ")]),i("div",[e._v(" "+e._s(e.isStoringBlackHole?"Чёрная Дыра заряжается":"Зарядить Чёрную Дыру")+" ")])]),i("button",{class:e.dischargeClass,on:{click:e.useStored}},[i("span",[e._v("Разрядить Чёрную Дыру")]),e.isRunning?i("p",[e._v(" "+e._s(e.timeDisplayShort(e.nerfedBlackHoleTime))+" в Реальности этого Небожителя ")]):e._e()])]),i("div",{staticClass:"l-enslaved-top-container__half"},[e._v(" Хранение реального времени полностью останавливает всё производство, выставляя скорость игры на "+e._s(e.formatInt(0))+". Сохранённое реальное время можно использовать, чтобы усилить реальность, многократно симулируя её повторно. При этом вы получаете все те же награды, что и от обычной реальности. "),i("button",{class:[e.storeRealTimeClass,{"l-fixed-setting":e.hasReachedCurrentCap}],on:{click:e.toggleStoreReal}},[i("div",{staticClass:"o-enslaved-stored-time"},[e._v(" "+e._s(e.timeDisplayShort(e.storedReal))+" ")]),i("div",[e._v(" "+e._s(e.isStoringReal?"Реальное время сохраняется":"Сохранять реальное время")+" ")])]),i("button",{class:[e.mechanicButtonClass,{"o-enslaved-mechanic-button--storing-time":e.autoStoreReal&&e.offlineEnabled,"l-fixed-setting":!e.canChangeStoreRealTime||!e.offlineEnabled},e.doomedDisabledClass],on:{click:e.toggleAutoStoreReal}},[e._v(" "+e._s(e.realTimeButtonText)+" ")]),i("div",[e._v(" Эффективность: "+e._s(e.storedRealEfficiencyDesc)+" ")]),i("div",[e._v(" Ограничение на сохранённое реальное время: "+e._s(e.storedRealCapDesc)+" ")])])]),i("BlackHoleChargingSliders"),i("br"),i("div",{staticClass:"l-enslaved-shop-container"},e._l(e.unlocksInfo,(function(t){return i("button",{key:t.id,staticClass:"o-enslaved-shop-button",class:e.unlockClassObject(t),on:{click:function(i){return e.buyUnlock(t)}}},[e._v(" "+e._s(t.description())+" "),e.hasUnlock(t)?e._e():i("div",[e._v(" Цена: "+e._s(e.timeDisplayShort(t.price).replace("года","лет"))+" ")]),e.isStoringBlackHole&&!e.hasUnlock(t)&&e.timeUntilBuy(t.price)>0?i("span",[e._v(" Время зарядки: "+e._s(e.timeDisplayShort(e.timeUntilBuy(t.price)))+" ")]):e._e()])})),0)],1)])],1)},OF=[];const LF={name:"EnslavedTab",components:{CelestialQuoteHistory:EF,PrimaryButton:Fs,PrimaryToggleButton:$g,BlackHoleChargingSliders:_$},data:()=>({isStoringBlackHole:!1,isStoringReal:!1,autoStoreReal:!1,offlineEnabled:!1,hasAutoRelease:!1,isRunning:!1,completed:!1,storedBlackHole:0,storedReal:0,storedRealEffiency:0,storedRealCap:0,autoRelease:!1,autoReleaseSpeed:0,unlocks:[],buyableUnlocks:[],quote:"",currentSpeedUp:0,hintsUnlocked:!1,canModifyGameTimeStorage:!1,canChangeStoreTime:!1,canChangeStoreRealTime:!1,canDischarge:!1,canAutoRelease:!1,hasNoCharge:!0,hasReachedCurrentCap:!1}),computed:{storedRealEfficiencyDesc(){return formatPercents(this.storedRealEffiency)},storedRealCapDesc(){return timeDisplayShort(this.storedRealCap)},unlocksInfo(){return ENSLAVED_UNLOCKS},nerfedBlackHoleTime(){return Enslaved.storedTimeInsideEnslaved(this.storedBlackHole)},realityTitle(){return"Запустить Реальность Безымянных"},runButtonClassObject(){return{"c-enslaved-run-button__icon":!0,"c-enslaved-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runDescription(){return GameDatabase.celestials.descriptions[2].effects().split("\n")},realTimeButtonText(){return this.offlineEnabled?this.autoStoreReal?"Время, проведённое офлайн, будет сохраняться":"Время, проведённое офлайн, будет использовано":"Офлайн-прогресс отключён"},enslavedSymbol:()=>Enslaved.symbol,isDoomed:()=>Pelle.isDoomed,storeGameTimeClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":this.canModifyGameTimeStorage,"o-enslaved-mechanic-button--storing-time":this.isStoringBlackHole,"l-fixed-setting":!this.canModifyGameTimeStorage,"o-pelle-disabled":this.isDoomed}},storeRealTimeClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":!this.isDoomed,"o-enslaved-mechanic-button--storing-time":this.isStoringReal,"l-fixed-setting":!this.canChangeStoreRealTime,"o-pelle-disabled":this.isDoomed}},dischargeClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":!this.isDoomed,"l-fixed-setting":!this.canDischarge||this.hasNoCharge,"o-pelle-disabled":this.isDoomed}},doomedDisabledClass(){return{"o-pelle-disabled":this.isDoomed}},mechanicButtonClass(){return{"o-enslaved-mechanic-button":!0,"o-enslaved-mechanic-button--clickable":!this.isDoomed}}},watch:{autoRelease(e){player.celestials.enslaved.isAutoReleasing=e}},methods:{update(){this.isStoringBlackHole=Enslaved.isStoringGameTime,this.storedBlackHole=player.celestials.enslaved.stored,this.isStoringReal=Enslaved.isStoringRealTime,this.autoStoreReal=player.celestials.enslaved.autoStoreReal,this.offlineEnabled=player.options.offlineProgress,this.hasAutoRelease=Ra.unlocks.autoPulseTime.canBeApplied,this.isRunning=Enslaved.isRunning,this.completed=Enslaved.isCompleted&&!this.isDoomed,this.storedReal=player.celestials.enslaved.storedReal,this.storedRealEffiency=Enslaved.storedRealTimeEfficiency,this.storedRealCap=Enslaved.storedRealTimeCap,this.unlocks=Array.from(player.celestials.enslaved.unlocks),this.buyableUnlocks=Object.values(ENSLAVED_UNLOCKS).map((e=>Enslaved.canBuy(e))),this.quote=Enslaved.quote,this.autoRelease=player.celestials.enslaved.isAutoReleasing,this.autoReleaseSpeed=Enslaved.isAutoReleasing?Enslaved.autoReleaseSpeed:0,this.currentSpeedUp=Enslaved.currentBlackHoleStoreAmountPerMs,this.hintsUnlocked=EnslavedProgress.hintsUnlocked.hasProgress,this.canModifyGameTimeStorage=Enslaved.canModifyGameTimeStorage,this.canChangeStoreTime=Enslaved.canModifyGameTimeStorage,this.canChangeStoreRealTime=Enslaved.canModifyRealTimeStorage,this.canDischarge=Enslaved.canRelease(!1),this.canAutoRelease=Enslaved.canRelease(!0),this.hasNoCharge=0===player.celestials.enslaved.stored,this.hasReachedCurrentCap=this.storedReal===this.storedRealCap},toggleStoreBlackHole(){Enslaved.toggleStoreBlackHole()},toggleStoreReal(){Enslaved.toggleStoreReal()},toggleAutoStoreReal(){this.offlineEnabled&&Enslaved.toggleAutoStoreReal()},useStored(){Enslaved.useStoredTime(!1)},timeDisplayShort(e){return timeDisplayShort(e)},timeUntilBuy(e){return Math.max((e-this.storedBlackHole)/this.currentSpeedUp,0)},buyUnlock(e){Enslaved.buyUnlock(e)},startRun(){this.isDoomed||Modal.celestials.show({name:"Безымянных",number:2})},hasUnlock(e){return Enslaved.has(e)},canBuyUnlock(e){return this.buyableUnlocks[e.id]},unlockClassObject(e){return{"o-enslaved-shop-button--bought":this.hasUnlock(e),"o-enslaved-shop-button--available":this.canBuyUnlock(e)}},glitchStyle(e){const t=15/27,i=5,a=(e-13)*t+.85*(2*Math.random()-1),n=(2*Math.random()-1)*i,s=3*(Math.pow(Math.random(),1.5)+.25)*i;return{transform:`translate(${a}rem, ${n}rem)`,height:`${s}rem`}}}},$F=LF;var HF=(0,H.A)($F,BF,OF,!1,null,"126c6070",null);const FF=HF.exports;var qF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-challenges-tab"},[i("ChallengeTabHeader"),e.isAutoECVisible?i("div",[e._v(" Испытания Вечности выполняются по порядку от первого к последнему по одному выполнению за раз. ")]):e._e(),e.isAutoECVisible&&e.remainingECTiers>0?i("div",{staticClass:"c-challenges-tab__auto-ec-info l-challenges-tab__auto-ec-info"},[i("div",{staticClass:"l-challenges-tab__auto-ec-timers"},[e.hasUpgradeLock?i("span",{staticClass:"l-emphasis"},[e._v(' Автоматическое выполнение Испытаний Вечности отключено проверкой требования Улучшения "'+e._s(e.upgradeLockNameText)+'". ')]):e._e(),e.remainingECTiers>0?i("span",[e._v(" Следующее автоматическое выполнение Испытания Вечности произойдёт "+e._s(e.nextECText)+". ")]):e._e(),i("span",[e._v(" Все Испытания Вечности будут автоматически выполнены "+e._s(e.allECText)+". ")]),i("br")])]):e._e(),i("div",[e._v(" Каждое Испытание Вечности может быть выполнено до "+e._s(e.formatInt(5))+" раз, и при каждом выполнении его цель и награда растут."),i("br"),e._v(" Награды действуют вне зависимости от того, есть ли у вас Исследования Времени, разблокирующие соответствующие Испытания Вечности. ")]),e.hasECR?e._e():i("div",[e._v(" Однажды разблокировав Испытание Вечности, вы освобождаетесь от необходимости выполнять его вторичное требование, чтобы разблокировать его вновь, до тех пор пока вы не выполните его; вам требуется лишь соответствующее количество Теорем Времени. ")]),12!==e.unlockedCount?i("div",[e._v(" Вы узнали "+e._s(e.formatInt(e.unlockedCount))+" из "+e._s(e.formatInt(12))+" Испытаний Вечности. ")]):i("div",[e._v(" Вы узнали все "+e._s(e.formatInt(12))+" Испытаний Вечности. ")]),i("ChallengeGrid",{attrs:{challenges:e.challenges,"is-challenge-visible":e.isChallengeVisible},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.challenge;return[i("EternityChallengeBox",{attrs:{challenge:t}})]}}])})],1)},VF=[],YF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-challenge-grid"},e._l(e.challenges,(function(t){return i("ChallengeGridCell",{key:t.id,attrs:{challenge:t,"is-challenge-visible":e.isChallengeVisible}},[e._t("default",null,{challenge:t})],2)})),1)},jF=[],WF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"l-challenge-grid__cell"},[e._t("default")],2)},XF=[];const zF={name:"ChallengeGridCell",props:{challenge:{type:Object,required:!0},isChallengeVisible:{type:Function,required:!0}},data(){return{isVisible:!1}},methods:{update(){this.isVisible=this.isChallengeVisible(this.challenge)}}},KF=zF;var QF=(0,H.A)(KF,WF,XF,!1,null,"4d8a00e8",null);const JF=QF.exports,ZF={name:"ChallengeGrid",components:{ChallengeGridCell:JF},props:{challenges:{type:Array,required:!0},isChallengeVisible:{type:Function,required:!1,default:()=>!0}}},eq=ZF;var tq=(0,H.A)(eq,YF,jF,!1,null,"1cfb349c",null);const iq=tq.exports;var aq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-challenges-tab__header"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Автоматически перезапускать испытания:"},model:{value:e.retryChallenge,callback:function(t){e.retryChallenge=t},expression:"retryChallenge"}}),e.isShowAllVisible?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Показать все когда-либо открытые испытания:"},model:{value:e.showAllChallenges,callback:function(t){e.showAllChallenges=t},expression:"showAllChallenges"}}):e._e(),e.isAutoECVisible?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Автоматика Испытаний Вечности:"},model:{value:e.autoEC,callback:function(t){e.autoEC=t},expression:"autoEC"}}):e._e(),e.isInChallenge?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.restartChallenge}},[e._v(" Перезапустить испытание ")]):e._e(),e.isInChallenge?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.exitChallenge}},[e._v(" Выйти из испытания ")]):e._e()],1)])},nq=[];const sq={name:"ChallengeTabHeader",components:{PrimaryButton:Fs,PrimaryToggleButton:$g},data(){return{retryChallenge:!1,isInChallenge:!1,isShowAllVisible:!1,isAutoECVisible:!1,showAllChallenges:!1,autoEC:!1}},watch:{retryChallenge(e){player.options.retryChallenge=e},autoEC(e){player.reality.autoEC=e},showAllChallenges(e){player.options.showAllChallenges=e}},methods:{update(){this.retryChallenge=player.options.retryChallenge,this.showAllChallenges=player.options.showAllChallenges,this.isInChallenge=Player.isInAnyChallenge,this.isShowAllVisible=PlayerProgress.eternityUnlocked(),this.isAutoECVisible=Perk.autocompleteEC1.canBeApplied,this.autoEC=player.reality.autoEC},restartChallenge(){const e=Player.anyChallenge;Player.isInAnyChallenge&&(e.exit(!0),e.start())},exitChallenge(){const e=Player.anyChallenge;Player.isInAnyChallenge&&e.exit(!1)}}},rq=sq;var oq=(0,H.A)(rq,aq,nq,!1,null,"659c5880",null);const lq=oq.exports;var cq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("EternityChallengeBoxWrapper",{attrs:{name:e.name,"is-unlocked":e.isUnlocked,"is-running":e.isRunning,"is-completed":e.isCompleted,"can-be-unlocked":e.canBeUnlocked,"completion-count":e.completions},on:{start:e.start},scopedSlots:e._u([{key:"top",fn:function(){return[i("DescriptionDisplay",{attrs:{config:e.config}})]},proxy:!0},{key:"bottom",fn:function(){return[i("div",{staticClass:"l-challenge-box__bottom--eternity"},[i("div",{style:{visiblity:e.completions<5?"visible":"hidden"}},[i("div",[e._v(" Выполнено "+e._s(e.quantifyInt("раз",e.completions))+" ")]),e._v(" "+e._s(e.goalDisplay)+" ")]),e.showGoalSpan?i("span",[e._v(" Диапазон целей: "+e._s(e.firstGoal)+" - "+e._s(e.lastGoal)+" ОБ ")]):e._e(),i("span",[e._v(" Награда: "),i("DescriptionDisplay",{attrs:{config:e.config.reward,length:55,name:"c-challenge-box__reward-description",capitalizationNeeded:!1}})],1),i("span",[e.completions>0?i("EffectDisplay",{attrs:{config:e.currentRewardConfig}}):e._e(),e.completions>0&&e.completions<5?i("span",[e._v("|")]):e._e(),e.completions<5?i("EffectDisplay",{attrs:{config:e.nextRewardConfig,label:"При очередном выполнении","ignore-capped":!0}}):e._e()],1)])]},proxy:!0}])})},uq=[],dq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-challenge-box l-challenge-box c-challenge-box--eternity"},[i("HintText",{staticClass:"l-hint-text--challenge",attrs:{type:"challenges"}},[e._v(" "+e._s(e.name)+" ")]),e._t("top"),i("div",{staticClass:"l-challenge-box__fill"}),i("div",[i("div",{style:e.completionOverlay}),i("button",{class:e.buttonClassObject,on:{click:function(t){return e.$emit("start")}}},[e._v(" "+e._s(e.buttonText)+" ")])]),e._t("bottom")],2)},hq=[];const pq={name:"EternityChallengeBoxWrapper",components:{HintText:cN},props:{name:{type:String,required:!0},isUnlocked:{type:Boolean,required:!0},isRunning:{type:Boolean,required:!0},isCompleted:{type:Boolean,required:!0},canBeUnlocked:{type:Boolean,required:!0},completionCount:{type:Number,required:!0},overrideLabel:{type:String,required:!1,default:""}},data(){return{challengeId:Number}},computed:{buttonClassObject(){const e=this.isCompleted&&!this.isUnlocked,t=this.isCompleted&&this.isUnlocked&&!this.isRunning,i=this.isUnlocked||this.canBeUnlocked,a=!this.isCompleted&&!this.isUnlocked&&!this.isRunning&&!this.canBeUnlocked,n=!this.isRunning&&(!this.isCompleted&&this.canBeUnlocked||this.isUnlocked);return{"o-challenge-btn":!0,"o-challenge-btn--running":this.isRunning,"o-challenge-btn--completed":e,"o-challenge-btn--redo":t,"o-challenge-btn--unlocked":!e&&i,"o-challenge-btn--locked":a,"o-challenge-btn--unenterable":!n}},completionOverlay(){return{position:"absolute",width:15*Math.clampMax(this.completionCount/5,1)+"rem",height:"3rem",background:"var(--color-good)",opacity:this.completionCount>=5?0:.3,"border-top-left-radius":"var(--var-border-radius, 1rem)","border-bottom-left-radius":"var(--var-border-radius, 1rem)","pointer-events":"none"}},buttonText(){return this.overrideLabel.length?this.overrideLabel:this.isRunning?"Запущено":this.isCompleted?this.isUnlocked?"Перезапустить":"Выполнено":this.isUnlocked?"Начать":this.canBeUnlocked?"Разблокировать":"Заблокировано"}}},mq=pq;var yq=(0,H.A)(mq,dq,hq,!1,null,"041ad1f8",null);const fq=yq.exports,gq={name:"EternityChallengeBox",components:{EternityChallengeBoxWrapper:fq,DescriptionDisplay:V$,EffectDisplay:TN},props:{challenge:{type:Object,required:!0}},data(){return{isUnlocked:!1,isRunning:!1,isCompleted:!1,canBeUnlocked:!1,completions:0,showGoalSpan:!1,lastGoal:""}},computed:{config(){return this.challenge.config},goalDisplay(){const e=this.config;let t=`Цель: ${this.goalAtCompletions(this.completions)} ОБ`;return e.restriction&&(t+=` ${e.formatRestriction(e.restriction(this.completions))}`),t},firstGoal(){return this.goalAtCompletions(0)},currentRewardConfig(){const e=this.challenge,t=this.config.reward;return{effect:()=>t.effect(e.completions),formatEffect:t.formatEffect,cap:t.cap}},nextRewardConfig(){const e=this.challenge,t=this.config.reward;return{effect:()=>t.effect(e.completions+1),formatEffect:t.formatEffect,cap:t.cap}},name(){return`ИспВ${this.challenge.id}`}},methods:{update(){const e=this.challenge;this.isUnlocked=e.isUnlocked,this.isRunning=e.isRunning,this.isCompleted=e.isFullyCompleted,this.completions=e.completions,this.showGoalSpan=PlayerProgress.realityUnlocked(),this.canBeUnlocked=TimeStudy.eternityChallenge(e.id).canBeBought,this.lastGoal=Enslaved.isRunning&&1===this.challenge.id?$e.wordCycle(this.config.scrambleText.map((e=>format(e)))):this.goalAtCompletions(this.challenge.maxCompletions-1)},start(){this.canBeUnlocked?TimeStudy.eternityChallenge(this.challenge.id).purchase():this.challenge.requestStart()},goalAtCompletions(e){return format(this.challenge.goalAtCompletions(e),2,1)}}},bq=gq;var vq=(0,H.A)(bq,cq,uq,!1,null,"3f78b231",null);const Eq=vq.exports,Tq={name:"EternityChallengesTab",components:{ChallengeTabHeader:lq,ChallengeGrid:iq,EternityChallengeBox:Eq},data(){return{unlockedCount:0,showAllChallenges:!1,autoEC:!1,isAutoECVisible:!1,hasUpgradeLock:!1,remainingECTiers:0,untilNextEC:TimeSpan.zero,untilAllEC:TimeSpan.zero,hasECR:!1}},computed:{challenges(){return EternityChallenges.all},upgradeLockNameText(){return RealityUpgrade(12).isLockingMechanics?RealityUpgrade(12).name:ImaginaryUpgrade(15).name},nextECText(){return 0!==this.untilNextEC.totalMilliseconds||this.autoEC?`через ${this.untilNextEC.toStringNoDecimals("accusative")} (по реальному времяисчислению)`:"немедленно при включении автоматики"},allECText(){return 0!==this.untilAllEC.totalMilliseconds||this.autoEC?`через ${this.untilAllEC.toStringNoDecimals("accusative")} (по реальному времяисчислению)`:"немедленно при включении автоматики"}},methods:{update(){this.showAllChallenges=player.options.showAllChallenges,this.unlockedCount=EternityChallenges.all.filter(this.isChallengeVisible).length,this.isAutoECVisible=Perk.autocompleteEC1.canBeApplied,this.autoEC=player.reality.autoEC;const e=TimeDimension(1).amount.gt(0);this.hasUpgradeLock=RealityUpgrade(12).isLockingMechanics||ImaginaryUpgrade(15).isLockingMechanics&&e&&!Array.range(1,6).some((e=>!EternityChallenge(e).isFullyCompleted));const t=EternityChallenges.remainingCompletions;if(this.remainingECTiers=t,0!==t){const e=EternityChallenges.autoComplete.interval,i=Math.max(e-player.reality.lastAutoEC,0);this.untilNextEC.setFrom(i),this.untilAllEC.setFrom(i+e*(t-1))}this.hasECR=Perk.studyECRequirement.isBought},isChallengeVisible(e){return e.completions>0||e.isUnlocked||e.hasUnlocked||this.showAllChallenges&&PlayerProgress.realityUnlocked()}}},_q=Tq;var Cq=(0,H.A)(_q,qF,VF,!1,null,"1f7ee7ae",null);const Aq=Cq.exports;var kq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-eternity-milestone-grid"},[i("div",[e._v("У вас "+e._s(e.quantify("вечность",e.eternityCount,3))+".")]),i("div",[e._v(" Этапы Вечности, генерирующие ресурсы офлайн, действуют лишь при выполнении определённых условий, которые вы можете просмотреть, наведя курсор на них. ")]),e._l(e.rows,(function(t){return i("div",{key:t,staticClass:"l-eternity-milestone-grid__row"},e._l(3,(function(a){return i("EternityMilestoneButton",{key:3*t+a,staticClass:"l-eternity-milestone-grid__cell",attrs:{"get-milestone":e.getMilestone(t,a)}})})),1)}))],2)},wq=[],Sq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.config.invisible?e._e():i("div",{staticClass:"l-eternity-milestone"},[i("span",{staticClass:"o-eternity-milestone__goal"},[e._v(" "+e._s(e.quantifyInt("вечность",e.eternities))+": ")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.activeCondition,expression:"activeCondition"}],class:e.rewardClassObject},[i("span",{class:{"o-pelle-disabled":e.isUseless}},[e._v(" "+e._s(e.reward)+" ")])])])},xq=[];const Rq={name:"EternityMilestoneButton",props:{getMilestone:{type:Function,required:!0}},data(){return{isReached:!1,isLocked:!1}},computed:{milestone(){return this.getMilestone()},config(){return this.milestone.config},eternities(){return this.config.eternities},reward(){const e=this.config.reward;return"function"===typeof e?e():e},rewardClassObject(){return{"o-eternity-milestone__reward":!0,"o-eternity-milestone__reward--locked":!this.isReached,"o-eternity-milestone__reward--reached":this.isReached,"o-eternity-milestone__reward--small-font":this.reward.length>80}},activeCondition(){return this.config.activeCondition?this.config.activeCondition():null},isDoomed:()=>Pelle.isDoomed,isUseless(){return this.isDoomed&&this.config.pelleUseless}},methods:{update(){this.isLocked=this.isDoomed&&void 0!==this.config.givenByPelle,this.isReached=this.milestone.isReached}}},Iq=Rq;var Mq=(0,H.A)(Iq,Sq,xq,!1,null,"2c525262",null);const Dq=Mq.exports,Pq={name:"EternityMilestonesTab",components:{EternityMilestoneButton:Dq},data(){return{eternityCount:new Decimal}},computed:{milestones(){return Object.values(GameDatabase.eternity.milestones).sort(((e,t)=>e.eternities-t.eternities)).map((e=>new EternityMilestoneState(e)))},rows(){return Math.ceil(this.milestones.length/3)}},methods:{update(){this.eternityCount.copyFrom(Currency.eternities.value.floor())},getMilestone(e,t){return()=>this.milestones[3*(e-1)+t-1]}}},Uq=Pq;var Gq=(0,H.A)(Uq,kq,wq,!1,null,"2743841a",null);const Nq=Gq.exports;var Bq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-eternity-upgrades-grid"},[e._l(e.grid,(function(t,a){return i("div",{key:a,staticClass:"l-eternity-upgrades-grid__row"},e._l(t,(function(e){return i("EternityUpgradeButton",{key:e.id,staticClass:"l-eternity-upgrades-grid__cell",attrs:{upgrade:e}})})),1)})),i("EPMultiplierButton"),i("div",[e._v(" Цена на упятеритель резко возрастает на "+e._s(e.format(e.costIncreases[0]))+", "+e._s(e.formatPostBreak(e.costIncreases[1],2))+" и "+e._s(e.formatPostBreak(e.costIncreases[2]))+" Очков Вечности. "),i("br"),e._v(" После "+e._s(e.formatPostBreak(e.costIncreases[3]))+" Очков Вечности она растёт принципиально быстрее. ")])],2)},Oq=[],Lq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group l-margin-top"},[i("button",{class:e.classObject,on:{click:e.purchaseUpgrade}},[i("div",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Множитель "+e._s(e.formatX(5))+" к получению Очков Вечности "),i("br"),e._v(" Сейчас: "+e._s(e.formatX(e.multiplier,2,0))+" ")]),i("br"),e._v(" Цена: "+e._s(e.quantify("Очко",e.cost,2,0))+" Вечности ")]),i("PrimaryButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",on:{click:function(t){return e.upgrade.buyMax(!1)}}},[e._v(" Купить все ")]),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",attrs:{label:"Автоматика упятерителей ОВ:"},model:{value:e.isAutobuyerActive,callback:function(t){e.isAutobuyerActive=t},expression:"isAutobuyerActive"}}):e._e()],1)},$q=[];const Hq={name:"EPMultiplierButton",components:{PrimaryButton:Fs,PrimaryToggleButton:$g},data(){return{isAutobuyerActive:!1,isAutoUnlocked:!1,isAffordable:!1,multiplier:new Decimal,cost:new Decimal}},computed:{upgrade(){return EternityUpgrade.epMult},autobuyer(){return Autobuyer.epMult},classObject(){return this.isDoomed?{"o-eternity-upgrade":!0,"o-eternity-upgrade--useless":!this.isAffordable,"o-pelle-disabled-pointer":!0,"o-pelle-disabled":!0}:{"o-eternity-upgrade":!0,"o-eternity-upgrade--available":this.isAffordable,"o-eternity-upgrade--unavailable":!this.isAffordable}},isDoomed:()=>Pelle.isDoomed},watch:{isAutobuyerActive(e){Autobuyer.epMult.isActive=e}},methods:{update(){const e=this.upgrade;this.isAutoUnlocked=this.autobuyer.isUnlocked,this.isAutobuyerActive=this.autobuyer.isActive,this.multiplier.copyFrom(e.effectValue),this.cost.copyFrom(e.cost),this.isAffordable=e.isAffordable},purchaseUpgrade(){RealityUpgrade(15).isLockingMechanics?RealityUpgrade(15).tryShowWarningModal():this.upgrade.purchase()}}},Fq=Hq;var qq=(0,H.A)(Fq,Lq,$q,!1,null,"63bfb9a4",null);const Vq=qq.exports;var Yq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.classObject,on:{click:function(t){return e.upgrade.purchase()}}},[i("DescriptionDisplay",{attrs:{config:e.upgrade.config}}),i("EffectDisplay",{attrs:{br:"",config:e.upgrade.config}}),!e.isBought&&e.hasEU2?i("div",[e._v(" Требование: "+e._s(e.format(e.upgrade.config.cost/1e10))+" Очков Вечности ")]):e.isBought?e._e():i("CostDisplay",{attrs:{br:"",config:e.upgrade.config,name:"Очко",postName:"Вечности"}})],1)},jq=[];const Wq={name:"EternityUpgradeButton",components:{DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS},props:{upgrade:{type:Object,required:!0}},data(){return{isBought:!1,isAffordable:!1}},computed:{classObject(){return{"o-eternity-upgrade":!0,"o-eternity-upgrade--bought":this.isBought,"o-eternity-upgrade--available":!this.isBought&&this.isAffordable,"o-eternity-upgrade--unavailable":!this.isBought&&!this.isAffordable}},hasEU2(){return Perk.autounlockEU2.canBeApplied}},methods:{update(){const e=this.upgrade;this.isBought=e.isBought,this.isAffordable=e.isAffordable}}},Xq=Wq;var zq=(0,H.A)(Xq,Yq,jq,!1,null,"758cec47",null);const Kq=zq.exports,Qq={name:"EternityUpgradesTab",components:{EternityUpgradeButton:Kq,EPMultiplierButton:Vq},computed:{grid(){return[[EternityUpgrade.idMultEP,EternityUpgrade.idMultEternities,EternityUpgrade.idMultICRecords],[EternityUpgrade.tdMultAchs,EternityUpgrade.tdMultTheorems,EternityUpgrade.tdMultRealTime]]},costIncreases:()=>EternityUpgrade.epMult.costIncreaseThresholds.map((e=>new Decimal(e)))},methods:{formatPostBreak}},Jq=Qq;var Zq=(0,H.A)(Jq,Bq,Oq,!1,null,"bd6f210c",null);const eV=Zq.exports;var tV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-glyph-set-tab"},e._l(e.recordGlyphInfo,(function(t,a){return i("div",{key:a},[t[0]?i("div",{staticClass:"l-glyph-set-entry"},[e._v(" "+e._s(t[2])+": "),t[0]?i("GlyphSetPreview",{key:a,attrs:{glyphs:t[1],text:t[2],"text-hidden":!0}}):e._e(),e._v(" "+e._s(t[3])+" "),i("br")],1):e._e()])})),0)},iV=[];const aV={name:"GlyphSetRecordsTab",components:{GlyphSetPreview:_A},data(){return{recordGlyphInfo:[]}},methods:{update(){const e=player.records.bestReality;Laitela.difficultyTier;this.recordGlyphInfo=[[!0,Glyphs.copyForRecords(e.RMSet),"Рекордное количество полученных Машин Реальности",`${format(e.RM,2,2)} МР`],[!0,Glyphs.copyForRecords(e.RMminSet),"Рекордный прирост Машин Реальности за время",`${format(e.RMmin,2,2)} МР/мин`],[!0,Glyphs.copyForRecords(e.glyphLevelSet),"Рекордный уровень полученного глифа",`уровень ${formatInt(e.glyphLevel)}`],[!0,Glyphs.copyForRecords(e.bestEPSet),"Рекордное количество Очков Вечности",`${format(e.bestEP,2,2)} ОВ`],[!0,Glyphs.copyForRecords(e.speedSet),"Рекордное время (по реальному времяисчислению)",`${TimeSpan.fromMilliseconds(e.realTime).toStringShort()}`],[Currency.imaginaryMachines.gt(0),Glyphs.copyForRecords(e.iMCapSet),"Рекордный предел количества Мнимых Машин",`${format(MachineHandler.currentIMCap,2,2)} ММ`]]}}},nV=aV;var sV=(0,H.A)(nV,tV,iV,!1,null,null,null);const rV=sV.exports;var oV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"l-glyphs-tab"},[i("div",{staticClass:"l-reality-button-column"},[i("GlyphPeek"),e.resetRealityDisplayed?i("div",{staticClass:"l-reality-button-group"},[e.isInCelestialReality?e._e():i("RealityAmplifyButton",{class:e.buttonGroupClass()}),i("ResetRealityButton",{class:e.buttonGroupClass()})],1):e._e(),i("br"),e.isInCelestialReality?i("div",{staticClass:"l-celestial-auto-restart-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRestartCelestialRuns,expression:"autoRestartCelestialRuns"}],staticClass:"o-clickable",attrs:{id:"autoRestart",type:"checkbox"},domProps:{value:e.autoRestartCelestialRuns,checked:Array.isArray(e.autoRestartCelestialRuns)?e._i(e.autoRestartCelestialRuns,e.autoRestartCelestialRuns)>-1:e.autoRestartCelestialRuns},on:{input:function(t){return e.toggleAutoRestartCelestial()},change:function(t){var i=e.autoRestartCelestialRuns,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=e.autoRestartCelestialRuns,r=e._i(i,s);a.checked?r<0&&(e.autoRestartCelestialRuns=i.concat([s])):r>-1&&(e.autoRestartCelestialRuns=i.slice(0,r).concat(i.slice(r+1)))}else e.autoRestartCelestialRuns=n}}}),i("label",{staticClass:"o-clickable",attrs:{for:"autoRestart"}},[e._v(" Перезапустить Реальность этого Небожителя ")])]):e._e(),i("br"),i("RealityReminder"),e.showInstability?i("div",[i("br"),e._v(" Глифы теряют устойчивость. "),i("br"),e._v(" С уровня "+e._s(e.formatInt(e.instabilityThreshold))+" действует мягкое ограничение. "),i("br"),e._v(" Оно становится жёстче на уровне "+e._s(e.formatInt(e.hyperInstabilityThreshold))+". ")]):e._e(),i("SingleGlyphCustomzationPanel"),i("ExpandingControlBox",{staticClass:"l-glyph-level-factors",attrs:{"width-source":"content",label:"Факторы уровня получаемого глифа","container-class":"c-glyph-level-factors-dropdown-header"},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("GlyphLevelsAndWeights")]},proxy:!0}])}),i("GlyphTabSidebar")],1),i("div",{staticClass:"l-player-glyphs-column"},[e.showEnslavedHint?i("div",{staticClass:"o-teresa-quotes",domProps:{innerHTML:e._s(e.enslavedHint)}}):e._e(),i("div",{staticClass:"l-equipped-glyphs-and-effects-container"},[i("EquippedGlyphs"),i("div",{staticClass:"l-glyph-info-wrapper"},[i("span",{staticClass:"l-glyph-color-box",on:{click:e.toggleGlyphTextColors}},[i("div",{class:e.glyphColorPosition()},[i("label",{class:e.glyphColorState},[i("span",{staticClass:"fas fa-palette"})])])]),e.sacrificeUnlocked?i("div",{staticClass:"c-glyph-info-options"},[i("button",{class:e.glyphInfoClass(!e.sacrificeDisplayed),on:{click:function(t){return e.setInfoState(!1)}}},[e._v(" Действующие эффекты глифов ")]),i("button",{class:e.glyphInfoClass(e.sacrificeDisplayed),on:{click:function(t){return e.setInfoState(!0)}}},[e._v(" Пожертвование Глифов ")])]):e._e(),e.sacrificeUnlocked&&e.sacrificeDisplayed?i("SacrificedGlyphs"):i("CurrentGlyphEffects",{class:e.glyphInfoBorderClass()})],1)],1),i("GlyphInventory")],1)])])},lV=[],cV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-current-glyph-effects l-current-glyph-effects"},[e.showPelleGlyphText?i("div",{staticClass:"pelle-current-glyph-effects"},[e._v(" Редкость глифов выставлена на "+e._s(e.pelleStrengthText)+", "),i("br"),e._v(" а их фактические уровни имеют ограничение в "+e._s(e.pelleLevelText)+" ")]):e._e(),i("div",{staticClass:"c-current-glyph-effects__header"},[e._v(" Действующие эффекты глифов: ")]),i("GlyphSetName",{attrs:{"glyph-set":e.glyphSet}}),e.isSoftcapActive||e.hasEffarig||e.hasReality?i("br"):e._e(),i("span",{domProps:{innerHTML:e._s(e.uniqueGlyphText)}}),e.isSoftcapActive?i("div",{staticClass:"l-current-glyph-effects__capped-header"},[e._v(" Эффекты, выделенные "),i("span",{staticClass:"c-current-glyph-effects__effect--capped"},[e._v("курсивом")]),e._v(", достигли мягкого ограничения ")]):e._e(),i("br"),e.noEffects?i("div",[e._v(" Нет (активируйте глифы, чтобы их эффекты вступили в силу) ")]):e._e(),e._l(e.effects,(function(t){return i("CurrentGlyphEffect",{key:t.id+e.logTotalSacrifice,attrs:{effect:t,"is-colored":e.isColored}})})),e.showChaosText?i("div",{staticClass:"pelle-current-glyph-effects"},[e._v(" "+e._s(e.chaosEffect)+" ")]):e._e()],2)},uV=[],dV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",{class:e.valueClass,style:e.textColor},[e._v(" "+e._s(e.formatValue)+" ")])])},hV=[];const pV={name:"CurrentGlyphEffect",props:{isColored:{type:Boolean,default:!0},effect:{type:Object,required:!0}},computed:{effectConfig(){return GlyphEffects[this.effect.id]},formatValue(){if(this.effectConfig.isDisabledByDoomed)return"";const e=this.effect.value.value,t=this.effectConfig.formatEffect(e),i=void 0===this.effectConfig.conversion?"":this.effectConfig.formatSecondaryEffect(this.effectConfig.conversion(e)),a=this.effectConfig.totalDesc;return a.replace("{value}",t).replace("{value2}",i)},textColor(){if(!this.isColored)return{};const e="timeshardpow"===this.effectConfig.id?CosmeticGlyphTypes.time:CosmeticGlyphTypes[this.effectConfig.glyphTypes];let t=e.currentColor.border;return"cursed"===e.id&&(t="var(--color-celestials)"),{color:t,"text-shadow":`-1px 1px 1px var(--color-text-base), 1px 1px 1px var(--color-text-base),\n                            -1px -1px 1px var(--color-text-base), 1px -1px 1px var(--color-text-base),\n                            0 0 3px ${e.currentColor.border}`,animation:"reality"===e.id?"a-reality-glyph-description-cycle 10s infinite":void 0}},valueClass(){return this.effect.value.capped?"c-current-glyph-effects__effect--capped":""}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,(()=>{this.$recompute("effectConfig")}))}},mV=pV;var yV=(0,H.A)(mV,dV,hV,!1,null,"14e7a431",null);const fV=yV.exports,gV=["powerpow","powermult","powerdimboost","powerbuy10","infinitypow","infinityinfmult","infinityIP","infinityrate","replicationpow","replicationdtgain","replicationspeed","replicationglyphlevel","timepow","timeshardpow","timeEP","timespeed","timeetermult","dilationpow","dilationTTgen","dilationDT","dilationgalaxyThreshold","effarigrm","effarigglyph","effarigblackhole","effarigachievement","effarigforgotten","effarigdimensions","effarigantimatter","cursedgalaxies","cursedtickspeed","curseddimensions","cursedEP","realityglyphlevel","realitygalaxies","realityrow1pow","realityDTglyph","companiondescription","companionEP"],bV={name:"CurrentGlyphEffects",components:{GlyphSetName:bA,CurrentGlyphEffect:fV},data(){return{effects:[],isColored:!1,hasEffarig:!1,hasReality:!1,logTotalSacrifice:0,pelleChaosEffect:{}}},computed:{isSoftcapActive(){return this.effects.length&&!this.effects.every((e=>!1===e.value.capped))},uniqueGlyphText(){if(!this.hasEffarig&&!this.hasReality)return"";const e=[];return this.hasEffarig&&e.push(`<span style="color: ${GlyphAppearanceHandler.getBorderColor("effarig")};">Эффарига</span>`),this.hasReality&&e.push('<span style="animation: a-reality-glyph-description-cycle 10s infinite;">Реальности</span>'),`Вы можете активировать не более ${e.length>1?"чем по одному глифу":"одного глифа"} ${e.join(" и ")}.`},noEffects(){return!this.effects.length},glyphSet(){return Glyphs.activeList},showPelleGlyphText(){return Pelle.isDoomed},pelleStrengthText(){return formatPercents(strengthToRarity(Pelle.glyphStrength))},pelleLevelText(){return formatInt(Pelle.glyphMaxLevel)},showChaosText(){return this.pelleChaosEffect.isUnlocked&&!this.noEffects},chaosEffect(){return this.pelleChaosEffect.description}},watch:{logTotalSacrifice(){this.glyphsChanged()}},created(){this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,this.glyphsChanged),this.glyphsChanged()},methods:{update(){this.isColored=player.options.glyphTextColors,this.hasEffarig=Glyphs.active.some((e=>e&&"effarig"===e.type)),this.hasReality=Glyphs.active.some((e=>e&&"reality"===e.type)),this.logTotalSacrifice=GameCache.logTotalGlyphSacrifice.value,this.pelleChaosEffect=Pelle.specialGlyphEffect},glyphsChanged(){this.effects=getActiveGlyphEffects(),this.effects.sort(((e,t)=>gV.indexOf(e.id)-gV.indexOf(t.id)))}}},vV=bV;var EV=(0,H.A)(vV,cV,uV,!1,null,"82c4a6a8",null);const TV=EV.exports;var _V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-equipped-glyphs"},[i("div",{staticClass:"l-equipped-glyphs__slots"},e._l(e.glyphs,(function(t,a){return i("div",e._g({key:a,staticClass:"l-glyph-set-preview",style:e.glyphPositionStyle(a),on:{click:e.showEquippedModal}},e.dragEvents(a)),[i("div",{staticClass:"l-equipped-glyphs__dropzone"}),t?i("GlyphComponent",{key:a,staticClass:"c-equipped-glyph",attrs:{glyph:t,circular:!0,"is-active-glyph":!0},on:{clicked:function(i){return e.clickGlyph(t,a)},shiftClicked:function(i){return e.clickGlyph(t,a,!0)},ctrlShiftClicked:function(i){return e.clickGlyph(t,a,!0)}}}):i("div",{class:["l-equipped-glyphs__empty","c-equipped-glyphs__empty",{"c-equipped-glyphs__empty--dragover":e.dragoverIndex===a}]})],1)})),0),i("div",{staticClass:"l-equipped-glyphs__buttons"},[i("button",{staticClass:"c-reality-upgrade-btn",class:e.unequipClass,style:e.glyphRespecStyle,attrs:{"ach-tooltip":e.respecTooltip},on:{click:e.toggleRespec}},[e._v(" "+e._s(e.unequipText)+" ")]),e.undoVisible?i("button",{staticClass:"l-glyph-equip-button c-reality-upgrade-btn",class:{"c-reality-upgrade-btn--unavailable":!e.undoAvailable},attrs:{"ach-tooltip":e.undoTooltip},on:{click:e.undo}},[e._m(0)]):e._e(),i("button",{staticClass:"l-glyph-equip-button c-reality-upgrade-btn",on:{click:e.toggleRespecIntoProtected}},[e._v(" Помещать деактивированные глифы в "),i("br"),e.respecIntoProtected?i("span",[e._v("Защищённые ячейки")]):i("span",[e._v("Незащищённые ячейки")])]),i("button",{staticClass:"l-glyph-equip-button c-reality-upgrade-btn",class:{"tutorial--glow":e.cosmeticGlow},on:{click:e.showOptionModal}},[e._v(" Раскрыть настройки отображения глифов ")])])])},CV=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("b",[e._v("Деактивировать")]),e._v(" последний активированный глиф")])}];const AV={name:"EquippedGlyphs",components:{GlyphComponent:mg},data(){return{glyphs:[],dragoverIndex:-1,respec:player.reality.respec,respecIntoProtected:player.options.respecIntoProtected,undoSlotsAvailable:0,undoAvailable:!1,undoVisible:!1,cosmeticGlow:!1}},computed:{GLYPH_SIZE:()=>5,slotCount(){return this.glyphs.length},arrangementRadius(){return 0===this.slotCount?0:this.slotCount+1},respecTooltip(){const e=Pelle.isDoomed?"армагеддоне":"реальности";return this.respec?`Действующие глифы будут возвращены в инвентарь на ${e}.`:`Глифы продолжат действовать на ${e}.`},undoTooltip(){return this.undoSlotsAvailable?this.undoAvailable?"Деактивировать последний активированный глиф и отбросить прогресс в текущей реальности на момент его активации. (Большинство ресурсов будут сброшены)":"Деактивировать можно лишь те глифы, которые были активированы в текущей реальности":"В инвентаре нет мест для деактивируемых глифов"},unequipText(){return Pelle.isDoomed?"Деактивировать глифы на армагеддоне":"Деактивировать глифы на реальности"},isDoomed(){return Pelle.isDoomed},glyphRespecStyle(){return this.respec?{color:"var(--color-reality-light)","background-color":"var(--color-reality)","border-color":"#094e0b",cursor:"pointer"}:{cursor:"pointer"}},unequipClass(){return{"l-glyph-equip-button":this.isDoomed,"l-glyph-equip-button-short":!this.isDoomed}}},created(){this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,this.glyphsChanged),this.glyphsChanged()},methods:{update(){this.respec=player.reality.respec,this.respecIntoProtected=player.options.respecIntoProtected,this.undoSlotsAvailable=this.respecIntoProtected?Glyphs.totalSlots-GameCache.glyphInventorySpace.value-Glyphs.inventoryList.length>0:GameCache.glyphInventorySpace.value>0,this.undoVisible=TeresaUnlocks.undo.canBeApplied,this.undoAvailable=this.undoVisible&&this.undoSlotsAvailable&&player.reality.glyphs.undo.length>0,this.cosmeticGlow=player.reality.glyphs.cosmetics.glowNotification},glyphPositionStyle(e){const t=2*Math.PI*e/this.slotCount,i=-this.GLYPH_SIZE/2+this.arrangementRadius*Math.sin(t),a=-this.GLYPH_SIZE/2+this.arrangementRadius*Math.cos(t);return{position:"absolute",left:`calc(50% + ${i}rem)`,top:`calc(50% + ${a}rem)`,"z-index":1}},dragover(e,t){e.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&(e.preventDefault(),this.dragoverIndex=t)},dragleave(e){this.dragoverIndex===e&&(this.dragoverIndex=-1)},drop(e,t){this.dragoverIndex=-1;const i=parseInt(e.dataTransfer.getData(GLYPH_MIME_TYPE),10);if(isNaN(i))return;const a=Glyphs.findById(i);a&&Glyphs.equip(a,t)},toggleRespec(){player.reality.respec=!player.reality.respec},toggleRespecIntoProtected(){player.options.respecIntoProtected=!player.options.respecIntoProtected},glyphsChanged(){this.glyphs=Glyphs.active.map(GlyphGenerator.copy),this.$recompute("slotCount")},undo(){this.undoAvailable&&!Pelle.isDoomed&&(player.options.confirmations.glyphUndo?Modal.glyphUndo.show():Glyphs.undo())},dragEvents(e){return{dragover:t=>this.dragover(t,e),dragleave:()=>this.dragleave(e),drop:t=>this.drop(t,e)}},showEquippedModal(){0!==this.glyphs.filter((e=>e)).length&&Modal.glyphShowcasePanel.show({name:"Действующие глифы",glyphSet:this.glyphs,closeEvent:GAME_EVENT.GLYPHS_EQUIPPED_CHANGED})},showOptionModal(){player.reality.glyphs.cosmetics.glowNotification=!1,Modal.glyphDisplayOptions.show()},clickGlyph(e,t,i=!1){if(Glyphs.isMusicGlyph(e)){const e=t+(i?6:1);new Audio(`audio/note${e}.mp3`).play()}}}},kV=AV;var wV=(0,H.A)(kV,_V,CV,!1,null,"2f259534",null);const SV=wV.exports;var xV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-glyph-inventory"},[e._v(" Чтобы активировать глиф, перетяните его в свободный слот или дважды щёлкните по нему. "),e._l(e.rowCount,(function(t){return i("div",{key:e.protectedRows+t,staticClass:"l-glyph-inventory__row"},e._l(e.colCount,(function(a){return i("div",{key:a,staticClass:"l-glyph-inventory__slot",class:e.slotClass(e.toIndex(t,a)),on:{dragover:e.allowDrag,drop:function(i){e.drop(e.toIndex(t,a),i)}}},[e.inventory[e.toIndex(t,a)]?i("GlyphComponent",{attrs:{glyph:e.inventory[e.toIndex(t,a)],"is-new":e.isNew(e.toIndex(t,a)),"is-unequipped":e.isUnequipped(e.toIndex(t,a)),"is-inventory-glyph":!0,"show-sacrifice":e.glyphSacrificeUnlocked,draggable:!0},on:{shiftClicked:function(t){return e.removeGlyph(t,!1)},ctrlShiftClicked:function(t){return e.removeGlyph(t,!0)},clicked:function(t){return e.clickGlyph(a,t)}}}):e._e()],1)})),0)}))],2)},RV=[];const IV={name:"GlyphInventory",components:{GlyphComponent:mg},data(){return{inventory:[],newGlyphs:[],unequippedGlyphs:[],doubleClickTimeOut:null,clickedGlyphId:null,glyphSacrificeUnlocked:!1,protectedRows:0}},computed:{rowCount:()=>Glyphs.totalSlots/10,colCount:()=>10},created(){this.on$(GAME_EVENT.GLYPHS_CHANGED,this.glyphsChanged),this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,this.glyphsChanged),this.glyphsChanged()},methods:{update(){this.glyphSacrificeUnlocked=GlyphSacrificeHandler.canSacrifice,this.protectedRows=player.reality.glyphs.protectedRows,this.newGlyphs=Glyphs.unseen,this.unequippedGlyphs=Glyphs.unequipped},toIndex(e,t){return(e-1)*this.colCount+(t-1)},allowDrag(e){e.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&e.preventDefault()},drop(e,t){const i=parseInt(t.dataTransfer.getData(GLYPH_MIME_TYPE),10);if(isNaN(i))return;const a=Glyphs.findById(i);a&&Glyphs.moveToSlot(a,e)},removeGlyph(e,t){GlyphSacrificeHandler.removeGlyph(Glyphs.findById(e),t)},clickGlyph(e,t){const i=Glyphs.findById(t);if(this.doubleClickTimeOut){if(this.clickedGlyphId===t){clearTimeout(this.doubleClickTimeOut),this.doubleClickTimeOut=null;const e=Glyphs.active.indexOf(null);-1!==e&&Glyphs.equip(i,e)}}else{if(this.doubleClickTimeOut=setTimeout((()=>{this.clickedGlyphId=null,this.doubleClickTimeOut=null}),200),this.clickedGlyphId=t,!i)return;Glyphs.isMusicGlyph(i)&&new Audio(`audio/note${e}.mp3`).play()}},glyphsChanged(){this.inventory=Glyphs.inventory.map(GlyphGenerator.copy)},slotClass(e){return e<Glyphs.protectedSlots?"c-glyph-inventory__protected-slot":"c-glyph-inventory__slot"},isNew(e){return player.options.showNewGlyphIcon&&this.newGlyphs.includes(this.inventory[e].id)},isUnequipped(e){return player.options.showUnequippedGlyphIcon&&this.unequippedGlyphs.includes(this.inventory[e].id)}}},MV=IV;var DV=(0,H.A)(MV,xV,RV,!1,null,"47df147e",null);const PV=DV.exports;var UV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"grid",staticClass:"l-glyph-levels-and-weights c-glyph-levels-and-weights",style:e.gridStyle},[e.adjustVisible?i("div",{style:e.makeRowStyle(6)}):e._e(),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("ep")},[e._v(" "+e._s(e.factorString(e.factors.ep))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("ep")},[e._v(" "+e._s(e.formatFactor(e.factors.ep.value))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("replicanti")},[e._v(" "+e._s(e.factorString(e.factors.repl))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("replicanti")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("replicanti")},[e._v(" "+e._s(e.formatFactor(e.factors.repl.value))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("dt")},[e._v(" "+e._s(e.factorString(e.factors.dt))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("dt")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("dt")},[e._v(" "+e._s(e.formatFactor(e.factors.dt.value))+" ")]),e.eternityVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("eternities")},[e._v(" "+e._s(e.factorString(e.factors.eter))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("eternities")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("eternities")},[e._v(" "+e._s(e.formatFactor(e.factors.eter.value))+" ")])]:e._e(),e.perkShopVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("perk shop")},[e._v(" Улучшение Терезы ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("perk shop")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("perk shop")},[e._v(" "+e._s(e.formatPerkShop)+" ")])]:e._e(),e.shardVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("shards")},[e._v(" "+e._s(e.formatInt(100))+"×РО"+e._s(e.formatPow(2))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("shards")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("shards")},[e._v(" "+e._s(e.formatFactor(e.factors.shardFactor))+" ")])]:e._e(),e.singularityVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("singularities")},[e._v(" Этап Сингулярности ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("singularities")},[e._v(" × ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("singularities")},[e._v(" "+e._s(e.formatFactor(e.factors.singularityEffect))+" ")])]:e._e(),e.penaltyVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("instability")},[e._v(" Неустойчивость ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("instability")},[e._v(" / ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("instability")},[e._v(" "+e._s(e.formatFactor(e.factors.scalePenalty))+" ")])]:e._e(),e.rowVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("upgrade rows")},[e._v(" Ряды Улучшений ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("upgrade rows")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("upgrade rows")},[e._v(" "+e._s(e.formatInt(e.factors.rowFactor))+" ")])]:e._e(),e.achievementVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("achievements")},[e._v(" Достижения ")]),i("div",{staticClass:"l-glyph-levels-and-weights__operator",style:e.rowStyle("achievements")},[e._v(" + ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("achievements")},[e._v(" "+e._s(e.formatInt(e.factors.achievementFactor))+" ")])]:e._e(),i("div",{staticClass:"l-glyph-levels-and-weights__factor",style:e.rowStyle("level")},[e._v(" Итого ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor-val",style:e.rowStyle("level")},[e._v(" "+e._s(e.formatLevel(e.factors.actualLevel))+" ")]),i("div",{staticClass:"l-glyph-levels-and-weights__factor l-glyph-level-and-weights-note",style:e.rowStyle("info2")},[e._v(" В формулу подставляются десятичные логарифмы рекордных количеств ресурсов в текущей реальности. ")]),e.adjustVisible?[i("div",{staticClass:"l-glyph-levels-and-weights__adjust-outline",style:e.adjustOutlineStyle}),i("div",{staticClass:"l-glyph-levels-and-weights__adjust-label"},[e._v(" Корректировка весов "),i("div",{staticClass:"l-glyph-levels-and-weights__reset-btn-outer"},[i("div",{class:e.resetWeightsButtonClass(),on:{click:e.resetWeights}},[e._v(" Сбросить ")])])]),i("div",{staticClass:"l-glyph-levels-and-weights__adjust-auto"},[e.showAutoAdjustWeights?i("ToggleButton",{staticClass:"c-glyph-levels-and-weights__auto-btn",attrs:{label:"Автоматическая корректировка:"},model:{value:e.isAutoAdjustWeightsOn,callback:function(t){e.isAutoAdjustWeightsOn=t},expression:"isAutoAdjustWeightsOn"}}):e._e()],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("ep")},[i("SliderComponent",e._b({attrs:{value:e.weights.ep,width:"100%"},on:{input:function(t){return e.adjustSlider("ep",t)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("replicanti")},[i("SliderComponent",e._b({attrs:{value:e.weights.repl,width:"100%"},on:{input:function(t){return e.adjustSlider("repl",t)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("dt")},[i("SliderComponent",e._b({attrs:{value:e.weights.dt,width:"100%"},on:{input:function(t){return e.adjustSlider("dt",t)}}},"SliderComponent",e.sliderProps,!1))],1),i("div",{staticClass:"l-glyph-levels-and-weights__slider",style:e.rowStyle("eternities")},[i("SliderComponent",e._b({attrs:{value:e.weights.eternities,width:"100%"},on:{input:function(t){return e.adjustSlider("eternities",t)}}},"SliderComponent",e.sliderProps,!1))],1)]:e._e()],2)},GV=[],NV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",e._b({on:{click:function(t){return e.emitInput(!e.value)}}},"button",e.$attrs,!1),[e._v(" "+e._s(e.displayText)+" "),e.tooltipClass?i("div",{class:e.tooltipClass},[e._v(" "+e._s(e.tooltipContent)+" ")]):e._e()])},BV=[];const OV={name:"ToggleButton",props:{label:{type:String,required:!1,default:""},on:{type:String,required:!1,default:"ВКЛ."},off:{type:String,required:!1,default:"ВЫКЛ."},value:{type:Boolean,required:!0},tooltipClass:{type:String,required:!1,default:""},tooltipContent:{type:String,required:!1,default:""}},computed:{displayText(){return`${this.label} ${this.value?this.on:this.off}`.trim()}}},LV=OV;var $V=(0,H.A)(LV,NV,BV,!1,null,null,null);const HV=$V.exports,FV={name:"GlyphLevelsAndWeights",components:{ToggleButton:HV,SliderComponent:yb},data(){return{perkShopVisible:!1,penaltyVisible:!1,rowVisible:!1,achievementVisible:!1,showAutoAdjustWeights:!1,isAutoAdjustWeightsOn:!1,factors:getGlyphLevelInputs(),shardsGained:0,weights:Object.assign({},player.celestials.effarig.glyphWeights),rows:3}},computed:{gridStyle(){const e=this.adjustVisible?"30% 3% 17% 48% 2%":"80% 5% 15%";return{width:"100%","-ms-grid-columns":e,"grid-template-columns":e,"grid-auto-rows":"1fr"}},adjustOutlineStyle(){const e=5+(this.showAutoAdjustWeights?1:0);return`grid-row: 1 / ${e+1}; -ms-grid-row: 1; -ms-grid-row-span: ${e};`},formatPerkShop(){return formatPercents(this.factors.perkShop-1,1)},sliderProps(){return{min:0,max:100,interval:1,disabled:this.isAutoAdjustWeightsOn,"dot-width":"2.2rem","dot-height":"1.6rem",width:"13.5rem",tooltip:!1,"value-in-dot":!0,"plus-minus-buttons":!0,"dot-class":"c-glyph-levels-and-weights__slider-handle","bg-class":"c-glyph-levels-and-weights__slider-bg","process-class":"c-glyph-levels-and-weights__slider-process"}},totalWeights(){return this.weights.ep+this.weights.repl+this.weights.dt+this.weights.eternities},visibleRows(){const e=["ep","replicanti","dt"];return this.eternityVisible&&e.push("eternities"),this.perkShopVisible&&e.push("perk shop"),this.shardVisible&&e.push("shards"),this.singularityVisible&&e.push("singularities"),this.penaltyVisible&&e.push("instability"),this.rowVisible&&e.push("upgrade rows"),this.achievementVisible&&e.push("achievements"),e.push("level"),e.push("info"),e.push("info2"),e},adjustVisible(){return EffarigUnlock.adjuster.isUnlocked},eternityVisible(){return RealityUpgrade(18).isBought},shardVisible(){return Ra.unlocks.relicShardGlyphLevelBoost.canBeApplied&&0!==this.shardsGained},singularityVisible(){return SingularityMilestone.glyphLevelFromSingularities.canBeApplied}},watch:{isAutoAdjustWeightsOn(e){player.celestials.effarig.autoAdjustGlyphWeights=e}},created(){this.glyphWeightFields=Object.keys(player.celestials.effarig.glyphWeights),this.resetSavedWeights(),this.lastInstability=0,Glyphs.factorsOpen&&this.$parent.$emit("openrequest")},mounted(){this.$viewModel.tabs.reality.openGlyphWeights&&(this.$viewModel.tabs.reality.openGlyphWeights=!1,this.$parent.$emit("openrequest"))},destroyed(){Glyphs.factorsOpen=null!==this.$parent.state.name.match("OPEN")},methods:{update(){if(void 0===this.glyphWeightFields||"CLOSED"===this.$parent.state.name)return;const e=getGlyphLevelInputs();this.perkShopVisible=1!==e.perkShop,this.rowVisible=e.rowFactor>0,this.achievementVisible=e.achievementFactor>0,1!==e.scalePenalty?(this.penaltyVisible=!0,this.lastInstability=Date.now()):this.penaltyVisible&&Date.now()-this.lastInstability>2e3&&(this.penaltyVisible=!1),this.rows=this.visibleRows.length,this.adjustVisible&&this.rows<6&&(this.rows=6),this.factors=e,this.shardsGained=Effarig.shardsGained;let t=!0;this.glyphWeightFields.forEach((e=>{this.weights[e]!==player.celestials.effarig.glyphWeights[e]&&(t=!1),this.weights[e]=player.celestials.effarig.glyphWeights[e]})),t||this.resetSavedWeights(),this.showAutoAdjustWeights=Achievement(165).isUnlocked,this.isAutoAdjustWeightsOn=player.celestials.effarig.autoAdjustGlyphWeights},rowStyle(e){const t=this.visibleRows.findIndex((t=>t===e))+1;return 0===t?this.makeRowStyle(e):this.makeRowStyle(t)},formatFactor(e){return Notations.current.isPainful||e>1e3?format(e,2,2):e.toPrecision(5).slice(0,6)},formatLevel(e){return e>1e3?formatInt(Math.floor(e)):format(e,2,4)},makeRowStyle(e){return{"grid-row":e,"-ms-grid-row":e}},resetWeightsButtonClass(){return{"c-glyph-levels-and-weights__reset-btn":!0,"c-glyph-levels-and-weights__reset-btn-clickable":!this.isAutoAdjustWeightsOn}},resetWeights(){this.glyphWeightFields.forEach((e=>player.celestials.effarig.glyphWeights[e]=25)),this.resetSavedWeights()},adjustSlider(e,t){if(this.weights[e]===t)return;e!==this.lastAdjusted&&(this.resetSavedWeights(),this.savedWeights[e]=0,this.lastAdjusted=e);const i=this.weights.ep+this.weights.repl+this.weights.dt+this.weights.eternities,a=this.weights[e],n=i-a;if(n+t>100){const i=this.savedWeights.ep+this.savedWeights.repl+this.savedWeights.dt+this.savedWeights.eternities,a=(100-t)/i,n=[];this.glyphWeightFields.forEach((t=>{t!==e&&n.push(this.savedWeights[t]*a)})),qV(n),this.glyphWeightFields.forEach((t=>{t!==e&&(player.celestials.effarig.glyphWeights[t]=n.shift())}))}player.celestials.effarig.glyphWeights[e]=t},resetSavedWeights(){this.savedWeights=Object.assign({},player.celestials.effarig.glyphWeights),this.lastAdjusted=null},factorString(e){const t=this.adjustVisible?e.name.substring(0,4):e.name;return`${format(e.coeff,2,4)}×${t}^${format(e.exp,2,3)}`}}};function qV(e){for(let t=0;t<e.length;++t){let t=-1,i=1e3,a=0;for(let s=0;s<e.length;++s){const n=Math.abs(e[s]-Math.round(e[s]));0!==n&&(++a,n<i&&(t=s,i=n))}if(-1===t)break;let n=e[t]-Math.round(e[t]);if(e[t]=Math.round(e[t]),1===a)break;n/=a-1;for(let s=0;s<e.length;++s)e[s]!==Math.round(e[s])&&(e[s]+=n)}}const VV=FV;var YV=(0,H.A)(VV,UV,GV,!1,null,"19f01738",null);const jV=YV.exports;var WV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{staticClass:"c-glyph-peek"},[e.canPeek?i("div",{staticClass:"l-glyph-set-preview",on:{click:e.showModal}},[i("GlyphSetPreview",{attrs:{"show-name":!1,text:"Выбор глифов:",glyphs:e.glyphs,"ignore-modified-level":!0,"show-sacrifice":e.canSacrifice,"flip-tooltip":!0,sort:!1}}),e._v(" (Нажмите для просмотра подробной информации о глифах) ")],1):i("div",[e._v(" Разблокируйте реальность в Древе Исследований, "),i("br"),e._v(" чтобы просмотреть предлагаемые глифы ")])]):e._e()},XV=[];const zV={name:"GlyphPeek",components:{GlyphSetPreview:_A},data(){return{glyphs:[],level:0,canPeek:!1,isVisible:!1,canSacrifice:!1}},created(){this.on$(GAME_EVENT.REALITY_RESET_AFTER,this.refreshGlyphs),this.refreshGlyphs()},methods:{update(){this.canSacrifice=GlyphSacrificeHandler.canSacrifice,this.isVisible=!Pelle.isDoomed&&PlayerProgress.realityUnlocked(),this.canPeek=TimeStudy.reality.isBought,gainedGlyphLevel().actualLevel!==this.level&&this.refreshGlyphs()},refreshGlyphs(){this.canRefresh=!0,this.glyphs=GlyphSelection.upcomingGlyphs;for(const e of this.glyphs)Glyphs.applyGamespeed(e);this.level=gainedGlyphLevel().actualLevel},showModal(){Modal.glyphShowcasePanel.show({name:"Глифы, предложенные вам на эту реальность",glyphSet:this.glyphs,closeEvent:GAME_EVENT.REALITY_RESET_AFTER,isGlyphSelection:!0,showSetName:!1})}}},KV=zV;var QV=(0,H.A)(KV,WV,XV,!1,null,"5b7611fe",null);const JV=QV.exports;var ZV=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-glyph-sidebar-option-container"},[e.hasMoreOptions?i("div",{staticClass:"l-glyph-sidebar-tab-container"},[i("button",{class:e.sidebarClass(e.sidebarEnum.INVENTORY_MANAGEMENT),on:{click:function(t){return e.setSidebarState(e.sidebarEnum.INVENTORY_MANAGEMENT)}}},[e._v(" Управление инвентарём ")]),e.unlockedFilter?i("button",{class:e.sidebarClass(e.sidebarEnum.FILTER_SETTINGS),on:{click:function(t){return e.setSidebarState(e.sidebarEnum.FILTER_SETTINGS)}}},[e._v(" Фильтр Глифов ")]):e._e(),e.unlockedSets?i("button",{class:e.sidebarClass(e.sidebarEnum.SAVED_SETS),on:{click:function(t){return e.setSidebarState(e.sidebarEnum.SAVED_SETS)}}},[e._v(" Сохранённые наборы глифов ")]):e._e(),e.unlockedAlchemy?i("button",{class:e.sidebarClass(e.sidebarEnum.SACRIFICE_TYPE),on:{click:function(t){return e.setSidebarState(e.sidebarEnum.SACRIFICE_TYPE)}}},[e._v(" Удаление глифов ")]):e._e()]):e._e(),e.type===e.sidebarEnum.INVENTORY_MANAGEMENT?i("GlyphInventoryManagementPanel",{attrs:{"has-more-options":e.hasMoreOptions}}):e.type===e.sidebarEnum.FILTER_SETTINGS&&e.unlockedFilter?i("GlyphFilterPanel"):e.type===e.sidebarEnum.SAVED_SETS&&e.unlockedSets?i("GlyphSetSavePanel"):e.type===e.sidebarEnum.SACRIFICE_TYPE&&e.unlockedAlchemy?i("GlyphRejectionPanel"):e._e()],1)},eY=[],tY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size"},[i("div",{staticClass:"c-glyph-sacrifice-options c-glyph-sacrifice-options-container"},[i("div",{staticClass:"c-filter-extra-btns c-top-left"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Экспортировать настройки Фильтра",expression:"'Экспортировать настройки Фильтра'"}],staticClass:"fas fa-file-export l-top-left-btn",on:{click:e.exportFilterSettings}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Импортировать настройки Фильтра",expression:"'Импортировать настройки Фильтра'"}],staticClass:"fas fa-file-import l-top-left-btn",on:{click:e.importFilterSettings}})]),i("div",{staticClass:"c-filter-extra-btns c-top-right"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.autoRealityTooltip,expression:"autoRealityTooltip"}],staticClass:"fas fa-recycle l-top-right-btn",class:{"o-quick-reality":e.autoRealityForFilter},on:{click:e.toggleAutoReality}}),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionmarkTooltip,expression:"questionmarkTooltip"}],staticClass:"fas fa-question-circle l-top-right-btn o-borderless",on:{click:e.showFilterHowTo}})]),e._v(" Текущий режим Фильтра: "),i("br"),e._v(" "+e._s(e.filterMode(e.mode))+" "),i("br"),i("div",{staticClass:"c-glyph-filter-mode-container"},e._l(e.unlockedModes,(function(t){return i("div",{key:t,class:e.optionClass(t),on:{click:function(i){return e.setMode(t)}}},[i("div",{staticClass:"c-glyph-sacrifice-options__option__tooltip"},[e._v(" "+e._s(e.filterMode(t))+" ")])])})),0)]),e.mode===e.modes.LOWEST_SACRIFICE?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Выбирает глиф того типа, суммарная ценность пожертвованных глифов которого наименьшая, при этом выбранный глиф всегда жертвуется. "),i("br")]):e._e(),e.mode===e.modes.EFFECT_COUNT?i("div",{staticClass:" c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Глифы принимаются при наличии не менее "),i("input",{ref:"effectCount",staticClass:"c-auto-sac-effect-tab__input",attrs:{type:"number",min:"0",max:"8"},domProps:{value:e.effectCount},on:{blur:e.setEffectCount}}),e._v(" эффектов. При количественном равенстве эффектов предпочтение отдаётся глифам более высокой редкости. ")]):e._e(),e.mode===e.modes.RARITY_THRESHOLD?i("div",{staticClass:"l-glyph-sacrifice-options__rarity-sliders"},[i("span",{staticClass:"c-glyph-sacrifice-options__advanced"},[e._v(" Глифы с редкостью ниже выставленного порога для соответствующего типа жертвуются. ")]),e._l(e.glyphTypes,(function(t){return i("div",{key:t.id,staticClass:"l-glyph-sacrifice-options__rarity-slider-div"},[i("span",{on:{click:function(i){return e.bumpRarity(t.id)}}},[i("GlyphComponent",e._b({staticClass:"o-clickable",attrs:{glyph:{type:t.id,strength:e.strengthThreshold(t.id)}}},"GlyphComponent",e.glyphIconProps,!1))],1),i("SliderComponent",e._b({attrs:{value:e.rarityThresholds[t.id],width:"100%"},on:{input:function(i){return e.setRarityThreshold(t.id,i)}}},"SliderComponent",e.raritySliderProps,!1))],1)}))],2):e._e(),e.mode===e.modes.SPECIFIED_EFFECT?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("div",[e._v(" Типы глифов: "),e._l(e.glyphTypes,(function(t){return i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.id.capitalize(),expression:"type.id.capitalize()"}],key:t.id,staticClass:"l-glyph-sacrifice-options__advanced-type-select c-glyph-sacrifice-options__advanced-type-select",style:e.advancedTypeSelectStyle(t),on:{click:function(i){e.advancedType=t.id}}},[e._v(" "+e._s(e.getSymbol(t.id))+" ")])}))],2),i("br"),i("div",{staticClass:"l-glyph-sacrifice-options__rarity-slider-div"},[i("span",{on:{click:function(t){return e.bumpRarity(e.advancedType)}}},[i("GlyphComponent",e._b({staticClass:"o-clickable",attrs:{glyph:{type:e.advancedType,strength:e.strengthThreshold(e.advancedType)}}},"GlyphComponent",e.glyphIconProps,!1))],1),i("SliderComponent",e._b({attrs:{value:e.rarityThresholds[e.advancedType],width:"100%"},on:{input:function(t){return e.setRarityThreshold(e.advancedType,t)}}},"SliderComponent",e.raritySliderProps,!1))],1),e._l(e.glyphTypes,(function(t){return[i("AutoSacrificeEffectTab",{directives:[{name:"show",rawName:"v-show",value:t.id===e.advancedType,expression:"type.id === advancedType"}],key:t.id,attrs:{"glyph-type":t.id}})]}))],2):e._e(),e.mode===e.modes.EFFECT_SCORE?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("div",[e._v(" Типы глифов: "),e._l(e.glyphTypes,(function(t){return i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.id.capitalize(),expression:"type.id.capitalize()"}],key:t.id,staticClass:"l-glyph-sacrifice-options__advanced-type-select c-glyph-sacrifice-options__advanced-type-select",style:e.advancedTypeSelectStyle(t),on:{click:function(i){e.advancedType=t.id}}},[e._v(" "+e._s(e.getSymbol(t.id))+" ")])}))],2),i("br"),e._l(e.glyphTypes,(function(t){return[i("AutoSacrificeAdvancedTab",{directives:[{name:"show",rawName:"v-show",value:t.id===e.advancedType,expression:"type.id === advancedType"}],key:t.id,attrs:{"glyph-type":t.id}})]}))],2):e._e(),e.mode===e.modes.LOWEST_ALCHEMY?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Выбирает глиф, соответствующий тому основному алхимическому ресурсу, которого у вас меньше всего, при этом выбранный глиф всегда облагораживается. "),i("br")]):e._e(),e.mode===e.modes.ALCHEMY_VALUE?i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("br"),e._v(" Выбирает глиф наибольшей фактической алхимической ценности "),i("i",[e._v("с учётом ограничений на количества ресурсов")]),e._v(", при этом выбранный глиф всегда облагораживается. "),i("br")]):e._e()])},iY=[],aY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-auto-sac-type-tab"},[i("div",{staticClass:"l-auto-sac-type-tab__row-wrapper"},[i("div",[i("div",{staticClass:"o-questionmark",attrs:{"ach-tooltip":e.questionmarkTooltip}},[e._v(" ? ")]),i("b",[e._v("Порог принятия глифов")])]),i("input",{ref:"scoreThreshold",staticClass:"c-auto-sac-type-tab__input",style:e.minScoreInputStyle,attrs:{type:"number",min:-e.weightInputLimit,max:e.weightInputLimit},domProps:{value:e.scoreThreshold},on:{blur:e.setScoreThreshold}})]),e._l(e.effects,(function(t){return i("div",{key:t.id,staticClass:"l-auto-sac-type-tab__row-wrapper"},[i("div",{staticClass:"c-auto-sac-type-tab__effect-desc l-auto-sac-type-tab__effect-desc",style:e.descStyle},[e._v(" "+e._s(t.genericDesc)+" ")]),i("input",{staticClass:"c-auto-sac-type-tab__input",attrs:{type:"number",min:-e.weightInputLimit,max:e.weightInputLimit},domProps:{value:e.effectScores[t.bitmaskIndex-e.indexOffset]},on:{blur:function(i){return e.setEffectScore(t.bitmaskIndex-e.indexOffset,i)}}})])}))],2)},nY=[];const sY={name:"AutoSacrificeAdvancedTab",props:{glyphType:{type:String,required:!0}},data(){return{scoreThreshold:0,effectScores:{}}},computed:{typeConfig(){return GlyphTypes[this.glyphType]},autoSacrificeSettings(){return AutoGlyphProcessor.types[this.glyphType]},effects(){return this.typeConfig.effects},descStyle(){return{color:GlyphAppearanceHandler.getBorderColor(this.glyphType),"border-color":this.typeConfig.color}},minScoreInputStyle(){return{"font-size":"larger","border-width":"var(--var-border-width, 0.2rem)"}},questionmarkTooltip(){return"Оценка глифа вычисляется как сумма его редкости в процентах и указанных баллов за каждый эффект."},weightInputLimit(){return 999},indexOffset(){return AutoGlyphProcessor.bitmaskIndexOffset(this.glyphType)}},created(){this.effectScores=[...AutoGlyphProcessor.types[this.glyphType].effectScores]},methods:{update(){this.scoreThreshold=this.autoSacrificeSettings.score;for(const e of this.effects){const t=e.bitmaskIndex-this.indexOffset;this.effectScores[t]=this.autoSacrificeSettings.effectScores[t]}},limitedInput(e){return Math.clamp(e,-this.weightInputLimit,this.weightInputLimit)},setScoreThreshold(e){const t=e.target.value;isNaN(t)||(this.autoSacrificeSettings.score=this.limitedInput(t),EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))},setEffectScore(e,t){const i=t.target.value;isNaN(i)||(this.autoSacrificeSettings.effectScores[e]=this.limitedInput(i),EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))}}},rY=sY;var oY=(0,H.A)(rY,aY,nY,!1,null,"6cb226ae",null);const lY=oY.exports;var cY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-glyph-sacrifice-options__advanced"},[i("div",[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionmarkTooltip,expression:"questionmarkTooltip"}],staticClass:"o-questionmark"},[e._v(" ? ")]),e._v(" Глифы принимаются при одновременном наличии не менее "),i("input",{ref:"effectCount",staticClass:"c-auto-sac-effect-tab__input",attrs:{type:"number",min:"0",max:"8"},domProps:{value:e.effectCount},on:{blur:e.setEffectCount}}),e._v(" эффектов и наличии "),i("i",[e._v("всех")]),e._v(" отмеченных эффектов: ")]),e._l(e.effects,(function(t){return i("div",{key:t.id,staticClass:"l-auto-sac-type-tab__row-wrapper"},[i("SelectedEffectToggle",{staticClass:"c-auto-sac-type-tab__effect-desc l-specified-effect-tab__effect-desc",style:e.descStyle,attrs:{effect:t,"glyph-type":e.glyphType}})],1)})),e._v(" Нажмите на эффект, чтобы отметить его или убрать отметку ")],2)},uY=[],dY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.exclusionTooltip,expression:"exclusionTooltip"}],class:e.classObject,on:{click:function(t){return e.toggleSelection()}}},[i("span",[e.isExcluded?i("i",{staticClass:"fas fa-exclamation l-dock l-dock-left"}):e._e(),e._v(" "+e._s(e.description)+" "),e.isExcluded?i("i",{staticClass:"fas fa-exclamation l-dock l-dock-right"}):e._e()]),e.isActive?i("i",{staticClass:"fas fa-check c-selected-effect-toggle-indicator--active",style:{"background-color":e.color}}):e._e()])},hY=[];const pY={name:"SelectedEffectToggle",props:{effect:{type:Object,required:!0},glyphType:{type:String,required:!0}},data(){return{isActive:!1,noExclude:!1,effarigSettings:{effarigrm:!1,effarigglyph:!1}}},computed:{color(){return GlyphAppearanceHandler.getBorderColor(this.glyphType)},description(){return this.effect.genericDesc},classObject(){return this.isActive?"c-auto-sac-type-tab__effect-desc--active":"c-auto-sac-type-tab__effect-desc--inactive"},exclusionTooltip(){if(this.noExclude)return"";const e=this.effarigSettings;return e.RM&&e.glyph&&("effarigrm"===this.effect.id||"effarigglyph"===this.effect.id)?"Множитель к получению МР и отсрочка неустойчивости глифов не могут сосуществовать в одном глифе!":"effarigrm"===this.effect.id&&e.glyph?"Этот эффект несовместим с отсрочкой неустойчивости глифов!":"effarigglyph"===this.effect.id&&e.RM?"Этот эффект несовместим с множителем к получению МР!":""},isExcluded(){return""!==this.exclusionTooltip},effarigBits(){const e=GameDatabase.reality.glyphEffects;return{RM:e.effarigrm.bitmaskIndex,glyph:e.effarigglyph.bitmaskIndex}}},methods:{update(){this.isActive=0!==(AutoGlyphProcessor.types[this.glyphType].specifiedMask&1<<this.effect.bitmaskIndex);const e=AutoGlyphProcessor.types.effarig.specifiedMask;this.effarigSettings={RM:0!==(e&1<<this.effarigBits.RM),glyph:0!==(e&1<<this.effarigBits.glyph)},this.noExclude=Ra.unlocks.glyphEffectCount.canBeApplied},toggleSelection(){AutoGlyphProcessor.types[this.glyphType].specifiedMask^=1<<this.effect.bitmaskIndex,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},setEffectCount(e){const t=e.target.value;isNaN(t)||(this.autoSacrificeSettings.effectCount=Math.clamp(t,0,8),EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))}}},mY=pY;var yY=(0,H.A)(mY,dY,hY,!1,null,"7b6789b4",null);const fY=yY.exports,gY={name:"AutoSacrificeEffectTab",components:{SelectedEffectToggle:fY},props:{glyphType:{type:String,required:!0}},data(){return{effectCount:0}},computed:{typeConfig(){return GlyphTypes[this.glyphType]},autoSacrificeSettings(){return AutoGlyphProcessor.types[this.glyphType]},effects(){return this.typeConfig.effects},descStyle(){return{color:GlyphAppearanceHandler.getBorderColor(this.glyphType),"border-color":this.typeConfig.color}},questionmarkTooltip(){return"Глифы не принимаются ниже указанных порогов редкости и количества эффектов.\n        Из всех эффектов глифов только отмеченные влияют на их оценки."}},methods:{update(){this.effectCount=this.autoSacrificeSettings.effectCount},setEffectCount(e){const t=e.target.value;isNaN(t)||(this.autoSacrificeSettings.effectCount=Math.clamp(t,0,8),EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))}}},bY=gY;var vY=(0,H.A)(bY,cY,uY,!1,null,"0af558a8",null);const EY=vY.exports,TY={name:"GlyphFilterPanel",components:{AutoSacrificeEffectTab:EY,AutoSacrificeAdvancedTab:lY,SliderComponent:yb,GlyphComponent:mg},data(){return{mode:AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,effectCount:0,lockedTypes:GlyphTypes.locked.map((e=>e.id)),advancedType:GLYPH_TYPES[0],alchemyUnlocked:!1,rarityThresholds:GLYPH_TYPES.mapToObject((e=>e),(()=>0)),autoRealityForFilter:player.options.autoRealityForFilter}},computed:{modes(){return AUTO_GLYPH_SCORE},glyphTypes(){return GlyphTypes.list.filter((e=>!this.lockedTypes.includes(e.id)))},raritySliderProps(){return{min:0,max:100,width:"18rem",valueInDot:!0,tooltip:"never","dot-width":"2.2rem","dot-height":"1.6rem","dot-class":"c-glyph-sacrifice-options__rarity-slider-handle","bg-class":"c-glyph-sacrifice-options__rarity-slider-bg","process-class":"c-glyph-sacrifice-options__rarity-slider-process",style:{"margin-left":"1rem"}}},glyphIconProps(){return{size:"3rem","glow-blur":"0.3rem","glow-spread":"0.1rem","text-proportion":.66}},questionmarkTooltip(){return"Всем генерируемым глифам ставится оценка в зависимости от режима Фильтра, которая сравнивается с определённым порогом принятия глифов. \n        Фильтр выбирает тот глиф, который получил наивысшую оценку, но если она ниже порога принятия, глиф жертвуется.\n        (нажмите для просмотра более подробной информации)"},autoRealityTooltip(){return"Совершать реальность немедленно, если автоматика включена и Фильтр\n        отвергает все глифы"},unlockedModes(){return Object.values(this.modes).filter((e=>this.isUnlocked(e)))}},methods:{update(){this.effectCount=player.reality.glyphs.filter.simple,this.mode=AutoGlyphProcessor.scoreMode;for(const e of generatedTypes)this.rarityThresholds[e]=AutoGlyphProcessor.types[e].rarity;this.lockedTypes=GlyphTypes.locked.map((e=>e.id)),this.alchemyUnlocked=Ra.unlocks.unlockGlyphAlchemy.canBeApplied},optionClass(e){const t=this.modeIcon(e);return["c-glyph-sacrifice-options__option",e===this.mode?"c-glyph-sacrifice-options__option--active":"c-glyph-sacrifice-options__option--inactive",t]},modeIcon(e){switch(e){case this.modes.LOWEST_SACRIFICE:return"fas fa-burn";case this.modes.EFFECT_COUNT:return"fas fa-list-ul";case this.modes.RARITY_THRESHOLD:return"fas fa-gem";case this.modes.SPECIFIED_EFFECT:return"fas fa-tasks";case this.modes.EFFECT_SCORE:return"fas fa-list-ol";case this.modes.LOWEST_ALCHEMY:return"fas fa-atom";case this.modes.ALCHEMY_VALUE:return"fas fa-flask";default:throw Error("Unrecognized glyph filter mode")}},strengthThreshold(e){return rarityToStrength(this.rarityThresholds[e])},advancedTypeSelectStyle(e){const t=GlyphAppearanceHandler.getBorderColor(e.id);return e.id===this.advancedType?{color:t,"text-shadow":`0 0 0.25rem ${t}, 0 0 0.5rem ${t}, 0 0 0.75rem ${t}, 0 0 1rem ${t}`}:{}},setMode(e){AutoGlyphProcessor.scoreMode=e,player.reality.hasCheckedFilter=!1,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},setRarityThreshold(e,t){AutoGlyphProcessor.types[e].rarity=t,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE)},setEffectCount(e){const t=e.target.value;isNaN(t)||(this.effectCount=Math.clamp(t,0,8),player.reality.glyphs.filter.simple=this.effectCount,EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE))},filterMode(e){return AutoGlyphProcessor.filterModeName(e)},isUnlocked(e){switch(e){case this.modes.LOWEST_SACRIFICE:case this.modes.EFFECT_COUNT:case this.modes.RARITY_THRESHOLD:case this.modes.SPECIFIED_EFFECT:case this.modes.EFFECT_SCORE:return!0;case this.modes.LOWEST_ALCHEMY:case this.modes.ALCHEMY_VALUE:return this.alchemyUnlocked;default:throw Error("Unrecognized glyph filter mode")}},bumpRarity(e){const t=GlyphRarities.map((e=>strengthToRarity(e.minStrength)));let i;if(ui.view.shiftDown){const a=t.filter((t=>t<this.rarityThresholds[e]));i=0===a.length?100:a.max()}else i=t.filter((t=>t>this.rarityThresholds[e])).min();this.setRarityThreshold(e,i)},showFilterHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter((e=>"Продвинутое управление глифами"===e.name))[0],Modal.h2p.show()},getSymbol(e){return CosmeticGlyphTypes[e].currentSymbol.symbol},toggleAutoReality(){player.options.autoRealityForFilter=!player.options.autoRealityForFilter,this.autoRealityForFilter=player.options.autoRealityForFilter,player.reality.hasCheckedFilter=!1},exportFilterSettings(){const e=player.reality.glyphs.filter,t=e=>[e.rarity,e.score,e.effectCount,e.specifiedMask,e.effectScores.join("/")].join(","),i=[e.select,e.simple,e.trash].join("|"),a=ALCHEMY_BASIC_GLYPH_TYPES.map((i=>t(e.types[i]))).join("|");copyToClipboard(GameSaveSerializer.encodeText(`${i}|${a}`,"glyph filter")),GameUI.notify.info("Filter settings copied to clipboard")},importFilterSettings(){Modal.importFilter.show()}}},_Y=TY;var CY=(0,H.A)(_Y,tY,iY,!1,null,"13a26083",null);const AY=CY.exports;var kY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.groupClass},[i("GlyphSortButtonGroup"),i("GlyphProtectedRowButtonGroup"),i("GlyphAutosortButtonGroup"),i("GlyphCleanButtonGroup")],1)},wY=[],SY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionMarkTooltip,expression:"questionMarkTooltip"}],staticClass:"o-questionmark"},[e._v(" ? ")]),e._v(" Автоматическая уборка инвентаря: ")]),i("ButtonCycle",{staticClass:"c-glyph-inventory-option",attrs:{text:"Параметр сортировки глифов:",labels:e.sortModes},model:{value:e.autoSort,callback:function(t){e.autoSort=t},expression:"autoSort"}}),i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Перемещать глифы наверх:"},model:{value:e.autoCollapse,callback:function(t){e.autoCollapse=t},expression:"autoCollapse"}}),e.showAutoAutoClean?i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Автоматическая прочистка:"},model:{value:e.autoAutoClean,callback:function(t){e.autoAutoClean=t},expression:"autoAutoClean"}}):e._e(),e.showAutoAutoClean?i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Защищать глифы, принимаемые Фильтром, от автоматической прочистки:"},model:{value:e.applyFilterToPurge,callback:function(t){e.applyFilterToPurge=t},expression:"applyFilterToPurge"}}):e._e()],1)},xY=[],RY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",e._b({on:{click:e.handleClick}},"button",e.$attrs,!1),[e._v(" "+e._s(e.displayText)+" ")])},IY=[];const MY={name:"ButtonCycle",props:{text:{type:String,required:!0},labels:{type:Array,required:!0},value:{type:Number,required:!0}},computed:{displayText(){return`${this.text} ${this.labels[this.value]}`.trim()}},methods:{handleClick(){this.emitInput((this.value+1)%this.labels.length)}}},DY=MY;var PY=(0,H.A)(DY,RY,IY,!1,null,null,null);const UY=PY.exports,GY={name:"GlyphAutosortButtonGroup",components:{ToggleButton:HV,ButtonCycle:UY},data(){return{autoSort:0,showScoreFilter:!1,autoCollapse:!1,showAutoAutoClean:!1,autoAutoClean:!1,applyFilterToPurge:!1}},computed:{sortModes(){const e=["НЕТ","УРОВЕНЬ","МОЩНОСТЬ","ЭФФЕКТЫ"];return this.showScoreFilter&&e.push("ОЦЕНКА"),e},questionMarkTooltip(){return"Автоматическая уборка инвентаря осуществляется каждую реальность"}},watch:{autoSort(e){player.reality.autoSort=e},autoCollapse(e){player.reality.autoCollapse=e},autoAutoClean(e){player.reality.autoAutoClean=e},applyFilterToPurge(e){player.reality.applyFilterToPurge=e}},methods:{update(){this.autoSort=player.reality.autoSort,this.showScoreFilter=EffarigUnlock.glyphFilter.isUnlocked,this.autoCollapse=player.reality.autoCollapse,this.showAutoAutoClean=VUnlocks.autoAutoClean.canBeApplied,this.autoAutoClean=player.reality.autoAutoClean,this.applyFilterToPurge=player.reality.applyFilterToPurge}}},NY=GY;var BY=(0,H.A)(NY,SY,xY,!1,null,"5b1d9975",null);const OY=BY.exports;var LY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.glyphSacrificeUnlocked?i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[e._v(" Удаление слабых глифов: ")]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.autoClean}},[e._v(" Прочистка инвентаря "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" "+e._s(e.autoCleanTooltip)+" ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.harshAutoClean}},[e._v(" Строгая прочистка инвентаря "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" "+e._s(e.harshAutoCleanTooltip)+" ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.deleteAllUnprotected}},[e._v(" "+e._s(e.removeString)+" все незащищённые глифы ")]),e.hasFilter?i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.deleteAllRejected}},[e._v(" "+e._s(e.removeString)+" все глифы, отвергнутые Фильтром "),i("div",{staticClass:"c-glyph-inventory-option__tooltip l-rejected-tooltip"},[e._v(" "+e._s(e.deleteRejectedTooltip)+" ")])]):e._e()]):e._e()},$Y=[];const HY={name:"GlyphCleanButtonGroup",data(){return{glyphSacrificeUnlocked:!1,hasPerkShop:!1,hasFilter:!1,inventory:[],isRefining:!1,removeCount:0}},computed:{removeString(){return this.isRefining?"Облагородить":this.glyphSacrificeUnlocked?"Пожертвовать":"Удалить"},autoCleanTooltip(){return`${this.removeString} глифы${this.hasPerkShop?" (кроме глифов с косметическими атрибутами)":""}, которые строго хуже, чем\n        достаточное количество других глифов`},harshAutoCleanTooltip(){return`${this.removeString} глифы${this.hasPerkShop?" (в том числе глифы с косметическими атрибутами)":""}, которые строго хуже, чем\n        ЛЮБОЙ другой глиф`},deleteRejectedTooltip(){const e=AutoGlyphProcessor.hasNegativeEffectScore()?" Поскольку некоторые веса эффектов для Фильтра Глифов отрицательные, вы можете потерять глифы, которые вы хотите сохранить!":"";return 0===this.removeCount?"Настройки Фильтра Глифов таковы, что ни один глиф не будет удалён.":`${quantifyInt("глиф",this.removeCount)} будет ${pluralize("удалён",this.removeCount)}!${e}`}},methods:{update(){this.glyphSacrificeUnlocked=GlyphSacrificeHandler.canSacrifice&&!Pelle.isDoomed,this.hasPerkShop=TeresaUnlocks.shop.canBeApplied||player.records.fullGameCompletions,this.hasFilter=EffarigUnlock.glyphFilter.isUnlocked,this.inventory=Glyphs.inventory.map(GlyphGenerator.copy),this.isRefining=AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE||AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE_TO_CAP,this.removeCount=this.inventory.filter((e=>null!==e&&e.idx>=Glyphs.protectedSlots&&!AutoGlyphProcessor.wouldKeep(e))).length},autoClean(){player.options.confirmations.autoClean?Modal.glyphPurge.show({harsh:!1}):Glyphs.autoClean(5)},harshAutoClean(){player.options.confirmations.autoClean?Modal.glyphPurge.show({harsh:!0}):Glyphs.autoClean(1)},deleteAllUnprotected(){player.options.confirmations.sacrificeAll?Modal.deleteAllUnprotectedGlyphs.show():Glyphs.autoClean(0)},deleteAllRejected(){player.options.confirmations.sacrificeAll?Modal.deleteAllRejectedGlyphs.show():Glyphs.deleteAllRejected(!0)},slotClass(e){return e<Glyphs.protectedSlots?"c-glyph-inventory__protected-slot":"c-glyph-inventory__slot"}}},FY=HY;var qY=(0,H.A)(FY,LY,$Y,!1,null,"8020e956",null);const VY=qY.exports;var YY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.questionMarkTooltip,expression:"questionMarkTooltip"}],staticClass:"o-questionmark"},[e._v(" ? ")]),e._v(" Защищённые ячейки: ("+e._s(e.quantifyInt("ряд",e.protectedRows))+") ")]),i("button",{class:e.addRowButtonClass(),on:{click:e.addRow}},[e._v(" Добавить защищённый ряд "),e.isProtectedRowsMax()?i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Необходимо оставить незащищённый ряд для новых глифов ")]):e._e()]),i("button",{class:e.removeRowButtonClass(),on:{click:e.removeRow}},[e._v(" Убрать защищённый ряд ")]),i("ToggleButton",{staticClass:"c-glyph-inventory-option",attrs:{label:"Перемещать глифы при изменении количества защищённых рядов:"},model:{value:e.moveGlyphs,callback:function(t){e.moveGlyphs=t},expression:"moveGlyphs"}})],1)},jY=[];const WY={name:"GlyphProtectedRowButtonGroup",components:{ToggleButton:HV},data(){return{protectedRows:0,moveGlyphs:!1}},computed:{questionMarkTooltip(){return"Глифы в защищённых ячейках никогда не удаляются и не перемещаются.\n        Новые глифы никогда не помещаются в защищённые ячейки."}},watch:{moveGlyphs(e){player.reality.moveGlyphsOnProtection=e}},methods:{update(){this.moveGlyphs=player.reality.moveGlyphsOnProtection,this.protectedRows=player.reality.glyphs.protectedRows},addRow(){Glyphs.changeProtectedRows(1)},removeRow(){Glyphs.changeProtectedRows(-1)},isProtectedRowsMax(){return this.protectedRows===Glyphs.totalSlots/10-1},addRowButtonClass(){return{"c-glyph-inventory-option":!0,"o-non-clickable":this.isProtectedRowsMax()}},removeRowButtonClass(){return{"c-glyph-inventory-option":!0,"o-non-clickable":0===this.protectedRows}}}},XY=WY;var zY=(0,H.A)(XY,YY,jY,!1,null,"24322f84",null);const KY=zY.exports;var QY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-glyph-inventory-management-group"},[i("div",{staticClass:"l-glyph-sacrifice-options__header"},[e._v(" Упорядочить глифы: ")]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByLevel}},[e._v(" По уровню "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Сортировать глифы в порядке убывания уровня ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByPower}},[e._v(" По мощности "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Сортировать глифы в порядке убывания произведения уровня на редкость ")])]),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByEffect}},[e._v(" По эффектам "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Группировать глифы с одинаковыми наборами эффектов ")])]),e.showScoreFilter?i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.sortByScore}},[e._v(" По оценке "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Сортировать глифы в порядке убывания оценки Фильтра ")])]):e._e(),i("button",{staticClass:"c-glyph-inventory-option",on:{click:e.collapseEmpty}},[e._v(" Переместить глифы наверх "),i("div",{staticClass:"c-glyph-inventory-option__tooltip"},[e._v(" Переместить все глифы в самые верхние свободные ячейки ")])])])},JY=[];const ZY={name:"GlyphSortButtonGroup",data(){return{showScoreFilter:!1}},methods:{update(){this.showScoreFilter=EffarigUnlock.glyphFilter.isUnlocked},sortByLevel(){Glyphs.sortByLevel()},sortByPower(){Glyphs.sortByPower()},sortByScore(){Glyphs.sortByScore()},sortByEffect(){Glyphs.sortByEffect()},collapseEmpty(){Glyphs.collapseEmptySlots()}}},ej=ZY;var tj=(0,H.A)(ej,QY,JY,!1,null,"46e1a57b",null);const ij=tj.exports,aj={name:"GlyphInventoryManagementPanel",components:{GlyphSortButtonGroup:ij,GlyphProtectedRowButtonGroup:KY,GlyphAutosortButtonGroup:OY,GlyphCleanButtonGroup:VY},props:{hasMoreOptions:{type:Boolean,required:!1,default:!0}},computed:{groupClass(){return{"l-glyph-sacrifice-options":!0,"c-glyph-sacrifice-options":!0,"l-glyph-sidebar-panel-size":!0,"l-glyph-inventory-management":!0,"c-glyph-inventory-management-with-border":!this.hasMoreOptions}}}},nj=aj;var sj=(0,H.A)(nj,kY,wY,!1,null,"2f13930a",null);const rj=sj.exports;var oj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size"},[i("span",{staticClass:"c-glyph-sacrifice-options__advanced"},[e._v(" Удаляемые глифы: ")]),i("br"),i("div",{staticClass:"l-glyph-auto-pick-options__container"},e._l(e.availableModes,(function(t){return i("div",{key:t,class:e.optionClass(t),on:{click:function(i){return e.setMode(t)}}},[e._v(" "+e._s(e.modeDesc(t))+" ")])})),0)])},lj=[];const cj={name:"GlyphRejectionPanel",data(){return{mode:AUTO_GLYPH_REJECT.SACRIFICE}},computed:{modes(){return AUTO_GLYPH_REJECT},availableModes(){return Object.values(this.modes)}},methods:{optionClass(e){return[e===this.mode?"c-glyph-auto-pick-options__option--active":"c-glyph-auto-pick-options__option--inactive","c-glyph-auto-pick-options__option"]},update(){this.mode=AutoGlyphProcessor.sacMode},setMode(e){AutoGlyphProcessor.sacMode=e},modeDesc(e){return AutoGlyphProcessor.trashModeDesc(e)}}},uj=cj;var dj=(0,H.A)(uj,oj,lj,!1,null,"5f41ae19",null);const hj=dj.exports;var pj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size"},[i("br"),i("div",{staticClass:"l-glyph-set-save__header"},[e._v(" При загрузке набора постарайтесь иметь глифы, соответствующие следующим характеристикам. ")]),i("div",{staticClass:"c-glyph-set-save-container"},[i("ToggleButton",{staticClass:"c-glyph-set-save-setting-button",attrs:{label:"Эффекты:",on:"включая",off:"такие же"},model:{value:e.effects,callback:function(t){e.effects=t},expression:"effects"}}),i("ToggleButton",{staticClass:"c-glyph-set-save-setting-button",attrs:{label:"Уровень:",on:"не ниже",off:"равный"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}),i("ToggleButton",{staticClass:"c-glyph-set-save-setting-button",attrs:{label:"Редкость:",on:"не ниже",off:"равная"},model:{value:e.rarity,callback:function(t){e.rarity=t},expression:"rarity"}})],1),e._l(e.glyphSets,(function(t,a){return i("div",{key:a,staticClass:"c-glyph-single-set-save"},[i("div",{staticClass:"c-glyph-set-preview-area"},[i("GlyphSetPreview",{key:e.glyphSetKey(t,a),attrs:{text:e.setName(a),"text-hidden":!0,glyphs:t,"flip-tooltip":!0,"none-text":e.noSet}})],1),i("div",{staticClass:"c-glyph-single-set-save-flexbox"},[i("div",{attrs:{"ach-tooltip":"Введите имя набора (не более 20 символов)"}},[i("input",{staticClass:"c-glyph-sets-save-name__input",attrs:{id:a,type:"text",size:"20",maxlength:"20",placeholder:"Имя набора"},domProps:{value:e.names[a]},on:{blur:e.nicknameBlur}})]),i("div",{staticClass:"c-glyph-single-set-save-flexbox-buttons"},[i("button",{staticClass:"c-glyph-set-save-button",class:{"c-glyph-set-save-button--unavailable":!e.hasEquipped||t.length},on:{click:function(t){return e.saveGlyphSet(a)}}},[e._v(" Сохранить ")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.loadingTooltip(t),expression:"loadingTooltip(set)"}],staticClass:"c-glyph-set-save-button",class:{"c-glyph-set-save-button--unavailable":!e.setLengthValid(t)},on:{click:function(i){return e.loadGlyphSet(t,a)}}},[e._v(" Загрузить ")]),i("button",{staticClass:"c-glyph-set-save-button",class:{"c-glyph-set-save-button--unavailable":!t.length},on:{click:function(t){return e.deleteGlyphSet(a)}}},[e._v(" Удалить ")])])])])}))],2)},mj=[];const yj={name:"GlyphSetSavePanel",components:{ToggleButton:HV,GlyphSetPreview:_A},data(){return{hasEquipped:!0,glyphSets:[],names:[],effects:!1,rarity:!1,level:!1}},computed:{noSet(){return"Свободно"}},watch:{effects(e){player.options.ignoreGlyphEffects=e},rarity(e){player.options.ignoreGlyphRarity=e},level(e){player.options.ignoreGlyphLevel=e}},created(){this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,this.refreshGlyphSets),this.on$(GAME_EVENT.GLYPH_SET_SAVE_CHANGE,this.refreshGlyphSets),this.refreshGlyphSets();for(let e=0;e<player.reality.glyphs.sets.length;e++)this.names[e]=player.reality.glyphs.sets[e].name},methods:{update(){this.hasEquipped=Glyphs.activeList.length>0,this.effects=player.options.ignoreGlyphEffects,this.rarity=player.options.ignoreGlyphRarity,this.level=player.options.ignoreGlyphLevel},refreshGlyphSets(){this.glyphSets=player.reality.glyphs.sets.map((e=>Glyphs.copyForRecords(e.glyphs)))},setName(e){const t=""===this.names[e]?"":`: "${this.names[e]}"`;return`№${e+1}${t}`},saveGlyphSet(e){this.hasEquipped&&!player.reality.glyphs.sets[e].glyphs.length&&(player.reality.glyphs.sets[e].glyphs=Glyphs.active.compact(),this.refreshGlyphSets(),EventHub.dispatch(GAME_EVENT.GLYPH_SET_SAVE_CHANGE))},loadGlyphSet(e,t){if(!this.setLengthValid(e))return;let i=[...e].sort(((e,t)=>-e.level*e.strength+t.level*t.strength));const a=[...Glyphs.active.filter((e=>e))],n=[];for(const c of a){const e=Glyphs.findByValues(c,i,{level:this.level?-1:0,strength:this.rarity?-1:0,effects:this.effects?-1:0});n.push({glyph:c,options:e})}const s=this.findSelectedGlyphs(n,5);for(const c of s)i=i.filter((e=>e!==c));const r=[];for(let c=0;c<i.length;c++){const e=i[c],t=Glyphs.findByValues(e,Glyphs.sortedInventoryList,{level:this.level?1:0,strength:this.rarity?1:0,effects:this.effects?1:0});r[c]={glyph:e,options:t}}const o=this.findSelectedGlyphs(r,Glyphs.active.countWhere((e=>null===e)));for(const c of o)i=i.filter((e=>e!==c));let l=i.length;for(const c of o){const e=Glyphs.active.indexOf(null);-1!==e&&(Glyphs.equip(c,e),l--)}l>0?GameUI.notify.error(`Не удалось найти или активировать ${quantify("глиф",l)} из набора\n          ${this.setName(t)}.`):GameUI.notify.success(`Набор ${this.setName(t)} успешно загружен.`)},findSelectedGlyphs(e,t){const i=e=>1e3*(10*e.glyph.type.length+e.glyph.type.codePointAt(0))+e.options.length;e.sort(((e,t)=>i(e)-i(t)));const a=[];let n=t;for(let s=0;s<e.length;s++){if(0===n)break;const t=e[s],i=t.options.filter((e=>!a.includes(e)));if(0===i.length)continue;const r=i[i.length-1];a.push(r),n--}return a},deleteGlyphSet(e){player.reality.glyphs.sets[e].glyphs.length&&(player.options.confirmations.deleteGlyphSetSave?Modal.glyphSetSaveDelete.show({glyphSetId:e}):(player.reality.glyphs.sets[e].glyphs=[],this.refreshGlyphSets(),EventHub.dispatch(GAME_EVENT.GLYPH_SET_SAVE_CHANGE)))},nicknameBlur(e){player.reality.glyphs.sets[e.target.id].name=e.target.value.slice(0,20),this.names[e.target.id]=player.reality.glyphs.sets[e.target.id].name,this.refreshGlyphSets()},setLengthValid(e){return e.length&&e.length<=Glyphs.activeSlotCount},loadingTooltip(e){return this.setLengthValid(e)&&this.hasEquipped?"Этот набор может быть загружен неправильно, так как у вас уже есть действующие глифы":null},glyphSetKey(e,t){return`${t} ${Glyphs.hash(e)}`}}},fj=yj;var gj=(0,H.A)(fj,pj,mj,!1,null,"2c6feb79",null);const bj=gj.exports,vj={name:"GlyphTabSidebar",components:{GlyphInventoryManagementPanel:rj,GlyphFilterPanel:AY,GlyphSetSavePanel:bj,GlyphRejectionPanel:hj},data(){return{type:0,sidebarEnum:{},unlockedFilter:!1,unlockedSets:!1,unlockedAlchemy:!1,hasMoreOptions:!1,hasRefined:!1}},computed:{isDoomed(){return Pelle.isDoomed}},methods:{update(){this.type=player.reality.showSidebarPanel,this.sidebarEnum=GLYPH_SIDEBAR_MODE,this.unlockedFilter=EffarigUnlock.glyphFilter.isUnlocked,this.unlockedSets=EffarigUnlock.setSaves.isUnlocked,this.unlockedAlchemy=Ra.unlocks.unlockGlyphAlchemy.canBeApplied,this.hasMoreOptions=this.unlockedFilter||this.unlockedSets||this.unlockedAlchemy,this.hasRefined=AlchemyResources.all.map((e=>e.amount)).some((e=>e>0))},setSidebarState(e){player.reality.showSidebarPanel=e},sidebarClass(e){return{"l-glyph-sidebar-button":!0,"c-glyph-sidebar-button":!0,"c-glyph-sidebar-button--active":e===player.reality.showSidebarPanel,"l-glyph-sidebar-button--attention":e===this.sidebarEnum.SACRIFICE_TYPE&&!this.hasRefined&&!this.isDoomed}}}},Ej=vj;var Tj=(0,H.A)(Ej,ZV,eY,!1,null,"2ffcaf7e",null);const _j=Tj.exports;var Cj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("button",{class:e.buttonClass,attrs:{"ach-tooltip":e.tooltip},on:{click:e.toggleActive}},[e.isDoomed?i("div",[e._v(" Невозможно усилить Обречённую Реальность. ")]):e.canAmplify?i("div",[e.isActive?i("span",[e._v("Реальность будет усилена:")]):i("span",[e._v("Усилить текущую реальность:")]),i("br"),e._v(" Множитель ×"+e._s(e.formatInt(e.ratio))+" ко всем наградам ")]):i("div",[e._v(" Недостаточно сохранённого реального времени. ")])]):e._e()},Aj=[];const kj={name:"RealityAmplifyButton",data:()=>({isDoomed:!1,isVisible:!1,isDisabled:!1,isActive:!1,ratio:1,canAmplify:!1}),computed:{tooltip(){return this.canAmplify||this.isDoomed?null:"Чтобы усилить реальность, необходимо либо сохранить больше реального времени, либо совершить её быстрее"},buttonClass(){return{"l-reality-amplify-button":!0,"l-reality-amplify-button--clickable":!this.isDoomed&&this.canAmplify,"o-enslaved-mechanic-button--storing-time":this.isActive}}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.isVisible=Enslaved.isUnlocked,this.isDisabled=isInCelestialReality(),this.isActive=Enslaved.boostReality,this.ratio=Enslaved.realityBoostRatio,this.canAmplify=Enslaved.canAmplify},toggleActive(){this.canAmplify&&(Enslaved.boostReality=!Enslaved.boostReality)}}},wj=kj;var Sj=(0,H.A)(wj,Cj,Aj,!1,null,"17c33f39",null);const xj=Sj.exports;var Rj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{class:e.realityReminderClass,style:e.styleObject,on:{click:e.clicked}},[e.canReality?0===e.suggestions.length?i("span",[e._v(" Вы совершили все необходимые действия для максимизации наград и готовы совершить реальность! ")]):i("span",[i("i",{class:e.dropDownIconClass}),e._v(" Есть "+e._s(e.quantifyInt("действие",e.suggestions.length))+", что вам рекомендуется совершить в текущей реальности "+e._s(e.clickText)+": "),e.isExpanded?i("div",{staticClass:"l-suggestions"},[i("br"),e._l(e.suggestions,(function(t){return i("div",{key:t},[e._v(" "+e._s(t)+" ")])}))],2):e._e()]):i("span",[e._v(" Вы ещё не разблокировали реальность в Древе Исследований. ")])]):e._e()},Ij=[];const Mj={name:"RealityReminder",data(){return{canReality:!1,isVisible:!1,isExpanded:!1,ecCount:0,missingAchievements:0,unpurchasedDilationUpgrades:0,currLog10EP:0,cheapestLog10TD:0,multEPLog10Cost:0,purchasableTS:0,hasDilated:0,availableCharges:0}},computed:{suggestions(){const e=[];return this.purchasableTS>0&&e.push(`Купить оставшиеся Исследования Времени (${formatInt(this.purchasableTS)} доступно)`),this.missingAchievements>0&&e.push(`Выполнить оставшиеся достижения из первых тринадцати рядов (${formatInt(this.missingAchievements)} осталось)`),this.unpurchasedDilationUpgrades>0&&e.push(`Купить оставшиеся Улучшения Замедления (${formatInt(this.unpurchasedDilationUpgrades)} доступно)`),this.currLog10EP>1.3*this.cheapestLog10TD&&e.push(`Купить оставшиеся Измерения Времени (наименьшая цена: ${format(Decimal.pow10(this.cheapestLog10TD))} ОВ)`),this.currLog10EP>1.3*this.multEPLog10Cost&&e.push(`Купить оставшиеся упятерители ОВ (цена: ${format(Decimal.pow10(this.multEPLog10Cost))} ОВ)`),this.ecCount<60&&e.push(`Выполнить оставшиеся ИспВ (выполнено ${formatInt(this.ecCount)}/${formatInt(60)})`),this.hasDilated||e.push("Совершить вечность в Замедлении"),this.availableCharges>0&&e.push(`Зарядить больше Улучшений Бесконечности (ещё ${formatInt(this.availableCharges)})`),e},canBeExpanded(){return this.canReality&&0!==this.suggestions.length},styleObject(){const e=!this.canReality||this.canBeExpanded?"var(--color-bad)":"var(--color-good)",t=this.canBeExpanded&&this.isExpanded?6.5+1.5*this.suggestions.length+"rem":"5rem";return{color:e,height:t}},clickText(){return`(нажмите, чтобы ${this.isExpanded?"скрыть":"показать"})`},realityReminderClass(){return{"c-reality-reminder":!0,"c-reality-reminder-pointer":this.canBeExpanded}},dropDownIconClass(){return this.isExpanded?"far fa-minus-square":"far fa-plus-square"}},created(){this.on$(GAME_EVENT.REALITY_RESET_AFTER,(()=>this.isExpanded=!1))},methods:{update(){this.canReality=TimeStudy.reality.isBought,this.isVisible=!isInCelestialReality(),this.ecCount=EternityChallenges.completions,this.missingAchievements=Achievements.preReality.countWhere((e=>!e.isUnlocked)),this.unpurchasedDilationUpgrades=DilationUpgrade.all.countWhere((e=>(void 0===e.isBought?0===e.boughtAmount:!e.isBought)&&!e.config.pelleOnly)),this.currLog10EP=player.eternityPoints.log10(),this.cheapestLog10TD=Math.min(...TimeDimensions.all.map((e=>e.cost.log10()))),this.multEPLog10Cost=EternityUpgrade.epMult.cost.log10(),this.purchasableTS=NormalTimeStudyState.studies.countWhere((e=>e&&e.canBeBought&&!e.isBought)),this.hasDilated=Perk.startTP.canBeApplied?player.dilation.lastEP.gt(0):player.dilation.tachyonParticles.gt(0),this.availableCharges=Ra.chargesLeft},clicked(){this.canBeExpanded&&(this.isExpanded=!this.isExpanded)}}},Dj=Mj;var Pj=(0,H.A)(Dj,Rj,Ij,!1,null,"97a4a8dc",null);const Uj=Pj.exports;var Gj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:["l-reset-reality-button","c-reset-reality-button",{"c-reset-reality-button-celestial":e.isInCelestialReality}],on:{click:e.resetReality}},[i("div",{staticClass:"l-reality-button__contents"},[e._v(" "+e._s(e.resetText)+" ")])])},Nj=[];const Bj={name:"ResetRealityButton",data(){return{canReality:!1,resetCelestial:!1,isInCelestialReality:!1,isDoomed:!1}},computed:{resetText(){return this.isDoomed?"Перезапустить текущий армагеддон":this.isInCelestialReality&&!this.resetCelestial?"Покинуть Реальность этого Небожителя":this.isInCelestialReality&&this.resetCelestial?"Перезапустить Реальность этого Небожителя":"Перезапустить текущую реальность"}},methods:{update(){this.canReality=TimeStudy.reality.isBought&&player.records.thisReality.maxEP.exponent>=4e3,this.resetCelestial=player.options.retryCelestial,this.isInCelestialReality=isInCelestialReality(),this.isDoomed=Pelle.isDoomed},resetReality(){const e=player.options.confirmations;GameEnd.creditsClosed||(this.isInCelestialReality?e.exitChallenge?Modal.exitChallenge.show({challengeName:"Реальность этого Небожителя",normalName:"реальности",hasHigherLayers:!1,exitFn:()=>beginProcessReality(getRealityProps(!0))}):beginProcessReality(getRealityProps(!0)):e.resetReality?Modal.resetReality.show():beginProcessReality(getRealityProps(!0)))}}},Oj=Bj;var Lj=(0,H.A)(Oj,Gj,Nj,!1,null,"1c1c2f4c",null);const $j=Lj.exports;var Hj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-current-glyph-effects l-current-glyph-effects",class:{"c-sacrificed-glyphs--dragover":e.hasDragover},on:{dragover:e.dragover,dragleave:e.dragleave,drop:e.drop}},[i("div",{staticClass:"l-sacrificed-glyphs__help"},[e.isDoomed?i("span",{staticClass:"pelle-current-glyph-effects"},[e._v(" Вы не можете жертвовать глифы в Обречении. ")]):i("span",[i("div",[e._v("Чтобы пожертвовать глиф, перетяните его сюда или нажмите на него, зажав клавишу Shift.")]),i("div",[e._v('Подтверждение пожертвования можно отключить во вкладке "Настройки" или путём зажатия клавиши Ctrl.')])])]),e.hasAlteration?i("div",[i("span",{staticClass:"c-altered-glyphs-toggle-button",on:{click:e.toggleAlteration}},[i("i",{class:e.dropDownIconClass}),i("b",[e._v(" Расширение Глифов")])]),i("br"),e.hideAlteration?i("div",[e._v(" (Нажмите, чтобы показать подробности) ")]):i("div",[e._v(" У каждого типа глифов будет улучшен один из эффектов,"),i("br"),e._v(" когда суммарная ценность пожертвованных глифов этого типа превысит: "),i("br"),i("br"),i("b",[i("span",{style:e.addStyle},[e._v(e._s(e.format(e.addThreshold))+" - добавление второго эффекта")]),i("br"),i("span",{style:e.empowerStyle},[e._v(e._s(e.format(e.empowerThreshold))+" - принципиальное улучшение формулы")]),i("br"),i("span",{style:e.boostStyle},[e._v(e._s(e.format(e.boostThreshold))+" - усиление в зависимости от суммарной ценности пожертвованных глифов этого типа")])]),i("br"),i("br"),e._v(" Суммарная ценность пожертвованных глифов одного типа имеет ограничение, равное "+e._s(e.format(e.maxSacrifice))+". ")])]):e._e(),i("br"),i("div",{staticClass:"c-sacrificed-glyphs__header"},[e._v(" Эффекты Пожертвования Глифов: ")]),e.anySacrifices&&!e.isDoomed?i("div",[e.teresaMult>1?i("div",[e._v(" Награда за Реальность Терезы даёт множитель "+e._s(e.formatX(e.teresaMult,2,2))+" к жертвенной ценности глифов; достигнута с "+e._s(e.lastMachines)+". "),e.hasSeenRealityGlyph?i("span",[e._v(" На Глифы Реальности не влияет ни этот множитель, ни Расширение Глифов. ")]):e._e()]):e._e(),e._l(e.types,(function(t){return[i("TypeSacrifice",{key:t+e.glyphSymbol(t),attrs:{type:t,"has-dragover":e.hasDragover}})]}))],2):e.isDoomed?i("div",{staticClass:"pelle-current-glyph-effects"},[e._v(" Все эффекты Пожертвования и Расширения Глифов отключены в Обречении. ")]):i("div",[e._v(" Вы ещё не пожетрвовали ни одного глифа! ")])])},Fj=[],qj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.amount>0?i("div",{style:e.style},[i("div",[i("div",{staticClass:"l-sacrificed-glyphs__type-symbol c-sacrificed-glyphs__type-symbol"},[e._v(" "+e._s(e.symbol)+" ")]),i("div",{staticClass:"l-sacrificed-glyphs__type-amount c-sacrificed-glyphs__type-amount"},[e._v(" "+e._s(e.formatAmount)+" "),e.showNewSacrifice?i("span",{staticClass:"c-sacrificed-glyphs__type-new-amount"},[e._v(" + "+e._s(e.formatNewAmount)+" ➜ "+e._s(e.formatTotalAmount)+" ")]):e._e()])]),e.showNewSacrifice?i("span",{staticClass:"c-sacrificed-glyphs__type-new-amount"},[e._v(" "+e._s(e.newDescription)+" ")]):i("span",[e._v(" "+e._s(e.description)+" ")])]):e._e()},Vj=[];const Yj={name:"TypeSacrifice",props:{type:{type:String,required:!0},hasDragover:{type:Boolean,required:!0}},data(){return{amount:0,effectValue:0,isColored:!0,willSacrifice:!1}},computed:{typeConfig(){return GlyphTypes[this.type]},sacConfig(){return GlyphSacrifice[this.type].config},style(){if(!this.isColored)return{};const e=GlyphAppearanceHandler.getBorderColor(this.type),t="reality"===this.typeConfig.id&&!player.reality.glyphs.cosmetics.colorMap.reality;return{color:e,"text-shadow":`-1px 1px 1px var(--color-text-base), 1px 1px 1px var(--color-text-base),\n                            -1px -1px 1px var(--color-text-base), 1px -1px 1px var(--color-text-base),\n                            0 0 3px ${e}`,animation:t?"a-reality-glyph-description-cycle 10s infinite":void 0}},symbol(){return CosmeticGlyphTypes[this.type].currentSymbol.symbol},formatAmount(){return format(this.amount,2,2)},description(){return this.sacConfig.description(this.effectValue)},newDescription(){return this.sacConfig.description(this.sacConfig.effect(this.currentSacrifice.sacrificeValue))},currentSacrifice(){const e=this.$viewModel.tabs.reality;return""===e.mouseoverGlyphInfo.type?e.draggingGlyphInfo:e.mouseoverGlyphInfo},showNewSacrifice(){const e=this.currentSacrifice.type===this.type,t=this.willSacrifice&&this.currentSacrifice.inInventory,i=ui.view.shiftDown;return e&&(this.hasDragover||i&&t)},formatNewAmount(){return format(this.currentSacrifice.sacrificeValue,2,2)},formatTotalAmount(){return format(this.amount+this.currentSacrifice.sacrificeValue,2,2)}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,(()=>{this.$recompute("style")}))},methods:{update(){this.amount=player.reality.glyphs.sac[this.type],this.effectValue=GlyphSacrifice[this.type].effectValue,this.isColored=player.options.glyphTextColors,this.willSacrifice=AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.SACRIFICE||AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE_TO_CAP&&0===this.currentSacrifice.refineValue}}},jj=Yj;var Wj=(0,H.A)(jj,qj,Vj,!1,null,"58581386",null);const Xj=Wj.exports,zj={name:"SacrificedGlyphs",components:{TypeSacrifice:Xj},data(){return{anySacrifices:!1,hasDragover:!1,hasAlteration:!1,hideAlteration:!1,maxSacrifice:0,teresaMult:0,lastMachinesTeresa:new Decimal(0)}},computed:{types:()=>GLYPH_TYPES.filter((e=>"cursed"!==e&&"companion"!==e)),lastMachines(){return this.lastMachinesTeresa.lt(v.E10000)?`${quantify("Машиной",this.lastMachinesTeresa,2)} Реальности`:`${format(this.lastMachinesTeresa.dividedBy(v.E10000),2)} Мнимой Машины`},dropDownIconClass(){return this.hideAlteration?"far fa-plus-square":"far fa-minus-square"},isDoomed(){return Pelle.isDoomed},addThreshold(){return GlyphAlteration.additionThreshold},empowerThreshold(){return GlyphAlteration.empowermentThreshold},boostThreshold(){return GlyphAlteration.boostingThreshold},cosmeticTypes:()=>CosmeticGlyphTypes,addStyle(){return{color:GlyphAlteration.baseAdditionColor()}},empowerStyle(){return{color:GlyphAlteration.baseEmpowermentColor()}},boostStyle(){return{color:GlyphAlteration.baseBoostColor()}},hasSeenRealityGlyph(){return player.reality.glyphs.createdRealityGlyph}},created(){this.on$(GAME_EVENT.GLYPH_VISUAL_CHANGE,(()=>{this.$recompute("cosmeticTypes")}))},methods:{update(){this.anySacrifices=0!==GameCache.logTotalGlyphSacrifice,this.hasAlteration=Ra.unlocks.alteredGlyphs.canBeApplied,this.hideAlteration=player.options.hideAlterationEffects,this.maxSacrifice=GlyphSacrificeHandler.maxSacrificeForEffects,this.teresaMult=Teresa.runRewardMultiplier,this.lastMachinesTeresa.copyFrom(player.celestials.teresa.lastRepeatedMachines)},dragover(e){Pelle.isDoomed||e.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&(e.preventDefault(),this.hasDragover=!0)},dragleave(e){this.isDoomed||!e.relatedTarget||!e.relatedTarget.classList||e.relatedTarget.classList.contains("c-current-glyph-effects")||e.relatedTarget.classList.contains("c-sacrificed-glyphs__header")||e.relatedTarget.classList.contains("l-sacrificed-glyphs__type")||e.relatedTarget.classList.contains("l-sacrificed-glyphs__type-symbol")||e.relatedTarget.classList.contains("l-sacrificed-glyphs__type-amount")||e.relatedTarget.classList.contains("c-sacrificed-glyphs__type-new-amount")||0===e.relatedTarget.classList.length||(this.hasDragover=!1)},drop(e){if(this.isDoomed||!e.dataTransfer.types.includes(GLYPH_MIME_TYPE))return;const t=parseInt(e.dataTransfer.getData(GLYPH_MIME_TYPE),10);if(isNaN(t))return;const i=Glyphs.findById(t);i&&(GlyphSacrificeHandler.sacrificeGlyph(i,!0),this.hasDragover=!1)},toggleAlteration(){player.options.hideAlterationEffects=!player.options.hideAlterationEffects},glyphSymbol(e){return this.cosmeticTypes[e].currentSymbol.symbol}}},Kj=zj;var Qj=(0,H.A)(Kj,Hj,Fj,!1,null,"d6a1453c",null);const Jj=Qj.exports;var Zj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("div",{staticClass:"c-single-glyph-cosmetic",on:{dragover:e.dragover,drop:e.drop}},[e.glyph?i("div",{staticClass:"c-glyph-info"},[i("div",{staticClass:"c-glyph-info-section"},[i("GlyphComponent",{attrs:{glyph:e.glyph,"flip-tooltip":!0}})],1),i("div",{staticClass:"c-glyph-info-section c-cosmetic-text"},[i("u",[e._v("Косметические атрибуты")]),e._v(" Тип: "+e._s(e.typeText)+" "),i("br"),e._v(" Общие: "+e._s(e.typeCosmetic)+" "),i("br"),e._v(" Отдельные: "+e._s(e.specialCosmetic)+" ")]),i("div",{staticClass:"c-glyph-info-section"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.openModal}},[e._v(" Применить ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(t){e.glyphID=-1}}},[e._v(" Очистить ")])],1)]):i("div",[e._v(" Перетяните глиф в это поле, чтобы настроить его внешний вид! Здесь появится его изображение, в то время как сам глиф останется у вас в инвентаре. При любых операциях с инвентарём это поле будет очищено. ")])]):e._e()},eW=[];const tW={name:"SingleGlyphCustomzationPanel",components:{GlyphComponent:mg,PrimaryButton:Fs},data(){return{glyphID:-1,isVisible:!0}},computed:{glyph(){if(-1===this.glyphID)return null;const e=Glyphs.findById(this.glyphID);return{type:e.type,level:e.level,strength:e.strength,effects:e.effects,color:e.color,symbol:e.symbol,cosmetic:e.cosmetic}},typeText(){switch(this.glyph.type){case"cursed":return"Проклятый Глиф";case"companion":return"Глиф-компаньон";default:return`Глиф ${translateGlyph(this.glyph.type)}`}},typeCosmetic(){const e=[];return GlyphAppearanceHandler.symbolMap[this.glyph.type]&&e.push("Значок"),GlyphAppearanceHandler.colorMap[this.glyph.type]&&e.push("Цвет"),0===e.length?"Нет":e.join("/")},specialCosmetic(){if("blob"===this.glyph.cosmetic)return"Клякса";if("music"===this.glyph.cosmetic)return"Музыкальный";const e=[];return this.glyph.symbol&&e.push("Значок"),this.glyph.color&&e.push("Цвет"),0===e.length?"Нет":e.join("/")}},created(){EventHub.logic.on(GAME_EVENT.GLYPHS_CHANGED,(()=>{this.glyphID=-1,this.$recompute("glyph")})),EventHub.logic.on(GAME_EVENT.GLYPH_VISUAL_CHANGE,(()=>{this.$recompute("glyph")}))},methods:{update(){this.isVisible=player.reality.glyphs.cosmetics.active&&(GlyphAppearanceHandler.availableTypes.length>0||CosmeticGlyphTypes.list.some((e=>e.isCosmetic&&e.isUnlocked())))},dragover(e){e.dataTransfer.types.includes(GLYPH_MIME_TYPE)&&e.preventDefault()},drop(e){if(!e.dataTransfer.types.includes(GLYPH_MIME_TYPE))return;const t=parseInt(e.dataTransfer.getData(GLYPH_MIME_TYPE),10);isNaN(t)||(EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE),this.glyphID=t,this.$recompute("glyph"))},openModal(){Modal.singleGlyphAppearance.show({glyphId:this.glyphID})}}},iW=tW;var aW=(0,H.A)(iW,Zj,eW,!1,null,"8cc056be",null);const nW=aW.exports,sW={name:"GlyphsTab",components:{ExpandingControlBox:Lo,GlyphTabSidebar:_j,GlyphPeek:JV,RealityAmplifyButton:xj,GlyphInventory:PV,SacrificedGlyphs:Jj,CurrentGlyphEffects:TV,EquippedGlyphs:SV,GlyphLevelsAndWeights:jV,ResetRealityButton:$j,RealityReminder:Uj,SingleGlyphCustomzationPanel:nW},data(){return{enslavedHint:"",showInstability:!1,instabilityThreshold:0,hyperInstabilityThreshold:0,isInCelestialReality:!1,canAmplify:!1,glyphTextColors:!0,autoRestartCelestialRuns:!1,sacrificeUnlocked:!1,sacrificeDisplayed:!1,resetRealityDisplayed:!1}},computed:{showEnslavedHint(){return""!==this.enslavedHint},glyphColorState(){return{"o-glyph-color-checkbox":!0,"o-glyph-color-checkbox--active":this.glyphTextColors,"o-glyph-color-checkbox--inactive":!this.glyphTextColors}}},methods:{update(){if(this.resetRealityDisplayed=PlayerProgress.realityUnlocked(),this.showInstability=player.records.bestReality.glyphLevel>800,this.instabilityThreshold=Glyphs.instabilityThreshold,this.hyperInstabilityThreshold=Glyphs.hyperInstabilityThreshold,this.isInCelestialReality=isInCelestialReality(),this.canAmplify=Enslaved.isUnlocked&&!this.isInCelestialReality,this.autoRestartCelestialRuns=player.options.retryCelestial,this.glyphTextColors=player.options.glyphTextColors,this.enslavedHint="",this.sacrificeUnlocked=GlyphSacrificeHandler.canSacrifice,this.sacrificeDisplayed=player.reality.showGlyphSacrifice,!Enslaved.isRunning)return;const e=void 0!==Glyphs.activeWithoutCompanion.find((e=>e.level<Enslaved.glyphLevelMin));e&&(this.enslavedHint="сделали... всё... что можем... с глифами...")},toggleAutoRestartCelestial(){player.options.retryCelestial=!player.options.retryCelestial},toggleGlyphTextColors(){player.options.glyphTextColors=!player.options.glyphTextColors},glyphInfoClass(e){return{"l-glyph-info-button":!0,"c-glyph-info-button":!0,"c-glyph-info-button--active":e,"c-glyph-info-button--inactive":!e}},setInfoState(e){player.reality.showGlyphSacrifice=e},glyphColorPosition(){return this.sacrificeUnlocked?"l-glyph-color-position__low":"l-glyph-color-position__top"},glyphInfoBorderClass(){return{"c-current-glyph-effects-with-top-border":!this.sacrificeUnlocked}},buttonGroupClass(){return{"l-half-width":this.canAmplify}}}},rW=sW;var oW=(0,H.A)(rW,oV,lV,!1,null,"97f1e350",null);const lW=oW.exports;var cW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-reality-upgrade-grid"},[i("div",{staticClass:"c-cap-text"},[e._v(" Предел количества Мнимых Машин: "),i("span",{staticClass:"c-reality-tab__reality-machines"},[e._v(e._s(e.capStr))]),e._v(". ")]),i("div",{staticClass:"c-info-text"},[e._v(" Вы достигли ограничения на количество Машин Реальности: "+e._s(e.format(e.capRM))+". "),i("br"),e._v(" Рекордное количество Машин Реальности, которое вы могли бы получить на реальности, не будь этого ограничения, влияет на предел количества Мнимых Машин. "),i("br"),e._v(" Мнимые Машины пассивно производятся со временем, но их производство экспоненциально замедляется по мере приближения их количества к пределу. "),i("br"),e._v(" Каждые "+e._s(e.formatInt(e.scaleTime))+" секунд разность от количества ваших Мнимых Машин до его предела уменьшается вдвое. "),i("br"),i("br"),e._v(" Улучшения из двух верхних рядов можно покупать сколь угодно много раз, а остальные - по одному, и у них есть требования. "),i("br"),e._v(" Мнимые Улучшения ведут себя аналогично Улучшениям Реальности с той лишь разницей, что покупаются за Мнимые Машины. "),i("span",{attrs:{"ach-tooltip":e.lockTooltip}},[i("i",{staticClass:"fas fa-question-circle"})])]),e._l(5,(function(t){return i("div",{key:t,staticClass:"l-reality-upgrade-grid__row"},e._l(5,(function(a){return i("ImaginaryUpgradeButton",{key:e.id(t,a),attrs:{upgrade:e.upgrades[e.id(t,a)]}})})),1)}))],2)},uW=[],dW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.etaText,expression:"etaText"}],staticClass:"l-spoon-btn-group"},[i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn",class:e.classObject,on:{click:[function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.toggleLock(e.upgrade):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.upgrade.purchase()}]}},[i("HintText",{staticClass:"l-hint-text--reality-upgrade c-hint-text--reality-upgrade",attrs:{type:"realityUpgrades"}},[e._v(" "+e._s(e.config.name)+" ")]),i("span",{class:{"o-pelle-disabled":e.upgrade.pelleDisabled}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.$viewModel.shiftDown!==e.isAvailableForPurchase||e.isRebuyable?[i("EffectDisplay",{attrs:{config:e.config,br:""}}),e.isBought?e._e():i("CostDisplay",{attrs:{config:e.config,br:"",name:"Мнимая Машина"}})]:[i("br"),i("DescriptionDisplay",{staticClass:"c-reality-upgrade-btn__requirement",attrs:{config:e.requirementConfig,label:"Требование:"}})]],2)],1),e.canBeLocked?i("div",{staticClass:"o-requirement-lock"},[e.hasRequirementLock?i("i",{staticClass:"fas fa-lock"}):e.canLock?i("i",{staticClass:"fas fa-lock-open"}):e._e()]):e._e(),e.isRebuyable&&e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):e._e()],1)},hW=[];const pW={name:"ImaginaryUpgradeButton",components:{PrimaryToggleButton:$g,DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS,HintText:cN},props:{upgrade:{type:Object,required:!0}},data(){return{isAvailableForPurchase:!1,canBeBought:!1,isRebuyable:!1,isBought:!1,isPossible:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,etaText:"",canBeLocked:!1,hasRequirementLock:!1}},computed:{config(){return this.upgrade.config},classObject(){return{"c-reality-upgrade-btn--useless":this.upgrade.pelleDisabled,"c-reality-upgrade-btn--bought":this.isBought&&!this.upgrade.pelleDisabled,"c-reality-upgrade-btn--unavailable":!this.isBought&&!this.canBeBought&&this.isAvailableForPurchase,"c-reality-upgrade-btn--possible":!this.isAvailableForPurchase&&this.isPossible,"c-reality-upgrade-btn--locked":!this.isAvailableForPurchase&&!this.isPossible}},requirementConfig(){return{description:this.config.requirement}},canLock(){return this.config.canLock&&!(this.isAvailableForPurchase||this.isBought)},isDoomed:()=>Pelle.isDoomed},watch:{isAutobuyerOn(e){Autobuyer.imaginaryUpgrade(this.upgrade.id).isActive=e}},methods:{update(){const e=this.upgrade;this.isAvailableForPurchase=e.isAvailableForPurchase,this.canBeBought=e.canBeBought,this.isRebuyable=e.isRebuyable,this.isBought=!e.isRebuyable&&e.isBought,this.isPossible=e.isPossible,this.isAutoUnlocked=ImaginaryUpgrade(20).canBeApplied,this.canBeLocked=e.config.canLock&&!this.isAvailableForPurchase,this.hasRequirementLock=e.hasPlayerLock,this.isRebuyable&&(this.isAutobuyerOn=Autobuyer.imaginaryUpgrade(e.id).isActive),this.etaText=this.getETAText()},getETAText(){if(this.canBeBought||!this.isAvailableForPurchase||this.isBought||Pelle.isDoomed)return"";const e=MachineHandler.estimateIMTimer(this.upgrade.cost);return isFinite(e)?TimeSpan.fromSeconds(e).toString():"Цена недостижима"},toggleLock(e){this.isRebuyable||e.toggleMechanicLock()}}},mW=pW;var yW=(0,H.A)(mW,dW,hW,!1,null,"2f6210d9",null);const fW=yW.exports,gW={name:"ImaginaryUpgradesTab",components:{ImaginaryUpgradeButton:fW},data(){return{baseRMCap:new Decimal,capRM:new Decimal,scaleTime:0,capStr:""}},computed:{upgrades:()=>ImaginaryUpgrades.all,lockTooltip:()=>"Проверка требования только предотвращает действия, \n      а не выключает эффекты, делающие его выполнение невозможным."},methods:{update(){this.baseRMCap.copyFrom(MachineHandler.baseRMCap),this.capRM.copyFrom(MachineHandler.hardcapRM),this.scaleTime=MachineHandler.scaleTimeForIM,this.capStr=format(MachineHandler.currentIMCap,2,2)},id(e,t){return 5*(e-1)+t-1}}},bW=gW;var vW=(0,H.A)(bW,cW,uW,!1,null,"4611cb1f",null);const EW=vW.exports;var TW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-challenges-tab"},[i("ChallengeTabHeader"),i("div",[e._v(" Если автоматика Большого Сжатия включена, она сработает немедленно по достижении цели текущего Испытания Бесконечности вне зависимости от настроек. ")]),i("div",[e._v(e._s(e.nextAtDisplay))]),i("ChallengeGrid",{attrs:{challenges:e.challenges,"is-challenge-visible":e.isChallengeVisible},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.challenge;return[i("InfinityChallengeBox",{attrs:{challenge:t}})]}}])})],1)},_W=[],CW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ChallengeBox",{staticClass:"c-challenge-box--infinity",attrs:{name:e.name,"is-unlocked":e.isUnlocked,"is-running":e.isRunning,"is-completed":e.isCompleted},on:{start:function(t){return e.challenge.requestStart()}},scopedSlots:e._u([{key:"top",fn:function(){return[i("DescriptionDisplay",{attrs:{config:e.config}}),e.isRunning?i("EffectDisplay",{attrs:{config:e.config}}):e._e()]},proxy:!0},{key:"bottom",fn:function(){return[i("div",{staticClass:"l-challenge-box__bottom--infinity"},[i("span",[e._v("Цель: "+e._s(e.format(e.config.goal))+" антиматерии")]),i("DescriptionDisplay",{attrs:{config:e.config.reward,title:"Награда:",capitalizationNeeded:!1}}),e.isCompleted?i("EffectDisplay",{attrs:{config:e.config.reward}}):e._e()],1)]},proxy:!0}])})},AW=[],kW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-challenge-box l-challenge-box"},[i("HintText",{staticClass:"l-hint-text--challenge",attrs:{type:"challenges"}},[e._v(" "+e._s(e.name)+" ")]),e._t("top"),i("div",{staticClass:"l-challenge-box__fill"}),i("button",{class:e.buttonClassObject,on:{click:function(t){return e.$emit("start")}}},[e._v(" "+e._s(e.buttonText)+" ")]),e._t("bottom")],2)},wW=[];const SW={name:"ChallengeBox",components:{HintText:cN},props:{name:{type:String,required:!0},isUnlocked:{type:Boolean,required:!0},isRunning:{type:Boolean,required:!0},isCompleted:{type:Boolean,required:!0},lockedAt:{type:Decimal,required:!1,default:void 0},overrideLabel:{type:String,required:!1,default:""}},data(){return{inC1:Boolean,infinities:new Decimal(0)}},computed:{buttonClassObject(){const e=!(this.isCompleted||this.isRunning||this.inC1||this.isUnlocked),t=!this.isUnlocked||this.isRunning||"Исп1"===this.name;return{"o-challenge-btn":!0,"o-challenge-btn--broken":this.overrideLabel.length>0&&"Исп10"!==this.name,"o-challenge-btn--broken-alt":this.overrideLabel.length>0&&"Исп10"===this.name,"o-challenge-btn--running":this.isRunning||this.inC1,"o-challenge-btn--completed":this.isCompleted&&this.isUnlocked,"o-challenge-btn--unlocked":!this.isCompleted&&this.isUnlocked,"o-challenge-btn--locked":e,"o-challenge-btn--unenterable":t}},buttonText(){if(this.overrideLabel.length>0)return this.overrideLabel;if(this.isRunning||this.inC1)return"Запущено";if(this.isCompleted)return"Выполнено";if(this.isUnlocked)return"Начать";const e=void 0===this.lockedAt?"":` (${formatInt(this.infinities)}/${formatInt(this.lockedAt)})`;return`Недоступно${e}`}},methods:{update(){this.inC1="Исп1"===this.name&&!this.isCompleted&&!Player.isInAntimatterChallenge,this.infinities.copyFrom(Currency.infinities)}}},xW=SW;var RW=(0,H.A)(xW,kW,wW,!1,null,"3cd92239",null);const IW=RW.exports,MW={name:"InfinityChallengeBox",components:{ChallengeBox:IW,DescriptionDisplay:V$,EffectDisplay:TN},props:{challenge:{type:Object,required:!0}},data(){return{isUnlocked:!1,isRunning:!1,isCompleted:!1}},computed:{config(){return this.challenge.config},name(){return`ИспБ${this.challenge.id}`}},methods:{update(){const e=this.challenge;this.isUnlocked=e.isUnlocked,this.isRunning=e.isRunning,this.isCompleted=e.isCompleted}}},DW=MW;var PW=(0,H.A)(DW,CW,AW,!1,null,"44b8fadc",null);const UW=PW.exports,GW={name:"InfinityChallengesTab",components:{ChallengeGrid:iq,ChallengeTabHeader:lq,InfinityChallengeBox:UW},data(){return{nextIC:0,showAllChallenges:!1}},computed:{challenges(){return InfinityChallenges.all},nextAtDisplay(){var e;const t=1===(null===(e=this.nextIC)||void 0===e?void 0:e.id),i=InfinityChallenges.nextICUnlockAM;return t?`Первое Испытание Бесконечности разблокируется на ${format(i)} антиматерии.`:void 0===i?"Вы разблокировали все Испытания Бесконечности.":`Следующее Испытание Бесконечности разблокируется на ${format(i)} антиматерии.`}},methods:{update(){this.nextIC=InfinityChallenges.nextIC,this.showAllChallenges=player.options.showAllChallenges},isChallengeVisible(e){return e.isUnlocked||this.showAllChallenges&&PlayerProgress.eternityUnlocked()}}},NW=GW;var BW=(0,H.A)(NW,TW,_W,!1,null,"3a170f91",null);const OW=BW.exports;var LW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.activeComponent,{tag:"component"})},$W=[],HW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-infinity-dim-tab"},[i("div",{staticClass:"c-subtab-option-container"},[e.isEC8Running?e._e():i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Купить всё ")]),e.isAnyAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Переключить всю автоматику ")]):e._e()],1),i("div",[i("p",[e._v(" У вас "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.format(e.infinityPower,2,1)))]),e._v(" Силы Бесконечности, что "),i("br"),e.isEC9Running?e._e():i("span",[e._v(" при возведении в степень "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.format(e.conversionRate,2,3)))])]),e._v(" даёт множитель "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.formatX(e.dimMultiplier,2,1)))]),e._v(" ко всем "),e.isEC9Running?i("span",[e._v("Измерениям Времени по условию 9-го Испытания Вечности.")]):i("span",[e._v("Измерениям Антиматерии.")])])]),e.enslavedCompleted?i("div",{staticClass:"l-infinity-dim-tab__enslaved-reward-container"},[i("button",{staticClass:"c-infinity-dim-tab__tesseract-button",class:{"c-infinity-dim-tab__tesseract-button--disabled":!e.canBuyTesseract,"o-pelle-disabled-pointer":e.creditsClosed},on:{click:e.buyTesseract}},[i("p",[e._v(" Купить Тессеракт ("+e._s(e.tesseractCountString)+") ")]),i("p",[e._v("Увеличить ограничение на количество покупок Измерений на "+e._s(e.format(e.nextDimCapIncrease,2)))]),i("p",[i("b",[e._v("Цена: "+e._s(e.format(e.tesseractCost))+" ОБ")])])])]):e._e(),e.isEnslavedRunning?i("div",[e._v(" Каждое Измерение Бесконечности может быть куплено не более одного раза. ")]):i("div",[e._v(" Каждое Измерение Бесконечности, кроме 8-го, может быть куплено не более "+e._s(e.quantify("раз",e.totalDimCap,2))+". ")]),i("div",[e._v("Вы получаете "+e._s(e.format(e.powerPerSecond,2))+" "+e._s(e.incomeType)+" в секунду.")]),e.isEC8Running?i("b",{staticClass:"l-infinity-dim-tab__ec8-purchases"},[e._v(" "+e._s(e.quantifyInt("покупка осталась",e.EC8PurchasesLeft))+" (см. условие 8-го Испытания Вечности). ")]):e._e(),i("div",{staticClass:"l-dimensions-container"},e._l(8,(function(e){return i("InfinityDimensionRow",{key:e,attrs:{tier:e}})})),1),e.showLockedDimCostNote?i("div",[e._v(" Зажмите клавишу Shift, чтобы показать цены заблокированных Измерений Бесконечности. ")]):e._e()])},FW=[],qW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.canUnlock}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--buy-id o-primary-btn--buy-dim c-dim-tooltip-container",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase||!e.isUnlocked&&e.canUnlock},on:{click:e.buySingleInfinityDimension}},[e._v(" "+e._s(e.costDisplay)+" "),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.capTooltip)+" ")])]),e.isAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryToggleButton",{staticClass:"o-primary-btn--id-auto",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--id-auto",attrs:{enabled:e.isAvailableForPurchase&&e.isUnlocked},on:{click:e.buyMaxInfinityDimension}},[e._v(" Купить все ")])],1)],1)},VW=[];const YW={name:"ClassicInfinityDimensionRow",components:{GenericDimensionRowText:WN,PrimaryButton:Fs,PrimaryToggleButton:$g},props:{tier:{type:Number,required:!0}},data(){return{hasPrevTier:!1,isUnlocked:!1,canUnlock:!1,multiplier:new Decimal(0),baseAmount:0,amount:new Decimal(0),purchases:0,rateOfChange:new Decimal(0),isAutobuyerUnlocked:!1,cost:new Decimal(0),isAvailableForPurchase:!1,isCapped:!1,capIP:new Decimal(0),isAutobuyerOn:!1,isEC8Running:!1,hardcap:InfinityDimensions.HARDCAP_PURCHASES,eternityReached:!1,enslavedRunning:!1}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${this.tier}-е Измерение Бесконечности`},costDisplay(){return this.isUnlocked||this.shiftDown?this.isCapped?"Ограничено":this.showCostTitle?`Цена: ${format(this.cost)} ОБ`:`${format(this.cost)} ОБ`:this.canUnlock?"Разблокировать":`Достигните ${formatPostBreak(InfinityDimension(this.tier).amRequirement)} антиматерии`},hasLongText(){return this.costDisplay.length>20},hardcapPurchases(){return format(this.hardcap,1,1)},capTooltip(){return this.enslavedRunning?`В Реальности Безымянных нельзя купить более ${format(10)} Измерений Бесконечности одного уровня`:this.isCapped?`Ограничение достигнуто на ${format(this.capIP)} ОБ`:`Куплено ${quantifyInt("раз",this.purchases)}`},showRow(){return this.eternityReached||this.isUnlocked||this.canUnlock||this.amount.gt(0)||this.hasPrevTier},showCostTitle(){return this.cost.exponent<1e6}},watch:{isAutobuyerOn(e){Autobuyer.infinityDimension(this.tier).isActive=e}},methods:{update(){const e=this.tier,t=InfinityDimension(e);this.hasPrevTier=1===e||InfinityDimension(e-1).isUnlocked;const i=Autobuyer.infinityDimension(e);this.isUnlocked=t.isUnlocked,this.canUnlock=t.canUnlock,this.multiplier.copyFrom(t.multiplier),this.baseAmount=t.baseAmount,this.purchases=t.purchases,this.amount.copyFrom(t.amount),this.rateOfChange.copyFrom(t.rateOfChange),this.isAutobuyerUnlocked=i.isUnlocked,this.cost.copyFrom(t.cost),this.isAvailableForPurchase=t.isAvailableForPurchase,this.isCapped=t.isCapped,this.isCapped&&(this.capIP.copyFrom(t.hardcapIPAmount),this.hardcap=t.purchaseCap),this.isEC8Running=EternityChallenge(8).isRunning,this.isAutobuyerOn=i.isActive,this.eternityReached=PlayerProgress.eternityUnlocked(),this.enslavedRunning=Enslaved.isRunning},buySingleInfinityDimension(){InfinityDimension(this.tier).buySingle()},buyMaxInfinityDimension(){InfinityDimension(this.tier).buyMax(!1)}}},jW=YW;var WW=(0,H.A)(jW,qW,VW,!1,null,null,null);const XW=WW.exports,zW={name:"ClassicInfinityDimensionsTab",components:{PrimaryButton:Fs,InfinityDimensionRow:XW},data(){return{infinityPower:new Decimal(0),dimMultiplier:new Decimal(0),powerPerSecond:new Decimal(0),incomeType:"",isEC8Running:!1,EC8PurchasesLeft:0,isEC9Running:!1,isEnslavedRunning:!1,isAnyAutobuyerUnlocked:!1,conversionRate:0,nextDimCapIncrease:0,tesseractCost:new Decimal(0),totalDimCap:0,canBuyTesseract:!1,enslavedCompleted:!1,boughtTesseracts:0,extraTesseracts:0,creditsClosed:!1,showLockedDimCostNote:!0}},computed:{tesseractCountString(){const e=this.extraTesseracts>0?` + ${format(this.extraTesseracts,2,2)}`:"";return`${formatInt(this.boughtTesseracts)}${e}`}},methods:{update(){this.showLockedDimCostNote=!InfinityDimension(8).isUnlocked,this.isEC9Running=EternityChallenge(9).isRunning,this.infinityPower.copyFrom(Currency.infinityPower),this.conversionRate=InfinityDimensions.powerConversionRate,this.isEC9Running?this.dimMultiplier.copyFrom(Decimal.pow(Math.max(this.infinityPower.log2(),1),4).max(1)):this.dimMultiplier.copyFrom(this.infinityPower.pow(this.conversionRate).max(1)),this.powerPerSecond.copyFrom(InfinityDimension(1).productionPerRealSecond),this.incomeType=EternityChallenge(7).isRunning?"7-го Измерения Антиматерии":"Силы Бесконечности",this.isEC8Running=EternityChallenge(8).isRunning,this.isEC8Running&&(this.EC8PurchasesLeft=player.eterc8ids),this.isEnslavedRunning=Enslaved.isRunning,this.isAnyAutobuyerUnlocked=Autobuyer.infinityDimension(1).isUnlocked,this.nextDimCapIncrease=Tesseracts.nextTesseractIncrease,this.tesseractCost.copyFrom(Tesseracts.nextCost),this.totalDimCap=InfinityDimensions.totalDimCap,this.canBuyTesseract=Tesseracts.canBuyTesseract,this.enslavedCompleted=Enslaved.isCompleted,this.boughtTesseracts=Tesseracts.bought,this.extraTesseracts=Tesseracts.extra,this.creditsClosed=GameEnd.creditsEverClosed},maxAll(){InfinityDimensions.buyMax()},toggleAllAutobuyers(){toggleAllInfDims()},buyTesseract(){Tesseracts.buyTesseract()}}},KW=zW;var QW=(0,H.A)(KW,HW,FW,!1,null,null,null);const JW=QW.exports;var ZW=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-infinity-dim-tab"},[i("div",{staticClass:"c-subtab-option-container"},[e.isEC8Running?e._e():i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Купить всё ")]),e.isAnyAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Переключить всю автоматику ")]):e._e()],1),i("div",[i("p",[e._v(" У вас "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.format(e.infinityPower,2,1)))]),e._v(" Силы Бесконечности, что "),i("br"),e.isEC9Running?e._e():i("span",[e._v(" при возведении в степень "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.format(e.conversionRate,2,3)))])]),e._v(" даёт множитель "),i("span",{staticClass:"c-infinity-dim-description__accent"},[e._v(e._s(e.formatX(e.dimMultiplier,2,1)))]),e._v(" ко всем "),e.isEC9Running?i("span",[e._v("Измерениям Времени по условию 9-го Испытания Вечности.")]):i("span",[e._v("Измерениям Антиматерии.")])])]),e.enslavedCompleted?i("div",{staticClass:"l-infinity-dim-tab__enslaved-reward-container"},[i("button",{staticClass:"c-infinity-dim-tab__tesseract-button",class:{"c-infinity-dim-tab__tesseract-button--disabled":!e.canBuyTesseract,"o-pelle-disabled-pointer":e.creditsClosed},on:{click:e.buyTesseract}},[i("p",[e._v(" Купить Тессеракт ("+e._s(e.tesseractCountString)+") ")]),i("p",[e._v("Увеличить ограничение на количество покупок Измерений на "+e._s(e.format(e.nextDimCapIncrease,2)))]),i("p",[i("b",[e._v("Цена: "+e._s(e.format(e.tesseractCost))+" ОБ")])])])]):e._e(),e.isEnslavedRunning?i("div",[e._v(" Каждое Измерение Бесконечности может быть куплено не более одного раза. ")]):i("div",[e._v(" Каждое Измерение Бесконечности, кроме 8-го, может быть куплено не более "+e._s(e.quantify("раз",e.totalDimCap,2))+". ")]),i("div",[e._v("Вы получаете "+e._s(e.format(e.powerPerSecond,2))+" "+e._s(e.incomeType)+" в секунду.")]),e.isEC8Running?i("b",{staticClass:"l-infinity-dim-tab__ec8-purchases"},[e._v(" "+e._s(e.quantifyInt("покупка осталась",e.EC8PurchasesLeft))+" (см. условие 8-го Испытания Вечности). ")]):e._e(),i("div",{staticClass:"l-dimensions-container"},e._l(8,(function(e){return i("InfinityDimensionRow",{key:e,attrs:{tier:e}})})),1),e.showLockedDimCostNote?i("div",[e._v(" Зажмите клавишу Shift, чтобы показать цены заблокированных Измерений Бесконечности. ")]):e._e()])},eX=[],tX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-row-infinity-dim l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.canUnlock}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container c-modern-dim-tooltip-container"},[i("div",{staticClass:"c-modern-dim-purchase-count-tooltip"},[e._v(" "+e._s(e.capTooltip)+" ")]),i("PrimaryButton",{staticClass:"o-primary-btn--buy-id o-primary-btn o-primary-btn--new o-primary-btn--buy-dim",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase||!e.isUnlocked&&e.canUnlock},on:{click:e.buySingleInfinityDimension}},[e._v(" "+e._s(e.costDisplay)+" ")]),e.isAutobuyerUnlocked&&!e.isEC8Running?i("PrimaryToggleButton",{staticClass:"o-primary-btn--id-auto",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--id-auto",attrs:{enabled:e.isAvailableForPurchase},on:{click:e.buyMaxInfinityDimension}},[e._v(" Купить все ")])],1)],1)},iX=[];const aX={name:"ModernInfinityDimensionRow",components:{GenericDimensionRowText:WN,PrimaryButton:Fs,PrimaryToggleButton:$g},props:{tier:{type:Number,required:!0}},data(){return{hasPrevTier:!1,isUnlocked:!1,canUnlock:!1,multiplier:new Decimal(0),baseAmount:0,amount:new Decimal(0),purchases:0,rateOfChange:new Decimal(0),isAutobuyerUnlocked:!1,cost:new Decimal(0),isAvailableForPurchase:!1,isCapped:!1,capIP:new Decimal(0),isAutobuyerOn:!1,isEC8Running:!1,hardcap:InfinityDimensions.HARDCAP_PURCHASES,eternityReached:!1,enslavedRunning:!1}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${this.tier}-е Измерение Бесконечности`},costDisplay(){return this.isUnlocked||this.shiftDown?this.isCapped?"Ограничено":this.showCostTitle?`Цена: ${format(this.cost)} ОБ`:`${format(this.cost)} ОБ`:this.canUnlock?"Разблокировать":`Достигните ${formatPostBreak(InfinityDimension(this.tier).amRequirement)} антиматерии`},hasLongText(){return this.costDisplay.length>15},capTooltip(){return this.enslavedRunning?`В Реальности Безымянных нельзя купить более ${format(10)} Измерений Бесконечности одного уровня`:this.isCapped?`Ограничение достигнуто на ${format(this.capIP)} ОБ`:`Куплено ${quantifyInt("раз",this.purchases)}`},showRow(){return this.eternityReached||this.isUnlocked||this.canUnlock||this.amount.gt(0)||this.hasPrevTier},showCostTitle(){return this.cost.exponent<1e6}},watch:{isAutobuyerOn(e){Autobuyer.infinityDimension(this.tier).isActive=e}},methods:{update(){const e=this.tier,t=InfinityDimension(e);this.hasPrevTier=1===e||InfinityDimension(e-1).isUnlocked,this.isUnlocked=t.isUnlocked,this.canUnlock=t.canUnlock,this.multiplier.copyFrom(t.multiplier),this.baseAmount=t.baseAmount,this.purchases=t.purchases,this.amount.copyFrom(t.amount),this.rateOfChange.copyFrom(t.rateOfChange),this.isAutobuyerUnlocked=Autobuyer.infinityDimension(e).isUnlocked,this.cost.copyFrom(t.cost),this.isAvailableForPurchase=t.isAvailableForPurchase,this.isCapped=t.isCapped,this.isCapped&&(this.capIP.copyFrom(t.hardcapIPAmount),this.hardcap=t.purchaseCap),this.isEC8Running=EternityChallenge(8).isRunning,this.isAutobuyerOn=Autobuyer.infinityDimension(e).isActive,this.eternityReached=PlayerProgress.eternityUnlocked(),this.enslavedRunning=Enslaved.isRunning},buySingleInfinityDimension(){InfinityDimension(this.tier).buySingle()},buyMaxInfinityDimension(){InfinityDimension(this.tier).buyMax(!1)}}},nX=aX;var sX=(0,H.A)(nX,tX,iX,!1,null,"3417fa3c",null);const rX=sX.exports,oX={name:"ModernInfinityDimensionsTab",components:{PrimaryButton:Fs,InfinityDimensionRow:rX},data(){return{infinityPower:new Decimal(0),dimMultiplier:new Decimal(0),powerPerSecond:new Decimal(0),incomeType:"",isEC8Running:!1,EC8PurchasesLeft:0,isEC9Running:!1,isEnslavedRunning:!1,isAnyAutobuyerUnlocked:!1,conversionRate:0,nextDimCapIncrease:0,tesseractCost:new Decimal(0),totalDimCap:0,canBuyTesseract:!1,enslavedCompleted:!1,boughtTesseracts:0,extraTesseracts:0,creditsClosed:!1,showLockedDimCostNote:!0}},computed:{sacrificeBoostDisplay(){return formatX(this.sacrificeBoost,2,2)},sacrificeTooltip(){return`Boosts 8th Antimatter Dimension by ${this.sacrificeBoostDisplay}`},tesseractCountString(){const e=this.extraTesseracts>0?` + ${format(this.extraTesseracts,2,2)}`:"";return`${formatInt(this.boughtTesseracts)}${e}`}},methods:{update(){this.showLockedDimCostNote=!InfinityDimension(8).isUnlocked,this.isEC9Running=EternityChallenge(9).isRunning,this.infinityPower.copyFrom(Currency.infinityPower),this.conversionRate=InfinityDimensions.powerConversionRate,this.isEC9Running?this.dimMultiplier.copyFrom(Decimal.pow(Math.max(this.infinityPower.log2(),1),4).max(1)):this.dimMultiplier.copyFrom(this.infinityPower.pow(this.conversionRate).max(1)),this.powerPerSecond.copyFrom(InfinityDimension(1).productionPerSecond),this.incomeType=EternityChallenge(7).isRunning?"7-го Измерения Антиматерии":"Силы Бесконечности",this.isEC8Running=EternityChallenge(8).isRunning,this.isEC8Running&&(this.EC8PurchasesLeft=player.eterc8ids),this.isEnslavedRunning=Enslaved.isRunning,this.isAnyAutobuyerUnlocked=Autobuyer.infinityDimension(1).isUnlocked,this.nextDimCapIncrease=Tesseracts.nextTesseractIncrease,this.tesseractCost.copyFrom(Tesseracts.nextCost),this.totalDimCap=InfinityDimensions.totalDimCap,this.canBuyTesseract=Tesseracts.canBuyTesseract,this.enslavedCompleted=Enslaved.isCompleted,this.boughtTesseracts=Tesseracts.bought,this.extraTesseracts=Tesseracts.extra,this.creditsClosed=GameEnd.creditsEverClosed},maxAll(){InfinityDimensions.buyMax()},toggleAllAutobuyers(){toggleAllInfDims()},buyTesseract(){Tesseracts.buyTesseract()}}},lX=oX;var cX=(0,H.A)(lX,ZW,eX,!1,null,null,null);const uX=cX.exports,dX={name:"InfinityDimensionsTab",components:{ClassicInfinityDimensionsTab:JW,ModernInfinityDimensionsTab:uX},computed:{activeComponent(){return this.$viewModel.newUI?"ModernInfinityDimensionsTab":"ClassicInfinityDimensionsTab"}}},hX=dX;var pX=(0,H.A)(hX,LW,$W,!1,null,null,null);const mX=pX.exports;var yX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-infinity-upgrades-tab"},[e.chargeUnlocked?i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{class:e.disChargeClassObject,on:{click:function(t){e.disCharge=!e.disCharge}}},[e._v(" Сбросить Заряженные Улучшения Бесконечности на реальности ")])],1):e._e(),e.chargeUnlocked?i("div",[e._v(" Вы зарядили "+e._s(e.formatInt(e.chargesUsed))+"/"+e._s(e.quantifyInt("Улучшения",e.totalCharges))+" Бесконечности. При зарядке Улучшения Бесконечности его эффект меняется. "),i("br"),e._v(" Зажмите клавишу Shift, чтобы показать Заряженные Улучшения Бесконечности. Вы можете сбросить их на реальности. ")]):e._e(),e.isUseless?i("div",[e._v(" Заряженные Улучшения Бесконечности недоступны в Обречении. ")]):e._e(),i("br"),e._v(" В каждом столбце улучшения покупаются по порядку сверху вниз. "),i("br"),i("div",{staticClass:"l-infinity-upgrade-grid l-infinity-upgrades-tab__grid"},e._l(e.grid,(function(t,a){return i("div",{key:a,staticClass:"c-infinity-upgrade-grid__column"},[e._l(t,(function(t){return i("InfinityUpgradeButton",{key:t.id,class:e.btnClassObject(a),attrs:{upgrade:t}})})),i("div",{staticClass:"c-infinity-upgrade-grid__column--background",style:e.styleOfColumnBg[a]})],2)})),0),e.bottomRowUnlocked?i("div",{staticClass:"l-infinity-upgrades-bottom-row"},[i("IpMultiplierButton",{staticClass:"l-infinity-upgrades-tab__mult-btn"}),i("InfinityUpgradeButton",{class:e.btnClassObject(1),attrs:{upgrade:e.offlineIpUpgrade}})],1):e._e(),e.eternityUnlocked&&e.bottomRowUnlocked?i("div",[e._v(" Удвоитель Очков Бесконечности дорожает быстрее "),i("br"),e._v(" после "+e._s(e.formatPostBreak(e.ipMultSoftCap))+" Очков Бесконечности и не может быть куплен после "+e._s(e.formatPostBreak(e.ipMultHardCap))+" Очков Бесконечности. ")]):e._e()])},fX=[],gX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group"},[i("InfinityUpgradeButton",{staticClass:"o-infinity-upgrade-btn--multiplier",attrs:{upgrade:e.upgrade}}),i("PrimaryButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",on:{click:function(t){return e.buyMaxIPMult()}}},[e._v(" Купить все ")]),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--small-spoon",attrs:{label:"Автоматика удвоителей ОБ:"},model:{value:e.isAutobuyerActive,callback:function(t){e.isAutobuyerActive=t},expression:"isAutobuyerActive"}}):e._e()],1)},bX=[];const vX={name:"IpMultiplierButton",components:{PrimaryButton:Fs,PrimaryToggleButton:$g,InfinityUpgradeButton:fH},data(){return{isAutobuyerActive:!1,isAutoUnlocked:!1,isCapped:!1}},computed:{upgrade(){return InfinityUpgrade.ipMult}},watch:{isAutobuyerActive(e){Autobuyer.ipMult.isActive=e}},methods:{update(){this.isAutoUnlocked=Autobuyer.ipMult.isUnlocked,this.isAutobuyerActive=Autobuyer.ipMult.isActive,this.isCapped=this.upgrade.isCapped},buyMaxIPMult(){InfinityUpgrade.ipMult.buyMax()}}},EX=vX;var TX=(0,H.A)(EX,gX,bX,!1,null,"0e941fac",null);const _X=TX.exports,CX={name:"InfinityUpgradesTab",components:{PrimaryButton:Fs,InfinityUpgradeButton:fH,IpMultiplierButton:_X},data(){return{isUseless:!1,chargeUnlocked:!1,totalCharges:0,chargesUsed:0,disCharge:!1,ipMultSoftCap:0,ipMultHardCap:0,eternityUnlocked:!1,bottomRowUnlocked:!1,styleOfColumnBg:void 0}},computed:{grid(){return[[InfinityUpgrade.totalTimeMult,InfinityUpgrade.dim18mult,InfinityUpgrade.dim36mult,InfinityUpgrade.resetBoost],[InfinityUpgrade.buy10Mult,InfinityUpgrade.dim27mult,InfinityUpgrade.dim45mult,InfinityUpgrade.galaxyBoost],[InfinityUpgrade.thisInfinityTimeMult,InfinityUpgrade.unspentIPMult,InfinityUpgrade.dimboostMult,InfinityUpgrade.ipGen],[InfinityUpgrade.skipReset1,InfinityUpgrade.skipReset2,InfinityUpgrade.skipReset3,InfinityUpgrade.skipResetGalaxy]]},allColumnUpgrades(){return this.grid.flat()},disChargeClassObject(){return{"o-primary-btn--subtab-option":!0,"o-primary-btn--charged-respec-active":this.disCharge}},offlineIpUpgrade:()=>InfinityUpgrade.ipOffline},watch:{disCharge(e){player.celestials.ra.disCharge=e}},created(){this.on$(GAME_EVENT.INFINITY_UPGRADE_BOUGHT,(()=>this.setStyleOfColumnBg())),this.on$(GAME_EVENT.INFINITY_UPGRADE_CHARGED,(()=>this.setStyleOfColumnBg())),this.on$(GAME_EVENT.INFINITY_UPGRADES_DISCHARGED,(()=>this.setStyleOfColumnBg())),this.setStyleOfColumnBg()},methods:{update(){this.isUseless=Pelle.isDoomed,this.chargeUnlocked=Ra.unlocks.chargedInfinityUpgrades.canBeApplied&&!Pelle.isDoomed,this.totalCharges=Ra.totalCharges,this.chargesUsed=Ra.totalCharges-Ra.chargesLeft,this.disCharge=player.celestials.ra.disCharge,this.ipMultSoftCap=GameDatabase.infinity.upgrades.ipMult.costIncreaseThreshold,this.ipMultHardCap=GameDatabase.infinity.upgrades.ipMult.costCap,this.eternityUnlocked=PlayerProgress.current.isEternityUnlocked,this.bottomRowUnlocked=Achievement(41).isUnlocked},btnClassObject(e){const t={"l-infinity-upgrade-grid__cell":!0};return e>0&&(t[`o-infinity-upgrade-btn--color-${e+1}`]=!0),t},getColumnColor(e){return e.isCharged?"var(--color-teresa--base)":e.isBought?"var(--color-infinity)":"transparent"},setStyleOfColumnBg(){this.styleOfColumnBg=this.grid.map((e=>({background:`linear-gradient(to bottom,\n          ${this.getColumnColor(e[0])} 15%,\n          ${this.getColumnColor(e[1])} 35% 40%,\n          ${this.getColumnColor(e[2])} 60% 65%,\n          ${this.getColumnColor(e[3])} 85% 100%`})))}}},AX=CX;var kX=(0,H.A)(AX,yX,fX,!1,null,"4b37431e",null);const wX=kX.exports;var SX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-laitela-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"laitela"}}),i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:function(t){return e.showLaitelaHowTo()}}},[e._v(" Нажмите для просмотра информации о Лайтеле ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Купить все Измерения Тёмной Материи ")])],1),i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" У вас "),i("span",{style:e.styleObject},[e._v(e._s(e.format(e.darkMatter,2)))]),e._v(" Тёмной Материи"),e.isDMCapped?i("span",[e._v(" (ограничено)")]):e._e(),e._v(". "),e.isDMCapped?e._e():i("span",[e._v("(Средний прирост: "+e._s(e.format(e.darkMatterGain,2,2))+"/с)")])]),i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" Количество вашей Тёмной Материи достигало максимума в "),i("span",{style:e.styleObject},[e._v(e._s(e.format(e.maxDarkMatter,2)))]),e.isDoomed?e._e():i("span",[e._v(", что увеличивает ваши значения континуума на "+e._s(e.formatPercents(e.matterExtraPurchasePercentage,2)))]),e._v(". ")]),i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" На Измерения Тёмной Материи не влияет хранение реального времени. ")]),e.singularitiesUnlocked?e._e():i("h2",{staticClass:"c-laitela-singularity-container"},[e._v(" Сингулярность разблокируется через "+e._s(e.singularityWaitTime)+". ("+e._s(e.format(e.darkEnergy,2,2))+"/"+e._s(e.format(e.singularityCap,2))+" Тёмной Энергии) ")]),e.singularitiesUnlocked?i("SingularityPane"):e._e(),e.autobuyersUnlocked?i("LaitelaAutobuyerPane"):e._e(),i("div",{staticClass:"l-laitela-mechanics-container"},[i("LaitelaRunButton"),i("div",[i("DarkMatterDimensionGroup"),e.showAnnihilation?i("AnnihilationButton"):e._e()],1),e.singularityPanelVisible?i("SingularityMilestonePane"):e._e()],1)],1)},xX=[],RX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-laitela-annihilation-container"},[e.darkMatter.lt(e.matterRequirement)?i("button",{staticClass:"l-laitela-annihilation-button"},[e._v(" Для аннигиляции требуется "+e._s(e.format(e.matterRequirement,2))+" Тёмной Материи ")]):i("button",{staticClass:"l-laitela-annihilation-button c-laitela-annihilation-button",on:{click:e.annihilate}},[i("b",[e._v("Аннигилировать ваши Измерения Тёмной Материи")])]),i("br"),i("br"),e.darkMatterMult>1?i("span",[e._v(" Множитель ко всем Измерениям Тёмной Материи: "),i("b",[e._v(e._s(e.formatX(e.darkMatterMult,2,2)))]),i("br"),i("br"),e._v(" Аннигиляция сбросит количество ваших Тёмной Материи и Измерений Тёмной Материи, но увеличит ваш множитель аннигиляции на "),i("b",[e._v(e._s(e.format(e.darkMatterMultGain,2,2)))]),e._v(". "),i("br"),e._v(" (умножит на "),i("b",[e._v(e._s(e.format(e.darkMatterMultRatio,2,2)))]),e._v(") "),e.autobuyerUnlocked?i("span",[i("br"),i("br"),e._v(" Автоматическая аннигиляция: при увеличении множителя на "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoAnnihilationInput,expression:"autoAnnihilationInput"}],staticClass:"c-small-autobuyer-input c-laitela-annihilation-input",style:e.annihilationInputStyle,attrs:{type:"text"},domProps:{value:e.autoAnnihilationInput},on:{change:function(t){return e.handleAutoAnnihilationInputChange()},input:function(t){t.target.composing||(e.autoAnnihilationInput=t.target.value)}}}),e._v(" . ")]):e._e()]):i("span",[e._v(" Аннигиляция сбросит количество ваших Тёмной Материи и Измерений Тёмной Материи, но даст вам множитель "),i("b",[e._v(e._s(e.formatX(1+e.darkMatterMultGain,2,2)))]),e._v(" ко всем Измерениям Тёмной Материи. ")])])},IX=[];const MX={name:"AnnihilationButton",data(){return{darkMatter:new Decimal(0),darkMatterMult:0,darkMatterMultGain:0,autobuyerUnlocked:!1,annihilationButtonVisible:!1,matterRequirement:0,darkMatterMultRatio:0,autoAnnihilationInput:player.auto.annihilation.multiplier,isEnabled:!0}},computed:{annihilationInputStyle(){return{"background-color":this.isEnabled?"":"var(--color-bad)"}}},methods:{update(){this.darkMatter.copyFrom(Currency.darkMatter),this.darkMatterMult=Laitela.darkMatterMult,this.darkMatterMultGain=Laitela.darkMatterMultGain,this.autobuyerUnlocked=Autobuyer.annihilation.isUnlocked,this.annihilationButtonVisible=Laitela.canAnnihilate||this.autobuyerUnlocked,this.matterRequirement=Laitela.annihilationDMRequirement,this.darkMatterMultRatio=Laitela.darkMatterMultRatio,this.isEnabled=player.auto.annihilation.isActive},annihilate(){Laitela.annihilate()},handleAutoAnnihilationInputChange(){const e=parseFloat(this.autoAnnihilationInput);isNaN(e)?this.autoAnnihilationInput=player.auto.annihilation.multiplier:player.auto.annihilation.multiplier=e}}},DX=MX;var PX=(0,H.A)(DX,RX,IX,!1,null,null,null);const UX=PX.exports;var GX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._l(4,(function(e){return i("DarkMatterDimensionRow",{key:e,attrs:{tier:e}})})),1)},NX=[],BX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("div",{staticClass:"c-dark-matter-dimension-container"},[i("div",{staticClass:"o-dark-matter-dimension-amount"},[e._v(" "+e._s(e.name)),e.hasAscended?i("span",[e._v(" "+e._s(e.ascensionText))]):e._e(),e._v(": "+e._s(e.format(e.amount,2))+" ")]),i("div",[e._v(" Средний прирост: "+e._s(e.format(e.productionPerSecond,2,2))+"/с (+"+e._s(e.formatPercents(e.percentPerSecond,2,2))+"/с) ")]),i("div",{staticClass:"c-dark-matter-dimension-buttons"},[i("button",{class:e.intervalClassObject,on:{click:e.handleIntervalClick,mouseover:function(t){return e.hoverState(!0)},mouseleave:function(t){return e.hoverState(!1)}}},[e.isIntervalCapped?i("span",{attrs:{"ach-tooltip":e.ascensionTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]):e._e(),i("span",{domProps:{innerHTML:e._s(e.intervalText)}})]),i("button",{class:e.darkMatterClassObject,on:{click:e.buyPowerDM}},[i("span",{domProps:{innerHTML:e._s(e.darkMatterText)}})]),i("button",{class:e.darkEnergyClassObject,on:{click:e.buyPowerDE}},[i("span",{domProps:{innerHTML:e._s(e.darkEnergyText)}})])]),e.interval>200?i("div",[e._v(" Таймер: "+e._s(e.formatInt(e.timer))+"мс ("+e._s(e.formatPercents(e.timerPercent,1))+") ")]):i("div",[e._v(" "+e._s(e.format(1e3/e.interval,2,2))+" тиков в секунду ")]),i("div",[e._v(" Производство Тёмной Энергии: "+e._s(e.format(e.darkEnergyPerSecond,2,4))+"/с ("+e._s(e.formatPercents(e.portionDE,1))+" от общего) ")])]):e._e()},OX=[];const LX={name:"DarkMatterDimensionRow",props:{tier:{type:Number,required:!0}},data(){return{isUnlocked:!1,ascension:0,hasAscended:!1,powerDMPerAscension:0,interval:0,powerDM:new Decimal(0),powerDE:0,intervalCost:0,powerDMCost:0,powerDECost:0,amount:new Decimal(0),canBuyInterval:!1,canBuyPowerDM:!1,canBuyPowerDE:!1,isIntervalCapped:!1,timer:0,timerPecent:0,intervalAscensionBump:1e4,intervalAfterAscension:0,darkEnergyPerSecond:0,portionDE:0,productionPerSecond:new Decimal(0),percentPerSecond:0,hoverOverAscension:!1}},computed:{name(){return`${this.tier}-е Измерение Тёмной Материи`},ascensionText(){return`(⯅${formatInt(this.ascension)})`},intervalClassObject(){return{"o-dark-matter-dimension-button":!0,"o-dark-matter-dimension-button--available":this.canBuyInterval,"o-dark-matter-dimension-button--ascend":this.isIntervalCapped}},darkMatterClassObject(){return{"o-dark-matter-dimension-button":!0,"o-dark-matter-dimension-button--available":this.hoverOverAscension||this.canBuyPowerDM,"o-dark-matter-dimension-button--accent":this.hoverOverAscension}},darkEnergyClassObject(){return{"o-dark-matter-dimension-button":!0,"o-dark-matter-dimension-button--available":this.hoverOverAscension||this.canBuyPowerDE,"o-dark-matter-dimension-button--accent":this.hoverOverAscension}},intervalText(){const e=this.hoverOverAscension?this.intervalAfterAscension:this.interval,t=e>1e3?`${format(e/1e3,2,2)}с`:`${format(e,2,2)}мс`,i=this.hoverOverAscension?`<b>${t}</b>`:t;let a;return a=this.isIntervalCapped?this.hoverOverAscension?"При вознесении ➜":"Вознесение!":`Цена: ${this.formatDMCost(this.intervalCost)} ТМ`,` ${i}<br>${a}`},product(){return 1==this.tier?"ТМ":"ИТМ"+(this.tier-1)},darkMatterText(){const e=this.powerDM.times(this.hoverOverAscension?this.powerDMPerAscension:1),t=`${formatX(e,2,2)} ${this.product}`,i=this.hoverOverAscension?`<b>${t}</b>`:t,a=this.powerDMPerAscension*this.interval/this.intervalAfterAscension,n=this.hoverOverAscension?`${formatX(a,2,2)}/с`:`Цена: ${this.formatDMCost(this.powerDMCost)} ТМ`;return`${i}<br>${n}`},darkEnergyText(){const e=this.powerDE*(this.hoverOverAscension?POWER_DE_PER_ASCENSION:1),t=`+${format(e,2,4)} ТЭ`,i=this.hoverOverAscension?`<b>${t}</b>`:t,a=POWER_DE_PER_ASCENSION*this.interval/this.intervalAfterAscension,n=this.hoverOverAscension?`${formatX(a,2,2)}/с`:`Цена: ${this.formatDMCost(this.powerDECost)} ТМ`;return`${i}<br>${n}`},ascensionTooltip(){return`Интервал ограничен ${formatInt(DarkMatterDimension(this.tier).intervalPurchaseCap)}мс.\n        При вознесении интервал возрастает в ${formatInt(this.intervalAscensionBump)} раз,\n        производство ${this.product} - в ${formatInt(this.powerDMPerAscension)}, а ТЭ - в ${formatInt(POWER_DE_PER_ASCENSION)}.`}},methods:{update(){const e=DarkMatterDimension(this.tier);this.isUnlocked=e.isUnlocked,this.ascension=e.ascensions,this.hasAscended=this.ascension>0,this.powerDMPerAscension=e.powerDMPerAscension,this.interval=e.interval,this.powerDM.copyFrom(e.powerDM),this.powerDE=e.powerDE,this.intervalCost=e.intervalCost,this.powerDMCost=e.powerDMCost,this.powerDECost=e.powerDECost,this.amount.copyFrom(e.amount),this.canBuyInterval=e.canBuyInterval,this.canBuyPowerDM=e.canBuyPowerDM,this.canBuyPowerDE=e.canBuyPowerDE,this.isIntervalCapped=e.interval<=e.intervalPurchaseCap,this.timer=e.timeSinceLastUpdate,this.timerPercent=this.timer/this.interval,this.intervalAscensionBump=SingularityMilestone.ascensionIntervalScaling.effectOrDefault(1200),this.intervalAfterAscension=e.intervalAfterAscension,this.darkEnergyPerSecond=e.productionPerSecond,this.portionDE=this.darkEnergyPerSecond/Currency.darkEnergy.productionPerSecond,this.productionPerSecond=this.dimensionProduction(this.tier),this.percentPerSecond=Decimal.divide(this.productionPerSecond,this.amount).toNumber(),this.isIntervalCapped||(this.hoverOverAscension=!1)},handleIntervalClick(){this.isIntervalCapped?DarkMatterDimension(this.tier).ascend():DarkMatterDimension(this.tier).buyInterval()},buyPowerDM(){DarkMatterDimension(this.tier).buyPowerDM()},buyPowerDE(){DarkMatterDimension(this.tier).buyPowerDE()},formatDMCost(e){return e.gt(Number.MAX_VALUE)?Notations.current.infinite:format(e,2)},dimensionProduction(e){if(4===e)return SingularityMilestone.dim4Generation.effectOrDefault(0);const t=DarkMatterDimension(e+1);return t.amount.times(t.powerDM).divide(t.interval).times(1e3)},hoverState(e){this.isIntervalCapped&&(this.hoverOverAscension=e)}}},$X=LX;var HX=(0,H.A)($X,BX,OX,!1,null,null,null);const FX=HX.exports,qX={name:"DarkMatterDimensionGroup",components:{DarkMatterDimensionRow:FX}},VX=qX;var YX=(0,H.A)(VX,GX,NX,!1,null,null,null);const jX=YX.exports;var WX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasDimension||e.hasAscension||e.hasSingularity||e.hasAnnihilated?i("div",{staticClass:"c-laitela-singularity-container"},[e.hasDimension?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Автоматика ИТМ:",on:e.autobuyStr},model:{value:e.dimension,callback:function(t){e.dimension=t},expression:"dimension"}}):e._e(),e.hasAscension?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Автоматика вознесения:",on:e.autoAscendStr},model:{value:e.ascension,callback:function(t){e.ascension=t},expression:"ascension"}}):e._e(),e.hasSingularity?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Автоматика сжатия:",on:e.autoSingularityStr},model:{value:e.singularity,callback:function(t){e.singularity=t},expression:"singularity"}}):e._e(),e.hasAnnihilated?i("PrimaryToggleButton",{staticClass:"c-laitela-automation-toggle",attrs:{label:"Автоматика аннигиляции:"},model:{value:e.annihilation,callback:function(t){e.annihilation=t},expression:"annihilation"}}):e._e()],1):e._e()},XX=[];const zX={name:"LaitelaAutobuyerPane",components:{PrimaryToggleButton:$g},data(){return{hasDimension:!1,hasAscension:!1,hasSingularity:!1,hasAnnihilated:!1,dimension:!1,ascension:!1,singularity:!1,annihilation:!1,maxAutobuy:0,maxAutoAscend:0,autoSingularityFactor:0}},computed:{autobuyStr(){return 4===this.maxAutobuy?"ВКЛ. (все ИТМ)":`ВКЛ. (до ИТМ${this.maxAutobuy})`},autoAscendStr(){return 4===this.maxAutoAscend?"ВКЛ. (все ИТМ)":`ВКЛ. (до ИТМ${this.maxAutoAscend})`},autoSingularityStr(){return 1===this.autoSingularityFactor?"При требуемом количестве ТЭ":`При количестве ТЭ в ${format(this.autoSingularityFactor,2,2)} раза больше требуемого`}},watch:{dimension(e){player.auto.darkMatterDims.isActive=e},ascension(e){player.auto.ascension.isActive=e},singularity(e){player.auto.singularity.isActive=e},annihilation(e){player.auto.annihilation.isActive=e}},methods:{update(){this.hasDimension=Autobuyer.darkMatterDims.isUnlocked,this.hasAscension=Autobuyer.darkMatterDimsAscension.isUnlocked,this.hasSingularity=Autobuyer.singularity.isUnlocked,this.hasAnnihilated=Autobuyer.annihilation.isUnlocked;const e=player.auto;this.dimension=e.darkMatterDims.isActive,this.ascension=e.ascension.isActive,this.singularity=e.singularity.isActive,this.annihilation=e.annihilation.isActive,this.maxAutobuy=SingularityMilestone.darkDimensionAutobuyers.effectValue,this.maxAutoAscend=SingularityMilestone.ascensionAutobuyers.effectValue,this.autoSingularityFactor=SingularityMilestone.autoCondense.effectValue}}},KX=zX;var QX=(0,H.A)(KX,WX,XX,!1,null,null,null);const JX=QX.exports;var ZX=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.classObject()},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[i("b",[e._v("Запустить Реальность Лайтелы")])]),i("div",{class:e.runButtonClassObject(),on:{click:e.startRun}}),e.realityReward>1?i("div",[i("b",[e._v(" Множитель "+e._s(e.formatX(e.realityReward,2,2))+" ко всем Измерениям Тёмной Материи. ")]),e.maxDimTier>0?i("span",[i("br"),i("br"),e._v(" "+e._s(e.completionTime)+" "),i("br"),e.maxDimTier<=7?i("span",[i("b",[e._v("Действующих уровней измерений: "+e._s(e.formatInt(e.maxDimTier)))])]):e._e(),i("br"),i("br"),e._v(" Лучший набор глифов: "),i("GlyphSetPreview",{attrs:{text:"Глифы, использованные при рекордном выполнении Реальности Лайтелы","text-hidden":!0,"force-name-color":!1,glyphs:e.bestSet}})],1):i("span",[i("br"),i("b",[e._v(" Также вы получили множитель "+e._s(e.formatX(8))+" к производству Тёмной Энергии. ")]),i("br"),i("br"),e._v(" Реальность Лайтелы полностью дестабилизирована. Улучшить полученную за неё награду невозможно. ")]),i("br")]):e._e(),e._l(e.runEffects,(function(t,a){return i("div",{key:a+"-laitela-run-desc"+e.maxDimTier},[e._v(" "+e._s(t)+" "),i("br")])})),i("br"),i("div",[e._v(e._s(e.runDescription))])],2)},ez=[];const tz={name:"LaitelaRunButton",components:{GlyphSetPreview:_A},data(){return{realityTime:0,maxDimTier:0,isRunning:!1,realityReward:1,singularitiesUnlocked:!1,bestSet:[],tierNotCompleted:!0}},computed:{completionTime(){return this.tierNotCompleted?"Не выполнена на этом слое":`Рекордное время выполнения: ${TimeSpan.fromSeconds(this.realityTime).toStringShort()}`},runEffects(){return GameDatabase.celestials.descriptions[5].effects().split("\n")},runDescription(){return GameDatabase.celestials.descriptions[5].description()},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.realityTime=player.celestials.laitela.fastestCompletion,this.maxDimTier=Laitela.maxAllowedDimension,this.realityReward=Laitela.realityReward,this.isRunning=Laitela.isRunning,this.singularitiesUnlocked=Currency.singularities.gt(0),this.bestSet=Glyphs.copyForRecords(player.records.bestReality.laitelaSet),this.tierNotCompleted=3600===this.realityTime||300===this.realityTime&&this.maxDimTier<8},startRun(){this.isDoomed||Modal.celestials.show({name:"Лайтелы",number:5})},classObject(){return{"o-laitela-run-button":!0,"o-laitela-run-button--large":!this.singularitiesUnlocked}},runButtonClassObject(){return{"o-laitela-run-button__icon":!0,"o-laitela-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}}}},iz=tz;var az=(0,H.A)(iz,ZX,ez,!1,null,null,null);const nz=az.exports;var sz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-laitela-next-milestones"},[i("div",{staticClass:"o-laitela-singularity-modal-button",class:e.classObject,attrs:{onclick:"Modal.singularityMilestones.show()"}},[e._v(" Показать все этапы ")]),e._l(e.milestones,(function(e){return i("SingularityMilestoneComponent",{key:e.id,attrs:{milestone:e,"suppress-glow":!0}})}))],2)},rz=[];const oz={name:"SingularityMilestonePane",components:{SingularityMilestoneComponent:Gw},data(){return{milestones:[],hasNew:!1,shouldGlow:!1}},computed:{classObject(){return{"o-dark-matter-dimension-button--ascend":this.hasNew&&this.shouldGlow}}},methods:{update(){this.milestones=SingularityMilestones.nextMilestoneGroup,this.hasNew=0!==SingularityMilestones.unseenMilestones.length,this.shouldGlow=player.celestials.laitela.milestoneGlow}}},lz=oz;var cz=(0,H.A)(lz,sz,rz,!1,null,null,null);const uz=cz.exports;var dz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-laitela-singularity-container"},[i("div",[i("h2",[e._v(" У вас "+e._s(e.quantify("Сингулярность",e.singularities,2))+" ")]),i("button",{class:e.condenseClassObject(),on:{click:e.doSingularity}},[i("h2",[e._v(" "+e._s(e.singularityFormText)+" ")]),""!==e.singularityWaitText?i("br"):e._e(),i("h2",[e._v(" "+e._s(e.singularityWaitText)+" ")])])]),0!==e.singularities?i("div",[i("div",{staticClass:"o-laitela-matter-amount"},[e._v(" У вас "+e._s(e.format(e.darkEnergy,2,4))+" Тёмной Энергии. (+"+e._s(e.format(e.darkEnergyGainPerSecond,2,4))+"/с) ")]),e.unlockedBulkSingularity?i("div",[i("button",{staticClass:"c-laitela-singularity__cap-control",class:{"c-laitela-singularity__cap-control--available":e.singularityCapIncreases>0},attrs:{"ach-tooltip":e.decreaseTooltip},on:{click:e.decreaseCap}},[e._v(" Уменьшить целевое количество ТЭ. ")]),i("button",{staticClass:"c-laitela-singularity__cap-control",class:{"c-laitela-singularity__cap-control--available":e.singularityCapIncreases<50},attrs:{"ach-tooltip":e.increaseTooltip},on:{click:e.increaseCap}},[e._v(" Увеличить целевое количество ТЭ. ")]),i("br"),e._v(" В то время как целевое количество Тёмной Энергии меняется в "+e._s(e.format(10))+" раз, "),i("br"),e._v(" оптовое получение Сингулярностей меняется в "+e._s(e.format(e.perStepFactor))+" раз. ")]):i("div",[i("br"),e._v(" Достигните "+e._s(e.format(10))+" Сингулярностей, "),i("br"),e._v(" чтобы разблокировать опт Сингулярностей. "),i("br")]),i("br"),e._v(" Времени до "),e.hasAutoSingularity?i("span",[e._v("(автоматического)")]):e._e(),e._v(" сжатия: "+e._s(e.baseSingularityTime)+" "),e.hasAutoSingularity&&1!==e.autoSingularityFactor?i("span",[e._v(" (+"+e._s(e.additionalSingularityTime)+") ")]):e._e(),i("br"),e._v(" Скорость получения сингулярностей "),e.hasAutoSingularity&&1!==e.autoSingularityFactor?i("span",[e._v(" вручную ")]):e._e(),e._v(": "+e._s(e.manualSingularityRate)+" "),i("br"),e.hasAutoSingularity&&1!==e.autoSingularityFactor?i("span",[e._v(" Скорость получения сингулярностей автоматически: "+e._s(e.autoSingularityRate)+" ")]):e._e()]):e._e()])},hz=[];const pz={name:"SingularityPane",data(){return{darkEnergy:0,darkEnergyGainPerSecond:0,singularities:0,singularityCapIncreases:0,canPerformSingularity:!1,unlockedBulkSingularity:!1,singularityCap:0,baseTimeToSingularity:0,currentTimeToSingularity:0,extraTimeAfterSingularity:0,singularitiesGained:0,autoSingularityFactor:0,perStepFactor:0,isAutoEnabled:!1,hasAutoSingularity:!1,nextLowerStep:0,willCondenseOnDecrease:!1}},computed:{isDoomed:()=>Pelle.isDoomed,singularityFormText(){const e=1===this.singularitiesGained?"всю Тёмную Энергию в Сингулярность":`всю Тёмную Энергию в ${quantify("Сингулярность",this.singularitiesGained,2)}`;return this.canPerformSingularity?`Сжать ${e}`:`Достигните ${format(this.singularityCap,2,2)} Тёмной Энергии, чтобы сжать ${e}`},singularityWaitText(){let e=this.currentTimeToSingularity;return this.canPerformSingularity?(e+=this.extraTimeAfterSingularity,this.isAutoEnabled?e>0?`(Автоматическое сжатие: через ${TimeSpan.fromSeconds(e).toStringShort()})`:"(Автоматическое сжатие: немедленно при включении)":""):`(Осталось ${TimeSpan.fromSeconds(e).toStringShort()})`},baseSingularityTime(){return TimeSpan.fromSeconds(this.baseTimeToSingularity).toStringShort()},additionalSingularityTime(){return TimeSpan.fromSeconds(this.extraTimeAfterSingularity).toStringShort()},manualSingularityRate(){const e=this.baseTimeToSingularity;return this.formatRate(this.singularitiesGained/e)},autoSingularityRate(){if(this.hasAutoSingularity&&!this.isAutoEnabled)return"Автоматика сжатия выключена";const e=this.baseTimeToSingularity+this.extraTimeAfterSingularity;return this.formatRate(this.singularitiesGained/e)},decreaseTooltip(){if(0===this.singularityCapIncreases)return"Цель не может быть уменьшена!";const e=this.singularitiesGained/this.perStepFactor;return this.willCondenseOnDecrease?`При уменьшении цели автоматически произойдёт сжатие за\n          ${quantify("Сингулярность",e,2)}!`:null},increaseTooltip(){return this.singularityCapIncreases>=50?"Цель не может быть увеличена!":null}},methods:{update(){const e=player.celestials.laitela;this.darkEnergy=Currency.darkEnergy.value,this.darkEnergyGainPerSecond=Currency.darkEnergy.productionPerSecond,this.singularities=Currency.singularities.value,this.singularityCapIncreases=e.singularityCapIncreases,this.canPerformSingularity=Singularity.capIsReached,this.unlockedBulkSingularity=Currency.singularities.gte(10),this.singularityCap=Singularity.cap,this.baseTimeToSingularity=Singularity.timePerCondense,this.currentTimeToSingularity=Singularity.timeUntilCap,this.extraTimeAfterSingularity=Singularity.timeDelayFromAuto,this.singularitiesGained=Singularity.singularitiesGained,this.autoSingularityFactor=SingularityMilestone.autoCondense.effectOrDefault(1/0),this.perStepFactor=Singularity.gainPerCapIncrease,this.isAutoEnabled=player.auto.singularity.isActive&&SingularityMilestone.autoCondense.canBeApplied,this.hasAutoSingularity=Number.isFinite(this.autoSingularityFactor),this.nextLowerStep=this.singularityCap*this.autoSingularityFactor/10,this.willCondenseOnDecrease=this.isAutoEnabled&&this.darkEnergy>this.nextLowerStep},doSingularity(){Singularity.perform()},increaseCap(){Singularity.increaseCap()},decreaseCap(){Singularity.decreaseCap()},formatRate(e){return e<1/60?`${format(3600*e,2,3)} в час`:e<1?`${format(60*e,2,3)} в минуту`:`${format(e,2,3)} в секунду`},condenseClassObject(){return{"c-laitela-singularity":!0,"c-laitela-singularity--active":this.canPerformSingularity&&!this.isDoomed,"o-pelle-disabled":this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}}}},mz=pz;var yz=(0,H.A)(mz,dz,hz,!1,null,"c4123e12",null);const fz=yz.exports,gz={name:"LaitelaTab",components:{LaitelaRunButton:nz,SingularityPane:fz,SingularityMilestonePane:uz,DarkMatterDimensionGroup:jX,AnnihilationButton:UX,LaitelaAutobuyerPane:JX,CelestialQuoteHistory:EF,PrimaryButton:Fs},data(){return{isDoomed:!1,darkMatter:new Decimal(0),darkMatterGain:new Decimal(0),isDMCapped:!1,maxDarkMatter:new Decimal(0),darkEnergy:0,matterExtraPurchasePercentage:0,autobuyersUnlocked:!1,singularityPanelVisible:!1,singularitiesUnlocked:!1,singularityCap:0,singularityWaitTime:0,showAnnihilation:!1}},computed:{styleObject(){return{color:this.isDMCapped?"var(--color-bad)":""}}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.darkMatter.copyFrom(Currency.darkMatter),this.isDMCapped=this.darkMatter.eq(Number.MAX_VALUE),this.maxDarkMatter.copyFrom(Currency.darkMatter.max),this.darkEnergy=player.celestials.laitela.darkEnergy,this.matterExtraPurchasePercentage=Laitela.matterExtraPurchaseFactor-1,this.autobuyersUnlocked=SingularityMilestone.darkDimensionAutobuyers.canBeApplied||SingularityMilestone.darkDimensionAutobuyers.canBeApplied||SingularityMilestone.autoCondense.canBeApplied||Laitela.darkMatterMult>1,this.singularityPanelVisible=Currency.singularities.gt(0),this.singularitiesUnlocked=Singularity.capIsReached||this.singularityPanelVisible,this.singularityCap=Singularity.cap,this.singularityWaitTime=TimeSpan.fromSeconds((this.singularityCap-this.darkEnergy)/Currency.darkEnergy.productionPerSecond).toStringShort(),this.showAnnihilation=Laitela.annihilationUnlocked;const e=DarkMatterDimension(1);this.darkMatterGain=e.amount.times(e.powerDM).divide(e.interval).times(1e3)},maxAll(){Laitela.maxAllDMDimensions(4)},showLaitelaHowTo(){ui.view.h2pForcedTab=GameDatabase.h2p.tabs.filter((e=>"Лайтела"===e.name))[0],Modal.h2p.show()}}},bz=gz;var vz=(0,H.A)(bz,SX,xX,!1,null,null,null);const Ez=vz.exports;var Tz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-stats-tab"},[i("div",{staticClass:"l-multiplier-subtab-btn-container"},e._l(e.availableOptions,(function(t,a){return i("button",{key:t.key+t.isActive,class:e.subtabClassObject(t),on:{click:function(t){return e.clickSubtab(a)}}},[e._v(" "+e._s(t.text)+" ")])})),0),i("div",{staticClass:"c-list-container"},[e._l(e.resourceSymbols,(function(t){return i("span",{key:t},[i("span",{staticClass:"c-symbol-overlay",domProps:{innerHTML:e._s(t)}})])})),i("MultiplierBreakdownEntry",{key:e.resource.key,attrs:{resource:e.resource,"is-root":!0}}),e._m(0)],2)])},_z=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-multiplier-tab-text-line"},[e._v(" Примечание: эффект раскрывается, только в том случае если его составные части могут принимать разные значения. "),i("br"),i("b",[e._v(" Чрезмерно глубокое раскрытие эффектов может вызвать зависание. Изменение размеров полосок происходит плавно с интервалом в 200мс в целях предотвращения неблагоприятных последствий при высокой фоточуствительности. Вследствие этого полоски могут выглядеть странно при частых сбросах. ")])])}];class Cz{constructor(e){this.key=e;const t=this.key.split("_"),i=GameDatabase.multiplierTabValues[t[0]][t[1]],a=t.length>=3?t.slice(2).map((e=>e.match("^\\d+$")?Number(e):e)):[];this._name=Az(i.name,a),this._multValue=Az(i.multValue,a),this._powValue=Az(i.powValue,a),this._dilationEffect=Az(i.dilationEffect,a),this._isActive=Az(i.isActive,a),this._fakeValue=Az(i.fakeValue,a),this._icon=Az(i.icon,a),this._displayOverride=Az(i.displayOverride,a),this._isDilated=Az(i.isDilated,a),this._isBase=Az(i.isBase,a),this._ignoresNerfPowers=Az(i.ignoresNerfPowers,a),this._isNotARealThing=Az(i.isNotARealThing,a),this._dimCount=Az(i.dimCount,a),this.data=m.A.observable({mult:new Decimal(0),pow:0,isVisible:!1,lastVisibleAt:0})}update(){const e=this.isVisible;this.data.mult.fromDecimal(e?this.mult:v.D1),this.data.pow=e?this.pow:1,this.data.isVisible=e,e&&(this.data.lastVisibleAt=Date.now())}get name(){return this._name()}get mult(){var e;return new Decimal(null!==(e=this._multValue())&&void 0!==e?e:1)}get pow(){var e;return null!==(e=this._powValue())&&void 0!==e?e:1}get dilationEffect(){var e;return null!==(e=this._dilationEffect())&&void 0!==e?e:1}get isActive(){var e;return null!==(e=this._isActive())&&void 0!==e&&e}get fakeValue(){return this._fakeValue()}get icon(){return this._icon()}get displayOverride(){return this._displayOverride()}get isDilated(){return this._isDilated()}get isBase(){return this._isBase()}get ignoresNerfPowers(){var e;return null!==(e=this._ignoresNerfPowers())&&void 0!==e&&e}get isNotARealThing(){var e;return null!==(e=this._isNotARealThing())&&void 0!==e&&e}get dimCount(){var e;return null!==(e=this._dimCount())&&void 0!==e?e:1}get isVisible(){return this.isActive&&(1!==this.pow||this.mult.neq(1))}}function Az(e,t){return"function"===typeof e?()=>e(...t):()=>e}const kz=new Map;function wz(e){const t=kz.get(e);if(void 0!==t)return t;const i=new Cz(e);return kz.set(e,i),i}var Sz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.containerClass},[e.isEmpty?e._e():i("div",{staticClass:"c-stacked-bars"},e._l(e.averagedPercentList,(function(t,a){return i("div",{key:100+a,class:{"c-bar-highlight":e.mouseoverIndex===a},style:e.styleObject(a),on:{mouseover:function(t){e.mouseoverIndex=a},mouseleave:function(t){e.mouseoverIndex=-1},click:function(t){e.showGroup[a]=!e.showGroup[a]}}},[i("span",{staticClass:"c-bar-overlay",domProps:{innerHTML:e._s(e.barSymbol(a))}})])})),0),i("div"),i("div",{staticClass:"c-info-list"},[i("div",{staticClass:"c-total-mult"},[i("b",[e._v(" "+e._s(e.totalString())+" ")]),i("span",{staticClass:"c-display-settings"},[e.groups.length>1?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Переключить группировку эффектов",expression:"'Переключить группировку эффектов'"}],staticClass:"o-primary-btn c-change-display-btn fas fa-arrows-rotate",on:{click:e.changeGroup}}):e._e()])]),e.isEmpty?i("div",{staticClass:"c-no-effect"},[e._v(" Нет эффектов "),i("br"),i("br"),e._v(" "+e._s(e.disabledText)+" ")]):e._l(e.entries,(function(t,a){return i("div",{key:t.key,on:{mouseover:function(t){e.mouseoverIndex=a},mouseleave:function(t){e.mouseoverIndex=-1}}},[e.shouldShowEntry(t)?i("div",{class:e.singleEntryClass(a)},[i("div",{on:{click:function(t){e.showGroup[a]=!e.showGroup[a]}}},[i("span",{class:e.expandIcon(a),style:e.expandIconStyle(a)}),e._v(" "+e._s(e.entryString(a))+" ")]),e.showGroup[a]&&e.hasChildEntries(a)?i("MultiplierBreakdownEntry",{attrs:{resource:e.neutralize(t),higherEntries:e.allEntries}}):e._e()],1):e._e()])})),e.isDilated&&!e.isEmpty?i("div",[i("div",{staticClass:"c-single-entry c-dilation-entry"},[i("div",[e._v(" "+e._s(e.dilationString())+" ")])])]):e._e(),"AD_total"===e.resource.key?i("div",{staticClass:"c-no-effect"},[i("div",[e._v(' "Производство ИА" вычисляется как произведение всех множителей Измерений Антиматерии. Оно соответствует количеству антиматерии, произведённому за некоторое время ('+e._s(e.formatInt(10))+"-"+e._s(e.formatInt(40))+" секунд в зависимости от количества производящих ИА) после Пожертвования Измерений. На самом деле ваше количество антиматерии растёт полиномиально, поэтому со временем эта характеристика расходится с настоящим производством, но чем сильнее ваши ИА, тем этот эффект менее заметен. ")]),e.seenNC12?i("div",[e._v(" Внутри 12-го Обычного Испытания вся представленная здесь статистика катастрофически ошибочна, так как она воспринимает усиление Измерений как постоянный множитель, что не соответствует действительности. Мы не собираемся исправлять эту неточность ввиду несоразмерности возникающих технических трудностей с потенциальной пользой от такого уточнения. ")]):e._e()]):e._e()],2)])},xz=[];class Rz{constructor(e){this.entries=e.map((e=>wz(e)))}get hasVisibleEntries(){const e=this.entries.filter((e=>e.isActive&&(e.mult.neq(1)||1!==e.pow)));return e.length>1||1===e.length&&e[0].key.startsWith("general")}}const Iz=new Map;function Mz(e){const t=Iz.get(e);if(void 0!==t)return t;const i=GameDatabase.multiplierTabTree[e],a=void 0===i?[]:i.map((e=>new Rz(e)));return Iz.set(e,a),a}const Dz=10;class Pz{constructor(){this.dataPoints=[]}add(e){this.dataPoints.push(e),this.dataPoints.length>Dz&&this.dataPoints.shift()}get average(){const e=this.dataPoints.filter((e=>void 0!==e));if(0===e.length)return[];const t=[],i=e[0];for(let a=0;a<i.length;a++)t[a]=e.map((e=>e[a])).sum()/e.length;return t}clear(){this.dataPoints=[]}}const Uz=["IP_base","EP_base","TP_base"];function Gz(e){return e.padStart(7," ")}const Nz={name:"MultiplierBreakdownEntry",components:{PrimaryToggleButton:$g},props:{resource:{type:Cz,required:!0},higherEntries:{type:Array,required:!1,default:()=>[]},isRoot:{type:Boolean,required:!1,default:!1}},data(){return{selected:0,percentList:[],averagedPercentList:[],showGroup:[],hadChildEntriesAt:[],mouseoverIndex:-1,lastNotEmptyAt:0,dilationExponent:1,isDilated:!1,lastLayoutChange:Date.now(),now:Date.now(),seenNC12:!1}},computed:{groups(){return Mz(this.resource.key)},entries(){return this.groups[this.selected].entries},allEntries(){return this.resource.isNotARealThing?this.entries.concat(this.higherEntries):this.entries},rollingAverage(){return new Pz},containerClass(){return{"c-multiplier-entry-container":!0,"c-multiplier-entry-root-container":this.isRoot}},isEmpty(){return!this.isRecent(this.lastNotEmptyAt)},disabledText(){return this.resource.isBase?Decimal.eq(this.resource.mult,0)?"Вы не можете получить эту валюту (требование престижа не выполнено)":`У вас нет множителей к получению этой валюты (вы получите ${format(1)} единицу на сбросе)`:`Эффект не действует, отключён или равен ${formatX(1)}`}},created(){this.groups.length>1&&player.options.multiplierTab.showAltGroup&&this.changeGroup()},methods:{update(){for(let e=0;e<this.entries.length;e++){const t=this.entries[e];t.update();const i=Mz(this.neutralize(t).key).some((e=>e.hasVisibleEntries));i&&(this.hadChildEntriesAt[e]=Date.now())}this.dilationExponent=this.resource.dilationEffect,this.isDilated=1!==this.dilationExponent,this.calculatePercents(),this.now=Date.now(),this.seenNC12=player.infinities.gte(16)||PlayerProgress.eternityUnlocked()},changeGroup(){this.selected=(this.selected+1)%this.groups.length,player.options.multiplierTab.showAltGroup=1===this.selected,this.showGroup=Array.repeat(!1,this.entries.length),this.hadChildEntriesAt=Array.repeat(0,this.entries.length),this.lastLayoutChange=Date.now(),this.rollingAverage.clear(),this.update()},calculatePercents(){var e;const t=(null!==(e=this.resource.fakeValue)&&void 0!==e?e:this.resource.mult).log10(),i=0===t;i||(this.lastNotEmptyAt=Date.now());const a=this.combineEffects(this.allEntries);let n=this.entries.map((e=>a.div(this.combineEffects(this.allEntries.filter((t=>t!==e)))).log10()));const s=Math.max(n.filter((e=>e>=0)).sum(),-n.filter((e=>e<0)).sum());n=n?n.map((e=>e/s)):[],this.percentList=n,this.rollingAverage.add(i?void 0:n),this.averagedPercentList=this.rollingAverage.average},styleObject(e){var t;const i=this.averagedPercentList.map((e=>Math.abs(e))).sum(),a=this.averagedPercentList[e]<0,n=this.entries[e].icon,s=this.averagedPercentList[e],r=e=>Math.abs(e)/i;return{position:"absolute",top:100*this.averagedPercentList.slice(0,e).map((e=>r(e))).sum()+"%",height:100*r(s)+"%",width:"100%","transition-duration":this.isRecent(this.lastLayoutChange)?void 0:"0.2s",border:0===s?"":"0.1rem solid var(--color-text)",color:null!==(t=null===n||void 0===n?void 0:n.textColor)&&void 0!==t?t:"black",background:a?`repeating-linear-gradient(-45deg, var(--color-bad), ${null===n||void 0===n?void 0:n.color} 0.8rem)`:null===n||void 0===n?void 0:n.color}},singleEntryClass(e){return{"c-single-entry":!0,"c-single-entry-highlight":this.mouseoverIndex===e}},shouldShowEntry(e){return e.data.isVisible||this.isRecent(e.data.lastVisibleAt)},barSymbol(e){var t,i;return null!==(t=null===(i=this.entries[e].icon)||void 0===i?void 0:i.symbol)&&void 0!==t?t:null},hasChildEntries(e){return this.isRecent(this.hadChildEntriesAt[e])},expandIcon(e){return this.showGroup[e]?"far fa-minus-square":"far fa-plus-square"},expandIconStyle(e){return{opacity:this.hasChildEntries(e)?1:0}},entryString(e){const t=this.percentList[e];if(t<0&&!Uz.includes(this.entries[e].key))return this.nerfString(e);let i;i=0===t?formatPercents(0):1===t?formatPercents(1):t<.001?`<${formatPercents(.001,1)}`:t>.9995?`~${formatPercents(1)}`:formatPercents(t,1),i=Gz(i);const a=this.entries[e];if(!a.data.isVisible)return`${i}: ${a.name}`;const n=a.displayOverride;let s;if(n)s=`(${n})`;else{const e=[],t=e=>{const t=a.isDilated;if(t&&1!==this.dilationExponent){const t=this.applyDilationExp(e,1/this.dilationExponent);return`${formatX(t,2,2)} ➜ ${formatX(e,2,2)}`}return a.isBase?format(e,2,2):formatX(e,2,2)};Decimal.neq(a.data.mult,1)&&e.push(t(a.data.mult.pow(a.dimCount))),1!==a.data.pow&&e.push(formatPow(a.data.pow,2,3)),s=0===e.length?"":`(${e.join(", ")})`}return`${i}: ${a.name} ${s}`},nerfString(e){const t=this.entries[e],i=Gz(formatPercents(this.percentList[e],1)),a=t.displayOverride;let n;const s=t.isBase?e=>format(e,2,2):e=>`/${format(e.reciprocal(),2,2)}`;if(a)n=`(${a})`;else{const e=[];Decimal.neq(t.data.mult,1)&&e.push(s(t.data.mult.pow(t.dimCount))),1!==t.data.pow&&e.push(formatPow(t.data.pow,2,3)),n=0===e.length?"":`(${e.join(", ")})`}return`${i}: ${t.name} ${n}`},totalString(){const e=this.resource,t=e.name,i=e.displayOverride;if(i)return`${t}: ${i}`;const a=e.mult.pow(e.dimCount);return e.isBase?`${t}: ${format(a,2,2)}`:`${t}: ${formatX(a,2,2)}`},applyDilationExp(e,t){return Decimal.pow10(e.log10()**t)},dilationString(){const e=this.resource,t=this.entries.find((e=>"Скорость игры"===e.name)),i=t?t.data.mult:1,a=e.mult.div(i);let n=this.applyDilationExp(a,1/this.dilationExponent).times(i).pow(e.dimCount),s=a.times(i).pow(e.dimCount);const r=e.isBase?e=>format(e,2,2):e=>formatX(e,2,2);return`Замедление: десятичный логарифм возведён в степень ${format(this.dilationExponent,2,3)}\n        (${r(n,2,2)} ➜ ${r(s,2,2)})`},isRecent(e){return this.now-e<200},combineEffects(e){return e.filter((e=>e.ignoresNerfPowers)).reduce(((e,t)=>e.times(t.data.mult.pow(t.dimCount))),e.reduce(((e,t)=>e.pow(t.data.pow)),e.filter((e=>!e.ignoresNerfPowers)).reduce(((e,t)=>e.times(t.data.mult.pow(t.dimCount))),v.D1)))},neutralize(e){const t=e.key;return new Cz(t.includes("speed_total")?t.slice(0,15):t)}}},Bz=Nz;var Oz=(0,H.A)(Bz,Sz,xz,!1,null,"e3570c44",null);const Lz=Oz.exports,$z=[{id:0,key:"AM",text:"Антиматерия"},{id:1,key:"tickspeed",text:"Скорость тика"},{id:2,key:"AD",text:"Измерения Антиматерии"},{id:3,key:"IP",text:"Очки Бесконечности"},{id:4,key:"ID",text:"Измерения Бесконечности"},{id:5,key:"infinities",text:"Бесконечности"},{id:6,key:"replicanti",text:"Скорость репликации"},{id:7,key:"EP",text:"Очки Вечности"},{id:8,key:"TD",text:"Измерения Времени"},{id:9,key:"eternities",text:"Вечности"},{id:10,key:"DT",text:"Замедленное Время"},{id:11,key:"gamespeed",text:"Скорость игры"}],Hz={name:"MultiplierBreakdownTab",components:{MultiplierBreakdownEntry:Lz},data(){return{availableOptions:[],currentID:player.options.multiplierTab.currTab}},computed:{currentKey(){return $z.find((e=>e.id===this.currentID)).key},resource(){return wz(`${this.currentKey}_total`)},resourceSymbols(){return GameDatabase.multiplierTabValues[this.currentKey].total.overlay}},methods:{update(){this.availableOptions=$z.map((e=>({...e,isActive:this.checkActiveKey(e.key)}))).filter((e=>e.isActive))},checkActiveKey(e){const t=GameDatabase.multiplierTabValues[e].total.isActive;return"function"===typeof t?t():t},accessProp(e){return"function"===typeof e?e():e},subtabClassObject(e){return{"c-multiplier-subtab-btn":!0,"c-multiplier-subtab-btn--active":e.key===this.currentKey}},clickSubtab(e){this.currentID=this.availableOptions[e].id,player.options.multiplierTab.currTab=$z.find((e=>e.key===this.currentKey)).id}}},Fz=Hz;var qz=(0,H.A)(Fz,Tz,_z,!1,null,"d171123c",null);const Vz=qz.exports;var Yz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-achievements-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Скрыть полностью выполненные ряды:"},model:{value:e.hideCompletedRows,callback:function(t){e.hideCompletedRows=t},expression:"hideCompletedRows"}}),e.showAutoAchieve?i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Автоматическое восстановление достижений:"},model:{value:e.isAutoAchieveActive,callback:function(t){e.isAutoAchieveActive=t},expression:"isAutoAchieveActive"}}):e._e()],1),i("div",{staticClass:"c-achievements-tab__header c-achievements-tab__header--multipliers"},[e.isDoomed?i("span",[e._v(" Множитель достижений отключён"),i("SwapAchievementImagesButton")],1):i("span",[e._v(" Достижения дают множитель к"),i("SwapAchievementImagesButton"),i("div",{domProps:{innerHTML:e._s(e.boostText)}})],1)]),e._m(0),e.showAutoAchieve?i("div",{staticClass:"c-achievements-tab__header"},[e.achCountdown>0?i("div",[e._v(" Следующее недостающее достижение будет восстановлено через "+e._s(e.timeDisplayNoDecimals(e.achCountdown,"accusative"))+". (достижения восстанавливаются в порядке по строкам сверху вниз слева направо) ")]):0!==e.missingAchievements?i("div",[e._v(" Следующее недостающее достижение будет восстановлено, как только вы включите соответствующую опцию. (достижения восстанавливаются в порядке по строкам сверху вниз слева направо) ")]):e._e(),e.totalCountdown>0?i("div",[e._v(" Все оставшиеся достижения будут восстановлены за "+e._s(e.timeDisplayNoDecimals(e.totalCountdown,"accusative"))+", если соответствующая опция будет включена. ")]):e._e(),i("br")]):e._e(),i("div",{staticClass:"l-achievement-grid"},e._l(e.renderedRows,(function(t,a){return i("NormalAchievementRow",{key:a,attrs:{row:t,"is-obscured":e.isObscured(a)}})})),1)])},jz=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-achievements-tab__header"},[e._v(" Достижения со значком "),i("i",{staticClass:"fas fa-star"}),e._v(" дают дополнительную награду. ")])}],Wz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isHidden?e._e():i("div",{class:e.classObject},e._l(e.row,(function(t,a){return i("normal-achievement",{key:a,staticClass:"l-achievement-grid__cell",attrs:{achievement:t,"is-obscured":e.isObscured}})})),1)},Xz=[],zz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject,style:e.styleObject,on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[i("HintText",{key:e.garbleKey,staticClass:"l-hint-text--achievement",attrs:{type:"achievements"}},[e._v(" "+e._s(e.processedId)+" ")]),i("div",{staticClass:"o-achievement__tooltip"},[e.isMouseOver?[i("div",{staticClass:"o-achievement__tooltip__name"},[e._v(" "+e._s(e.processedName)+" ("+e._s(e.processedId)+") ")]),i("div",{staticClass:"o-achievement__tooltip__description"},[e._v(" "+e._s(e.processedDescription)+" ")]),e.config.reward?i("div",{staticClass:"o-achievement__tooltip__reward"},[e.isObscured?e._e():i("span",{class:{"o-pelle-disabled":e.isDisabled}},[e._v(" Награда: "+e._s(e.config.reward)+" "),e.config.formatEffect?i("EffectDisplay",{attrs:{br:"",config:e.config}}):e._e()],1)]):e._e(),e.achievedTime?i("div",{staticClass:"o-achievement-time"},[e._v(" "+e._s(e.achievedTime)+" ")]):e._e()]:e._e()],2),e.showUnlockState?i("div",{class:e.indicatorClassObject},[i("i",{class:e.indicatorIconClass})]):e._e(),e.hasReward?i("div",{class:e.rewardClassObject},[i("i",{staticClass:"fas fa-star"})]):e._e()],1)},Kz=[];const Qz={name:"NormalAchievement",components:{EffectDisplay:TN,HintText:cN},props:{achievement:{type:Object,required:!0},isObscured:{type:Boolean,required:!1}},data(){return{isDisabled:!1,isUnlocked:!1,isMouseOver:!1,isCancer:!1,showUnlockState:!1,realityUnlocked:!1,garbleTimer:0,garbleKey:0,achievementTime:0}},computed:{id(){return this.achievement.id},displayId(){var e;return null!==(e=this.config.displayId)&&void 0!==e?e:this.id},config(){return this.achievement.config},styleObject(){return{"background-position":`-${104*(this.achievement.column-1)}px -${104*(this.achievement.row-1)}px`}},classObject(){return{"o-achievement":!0,"o-achievement--disabled":this.isDisabled,"o-achievement--locked":!this.isUnlocked&&!this.isDisabled&&!this.isObscured,"o-achievement--unlocked":this.isUnlocked,"o-achievement--waiting":!this.isUnlocked&&this.isPreRealityAchievement&&!this.isDisabled,"o-achievement--blink":!this.isUnlocked&&78===this.id&&!this.isDisabled,"o-achievement--normal":!this.isCancer&&!this.isObscured,"o-achievement--cancer":this.isCancer&&!this.isObscured,"o-achievement--hidden":this.isObscured}},indicatorIconClass(){return this.isUnlocked?"fas fa-check":this.isPreRealityAchievement&&!this.isDisabled?"far fa-clock":"fas fa-times"},indicatorClassObject(){return{"o-achievement__indicator":!0,"o-achievement__indicator--disabled":this.isDisabled,"o-achievement__indicator--locked":!this.isUnlocked&&!this.isPreRealityAchievement&&!this.isDisabled,"o-achievement__indicator--waiting":!this.isUnlocked&&this.isPreRealityAchievement&&!this.isDisabled}},rewardClassObject(){return{"o-achievement__reward":!0,"o-achievement__reward--disabled":this.isDisabled,"o-achievement__reward--locked":!this.isUnlocked&&!this.isPreRealityAchievement&&!this.isDisabled,"o-achievement__reward--waiting":!this.isUnlocked&&this.isPreRealityAchievement&&!this.isDisabled}},isPreRealityAchievement(){return this.realityUnlocked&&this.achievement.row<=13},hasReward(){return void 0!==this.config.reward&&!this.isObscured},garbledNameTemplate(){return this.makeGarbledTemplate(this.config.name)},garbledIDTemplate(){return this.makeGarbledTemplate(this.displayId)},garbledDescriptionTemplate(){return this.makeGarbledTemplate(this.config.description)},achievedTime(){return player.speedrun.isActive?void 0===this.achievementTime?"Не выполнено":0===this.achievementTime?"Дано на старте спидрана":`Выполнено за ${TimeSpan.fromMilliseconds(this.achievementTime).toStringShort()}`:null}},beforeDestroy(){clearTimeout(this.mouseOverInterval)},methods:{update(){this.isDisabled=Pelle.disabledAchievements.includes(this.id)&&Pelle.isDoomed,this.isUnlocked=this.achievement.isUnlocked&&!this.isDisabled,this.isCancer="S4"===Theme.current().name||player.secretUnlocks.cancerAchievements,this.showUnlockState=player.options.showHintText.achievementUnlockStates,this.realityUnlocked=PlayerProgress.realityUnlocked(),this.processedName=this.processText(this.config.name,this.garbledNameTemplate),this.processedId=this.processText(this.displayId,this.garbledIDTemplate),this.processedDescription=this.processText(this.config.description,this.garbledDescriptionTemplate),this.garbleTimer++,this.isObscured?this.garbleKey=10*this.id+Math.floor(this.garbleTimer/3):this.garbleKey=this.id,player.speedrun.isActive&&(this.achievementTime=player.speedrun.achievementTimes[this.id])},onMouseEnter(){clearTimeout(this.mouseOverInterval),this.isMouseOver=!0},onMouseLeave(){this.mouseOverInterval=setTimeout((()=>this.isMouseOver=!1),300)},makeGarbledTemplate(e){const t=`${e}`;let i="";for(let a=0;a<t.length;a++)if(" "===t[a])i+=" ";else{const e=t[a].charCodeAt();i+=String.fromCharCode(33+(e*e+a*a)%93)}return i},processText(e,t){if(!this.isObscured)return e;const i=$e.randomCrossWords(t);let a="";for(let n=0;n<i.length;n++)" "===t[n]?a+=" ":a+=i[n];return a}}},Jz=Qz;var Zz=(0,H.A)(Jz,zz,Kz,!1,null,"4c75fded",null);const eK=Zz.exports,tK={name:"NormalAchievementRow",components:{NormalAchievement:eK},props:{row:{type:Array,required:!0},isObscured:{type:Boolean,required:!1}},data(){return{isCompleted:!1,isHidden:!1}},computed:{classObject(){return{"l-achievement-grid__row":!0,"c-achievement-grid__row--completed":this.isCompleted}}},methods:{update(){this.isCompleted=this.row.every((e=>e.isUnlocked)),this.isHidden=this.isCompleted&&player.options.hideCompletedAchievementRows}}},iK=tK;var aK=(0,H.A)(iK,Wz,Xz,!1,null,null,null);const nK=aK.exports;var sK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{style:e.imageSwapperStyleObject,on:{click:e.swapImages}},[e._v(e._s(e.swapImagesButton))])},rK=[];const oK={name:"SwapAchievementImagesButton",data(){return{canSwapImages:!1,isCancerImages:!1,isDoomed:!1}},computed:{swapImagesButton(){const e=this.isDoomed?".":":";return this.isCancerImages?"😂":e},imageSwapperStyleObject(){return this.canSwapImages?{cursor:"pointer"}:{}}},methods:{update(){this.isDoomed=Pelle.isDoomed;const e="S4"===Theme.current().name;this.canSwapImages=!e&&Themes.find("S4").isAvailable(),this.isCancerImages=e||player.secretUnlocks.cancerAchievements},swapImages(){this.canSwapImages&&(player.secretUnlocks.cancerAchievements=!player.secretUnlocks.cancerAchievements)}}},lK=oK;var cK=(0,H.A)(lK,sK,rK,!1,null,null,null);const uK=cK.exports,dK={name:"NormalAchievementsTab",components:{SwapAchievementImagesButton:uK,NormalAchievementRow:nK,PrimaryToggleButton:$g},data(){return{achievementPower:0,achTPEffect:0,achCountdown:0,totalCountdown:0,missingAchievements:0,showAutoAchieve:!1,isAutoAchieveActive:!1,hideCompletedRows:!1,achMultBreak:!1,achMultToIDS:!1,achMultToTDS:!1,achMultToBH:!1,achMultToTP:!1,achMultToTT:!1,renderedRowIndices:[]}},computed:{isDoomed:()=>Pelle.isDoomed,rows:()=>Achievements.allRows,renderedRows(){return this.rows.filter(((e,t)=>this.renderedRowIndices.includes(t)))},boostText(){const e=formatX(this.achievementPower,2,3),t=formatX(this.achTPEffect,2,3),i=[],a=[];return a.push("Антиматерии"),this.achMultToIDS&&a.push("Бесконечности"),this.achMultToTDS&&a.push("Времени"),i.push(`Измерениям ${makeEnumeration(a)}: ${e}`),this.achMultToTP&&i.push(`Получению Тахионов: ${t}`),this.achMultToBH&&i.push(`Силе Чёрных Дыр: ${e}`),this.achMultToTT&&i.push(`Производству Теорем Времени: ${e}`),`${i.join("<br>")}`}},watch:{isAutoAchieveActive(e){player.reality.autoAchieve=e},hideCompletedRows(e){player.options.hideCompletedAchievementRows=e,this.startRowRendering()}},created(){this.startRowRendering()},beforeDestroy(){cancelAnimationFrame(this.renderAnimationId)},methods:{update(){const e=getGameSpeedupFactor();this.achievementPower=Achievements.power,this.achTPEffect=RealityUpgrade(8).config.effect(),this.achCountdown=Achievements.timeToNextAutoAchieve/e,this.totalCountdown=((Achievements.preReality.countWhere((e=>!e.isUnlocked))-1)*Achievements.period+Achievements.timeToNextAutoAchieve)/e,this.missingAchievements=Achievements.preReality.countWhere((e=>!e.isUnlocked)),this.showAutoAchieve=PlayerProgress.realityUnlocked()&&!Perk.achievementGroup5.isBought,this.isAutoAchieveActive=player.reality.autoAchieve,this.hideCompletedRows=player.options.hideCompletedAchievementRows,this.achMultBreak=BreakInfinityUpgrade.achievementMult.canBeApplied,this.achMultToIDS=Achievement(75).isUnlocked,this.achMultToTDS=EternityUpgrade.tdMultAchs.isBought,this.achMultToTP=RealityUpgrade(8).isBought,this.achMultToBH=VUnlocks.achievementBH.canBeApplied,this.achMultToTT=Ra.unlocks.achievementTTMult.canBeApplied},startRowRendering(){const e=[],t=[];for(let r=0;r<this.rows.length;r++){const i=this.rows[r].every((e=>e.isUnlocked))?e:t;i.push(r)}const i=t.filter((e=>this.renderedRowIndices.includes(e))),a=t.filter((e=>!this.renderedRowIndices.includes(e)));let n;player.options.hideCompletedAchievementRows?(this.renderedRowIndices=e.concat(i),n=a):(this.renderedRowIndices=i,n=e.concat(a));const s=()=>{const e=2;for(let t=0;t<e;t++){if(0===n.length)return;this.renderedRowIndices.push(n.shift())}this.renderAnimationId=requestAnimationFrame(s)};s()},isRendered(e){return this.renderedRowIndices.includes(e)},isObscured(e){return!this.isDoomed&&17===e},timeDisplay,timeDisplayNoDecimals}},hK=dK;var pK=(0,H.A)(hK,Yz,jz,!1,null,null,null);const mK=pK.exports;var yK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-challenges-tab"},[i("ChallengeTabHeader"),i("div",[e._v(" Если автоматика Большого Сжатия включена, она сработает немедленно по достижении бесконечности. ")]),i("ChallengeGrid",{attrs:{challenges:e.challenges},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.challenge;return[i("NormalChallengeBox",{attrs:{challenge:t}})]}}])})],1)},fK=[],gK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ChallengeBox",{staticClass:"c-challenge-box--normal",attrs:{name:e.name,"is-unlocked":e.isUnlocked,"is-running":e.isRunning,"is-completed":e.isCompleted,"override-label":e.overrideLabel,"locked-at":e.lockedAt},on:{start:function(t){return e.challenge.requestStart()}},scopedSlots:e._u([{key:"top",fn:function(){return[i("DescriptionDisplay",{attrs:{config:e.descriptionDisplayConfig}})]},proxy:!0},{key:"bottom",fn:function(){return[i("span",{class:{"o-pelle-disabled":e.isDisabled}},[e._v("Награда: разблокировать "+e._s(e.challenge.config.reward))])]},proxy:!0}])})},bK=[];const vK={name:"NormalChallengeBox",components:{ChallengeBox:IW,DescriptionDisplay:V$},props:{challenge:{type:Object,required:!0}},data(){return{isDoomed:!1,isDisabled:!1,isRunning:!1,isCompleted:!1,isBroken:!1,isUnlocked:!1,lockedAt:new Decimal}},computed:{descriptionDisplayConfig(){return this.isUnlocked?this.challenge.config:{description:`Разблокируется на ${formatInt(this.challenge.config.lockedAt)} бесконечностях.`}},name(){return`Исп${this.challenge.id}`},overrideLabel(){return this.isBroken?"Сломано":""}},methods:{update(){this.isDisabled=this.challenge.isDisabled,this.isUnlocked=this.challenge.isUnlocked,this.isRunning=this.challenge.isOnlyActiveChallenge,this.lockedAt=this.challenge.config.lockedAt,this.isBroken=Enslaved.isRunning&&Enslaved.BROKEN_CHALLENGES.includes(this.challenge.id),this.isCompleted=this.challenge.isCompleted&&!this.isBroken}}},EK=vK;var TK=(0,H.A)(EK,gK,bK,!1,null,"53ccead6",null);const _K=TK.exports,CK={name:"NormalChallengesTab",components:{ChallengeGrid:iq,ChallengeTabHeader:lq,NormalChallengeBox:_K},computed:{challenges(){return NormalChallenges.all}}},AK=CK;var kK=(0,H.A)(AK,yK,fK,!1,null,"33f26002",null);const wK=kK.exports;var SK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-options-tab"},[i("div",{staticClass:"l-options-grid"},[i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.confirmationOptions.show()"}},[e._v(" Раскрыть настройки подтверждений ")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Горячие клавиши:",on:"ВКЛ.",off:"ВЫКЛ."},model:{value:e.hotkeys,callback:function(t){e.hotkeys=t},expression:"hotkeys"}}),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button l-toggle-button",attrs:{label:"Переключаться на другую вкладку при некоторых событиях (в частности, при запуске испытаний):"},model:{value:e.automaticTabSwitching,callback:function(t){e.automaticTabSwitching=t},expression:"automaticTabSwitching"}})],1),i("div",{staticClass:"l-options-grid__row"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Офлайн-прогресс:"},model:{value:e.offlineProgress,callback:function(t){e.offlineProgress=t},expression:"offlineProgress"}}),i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Офлайн-тиков: "+e._s(e.formatInt(e.offlineTicks)))]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.offlineSlider},on:{input:function(t){return e.adjustSliderValueOfflineTicks(t)}}},"SliderComponent",e.sliderPropsOfflineTicks,!1))],1),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Симулировать прогресс за время остановки вкладки:"},model:{value:e.hibernationCatchup,callback:function(t){e.hibernationCatchup=t},expression:"hibernationCatchup"}})],1),i("div",{staticClass:"l-options-grid__row"},[e.automatorUnlocked?i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Размер журнала Автоматизатора: "+e._s(e.formatInt(parseInt(e.automatorLogSize))))]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.automatorLogSize},on:{input:function(t){return e.adjustSliderValueAutomatorLogSize(t)}}},"SliderComponent",e.sliderPropsAutomatorLogSize,!1))],1):e._e()]),i("OpenModalHotkeysButton")],1)])},xK=[],RK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PrimaryButton",{staticClass:"o-primary-btn--option l-options-grid__button",on:{click:e.emitClick}},[e._t("default")],2)},IK=[];const MK={name:"OptionsButton",components:{PrimaryButton:Fs}},DK=MK;var PK=(0,H.A)(DK,RK,IK,!1,null,null,null);const UK=PK.exports,GK={name:"OptionsGameplayTab",components:{OpenModalHotkeysButton:kO,OptionsButton:UK,PrimaryToggleButton:$g,SliderComponent:yb},data(){return{offlineProgress:!1,hibernationCatchup:!1,hotkeys:!1,offlineSlider:0,offlineTicks:0,automaticTabSwitching:!1,infinityUnlocked:!1,automatorUnlocked:!1,automatorLogSize:0}},computed:{sliderPropsOfflineTicks(){return{min:22,max:54,interval:1,width:"100%",tooltip:!1}},sliderPropsAutomatorLogSize(){return{min:50,max:500,interval:50,width:"100%",tooltip:!1}}},watch:{offlineProgress(e){player.options.offlineProgress=e},hibernationCatchup(e){player.options.hibernationCatchup=e},hotkeys(e){player.options.hotkeys=e},offlineSlider(e){player.options.offlineTicks=this.parseOfflineSlider(e)},automaticTabSwitching(e){player.options.automaticTabSwitching=e},automatorLogSize(e){player.options.automatorEvents.maxEntries=parseInt(e,10)}},created(){const e=player.options.offlineTicks,t=Math.floor(Math.log10(e)),i=e/Math.pow(10,t)-1;this.offlineSlider=9*t+i},methods:{update(){const e=player.options;this.offlineProgress=e.offlineProgress,this.hibernationCatchup=e.hibernationCatchup,this.hotkeys=e.hotkeys,this.offlineTicks=player.options.offlineTicks,this.automaticTabSwitching=e.automaticTabSwitching,this.infinityUnlocked=PlayerProgress.current.isInfinityUnlocked,this.automatorUnlocked=Player.automatorUnlocked,this.automatorLogSize=e.automatorEvents.maxEntries},parseOfflineSlider(e){const t=parseInt(e,10);return(1+t%9)*Math.pow(10,Math.floor(t/9))},adjustSliderValueOfflineTicks(e){this.offlineSlider=e,player.options.offlineTicks=this.parseOfflineSlider(e)},adjustSliderValueAutomatorLogSize(e){this.automatorLogSize=e,player.options.automatorEvents.maxEntries=this.automatorLogSize}}},NK=GK;var BK=(0,H.A)(NK,SK,xK,!1,null,"895acd5e",null);const OK=BK.exports;var LK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-options-tab"},[i("div",{staticClass:"l-options-grid"},[i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.export()"}},[e._v(" Экспортировать сохранение ")]),i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.import.show()"}},[e._v(" Импортировать сохранение ")]),i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.hardReset.show()"}},[e._v(" СБРОСИТЬ ЭТО СОХРАНЕНИЕ ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.save(false, true)"}},[e._v(" Сохранить игру ")]),i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.loadGame.show()"}},[e._v(" Выбрать сохранение ")]),i("AutosaveIntervalSlider",{attrs:{min:10,max:60,interval:1}})],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.exportAsFile()"}},[e._v(" Экспортировать сохранение в виде файла ")]),i("OptionsButton",{staticClass:"c-file-import-button",class:{"o-pelle-disabled-pointer":e.creditsClosed}},[i("input",{staticClass:"c-file-import",attrs:{type:"file",accept:".txt"},on:{change:e.importAsFile}}),i("label",{attrs:{for:"file"}},[e._v("Импортировать сохранение из файла")])]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Отображать время с момента последнего сохранения:"},model:{value:e.showTimeSinceSave,callback:function(t){e.showTimeSinceSave=t},expression:"showTimeSinceSave"}})],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameStorage.export(true)"}},[e._v(" Экспортировать сохранение на оригинал игры ")]),i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.backupWindows.show()"}},[e._v(" Раскрыть меню автоматических резервных сохранений ")]),i("SaveFileName")],1),i("div",{staticClass:"l-options-grid__row"},[e.canSpeedrun?i("OptionsButton",{staticClass:"o-primary-btn--option_font-x-large",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"Modal.enterSpeedrun.show()"}},[e._v(" Начать спидран ")]):e._e(),e.inSpeedrun?i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed,"o-primary-btn--disabled":!e.canModifySeed},on:{click:function(t){return e.openSeedModal()}}},[e._v(" Изменить зерно для генерации глифов ")]):e._e()],1),i("OpenModalHotkeysButton")],1),e.cloudAvailable?i("h2",{staticClass:"c-cloud-options-header"},[e.hideGoogleName?i("span",[e._v("Logged in to Google "),i("i",[e._v("(name hidden)")])]):e.loggedIn?i("span",[e._v("Logged in as "+e._s(e.userName))]):i("span",[e._v("Not logged in")])]):e._e(),e.loggedIn?i("div",[e.cloudEnabled?i("span",[e._v("Cloud Saving will occur automatically every 10 minutes.")]):i("span",[e._v("Cloud Saving has been disabled on this save.")])]):e._e(),e.cloudAvailable?i("div",{staticClass:"l-options-grid"},[e.STEAM?e._e():i("div",{staticClass:"l-options-grid__row"},[e.loggedIn?i("OptionsButton",{attrs:{onclick:"GameOptions.logout()"}},[e._v(" Disconnect Google Account and disable Cloud Saving ")]):i("OptionsButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This will connect your Google Account to your Antimatter Dimensions savefiles",expression:"'This will connect your Google Account to your Antimatter Dimensions savefiles'"}],class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameOptions.login()"}},[e._v(" Login with Google to enable Cloud Saving ")]),e.loggedIn?i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This will hide your Google Account name from the UI for privacy. Saving/loading is unaffected.",expression:"'This will hide your Google Account name from the UI for privacy. Saving/loading is unaffected.'"}],staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Hide Google Account name:"},model:{value:e.hideGoogleName,callback:function(t){e.hideGoogleName=t},expression:"hideGoogleName"}}):e._e()],1),e.loggedIn?i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameOptions.cloudSave()"}},[e._v(" Cloud save ")]),i("OptionsButton",{class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{onclick:"GameOptions.cloudLoad()"}},[e._v(" Cloud load ")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Force local save before cloud saving:"},model:{value:e.syncSaveIntervals,callback:function(t){e.syncSaveIntervals=t},expression:"syncSaveIntervals"}})],1):e._e(),e.loggedIn?i("div",{staticClass:"l-options-grid__row"},[i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Automatic cloud saving/loading:"},model:{value:e.cloudEnabled,callback:function(t){e.cloudEnabled=t},expression:"cloudEnabled"}}),i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.modalTooltip,expression:"modalTooltip"}],staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Show modal if possible saving conflict:"},model:{value:e.showCloudModal,callback:function(t){e.showCloudModal=t},expression:"showCloudModal"}}),i("PrimaryToggleButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.overwriteTooltip,expression:"overwriteTooltip"}],staticClass:"o-primary-btn--option l-options-grid__button",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Force cloud saving despite conflicts:"},model:{value:e.forceCloudOverwrite,callback:function(t){e.forceCloudOverwrite=t},expression:"forceCloudOverwrite"}})],1):e._e()]):e._e()])},$K=[],HK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Интервал автоматического сохранения: "+e._s(e.formatInt(e.sliderInterval))+"с")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.sliderInterval},on:{input:function(t){return e.adjustSliderValue(t)}}},"SliderComponent",e.sliderProps,!1))],1)},FK=[];const qK={name:"AutosaveIntervalSlider",components:{SliderComponent:yb},props:{min:{type:Number,required:!0},max:{type:Number,required:!0},interval:{type:Number,required:!0}},data(){return{sliderInterval:10}},computed:{sliderProps(){return{min:this.min,max:this.max,interval:this.interval,width:"100%",tooltip:!1}}},methods:{update(){this.sliderInterval=player.options.autosaveInterval/1e3},adjustSliderValue(e){this.sliderInterval=e,player.options.autosaveInterval=1e3*this.sliderInterval,GameOptions.refreshAutosaveInterval()}}},VK=qK;var YK=(0,H.A)(VK,HK,FK,!1,null,null,null);const jK=YK.exports;var WK=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--input l-options-grid__button"},[i("b",[e._v("Имя сохранения:")]),i("span",{attrs:{"ach-tooltip":"Выставить имя сохранения (должно состоять только из букв английского алфавита, цифр, пробелов и дефисов, максимальная длина 16 символов)"}},[i("input",{staticClass:"c-custom-save-name__input",attrs:{type:"text",maxlength:"16",placeholder:"Имя сохранения"},domProps:{value:e.saveFileName},on:{change:e.handleChange}})])])},XK=[];const zK={name:"SaveFileName",components:{},data(){return{saveFileName:""}},methods:{update(){this.saveFileName=player.options.saveFileName},removeNotAvailableCharacters(e){return e.replace(/[^a-zA-Z0-9 -]/gu,"")},handleChange(e){const t=this.removeNotAvailableCharacters(e.target.value.trim());player.options.saveFileName=t,e.target.value=t}}},KK=zK;var QK=(0,H.A)(KK,WK,XK,!1,null,"1cfd5c5b",null);const JK=QK.exports,ZK={name:"OptionsSavingTab",components:{AutosaveIntervalSlider:jK,OpenModalHotkeysButton:kO,OptionsButton:UK,PrimaryToggleButton:$g,SaveFileName:JK},data(){return{cloudAvailable:!1,cloudEnabled:!1,forceCloudOverwrite:!1,showCloudModal:!1,syncSaveIntervals:!1,showTimeSinceSave:!1,hideGoogleName:!1,loggedIn:!1,userName:"",canSpeedrun:!1,inSpeedrun:!1,creditsClosed:!1,canModifySeed:!1}},computed:{modalTooltip(){return"The game will detect certain situations where you might not want to overwrite your cloud save, and show\n        you a modal with more information if this is ON."},overwriteTooltip(){return this.showCloudModal?"This setting does nothing since the modal is being shown.":this.forceCloudOverwrite?"Your local save will always overwrite your cloud save no matter what.":"Save conflicts will prevent your local save from being saved to the cloud."},STEAM(){return f}},watch:{cloudEnabled(e){player.options.cloudEnabled=e},forceCloudOverwrite(e){player.options.forceCloudOverwrite=e},showCloudModal(e){player.options.showCloudModal=e},syncSaveIntervals(e){player.options.syncSaveIntervals=e},showTimeSinceSave(e){player.options.showTimeSinceSave=e},hideGoogleName(e){player.options.hideGoogleName=e}},methods:{update(){const e=player.options;this.cloudAvailable=Cloud.isAvailable,this.cloudEnabled=e.cloudEnabled,this.forceCloudOverwrite=e.forceCloudOverwrite,this.showCloudModal=e.showCloudModal,this.syncSaveIntervals=e.syncSaveIntervals,this.showTimeSinceSave=e.showTimeSinceSave,this.hideGoogleName=e.hideGoogleName,this.loggedIn=Cloud.loggedIn,this.canSpeedrun=player.speedrun.isUnlocked,this.inSpeedrun=player.speedrun.isActive,this.canModifySeed=Speedrun.canModifySeed(),this.creditsClosed=GameEnd.creditsEverClosed,this.loggedIn&&(this.userName=Cloud.user.displayName)},importAsFile(e){if(0===e.target.files.length)return;const t=new FileReader;t.onload=function(){GameStorage.offlineEnabled=player.options.offlineProgress,GameStorage.offlineTicks=player.options.offlineTicks,GameStorage.import(t.result)},t.readAsText(e.target.files[0])},openSeedModal(){this.canModifySeed?Modal.modifySeed.show():Modal.message.show("Вы больше не можете менять зерно. Первый набор предлагаемых глифов уже генерирован.")}}},eQ=ZK;var tQ=(0,H.A)(eQ,LK,$K,!1,null,null,null);const iQ=tQ.exports;var aQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-options-tab"},[i("div",{staticClass:"l-options-grid"},[i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"GameOptions.toggleUI()"}},[e._v(" "+e._s(e.UILabel)+" ")]),i("UpdateRateSlider"),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.newsOptions.show();"}},[e._v(" Раскрыть настройки новостей ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("ExpandingControlBox",{staticClass:"l-options-grid__button c-options-grid__notations",attrs:{"button-class":"o-primary-btn o-primary-btn--option l-options-grid__notations-header",label:e.themeLabel},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("SelectThemeDropdown")]},proxy:!0}])}),i("ExpandingControlBox",{staticClass:"l-options-grid__button c-options-grid__notations",attrs:{"button-class":"o-primary-btn o-primary-btn--option l-options-grid__notations-header",label:e.notationLabel},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("SelectNotationDropdown")]},proxy:!0}])}),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.notation.show();"}},[e._v(" Раскрыть настройки записи порядка ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.animationOptions.show();"}},[e._v(" Раскрыть настройки анимаций ")]),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.infoDisplayOptions.show()"}},[e._v(" Раскрыть настройки отображения дополнительной информации ")]),i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.awayProgressOptions.show()"}},[e._v(" Раскрыть настройки отображения офлайн-прогресса ")])],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"Modal.hiddenTabs.show()"}},[e._v(" Изменение отображаемых вкладок ")]),i("PrimaryToggleButton",{staticClass:"o-primary-btn--option l-options-grid__button",attrs:{label:"Цветовое отображение относительного прироста валюты престижа:"},model:{value:e.headerTextColored,callback:function(t){e.headerTextColored=t},expression:"headerTextColored"}}),e.$viewModel.newUI?i("ExpandingControlBox",{staticClass:"l-options-grid__button c-options-grid__notations",attrs:{"button-class":"o-primary-btn o-primary-btn--option l-options-grid__notations-header",label:e.sidebarLabel},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("SelectSidebarDropdown")]},proxy:!0}],null,!1,409945354)}):e._e()],1),i("div",{staticClass:"l-options-grid__row"},[i("OptionsButton",{staticClass:"o-primary-btn--option",attrs:{onclick:"GameOptions.toggleGender()"}},[e._v(" Ваш пол: "+e._s(e.gender)+" ")])],1),i("OpenModalHotkeysButton")],1)])},nQ=[],sQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-select-notation"},[i("div",{staticClass:"l-select-notation__inner"},e._l(e.notations,(function(t){return i("div",{key:t.name,staticClass:"o-primary-btn l-select-notation__item c-select-notation__item",on:{click:function(e){return t.setAsCurrent()}}},[e._v(" "+e._s(t.name)+" ")])})),0)])},rQ=[];const oQ={name:"SelectNotationDropdown",computed:{notations:()=>Notations.all}},lQ=oQ;var cQ=(0,H.A)(lQ,sQ,rQ,!1,null,null,null);const uQ=cQ.exports;var dQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},e._l(e.themes,(function(t){return i("div",{key:t.name,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(e){return t.set()}}},[e._v(" "+e._s(t.displayName())+" ")])})),0)])},hQ=[];const pQ={name:"SelectThemeDropdown",data(){return{availableThemeNames:[]}},computed:{themes(){return this.availableThemeNames.map((e=>Themes.find(e)))}},methods:{update(){this.availableThemeNames=Themes.available().map((e=>e.name))}}},mQ=pQ;var yQ=(0,H.A)(mQ,dQ,hQ,!1,null,null,null);const fQ=yQ.exports;var gQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-select-theme"},[i("div",{staticClass:"l-select-theme__inner"},[i("div",{key:"Default",staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(t){return e.setResource(0)}}},[e._v(" Новейший ресурс ")]),e._l(e.resources,(function(t){return i("div",{key:t.name,staticClass:"o-primary-btn l-select-theme__item c-select-theme__item",on:{click:function(i){return e.setResource(t.id)}}},[e._v(" "+e._s(t.optionName)+" ")])}))],2)])},bQ=[];const vQ={name:"SelectSidebarDropdown",computed:{resourceDB:()=>GameDatabase.sidebarResources,resources(){return this.resourceDB.filter((e=>e.isAvailable()))}},methods:{setResource(e){player.options.sidebarResourceID=e}}},EQ=vQ;var TQ=(0,H.A)(EQ,gQ,bQ,!1,null,null,null);const _Q=TQ.exports;var CQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"o-primary-btn o-primary-btn--option o-primary-btn--slider l-options-grid__button"},[i("b",[e._v("Интервал обновления: "+e._s(e.formatInt(e.updateRate))+"мс")]),i("SliderComponent",e._b({staticClass:"o-primary-btn--slider__slider",attrs:{value:e.updateRate},on:{input:function(t){return e.adjustSliderValue(t)}}},"SliderComponent",e.sliderProps,!1))],1)},AQ=[];const kQ={name:"UpdateRateSlider",components:{SliderComponent:yb},data(){return{updateRate:0}},computed:{sliderProps(){return{min:33,max:200,interval:1,width:"100%",tooltip:!1}}},methods:{update(){this.updateRate=player.options.updateRate},adjustSliderValue(e){this.updateRate=e,player.options.updateRate=this.updateRate,GameOptions.refreshUpdateRate()}}},wQ=kQ;var SQ=(0,H.A)(wQ,CQ,AQ,!1,null,null,null);const xQ=SQ.exports,RQ={name:"OptionsVisualTab",components:{UpdateRateSlider:xQ,PrimaryToggleButton:$g,ExpandingControlBox:Lo,OptionsButton:UK,OpenModalHotkeysButton:kO,SelectThemeDropdown:fQ,SelectNotationDropdown:uQ,SelectSidebarDropdown:_Q},data(){return{theme:"",notation:"",sidebarResource:"",headerTextColored:!0,gender:""}},computed:{sidebarDB:()=>GameDatabase.sidebarResources,themeLabel(){return`Тема: ${Themes.find(this.theme).displayName()}`},notationLabel(){return`Нотация: ${this.notation}`},sidebarLabel(){return`Левый верхний угол (в Современном интерфейсе): ${this.sidebarResource}`},UILabel(){return"Интерфейс: "+(this.$viewModel.newUI?"Современный":"Классический")}},watch:{headerTextColored(e){player.options.headerTextColored=e}},methods:{update(){const e=player.options;this.theme=Theme.currentName(),this.notation=e.notation,this.sidebarResource=0===player.options.sidebarResourceID?"Новейший ресурс":this.sidebarDB.find((e=>e.id===player.options.sidebarResourceID)).optionName,this.headerTextColored=e.headerTextColored,this.gender=e.genderMale?"Мужской":"Женский"}}},IQ=RQ;var MQ=(0,H.A)(IQ,aQ,nQ,!1,null,null,null);const DQ=MQ.exports;var PQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-stats-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("button",{staticClass:"o-primary-btn o-primary-btn--subtab-option",on:{click:function(t){return e.cycleButton()}}},[e._v(" "+e._s(e.resourceText)+" ")])]),e._l(e.layers,(function(e){return i("PastPrestigeRunsContainer",{key:e.name,attrs:{layer:e}})}))],2)},UQ=[],GQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.condition?i("div",[i("div",{staticClass:"c-past-runs-header",on:{click:e.toggleShown}},[i("span",{staticClass:"o-run-drop-down-icon"},[i("i",{class:e.dropDownIconClass})]),i("span",[i("h3",[e._v(e._s(e.formatInt(10))+" последних "+e._s(e.plural)+":")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.shown,expression:"shown"}]},[i("div",{staticClass:"c-row-container"},e._l(e.infoCol(),(function(t,a){return i("span",{key:a,style:e.cellStyle(a,!0)},[e._v(" "+e._s(t)+" ")])})),0),e._l(e.runs,(function(t,a){return i("div",{key:a},[t[0]===Number.MAX_VALUE?i("span",{staticClass:"c-empty-row"},[i("i",10===a?[e._v(" Невозможно вычислить среднее нуля "+e._s(e.plural)+". ")]:[e._v(" Вы ещё не совершили "+e._s(e.quantifyInt(e.singular,a+1))+". ")])]):i("span",{staticClass:"c-row-container"},e._l(e.infoArray(t,a),(function(t,n){return i("span",{key:10*a+n,style:e.cellStyle(n,!1)},[e._v(" "+e._s(t)+" ")])})),0)])})),i("br")],2)]):e._e()},NQ=[];function BQ(e){let t=e.filter((e=>e[0]!==Number.MAX_VALUE));0===t.length&&(t=[e[0]]);const i=e.map((e=>e.length)).max(),a=[];for(let n=0;n<i;n++){if("string"===typeof t[0][n]){a.push("");continue}const e="number"===typeof t[0][n],i=t.map((e=>e[n])).reduce(e?Number.sumReducer:Decimal.sumReducer);a.push(e?i/t.length:Decimal.div(i,t.length))}return a}const OQ={name:"PastPrestigeRunsContainer",props:{layer:{type:Object,required:!0}},data(){return{isRealityUnlocked:!1,resourceType:!1,selectedResources:[],resourceTitles:[],showRealTime:!1,runs:[],hasEmptyRecord:!1,shown:!0,hasChallenges:!1,longestRow:0,hasIM:!1}},computed:{averageRun(){return BQ(this.runs)},dropDownIconClass(){return this.shown?"far fa-minus-square":"far fa-plus-square"},points(){const e=this.layer.currency;return"МР"===e&&this.hasIM?"Предел ММ":e},condition(){return this.layer.condition()},plural(){return this.layer.plural},singular(){return this.layer.name},getRuns(){return this.layer.getRuns},hasRealTime:()=>PlayerProgress.seenAlteredSpeed()},methods:{update(){this.runs=this.clone(this.getRuns()),this.hasEmptyRecord=this.runs[0][0]===Number.MAX_VALUE,this.runs.push(this.averageRun),this.isRealityUnlocked=PlayerProgress.current.isRealityUnlocked,this.shown=player.shownRuns[this.singular],this.resourceType=player.options.statTabResources,this.showRate=this.resourceType===RECENT_PRESTIGE_RESOURCE.RATE,this.hasChallenges=this.runs.map((e=>this.challengeText(e))).some((e=>e)),this.hasIM=MachineHandler.currentIMCap>0;const e="Предел ММ"===this.points?"-":`Прирост ${this.points} за время`,t=[this.points,e,this.layer.uppercase,`Прирост ${this.plural} за время`];switch(this.resourceType){case RECENT_PRESTIGE_RESOURCE.ABSOLUTE_GAIN:this.selectedResources=[0,2];break;case RECENT_PRESTIGE_RESOURCE.RATE:this.selectedResources=[1,3];break;case RECENT_PRESTIGE_RESOURCE.CURRENCY:this.selectedResources=[0,1];break;case RECENT_PRESTIGE_RESOURCE.PRESTIGE_COUNT:this.selectedResources=[2,3];break;default:throw new Error("Unrecognized Statistics tab resource type")}this.resourceTitles=[t[this.selectedResources[0]],t[this.selectedResources[1]]];const i=e=>{let t=e.length;while(t>0){const i=e[t-1];if("string"===typeof i&&""!==i)return t;if("string"!==typeof i&&Decimal.neq(i,0))return t;t--}return 0};this.longestRow=this.runs.map((e=>i(e))).max()},clone(e){return e.map((e=>e.map((e=>e instanceof Decimal?Decimal.fromDecimal(e):e))))},infoArray(e,t){let i;i=0===t?"Последняя":10===t?"Среднее":`${formatInt(t+1)}-я с конца`;const a=[i,this.gameTime(e)];this.hasRealTime&&a.push(this.realTime(e));const n=[this.prestigeCurrencyGain(e),this.prestigeCurrencyRate(e),this.prestigeCountGain(e),this.prestigeCountRate(e)];a.push(n[this.selectedResources[0]]),a.push(n[this.selectedResources[1]]),this.hasChallenges&&a.push(this.challengeText(e));for(let o=0;o<(null===(s=this.layer.extra)||void 0===s?void 0:s.length)&&a.length<=this.longestRow;o++){var s,r;if(!this.layer.showExtra[o]())continue;const t=this.layer.formatExtra[o],i=null!==(r=e[o+5])&&void 0!==r?r:0;this.layer.allowRate[o]&&this.showRate?a.push(this.rateText(e,e[o+5])):a.push(t(i))}return a},infoCol(){const e=["Номер",this.hasRealTime?"Игровое время":"Время"];this.hasRealTime&&e.push("Реальное время"),e.push(...this.resourceTitles),this.hasChallenges&&e.push("Испытание");for(let i=0;i<(null===(t=this.layer.extra)||void 0===t?void 0:t.length)&&e.length<=this.longestRow;i++){var t;this.layer.showExtra[i]()&&e.push(this.layer.allowRate[i]&&this.showRate?this.layer.rateString[i]:this.layer.extra[i])}return e},gameTime(e){return timeDisplayShort(e[0])},realTime(e){return timeDisplayShort(e[1])},prestigeCurrencyGain(e){return this.hasIM&&"реальность"===this.layer.name?`${format(e[7],2)} ММ`:`${format(e[2],2)} ${this.points}`},prestigeCountGain(e){return quantify(this.singular,e[3])},prestigeCurrencyRate(e){return this.hasIM&&"реальность"===this.layer.name?"-":this.rateText(e,e[2])},prestigeCountRate(e){return this.rateText(e,e[3])},rateText(e,t){const i=e[1],a=ratePerMinute(t,i);return Decimal.lt(a,1)?`${format(Decimal.mul(a,60),2,2)} в час`:`${format(a,2,2)} в минуту`},challengeText(e){return e[4]},toggleShown(){player.shownRuns[this.singular]=!player.shownRuns[this.singular]},cellStyle(e,t){let i;switch(!this.hasRealTime&&e>1&&e++,e){case 0:i="10rem";break;case 3:case 4:i="21rem";break;case 5:i="реальность"===this.layer.name?"10rem":"20rem";break;default:i="15rem"}return{width:i,border:"0.05rem solid #999999",margin:"-0.05rem",padding:"0.2rem 0","border-bottom-width":t?"0.3rem":"0.1rem","font-weight":t?"bold":null,color:"var(--color-text)"}}}},LQ=OQ;var $Q=(0,H.A)(LQ,GQ,NQ,!1,null,"0da4f06d",null);const HQ=$Q.exports,FQ={name:"PastPrestigeRunsTab",components:{PastPrestigeRunsContainer:HQ},data(){return{layers:{reality:{name:"реальность",plural:"реальностей",uppercase:"Реальностей",currency:"МР",condition:()=>PlayerProgress.realityUnlocked(),getRuns:()=>player.records.recentRealities,extra:["Уровень глифа","РО"],showExtra:[()=>!0,()=>TeresaUnlocks.effarig.canBeApplied],formatExtra:[e=>formatInt(e),e=>format(e,2)],allowRate:[!1,!0],rateString:["","РО за время"]},eternity:{name:"вечность",plural:"вечностей",uppercase:"Вечностей",currency:"ОВ",condition:()=>PlayerProgress.eternityUnlocked(),getRuns:()=>player.records.recentEternities,extra:["Тахионов"],showExtra:[()=>PlayerProgress.dilationUnlocked()],formatExtra:[e=>format(e,2)],allowRate:[!1]},infinity:{name:"бесконечность",plural:"бесконечностей",uppercase:"Бесконечностей",currency:"ОБ",condition:()=>PlayerProgress.infinityUnlocked(),getRuns:()=>player.records.recentInfinities}},resourceType:!1}},computed:{resourceText(){switch(this.resourceType){case RECENT_PRESTIGE_RESOURCE.ABSOLUTE_GAIN:return"Полученные ресурсы";case RECENT_PRESTIGE_RESOURCE.RATE:return"Прирост ресурсов за время";case RECENT_PRESTIGE_RESOURCE.CURRENCY:return"Валюта престижа";case RECENT_PRESTIGE_RESOURCE.PRESTIGE_COUNT:return"Статистика престижа";default:throw new Error("Unrecognized Statistics tab resource type")}}},methods:{update(){this.resourceType=player.options.statTabResources},cycleButton(){const e=Object.keys(RECENT_PRESTIGE_RESOURCE).length;player.options.statTabResources=(player.options.statTabResources+1)%e}}},qQ=FQ;var VQ=(0,H.A)(qQ,PQ,UQ,!1,null,null,null);const YQ=VQ.exports;var jQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-pelle-celestial-tab"},[e.isDoomed?i("div",{staticClass:"l-pelle-all-content-container"},[i("CelestialQuoteHistory",{attrs:{celestial:"pelle"}}),i("div",{staticClass:"button-container"},[i("button",{staticClass:"o-pelle-button",on:{click:e.showModal}},[e._v(" Раскрыть условия Обречённой Реальности ")])]),i("br"),e.hasGalaxyGenerator?i("GalaxyGeneratorPanel"):e._e(),e.hasStrike?i("PelleBarPanel"):e._e(),i("PelleUpgradePanel")],1):e.canEnterPelle?i("button",{staticClass:"pelle-doom-button",on:{click:e.enterDoomModal}},[e._v(" Обречь"),i("br"),e._v("Реальность "),i("div",{staticClass:"pelle-icon-container"},[i("span",{staticClass:"pelle-icon"},[e._v(e._s(e.symbol))])])]):i("div",{staticClass:"pelle-unlock-requirements"},[e._v(" Чтобы разблокировать Пелля, Небожителя Антиматерии, требуется выполнить "+e._s(e.formatInt(e.totalRows))+" рядов достижений и получить максимальное количество каждого из алхимических ресурсов. "),i("br"),i("br"),e._v(" "+e._s(e.formatInt(e.completedRows))+" / "+e._s(e.formatInt(e.totalRows))+" рядов достижений выполнено "),i("br"),e._v(" "+e._s(e.formatInt(e.cappedResources))+" / "+e._s(e.formatInt(e.totalAlchemyResources))+" алхимического ресурса имеется в максимальном количестве ")])])},WQ=[],XQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-pelle-panel-container"},[i("div",{staticClass:"c-pelle-panel-title"},[e.isCapped?e._e():i("i",{staticClass:"c-collapse-icon-clickable",class:e.collapseIcon,on:{click:e.toggleCollapse}}),e._v(" Генератор Галактик ")]),e.isCollapsed?e._e():i("div",{staticClass:"l-pelle-content-container"},[e.isUnlocked?i("div",[i("div",[e._v(" У вас "),i("span",{staticClass:"c-galaxies-amount"},[e._v(e._s(e.galaxyAmount))]),e._v(" "+e._s(e.galaxyText)+". "),i("span",{staticClass:"c-galaxies-amount"},[e._v("+"+e._s(e.format(e.galaxiesPerSecond,2,1))+"/с")])]),i("div",[i("button",{staticClass:"c-increase-cap",class:{"c-increase-cap-available":e.isCapped&&e.capRift&&!e.sacrificeActive,"tutorial--glow":e.cap===1/0},on:{click:e.increaseCap}},[i("div",{staticClass:"c-increase-cap-background",style:{width:100*e.barWidth+"%"}}),e.isCapped&&e.capRift?i("div",{staticClass:"c-increase-cap-text"},[e._v(" "+e._s(e.sacrificeText)+". "),i("br"),i("br"),e.sacrificeActive?i("span",{staticClass:"c-big-text"},[e._v(" Уничтожаем "+e._s(e.capRiftName)+"... ")]):i("span",{staticClass:"c-big-text"},[e._v(" Уничтожить "+e._s(e.capRiftName)+" ")])]):i("div",{staticClass:"c-increase-cap-text c-medium-text"},[e._v(" "+e._s(e.format(e.generatedGalaxies,2))+" / "+e._s(e.format(e.cap,2))+" галактик произведено Генератором ")])])]),i("div",{staticClass:"l-galaxy-generator-upgrades-container"},e._l(e.upgrades,(function(e){return i("PelleUpgrade",{key:e.config.id,attrs:{upgrade:e,"galaxy-generator":!0}})})),1)]):i("button",{staticClass:"c-generator-unlock-button",on:{click:e.unlock}},[e._v(" Разблокировать Генератор Галактик ")])])])},zQ=[],KQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"c-pelle-upgrade",class:{"c-pelle-upgrade--unavailable":!e.canBuy&&!(e.isBought||e.isCapped),"c-pelle-upgrade--bought":e.isBought||e.isCapped,"c-pelle-upgrade--faded":e.faded,"c-pelle-upgrade--galaxyGenerator":e.galaxyGenerator},on:{click:function(t){!e.faded&&e.upgrade.purchase()},mouseover:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[i("CustomizeableTooltip",{attrs:{show:e.shouldEstimateImprovement,left:"50%",top:"0"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.estimateImprovement)+" ")]},proxy:!0}])}),e.timeEstimate?i("CustomizeableTooltip",{attrs:{left:"50%",top:"0","content-class":"l-fill-container"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.timeEstimate)+" ")]},proxy:!0}],null,!1,1945308655)}):e._e(),i("DescriptionDisplay",{attrs:{config:e.config}}),i("div",{staticClass:"l-pelle-upgrade-gap"}),e.effectText?i("div",[e._v(" "+e._s(e.effectText.prefix)+" "+e._s(e.effectText.value)+" "),e.effectText.next?[e._v(" ➜ "),i("span",{class:{"c-improved-effect":e.canBuy,"c-improved-effect--unavailable":!e.canBuy}},[e._v(" "+e._s(e.effectText.next)+" ")])]:e._e(),i("div",{staticClass:"l-pelle-upgrade-gap"})],2):e._e(),e.isCapped?e._e():i("CostDisplay",{attrs:{config:e.config,name:e.galaxyGenerator?e.config.currencyLabel:"",postName:e.galaxyGenerator?e.config.currencyPostLabel:"Осколков Реальности"}})],1)},QQ=[],JQ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-custom-tooltip"},[i("div",{staticClass:"c-main-content",class:e.contentClass,style:Object.assign({},e.positionStyle,{transform:e.contentTransform}),on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[e._t("mainContent")],2),i("div",{staticClass:"c-tooltip-content",class:e.tooltipContentClass,style:[e.tooltipContentStyle,e.positionStyle,{transform:e.tooltipTransform}]},[e._t("tooltipContent")],2),i("div",{staticClass:"c-tooltip-arrow",class:e.tooltipArrowClass,style:[e.tooltipArrowStyle,e.positionStyle,{transform:e.tooltipTransform}]})])},ZQ=[];const eJ={name:"CustomizeableTooltip",props:{tooltipContentStyle:{type:Object,required:!1,default:()=>({})},tooltipArrowStyle:{type:Object,required:!1,default:()=>({})},left:{type:String,required:!1,default:""},top:{type:String,required:!1,default:""},right:{type:String,required:!1,default:""},bottom:{type:String,required:!1,default:""},contentClass:{type:[Object,String],required:!1,default:""},tooltipClass:{type:[Object,String],required:!1,default:""},mode:{type:String,required:!1,default:"top"},show:{type:Boolean,required:!1}},data(){return{hovering:!1,mainContent:null,isDarkTheme:!1}},computed:{positionStyle(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},tooltipType(){return`c-tooltip--${this.mode}`},contentTransform(){const e="top"===this.mode||"bottom"===this.mode?"X":"Y";return`translate${e}(${this.showNegativeSign(e)}50%)`},tooltipTransform(){switch(this.mode){case"top":return`translate(${this.showNegativeSign("X")}50%, -100%)`;case"bottom":return`translate(${this.showNegativeSign("X")}50%, 100%)`;case"right":return`translate(100%, ${this.showNegativeSign("Y")}50%)`;case"left":return`translate(-100%, ${this.showNegativeSign("Y")}50%)`;default:return""}},showTooltip(){return this.show||this.hovering},tooltipContentLightDarkClass(){return this.isDarkTheme?"c-tooltip-content--dark":""},tooltipArrowLightDarkClass(){return this.isDarkTheme?"c-tooltip-arrow--dark":""},tooltipInternalClass(){return{"c-tooltip-show":this.showTooltip,[this.tooltipType]:!0}},tooltipContentClass(){return[this.tooltipInternalClass,this.tooltipClass,this.tooltipContentLightDarkClass]},tooltipArrowClass(){return[this.tooltipInternalClass,this.tooltipArrowLightDarkClass]}},methods:{update(){this.isDarkTheme=Theme.current().isDark()},showNegativeSign(e){return"X"===e?this.left?"-":"":this.top?"-":""}}},tJ=eJ;var iJ=(0,H.A)(tJ,JQ,ZQ,!1,null,"7d84efdb",null);const aJ=iJ.exports,nJ={name:"PelleUpgrade",components:{DescriptionDisplay:V$,CostDisplay:jS,CustomizeableTooltip:aJ},props:{upgrade:{type:Object,required:!0},faded:{type:Boolean,required:!1},galaxyGenerator:{type:Boolean,required:!1},showImprovedEstimate:{type:Boolean,required:!1}},data(){return{canBuy:!1,isBought:!1,purchases:0,currentTimeEstimate:new Decimal(0),projectedTimeEstimate:new Decimal(0),isCapped:!1,hovering:!1,hasRemnants:!1,galaxyCap:0,notAffordable:!1}},computed:{config(){return this.upgrade.config},effectText(){if(!this.config.formatEffect)return!1;const e=this.isCapped?"Ограничено:":"Сейчас:",t=e=>this.config.formatEffect(this.config.effect(e)),i=t(this.purchases),a=!this.isCapped&&this.hovering?t(this.purchases+1):void 0;return{prefix:e,value:i,next:a}},timeEstimate(){return this.hasTimeEstimate&&this.hasRemnants?this.notAffordable?"Недоступно ввиду ограничения на производство галактик Генератором":this.currentTimeEstimate:null},hasTimeEstimate(){return!(this.canBuy||this.isBought||this.isCapped||this.galaxyGenerator&&"галактика"!==this.config.currencyLabel)},shouldEstimateImprovement(){return this.showImprovedEstimate&&this.hasTimeEstimate},estimateImprovement(){return this.shouldEstimateImprovement?Pelle.canArmageddon?this.projectedTimeEstimate.startsWith(">")?this.projectedTimeEstimate:`${this.currentTimeEstimate} ➜ ${this.projectedTimeEstimate}`:`${this.currentTimeEstimate}`:""}},methods:{update(){this.canBuy=this.upgrade.canBeBought&&!this.faded,this.isBought=this.upgrade.isBought,this.isCapped=this.upgrade.isCapped,this.purchases=player.celestials.pelle.rebuyables[this.upgrade.config.id],this.currentTimeEstimate=TimeSpan.fromSeconds(this.secondsUntilCost(this.galaxyGenerator?GalaxyGenerator.gainPerSecond:Pelle.realityShardGainPerSecond).toNumber()).toTimeEstimate(),this.projectedTimeEstimate=TimeSpan.fromSeconds(this.secondsUntilCost(Pelle.nextRealityShardGain).toNumber()).toTimeEstimate(),this.hasRemnants=Pelle.cel.remnants>0,this.galaxyCap=GalaxyGenerator.generationCap;const e=GameDatabase.celestials.pelle.galaxyGeneratorUpgrades;this.notAffordable=(this.config===e.additive||this.config===e.multiplicative)&&Decimal.gt(this.upgrade.cost,this.galaxyCap-GalaxyGenerator.generatedGalaxies+player.galaxies)},secondsUntilCost(e){const t=this.galaxyGenerator?player.galaxies+GalaxyGenerator.galaxies:Currency.realityShards.value;return Decimal.sub(this.upgrade.cost,t).div(e)}}},sJ=nJ;var rJ=(0,H.A)(sJ,KQ,QQ,!1,null,"35e6a63e",null);const oJ=rJ.exports,lJ={name:"GalaxyGeneratorPanel",components:{PelleUpgrade:oJ},data(){return{isUnlocked:!1,galaxies:0,generatedGalaxies:0,galaxiesPerSecond:0,cap:0,isCapped:!1,capRift:null,sacrificeActive:!1,isCollapsed:!1,barWidth:0,capRiftName:""}},computed:{collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"},upgrades(){return GalaxyGeneratorUpgrades.all},galaxyText(){return pluralize("галактика",this.galaxies)},galaxyAmount(){let e=format(Math.max(this.galaxies,0),2);return this.galaxies<0&&(e+=` [${format(this.galaxies,2)}]`),e},sacrificeText(){return this.capRift.galaxyGeneratorText.replace("$value",this.capRiftName)},emphasisedStart(){return Math.pow(this.generatedGalaxies/this.cap,.45)}},methods:{update(){this.isUnlocked=Pelle.hasGalaxyGenerator,this.isCapped=GalaxyGenerator.isCapped,this.isCollapsed=player.celestials.pelle.collapsed.galaxies&&!this.isCapped,!this.isCollapsed&&this.isUnlocked&&(this.galaxies=player.galaxies+GalaxyGenerator.galaxies,this.generatedGalaxies=GalaxyGenerator.generatedGalaxies,this.galaxiesPerSecond=GalaxyGenerator.gainPerSecond,this.cap=GalaxyGenerator.generationCap,this.capRift=GalaxyGenerator.capRift,this.sacrificeActive=GalaxyGenerator.sacrificeActive,this.barWidth=this.isCapped?this.capRift.reducedTo:this.emphasisedStart,this.capRift&&(this.capRiftName=$e.wordCycle(this.capRift.config.nameObjective)))},increaseCap(){GalaxyGenerator.isCapped&&GalaxyGenerator.startSacrifice()},toggleCollapse(){player.celestials.pelle.collapsed.galaxies=!this.isCollapsed},unlock(){player.celestials.pelle.galaxyGenerator.unlocked=!0,Pelle.quotes.galaxyGeneratorUnlock.show()}}},cJ=lJ;var uJ=(0,H.A)(cJ,XQ,zQ,!1,null,"295cca94",null);const dJ=uJ.exports;var hJ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-pelle-panel-container"},[i("div",{staticClass:"c-pelle-panel-title"},[i("i",{staticClass:"c-collapse-icon-clickable",class:e.collapseIcon,on:{click:e.toggleCollapse}}),e._v(" Разломы и Удары Пелля ")]),e.isCollapsed?e._e():i("div",{staticClass:"l-pelle-content-container"},[e._v(" Заполнение Разлома можно включить, нажав на его полоску. "),e.strikes.length>2?i("span",[e._v("Вы можете заполнять не более двух Разломов одновременно.")]):i("br"),e._v(" На заполнение Разлома расходуется "+e._s(e.formatPercents(e.decayRate))+" соответствующего ресурса в секунду. "),i("br"),e._v(" Эффекты Разломов действуют вне зависимости от того, заполняются ли они в данный момент, и зависят от общего количества расходованного ресурса. "),i("b",{staticClass:"o-strike-warning"},[e._v("Удары Пелля необратимы и не сбрасываются при армагеддоне!")]),i("div",{staticClass:"c-pelle-bar-container"},e._l(e.allStrikes,(function(e){return i("PelleRift",{key:e.config.id,attrs:{strike:e}})})),1)])])},pJ=[],mJ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasStrike?i("div",{staticClass:"c-pelle-single-bar"},[i("div",{staticClass:"c-pelle-rift"},[i("div",{staticClass:"c-pelle-rift-row"},[i("div",{staticClass:"c-pelle-rift-column c-pelle-rift-status"},[i("h2",{staticClass:"c-pelle-rift-name-header"},[e._v(" "+e._s(e.riftName())+" ")]),i("div",{staticClass:"c-pelle-rift-rift-info-container"},e._l(e.effects,(function(t,a){return i("div",{key:a},[e._v(" "+e._s(t||"")+" ")])})),0)]),i("div",{staticClass:"c-pelle-rift-column"},[i("PelleStrike",{attrs:{strike:e.strike}}),i("PelleRiftBar",{attrs:{rift:e.rift}})],1),i("div",{staticClass:"c-pelle-rift-status"},[i("div",{staticClass:"c-pelle-rift-fill-status"},[i("h2",{staticClass:"c-pelle-rift-name-header"},[e._v(" "+e._s(e.riftName())+" ")]),i("div",{staticClass:"c-pelle-rift-rift-info-container"},[e._v(" Расходует "+e._s(e.drainResource())+" на заполнение. "),e.specialRift?i("span",{attrs:{"ach-tooltip":e.infoTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]):e._e(),i("br"),e.isMaxed?e._e():[e._v(" Имеется: "+e._s(e.formatRift(e.resource))+" ")],i("br"),e._v(" Расходовано: "+e._s(e.formatRift(e.rift.totalFill))+" ")],2)])])])])]):e._e()},yJ=[],fJ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"pelleRiftBar",staticClass:"c-pelle-rift-bar",class:{"c-pelle-rift-bar-overfill-container":e.percentage>1,"c-pelle-rift-bar--idle":!e.isActive&&!e.isMaxed,"c-pelle-rift-bar--filling":e.isActive},on:{mousemove:e.handleMilestoneRequirementTooltipDisplay,click:e.toggle}},[i("div",{staticClass:"l-overflow-hidden"},[i("div",{class:e.barOverlay()}),i("div",{staticClass:"o-pelle-rift-bar-fill",style:{width:Math.clampMax(100*e.percentage,100)+"%"}}),e.reducedTo<1?i("div",{staticClass:"o-pelle-rift-bar-reducedto",style:{width:Math.clampMax(100-100*e.reducedTo,100)+"%"}}):e._e(),i("div",{staticClass:"o-pelle-rift-bar-overlay"}),e.isActive&&!e.isMaxed?i("div",{staticClass:"o-pelle-rift-bar-active-fill"}):e._e(),e._l(e.rift.milestones,(function(t,a){return i("div",{key:"milestone-line-"+a,staticClass:"o-pelle-rift-bar-milestone-line",class:{"o-pelle-rift-bar-milestone-line--unlocked":e.hasMilestone(t),"o-pelle-rift-bar-milestone-line--disabled":e.reducedTo<t.requirement},style:{left:"calc("+100*t.requirement+"% - 0.25rem)"}})}))],2),i("div",{staticClass:"o-pelle-rift-bar-percentage"},[e._v(" "+e._s(e.formatPercents(e.percentage,3))),e.isActive&&!e.isMaxed?i("span",[e._v(" (Заполняется)")]):e._e()]),i("CustomizeableTooltip",{staticClass:"o-pelle-rift-bar-milestone-hover-container",attrs:{"tooltip-class":e.tooltipContentClass(),"tooltip-arrow-style":e.tooltipArrowStyle,left:"calc("+100*e.selectedHoverMilestone.requirement+"% - 0.1rem)","content-class":"o-pelle-rift-bar-milestone-hover-area"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.selectedMilestoneResourceText)+" "),i("br"),i("br"),e._v(" "+e._s(e.selectedMilestoneDescriptionText)+" ")]},proxy:!0}])})],1)},gJ=[];const bJ={name:"PelleRiftBar",components:{CustomizeableTooltip:aJ},props:{rift:{type:Object,required:!0}},data(){return{isActive:!1,isMaxed:!1,percentage:0,reducedTo:0,hasEffectiveFill:!1,selectedHoverMilestone:this.rift.milestones[0],remToPx:parseInt(getComputedStyle(document.documentElement).fontSize,10),effects:[],selectedMilestoneResourceText:"",selectedMilestoneDescriptionText:""}},computed:{tooltipArrowStyle(){return{borderTop:"0.55rem solid var(--color-pelle--base)"}}},methods:{update(){const e=this.rift;this.effects=e.effects,this.isActive=e.isActive,this.isMaxed=e.isMaxed||Pelle.hasGalaxyGenerator,this.percentage=e.percentage,this.reducedTo=e.reducedTo,this.hasEffectiveFill="decay"===e.config.key&&PelleRifts.chaos.milestones[0].canBeApplied,this.selectedMilestoneResourceText=this.milestoneResourceText(this.selectedHoverMilestone),this.selectedMilestoneDescriptionText=this.milestoneDescriptionText(this.selectedHoverMilestone)},hasMilestone(e){return e.canBeApplied},milestoneResourceText(e){const t=this.rift;return`${formatPercents(e.requirement)}\n      (${this.formatRift(t.config.percentageToFill(e.requirement))}       ${3===t.id?$e.wordCycle(PelleRifts.decay.name):t.drainResource})`},milestoneDescriptionText(e){return"string"===typeof e.description?e.description:e.description()},formatRift(e){return"number"===typeof e?`${formatInt(100*e)}%`:format(e,2)},toggle(){this.isMaxed||this.rift.toggle()},barOverlay(){const e=this.percentage>1;return{"o-pelle-rift-bar-permanent":!e&&this.hasEffectiveFill,"o-pelle-rift-bar-overfilled":e}},handleMilestoneRequirementTooltipDisplay(e){const t=e.clientX-this.$refs.pelleRiftBar.getBoundingClientRect().x,i=this.rift.milestones.filter((e=>{const i=Math.abs(31.6*e.requirement-t/this.remToPx);return i<1&&(e.dist=i),i<1})).map((e=>{const t=e.dist;return delete e.dist,{dist:t,m:e}}));i.length&&(this.selectedHoverMilestone=i.sort(((e,t)=>e.dist-t.dist))[0].m)},tooltipContentClass(){const e=this.hasMilestone(this.selectedHoverMilestone);return{"c-pelle-milestone-tooltip":!0,"c-pelle-milestone-tooltip--unlocked":e}}}},vJ=bJ;var EJ=(0,H.A)(vJ,fJ,gJ,!1,null,"55c4bacb",null);const TJ=EJ.exports;var _J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-pelle-strike-container"},[i("ExpandingControlBox",{attrs:{"container-class":"c-pelle-strike"},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"c-pelle-strike-header"},[e._v(" ▼ "+e._s(e.strike.requirement)+" ▼ ")])]},proxy:!0},{key:"dropdown",fn:function(){return[i("div",{staticClass:"c-pelle-strike-dropdown"},[i("span",[e._v("Наказание: "+e._s(e.strike.penalty))]),i("br"),i("span",[e._v("Награда: "+e._s(e.strikeReward))])])]},proxy:!0}])})],1)},CJ=[];const AJ={name:"PelleStrike",components:{ExpandingControlBox:Lo},props:{strike:{type:Object,required:!0}},data(){return{strikeReward:""}},methods:{update(){this.strikeReward=this.strike.reward()}}},kJ=AJ;var wJ=(0,H.A)(kJ,_J,CJ,!1,null,null,null);const SJ=wJ.exports,xJ={name:"PelleRift",components:{PelleStrike:SJ,PelleRiftBar:TJ},props:{strike:{type:Object,required:!0}},data(){return{hasStrike:!1,isActive:!1,isMaxed:!1,totalFill:new Decimal,resource:new Decimal,hasEffectiveFill:!1,effects:[]}},computed:{rift(){return this.strike.rift},specialRift(){return 3===this.rift.id},infoTooltip(){return"Количество Репликанти, необходимое для заполнения Второго Разлома, зависит в том числе и от\n        процента, расходованного на Третий Разлом."}},methods:{update(){if(this.hasStrike=this.strike.hasStrike,!this.hasStrike)return;const e=this.rift;this.effects=this.rift.effects,this.isActive=e.isActive,this.isMaxed=e.isMaxed||Pelle.hasGalaxyGenerator,this.setValue("totalFill",e.totalFill),this.setValue("resource",e.fillCurrency.value),this.hasEffectiveFill="decay"===e.key&&PelleRifts.chaos.milestones[0].canBeApplied},setValue(e,t){"number"===typeof t?this[e]=t:this[e].copyFrom(t)},formatRift(e){return"number"===typeof e?`${formatInt(100*e)}%`:format(e,2)},riftName(){return $e.wordCycle(this.rift.name,!0)},drainResource(){return this.specialRift?$e.wordCycle(this.rift.drainResource):this.rift.drainResource}}},RJ=xJ;var IJ=(0,H.A)(RJ,mJ,yJ,!1,null,"30ccb870",null);const MJ=IJ.exports,DJ={name:"PelleBarPanel",components:{PelleRift:MJ},data(){return{decayRate:0,isCollapsed:!1}},computed:{collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"}},methods:{update(){this.decayRate=Pelle.riftDrainPercent,this.isCollapsed=player.celestials.pelle.collapsed.rifts,this.strikes=PelleStrikes.all.filter((e=>e.hasStrike)),this.allStrikes=PelleStrikes.all},toggleCollapse(){player.celestials.pelle.collapsed.rifts=!this.isCollapsed}}},PJ=DJ;var UJ=(0,H.A)(PJ,hJ,pJ,!1,null,"f39e565a",null);const GJ=UJ.exports;var NJ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-pelle-panel-container"},[i("div",{staticClass:"c-pelle-panel-title"},[i("i",{staticClass:"c-collapse-icon-clickable",class:e.collapseIcon,on:{click:e.toggleCollapse}}),e._v(" Улучшения Пелля ")]),e.isCollapsed?e._e():i("div",{staticClass:"l-pelle-content-container"},[i("div",{staticClass:"c-armageddon-container"},[i("div",[i("div",{staticClass:"c-armageddon-button-container",on:{mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[i("ArmageddonButton")],1),i("RemnantGainFactor",{attrs:{hide:e.showImprovedEstimate}})],1),i("div",{staticClass:"c-armageddon-resources-container"},[i("div",[e._v(" У вас "),i("span",{staticClass:"c-remnants-amount"},[e._v(e._s(e.format(e.remnants,2)))]),e._v(" "+e._s(e.pluralize("Останок",e.remnants))+". ")]),i("div",[e._v(" У вас "),i("span",{staticClass:"c-remnants-amount"},[e._v(e._s(e.format(e.realityShards,2)))]),e._v(" Осколка Реальности. "),i("span",{staticClass:"c-remnants-amount"},[e._v("+"+e._s(e.format(e.shardRate,2,2))+"/с")])])])]),i("div",{staticClass:"c-pelle-upgrade-container"},e._l(e.rebuyables,(function(t){return i("PelleUpgradeVue",{key:t.config.id,attrs:{upgrade:t,"show-improved-estimate":e.showImprovedEstimate}})})),1),i("button",{staticClass:"o-pelle-button",on:{click:e.toggleBought}},[e._v(" "+e._s(e.showBought?"Купленные улучшения показаны":"Купленные улучшения скрыты")+" ")]),e.allUpgrades.length?i("div",{staticClass:"c-pelle-upgrade-container"},[e._l(e.allUpgrades,(function(t){return i("PelleUpgradeVue",{key:t.config.id,attrs:{upgrade:t,"show-improved-estimate":e.showImprovedEstimate}})})),e._l(e.fadedUpgrades,(function(e){return i("PelleUpgradeVue",{key:e.config.id,attrs:{upgrade:e,faded:""}})}))],2):i("div",[e._v(" Все улучшения куплены! ")])])])},BJ=[],OJ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-remnant-factors-container"},[i("ExpandingControlBox",{style:{opacity:e.opacity},attrs:{"container-class":"c-remnant-factors",label:"Факторы получения Останков"},scopedSlots:e._u([{key:"dropdown",fn:function(){return[i("div",{staticClass:"c-remnant-factors-text"},[e._v(" Антиматерия: "+e._s(e.format(e.best.am,2,2))),i("br"),e._v(" ОБ: "+e._s(e.format(e.best.ip,2,2))),i("br"),e._v(" ОВ: "+e._s(e.format(e.best.ep,2,2))),i("br"),i("br"),i("div",{staticClass:"l-remnant-factors-row"},[i("div",{staticClass:"l-remnant-factors-col l-remnant-factors-col--first"},[i("div",{staticClass:"l-remnant-factors-item"},[e._v(" log10(log10(x)"+e._s(e.dilationMult[0]>1?"*"+e.dilationMult[0]:"")+" + 2) ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" log10(log10(x)"+e._s(e.dilationMult[1]>1?"*"+e.dilationMult[1]:"")+" + 2) ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" log10(log10(x)"+e._s(e.dilationMult[2]>1?"*"+e.dilationMult[2]:"")+" + 2) ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Постоянный делитель ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Постоянная степень ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Имеющиеся Останки ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" Итого ")])]),i("div",{staticClass:"l-remnant-factors-col"},[i("div",{staticClass:"l-remnant-factors-item"}),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" + ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" + ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" / ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" ^ ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" - ")])]),i("div",{staticClass:"l-remnant-factors-col"},[i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(Math.log10(e.best.am.add(1).log10()*e.dilationMult[0]+2),2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(Math.log10(e.best.ip.add(1).log10()*e.dilationMult[0]+2),2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(Math.log10(e.best.ep.add(1).log10()*e.dilationMult[0]+2),2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(1.64,2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(7.5,2,2))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(e.remnants,2,0))+" ")]),i("div",{staticClass:"l-remnant-factors-item"},[e._v(" "+e._s(e.format(e.remnantsGain,2,e.remnantsGain>=1?0:2))+" ")])])])])]},proxy:!0}])})],1)},LJ=[];const $J={name:"RemnantGainFactor",components:{ExpandingControlBox:Lo},props:{hide:{type:Boolean,required:!1,default:!1}},data(){return{best:{am:new Decimal(0),ip:new Decimal(0),ep:new Decimal(0)},dilationMult:[1,1,1],remnants:0,remnantsGain:0}},computed:{opacity(){return Number(!this.hide)}},methods:{update(){this.best.am.copyFrom(player.celestials.pelle.records.totalAntimatter),this.best.ip.copyFrom(player.celestials.pelle.records.totalInfinityPoints),this.best.ep.copyFrom(player.celestials.pelle.records.totalEternityPoints),this.dilationMult=PelleStrikes.dilation.hasStrike?[500,10,5]:[1,1,1],this.remnants=Pelle.cel.remnants,this.remnantsGain=Pelle.remnantsGain}}},HJ=$J;var FJ=(0,H.A)(HJ,OJ,LJ,!1,null,null,null);const qJ=FJ.exports,VJ={name:"PelleUpgradePanel",components:{ArmageddonButton:iM,PelleUpgradeVue:oJ,RemnantGainFactor:qJ},data(){return{showBought:!1,isCollapsed:!1,isHovering:!1,remnants:0,realityShards:new Decimal(0),shardRate:new Decimal(0),upgrades:[],boughtUpgrades:[]}},computed:{collapseIcon(){return this.isCollapsed?"fas fa-expand-arrows-alt":"fas fa-compress-arrows-alt"},rebuyables:()=>PelleUpgrade.rebuyables,visibleUpgrades(){return this.upgrades.slice(0,5)},fadedUpgrades(){return this.upgrades.slice(5,10)},allUpgrades(){let e=[];return this.showBought&&(e=this.boughtUpgrades),e=e.concat(this.visibleUpgrades),e},showImprovedEstimate(){return this.isHovering&&!this.shardRate.eq(0)}},methods:{update(){this.showBought=Pelle.cel.showBought,this.isCollapsed=player.celestials.pelle.collapsed.upgrades,this.remnants=Pelle.cel.remnants,this.realityShards.copyFrom(Pelle.cel.realityShards),this.shardRate.copyFrom(Pelle.realityShardGainPerSecond),this.upgrades=PelleUpgrade.singles.filter((e=>!e.isBought)),this.boughtUpgrades=PelleUpgrade.singles.filter((e=>e.isBought))},toggleBought(){Pelle.cel.showBought=!Pelle.cel.showBought,this.$recompute("upgrades")},toggleCollapse(){player.celestials.pelle.collapsed.upgrades=!this.isCollapsed}}},YJ=VJ;var jJ=(0,H.A)(YJ,NJ,BJ,!1,null,"71a6e5a4",null);const WJ=jJ.exports,XJ={name:"PelleTab",components:{PelleBarPanel:GJ,PelleUpgradePanel:WJ,GalaxyGeneratorPanel:dJ,CelestialQuoteHistory:EF},data(){return{isDoomed:!1,canEnterPelle:!1,completedRows:0,cappedResources:0,hasStrike:!1,hasGalaxyGenerator:!1}},computed:{symbol(){return Pelle.symbol},totalRows(){return Achievements.prePelleRows.length},totalAlchemyResources(){return AlchemyResources.all.length}},methods:{update(){this.isDoomed=Pelle.isDoomed,this.isDoomed||(this.completedRows=Achievements.prePelleRows.countWhere((e=>e.every((e=>e.isUnlocked)))),this.cappedResources=AlchemyResources.all.countWhere((e=>e.capped)),this.canEnterPelle=this.completedRows===this.totalRows&&this.cappedResources===this.totalAlchemyResources),this.hasStrike=PelleStrikes.all.some((e=>e.hasStrike)),this.hasGalaxyGenerator=PelleRifts.recursion.milestones[2].canBeApplied||GalaxyGenerator.spentGalaxies>0},toggleBought(){Pelle.cel.showBought=!Pelle.cel.showBought,this.$recompute("upgrades")},showModal(){Modal.pelleEffects.show()},enterDoomModal(){Modal.armageddon.show()}}},zJ=XJ;var KJ=(0,H.A)(zJ,jQ,WQ,!1,null,"62f291ed",null);const QJ=KJ.exports;var JJ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-previous-runs"},[i("b",[e._v("Вы завершили "+e._s(e.quantify("спидран",e.numRuns,0,0,(function(e){return e})))+" до текущего забега.")]),i("b",[e._v("Ниже приведены данные прошлых забегов.")]),i("b",[e._v("Нажмите на лупу, чтобы сравнить время прохождения стадий на текущем забеге и на одном из предыдущих.")]),i("b",[e._v(e._s(e.spectateText))]),i("br"),e.highestIndex>10?i("div",{staticClass:"c-run-page-nav"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option fas fa-arrow-left",class:{"o-primary-btn--disabled":0===e.runPage},on:{click:function(t){return e.changePage(-1)}}}),e._v(" Показаны забеги от №"+e._s(10*e.runPage+1)+" до №"+e._s(10*(e.runPage+1))+" (всего "+e._s(e.highestIndex)+") "),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option fas fa-arrow-right",class:{"o-primary-btn--disabled":e.runPage+1>e.highestIndex/10},on:{click:function(t){return e.changePage(1)}}})],1):e._e(),i("div",{staticClass:"c-previous-runs"},e._l(10,(function(t){return i("span",{key:t},[10*e.runPage+t<=e.highestIndex?i("span",{staticClass:"c-single-run"},[e.findRun(t)?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option fas fa-magnifying-glass",class:{"o-selected-btn":e.selectedRun===10*e.runPage+t},on:{click:function(i){return e.selectRun(10*e.runPage+t)}}}):e._e(),i("PreviousSpeedrunInfo",{attrs:{"prev-run-info":e.findRun(t),index:10*e.runPage+t}})],1):e._e()])})),0),i("br"),e._m(0),i("div",{staticClass:"l-speedrun-milestone-tab"},e._l(e.milestones,(function(t){return i("SpeedrunMilestoneCompare",{key:t.id,attrs:{milestone:t,"curr-time":e.milestoneTimes[t.id],"ref-time":e.selectedRun?e.previousRuns.find((function(t){return t.id===e.selectedRun})).records[t.id]:null,"best-time":e.bestPreviousTimes[t.id].time,"run-indices":[e.selectedRun,e.bestPreviousTimes[t.id].index]}})})),1)])},ZJ=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-legend"},[i("div",{staticClass:"c-legend-cell"},[i("span",{staticClass:"o-box l-milestone-none"}),e._v(" Ещё не достигнуто ")]),i("div",{staticClass:"c-legend-cell"},[i("span",{staticClass:"o-box l-milestone-slow"}),e._v(" Медленнее ")]),i("div",{staticClass:"c-legend-cell"},[i("span",{staticClass:"o-box l-milestone-fast"}),e._v(" Быстрее ")]),i("div",{staticClass:"c-legend-cell"},[i("span",{staticClass:"o-box l-milestone-fastest"}),e._v(" Лучший результат ")])])}],eZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.prevRunInfo?i("div",{staticClass:"c-icon-container"},[i("span",[e._v("Забег №"+e._s(e.index))]),i("span",[e._v(e._s(e.prevRunInfo.name))]),e._l(e.iconAttrs,(function(e){return i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.text,expression:"attr.text"}],key:e.icon,class:e.icon})})),i("span",[e._v("Дата начала: "+e._s(e.startDate))]),i("span",[e._v("Время: "+e._s(e.finalTime))])],2):i("div",{staticClass:"c-no-record"},[e._v(" Данные забега №"+e._s(e.index)+" не найдены. ")])},tZ=[];const iZ={name:"PreviousSpeedrunInfo",props:{prevRunInfo:{type:Object,required:!1,default:()=>{}},index:{type:Number,required:!0}},computed:{segmentAttr(){return{icon:"fas o-icon "+(this.prevRunInfo.isSegmented?"fa-stopwatch-20":"fa-stopwatch"),text:this.prevRunInfo.isSegmented?"Сегментированный":"Непрерывный"}},offlineAttr(){const e=this.prevRunInfo.offlineTimeUsed/this.prevRunInfo.records.max();let t;return t=0===e?"fa-eye":e<.1?"fa-computer":e<.6?"fa-moon":"fa-power-off",{icon:`fas o-icon ${t}`,text:0===e?"Офлайн-прогресс не использован":`${formatPercents(e,1)} времени проведено офлайн`}},seedAttr(){let e;switch(this.prevRunInfo.seedSelection){case SPEEDRUN_SEED_STATE.UNKNOWN:e="fa-question";break;case SPEEDRUN_SEED_STATE.FIXED:e="fa-gamepad";break;case SPEEDRUN_SEED_STATE.RANDOM:e="fa-dice";break;case SPEEDRUN_SEED_STATE.PLAYER:e="fa-user-pen";break;default:throw new Error("Unrecognized speedrun seed option in previous run subtab")}return{icon:`fas ${e} o-icon`,text:Speedrun.seedModeText(this.prevRunInfo)}},iconAttrs(){return[this.offlineAttr,this.segmentAttr,this.seedAttr]},startDate(){return Time.toDateTimeString(this.prevRunInfo.startDate)},finalTime(){return TimeSpan.fromMilliseconds(this.prevRunInfo.records.max()).toStringShort(!0,!0)}}},aZ=iZ;var nZ=(0,H.A)(aZ,eZ,tZ,!1,null,"7b48c9da",null);const sZ=nZ.exports;var rZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject},[i("span",{staticClass:"l-milestone-title"},[e._v(e._s(e.milestone.name))]),i("span",{style:e.timeStyle(e.currTime)},[e._v("Текущий забег: "+e._s(e.timeString(e.currTime)))]),e.refTime?i("span",{style:e.timeStyle(e.refTime)},[e._v(" Забег №"+e._s(e.runIndices[0])+": "+e._s(e.timeString(e.refTime,!0))+" ")]):e._e(),i("span",{style:e.timeStyle(e.bestTime)},[e._v("Лучший результат (забег №"+e._s(e.runIndices[1])+"): "+e._s(e.timeString(e.bestTime,!0)))])])},oZ=[];const lZ={name:"SpeedrunMilestoneCompare",props:{milestone:{type:Object,required:!0},currTime:{type:Number,required:!1,default:0},refTime:{type:Number,required:!1,default:0},bestTime:{type:Number,required:!0},runIndices:{type:Array,required:!0}},data(){return{realTime:0}},computed:{classObject(){const e=this.currTime>0&&this.refTime>0;return{"l-speedrun-milestone-entry":!0,"l-milestone-slow":e&&this.currTime>this.refTime,"l-milestone-fast":e&&this.currTime<this.refTime,"l-milestone-fastest":e&&this.currTime<this.bestTime}}},methods:{update(){this.realTime=player.records.realTimePlayed},timeString(e,t){const i=TimeSpan.fromMilliseconds(e).toStringShort(!0,!0),a=this.currTime>0?this.currTime-e:this.realTime-e;let n=TimeSpan.fromMilliseconds(Math.abs(a)).toStringShort(!0,!0);return n=`${this.currTime>e?"-":"+"}${n}`,e>0?`${i}${t?` (${n})`:""}`:"Ещё не достигнуто"},timeStyle(e){const t=e===[this.currTime,this.refTime,this.bestTime].filter((e=>0!==e)).min();return{color:"var(--color-text)",opacity:t?1:.85,"font-weight":t?"bold":null}}}},cZ=lZ;var uZ=(0,H.A)(cZ,rZ,oZ,!1,null,"410d5dec",null);const dZ=uZ.exports,hZ={name:"PreviousSpeedrunTab",components:{PrimaryButton:Fs,SpeedrunMilestoneCompare:dZ,PreviousSpeedrunInfo:sZ},data(){return{milestoneTimes:[],isSpectating:!1,selectedRun:0,runPage:0}},computed:{milestones:()=>GameDatabase.speedrunMilestones,previousRuns(){const e=Object.keys(player.speedrun.previousRuns),t=[];for(const i of e){const e=player.speedrun.previousRuns[i];e.id=Number(i),t.push(e)}return t},bestPreviousTimes(){const e=GameDatabase.speedrunMilestones.length+1,t=Array.repeat(0,e),i=[...t];for(const n of Object.keys(player.speedrun.previousRuns)){const a=player.speedrun.previousRuns[n].records;for(let s=0;s<e;s++)0!==a[s]&&(a[s]<t[s]||0===t[s])&&(t[s]=a[s],i[s]=n)}const a=Array.repeat({},e);for(let n=0;n<e;n++)a[n]={time:t[n],index:i[n]};return a},numRuns(){return Object.keys(this.previousRuns).length},highestIndex(){return Math.max(this.previousRuns.map((e=>Number(e.id))).max(),player.records.fullGameCompletions)},spectateText(){return this.isSpectating?"Чтобы вы могли просмотреть данные забега, мы не замещаем их словом КОНЕЦ.":null}},methods:{update(){this.milestoneTimes=[...player.speedrun.records],this.isSpectating=GameEnd.endState>END_STATE_MARKERS.SPECTATE_GAME},selectRun(e){this.selectedRun=e},findRun(e){return this.previousRuns.find((t=>(null===t||void 0===t?void 0:t.id)===10*this.runPage+e))},changePage(e){this.runPage=Math.clamp(this.runPage+e,0,Math.floor(this.highestIndex/10))}}},pZ=hZ;var mZ=(0,H.A)(pZ,JJ,ZJ,!1,null,"2e77849a",null);const yZ=mZ.exports;var fZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-ra-celestial-tab"},[i("div",{staticClass:"c-ra-memory-header"},[i("CelestialQuoteHistory",{attrs:{celestial:"ra"}}),e.isRaCapped?i("div",[e._v(" Все Небожители полностью восстановлены в памяти. ")]):i("div",[e._v(" Каждый Кусок Памяти генерирует одну единицу соответствующей Памяти в секунду"),e.memoriesPerChunk>1?i("span",[e._v(", что с учётом множителей даёт "+e._s(e.format(e.memoriesPerChunk,2,3))+" Памяти в секунду")]):e._e(),e._v(". "),e.memoriesPerChunk>1?i("span",[i("br"),e._v(" Множители к производству Памяти зависят от "+e._s(e.memoryBoosts)+e._s(e.achievementBonusText)+". ")]):e._e(),i("br"),e._v(" Хранение реального времени останавливает производство Кусков Памяти, но не влияет на производство Памяти. ")])],1),e._m(0),i("div",{staticClass:"l-ra-all-pets-container"},e._l(e.pets,(function(e,t){return i("RaPet",{key:t,attrs:{"pet-config":e}})})),1),i("div",{staticClass:"l-ra-non-pets"},[i("button",{staticClass:"c-ra-run-button"},[i("h2",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Запустить Реальность Ра ")]),i("div",{class:e.runButtonClassObject,on:{click:e.startRun}},[i("span",{staticClass:"c-ra-run-button__icon__sigil fas fa-sun"})]),e._l(e.runDescription,(function(t,a){return i("span",{key:a+"-ra-run-desc"},[e._v(" "+e._s(t)+" ")])})),i("br"),i("span",[e._v(" "+e._s(e.memoryDescription)+" ")])],2),e.showRemembrance&&!e.isRaCapped?i("div",{staticClass:"c-ra-remembrance-unlock"},[i("h1",{style:e.petStyle},[e._v(" Напоминание ")]),i("span",{style:e.petStyle},[e._v(" Напоминание действует так, что один из Небожителей получает в "+e._s(e.format(e.remembranceMult))+" раз больше Кусков Памяти, а остальные - в "+e._s(e.format(1/e.remembranceNerf))+" раза меньше. ")]),e.hasRemembrance?i("div",{staticClass:"c-ra-remembrance-unlock-inner"},e._l(e.pets,(function(e,t){return i("RaPetRemembranceButton",{key:t,attrs:{"pet-config":e}})})),1):i("div",{staticClass:"c-ra-remembrance-unlock-inner"},[e._v(" Разблокируется, когда суммарный уровень всех Небожителей достигнет "+e._s(e.formatInt(e.remembranceReq))+" (необходимо увеличить его ещё на "+e._s(e.formatInt(e.remembranceReq-e.totalLevels))+") ")])]):e._e()])])},gZ=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" Вы можете наводить курсор на значки Этапов Небожителей, расположенные под их полосами прогресса, чтобы просмотреть их эффекты, "),i("br"),e._v(" и на иконки "),i("i",{staticClass:"fas fa-question-circle"}),e._v(" для просмотра информации о том, от чего зависит получение ресурсов. ")])}],bZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("div",{staticClass:"l-ra-pet-container"},[i("div",{staticClass:"c-ra-pet-header",style:e.petStyle},[i("div",{staticClass:"c-ra-pet-title"},[e._v(" Уровень "+e._s(e.name)+" "+e._s(e.formatInt(e.level))+"/"+e._s(e.formatInt(e.levelCap))+" ")]),e.v?i("br"):e._e(),e.showScalingUpgrade?i("div",{key:e.level},[e._v(" "+e._s(e.scalingUpgradeText)+" ")]):i("br"),e.isCapped?e._e():i("div",[i("div",[e._v(" У вас "+e._s(e.format(e.memories,2))+" Памяти "+e._s(e.name)+". ")])]),e.isCapped?e._e():i("div",{staticClass:"l-ra-pet-middle-container"},[i("div",{staticClass:"l-ra-pet-upgrade-container"},[i("div",{staticClass:"l-ra-pet-upgrade c-ra-pet-upgrade__top"},[i("div",{class:e.upgradeClassObject("memory"),on:{click:function(t){return e.pet.purchaseMemoryUpgrade()}}},[i("span",{staticClass:"fas fa-brain"}),e.memoryUpgradeCapped?i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" Воспоминание "+e._s(e.name)+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Ограничено: "+e._s(e.formatX(e.currentMemoryMult,2,2))+" ")])]):i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" Воспоминание "+e._s(e.name)+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Получать на "+e._s(e.formatPercents(.3))+" больше Памяти ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__footer"},[e._v(" Цена: "+e._s(e.format(e.memoryUpgradeCost,2,2))+" Памяти "),e.memories<=e.memoryUpgradeCost?i("span",[e._v(" "+e._s(e.nextMemoryUpgradeEstimate)+" ")]):e._e(),i("br"),e._v(" Сейчас: "+e._s(e.formatX(e.currentMemoryMult,2,2))+" ")])])]),i("div",{staticClass:"c-ra-upgrade-bar"},[i("div",{staticClass:"c-ra-upgrade-bar__inner",style:e.barStyle("memory")})])]),i("div",{staticClass:"l-ra-pet-upgrade c-ra-pet-upgrade__bottom"},[i("div",{class:e.upgradeClassObject("chunk"),on:{click:function(t){return e.pet.purchaseChunkUpgrade()}}},[i("span",{staticClass:"fas fa-dice-d6"}),e.chunkUpgradeCapped?i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" Разделение "+e._s(e.name)+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Ограничено: "+e._s(e.formatX(e.currentChunkMult,2,2))+" ")])]):i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" Разделение "+e._s(e.name)+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" Получать на "+e._s(e.formatPercents(.5))+" больше Кусков Памяти ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__footer"},[e._v(" Цена: "+e._s(e.format(e.chunkUpgradeCost,2,2))+" Памяти "),e.memories<=e.chunkUpgradeCost?i("span",[e._v(" "+e._s(e.nextMemoryChunkUpgradeEstimate)+" ")]):e._e(),i("br"),e._v(" Сейчас: "+e._s(e.formatX(e.currentChunkMult,2,2))+" ")])])]),i("div",{staticClass:"c-ra-upgrade-bar c-ra-upgrade-bar--bottom"},[i("div",{staticClass:"c-ra-upgrade-bar__inner",style:e.barStyle("chunk")})])])]),e.isCapped?e._e():i("RaPetLevelBar",{attrs:{"pet-config":e.petConfig}})],1),e.isCapped?e._e():i("div",[i("div",[e._v(" "+e._s(e.format(e.memoryChunks,2,2))+" Куска Памяти, +"+e._s(e.format(e.memoriesPerSecond,2,2))+" Памяти в секунду ")]),i("div",[e._v(" Вы получаете "+e._s(e.format(e.memoryChunksPerSecond,2,2))+" Куска Памяти в секунду "),i("span",{attrs:{"ach-tooltip":e.chunkTooltip}},[i("i",{staticClass:"fas fa-question-circle"})])])]),e.memoryMultiplier>1&&!e.isRaCapped?i("div",[e._v(" Получение всей Памяти увеличено в "+e._s(e.format(e.memoryMultiplier,2,3))+" раз "),i("span",{attrs:{"ach-tooltip":e.memoryGainTooltip}},[i("i",{staticClass:"fas fa-question-circle"})])]):e.isRaCapped?e._e():i("br"),e.isRaCapped?i("div",{staticClass:"l-ra-pet-postcompletion-spacer"}):i("br"),i("div",{staticClass:"l-ra-pet-milestones"},e._l(e.unlocks.filter((function(e){return""!==e.reward})),(function(t,a){return i("RaUpgradeIcon",{key:25*e.level+a,attrs:{unlock:t}})})),1)])]):e._e()},vZ=[],EZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-ra-bar-container"},[i("div",{staticClass:"c-ra-exp-bar"},[i("div",{staticClass:"c-ra-exp-bar-inner",style:e.barStyle})]),i("div",{class:e.classObject,on:{click:function(t){return e.pet.levelUp()}}},[i("span",{staticClass:"fas fa-arrow-up"}),i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" Увеличить уровень "+e._s(e.pet.name)+" до "+e._s(e.formatInt(e.level+1))+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description"},[e._v(" "+e._s(e.reward)+" "),e.showNextScalingUpgrade?i("div",{style:{"margin-top":e.nextUnlock.reward?"0.6rem":"0"}},[e._v(" "+e._s(e.nextScalingUpgrade)+" ")]):e._e()]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__footer"},[e._v(" Цена: "+e._s(e.format(e.requiredMemories,2,2))+" Памяти "),e.memories<=e.requiredMemories?i("span",[e._v(e._s(e.nextLevelEstimate))]):e._e()])])])])},TZ=[];const _Z={name:"RaPetLevelBar",props:{petConfig:{type:Object,required:!0}},data(){return{isUnlocked:!1,level:0,memories:0,requiredMemories:0,nextLevelEstimate:0}},computed:{pet(){return this.petConfig.pet},shiftDown(){return ui.view.shiftDown},unlocks(){return this.pet.unlocks},importantLevels(){return this.unlocks.map((e=>e.level))},barStyle(){return{width:100*Math.min(1,this.memories/this.requiredMemories)+"%",background:this.pet.color}},petStyle(){return{"background-color":this.pet.color}},prevGoal(){const e=this.importantLevels.filter((e=>e<=this.level));return Math.clampMax(e.max(),15)},nextGoal(){const e=this.importantLevels.filter((e=>e>this.level));return 0===e.length?25:e.min()},currentLevelGoal(){return this.level+1},classObject(){const e=this.memories>=this.requiredMemories,t=this.pet;return{"c-ra-level-up-btn":!0,"c-ra-pet-btn--available":e,[`c-ra-pet-btn--${t.id}`]:e}},nextUnlock(){const e=this.pet.unlocks.find((e=>e.level===this.level+1));return null!==e&&void 0!==e&&e},showNextScalingUpgrade(){switch(this.pet.name){case"Терезы":return Math.min(12,Math.floor(this.level/2))!==Math.min(12,Math.floor((this.level+1)/2));case"Эффарига":return AlchemyResources.all.filter((e=>e.unlockedAt===this.level+1)).length>0;case"Безымянных":return!0;case"Ви":return Math.min(Math.floor(this.level/6),4)!==Math.min(Math.floor((this.level+1)/6),4);default:return!1}},nextScalingUpgrade(){const e=AlchemyResources.all.filter((e=>e.unlockedAt===this.level+1))[0];switch(this.pet.name){case"Терезы":return"Вы можете заряжать на одно Улучшение Бесконечности больше";case"Эффарига":return`Разблокировать алхимический ресурс "${e.name}", который\n          ${e.description}`;case"Безымянных":return`Множитель ${formatX(20)} к сохранённому игровому времени, и вы можете сохранить на час реального времени больше`;case"Ви":return"Разблокировать новое Тройственное Исследование";default:return"false"}},reward(){return"function"===typeof this.nextUnlock.reward?this.nextUnlock.reward():this.nextUnlock.reward}},methods:{update(){const e=this.pet;this.isUnlocked=e.isUnlocked,this.isUnlocked&&(this.memories=e.memories,this.level=e.level,this.requiredMemories=e.requiredMemories,this.nextLevelEstimate=Ra.timeToGoalString(this.pet,this.requiredMemories-this.memories))},isImportant(e){return this.importantLevels.includes(e)}}},CZ=_Z;var AZ=(0,H.A)(CZ,EZ,TZ,!1,null,null,null);const kZ=AZ.exports;var wZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject},[i("div",{domProps:{innerHTML:e._s(e.icon)}}),i("div",{staticClass:"c-ra-pet-upgrade__tooltip"},[i("div",{staticClass:"c-ra-pet-upgrade__tooltip__name"},[e._v(" "+e._s(e.formatInt(e.level))+"-й уровень "+e._s(e.petName)+" ")]),i("div",{staticClass:"c-ra-pet-upgrade__tooltip__description",class:{"o-pelle-disabled":e.isUseless}},[e._v(" "+e._s(e.description)+" ")])])])},SZ=[];const xZ={name:"RaUpgradeIcon",props:{unlock:{type:Object,required:!0}},data(){return{isUnlocked:!1,level:0,description:""}},computed:{petID(){return this.unlock.pet.id},petName(){return this.unlock.pet.name},icon(){return this.unlock.displayIcon},classObject(){return{"c-ra-upgrade-icon":!0,"c-ra-upgrade-icon--inactive":!this.isUnlocked,[`c-ra-upgrade-icon--${this.petID}`]:!0}},isUseless(){return this.unlock.disabledByPelle}},methods:{update(){const e=this.unlock;this.isUnlocked=e.isUnlocked,this.level=e.level,this.description=e.reward}}},RZ=xZ;var IZ=(0,H.A)(RZ,wZ,SZ,!1,null,"2d07bba2",null);const MZ=IZ.exports,DZ={name:"RaPet",components:{RaUpgradeIcon:MZ,RaPetLevelBar:kZ},props:{petConfig:{type:Object,required:!0}},data(){return{isUnlocked:!1,isRaCapped:!1,isCapped:!1,level:0,memories:0,requiredMemories:0,memoryChunks:0,memoryChunksPerSecond:0,memoriesPerSecond:0,memoryMultiplier:1,canGetMemoryChunks:!1,memoryUpgradeCost:0,chunkUpgradeCost:0,memoryUpgradeCapped:!1,chunkUpgradeCapped:!1,currentMemoryMult:0,currentChunkMult:0,nextMemoryUpgradeEstimate:"",nextMemoryChunkUpgradeEstimate:""}},computed:{levelCap(){return Ra.levelCap},showScalingUpgrade(){return this.petConfig.scalingUpgradeVisible(this.level)},scalingUpgradeText(){return this.petConfig.scalingUpgradeText(this.level)},pet(){return this.petConfig.pet},name(){return this.pet.name},petStyle(){return{color:this.pet.color}},unlocks(){return this.pet.unlocks},chunkTooltip(){return`Зависит от ${this.pet.chunkGain}`},memoryGainTooltip(){return`Зависит от ${this.pet.memoryGain}`},v(){return"Ви"===this.pet.name}},methods:{update(){this.isRaCapped=Ra.totalPetLevel===Ra.maxTotalPetLevel;const e=this.pet;this.isCapped=e.level===Ra.levelCap,this.isUnlocked=e.isUnlocked,this.isUnlocked&&(this.level=e.level,this.memories=e.memories,this.requiredMemories=e.requiredMemories,this.memoryChunks=e.memoryChunks,this.memoryChunksPerSecond=e.memoryChunksPerSecond,this.memoriesPerSecond=e.memoryChunks*Ra.productionPerMemoryChunk*this.currentMemoryMult,this.canGetMemoryChunks=e.canGetMemoryChunks,this.memoryMultiplier=e.memoryProductionMultiplier,this.memoryUpgradeCost=e.memoryUpgradeCost,this.chunkUpgradeCost=e.chunkUpgradeCost,this.memoryUpgradeCapped=e.memoryUpgradeCapped,this.chunkUpgradeCapped=e.chunkUpgradeCapped,this.currentMemoryMult=e.memoryUpgradeCurrentMult,this.currentChunkMult=e.chunkUpgradeCurrentMult,this.nextMemoryUpgradeEstimate=Ra.timeToGoalString(e,this.memoryUpgradeCost-this.memories),this.nextMemoryChunkUpgradeEstimate=Ra.timeToGoalString(e,this.chunkUpgradeCost-this.memories))},nextUnlockLevel(){const e=this.pet.unlocks.map((e=>e.level)).filter((e=>e>this.level));return 0===e.length?25:e.min()},upgradeClassObject(e){const t="memory"===e?this.memoryUpgradeCost<=this.memories:this.chunkUpgradeCost<=this.memories,i="memory"===e?this.memoryUpgradeCapped:this.chunkUpgradeCapped,a=this.pet;return{"c-ra-pet-upgrade":!0,"c-ra-pet-upgrade-memory":"memory"===e,"c-ra-pet-upgrade-chunk":"chunk"===e,"c-ra-pet-btn--available":t,[`c-ra-pet-btn--${a.id}`]:t,"c-ra-pet-btn--available__capped":i,[`c-ra-pet-btn--${a.id}__capped`]:i}},barStyle(e){const t="memory"===e?this.memoryUpgradeCost:this.chunkUpgradeCost,i="memory"===e&&this.memoryUpgradeCapped||"chunk"===e&&this.chunkUpgradeCapped?t:this.memories;return{width:100*Math.min(1,i/t)+"%",background:this.pet.color}}}},PZ=DZ;var UZ=(0,H.A)(PZ,bZ,vZ,!1,null,"341e98d3",null);const GZ=UZ.exports;var NZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isUnlocked?i("button",{staticClass:"c-ra-pet-remembrance-button",style:e.petStyle,on:{click:e.toggleRemembrance}},[e.hasRemembrance?i("span",[e._v(" Напоминание "+e._s(e.name)+" действует! ")]):i("span",[e._v(" Напоминание "+e._s(e.name)+" ")])]):e._e()},BZ=[];const OZ={name:"RaPetRemembranceButton",props:{petConfig:{type:Object,required:!0}},data(){return{isUnlocked:!1,hasRemembrance:!1}},computed:{pet(){return this.petConfig.pet},name(){return this.pet.name},petStyle(){return{backgroundColor:this.hasRemembrance?this.pet.color:"#555","box-shadow":this.hasRemembrance?"0.1rem 0.1rem 0.1rem rgba(0, 0, 0, 0.7)":"","border-color":this.hasRemembrance?"black":""}}},methods:{update(){const e=this.pet;this.isUnlocked=e.isUnlocked,this.isUnlocked&&(this.hasRemembrance=e.hasRemembrance)},toggleRemembrance(){Ra.petWithRemembrance=Ra.petWithRemembrance===this.pet.name?"":this.pet.name}}},LZ=OZ;var $Z=(0,H.A)(LZ,NZ,BZ,!1,null,null,null);const HZ=$Z.exports,FZ={name:"RaTab",components:{RaPet:GZ,RaPetRemembranceButton:HZ,CelestialQuoteHistory:EF},data(){return{memoriesPerChunk:0,showReality:!1,isRaCapped:!1,totalLevels:0,showRemembrance:!1,hasRemembrance:!1,remembranceReq:0,remembranceMult:1,remembranceNerf:1,petWithRemembrance:"",isRunning:!1,memoryBoosts:""}},computed:{laitelaUnlock:()=>Laitela.isUnlocked,pets:()=>[{pet:Ra.pets.teresa,scalingUpgradeVisible:()=>Ra.unlocks.chargedInfinityUpgrades.isUnlocked,scalingUpgradeText:()=>`Вы можете заряжать до ${quantifyInt("Улучшения",Ra.totalCharges)} Бесконечности.`},{pet:Ra.pets.effarig,scalingUpgradeVisible:()=>AlchemyResources.all.filter((e=>e.isUnlocked)).length>0,scalingUpgradeText:()=>{const e=AlchemyResources.all.filter((e=>e.isUnlocked)).length;return`Вы разблокировали ${quantifyInt("алхимический ресурс",e)}.`}},{pet:Ra.pets.enslaved,scalingUpgradeVisible:()=>Ra.unlocks.improvedStoredTime.isUnlocked,scalingUpgradeText:()=>`Множитель\n          ${formatX(Ra.unlocks.improvedStoredTime.effects.gameTimeAmplification.effectOrDefault(1),2)} к сохранённому игровому времени и\n          +${quantifyInt("час",Ra.unlocks.improvedStoredTime.effects.realTimeCap.effectOrDefault(0)/36e5)} к максимальному количеству сохранённого реального времени.`},{pet:Ra.pets.v,scalingUpgradeVisible:()=>Ra.unlocks.unlockHardV.isUnlocked,scalingUpgradeText:()=>{const e=Ra.unlocks.unlockHardV.effectOrDefault(0);return`Вы разблокировали ${quantifyInt("Тройственное Исследование",e)}.`}}],petStyle(){return{color:""===this.petWithRemembrance?"white":this.pets.find((e=>e.pet.name===this.petWithRemembrance)).pet.color}},runButtonClassObject(){return{"c-ra-run-button__icon":!0,"c-ra-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runDescription(){return GameDatabase.celestials.descriptions[4].effects().replace(/^\w/u,(e=>e.toUpperCase())).split("\n")},memoryDescription(){return"В Реальности Ра вы производите Куски Памяти для Небожителей\n        в зависимости от определённых параметров."},achievementBonusText(){return Achievement(168).isUnlocked?"; также достижение 168 даёт постоянный бонус":""},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.memoriesPerChunk=Ra.productionPerMemoryChunk,this.isRaCapped=100===Ra.totalPetLevel,this.totalLevels=Ra.totalPetLevel,this.showRemembrance=Ra.unlocks.effarigUnlock.canBeApplied,this.hasRemembrance=Ra.remembrance.isUnlocked,this.remembranceReq=Ra.remembrance.requiredLevels,this.remembranceMult=Ra.remembrance.multiplier,this.remembranceNerf=Ra.remembrance.nerf,this.petWithRemembrance=Ra.petWithRemembrance,this.isRunning=Ra.isRunning,this.memoryBoosts=Ra.memoryBoostResources},startRun(){this.isDoomed||Modal.celestials.show({name:"Ра",number:4})},toggleMode(){Ra.toggleMode()}}},qZ=FZ;var VZ=(0,H.A)(qZ,fZ,gZ,!1,null,null,null);const YZ=VZ.exports;var jZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-reality-upgrade-grid"},[i("div",{staticClass:"c-reality-upgrade-infotext"},[e._v(" Наводите курсор на иконки "),i("i",{staticClass:"fas fa-question-circle"}),e._v(" для просмотра дополнительной информации. "),i("br"),e._v(" Улучшения из верхнего ряда можно покупать сколь угодно много раз за экспоненциально растущие цены "),i("span",{attrs:{"ach-tooltip":e.costScalingTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]),e._v(", а остальные - по одному. "),i("br"),e._v(" Последние имеют требования, которые, будучи однажды выполнены, навсегда разблокируют возможность купить эти улучшения. "),i("span",{attrs:{"ach-tooltip":e.possibleTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),e._v(" Заблокированные улучшения по умолчанию показывают свои требования и эффекты, а разблокированные - эффекты, их значения и цены. При зажатии клавиши Shift они меняются ролями. "),i("br"),e._v(" Вы можете нажать на улучшение, имеющее значок "),i("i",{staticClass:"fas fa-lock-open"}),e._v(", зажав клавишу Shift, чтобы игра предотвращала все действия, которые приведут к тому, что вы не сможете разблокировать это улучшение в текущей реальности. "),i("span",{attrs:{"ach-tooltip":e.lockTooltip}},[i("i",{staticClass:"fas fa-question-circle"})]),i("br"),e._v(" Уровень получаемых глифов увеличивается на количество рядов, из которых вы купили все улучшения. ")]),e._l(5,(function(t){return i("div",{key:t,staticClass:"l-reality-upgrade-grid__row"},e._l(5,(function(a){return i("RealityUpgradeButton",{key:e.id(t,a),attrs:{upgrade:e.upgrades[e.id(t,a)]}})})),1)}))],2)},WZ=[],XZ=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{staticClass:"l-reality-upgrade-btn c-reality-upgrade-btn",class:e.classObject,on:{click:[function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.toggleLock(e.upgrade):null},function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.upgrade.purchase()}]}},[i("HintText",{staticClass:"l-hint-text--reality-upgrade c-hint-text--reality-upgrade",attrs:{type:"realityUpgrades"}},[e._v(" "+e._s(e.config.name)+" ")]),i("span",{class:{"o-pelle-disabled":e.isUseless}},[i("DescriptionDisplay",{attrs:{config:e.config}}),e.$viewModel.shiftDown!==e.isAvailableForPurchase||e.isRebuyable?[i("EffectDisplay",{attrs:{config:e.config,br:""}}),e.isBought?e._e():i("CostDisplay",{attrs:{config:e.config,br:"",name:"Машина",postName:"Реальности"}})]:[i("br"),i("DescriptionDisplay",{staticClass:"c-reality-upgrade-btn__requirement",attrs:{config:e.requirementConfig,label:"Требование:"}})],e.automatorPoints&&!e.isBought?i("b",[e._v(" (+"+e._s(e.formatInt(e.automatorPoints))+" ОА) ")]):e._e()],2)],1),e.canBeLocked?i("div",{staticClass:"o-requirement-lock"},[e.hasRequirementLock?i("i",{staticClass:"fas fa-lock"}):e.canLock?i("i",{staticClass:"fas fa-lock-open"}):e._e()]):e._e(),e.isRebuyable&&e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):e._e()],1)},zZ=[];const KZ={name:"RealityUpgradeButton",components:{PrimaryToggleButton:$g,DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS,HintText:cN},props:{upgrade:{type:Object,required:!0}},data(){return{isAvailableForPurchase:!1,automatorPoints:!1,canBeBought:!1,isRebuyable:!1,isBought:!1,isPossible:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,canBeLocked:!1,hasRequirementLock:!1}},computed:{config(){return this.upgrade.config},classObject(){return{"c-reality-upgrade-btn--useless":this.isUseless,"c-reality-upgrade-btn--bought":this.isBought&&!this.isUseless,"c-reality-upgrade-btn--unavailable":!this.isBought&&!this.canBeBought&&this.isAvailableForPurchase,"c-reality-upgrade-btn--possible":!this.isAvailableForPurchase&&this.isPossible,"c-reality-upgrade-btn--locked":!this.isAvailableForPurchase&&!this.isPossible}},requirementConfig(){return{description:this.config.requirement}},canLock(){return this.config.canLock&&!(this.isAvailableForPurchase||this.isBought)},isUseless(){return Pelle.disabledRUPGs.includes(this.upgrade.id)&&Pelle.isDoomed}},watch:{isAutobuyerOn(e){Autobuyer.realityUpgrade(this.upgrade.id).isActive=e}},methods:{update(){const e=this.upgrade;this.isAvailableForPurchase=e.isAvailableForPurchase,this.automatorPoints=this.config.automatorPoints,this.canBeBought=e.canBeBought,this.isRebuyable=e.isRebuyable,this.isBought=!e.isRebuyable&&e.isBought,this.isPossible=e.isPossible,this.isAutoUnlocked=Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied,this.canBeLocked=e.config.canLock&&!this.isAvailableForPurchase,this.hasRequirementLock=e.hasPlayerLock,this.isRebuyable&&(this.isAutobuyerOn=Autobuyer.realityUpgrade(e.id).isActive)},toggleLock(e){this.isRebuyable||e.toggleMechanicLock()}}},QZ=KZ;var JZ=(0,H.A)(QZ,XZ,zZ,!1,null,"8980dc4e",null);const ZZ=JZ.exports,e1={name:"RealityUpgradesTab",components:{RealityUpgradeButton:ZZ},computed:{upgrades:()=>RealityUpgrades.all,costScalingTooltip:()=>`Цены растут принципиально быстрее после ${format(1e30)} МР,\n      а после ${format(Decimal.NUMBER_MAX_VALUE,1)} МР - кардинально быстрее`,possibleTooltip:()=>"Улучшения, раскрашенные в красную клетку, невозможно разблокировать в текущей реальности,\n      а раскрашенные в жёлтую полоску - возможно.",lockTooltip:()=>"Проверка будет работать, только если вы ещё не разблокировали улучшение, но ещё можете\n      разблокировать его в текущей реальности."},methods:{id(e,t){return 5*(e-1)+t-1}}},t1=e1;var i1=(0,H.A)(t1,jZ,WZ,!1,null,"39052898",null);const a1=i1.exports;var n1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-replicanti-tab"},[i("br"),e.isUnlocked?[e.isDoomed?i("div",{staticClass:"modified-cap"},[e._v(" Второй этап "+e._s(e.scrambledText)+" снимает ограничение на количество Репликанти. ")]):e.hasRaisedCap?i("div",{staticClass:"modified-cap"},[e._v(" Награда за Реальность Эффарига на слое бесконечности: "),i("br"),e._v(" Ограничение на Репликанти без ИсслВ192 увеличено до "+e._s(e.format(e.replicantiCap,2))+" ("+e._s(e.capMultText)+") "),i("br"),e._v(" "+e._s(e.quantifyInt("дополнительная",e.effarigInfinityBonusRG))+" "+e._s(e.pluralize("Галактика",e.effarigInfinityBonusRG))+" Репликанти (следующая на ограничении в "+e._s(e.format(e.nextEffarigRGThreshold,2))+") ")]):e._e(),i("p",{staticClass:"c-replicanti-description"},[e._v(" У вас "),i("span",{staticClass:"c-replicanti-description__accent"},[e._v(e._s(e.format(e.amount,2,0)))]),e._v(" Репликанти, которые дают вам "),i("br"),i("span",{domProps:{innerHTML:e._s(e.boostText)}})]),e.hasMaxText?i("div",{staticClass:"c-replicanti-description"},[e._v(" Рекордное количество Репликанти в текущей реальности: "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.toMaxTooltip,expression:"toMaxTooltip"}],staticClass:"max-accent"},[e._v(e._s(e.format(e.maxReplicanti,2)))]),e._v(". ")]):e._e(),i("br"),e.isInEC8?i("div",[e._v(" "+e._s(e.quantifyInt("покупка осталась",e.ec8Purchases))+" (см. условие 8-го Испытания Вечности). ")]):e._e(),i("div",{staticClass:"l-replicanti-upgrade-row"},[i("ReplicantiUpgradeButton",{attrs:{setup:e.replicantiChanceSetup}}),i("ReplicantiUpgradeButton",{attrs:{setup:e.replicantiIntervalSetup}}),i("ReplicantiUpgradeButton",{attrs:{setup:e.maxGalaxySetup}})],1),i("div",[e._v(" Улучшение, увеличивающее максимальное количество Галактик Репликанти, можно покупать сколь угодно много раз, "),i("br"),e._v(" но оно дорожает быстрее после "+e._s(e.quantifyInt("Галактики",e.distantRG))+" Репликанти, а после "+e._s(e.quantifyInt("Галактики",e.remoteRG))+" Репликанти - принципиально быстрее. ")]),i("br"),i("br"),i("ReplicantiGainText"),i("br"),e.canSeeGalaxyButton?i("ReplicantiGalaxyButton"):e._e()]:i("PrimaryButton",{staticClass:"o-primary-btn--replicanti-unlock",attrs:{enabled:e.isUnlockAffordable,onclick:"Replicanti.unlock();"}},[e._v(" Разблокировать Репликанти "),i("br"),e._v(" Цена: "+e._s(e.format(e.unlockCost))+" ОБ ")])],2)},s1=[],r1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group l-replicanti-upgrade-button"},[i("PrimaryButton",{staticClass:"o-primary-btn--replicanti-upgrade",attrs:{enabled:e.canBeBought},on:{click:function(t){return e.upgrade.purchase()}}},[i("span",{domProps:{innerHTML:e._s(e.description)}}),e.isCapped?e._e():[i("br"),i("span",[e._v(e._s(e.costDescription))])]],2),e.isAutoUnlocked&&!e.isEC8Running?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--replicanti-upgrade-toggle",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):e._e()],1)},o1=[];const l1={name:"ReplicantiUpgradeButton",components:{PrimaryButton:Fs,PrimaryToggleButton:$g},props:{setup:{type:Object,required:!0}},data(){return{description:"",canBeBought:!1,costDescription:"",isCapped:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,isEC8Running:!1}},computed:{upgrade(){return this.setup.upgrade}},watch:{isAutobuyerOn(e){Autobuyer.replicantiUpgrade(this.upgrade.id).isActive=e}},methods:{update(){const e=this.setup,t=e.upgrade;this.description=e.formatDescription(t.value),this.canBeBought=t.canBeBought,this.isCapped=t.isCapped,this.isCapped||(this.costDescription=e.formatCost(t.cost));const i=Autobuyer.replicantiUpgrade(t.id);this.isAutoUnlocked=i.isUnlocked,this.isAutobuyerOn=i.isActive,this.isEC8Running=EternityChallenge(8).isRunning}}};class c1{constructor(e,t,i){this.upgrade=e,this.formatDescription=t,this.formatCost=i}}const u1=l1;var d1=(0,H.A)(u1,r1,o1,!1,null,"53610a89",null);const h1=d1.exports;var p1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v(e._s(e.remainingTimeText)),i("br"),e._v(e._s(e.galaxyText))])},m1=[];const y1={name:"ReplicantiGainText",data(){return{remainingTimeText:"",galaxyText:""}},methods:{update(){const e=player.options.updateRate,t=1e3/e,i=Decimal.divide(getGameSpeedupForDisplay()*e*Math.log(player.replicanti.chance+1),getReplicantiInterval()),a=i.dividedBy(Math.LN10),n=Decimal.divide(getGameSpeedupForDisplay()*e*Math.log(player.replicanti.chance+1),getReplicantiInterval(!1)).dividedBy(Math.LN10),s=Replicanti.amount,r=Replicanti.isUncapped&&s.log10()>LOG10_MAX_VALUE;if(r){const a=Math.log10(ReplicantiGrowth.scaleFactor)/ReplicantiGrowth.scaleLog10,n=i.times(a).plus(1).pow(t/a),r=Pelle.isDoomed?100:1e3,o=Decimal.pow10(r*Math.floor(s.log10()/r+1)),l=Decimal.divide(e/1e3,i.times(a)),c=l.times(o.divide(s).pow(a).minus(1)),u=c.eq(0)?" слишком большое, чтобы его можно было вычислить":`: ${TimeSpan.fromSeconds(c.toNumber())}`;this.remainingTimeText=`Количество ваших Репликанти растёт в ${format(n,2,1)} раза в секунду (время, оставшееся до ${format(o)}${u})`}else this.remainingTimeText="";const o=LOG10_MAX_VALUE/(t*a.toNumber());let l=(LOG10_MAX_VALUE-s.log10())/(t*a.toNumber());l<0&&(l=0);const c=n.times(t/LOG10_MAX_VALUE),u=e=>50*Math.log((e+49.5)/49.5);let d,h,p;RealityUpgrade(6).isBought&&!Pelle.isDoomed?(d=c.divide(RealityUpgrade(6).effectValue),h=u(Replicanti.galaxies.max+Replicanti.galaxies.extra)-u(Replicanti.galaxies.extra),p=u(Replicanti.galaxies.bought+Replicanti.galaxies.extra)-u(Replicanti.galaxies.extra)):(d=c,h=Replicanti.galaxies.max,p=Replicanti.galaxies.bought);const m=c.reciprocal();if(""===this.remainingTimeText&&(0===l?this.remainingTimeText=`Вы достигли ${format(Number.MAX_VALUE,2,2)} Репликанти (что в среднем занимает\n            ${TimeSpan.fromSeconds(m.toNumber(),"accusative")})`:s.lt(100)?this.remainingTimeText=`Время до ${format(Number.MAX_VALUE,2,2)} Репликанти: около ${TimeSpan.fromSeconds(l,"genitive")}`:this.remainingTimeText=`Время до ${format(Number.MAX_VALUE,2,2)} Репликанти: ${TimeSpan.fromSeconds(l)}`),0!==Replicanti.galaxies.max||r||(this.remainingTimeText+=` (всего ${TimeSpan.fromSeconds(o)})`),Replicanti.galaxies.max>0)if(player.replicanti.galaxies===Replicanti.galaxies.max)this.galaxyText="Вы достигли максимального количества Галактик Репликанти";else{this.galaxyText=`Вы получаете Галактику Репликанти примерно раз в\n            ${TimeSpan.fromSeconds(m.toNumber(),"accusative")}`,c.gte(1)&&(this.galaxyText=`Вы получаете около ${format(c,2,1)} Галактики Репликанти в секунду`);const e=Decimal.divide(h-p,d).toNumber(),t=Replicanti.galaxies.gain;let i=t*m.toNumber();if(Achievement(126).isUnlocked&&!Pelle.isDoomed){const e=s.log10()/LOG10_MAX_VALUE-t;i+=e*m.toNumber()}const a=t>0?i:m.toNumber()-l;this.galaxyText+=` (время до максимального количества Галактик Репликанти:\n            ${TimeSpan.fromSeconds(Math.clampMin(e-a,0))})`}else this.galaxyText=""}}},f1=y1;var g1=(0,H.A)(f1,p1,m1,!1,null,"58cf097a",null);const b1=g1.exports;var v1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group"},[i("PrimaryButton",{staticClass:"o-primary-btn--replicanti-galaxy",attrs:{enabled:e.isAvailable},on:{click:e.handleClick}},[e._v(" "+e._s(e.resetActionDisplay)+" за Галактику Репликанти "),i("br"),e._v(" "+e._s(e.galaxyCountDisplay)+" ")]),e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--replicanti-galaxy-toggle",attrs:{value:e.isAutoActive,on:e.autobuyerTextDisplay,off:e.autobuyerTextDisplay},on:{input:e.handleAutoToggle}}):e._e()],1)},E1=[];const T1={name:"ReplicantiGalaxyButton",components:{PrimaryButton:Fs,PrimaryToggleButton:$g},data(){return{isAvailable:!1,isAutoUnlocked:!1,isAutoActive:!1,isAutoEnabled:!1,isDivideUnlocked:!1,boughtGalaxies:0,extraGalaxies:0}},computed:{resetActionDisplay(){return this.isDivideUnlocked&&!Pelle.isDoomed?`Разделить количество Репликанти на ${format(Number.MAX_VALUE,1,1)}`:"Сбросить ваши Репликанти"},galaxyCountDisplay(){const e=this.boughtGalaxies,t=this.extraGalaxies,i=t>0?`${formatInt(e)}+${formatInt(t)}`:formatInt(e);return`Имеется: ${i}`},autobuyer(){return Autobuyer.replicantiGalaxy},autobuyerTextDisplay(){const e=this.isAutoActive,t=!this.isAutoEnabled;return`Автоматика Галактик Репликанти: ${e?"ВКЛ.":"ВЫКЛ."}${t?" (отключена)":""}`}},methods:{update(){const e=Replicanti.galaxies;this.isAvailable=e.canBuyMore,this.boughtGalaxies=e.bought,this.extraGalaxies=e.extra,this.isDivideUnlocked=Achievement(126).isUnlocked;const t=Autobuyer.replicantiGalaxy;this.isAutoUnlocked=t.isUnlocked,this.isAutoActive=t.isActive,this.isAutoEnabled=t.isEnabled},handleAutoToggle(e){Autobuyer.replicantiGalaxy.isActive=e,this.update()},handleClick(){replicantiGalaxyRequest()}}},_1=T1;var C1=(0,H.A)(_1,v1,E1,!1,null,"e16e39fc",null);const A1=C1.exports,k1={name:"ReplicantiTab",components:{PrimaryButton:Fs,ReplicantiGainText:b1,ReplicantiUpgradeButton:h1,ReplicantiGalaxyButton:A1},data(){return{isUnlocked:!1,isUnlockAffordable:!1,isInEC8:!1,ec8Purchases:0,amount:new Decimal,mult:new Decimal,hasTDMult:!1,multTD:new Decimal,hasDTMult:!1,multDT:new Decimal,hasIPMult:!1,multIP:new Decimal,hasRaisedCap:!1,replicantiCap:new Decimal,capMultText:"",distantRG:0,remoteRG:0,effarigInfinityBonusRG:0,isUncapped:!1,nextEffarigRGThreshold:0,canSeeGalaxyButton:!1,unlockCost:new Decimal,scrambledText:"",maxReplicanti:new Decimal,estimateToMax:0}},computed:{isDoomed:()=>Pelle.isDoomed,replicantiChanceSetup(){return new c1(ReplicantiUpgrade.chance,(e=>`Вероятность: ${formatPercents(e)}`),(e=>`+${formatPercents(.01)}; Цена: ${format(e)} ОБ`))},replicantiIntervalSetup(){const e=ReplicantiUpgrade.interval;function t(t){const i=e.applyModifiers(t),a=i.toNumber();return Number.isFinite(a)&&a>1&&e.isCapped?TimeSpan.fromMilliseconds(a).toStringShort(!1):i.lt(.01)?`< ${format(.01,2,2)}мс`:i.gt(1e3)?`${format(i.div(1e3),2,2)}с`:`${format(i,2,2)}мс`}return new c1(e,(e=>`Интервал: ${t(e)}`),(i=>`➜ ${t(e.nextValue)}; Цена: ${format(i)} ОБ`))},maxGalaxySetup(){const e=ReplicantiUpgrade.galaxies;return new c1(e,(t=>{let i="Максимальное количество Галактик Репликанти: ";const a=e.extra;if(a>0){const e=t+a;i+=`<br>${formatInt(t)} + ${formatInt(a)} = ${formatInt(e)}`}else i+=formatInt(t);return i}),(e=>`+${formatInt(1)}; Цена: ${format(e)} ОБ`))},boostText(){const e=[];if(e.push(`множитель <span class="c-replicanti-description__accent">${formatX(this.mult,2,2)}</span>\n        ко всем Измерениям Бесконечности`),this.hasTDMult&&e.push(`множитель <span class="c-replicanti-description__accent">${formatX(this.multTD,2,2)}</span>\n          ко всем Измерениям Времени (Улучшение Замедления)`),this.hasDTMult){const t=GlyphAlteration.isAdded("replication")?"и скорости репликации ":"";e.push(`множитель <span class="c-replicanti-description__accent">${formatX(this.multDT,2,2)}</span>\n          к производству Замедленного Времени ${t}(глифы)`)}return this.hasIPMult&&e.push(`множитель <span class="c-replicanti-description__accent">${formatX(this.multIP)}</span>\n          к получению Очков Бесконечности (алхимия)`),1===e.length?`${e[0]}.`:`${e.slice(0,-1).join(",<br>")}<br> и ${e[e.length-1]}.`},hasMaxText:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,toMaxTooltip(){return this.amount.lte(this.replicantiCap)?null:this.estimateToMax.lt(.01)?"Возрастает":TimeSpan.fromSeconds(this.estimateToMax.toNumber()).toStringShort()}},methods:{update(){if(this.isUnlocked=Replicanti.areUnlocked,this.unlockCost=new Decimal(1e140).dividedByEffectOf(PelleRifts.vacuum.milestones[1]),this.isDoomed&&(this.scrambledText=this.vacuumText()),this.isUnlocked){if(this.isInEC8=EternityChallenge(8).isRunning,this.isInEC8&&(this.ec8Purchases=player.eterc8repl),this.amount.copyFrom(Replicanti.amount),this.mult.copyFrom(replicantiMult()),this.hasTDMult=DilationUpgrade.tdMultReplicanti.isBought,this.multTD.copyFrom(DilationUpgrade.tdMultReplicanti.effectValue),this.hasDTMult=0!==getAdjustedGlyphEffect("replicationdtgain")&&!Pelle.isDoomed,this.multDT=Math.clampMin(Decimal.log10(Replicanti.amount)*getAdjustedGlyphEffect("replicationdtgain"),1),this.hasIPMult=AlchemyResource.exponential.amount>0&&!this.isDoomed,this.multIP=Replicanti.amount.powEffectOf(AlchemyResource.exponential),this.isUncapped=PelleRifts.vacuum.milestones[1].canBeApplied,this.hasRaisedCap=EffarigUnlock.infinity.isUnlocked&&!this.isUncapped,this.replicantiCap.copyFrom(replicantiCap()),this.hasRaisedCap){const e=this.replicantiCap.div(Decimal.NUMBER_MAX_VALUE);this.capMultText=TimeStudy(31).canBeApplied?`по умолчанию: ${formatX(e.pow(1/TimeStudy(31).effectValue),2)}; с учётом ИсслВ31: ${formatX(e,2)}`:formatX(e,2)}this.distantRG=ReplicantiUpgrade.galaxies.distantRGStart,this.remoteRG=ReplicantiUpgrade.galaxies.remoteRGStart,this.effarigInfinityBonusRG=Effarig.bonusRG,this.nextEffarigRGThreshold=Decimal.NUMBER_MAX_VALUE.pow(Effarig.bonusRG+2),this.canSeeGalaxyButton=Replicanti.galaxies.max>=1||PlayerProgress.eternityUnlocked(),this.maxReplicanti.copyFrom(player.records.thisReality.maxReplicanti),this.estimateToMax=this.calculateEstimate()}else this.isUnlockAffordable=Currency.infinityPoints.gte(this.unlockCost)},vacuumText(){return $e.wordCycle(["Вакуума","Полости","Пустоты"])},calculateEstimate(){const e=player.options.updateRate,t=Decimal.divide(getGameSpeedupForDisplay()*e*Math.log(player.replicanti.chance+1),getReplicantiInterval()),i=Math.log10(ReplicantiGrowth.scaleFactor)/ReplicantiGrowth.scaleLog10,a=this.maxReplicanti,n=Decimal.divide(e/1e3,t.times(i));return n.times(a.divide(this.amount).pow(i).minus(1))}}},w1=k1;var S1=(0,H.A)(w1,n1,s1,!1,null,"d4dde4f6",null);const x1=S1.exports;var R1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-achievements-tab"},[e._m(0),i("div",{staticClass:"l-achievement-grid"},e._l(e.rows,(function(e,t){return i("secret-achievement-row",{key:t,attrs:{row:e}})})),1)])},I1=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-achievements-tab__header"},[i("span",[e._v(" Секретные достижения не дают никаких наград. ")])])}],M1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject},e._l(e.row,(function(e,t){return i("SecretAchievement",{key:t,staticClass:"l-achievement-grid__cell",attrs:{achievement:e}})})),1)},D1=[],P1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject,style:e.styleObject,on:{click:e.onClick,mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[i("HintText",{staticClass:"l-hint-text--achievement",attrs:{type:"achievements"}},[e._v(" С"+e._s(e.id)+" ")]),i("div",{staticClass:"o-achievement__tooltip"},[e.isMouseOver?[i("div",{staticClass:"o-achievement__tooltip__name"},[e._v(" "+e._s(e.config.name)+" (С"+e._s(e.id)+") ")]),e.isUnlocked?i("div",{staticClass:"o-achievement__tooltip__description"},[e._v(" "+e._s(e.config.description)+" ")]):e._e()]:e._e()],2),e.showUnlockState?i("div",{class:e.indicatorClassObject},[i("i",{class:e.indicatorIconClass})]):e._e()],1)},U1=[];const G1={name:"SecretAchievement",components:{HintText:cN},props:{achievement:{type:Object,required:!0}},data(){return{isUnlocked:!1,isMouseOver:!1,showUnlockState:!1}},computed:{id(){return this.achievement.id},config(){return this.achievement.config},styleObject(){if(this.isUnlocked)return{"background-position":`-${104*(this.achievement.column-1)}px -${104*(this.achievement.row-1)}px`}},classObject(){return{"o-achievement":!0,"o-achievement--hidden":!this.isUnlocked,"o-achievement--unlocked":this.isUnlocked,"o-achievement--secret":!0}},indicatorIconClass(){return this.isUnlocked?"fas fa-check":"fas fa-times"},indicatorClassObject(){return{"o-achievement__indicator":!0,"o-achievement__indicator--locked":!this.isUnlocked}}},beforeDestroy(){clearTimeout(this.mouseOverInterval)},methods:{update(){this.isUnlocked=this.achievement.isUnlocked,this.showUnlockState=player.options.showHintText.achievementUnlockStates},onMouseEnter(){clearTimeout(this.mouseOverInterval),this.isMouseOver=!0},onMouseLeave(){this.mouseOverInterval=setTimeout((()=>this.isMouseOver=!1),300)},onClick(){11===this.id&&SecretAchievement(11).unlock()}}},N1=G1;var B1=(0,H.A)(N1,P1,U1,!1,null,null,null);const O1=B1.exports,L1={name:"SecretAchievementRow",components:{SecretAchievement:O1},props:{row:{type:Array,required:!0}},data(){return{isCompleted:!1}},computed:{classObject(){return{"l-achievement-grid__row":!0,"c-achievement-grid__row--completed":this.isCompleted}}},methods:{update(){this.isCompleted=this.row.every((e=>e.isUnlocked))}}},$1=L1;var H1=(0,H.A)($1,M1,D1,!1,null,null,null);const F1=H1.exports,q1={name:"SecretAchievementTab",components:{SecretAchievementRow:F1},computed:{rows:()=>SecretAchievements.allRows}},V1=q1;var Y1=(0,H.A)(V1,R1,I1,!1,null,null,null);const j1=Y1.exports;var W1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab shop"},[i("div",{staticClass:"c-shop-disclaimer"},[e._v(" Disclaimer: These are not required to progress in the game, they are just for supporting the developer. The game is balanced without the use of any microtransactions. ")]),i("div",[e._v(" Note: Shop purchases made on the Android, Steam, and Web versions are separate and non-transferable due to legal reasons. ")]),i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",class:{"o-pelle-disabled-pointer":e.creditsClosed},attrs:{label:"Disable in-app-purchases:"},on:{click:function(t){return e.toggleEnable()}}},[e._v(" "+e._s(e.enableText)+" ")]),e.STEAM?e._e():i("PrimaryButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.respecText,expression:"respecText"}],class:e.respecClass(),on:{click:function(t){return e.respec()}}},[e._v(" Respec Shop ")])],1),!e.loggedIn||e.canRespec||e.STEAM?e._e():i("div",[e._v(" Time until respec available: "+e._s(e.respecTimeStr)+" ")]),e.loggedIn?i("div",{staticClass:"c-login-info"},[e.STEAM?[e._v(" You are logged in as "+e._s(e.username)+". ")]:[e.hiddenName?i("span",[e._v("You are logged in. "),i("i",[e._v("(name hidden)")])]):i("span",[e._v("You are logged in as "+e._s(e.username)+".")]),i("button",{staticClass:"o-shop-button-button",attrs:{onclick:"GameOptions.logout()"}},[e._v(" Disconnect Google Account ")])]],2):i("div",{staticClass:"c-login-info"},[e._v(" You must be logged in to purchase STD coins or use these upgrades. "),i("button",{staticClass:"o-shop-button-button",attrs:{onclick:"GameOptions.login()"}},[e._v(" Login with Google ")])]),i("div",{staticClass:"c-shop-header"},[i("span",[e._v("You have "+e._s(e.availableSTD))]),i("img",{staticClass:"c-shop-header__img",attrs:{src:"images/std_coin.png"}}),i("button",{staticClass:"o-shop-button-button",class:{"o-shop-button-button--disabled":!e.loggedIn},on:{click:function(t){return e.showStore()}}},[e._v(" Buy More ")])]),e._v(" Note: All numbers on this page are intentionally unaffected by your notation settings "),i("div",{staticClass:"l-shop-buttons-container"},e._l(e.purchases,(function(e){return i("ShopButton",{key:e.key,attrs:{purchase:e}})})),1),i("loading",{attrs:{active:e.isLoading,"can-cancel":!0,"on-cancel":e.onCancel,"is-full-page":!0}})],1)},X1=[],z1=i(9411),K1=i.n(z1),Q1=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-shop-button-container"},[i("div",{staticClass:"o-shop-button-description"},[e._v(" "+e._s(e.purchase.description)+" "),i("br"),e.purchase.shouldDisplayMult?i("span",{staticClass:"o-shop-button-multiplier",class:{"o-shop-button-multiplier--disabled":e.iapDisabled}},[e._v(" Currently "+e._s(e.purchase.formatEffect(e.currentMult))+", next: "+e._s(e.purchase.formatEffect(e.nextMult))+" ")]):e._e()]),i("div",[e.isSingleCosmeticSet?i("div",[e.allSetsUnlocked?i("div",{staticClass:"o-shop-button-multiplier"},[e._v(" All Sets unlocked! ")]):i("div",[i("button",{staticClass:"o-shop-button-button",on:{click:e.openSelectionModal}},[e._v(" Choose Set ")]),e._v(" Chosen Set: "+e._s(e.chosenSet)+" ")])]):e._e(),e.isAllCosmeticSets?i("div",{staticClass:"o-shop-button-multiplier"},[e.allSetsUnlocked?i("div",[e._v(" All Sets unlocked! ")]):i("div",[e._v(" Will unlock "+e._s(e.quantify("set",e.lockedCount))+" ")])]):e._e()]),i("button",{class:e.purchaseButtonObject(),on:{click:e.performPurchase}},[e._v(" Cost: "+e._s(e.cost)+" "),i("img",{staticClass:"o-shop-button-button__img",attrs:{src:"images/std_coin.png"}})]),e.purchase.isUnlocked()?e._e():i("div",{staticClass:"o-shop-button-locked-text"},[e._v(" This affects a feature you have not unlocked yet ("+e._s(e.purchase.lockText)+") ")])])},J1=[];const Z1={name:"ShopButton",props:{purchase:{type:Object,required:!0}},data(){return{currentMult:0,nextMult:0,canAfford:!1,iapDisabled:!1,cost:0,hasChosen:!1,chosenSet:"",lockedCount:0}},computed:{isSingleCosmeticSet(){return"singleCosmeticSet"===this.purchase.config.key},isAllCosmeticSets(){return"allCosmeticSets"===this.purchase.config.key},allSetsUnlocked(){return(this.isSingleCosmeticSet||this.isAllCosmeticSets)&&!this.lockedCount}},methods:{update(){var e,t;this.currentMult=this.purchase.currentMultForDisplay,this.nextMult=this.purchase.nextMultForDisplay,this.canAfford=this.purchase.canBeBought,this.iapDisabled=!ShopPurchaseData.isIAPEnabled,this.cost=Math.clampMin(this.purchase.cost,0),this.hasChosen=null!==GlyphAppearanceHandler.chosenFromModal,this.chosenSet=null!==(e=null===(t=GlyphAppearanceHandler.chosenFromModal)||void 0===t?void 0:t.name)&&void 0!==e?e:"Not Selected",this.lockedCount=GlyphAppearanceHandler.lockedSets.length},openSelectionModal(){Modal.cosmeticSetChoice.show()},performPurchase(){this.isSingleCosmeticSet&&!this.hasChosen||this.purchase.purchase()},purchaseButtonObject(){const e=this.isSingleCosmeticSet&&!this.hasChosen||this.allSetsUnlocked;return{"o-shop-button-button":!0,"o-shop-button-button--disabled":!this.canAfford||e}}}},e0=Z1;var t0=(0,H.A)(e0,Q1,J1,!1,null,"27835b02",null);const i0=t0.exports,a0={name:"ShopTab",components:{ShopButton:i0,Loading:K1(),PrimaryButton:Fs},data(){return{availableSTD:0,spentSTD:0,isLoading:!1,IAPsEnabled:!1,creditsClosed:!1,loggedIn:!1,username:"",canRespec:!1,respecTimeStr:""}},computed:{STEAM(){return f},purchases(){return ShopPurchase.all},enableText(){return"In-app Purchases: "+(this.IAPsEnabled?"Enabled":"Disabled")},respecText(){return this.loggedIn?this.canRespec?null:"No respec available! (Purchase STDs or wait 3 days since your last one)":"Not logged in!"},hiddenName(){return player.options.hideGoogleName}},methods:{update(){var e;this.availableSTD=ShopPurchaseData.availableSTD,this.spentSTD=ShopPurchaseData.spentSTD,this.isLoading=Boolean(player.IAP.checkoutSession.id),this.IAPsEnabled=player.IAP.enabled,this.creditsClosed=GameEnd.creditsEverClosed,this.loggedIn=Cloud.loggedIn,this.username=null===(e=Cloud.user)||void 0===e?void 0:e.displayName,this.canRespec=ShopPurchaseData.canRespec,ShopPurchaseData.respecAvailable||this.canRespec||(this.respecTimeStr=ShopPurchaseData.timeUntilRespec.toStringShort())},showStore(){f&&!wc.isActive||this.creditsClosed||(SecretAchievement(33).unlock(),this.loggedIn?Modal.shop.show():Modal.message.show("You cannot purchase STD coins without logging in first."))},onCancel(){Qw.cancelPurchase(!1)},respec(){!this.creditsClosed&&this.loggedIn&&this.canRespec&&ShopPurchaseData.respecRequest()},toggleEnable(){ShopPurchaseData.availableSTD<0||(player.IAP.enabled=!player.IAP.enabled,ShopPurchaseData.isIAPEnabled&&Speedrun.setSTDUse(!0))},respecClass(){return{"o-primary-btn--subtab-option":!0,"o-pelle-disabled-pointer":this.creditsClosed,"o-primary-btn--disabled":!this.loggedIn||!this.canRespec}}}},n0=a0;var s0=(0,H.A)(n0,W1,X1,!1,null,"53785f5e",null);const r0=s0.exports;var o0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("PrimaryToggleButton",{staticClass:"o-primary-btn--subtab-option",attrs:{label:"Показать описания всех стадий:"},model:{value:e.displayAll,callback:function(t){e.displayAll=t},expression:"displayAll"}}),i("br"),i("b",[e._v(e._s(e.startTimeStr))]),i("br"),i("b",[e._v(e._s(e.spectateText))]),i("br"),i("div",{staticClass:"l-speedrun-milestone-tab"},e._l(e.milestones,(function(t){return i("SpeedrunMilestoneSingle",{key:t.id,attrs:{milestone:t,display:e.displayAll||t.id<=e.maxMilestone,time:e.milestoneTimes[t.id]}})})),1)],1)},l0=[],c0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classObject},[i("b",[e._v(e._s(e.displayName))]),e._v(" "+e._s(e.timeDisplay)+" ")])},u0=[];const d0={name:"SpeedrunMilestoneSingle",props:{milestone:{type:Object,required:!0},display:{type:Boolean,required:!1,default:!1},time:{type:Number,required:!1,default:0}},computed:{displayName(){return this.display?this.milestone.name:"???"},timeDisplay(){return this.time?`Достигнуто за ${TimeSpan.fromMilliseconds(this.time).toStringShort(!0,!0)}`:"Ещё не достигнуто"},classObject(){return{"l-speedrun-milestone-entry":!0,"l-speedrun-milestone-entry--completed":this.time}}}},h0=d0;var p0=(0,H.A)(h0,c0,u0,!1,null,null,null);const m0=p0.exports,y0={name:"SpeedrunMilestonesTab",components:{PrimaryToggleButton:$g,SpeedrunMilestoneSingle:m0},data(){return{milestoneTimes:[],maxMilestone:1,startTimeStr:"",displayAll:!1,isSpectating:!1}},computed:{milestones:()=>GameDatabase.speedrunMilestones,spectateText(){return this.isSpectating?"Чтобы вы могли просмотреть данные забега, мы не замещаем их словом КОНЕЦ.":null}},watch:{displayAll(e){player.speedrun.displayAllMilestones=e}},methods:{update(){this.milestoneTimes=[...player.speedrun.records],this.maxMilestone=this.milestoneTimes.map((e=>Boolean(e))).lastIndexOf(!0)+1,this.startTimeStr=0===player.speedrun.startDate?"Спидран ещё не начат.":`Дата начала спидрана: ${Time.toDateTimeString(player.speedrun.startDate)}`,this.displayAll=player.speedrun.displayAllMilestones,this.isSpectating=GameEnd.endState>END_STATE_MARKERS.SPECTATE_GAME}}},f0=y0;var g0=(0,H.A)(f0,o0,l0,!1,null,null,null);const b0=g0.exports;var v0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-stats-tab"},[i("div",[i("PrimaryButton",{attrs:{onclick:"Modal.catchup.show(0)"}},[e._v(" Просмотреть краткое изложение контента ")]),i("div",{staticClass:"c-stats-tab-title c-stats-tab-general"},[e._v(" Общее ")]),i("div",{staticClass:"c-stats-tab-general"},[i("div",[e._v("Вы произвели "+e._s(e.format(e.totalAntimatter,2,1))+" антиматерии всего.")]),i("div",[e._v("Вы играли "+e._s(e.realTimePlayed.toString("accusative"))),e.seenAlteredSpeed?i("span",[e._v(" (по реальному времяисчислению)")]):e._e(),e._v(".")]),e.seenAlteredSpeed?i("div",[e._v(" Ваше существование продлилось "+e._s(e.reality.totalTimePlayed.toString("accusative"))+" (по игровому времяисчислению). ")]):e._e(),i("div",[e._v(" Ваше текущее сохранение было создано "+e._s(e.startDate)+" ("+e._s(e.saveAge)+" назад). ")]),i("br"),i("div",[e._v(" Вы просмотрели "+e._s(e.quantifyInt("новость",e.totalNews))+". ")]),i("div",[e._v(" Вы увидели "+e._s(e.quantifyInt("новость",e.uniqueNews))+" без учёта повторений. ")]),i("div",[e._v(" Вы выполнили "+e._s(e.quantifyInt("секретное достижение",e.secretAchievementCount))+". ")]),e.paperclips?i("div",[e._v(" У вас "+e._s(e.quantifyInt("бесполезная скрепка",e.paperclips))+". ")]):e._e(),e.fullGameCompletions?i("div",[i("br"),i("b",[e._v(" Вы завершили игру целиком "+e._s(e.quantifyInt("раз",e.fullGameCompletions))+". "),i("br"),e._v(" Вы играли "+e._s(e.fullTimePlayed)+" в сумме по всем забегам. ")])]):e._e()]),i("div",[i("br"),i("div",{staticClass:"c-matter-scale-container c-stats-tab-general"},[e._l(e.matterScale,(function(t,a){return i("div",{key:a},[e._v(" "+e._s(t)+" ")])})),e.matterScale.length<2?i("br"):e._e(),e.matterScale.length<3?i("br"):e._e()],2)]),i("br")],1),e.infinity.isUnlocked?i("div",{staticClass:"c-stats-tab-subheader c-stats-tab-general"},[i("div",{staticClass:"c-stats-tab-title c-stats-tab-infinity"},[e._v(" Бесконечность ")]),i("div",[e._v(" У вас "+e._s(e.infinityCountString)),e.eternity.isUnlocked?i("span",[e._v(" в текущей вечности")]):e._e(),e._v(". ")]),e.infinity.banked.gt(0)?i("div",[e._v(" У вас "+e._s(e.formatDecimalAmount(e.infinity.banked.floor()))+" "+e._s(e.pluralize("сохранённая бесконечность",e.infinity.banked.floor()))+". ")]):e._e(),e.infinity.hasBest?i("div",[e._v(" Рекорд бесконечности"),e.eternity.isUnlocked?i("span",[e._v(" в текущей вечности")]):e._e(),e._v(": "+e._s(e.infinity.best.toStringShort())+". ")]):e._e(),i("div",[e._v(" Текущая бесконечность длится "+e._s(e.infinity.this.toStringShort())),e.seenAlteredSpeed?i("span",[e._v(" ("+e._s(e.infinity.thisReal.toStringShort())+" по реальному времяисчислению)")]):e._e(),e._v(". ")]),i("div",[e._v(" Рекордный прирост Очков Бесконечности за время"),e.eternity.count.gt(0)?i("span",[e._v(" в текущей вечности")]):e._e(),e._v(": "+e._s(e.format(e.infinity.bestRate,2,2))+" в минуту. ")]),i("br")]):e._e(),e.eternity.isUnlocked?i("div",{staticClass:"c-stats-tab-subheader c-stats-tab-general"},[i("div",{staticClass:"c-stats-tab-title c-stats-tab-eternity"},[e._v(" Вечность ")]),i("div",[e._v(" У вас "+e._s(e.eternityCountString)),e.reality.isUnlocked?i("span",[e._v(" в текущей реальности")]):e._e(),e._v(". ")]),e.infinity.projectedBanked.gt(0)?i("div",[e._v(" Вы получите "+e._s(e.formatDecimalAmount(e.infinity.projectedBanked.floor()))+" "+e._s(e.pluralize("сохранённую бесконечность",e.infinity.projectedBanked.floor()))+" на вечности ("+e._s(e.formatDecimalAmount(e.infinity.bankRate))+" в минуту). ")]):e._e(),e.eternity.hasBest?i("div",[e._v(" Рекорд вечности"),e.reality.isUnlocked?i("span",[e._v(" в текущей реальности")]):e._e(),e._v(": "+e._s(e.eternity.best.toStringShort())+". ")]):e._e(),i("div",[e._v(" Текущая вечность длится "+e._s(e.eternity.this.toStringShort())),e.seenAlteredSpeed?i("span",[e._v(" ("+e._s(e.eternity.thisReal.toStringShort())+" по реальному времяисчислению)")]):e._e(),e._v(". ")]),i("div",[e._v(" Рекордный прирост Очков Вечности за время"),e.reality.isUnlocked?i("span",[e._v(" в текущей реальности")]):e._e(),e._v(": "+e._s(e.format(e.eternity.bestRate,2,2))+" в минуту. ")]),i("br")]):e._e(),e.reality.isUnlocked?i("div",{staticClass:"c-stats-tab-subheader c-stats-tab-general"},[i("div",{class:e.realityClassObject()},[e._v(" "+e._s(e.isDoomed?"Обречённая Реальность":"Реальность")+" ")]),i("div",[e._v("У вас "+e._s(e.quantifyInt("реальность",e.reality.count))+".")]),i("div",[e._v("Рекорд реальности по игровому времяисчислению: "+e._s(e.reality.best.toStringShort())+".")]),i("div",[e._v("Рекорд реальности по реальному времяисчислению: "+e._s(e.reality.bestReal.toStringShort())+".")]),i("div",{class:{"c-stats-tab-doomed":e.isDoomed}},[e._v(" "+e._s(e.isDoomed?"Текущий армагеддон":"Текущая реальность")+" длится "+e._s(e.reality.this.toStringShort())+" ("+e._s(e.reality.thisReal.toStringShort())+" по реальному времяисчислению). ")]),e.isDoomed?i("div",{staticClass:"c-stats-tab-doomed"},[e._v(" Вы обрекли Реальность "+e._s(e.realTimeDoomed.toStringShort())+" назад по реальному времяисчислению. ")]):e._e(),i("div",[e._v(" Рекордный прирост Машин Реальности за время: "+e._s(e.format(e.reality.bestRate,2,2))+" в минуту. ")]),i("div",[e._v("Рекордная редкость глифа: "+e._s(e.formatRarity(e.reality.bestRarity))+".")]),i("br")]):e._e()])},E0=[];const T0={proton:new Decimal("2.82e-45"),estimate(e){if(!e)return["У вас нет антиматерии."];if(e.gt(v.C2P1024))return["Если писать три цифры в секунду, понадобится "+TimeSpan.fromSeconds(e.log10()/3).toString()+", чтобы записать количество вашей антиматерии с точностью до целых."];const t=new Decimal("4.22419e-105"),i=e.times(t);if(i.gt(this.proton)){const e=this.macroScale(i),t=format(i.dividedBy(e.amount),2,1);return[`Если бы каждая единица антиматерии занимала планковский объём,\n        вы бы могли заполнить около ${t} объёма ${e.name}.`]}const a=this.microScale(e);return[`Если бы каждая единица антиматерии занимала объём, равный ${format(this.proton.div(a.amount).div(e),2,1)} ${a.name},\n      вы бы могли заполнить объём одного протона.`]},microScale(e){const t=this.microObjects;for(let i=0;i<t.length;i++){const a=t[i];if(e.times(a.amount).lt(this.proton))return a}throw"Cannot determine smallest antimatter scale"},macroScale(e){const t=this.macroObjects,i=t.last();if(e.gte(i.amount))return i;let a=0,n=t.length;while(a!==n){const i=Math.floor((a+n)/2);t[i].amount.lte(e)?a=i+1:n=i}return t[n-1]},microObjects:[{amount:new Decimal("1e-54"),name:"кубического аттометра"},{amount:new Decimal("1e-63"),name:"кубического зептометра"},{amount:new Decimal("1e-72"),name:"кубического иоктометра"},{amount:new Decimal("4.22419e-105"),name:"планковского объёма"}],macroObjects:[{amount:new Decimal("2.5e-45"),name:"протона"},{amount:new Decimal("1.72e-42"),name:"ядра урана-238"},{amount:new Decimal("6.6e-31"),name:"атома водорода"},{amount:new Decimal("5e-21"),name:"вируса"},{amount:new Decimal("9e-17"),name:"эритроцита"},{amount:new Decimal("6.2e-11"),name:"песчинки"},{amount:new Decimal("5e-8"),name:"зерна риса"},{amount:new Decimal("5e-6"),name:"чайной ложки"},{amount:new Decimal("7.5e-4"),name:"винной бутылки"},{amount:v.D1,name:"морозильной камеры"},{amount:new Decimal("2.5e3"),name:"олимпийского бассейна"},{amount:new Decimal("2.44e6"),name:"пирамиды Хеопса"},{amount:new Decimal("3.3e8"),name:"Великой Китайской стены"},{amount:new Decimal("5e12"),name:"крупного астероида"},{amount:new Decimal("4.5e17"),name:"карликовой планеты"},{amount:new Decimal("1.08e21"),name:"Земли"},{amount:new Decimal("1.53e24"),name:"Юпитера"},{amount:new Decimal("1.41e27"),name:"Солнца"},{amount:new Decimal("5e32"),name:"красного гиганта"},{amount:new Decimal("8e36"),name:"гипергиганта"},{amount:new Decimal("1.7e45"),name:"туманности"},{amount:new Decimal("1.7e48"),name:"облака Оорта"},{amount:new Decimal("3.3e55"),name:"Местного пузыря"},{amount:new Decimal("3.3e61"),name:"галактики"},{amount:new Decimal("5e68"),name:"Местной группы галактик"},{amount:new Decimal("1e73"),name:"Пустоты Скульптора"},{amount:new Decimal("3.4e80"),name:"наблюдаемой Вселенной"}]},_0={name:"StatisticsTab",components:{PrimaryButton:Fs},data(){return{isDoomed:!1,realTimeDoomed:TimeSpan.zero,totalAntimatter:new Decimal(0),realTimePlayed:TimeSpan.zero,timeSinceCreation:0,uniqueNews:0,totalNews:0,secretAchievementCount:0,infinity:{isUnlocked:!1,count:new Decimal(0),banked:new Decimal(0),projectedBanked:new Decimal(0),bankRate:new Decimal(0),hasBest:!1,best:TimeSpan.zero,this:TimeSpan.zero,thisReal:TimeSpan.zero,bestRate:new Decimal(0)},eternity:{isUnlocked:!1,count:new Decimal(0),hasBest:!1,best:TimeSpan.zero,this:TimeSpan.zero,thisReal:TimeSpan.zero,bestRate:new Decimal(0)},reality:{isUnlocked:!1,count:0,best:TimeSpan.zero,bestReal:TimeSpan.zero,this:TimeSpan.zero,thisReal:TimeSpan.zero,totalTimePlayed:TimeSpan.zero,bestRate:new Decimal(0),bestRarity:0},matterScale:[],lastMatterTime:0,paperclips:0,fullTimePlayed:0,seenAlteredSpeed:!1}},computed:{infinityCountString(){const e=this.infinity.count;return e.gt(0)?`${this.formatDecimalAmount(e)} ${pluralize("бесконечность",e.floor())}`:"нет бесконечностей"},eternityCountString(){const e=this.eternity.count;return e.gt(0)?`${this.formatDecimalAmount(e)} ${pluralize("вечность",e.floor())}`:"нет вечностей"},fullGameCompletions(){return player.records.fullGameCompletions},startDate(){return Time.toDateTimeString(player.records.gameCreatedTime)},saveAge(){return TimeSpan.fromMilliseconds(this.timeSinceCreation,"accusative")}},methods:{update(){const e=player.records;this.totalAntimatter.copyFrom(e.totalAntimatter),this.realTimePlayed.setFrom(e.realTimePlayed),this.fullTimePlayed=TimeSpan.fromMilliseconds(e.previousRunRealTime+e.realTimePlayed,"accusative"),this.uniqueNews=NewsHandler.uniqueTickersSeen,this.totalNews=player.news.totalSeen,this.secretAchievementCount=SecretAchievements.all.filter((e=>e.isUnlocked)).length,this.timeSinceCreation=Date.now()-player.records.gameCreatedTime,this.seenAlteredSpeed=PlayerProgress.seenAlteredSpeed();const t=PlayerProgress.current,i=t.isInfinityUnlocked,a=this.infinity,n=e.bestInfinity;a.isUnlocked=i,i&&(a.count.copyFrom(Currency.infinities),a.banked.copyFrom(Currency.infinitiesBanked),a.projectedBanked=new Decimal(0).plusEffectsOf(Achievement(131).effects.bankedInfinitiesGain,TimeStudy(191)),a.bankRate=a.projectedBanked.div(Math.clampMin(33,e.thisEternity.time)).times(6e4),a.hasBest=n.time<Number.MAX_VALUE,a.best.setFrom(n.time),a.this.setFrom(e.thisInfinity.time),a.bestRate.copyFrom(n.bestIPminEternity));const s=t.isEternityUnlocked,r=this.eternity,o=e.bestEternity;r.isUnlocked=s,s&&(r.count.copyFrom(Currency.eternities),r.hasBest=o.time<Number.MAX_VALUE,r.best.setFrom(o.time),r.this.setFrom(e.thisEternity.time),r.bestRate.copyFrom(o.bestEPminReality));const l=t.isRealityUnlocked,c=this.reality,u=e.bestReality;c.isUnlocked=l,c.totalTimePlayed.setFrom(e.totalTimePlayed),l&&(c.count=Math.floor(Currency.realities.value),c.best.setFrom(u.time),c.bestReal.setFrom(u.realTime),c.this.setFrom(e.thisReality.time),a.thisReal.setFrom(e.thisInfinity.realTime),a.bankRate=a.projectedBanked.div(Math.clampMin(33,e.thisEternity.realTime)).times(6e4),r.thisReal.setFrom(e.thisEternity.realTime),c.thisReal.setFrom(e.thisReality.realTime),c.bestRate.copyFrom(u.RMmin),c.bestRarity=Math.max(strengthToRarity(u.glyphStrength),0)),this.updateMatterScale(),this.isDoomed=Pelle.isDoomed,this.realTimeDoomed.setFrom(player.records.realTimeDoomed),this.paperclips=player.news.specialTickerData.paperclips},formatDecimalAmount(e){return e.gt(1e9)?format(e,3):formatInt(Math.floor(e.toNumber()))},updateMatterScale(){Date.now()-this.lastMatterTime>1e3&&(this.matterScale=T0.estimate(Currency.antimatter.value),this.lastMatterTime=Date.now())},realityClassObject(){return{"c-stats-tab-title":!0,"c-stats-tab-reality":!this.isDoomed,"c-stats-tab-doomed":this.isDoomed}}}},C0=_0;var A0=(0,H.A)(C0,v0,E0,!1,null,"aacaf0a6",null);const k0=A0.exports;var w0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-teresa-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"teresa"}}),i("div",[e._v(" У вас "+e._s(e.quantify("Машина",e.rm,2,2))+" Реальности. ")]),i("div",{staticClass:"l-mechanics-container"},[e.hasReality?i("div",{staticClass:"l-teresa-mechanic-container"},[i("div",{staticClass:"c-teresa-unlock c-teresa-run-button"},[i("span",{class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Запустить Реальность Терезы ")]),i("div",{class:e.runButtonClassObject,on:{click:function(t){return e.startRun()}}},[e._v(" Ϟ ")]),e._v(" "+e._s(e.runDescription)+" "),i("br"),i("br"),i("div",[e._v(" Реальность Терезы можно выполнять сколь угодно много раз, и награда за неё зависит от максимального когда-либо достигнутого в ней количества антиматерии. "),i("br"),i("br"),e.showRunReward?i("span",[e._v(" Рекордное количество антиматерии в Реальности Терезы: "+e._s(e.format(e.bestAM,2))+", достигнуто с "+e._s(e.lastMachinesString)+" "),i("br"),i("br"),e._v(" и такими глифами: "),i("GlyphSetPreview",{attrs:{text:"Глифы, использованные при достижении рекорда в Реальности Терезы","text-hidden":!0,"force-name-color":!1,glyphs:e.bestAMSet}})],1):i("span",[e._v(" Вы ещё не выполнили Реальность Терезы. ")])])]),i("div",{staticClass:"c-teresa-unlock"},[e._v(" Награда: множитель "),e.showRunReward?i("span",[e._v(e._s(e.formatX(e.runReward,2,2))+" ")]):e._e(),e._v("к жертвенной ценности глифов ")])]):e._e(),i("div",{staticClass:"l-rm-container l-teresa-mechanic-container"},[i("button",{class:e.pourButtonClassObject,on:{mousedown:function(t){e.pour=!0},touchstart:function(t){e.pour=!0},mouseup:function(t){e.pour=!1},touchend:function(t){e.pour=!1},mouseleave:function(t){e.pour=!1}}},[e._v(" "+e._s(e.pourText)+" ")]),i("div",{staticClass:"c-rm-store"},[i("div",{staticClass:"c-rm-store-inner c-rm-store-inner--light",style:{height:e.possibleFillPercentage}}),i("div",{staticClass:"c-rm-store-inner",style:{height:e.percentage}},[i("div",{staticClass:"c-rm-store-label"},[e._v(" Множитель "+e._s(e.formatX(e.rmMult,2,2))+" к получению МР "),i("br"),e._v(" "+e._s(e.format(e.pouredAmount,2,2))+"/"+e._s(e.format(e.pouredAmountCap,2,2))+" ")])]),e._l(e.unlockInfos,(function(t){return i("CustomizeableTooltip",{key:t.id,attrs:{"content-class":"c-teresa-unlock-description--hover-area",bottom:e.unlockDescriptionHeight(t),right:"0",mode:"right",show:!0,"tooltip-arrow-style":e.unlockInfoTooltipArrowStyle,"tooltip-class":e.unlockInfoTooltipClass(t)},scopedSlots:e._u([{key:"mainContent",fn:function(){return[i("div",{staticClass:"c-teresa-milestone-line",class:{"c-teresa-milestone-line--unlocked":e.hasUnlock(t)}})]},proxy:!0},{key:"tooltipContent",fn:function(){return[i("b",{class:{"o-pelle-disabled":t.pelleDisabled}},[e._v(" "+e._s(e.format(t.price,2,2))+": "+e._s(t.description)+" ")])]},proxy:!0}],null,!0)})}))],2)]),e.hasPerkShop?i("div",{staticClass:"c-teresa-shop"},[i("span",{staticClass:"o-teresa-pp"},[e._v(" У вас "+e._s(e.quantify("Очко",e.perkPoints,2,0))+" Умения. ")]),e._l(e.upgrades,(function(e){return i("PerkShopUpgradeButton",{key:e.id,attrs:{upgrade:e}})})),e._v(" Теперь вы можете сделать любой глиф музыкальным. ")],2):i("div",{staticClass:"l-rm-container-labels l-teresa-mechanic-container"})])],1)},S0=[],x0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{class:e.classObject,on:{click:function(t){return e.upgrade.purchase()}}},[i("DescriptionDisplay",{attrs:{config:e.upgrade.config,length:70}}),i("br"),i("EffectDisplay",{attrs:{config:e.upgrade.config}}),i("br"),e.isCapped?e._e():i("CostDisplay",{attrs:{config:e.upgrade.config,name:"Очко",postName:"Умения"}})],1)])},R0=[];const I0={name:"PerkShopUpgradeButton",components:{DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS},props:{upgrade:{type:Object,required:!0}},data(){return{isAvailableForPurchase:!1,isCapped:!1}},computed:{isDoomed:()=>Pelle.isDoomed,classObject(){return{"o-teresa-shop-button":!0,"o-teresa-shop-button--available":this.isAvailableForPurchase&&!this.isCapped,"o-teresa-shop-button--capped":this.isCapped,"o-teresa-shop-button--pelle-disabled":this.isDoomed&&(this.upgrade===PerkShopUpgrade.musicGlyph||this.upgrade===PerkShopUpgrade.fillMusicGlyph)}}},methods:{update(){this.isAvailableForPurchase=this.upgrade.isAvailableForPurchase,this.isCapped=this.upgrade.isCapped}}},M0=I0;var D0=(0,H.A)(M0,x0,R0,!1,null,"29bd25b3",null);const P0=D0.exports,U0={name:"TeresaTab",components:{GlyphSetPreview:_A,PerkShopUpgradeButton:P0,CelestialQuoteHistory:EF,CustomizeableTooltip:aJ},data(){return{pour:!1,time:(new Date).getTime(),pouredAmount:0,isPouredAmountCapped:!1,rm:new Decimal(0),percentage:"",possibleFillPercentage:"",rmMult:0,bestAM:new Decimal(0),bestAMSet:[],lastMachines:new Decimal(0),runReward:0,perkPoints:0,hasReality:!1,hasEPGen:!1,hasPerkShop:!1,raisedPerkShop:!1,isRunning:!1,canUnlockNextPour:!1}},computed:{unlockInfos:()=>TeresaUnlocks.all,pouredAmountCap:()=>Teresa.pouredAmountCap,showRunReward(){return this.bestAM.gt(1)},upgrades(){const e=[PerkShopUpgrade.glyphLevel,PerkShopUpgrade.rmMult,PerkShopUpgrade.bulkDilation,PerkShopUpgrade.autoSpeed,PerkShopUpgrade.musicGlyph];return this.raisedPerkShop&&e.push(PerkShopUpgrade.fillMusicGlyph),e},runButtonClassObject(){return{"c-teresa-run-button__icon":!0,"c-teresa-run-button__icon--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},pourButtonClassObject(){return{"o-teresa-shop-button":!0,"c-teresa-pour":!0,"o-teresa-shop-button--available":!this.isPouredAmountCapped,"o-teresa-shop-button--capped":this.isPouredAmountCapped,"c-teresa-pour--unlock-available":this.canUnlockNextPour,"c-disabled-pour":this.isPouredAmountCapped}},pourText(){return this.isPouredAmountCapped?"Ограничено":"Заливать МР"},runDescription(){return GameDatabase.celestials.descriptions[0].effects()},lastMachinesString(){return this.lastMachines.lt(v.E10000)?`${quantify("Машиной",this.lastMachines,2)} Реальности`:`${format(this.lastMachines.dividedBy(v.E10000),2)} Мнимой Машины`},unlockInfoTooltipArrowStyle(){return{borderRight:"0.5rem solid var(--color-teresa--base)"}},isDoomed:()=>Pelle.isDoomed},methods:{update(){const e=(new Date).getTime();if(this.pour){const t=(e-this.time)/1e3;Teresa.pourRM(t)}else Teresa.timePoured=0;this.time=e,this.pouredAmount=player.celestials.teresa.pouredAmount,this.isPouredAmountCapped=this.pouredAmount===this.pouredAmountCap,this.percentage=`${(100*Teresa.fill).toFixed(2)}%`,this.possibleFillPercentage=`${(100*Teresa.possibleFill).toFixed(2)}%`,this.rmMult=Teresa.rmMultiplier,this.hasReality=TeresaUnlocks.run.isUnlocked,this.hasEPGen=TeresaUnlocks.epGen.isUnlocked,this.hasPerkShop=TeresaUnlocks.shop.isUnlocked,this.raisedPerkShop=Ra.unlocks.perkShopIncrease.canBeApplied,this.bestAM.copyFrom(player.celestials.teresa.bestRunAM),this.bestAMSet=Glyphs.copyForRecords(player.celestials.teresa.bestAMSet),this.lastMachines.copyFrom(player.celestials.teresa.lastRepeatedMachines),this.runReward=Teresa.runRewardMultiplier,this.perkPoints=Currency.perkPoints.value,this.rm.copyFrom(Currency.realityMachines),this.isRunning=Teresa.isRunning,this.canUnlockNextPour=TeresaUnlocks.all.filter((e=>this.rm.plus(this.pouredAmount).gte(e.price)&&!e.isUnlocked)).length>0},startRun(){this.isDoomed||Modal.celestials.show({name:"Терезы",number:0})},unlockDescriptionHeight(e){const t=TeresaUnlocks[Teresa.lastUnlock].price,i=Math.log1p(e.price)/Math.log1p(t);return`calc(${(100*i).toFixed(2)}% - 0.1rem)`},hasUnlock(e){return e.isUnlocked},unlockInfoTooltipClass(e){return{"c-teresa-unlock-description":!0,"c-teresa-unlock-description--unlocked":this.hasUnlock(e)}}}},G0=U0;var N0=(0,H.A)(G0,w0,S0,!1,null,"45acd192",null);const B0=N0.exports;var O0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-dilation-tab"},[i("span",[e._v(" У вас "),i("span",{staticClass:"c-dilation-tab__tachyons"},[e._v(e._s(e.format(e.tachyons,2,0)))]),e._v(" "+e._s(e.pluralize("Тахион",e.tachyons))+". ")]),i("div",{on:{mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[i("DilationButton")],1),i("span",[e._v(" У вас "),i("span",{staticClass:"c-dilation-tab__dilated-time"},[e._v(e._s(e.format(e.dilatedTime,2,1)))]),e._v(" Замедленного Времени. "),i("span",{staticClass:"c-dilation-tab__dilated-time-income"},[e._v(e._s(e.dilatedTimeGainText)+"/с")])]),i("span",[e._v(" У вас "),i("span",{staticClass:"c-dilation-tab__galaxies",attrs:{"ach-tooltip":e.baseGalaxyText}},[e._v(e._s(e.formatInt(e.totalGalaxies)))]),e._v(" "+e._s(e.pluralize("Тахионная Галактика",e.totalGalaxies))+". "),e.tachyonGalaxyGain>2?i("span",[e._v("Следующие "+e._s(e.quantifyInt("Тахионная Галактика",e.tachyonGalaxyGain)))]):i("span",[e._v("Следующая "),2===e.tachyonGalaxyGain?i("span",[e._v("пара Тахионных Галактик")]):i("span",[e._v("Тахионная Галактика")])]),e._v(" на "),i("span",{staticClass:"c-dilation-tab__galaxy-threshold",attrs:{"ach-tooltip":e.galaxyTimeEstimate}},[e._v(e._s(e.format(e.galaxyThreshold,2,1)))]),e._v(" Замедленного Времени. ")]),e.hasMaxText?i("span",[e._v(" Рекордное количество Замедленного Времени в текущей реальности: "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.toMaxTooltip,expression:"toMaxTooltip"}],staticClass:"max-accent"},[e._v(e._s(e.format(e.maxDT,2,1)))]),e._v(". ")]):e._e(),i("div",{staticClass:"l-dilation-upgrades-grid"},[e._l(e.allRebuyables,(function(t,a){return i("div",{key:"rebuyable"+a,staticClass:"l-dilation-upgrades-grid__row"},e._l(t,(function(t){return i("DilationUpgradeButton",{key:t.id,staticClass:"l-dilation-upgrades-grid__cell",attrs:{upgrade:t,"is-rebuyable":!0,"show-tooltip":e.isHovering}})})),1)})),e._l(e.allSingleUpgrades,(function(t,a){return i("div",{key:"single"+a,staticClass:"l-dilation-upgrades-grid__row"},e._l(t,(function(t){return i("DilationUpgradeButton",{key:t.id,staticClass:"l-dilation-upgrades-grid__cell",attrs:{upgrade:t,"is-rebuyable":!1,"show-tooltip":e.isHovering}})})),1)}))],2)])},L0=[],$0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"o-dilation-btn",class:e.isUnlocked?"o-dilation-btn--unlocked":"o-dilation-btn--locked",on:{click:function(t){return e.dilate()}}},[e.isUnlocked?e.isRunning?e.canEternity&&e.hasGain?i("span",[e._v(" "+e._s(e.disableText)+" "),i("br"),e._v(" Получить "+e._s(e.quantify("Тахион",e.tachyonGain,2))+". ")]):e.hasGain?i("span",[e._v(" "+e._s(e.disableText)+" "),i("br"),e._v(" Достигните "+e._s(e.format(e.eternityGoal,1,1))+" Очков Бесконечности, чтобы совершить вечность и получить Тахионы. ")]):i("span",[e._v(" "+e._s(e.disableText)+" "),i("br"),e._v(" Достигните "+e._s(e.format(e.requiredForGain,2,1))+" антиматерии, чтобы получить больше Тахионов. ")]):i("span",[e._v(" Замедлить Время. "),e.showRequirement?i("div",[e._v(" Требуется "+e._s(e.format(e.remnantRequirement,2))+" Останков. ")]):e._e()]):i("span",[e._v("Разблокируйте Замедление в Древе Исследований.")])])},H0=[];const F0={name:"DilationButton",data(){return{isUnlocked:!1,isRunning:!1,hasGain:!1,requiredForGain:new Decimal,canEternity:!1,eternityGoal:new Decimal,tachyonGain:new Decimal,remnantRequirement:0,showRequirement:!1,creditsClosed:!1}},computed:{disableText(){return Pelle.isDoomed?"Замедление необратимо.":"Выйти из Замедления."}},methods:{update(){this.isUnlocked=PlayerProgress.dilationUnlocked(),this.isRunning=player.dilation.active,this.remnantRequirement=Pelle.remnantRequirementForDilation,this.showRequirement=Pelle.isDoomed&&!Pelle.canDilateInPelle,this.isRunning&&(this.canEternity=Player.canEternity,this.hasGain=getTachyonGain(!1).gt(0),this.canEternity&&this.hasGain?this.tachyonGain.copyFrom(getTachyonGain(!0)):this.hasGain?this.eternityGoal.copyFrom(Player.eternityGoal):this.requiredForGain.copyFrom(getTachyonReq()),this.creditsClosed=GameEnd.creditsEverClosed)},dilate(){this.creditsClosed||startDilatedEternityRequest()}}},q0=F0;var V0=(0,H.A)(q0,$0,H0,!1,null,"11f48b34",null);const Y0=V0.exports;var j0=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-spoon-btn-group"},[i("button",{class:e.classObject,attrs:{"ach-tooltip":e.timeEstimate},on:{click:function(t){return e.upgrade.purchase()},mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[e.timeEstimate?i("CustomizeableTooltip",{attrs:{show:e.showTooltip&&!e.isHovering&&!e.hideEstimate,left:"50%",top:"0"},scopedSlots:e._u([{key:"tooltipContent",fn:function(){return[e._v(" "+e._s(e.timeEstimate)+" ")]},proxy:!0}],null,!1,1945308655)}):e._e(),i("span",[i("DescriptionDisplay",{attrs:{config:e.upgrade.config,length:70,name:"o-dilation-upgrade__description"}}),i("EffectDisplay",{key:e.boughtAmount,attrs:{br:"",config:e.upgrade.config}})],1),e.isBought||e.isCapped?e._e():i("CostDisplay",{attrs:{br:"",config:e.upgrade.config,name:"",postName:"Замедленного Времени"}})],1),e.isRebuyable&&e.isAutoUnlocked?i("PrimaryToggleButton",{staticClass:"l--spoon-btn-group__little-spoon o-primary-btn--dilation-upgrade-toggle",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):e._e()],1)},W0=[];const X0={name:"DilationUpgradeButton",components:{PrimaryToggleButton:$g,DescriptionDisplay:V$,EffectDisplay:TN,CostDisplay:jS,CustomizeableTooltip:aJ},props:{upgrade:{type:Object,required:!0},isRebuyable:{type:Boolean,required:!1,default:!1},showTooltip:{type:Boolean,required:!0}},data(){return{isBought:!1,isCapped:!1,isAffordable:!1,isAutoUnlocked:!1,isAutobuyerOn:!1,boughtAmount:0,currentDT:new Decimal(0),currentDTGain:new Decimal(0),timeEstimate:"",isHovering:!1,hideEstimate:!1}},computed:{classObject(){return this.isUseless?{"o-dilation-upgrade o-pelle-disabled-pointer":!0,"o-pelle-disabled o-dilation-upgrade--useless":7===this.upgrade.id||3===this.upgrade.id}:{"o-dilation-upgrade":!0,"o-dilation-upgrade--rebuyable":this.isRebuyable,"o-dilation-upgrade--available":!this.isBought&&!this.isCapped&&this.isAffordable,"o-dilation-upgrade--unavailable":!this.isBought&&!this.isCapped&&!this.isAffordable,"o-dilation-upgrade--bought":this.isBought,"o-dilation-upgrade--capped":this.isCapped}},isUseless(){const e=3===this.upgrade.id||7===this.upgrade.id;return Pelle.isDoomed&&e}},watch:{isAutobuyerOn(e){Autobuyer.dilationUpgrade(this.upgrade.id).isActive=e}},methods:{update(){const e=this.upgrade;if(this.currentDT.copyFrom(Currency.dilatedTime.value),this.currentDTGain.copyFrom(getDilationGainPerSecond()),this.hideEstimate=this.isAffordable||this.isCapped||this.upgrade.isBought||this.isUseless,this.timeEstimate=this.hideEstimate?null:getDilationTimeEstimate(this.upgrade.cost),this.isRebuyable){this.isAffordable=e.isAffordable,this.isCapped=e.isCapped;const t=Autobuyer.dilationUpgrade(e.id);if(this.boughtAmount=e.boughtAmount,!t)return;return this.isAutoUnlocked=t.isUnlocked,void(this.isAutobuyerOn=t.isActive)}this.isBought=e.isBought,this.isBought||(this.isAffordable=e.isAffordable)}}},z0=X0;var K0=(0,H.A)(z0,j0,W0,!1,null,"08782b22",null);const Q0=K0.exports,J0={name:"TimeDilationTab",components:{DilationButton:Y0,DilationUpgradeButton:Q0},data(){return{tachyons:new Decimal,dilatedTime:new Decimal,dilatedTimeIncome:new Decimal,galaxyThreshold:new Decimal,baseGalaxies:0,totalGalaxies:0,tachyonGalaxyGain:1,hasPelleDilationUpgrades:!1,galaxyTimeEstimate:"",maxDT:new Decimal,toMaxTooltip:"",isHovering:!1}},computed:{rebuyables(){return[DilationUpgrade.dtGain,DilationUpgrade.galaxyThreshold,DilationUpgrade.tachyonGain]},upgrades(){return[[DilationUpgrade.doubleGalaxies,DilationUpgrade.tdMultReplicanti,DilationUpgrade.ndMultDT],[DilationUpgrade.ipMultDT,DilationUpgrade.timeStudySplit,DilationUpgrade.dilationPenalty]]},dilatedTimeGainText(){const e=this.dilatedTimeIncome.gte(0)?"+":"";return`${e}${format(this.dilatedTimeIncome,2,1)}`},pelleRebuyables(){return[DilationUpgrade.dtGainPelle,DilationUpgrade.galaxyMultiplier,DilationUpgrade.tickspeedPower]},pelleUpgrades(){return[DilationUpgrade.galaxyThresholdPelle,DilationUpgrade.flatDilationMult]},ttGenerator(){return DilationUpgrade.ttGenerator},baseGalaxyText(){return`${formatInt(this.baseGalaxies)} по умолчанию`},hasMaxText:()=>PlayerProgress.realityUnlocked()&&!Pelle.isDoomed,allRebuyables(){const e=[];return e.push(this.rebuyables),this.hasPelleDilationUpgrades&&e.push(this.pelleRebuyables),e},allSingleUpgrades(){const e=[];return e.push(...this.upgrades),this.hasPelleDilationUpgrades&&e.push(this.pelleUpgrades),e.push([this.ttGenerator]),e}},methods:{update(){this.tachyons.copyFrom(Currency.tachyonParticles),this.dilatedTime.copyFrom(Currency.dilatedTime);const e=getDilationGainPerSecond().times(getGameSpeedupForDisplay());if(this.galaxyTimeEstimate=getDilationTimeEstimate(this.galaxyThreshold),PelleRifts.paradox.isActive){const t=player.options.updateRate/1e3,i=1-(1-Pelle.riftDrainPercent)**t,a=this.dilatedTime.add(e.times(t)).times(i/t);this.dilatedTimeIncome=e.minus(a)}else this.dilatedTimeIncome=e;this.galaxyThreshold.copyFrom(player.dilation.nextThreshold),this.baseGalaxies=player.dilation.baseTachyonGalaxies,this.totalGalaxies=player.dilation.totalTachyonGalaxies,this.hasPelleDilationUpgrades=PelleRifts.paradox.milestones[0].canBeApplied,this.baseGalaxies<500&&DilationUpgrade.doubleGalaxies.isBought?this.tachyonGalaxyGain=DilationUpgrade.doubleGalaxies.effectValue:this.tachyonGalaxyGain=1,this.tachyonGalaxyGain*=DilationUpgrade.galaxyMultiplier.effectValue,this.maxDT.copyFrom(player.records.thisReality.maxDT);const t=getDilationTimeEstimate(this.maxDT);this.dilatedTimeIncome.lte(0)?this.toMaxTooltip="Вы не получаете ЗВ":this.toMaxTooltip=t.startsWith("<")?"Возрастает":t}}},Z0=J0;var e2=(0,H.A)(Z0,O0,L0,!1,null,"7a199c25",null);const t2=e2.exports;var i2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.activeComponent,{tag:"component"})},a2=[],n2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-time-dim-tab l-centered-vertical-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Купить всё ")]),e.areAutobuyersUnlocked?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Переключить всю автоматику ")]):e._e()],1),i("div",[i("p",[e._v(" У вас "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.timeShards,2,1)))]),e._v(" Осколка Времени, что даёт вам "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatInt(e.totalUpgrades)))]),e._v(" "+e._s(e.pluralize("ускоритель",e.totalUpgrades))+". ")]),i("p",[e._v(" Следующий на "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.upgradeThreshold,2,1)))]),e._v(" (наценка равна "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatX(e.multPerTickspeed,2,2)))]),e._v("). ")])]),i("div",[e._v(" Наценка на ускорители от Осколков Времени растёт после "+e._s(e.formatInt(e.tickspeedSoftcap))+" ускорителей. ")]),i("div",[e._v(" Вы получаете "+e._s(e.format(e.shardsPerSecond,2,0))+" "+e._s(e.incomeType)+" в секунду. ")]),i("div",{staticClass:"l-dimensions-container"},e._l(8,(function(t){return i("TimeDimensionRow",{key:t,attrs:{tier:t,"are-autobuyers-unlocked":e.areAutobuyersUnlocked}})})),1),i("div",[e._v(" Цены на Измерения Времени резко возрастают на "+e._s(e.format(e.costIncreases[0],2,2))+" и "+e._s(e.format(e.costIncreases[1]))+" Очков Вечности, "),i("br"),e._v(" начиная при этом расти быстрее, и растут гораздо быстрее после "+e._s(e.format(e.costIncreases[2]))+" Очков Вечности. "),i("br"),e.showLockedDimCostNote?i("div",[e._v(" Зажмите клавишу Shift, чтобы просмотреть цены на заблокированные Измерения Времени. ")]):e._e(),e._v(" Покупки 8-го Измерения Времени после первых "+e._s(e.format(1e8))+" не дают множителя. ")])])},s2=[],r2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.requirementReached}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--buy-td o-primary-btn--buy-dim c-dim-tooltip-container",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyTimeDimension}},[e._v(" "+e._s(e.buttonContents)+" "),i("div",{staticClass:"c-dim-purchase-count-tooltip"},[i("span",{domProps:{innerHTML:e._s(e.tooltipContents)}})])]),e.areAutobuyersUnlocked?i("PrimaryToggleButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyMaxTimeDimension}},[e._v(" Купить все ")])],1)],1)},o2=[];const l2={name:"ClassicTimeDimensionRow",components:{GenericDimensionRowText:WN,PrimaryButton:Fs,PrimaryToggleButton:$g},props:{tier:{type:Number,required:!0},areAutobuyersUnlocked:{type:Boolean,required:!0}},data(){return{isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,rateOfChange:new Decimal(0),cost:new Decimal(0),isAvailableForPurchase:!1,isAutobuyerOn:!1,requirementReached:!1,realityUnlocked:!1,showTTCost:!1,ttCost:0,ttGen:new Decimal,currTT:new Decimal}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${this.tier}-е Измерение Времени`},buttonContents(){return this.showTTCost?this.formattedTTCost:this.formattedEPCost},tooltipContents(){return this.showTTCost?`${this.formattedEPCost}<br>${this.timeEstimate}`:this.isCapped?`В Реальности Безымянных нельзя купить более ${format(1)} Измерения Времени одного уровня`:`Куплено ${quantifyInt("раз",this.bought)}`},showRow(){return this.realityUnlocked||this.isUnlocked||this.requirementReached},formattedTTCost(){return`Цена разблокировки: ${format(this.ttCost)} ТВ`},formattedEPCost(){return this.isCapped?"Ограничено":`${this.showCostTitle?"Цена: ":""}${format(this.cost,2)} ОВ`},hasLongText(){return this.buttonContents.length>20},showCostTitle(){return this.cost.exponent<1e6},timeEstimate(){if(!this.showTTCost||this.ttGen.eq(0))return"";const e=Decimal.sub(this.ttCost,this.currTT).dividedBy(this.ttGen);return e.gt(0)?`Время до необходимого количества ТВ: ${TimeSpan.fromSeconds(e.toNumber()).toStringShort()}`:""}},watch:{isAutobuyerOn(e){Autobuyer.timeDimension(this.tier).isActive=e}},methods:{update(){const e=this.tier,t=TimeDimension(e);this.isCapped=Enslaved.isRunning&&t.bought>0,this.isUnlocked=t.isUnlocked,this.multiplier.copyFrom(t.multiplier),this.amount.copyFrom(t.amount),this.bought=t.bought,e<8&&this.rateOfChange.copyFrom(t.rateOfChange),this.cost.copyFrom(t.cost),this.isAvailableForPurchase=t.isAvailableForPurchase,this.isUnlocked||(this.isAvailableForPurchase=t.requirementReached),this.requirementReached=t.requirementReached,this.isAutobuyerOn=Autobuyer.timeDimension(this.tier).isActive,this.realityUnlocked=PlayerProgress.realityUnlocked(),this.showTTCost=!this.isUnlocked&&!this.shiftDown,this.tier>4&&(this.ttCost=TimeStudy.timeDimension(this.tier).cost),this.currTT.copyFrom(Currency.timeTheorems.value),this.ttGen.copyFrom(getTTPerSecond().times(getGameSpeedupFactor()))},buyTimeDimension(){this.isUnlocked?buySingleTimeDimension(this.tier):TimeDimension(this.tier).tryUnlock()},buyMaxTimeDimension(){buyMaxTimeDimension(this.tier)}}},c2=l2;var u2=(0,H.A)(c2,r2,o2,!1,null,null,null);const d2=u2.exports,h2={name:"ClassicTimeDimensionsTab",components:{PrimaryButton:Fs,TimeDimensionRow:d2},data(){return{totalUpgrades:0,multPerTickspeed:0,tickspeedSoftcap:0,timeShards:new Decimal(0),upgradeThreshold:new Decimal(0),shardsPerSecond:new Decimal(0),incomeType:"",areAutobuyersUnlocked:!1,showLockedDimCostNote:!0}},computed:{costIncreases:()=>TimeDimension(1).costIncreaseThresholds},methods:{update(){this.showLockedDimCostNote=!TimeDimension(8).isUnlocked&&player.realities>=1,this.totalUpgrades=player.totalTickGained,this.multPerTickspeed=FreeTickspeed.multToNext,this.tickspeedSoftcap=FreeTickspeed.softcap,this.timeShards.copyFrom(Currency.timeShards),this.upgradeThreshold.copyFrom(FreeTickspeed.fromShards(Currency.timeShards.value).nextShards),this.shardsPerSecond.copyFrom(TimeDimension(1).productionPerRealSecond),this.incomeType=EternityChallenge(7).isRunning?"8-го Измерения Бесконечности":"Осколка Времени",this.areAutobuyersUnlocked=Autobuyer.timeDimension(1).isUnlocked},maxAll(){tryUnlockTimeDimensions(),maxAllTimeDimensions()},toggleAllAutobuyers(){toggleAllTimeDims()}}},p2=h2;var m2=(0,H.A)(p2,n2,s2,!1,null,null,null);const y2=m2.exports;var f2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-time-dim-tab l-centered-vertical-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.maxAll}},[e._v(" Купить всё ")]),e.areAutobuyersUnlocked?i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleAllAutobuyers}},[e._v(" Переключить всю автоматику ")]):e._e()],1),i("div",[i("p",[e._v(" У вас "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.timeShards,2,1)))]),e._v(" Осколка Времени, что даёт вам "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatInt(e.totalUpgrades)))]),e._v(" "+e._s(e.pluralize("ускоритель",e.totalUpgrades))+". ")]),i("p",[e._v(" Следующий на "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.format(e.upgradeThreshold,2,1)))]),e._v(" (наценка равна "),i("span",{staticClass:"c-time-dim-description__accent"},[e._v(e._s(e.formatX(e.multPerTickspeed,2,2)))]),e._v("). ")])]),i("div",[e._v(" Наценка на ускорители от Осколков Времени растёт после "+e._s(e.formatInt(e.tickspeedSoftcap))+" ускорителей. ")]),i("div",[e._v(" Вы получаете "+e._s(e.format(e.shardsPerSecond,2,0))+" "+e._s(e.incomeType)+" в секунду. ")]),i("div",{staticClass:"l-dimensions-container"},e._l(8,(function(t){return i("NewTimeDimensionRow",{key:t,attrs:{tier:t,"are-autobuyers-unlocked":e.areAutobuyersUnlocked}})})),1),i("div",[e._v(" Цены на Измерения Времени резко возрастают на "+e._s(e.format(e.costIncreases[0],2,2))+" и "+e._s(e.format(e.costIncreases[1]))+" Очков Вечности, "),i("br"),e._v(" начиная при этом расти быстрее, и растут гораздо быстрее после "+e._s(e.format(e.costIncreases[2]))+" Очков Вечности. "),i("br"),e.showLockedDimCostNote?i("div",[e._v(" Зажмите клавишу Shift, чтобы просмотреть цены на заблокированные Измерения Времени. ")]):e._e(),e._v(" Покупки 8-го Измерения Времени после первых "+e._s(e.format(1e8))+" не дают множителя. ")])])},g2=[],b2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showRow,expression:"showRow"}],staticClass:"c-dimension-row l-dimension-row-time-dim l-dimension-single-row",class:{"c-dim-row--not-reached":!e.isUnlocked&&!e.requirementReached}},[i("GenericDimensionRowText",{attrs:{tier:e.tier,name:e.name,"multiplier-text":e.formatX(e.multiplier,2,1),"amount-text":e.format(e.amount,2),rate:e.rateOfChange}}),i("div",{staticClass:"l-dim-row-multi-button-container c-modern-dim-tooltip-container"},[i("div",{staticClass:"c-modern-dim-purchase-count-tooltip"},[i("span",{domProps:{innerHTML:e._s(e.tooltipContents)}})]),i("PrimaryButton",{staticClass:"o-primary-btn--buy-td o-primary-btn o-primary-btn--new o-primary-btn--buy-dim",class:{"l-dim-row-small-text":e.hasLongText},attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyTimeDimension}},[e._v(" "+e._s(e.buttonContents)+" ")]),e.areAutobuyersUnlocked?i("PrimaryToggleButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{label:"Автоматика:"},model:{value:e.isAutobuyerOn,callback:function(t){e.isAutobuyerOn=t},expression:"isAutobuyerOn"}}):i("PrimaryButton",{staticClass:"o-primary-btn--buy-td-auto",attrs:{enabled:e.isAvailableForPurchase&&!e.isCapped},on:{click:e.buyMaxTimeDimension}},[e._v(" Купить все ")])],1)],1)},v2=[];const E2={name:"ModernTimeDimensionRow",components:{GenericDimensionRowText:WN,PrimaryButton:Fs,PrimaryToggleButton:$g},props:{tier:{type:Number,required:!0},areAutobuyersUnlocked:{type:Boolean,required:!0}},data(){return{isUnlocked:!1,isCapped:!1,multiplier:new Decimal(0),amount:new Decimal(0),bought:0,rateOfChange:new Decimal(0),cost:new Decimal(0),isAvailableForPurchase:!1,isAutobuyerOn:!1,requirementReached:!1,realityUnlocked:!1,showTTCost:!1,ttCost:0,ttGen:new Decimal,currTT:new Decimal}},computed:{shiftDown(){return ui.view.shiftDown},name(){return`${this.tier}-е Измерение Времени`},buttonContents(){return this.showTTCost?this.formattedTTCost:this.formattedEPCost},tooltipContents(){return this.showTTCost?`${this.formattedEPCost}<br>${this.timeEstimate}`:this.isCapped?`В Реальности Безымянных нельзя купить более ${format(1)} Измерения Времени одного уровня`:`Куплено ${quantifyInt("раз",this.bought)}`},showRow(){return this.realityUnlocked||this.isUnlocked||this.requirementReached},formattedTTCost(){return`Цена разблокировки: ${format(this.ttCost)} ТВ`},formattedEPCost(){return this.isCapped?"Ограничено":`${this.showCostTitle?"Цена: ":""}${format(this.cost,2)} ОВ`},hasLongText(){return this.buttonContents.length>20},showCostTitle(){return this.cost.exponent<1e6},timeEstimate(){if(!this.showTTCost||this.ttGen.eq(0))return"";const e=Decimal.sub(this.ttCost,this.currTT).dividedBy(this.ttGen);return e.gt(0)?`Время до необходимого количества ТВ: ${TimeSpan.fromSeconds(e.toNumber()).toStringShort()}`:""}},watch:{isAutobuyerOn(e){Autobuyer.timeDimension(this.tier).isActive=e}},methods:{update(){const e=this.tier,t=TimeDimension(e);this.isCapped=Enslaved.isRunning&&t.bought>0,this.isUnlocked=t.isUnlocked,this.multiplier.copyFrom(t.multiplier),this.amount.copyFrom(t.amount),this.bought=t.bought,e<8&&this.rateOfChange.copyFrom(t.rateOfChange),this.cost.copyFrom(t.cost),this.isAvailableForPurchase=t.isAvailableForPurchase,this.isUnlocked||(this.isAvailableForPurchase=t.requirementReached),this.requirementReached=t.requirementReached,this.isAutobuyerOn=Autobuyer.timeDimension(this.tier).isActive,this.realityUnlocked=PlayerProgress.realityUnlocked(),this.showTTCost=!this.isUnlocked&&!this.shiftDown,this.tier>4&&(this.ttCost=TimeStudy.timeDimension(this.tier).cost),this.currTT.copyFrom(Currency.timeTheorems.value),this.ttGen.copyFrom(getTTPerSecond().times(getGameSpeedupFactor()))},buyTimeDimension(){this.isUnlocked?buySingleTimeDimension(this.tier):TimeDimension(this.tier).tryUnlock()},buyMaxTimeDimension(){buyMaxTimeDimension(this.tier)}}},T2=E2;var _2=(0,H.A)(T2,b2,v2,!1,null,"790cb19b",null);const C2=_2.exports,A2={name:"NewTimeDimensionsTab",components:{PrimaryButton:Fs,NewTimeDimensionRow:C2},data(){return{totalUpgrades:0,multPerTickspeed:0,tickspeedSoftcap:0,timeShards:new Decimal(0),upgradeThreshold:new Decimal(0),shardsPerSecond:new Decimal(0),incomeType:"",areAutobuyersUnlocked:!1,showLockedDimCostNote:!0}},computed:{costIncreases:()=>TimeDimension(1).costIncreaseThresholds},methods:{update(){this.showLockedDimCostNote=!TimeDimension(8).isUnlocked&&player.realities>=1,this.totalUpgrades=player.totalTickGained,this.multPerTickspeed=FreeTickspeed.multToNext,this.tickspeedSoftcap=FreeTickspeed.softcap,this.timeShards.copyFrom(Currency.timeShards),this.upgradeThreshold.copyFrom(FreeTickspeed.fromShards(Currency.timeShards.value).nextShards),this.shardsPerSecond.copyFrom(TimeDimension(1).productionPerSecond),this.incomeType=EternityChallenge(7).isRunning?"8-го Измерения Бесконечности":"Осколка Времени",this.areAutobuyersUnlocked=Autobuyer.timeDimension(1).isUnlocked},maxAll(){tryUnlockTimeDimensions(),maxAllTimeDimensions()},toggleAllAutobuyers(){toggleAllTimeDims()}}},k2=A2;var w2=(0,H.A)(k2,f2,g2,!1,null,null,null);const S2=w2.exports,x2={name:"TimeDimensionsTab",components:{ClassicTimeDimensionsTab:y2,ModernTimeDimensionsTab:S2},computed:{activeComponent(){return this.$viewModel.newUI?"ModernTimeDimensionsTab":"ClassicTimeDimensionsTab"}}},R2=x2;var I2=(0,H.A)(R2,i2,a2,!1,null,null,null);const M2=I2.exports;var D2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-time-studies-tab"},[i("div",{staticClass:"c-subtab-option-container"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.exportStudyTree}},[e._v(" Экспортировать Древо ")]),i("PrimaryButton",{class:e.respecClassObject,on:{click:function(t){e.respec=!e.respec}}},[e._v(" Сбросить Исследования Времени на вечности ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",attrs:{onclick:"Modal.studyString.show({ id: -1 })"}},[e._v(" Импортировать Древо ")])],1),i("div",{staticClass:"l-time-study-tree l-time-studies-tab__tree",style:e.treeStyleObject},[e._l(e.studies,(function(t){return i(e.studyComponent(t.study),{key:t.study.type.toString()+t.study.id.toString(),tag:"component",attrs:{setup:t}})})),i("SecretTimeStudy",{attrs:{setup:e.layout.secretStudy}}),e.isEnslaved?i("EnslavedTimeStudy",{attrs:{setup:e.layout.enslavedStudy}}):e._e(),i("svg",{staticClass:"l-time-study-connection",style:e.treeStyleObject},[e._l(e.connections,(function(e,t){return i("TimeStudyConnection",{key:"connection"+t,attrs:{setup:e}})})),i("HiddenTimeStudyConnection",{attrs:{setup:e.layout.secretStudyConnection}}),e.isEnslaved?i("HiddenTimeStudyConnection",{attrs:{setup:e.layout.enslavedStudyConnection,"is-enslaved":e.isEnslaved}}):e._e()],2)],2)])},P2=[],U2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("TimeStudyButton",{attrs:{setup:e.setup,"ach-tooltip":e.theoremTimeEstimate,"special-click":e.clickHandler()}},[i("DescriptionDisplay",{attrs:{config:e.study.config}}),e.showRequirement?[i("br"),i("span",[e._v(e._s(e.requirement))])]:e._e()],2)},G2=[];const N2={name:"DilationTimeStudy",components:{DescriptionDisplay:V$,TimeStudyButton:QS},props:{setup:{type:Object,required:!0}},data(){return{showRequirement:!1,maxTT:new Decimal,currTT:new Decimal,ttGen:new Decimal}},computed:{study(){return this.setup.study},id(){return this.study.id},requirement(){if(1===this.id)return`Требование: по ${formatInt(5)} выполнений ИспВ11 и ИспВ12\n          и ${formatInt(TimeStudy.dilation.totalTimeTheoremRequirement)}\n          Теорем Времени (у вас ${formatInt(this.maxTT)})`;if(6===this.id){const e=Perk.firstPerk.isBought?"":` и первые ${formatInt(13)} рядов достижений`;return`Требование: ${format("1e4000")} Очков Вечности${e}`}return""},theoremTimeEstimate(){if(this.study.isBought||!this.study.cost||this.ttGen.eq(0))return null;const e=Decimal.sub(this.study.cost,this.currTT).dividedBy(this.ttGen);return e.gt(0)?`Время до необходимого количества ТВ: ${TimeSpan.fromSeconds(e.toNumber()).toStringShort()}`:null}},methods:{update(){1===this.id&&(this.maxTT.copyFrom(Currency.timeTheorems.max),this.showRequirement=!this.study.isBought&&!Perk.bypassECDilation.canBeApplied),6===this.id&&(this.showRequirement=!Pelle.isDoomed),this.currTT.copyFrom(Currency.timeTheorems.value),this.ttGen.copyFrom(getTTPerSecond().times(getGameSpeedupFactor()))},clickHandler(){switch(this.id){case 1:return()=>Tab.eternity.dilation.show();case 2:case 3:case 4:case 5:return()=>Tab.dimensions.time.show();case 6:return()=>Tab.reality.glyphs.show();default:throw new Error("Unrecognized Dilation study was clicked")}}}},B2=N2;var O2=(0,H.A)(B2,U2,G2,!1,null,"62f5ba1c",null);const L2=O2.exports;var $2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("TimeStudyButton",{attrs:{setup:e.setup}},[i("HintText",{staticClass:"l-hint-text--time-study",attrs:{type:"studies"}},[e._v(" ИспВ"+e._s(e.id)+" ")]),e._v(" "+e._s(e.id)+"-е Испытание Вечности ("+e._s(e.formatInt(e.completions))),e.showTotalCompletions?i("span",[e._v("/"+e._s(e.formatInt(5)))]):e._e(),e._v(") "),e.hasRequirement?[i("br"),e._v(" Требование: "),e.config.secondary.path?i("span",[e._v("Используйте только путь Измерений "+e._s(e.config.secondary.path))]):i("span",[e._v(" "+e._s(e.formatValue(e.requirement.current))+"/"+e._s(e.formatValue(e.requirement.total))+" "+e._s(e.pluralize(e.config.secondary.word,e.requirement.total))+e._s(e.config.secondary.resource)+" ")])]:e._e(),e.isUnlocked&&!e.isRunning?i("span",[i("br"),e._v("Дважды щёлкните, чтобы начать Испытание")]):e.isRunning?i("span",[i("br"),e._v("Запущено")]):e._e()],2)},H2=[];const F2={name:"ECTimeStudy",components:{TimeStudyButton:QS,HintText:cN},props:{setup:{type:Object,required:!0}},data(){return{hasRequirement:!1,requirement:{current:new Decimal,total:new Decimal},completions:0,showTotalCompletions:!1,isRunning:!1,isUnlocked:!1}},computed:{study(){return this.setup.study},id(){return this.study.id},config(){return this.study.config},hasNumberRequirement(){return"number"===typeof this.study.requirementCurrent},formatValue(){return this.config.secondary.formatValue}},methods:{update(){var e;const t=this.id,i=this.study,a=EternityChallenge(t);if(this.hasRequirement=!Perk.studyECRequirement.isBought&&!i.wasRequirementPreviouslyMet,this.completions=a.completions,this.showTotalCompletions=!Enslaved.isRunning||1!==t,this.isRunning=(null===(e=EternityChallenge.current)||void 0===e?void 0:e.id)===t,this.isUnlocked=a.isUnlocked,!this.hasRequirement||t>10)return;const n=this.requirement;this.hasNumberRequirement?(n.total=i.requirementTotal,n.current=Math.min(i.requirementCurrent,n.total)):(n.total.copyFrom(i.requirementTotal),n.current.copyFrom(i.requirementCurrent.min(n.total)))}}},q2=F2;var V2=(0,H.A)(q2,$2,H2,!1,null,"15021654",null);const Y2=V2.exports;var j2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{ref:"study",class:e.classObject,style:e.styleObject,on:{click:e.handleClick}},[i("span",[e._v(" У тебя... огромный потенциал... "),i("br"),i("br"),e._v(" Цена: "+e._s(e.format(-e.enslavedTT))+" Теорем Времени ")])])},W2=[];const X2={name:"EnslavedTimeStudy",props:{setup:{type:Object,required:!0}},data(){return{isVisible:player.celestials.enslaved.hasSecretStudy}},computed:{enslavedTT:()=>100,styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"l-time-study":!0,"o-time-study":!0,"o-time-study--bought":!0,"o-time-study-normal":!0,"o-time-study-normal--bought":!0,"o-time-study--enslaved":!0,"o-time-study--enslaved-unlocked":this.isVisible}}},methods:{update(){this.isVisible=Enslaved.isRunning&&player.celestials.enslaved.hasSecretStudy},handleClick(){Enslaved.isRunning&&!player.celestials.enslaved.hasSecretStudy&&(player.celestials.enslaved.hasSecretStudy=!0,EnslavedProgress.secretStudy.giveProgress(),Currency.timeTheorems.add(this.enslavedTT))}}},z2=X2;var K2=(0,H.A)(z2,j2,W2,!1,null,"63dbedaa",null);const Q2=K2.exports;var J2=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("line",{class:e.classObject,attrs:{x1:e.percents(e.setup.x1),y1:e.percents(e.setup.y1),x2:e.percents(e.setup.x2),y2:e.percents(e.setup.y2)}})},Z2=[];const e3={name:"HiddenTimeStudyConnection",props:{setup:{type:Object,required:!0},isEnslaved:{type:Boolean,required:!1,default:!1}},data(){return{isVisible:!1}},computed:{classObject(){return{"o-time-study-connection":!0,"o-time-study-connection--bought":!0,"o-time-study-connection--secret":!0,"o-time-study-connection--secret-unlocked":this.isVisible}}},methods:{update(){this.isVisible=this.isEnslaved?Enslaved.isRunning&&player.celestials.enslaved.hasSecretStudy:player.secretUnlocks.viewSecretTS},percents(e){return 100*e+"%"}}},t3=e3;var i3=(0,H.A)(t3,J2,Z2,!1,null,"34a48f61",null);const a3=i3.exports;var n3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("TimeStudyButton",{attrs:{setup:e.setup,"show-cost":e.showCost,"show-st-cost":e.showSTCost}},[i("HintText",{staticClass:"l-hint-text--time-study",attrs:{type:"studies"}},[e._v(" "+e._s(e.hintText)+" ")]),i("span",{class:{"o-pelle-disabled":e.isUseless}},[i("DescriptionDisplay",{attrs:{config:e.study.config}}),i("EffectDisplay",{attrs:{br:"",config:e.study.config}})],1)],1)},s3=[];const r3={name:"NormalTimeStudy",components:{DescriptionDisplay:V$,EffectDisplay:TN,HintText:cN,TimeStudyButton:QS},props:{setup:{type:Object,required:!0}},data:()=>({showCost:!0,showSTCost:!1}),computed:{study(){return this.setup.study},hintText(){const e=this.study.id;if(!this.setup.path)return e;const t=NormalTimeStudies.pathList.find((e=>e.path===this.setup.path));return`${e} ${t.name}`},isUseless(){return Pelle.uselessTimeStudies.includes(this.study.id)&&Pelle.isDoomed}},methods:{update(){this.showCost=192!==this.study.id||!Enslaved.isRunning,this.showSTCost=VUnlocks.vAchievementUnlock.isUnlocked&&!TimeStudy(this.study.id).isBought&&TimeStudy(this.study.id).costsST()&&!Pelle.isDoomed}}},o3=r3;var l3=(0,H.A)(o3,n3,s3,!1,null,"539cf4d3",null);const c3=l3.exports;var u3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{ref:"study",class:e.classObject,style:e.styleObject,on:{click:e.handleClick}},[e._m(0)])},d3=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(" Секретное достижение! "),i("br"),i("br"),e._v(" (Дважды щёлкните, чтобы скрыть) ")])}];const h3={name:"SecretTimeStudy",props:{setup:{type:Object,required:!0}},data(){return{isVisible:player.secretUnlocks.viewSecretTS}},computed:{styleObject(){return{top:`${this.setup.top}rem`,left:`${this.setup.left}rem`}},classObject(){return{"l-time-study":!0,"o-time-study":!0,"o-time-study--bought":!0,"o-time-study-normal":!0,"o-time-study-normal--bought":!0,"o-time-study--secret":!this.isVisible,"o-time-study--secret-unlocked":this.isVisible}}},methods:{update(){this.isVisible=player.secretUnlocks.viewSecretTS},handleClick(){if(this.isVisible){const e=Date.now();e-ui.lastClickTime<750?(ui.lastClickTime=0,player.secretUnlocks.viewSecretTS=!1):ui.lastClickTime=e}else ui.lastClickTime=0,player.secretUnlocks.viewSecretTS||(player.secretUnlocks.viewSecretTS=!0,this.$refs.study.addEventListener("transitionend",(function e(t){SecretAchievement(21).unlock(),t.target.removeEventListener(t.type,e)})))}}},p3=h3;var m3=(0,H.A)(p3,u3,d3,!1,null,"830cea28",null);const y3=m3.exports;var f3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("TimeStudyButton",{staticClass:"o-time-study--triad",attrs:{setup:e.setup,"show-st-cost":!0}},[i("HintText",{staticClass:"l-hint-text--time-study",attrs:{type:"studies"}},[e._v(" "+e._s(e.id)+" Тройственное ")]),i("DescriptionDisplay",{attrs:{config:e.study.config}}),i("EffectDisplay",{attrs:{br:"",config:e.study.config}})],1)},g3=[];const b3={name:"TriadTimeStudy",components:{DescriptionDisplay:V$,EffectDisplay:TN,HintText:cN,TimeStudyButton:QS},props:{setup:{type:Object,required:!0}},computed:{study(){return this.setup.study},id(){return this.study.id},config(){return this.study.config}}},v3=b3;var E3=(0,H.A)(v3,f3,g3,!1,null,"2eceb791",null);const T3=E3.exports,_3={name:"TimeStudiesTab",components:{PrimaryButton:Fs,NormalTimeStudy:c3,ECTimeStudy:Y2,EnslavedTimeStudy:Q2,DilationTimeStudy:L2,TriadTimeStudy:T3,SecretTimeStudy:y3,TimeStudyConnection:US,HiddenTimeStudyConnection:a3},data(){return{respec:player.respec,layoutType:tx.NORMAL,vLevel:0,renderedStudyCount:0,renderedConnectionCount:0,isEnslaved:!1,delayTimer:0}},computed:{layout(){return ex.create(this.layoutType)},allStudies(){return this.layout.studies},studies(){return this.allStudies.slice(0,this.renderedStudyCount)},allConnections(){return this.layout.connections},connections(){return this.allConnections.slice(0,this.renderedConnectionCount)},treeStyleObject(){return{width:`${this.layout.width}rem`,height:`${this.layout.height}rem`}},respecClassObject(){return{"o-primary-btn--subtab-option":!0,"o-primary-btn--respec-active":this.respec}}},watch:{respec(e){player.respec=e},vLevel(){this.$recompute("layout")}},created(){const e=()=>{let t=!1;this.renderedStudyCount<this.allStudies.length&&(this.renderedStudyCount+=2,t=!0),this.renderedConnectionCount<this.allConnections.length&&(this.renderedConnectionCount+=2,t=!0),t&&(this.renderAnimationId=requestAnimationFrame(e))};e(),this.on$(GAME_EVENT.REALITY_RESET_AFTER,(()=>{this.delayTimer=player.celestials.enslaved.hasSecretStudy?Date.now():0})),document.body.scrollTop=0},beforeDestroy(){cancelAnimationFrame(this.renderAnimationId)},methods:{update(){this.respec=player.respec,this.layoutType=tx.current,this.vLevel=Ra.pets.v.level,this.isEnslaved=Enslaved.isRunning||Date.now()-this.delayTimer<1e3},studyComponent(e){switch(e.type){case TIME_STUDY_TYPE.NORMAL:return c3;case TIME_STUDY_TYPE.ETERNITY_CHALLENGE:return Y2;case TIME_STUDY_TYPE.DILATION:return L2;case TIME_STUDY_TYPE.TRIAD:return T3}throw"Unknown Time Study type"},exportStudyTree(){0===player.timestudy.studies.length?GameUI.notify.error("Невозможно экспортировать пустое Древо Исследований!"):(copyToClipboard(GameCache.currentStudyTree.value.exportString),GameUI.notify.info("Древо Исследований экспортировано в буфер обмена"))}}},C3=_3;var A3=(0,H.A)(C3,D2,P2,!1,null,"0290961e",null);const k3=A3.exports;var w3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"l-v-celestial-tab"},[i("CelestialQuoteHistory",{attrs:{celestial:"v"}}),e.mainUnlock?i("div",[e.isFlipped?i("div",{staticClass:"c-v-info-text"},[i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option",on:{click:e.toggleFlipped}},[e.wantsFlipped?i("span",[e._v("Скрыть")]):i("span",[e._v("Показать")]),e._v(" супердостижения Ви ")]),i("PrimaryButton",{staticClass:"o-primary-btn--subtab-option l-cursed-glyph-creation",on:{click:e.createCursedGlyph}},[e._v(" Создать Проклятый Глиф ")]),i("br"),e._v(" Проклятые Глифы могут быть созданы отсюда или из вкладки Эффарига. "),i("br"),e._v(" Каждый Проклятый Глиф считается за "+e._s(e.formatInt(-3))+" глифа при подсчёте количества действующих глифов. "),i("br"),e.isDoomed?e._e():i("span",[e._v("Чёрные Дыры теперь способны замедлять время, при условии что они обе действуют беспрерывно.")]),i("br"),i("br"),e._v(" Каждое выполнение супердостижения Ви приравнивается к двум выполнениям обычных достижений Ви (и, в частности, даёт две Теоремы Пространства, а не одну). "),i("br"),e._v(" Цены на понижение целей супердостижений Ви растут на "+e._s(e.formatPercents(.15))+" каждую покупку. ")],1):e._e(),e.showReduction?i("div",{staticClass:"c-v-info-text"},[e._v(" У вас "+e._s(e.quantify("Очко",e.pp,2,0))+" Умения. ")]):e._e(),i("div",{staticClass:"l-v-unlocks-container"},e._l(e.hexGrid,(function(t,a){return i("li",{key:a+"-v-hex",style:[t.isRunButton?{zIndex:1}:{zIndex:0}]},[t.config?i("div",{staticClass:"l-v-hexagon c-v-unlock",style:"background-color: "+e.hexColor(t)},[i("p",{staticClass:"o-v-unlock-name"},[t.canBeReduced&&e.showReduction?i("br"):e._e(),e._v(e._s(t.config.name)+" ")]),i("p",{staticClass:"o-v-unlock-desc",domProps:{innerHTML:e._s(t.formattedDescription)}}),e.has(e.runMilestones[0][0])&&t.isReduced?i("p",{staticClass:"o-v-unlock-goal-reduction"},[e._v(" Цель была "+e._s(e.mode(t))+"ена на "+e._s(e.reductionValue(t))+" ")]):e._e(),i("p",{staticClass:"o-v-unlock-amount"},[e._v(" "+e._s(e.formatInt(t.completions))+"/"+e._s(e.formatInt(t.config.values.length))+" выполнений ")]),e.showRecord(t)?i("div",[i("p",{staticClass:"o-v-unlock-record"},[e._v(" Рекорд: "+e._s(t.config.formatRecord(e.runRecords[t.id]))+" ")]),i("p",[i("GlyphSetPreview",{attrs:{glyphs:e.runGlyphs[t.id],text:t.config.name,"text-hidden":!0}})],1),t.canBeReduced&&e.showReduction?i("div",[i("div",{staticClass:"l-v-goal-reduction-spacer"}),i("button",{staticClass:"o-primary-btn l-v-reduction",class:{"o-primary-btn--disabled":!t.canBeReduced||e.pp<t.reductionCost},attrs:{"ach-tooltip":e.reductionTooltip(t)},on:{click:function(i){return e.reduceGoals(t)}}},[i("i",{staticClass:"fas fa-angle-double-down"})])]):e._e()]):e._e()]):t.isRunButton?i("div",{class:e.runButtonClassObject,on:{click:function(t){return e.startRun()}}},[i("b",{staticClass:"o-v-start-text",class:{"o-pelle-disabled":e.isDoomed}},[e._v(" Запустить Реальность Ви ")]),i("br"),i("div",{style:{"font-size":e.hasAlchemy?"1.2rem":""}},[e._v(" "+e._s(e.runDescription)+" ")]),i("div",{staticClass:"c-v-run-button__line c-v-run-button__line--1"}),i("div",{staticClass:"c-v-run-button__line c-v-run-button__line--2"}),i("div",{staticClass:"c-v-run-button__line c-v-run-button__line--3"})]):i("div",[i("div",{staticClass:"l-v-hexagon l-placeholder-invisible"})])])})),0),i("div",{staticClass:"c-v-info-text"},[e._v(" Достижения Ви могут быть выполнены лишь внутри Реальности Ви, зато их награды действуют в том числе и вне неё. ")]),i("div",{staticClass:"c-v-info-text"},[e._v(" Вы выполнили "+e._s(e.quantifyInt("уровень",e.totalUnlocks))+" достижений Ви в сумме. "),e.isDoomed?e._e():i("span",[e._v(" За выполнения достижений Ви вы получаете по одной Теореме Пространства, которые могут быть потрачены на покупку наборов взаимоисключающих Исследований Времени. "),i("br"),e._v(" Автоматизатор также имеет доступ к количеству ваших Теорем Пространства. ")])]),i("br"),i("div",{staticClass:"l-v-milestones-grid"},e._l(e.runMilestones,(function(t,a){return i("div",{key:a+"-v-ms-row",staticClass:"l-v-milestones-grid__row"},e._l(t,(function(t,n){return i("div",{key:n+10*a+"-v-ms",staticClass:"o-v-milestone",class:{"o-v-milestone--unlocked":e.has(t)}},[i("div",{class:{"o-pelle-disabled":e.isDoomed}},[i("p",[e._v(e._s(t.description))]),i("p",[e._v("Награда: "+e._s(t.rewardText))]),t.formattedEffect?i("p",[e._v(" Сейчас: "),i("b",[e._v(e._s(t.formattedEffect))])]):e._e()])])})),0)})),0)]):i("div",{staticClass:"c-v-info-text"},[e._l(e.mainUnlockDB,(function(e){return i("v-unlock-requirement",{key:e.name,attrs:{"db-entry":e}})})),i("div",{staticClass:"l-v-milestones-grid__row"},[i("div",{class:e.celestialUnlockClassObject,on:{click:e.unlockCelestial}},[i("p",[e._v(e._s(e.vUnlock.description))]),i("p",[e._v(e._s(e.vUnlock.rewardText))])])])],2)],1)},S3=[],x3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-v-unlock-bar",style:e.textStyle},[i("div",{staticClass:"c-v-unlock-bar__progress",style:e.barProgressStyle}),e._v(" "+e._s(e.dbEntry.format(e.resource))+" / "+e._s(e.dbEntry.format(e.dbEntry.requirement))+" "+e._s(e.dbEntry.name)+" ")])},R3=[];const I3={name:"VUnlockRequirement",props:{dbEntry:{type:Object,required:!0}},data(){return{resource:new Decimal(0),progress:0}},computed:{barProgressStyle(){const e=1===this.progress?"var(--color-v--base)":"#6b5f2e";return{background:e,width:100*this.progress+"%"}},textStyle(){return{color:1===this.progress?"black":"var(--color-text)","border-color":"var(--color-text)"}}},methods:{update(){this.resource.copyFrom(new Decimal(this.dbEntry.resource())),this.progress=Math.clampMax(this.dbEntry.progress(),1)}}},M3=I3;var D3=(0,H.A)(M3,x3,R3,!1,null,null,null);const P3=D3.exports,U3={name:"VTab",components:{CelestialQuoteHistory:EF,VUnlockRequirement:P3,PrimaryButton:Fs,GlyphSetPreview:_A},data(){return{mainUnlock:!1,canUnlockCelestial:!1,totalUnlocks:0,pp:0,showReduction:!1,runRecords:[],runGlyphs:[],isFlipped:!1,wantsFlipped:!0,isRunning:!1,hasAlchemy:!1}},computed:{mainUnlockDB:()=>GameDatabase.celestials.v.mainUnlock,celestialUnlockClassObject(){return{"o-v-milestone":!0,"o-v-milestone--unlocked":this.canUnlockCelestial,"c-v-unlock-button--enabled":this.canUnlockCelestial}},hexGrid(){return this.isFlipped&&this.wantsFlipped?[VRunUnlocks.all[6],{},{},{},{isRunButton:!0},VRunUnlocks.all[7],VRunUnlocks.all[8],{},{}]:[VRunUnlocks.all[0],VRunUnlocks.all[1],{},VRunUnlocks.all[5],{isRunButton:!0},VRunUnlocks.all[2],VRunUnlocks.all[4],VRunUnlocks.all[3],{}]},vUnlock:()=>VUnlocks.vAchievementUnlock,runMilestones(){return[[VUnlocks.shardReduction,VUnlocks.adPow,VUnlocks.fastAutoEC],[VUnlocks.autoAutoClean,VUnlocks.achievementBH,VUnlocks.raUnlock]]},runButtonClassObject(){return{"l-v-hexagon":!0,"c-v-run-button":!0,"c-v-run-button--running":this.isRunning,"c-celestial-run-button--clickable":!this.isDoomed,"o-pelle-disabled-pointer":this.isDoomed}},runDescription(){return GameDatabase.celestials.descriptions[3].effects().replace(/^\w/u,(e=>e.toUpperCase()))},isDoomed:()=>Pelle.isDoomed},methods:{update(){this.mainUnlock=VUnlocks.vAchievementUnlock.isUnlocked,this.canUnlockCelestial=V.canUnlockCelestial,this.totalUnlocks=V.spaceTheorems,this.pp=Currency.perkPoints.value,this.showReduction=VUnlocks.shardReduction.isUnlocked,this.runRecords=Array.from(player.celestials.v.runRecords),this.runGlyphs=player.celestials.v.runGlyphs.map((e=>Glyphs.copyForRecords(e))),this.isFlipped=V.isFlipped,this.wantsFlipped=player.celestials.v.wantsFlipped,this.isRunning=V.isRunning,this.hasAlchemy=Ra.unlocks.unlockGlyphAlchemy.canBeApplied},unlockCelestial(){V.canUnlockCelestial&&V.unlockCelestial()},startRun(){this.isDoomed||Modal.celestials.show({name:"Ви",number:3})},has(e){return e.isUnlocked},mode(e){return e.config.mode===qi.SUBTRACTION?"уменьш":"раздел"},reductionValue(e){return e.config.mode===qi.SUBTRACTION?formatInt(e.reduction):format(Decimal.pow10(e.reduction))},showRecord(e){return this.runRecords[e.id]>0||e.completions>0},reduceGoals(e){if(!Currency.perkPoints.purchase(e.reductionCost))return;const t=e.config.reductionStepSize?e.config.reductionStepSize:1;player.celestials.v.goalReductionSteps[e.id]+=t;for(const i of VRunUnlocks.all)i.tryComplete();V.checkForUnlocks()},reductionTooltip(e){return`Потратить ${quantify("Очко",e.reductionCost,2,0)} Умения\n        и ${this.mode(e)}ить цель на ${format(e.config.perReductionStep)}`},hexColor(e){const t=e.completions,i=e.config.values.length;if(t===i)return"var(--color-v--base)";const a=255-5*t,n=255-10*t,s=255-20*t;return`rgb(${a},${n},${s})`},toggleFlipped(){player.celestials.v.wantsFlipped=!this.wantsFlipped},createCursedGlyph(){Glyphs.giveCursedGlyph()}}},G3=U3;var N3=(0,H.A)(G3,w3,S3,!1,null,"0a59d68f",null);const B3=N3.exports,O3={AntimatterDimensionsTab:ZB,InfinityDimensionsTab:mX,TimeDimensionsTab:M2,OptionsSavingTab:iQ,OptionsVisualTab:DQ,OptionsGameplayTab:OK,StatisticsTab:k0,ChallengeRecordsTab:hF,PastPrestigeRunsTab:YQ,GlyphSetRecordsTab:rV,SpeedrunMilestonesTab:b0,PreviousSpeedrunTab:yZ,NormalAchievementsTab:mK,SecretAchievementTab:j1,TeresaTab:B0,EffarigTab:NF,EnslavedTab:FF,VTab:B3,RaTab:YZ,LaitelaTab:Ez,PelleTab:QJ,AutobuyersTab:GL,AutomatorTab:p$,NormalChallengesTab:wK,InfinityChallengesTab:OW,EternityChallengesTab:Aq,InfinityUpgradesTab:wX,BreakInfinityTab:EH,ReplicantiTab:x1,TimeStudiesTab:k3,EternityUpgradesTab:eV,EternityMilestonesTab:Nq,TimeDilationTab:t2,GlyphsTab:lW,RealityUpgradesTab:a1,ImaginaryUpgradesTab:EW,PerksTab:tr,BlackHoleTab:iH,AlchemyTab:RN,CelestialNavigationTab:eF,ShopTab:r0,MultiplierBreakdownTab:Vz},L3=O3;var $3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-s12-desktop-icons-container"},e._l(e.DesktopIcons.entries,(function(t,a){return i("div",{key:t.name,staticClass:"c-s12-desktop-icon",class:{"c-s12-desktop-icon--selected":e.DesktopIcons.selected===a},on:{click:function(t){return e.handleClick(a)}}},[i("div",{staticClass:"c-s12-desktop-icon__inner"},[i("img",{staticClass:"c-s12-desktop-icon__img",attrs:{src:"images/s12/"+t.image}}),i("div",{staticClass:"c-s12-desktop-icon__text"},[e._v(" "+e._s(t.name)+" ")])])])})),0)},H3=[];const F3={entries:[{name:"Проигрыватель Windows Media",action(){const e=["https://www.youtube.com/watch?v=dQw4w9WgXcQ","https://youtu.be/rP42C-4zL3w?t=2","https://www.youtube.com/watch?v=fTaWKbD3UK8","https://www.youtube.com/watch?v=fLbP6qpI1YI"];window.open(e[Math.floor(Math.random()*e.length)])},image:"desktop--windows-media-player.png"},{name:"Discord",action(){window.open("https://discord.gg/ST9NaXa")},image:"desktop--discord-logo.png"},{name:"Игры",action(){Modal.s12Games.show()},image:"desktop--games.png"}],selected:-1};let q3=!1;const V3={name:"DesktopIcons",data(){return{DesktopIcons:F3}},mounted(){document.body.addEventListener("click",this.clearSelected)},beforeDestroy(){document.body.removeEventListener("click",this.clearSelected),this.clearSelected()},methods:{clearSelected(){q3||(F3.selected=-1)},handleClick(e){F3.selected!==e?(F3.selected=e,q3=!0,setTimeout((()=>q3=!1),0)):F3.entries[e].action()}}},Y3=V3;var j3=(0,H.A)(Y3,$3,H3,!1,null,"037281dd",null);const W3=j3.exports;var X3=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-s12-window__outer",class:e.S12Windows.isMinimised?"c-s12-window__outer--minimised":"",attrs:{id:"page"}},[i("link",{attrs:{rel:"stylesheet",type:"text/css",href:e.isOldUi?"stylesheets/old-ui.css":"stylesheets/new-ui-styles.css"}}),i("span",{staticClass:"c-s12-close-button",on:{click:function(t){e.S12Windows.isMinimised=!0}}}),i("span",{staticClass:"c-modal__title"},[e._v(" "+e._s(e.tabName)+" ")]),i("div",{key:e.newGameKey,staticClass:"game-container c-s12-window__inner",class:e.isOldUi?"c-old-ui l-old-ui":"",style:e.topPadding},[i("GameUiComponentFixed"),i("BackgroundAnimations"),i("div",{staticClass:"c-s12-window__content-container"},[e.news?i("NewsTicker"):e._e(),i("BigCrunchButton"),e.bigCrunch?e._e():i("div",{staticClass:"tab-container"},[i("HeaderPrestigeGroup"),i("div",{staticClass:"information-header"},[i("HeaderChallengeDisplay"),i("HeaderChallengeEffects"),e.hasReality?i("GameSpeedDisplay"):e._e(),e.hasReality?i("br"):e._e(),i("HeaderBlackHole")],1),e._t("default")],2)],1)],1)])},z3=[];let K3;const Q3={isMinimised:!1,tabs:{hoveringTab:void 0,setHoveringTab(e){this.hoveringTab=e.id,clearTimeout(K3)},unsetHoveringTab(e=!1){e?this.hoveringTab=void 0:K3=setTimeout((()=>this.hoveringTab=void 0),1e3)},tabButtonPositions:[]}},J3={name:"S12Ui",components:{BigCrunchButton:mI,HeaderChallengeDisplay:$I,HeaderChallengeEffects:jI,NewsTicker:TD,HeaderBlackHole:xI,HeaderPrestigeGroup:dD,GameSpeedDisplay:fM,GameUiComponentFixed:LG,BackgroundAnimations:rI},data(){return{bigCrunch:!1,hasReality:!1,newGameKey:"",tabName:"",S12Windows:Q3}},computed:{news(){return this.$viewModel.news},topPadding(){return this.$viewModel.news?"":"padding-top: 3.9rem"},isOldUi(){return!this.$viewModel.newUI}},methods:{update(){const e=!player.break&&Player.canCrunch;this.bigCrunch=e&&Time.bestInfinityRealTime.totalMinutes>1,this.hasReality=PlayerProgress.realityUnlocked(),this.newGameKey=Pelle.isDoomed,this.tabName=Tabs.current[this.$viewModel.subtab].name}}},Z3=J3;var e5=(0,H.A)(Z3,X3,z3,!1,null,"5a9d17b4",null);const t5=e5.exports;var i5=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("div",{staticClass:"c-game-ui--fixed"},[e.view.modal.progressBar?i("ModalProgressBar"):e.view.quotes.current?i("CelestialQuoteModal",{attrs:{quote:e.view.quotes.current}}):e.view.quotes.history?i("CelestialQuoteHistoryDisplay",{attrs:{quotes:e.view.quotes.history}}):e.view.modal.current?i("PopupModal",{attrs:{modal:e.view.modal.current}}):e._e(),e.ending?i("FadeAway"):e._e(),e.ending?i("CreditsContainer"):e._e(),e.ending?i("NewGame"):e._e(),i("SpectateGame")],1),i("S12Taskbar")],1)},a5=[],n5=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isHidden?e._e():i("span",[i("div",{staticClass:"c-taskbar"},[i("img",{staticClass:"c-start-icon",attrs:{src:"images/s12/win7-start-menu-inactive.png"},on:{click:function(t){return e.startupSound.play()}}}),e._l(e.tabs,(function(t,a){return[e.tabVisibilities[a]?i("TaskbarIcon",{key:t.name,attrs:{tab:t,"tab-position":a}}):e._e()]})),i("div",{staticClass:"c-s12-show-desktop",on:{click:function(t){e.S12Windows.isMinimised=!0}}})],2),e._l(e.tabs,(function(t,a){return[e.tabVisibilities[a]?i("S12Subtabs",{key:t.name,attrs:{tab:t}}):e._e()]}))],2)},s5=[],r5=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"subtabs",staticClass:"c-s12-subtabs",class:{"c-s12-subtabs--show":e.S12Windows.tabs.hoveringTab===e.tab.id,"c-s12-subtabs--compact":e.useCompact},style:{left:e.left},on:{mouseenter:function(t){return e.S12Windows.tabs.setHoveringTab(e.tab)},mouseleave:function(t){return e.S12Windows.tabs.unsetHoveringTab()}}},[e._l(e.tab.subtabs,(function(t,a){return[e.subtabVisibilities[a]?i("div",{key:a,staticClass:"c-s12-subtab-btn",class:{"c-s12-subtab-btn--active":e.isCurrentSubtab(t.id)},on:{click:function(i){t.show(!0),e.S12Windows.isMinimised=!1,e.S12Windows.tabs.unsetHoveringTab(!0)}}},[i("span",{staticClass:"c-s12-subtab-btn__text"},[e.useCompact?i("span",{staticClass:"c-s12-subtab-btn__symbol--small",domProps:{innerHTML:e._s(t.symbol)}}):e._e(),e._v(" "+e._s(t.name)+" ")]),e.useCompact?e._e():i("span",{staticClass:"c-s12-subtab-btn__symbol",domProps:{innerHTML:e._s(t.symbol)}}),t.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()]):e._e()]}))],2)},o5=[];const l5={name:"S12Subtabs",props:{tab:{type:Object,required:!0}},data(){return{isAvailable:!0,isHidden:!1,subtabVisibilities:[],tabName:"",S12Windows:Q3,windowWidth:0,left:"0px",useCompact:!1}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.isHidden=this.tab.isHidden,this.subtabVisibilities=this.tab.subtabs.map((e=>e.isAvailable)),this.windowWidth=window.innerWidth,this.useCompact=180*this.subtabVisibilities.reduce(((e,t)=>e+t))>window.innerWidth-10,this.left=this.getSubtabsPosition()},isCurrentSubtab(e){return player.options.lastOpenSubtab[this.tab.id]===e&&!Q3.isMinimised},getSubtabsPosition(){if(!this.$refs.subtabs)return"0px";const e=Q3.tabs.tabButtonPositions[this.tab.id],t=this.$refs.subtabs.offsetWidth,i=5+t/2,a=this.windowWidth-i;return this.isAvailable,this.isHidden,`${Math.clamp(e,i,a)}px`}}},c5=l5;var u5=(0,H.A)(c5,r5,o5,!1,null,"a1a81406",null);const d5=u5.exports;var h5=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"taskbarIcon",class:{"c-taskbar-icon":!0,"c-taskbar-icon--active":e.isCurrentTab},attrs:{title:e.tab.name},on:{mouseenter:function(t){return e.S12Windows.tabs.setHoveringTab(e.tab)},mouseleave:function(t){return e.S12Windows.tabs.unsetHoveringTab()},click:function(t){e.tab.show(!0),e.S12Windows.isMinimised=!1,e.S12Windows.tabs.unsetHoveringTab(!0)}}},[i("img",{staticClass:"c-taskbar-icon__image",attrs:{src:"images/s12/"+e.tab.key+".png"}}),e.hasNotification?i("div",{staticClass:"fas fa-circle-exclamation l-notification-icon"}):e._e()])},p5=[];const m5={name:"TaskbarIcon",props:{tab:{type:Object,required:!0},tabPosition:{type:Number,required:!0}},data(){return{isAvailable:!0,isHidden:!1,hasNotification:!1,tabName:"",S12Windows:Q3}},computed:{isCurrentTab(){return this.tab.isOpen&&!Q3.isMinimised}},methods:{update(){this.isAvailable=this.tab.isAvailable,this.isHidden=this.tab.isHidden,this.hasNotification=this.tab.hasNotification,this.tabPosition<Pelle.endTabNames.length?this.tabName=Pelle.transitionText(this.tab.name,Pelle.endTabNames[this.tabPosition],Math.clamp(GameEnd.endState-this.tab.id%4/10,0,1)):this.tabName=this.tab.name,Q3.tabs.tabButtonPositions[this.tab.id]=this.getSubtabsPosition()},getSubtabsPosition(){return this.$refs.taskbarIcon?this.$refs.taskbarIcon.offsetLeft+this.$refs.taskbarIcon.offsetWidth/2:"0px"}}},y5=m5;var f5=(0,H.A)(y5,h5,p5,!1,null,"6cc71a97",null);const g5=f5.exports,b5=new Audio("audio/s12-startup.mp3"),v5={name:"S12Taskbar",components:{TaskbarIcon:g5,S12Subtabs:d5},data(){return{isHidden:!1,tabVisibilities:[],S12Windows:Q3,startupSound:b5}},computed:{tabs:()=>Tabs.newUI},methods:{update(){this.isHidden=AutomatorData.isEditorFullscreen,this.tabVisibilities=Tabs.newUI.map((e=>!e.isHidden&&e.isAvailable))}}},E5=v5;var T5=(0,H.A)(E5,n5,s5,!1,null,"bc41fcd8",null);const _5=T5.exports,C5={name:"S12UiFixed",components:{PopupModal:jU,ModalProgressBar:fU,CelestialQuoteModal:$P,CelestialQuoteHistoryDisplay:xP,FadeAway:JP,CreditsContainer:jP,SpectateGame:nG,NewGame:$U,S12Taskbar:_5},data(){return{ending:!1}},computed:{view(){return this.$viewModel}},methods:{update(){this.ending=GameEnd.endState>=END_STATE_MARKERS.FADE_AWAY&&!GameEnd.creditsClosed}}},A5=C5;var k5=(0,H.A)(A5,i5,a5,!1,null,"b165c672",null);const w5=k5.exports,S5={name:"GameUIComponent",components:{...L3,ClassicUi:oP,ModernUi:YG,GameUiComponentFixed:LG,BackgroundAnimations:rI,S12Ui:t5,S12UiFixed:w5,S12DesktopIcons:W3},computed:{view(){return this.$viewModel},isThemeS12(){return"S12"===this.view.theme},uiLayout(){return this.isThemeS12?"S12Ui":this.view.newUI?"ModernUi":"ClassicUi"},containerClass(){return this.view.newUI?"new-ui":"old-ui"},page(){const e=Tabs.current[this.$viewModel.subtab];return e.config.component},themeCss(){return`stylesheets/theme-${this.view.theme}.css`}}},x5=S5;var R5=(0,H.A)(x5,TR,_R,!1,null,"89b916ae",null);const I5=R5.exports;function M5(e,t,i){const a=e.getter;i[t]=!0,e.getter=e=>(i[t],a.call(e,e))}Vue.mixin({computed:{$viewModel(){return ER.view}},created(){this.update&&(this.on$(GAME_EVENT.UPDATE,this.update),P5.initialized&&this.update());const e=Object.create(null),t=this._computedWatchers;if(t){for(const i in t)M5(t[i],i,e);this.$recompute=t=>e[t]=!e[t],Vue.observable(e)}},destroyed(){EventHub.ui.offAll(this)},methods:{emitClick(){this.$emit("click")},emitInput(e){this.$emit("input",e)},emitClose(){this.$emit("close")},on$(e,t){EventHub.ui.on(e,t,this)},format(e,t,i){return format(e,t,i)},formatInt(e){return formatInt(e)},formatPercents(e,t){return formatPercents(e,t)},formatRarity(e){return formatRarity(e)},formatX(e,t,i){return formatX(e,t,i)},formatPow(e,t,i){return formatPow(e,t,i)},formatPostBreak(e,t,i){return formatPostBreak(e,t,i)},pluralize,quantify,quantifyInt}});const D5={complain(){this.checkReactivity(player,"player")},checkReactivity(e,t){if(void 0!==e&&null!==e){if(delete player.records.thisReality.bestRMmin.__ob__,delete player.records.thisReality.bestRMminVal.__ob__,void 0!==e.__ob__)throw new Error(`Boi you fukked up - ${t} became REACTIVE (oh shite)`);for(const i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;const a=e[i];"object"===typeof a&&this.checkReactivity(a,`${t}.${i}`)}}}},P5={notify:vR,events:[],flushPromise:void 0,initialized:!1,globalClickListener:null,touchDevice:"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch,dispatch(e,t){const i=this.events.indexOf(e);-1!==i&&this.events.splice(i,1),e!==GAME_EVENT.UPDATE&&this.events.push([e,t]),this.flushPromise||(this.flushPromise=Promise.resolve().then(this.flushEvents.bind(this)))},flushEvents(){this.flushPromise=void 0,y&&PerformanceStats.isOn&&PerformanceStats.currentBlocks.length>0&&(Vue.nextTick((()=>PerformanceStats.start("Vue Render"))),PerformanceStats.start("Vue Update"));for(const e of this.events)EventHub.ui.dispatch(e[0],e[1]);EventHub.ui.dispatch(GAME_EVENT.UPDATE),y&&(D5.complain(),PerformanceStats.isOn&&PerformanceStats.currentBlocks.length>0&&(PerformanceStats.end(),Vue.nextTick((()=>{PerformanceStats.end("Vue Render"),PerformanceStats.end("Frame Time"),PerformanceStats.render()})))),this.events=[]},update(){this.dispatch(GAME_EVENT.UPDATE)}},U5=function(){let e=0;return{next:()=>e++}}();mR.Ay.options.defaultClass="general-tooltip",mR.Ay.options.popover.defaultBaseClass="general-tooltip",mR.Ay.options.defaultTemplate='<div role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',Vue.use(mR.Ay),function(){const e=Vue.config.optionMergeStrategies.methods;Vue.config.optionMergeStrategies.methods=(t,i,a,n)=>{const s=e(t,i,a,n),r=e=>e&&e.update;return r(t)&&r(i)?(s.update=function(){t.update.call(this),i.update.call(this)},s):s}}(),gR(Vue),bR(Vue),Vue.use(yR.Ay,{config:{id:"UA-77268961-1"}});const G5=new Vue({el:"#ui",components:{GameUIComponent:I5},data:ER,computed:{notation(){return Notations.find(this.notationName)},currentGlyphTooltip(){return this.view.tabs.reality.currentGlyphTooltip},scrollWindow(){return this.view.scrollWindow},newUI(){return this.view.newUI}},watch:{currentGlyphTooltip(e){-1===e||P5.globalClickListener?-1===e&&P5.globalClickListener&&(document.removeEventListener("click",P5.globalClickListener),P5.globalClickListener=null):(P5.globalClickListener=()=>{this.view.tabs.reality.currentGlyphTooltip=-1,document.removeEventListener("click",P5.globalClickListener),P5.globalClickListener=null},document.addEventListener("click",P5.globalClickListener))},scrollWindow(e,t){0!==e&&0===t&&this.scroll(Date.now())}},methods:{scroll(e){const t=Date.now();this.view.scrollWindow&&(window.scrollBy(0,this.view.scrollWindow*(t-e)/2),setTimeout((()=>this.scroll(t)),20))}},render:e=>e(I5)});class N5 extends k{constructor(e){super(e),this._row=Math.floor(this.id/10),this._column=this.id%10,this._bitmask=1<<this.column-1,this._inverseBitmask=~this._bitmask,this.registerEvents(e.checkEvent,(e=>this.tryUnlock(e)))}get name(){return this.config.name}get row(){return this._row}get column(){return this._column}get isPreReality(){return this.row<14}get isPrePelle(){return this.row<18}get isUnlocked(){return 0!==(player.achievementBits[this.row-1]&this._bitmask)}get isDisabled(){return Pelle.isDisabled("achievements")&&Pelle.disabledAchievements.includes(this.id)}get isEffectActive(){return this.isUnlocked&&!this.isDisabled}tryUnlock(e){this.isUnlocked||this.config.checkRequirement(e)&&this.unlock()}lock(){player.achievementBits[this.row-1]&=this._inverseBitmask}unlock(e){this.isUnlocked||(player.achievementBits[this.row-1]|=this._bitmask,85!==this.id&&93!==this.id||Autobuyer.bigCrunch.bumpAmount(4),55!==this.id||PlayerProgress.realityUnlocked()||Modal.message.show("Поскольку вы совершили бесконечность быстрее, чем за минуту, интерфейс изменился.\n        Вместо того, чтобы исчезать, Измерения остаются видны, а кнопка Большого Сжатия появляется над ними.\n        Это чисто внешнее изменение, предотвращающее мерцание.",{},3),148!==this.id&&166!==this.id||GameCache.staticGlyphWeights.invalidate(),e?GameUI.notify.reality(`Автоматически восстановлено: «${this.name}»`):(GameUI.notify.success(`Достижение: «${this.name}»`),wc.activateAchievement(this.id)),player.speedrun.isActive&&!player.speedrun.achievementTimes[this.id]&&(player.speedrun.achievementTimes[this.id]=Math.floor(player.records.realTimePlayed)),O5._power.invalidate(),EventHub.dispatch(GAME_EVENT.ACHIEVEMENT_UNLOCKED))}}const B5=N5.createAccessor(GameDatabase.achievements.normal),O5={all:B5.index.compact(),get preReality(){return O5.all.filter((e=>e.isPreReality))},get prePelle(){return O5.all.filter((e=>e.isPrePelle))},get allRows(){const e=O5.all.map((e=>e.row)).max();return O5.rows(1,e)},get preRealityRows(){const e=O5.preReality.map((e=>e.row)).max();return O5.rows(1,e)},get prePelleRows(){const e=O5.prePelle.map((e=>e.row)).max();return O5.rows(1,e)},rows:(e,t)=>Array.range(e,t).map(O5.row),row:e=>Array.range(10*e+1,8).map(B5),get effectiveCount(){const e=O5.all.countWhere((e=>e.isUnlocked));return e},get period(){return GameCache.achievementPeriod.value},autoAchieveUpdate(e){if(PlayerProgress.realityUnlocked())if(player.reality.autoAchieve&&!RealityUpgrade(8).isLockingMechanics){if(!O5.preReality.every((e=>e.isUnlocked))&&(player.reality.achTimer+=e,!(player.reality.achTimer<this.period))){for(const e of O5.preReality.filter((e=>!e.isUnlocked)))if(e.unlock(!0),player.reality.achTimer-=this.period,player.reality.achTimer<this.period)break;player.reality.gainedAutoAchievements=!0}}else player.reality.achTimer=Math.clampMax(player.reality.achTimer+e,this.period)},get timeToNextAutoAchieve(){return PlayerProgress.realityUnlocked()?0===GameCache.achievementPeriod.value||0===O5.preReality.countWhere((e=>!e.isUnlocked))?0:this.period-player.reality.achTimer:0},_power:new Lazy((()=>{const e=O5.allRows.countWhere((e=>e.every((e=>e.isUnlocked)))),t=Math.pow(1.25,e)*Math.pow(1.03,O5.effectiveCount),i=getAdjustedGlyphEffect("effarigachievement")*Ra.unlocks.achievementPower.effectOrDefault(1);return Math.pow(t,i)})),get power(){return Pelle.isDisabled("achievementMult")?1:O5._power.value},updateSteamStatus(){for(const e of O5.all.filter((e=>e.isUnlocked)))wc.activateAchievement(e.id)}};EventHub.logic.on(GAME_EVENT.PERK_BOUGHT,(()=>{player.reality.achTimer=Math.clampMax(player.reality.achTimer,O5.period)}));class L5 extends k{constructor(e){super(e),this._row=Math.floor(this.id/10),this._column=this.id%10,this._bitmask=1<<this.column-1,this._inverseBitmask=~this._bitmask,this.registerEvents(e.checkEvent,(e=>this.tryUnlock(e)))}get name(){return this.config.name}get row(){return this._row}get column(){return this._column}get isUnlocked(){return 0!==(player.secretAchievementBits[this.row-1]&this._bitmask)}tryUnlock(e){this.isUnlocked||this.config.checkRequirement(e)&&this.unlock()}unlock(){this.isUnlocked||(player.secretAchievementBits[this.row-1]|=this._bitmask,GameUI.notify.success(`Секретное достижение: «${this.name}»`),EventHub.dispatch(GAME_EVENT.ACHIEVEMENT_UNLOCKED))}lock(){player.secretAchievementBits[this.row-1]&=this._inverseBitmask}}const $5=L5.createAccessor(GameDatabase.achievements.secret),H5={all:$5.index.compact(),get allRows(){const e=H5.all.map((e=>e.row)).max();return H5.rows(1,e)},rows:(e,t)=>Array.range(e,t).map(H5.row),row:e=>Array.range(10*e+1,8).map($5)};class F5{constructor(e){this.time=0,this.realTime=e}reset(){this.time=0}advance(){const e=this.realTime?Time.unscaledDeltaTime.totalSeconds:Time.deltaTime;this.time+=e}check(e,t){return e?(this.advance(),this.time>=t):(this.reset(),!1)}}const q5={marathon1:new F5(!1),marathon2:new F5(!1),pain:new F5(!0),stats:new F5(!0)},V5=["powerpow","infinitypow","replicationpow","timepow","dilationpow","timeshardpow","powermult","powerdimboost","powerbuy10","dilationTTgen","infinityinfmult","infinityIP","timeEP","dilationDT","replicationdtgain","replicationspeed","timeetermult","dilationgalaxyThreshold","infinityrate","replicationglyphlevel","timespeed","effarigrm","effarigglyph","effarigblackhole","effarigachievement","effarigforgotten","effarigdimensions","effarigantimatter","cursedgalaxies","cursedtickspeed","curseddimensions","cursedEP","realityglyphlevel","realitygalaxies","realityrow1pow","realityDTglyph","companiondescription","companionEP"],Y5=["power","infinity","replication","time","dilation","effarig"],j5=V5.mapToObject((e=>e),((e,t)=>t));function W5(e){return 2.5*e/100+1}function X5(e){return 100*(e-1)/2.5}const z5={inventory:[],active:[],unseen:[],unequipped:[],levelBoost:0,factorsOpen:!1,bestUndoGlyphCount:0,get inventoryList(){return player.reality.glyphs.inventory},get sortedInventoryList(){return this.inventoryList.sort(((e,t)=>-e.level*e.strength+t.level*t.strength))},get activeList(){return player.reality.glyphs.active},get activeWithoutCompanion(){return this.activeList.filter((e=>"companion"!==e.type))},get allGlyphs(){return this.inventoryList.concat(this.activeList)},get glyphIndexArray(){return this.inventory.filter((e=>e)).map((e=>e.idx))},findFreeIndex(e){this.validate();const t=t=>e?t<this.protectedSlots:t>=this.protectedSlots;return this.inventory.findIndex(((e,i)=>null===e&&t(i)))},get freeInventorySpace(){return this.validate(),this.inventory.filter(((e,t)=>null===e&&t>=this.protectedSlots)).length},get activeSlotCount(){return Pelle.isDoomed?PelleRifts.vacuum.milestones[0].canBeApplied?1:0:3+Effects.sum(RealityUpgrade(9),RealityUpgrade(24))},get protectedSlots(){return 10*player.reality.glyphs.protectedRows},get totalSlots(){return 120},changeProtectedRows(e){const t=Math.clamp(player.reality.glyphs.protectedRows+e,0,this.totalSlots/10-1),i=t-player.reality.glyphs.protectedRows;if(i>0){let e=0;while(e<i){let t=!1;for(let i=this.protectedSlots/10+e;!t&&i<this.totalSlots/10;i++)t=t||this.moveGlyphRow(i,i+1);if(!t)break;this.glyphIndexArray.some((e=>Math.floor(e/10)===this.protectedSlots/10))||e++}}else{let e=0;while(e<-i){let t=!1;for(let i=this.protectedSlots/10-e-1;!t&&i>0;i--)t=t||this.moveGlyphRow(i,i-1);if(!t)break;if(!this.glyphIndexArray.some((e=>Math.floor(e/10)===this.protectedSlots/10-1))){e++;for(let t=this.protectedSlots/10-e;t<this.totalSlots/10;t++)this.moveGlyphRow(t,t-1)}}}player.reality.glyphs.protectedRows=t,this.validate(),GameCache.glyphInventorySpace.invalidate()},moveGlyphRow(e,t){if(!player.reality.moveGlyphsOnProtection)return!1;if(e>=this.totalSlots/10||t>=this.totalSlots/10)return!1;if(this.glyphIndexArray.some((e=>Math.floor(e/10)===t))){const i=[...Array(10).keys()].some((i=>null!==this.inventory[10*e+i]&&null!==this.inventory[10*t+i]));if(i)return!1;for(let a=0;a<10;a++){const i=this.inventory[10*e+a];null!==i&&this.moveToSlot(i,10*t+a)}return this.validate(),!0}for(let i=0;i<10;i++){const a=this.inventory[10*e+i];null!==a&&this.moveToSlot(a,10*t+i)}return this.validate(),!0},refreshActive(){this.active=new Array(this.activeSlotCount).fill(null);for(const e of player.reality.glyphs.active){if(this.active[e.idx])throw new Error("Stacked active glyphs?");this.active[e.idx]=e}},refresh(){this.refreshActive(),this.inventory=new Array(this.totalSlots).fill(null);const e=[];for(const t of player.reality.glyphs.inventory)this.inventory[t.idx]?e.push(t):this.inventory[t.idx]=t;while(e.length){const t=this.findFreeIndex();if(!(t>=0))break;{const i=e.shift();this.inventory[t]=i,i.idx=t}}while(e.length)this.removeFromInventory(e.pop());this.validate(),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)},findByValues(e,t,i={level,strength,effects}){const a=(e,t,i)=>{switch(e){case-1:return i-t;case 0:return t===i?0:-1;case 1:return t-i}return!1},n=(e,t)=>(e&t)===e?countValuesFromBitmask(t-e):-countValuesFromBitmask(e-(e&t)),s=[];for(const r of t){const t=r.type===e.type;let o;switch(i.effects){case-1:o=n(r.effects,e.effects);break;case 0:o=r.effects===e.effects?0:-1;break;case 1:o=n(e.effects,r.effects);break}const l=a(i.strength,r.strength,e.strength)/2.5,c=a(i.level,r.level,e.level)/5e3,u=r.symbol===e.symbol;t&&o>=0&&l>=0&&c>=0&&u&&s.push({glyph:r,gap:l+c+o/10})}return s.sort(((e,t)=>e.gap-t.gap)),s.map((e=>e.glyph))},findById(e){return player.reality.glyphs.inventory.find((t=>t.id===e))},findByInventoryIndex(e){return this.inventory[e]},activeGlyph(e){return this.active[e]},equip(e,t){const i=Pelle.isDisabled("glyphs")||["effarig","reality","cursed"].includes(e.type);if(Pelle.isDoomed&&i)return;if(GameEnd.creditsEverClosed)return;if("companion"!==e.type){if(RealityUpgrade(9).isLockingMechanics){if(this.activeWithoutCompanion.length>0)return void RealityUpgrade(9).tryShowWarningModal("активировать ещё один глиф");if(e.level<3)return void RealityUpgrade(9).tryShowWarningModal(`активировать глиф уровня ниже ${formatInt(3)}`)}if(RealityUpgrade(24).isLockingMechanics&&0===this.activeWithoutCompanion.length)return void RealityUpgrade(24).tryShowWarningModal();if(ImaginaryUpgrade(25).isLockingMechanics&&1===this.activeWithoutCompanion.length)return void ImaginaryUpgrade(25).tryShowWarningModal()}if(this.validate(),this.findByInventoryIndex(e.idx)!==e)throw new Error("Inconsistent inventory indexing");let a=-1;if(["effarig","reality"].includes(e.type)&&(a=this.active.findIndex((t=>t&&t.type===e.type))),null===this.active[t]){if(a>=0)return void Modal.message.show(`В данный момент времени может действовать только один Глиф ${translateGlyph(e.type)}!`,{closeEvent:GAME_EVENT.GLYPHS_CHANGED});this.removeFromInventory(e),this.saveUndo(t),player.reality.glyphs.active.push(e),e.idx=t,this.active[t]=e,this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate()}else{if(a>=0&&a!==t)return void Modal.message.show(`В данный момент времени может действовать только один Глиф ${translateGlyph(e.type)}!`,{closeEvent:GAME_EVENT.GLYPHS_CHANGED});if(!player.options.confirmations.glyphReplace)return void this.swapIntoActive(e,t);Modal.glyphReplace.show({targetSlot:t,inventoryIndex:e.idx})}this.removeVisualFlag("unseen",e),this.removeVisualFlag("unequipped",e)},unequipAll(e=!1){this.unequipped=[];const t=!e&&player.options.respecIntoProtected;while(player.reality.glyphs.active.length){const e=this.findFreeIndex(t);if(e<0)break;const i=player.reality.glyphs.active.pop();this.active[i.idx]=null,this.addToInventory(i,e,!0)}this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(!0);const i=player.reality.glyphs.active.length,a=player.records.recentRealities[0][1]<3e3;if(i&&!a){const e=player.options.respecIntoProtected?"":"не",t=-1!==this.findFreeIndex(!player.options.respecIntoProtected);setTimeout((()=>Modal.message.show(`${quantifyInt("глиф",i)} не удалось деактивировать ввиду недостатка\n        места. Чтобы деактивировать ${1===i?"его":"их"},\n        освободите ${e}защищённые ячейки${t?' или переключите настройку "Помещать деактивированные глифы в"':""}.`,{closeEvent:GAME_EVENT.GLYPHS_CHANGED})),50)}return EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),!player.reality.glyphs.active.length},unequip(e,t){if(null===this.active[e])return;const i=player.reality.glyphs.active.findIndex((t=>t.idx===e));if(i<0)return;const a=player.reality.glyphs.active.splice(i,1)[0];this.active[e]=null,this.addToInventory(a,t,!0),this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(!0),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)},updateRealityGlyphEffects(){const e=player.reality.glyphs.active.filter((e=>"reality"===e.type))[0];this.levelBoost=void 0!==e?getAdjustedGlyphEffectUncached("realityglyphlevel"):0},moveToSlot(e,t){null===this.inventory[t]?this.moveToEmpty(e,t):this.swap(e,this.inventory[t])},moveToEmpty(e,t){if(this.validate(),this.findByInventoryIndex(e.idx)!==e)throw new Error("Inconsistent inventory indexing");if(null!==this.inventory[t])throw new Error("Attempted glyph move into non-empty slot");this.inventory[e.idx]=null,this.inventory[t]=e,e.idx=t,EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate()},swap(e,t){if(e.idx===t.idx)return;this.validate(),this.inventory[e.idx]=t,this.inventory[t.idx]=e;const i=e.idx;e.idx=t.idx,t.idx=i,this.validate(),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)},addToInventory(e,t,i=!1){this.validate(),i||(e.id=GlyphGenerator.makeID());const a=t<this.protectedSlots;let n=this.findFreeIndex(a);n<0||(void 0!==t&&null===this.inventory[t]&&(n=t),this.inventory[n]=e,e.idx=n,this.applyGamespeed(e),player.records.bestReality.glyphStrength=Math.clampMin(player.records.bestReality.glyphStrength,e.strength),player.reality.glyphs.inventory.push(e),void 0!==t||i||this.addVisualFlag("unseen",e),i&&this.addVisualFlag("unequipped",e),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate())},addVisualFlag(e,t){this[e].includes(t.id)||this[e].push(t.id)},removeVisualFlag(e,t){const i=z5[e].indexOf(t.id);i>-1&&z5[e].splice(i,1)},isMusicGlyph(e){return"music"===(null===e||void 0===e?void 0:e.cosmetic)},removeFromInventory(e){if(null===e.idx)return;this.validate();const t=player.reality.glyphs.inventory.indexOf(e);t<0||(this.inventory[e.idx]=null,player.reality.glyphs.inventory.splice(t,1),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate())},validate(){for(const e of player.reality.glyphs.inventory)if(this.inventory[e.idx]!==e)throw new Error("validation error");for(let e=0;e<this.inventory.length;++e)if(this.inventory[e]&&this.inventory[e].idx!==e)throw new Error("backwards validation error")},sort(e){const t=player.reality.glyphs.inventory.filter((e=>e.idx>=this.protectedSlots)),i=GameCache.glyphInventorySpace.value,a=["power","infinity","replication","time","dilation","effarig","reality","cursed","companion"],n=a.mapToObject((e=>e),(()=>({glyphs:[],padding:0})));for(const o of t)n[o.type].glyphs.push(o);let s=0;for(const o of Object.values(n))o.glyphs.sort(e),o.padding=10*Math.ceil(o.glyphs.length/10)-o.glyphs.length,s+=o.padding;while(s>i){let e=a[0];for(const i of a)n[i].padding>n[e].padding&&(e=i);const t=n[e].padding>5?5:1;s-=t,n[e].padding-=t}let r=this.protectedSlots;for(const o of Object.values(n)){for(const e of o.glyphs)this.inventory[r]?this.swap(this.inventory[r],e):this.moveToEmpty(e,r),++r;r+=o.padding}player.reality.autoCollapse&&this.collapseEmptySlots()},sortByLevel(){this.sort(((e,t)=>t.level-e.level))},sortByPower(){this.sort(((e,t)=>t.level*t.strength-e.level*e.strength))},sortByScore(){this.sort(((e,t)=>AutoGlyphProcessor.filterValue(t)-AutoGlyphProcessor.filterValue(e)))},sortByEffect(){function e(e){return parseInt(((1<<30)+(e>>>0)).toString(2).split("").reverse().join(""),2)}this.sort(((t,i)=>e(i.effects)-e(t.effects)))},isObjectivelyUseless(e,t,i){if(player.reality.applyFilterToPurge&&AutoGlyphProcessor.wouldKeep(e))return!1;function a(e,t,i){for(const a of i){const i=a.compareValues(a.effect(e.level,e.strength),a.effect(t.level,t.strength));if(i>0)return!0}return!1}const n=(null!==i&&void 0!==i?i:this.inventory).concat(this.active).filter((t=>null!==t&&t.type===e.type&&t.id!==e.id&&(t.level>=e.level||t.strength>=e.strength)&&(t.effects&e.effects)===e.effects));let s="effarig"===e.type||"reality"===e.type?1:5;if(s=Math.clampMax(s,t),n.length<s)return!1;const r=getGlyphEffectsFromBitmask(e.effects).filter((t=>t.id.startsWith(e.type))),o=n.countWhere((t=>!a(e,t,r)));return o>=s},autoClean(e=5,t=!0){const i=e<5;let a=0;const n=t?void 0:this.fakePurgeInventory();if(!GlyphSacrificeHandler.canSacrifice)return a;for(let s=this.totalSlots-1;s>=this.protectedSlots;--s){const r=(null!==n&&void 0!==n?n:this.inventory)[s];if(null===r||"companion"===r.type||"cursed"===r.type&&0!==e)continue;const o=void 0!==r.color||void 0!==r.symbol;o&&!i||(0===e||this.isObjectivelyUseless(r,e,n))&&(t?AutoGlyphProcessor.getRidOfGlyph(r):n.splice(n.indexOf(r),1),a++)}return player.reality.autoCollapse&&t&&this.collapseEmptySlots(),a},fakePurgeInventory(){return this.inventory.map((e=>null===e?null:{id:e.id,type:e.type,level:e.level,strength:e.strength,effects:e.effects,color:e.color,symbol:e.symbol}))},harshAutoClean(){this.autoClean(1)},deleteAllUnprotected(){this.autoClean(0)},deleteAllRejected(e=!0){let t=0;for(const i of z5.inventory)null!==i&&i.idx>=this.protectedSlots&&!AutoGlyphProcessor.wouldKeep(i)&&(e&&AutoGlyphProcessor.getRidOfGlyph(i),t++);return player.reality.autoCollapse&&e&&this.collapseEmptySlots(),t},collapseEmptySlots(){const e=player.reality.glyphs.inventory.filter((e=>e.idx>=this.protectedSlots)).sort(((e,t)=>e.idx-t.idx));for(let t=0;t<e.length;t++)this.moveToSlot(e[t],this.protectedSlots+t)},processSortingAfterReality(){switch(VUnlocks.autoAutoClean.canBeApplied&&player.reality.autoAutoClean&&this.autoClean(),player.reality.autoSort){case AUTO_SORT_MODE.NONE:break;case AUTO_SORT_MODE.LEVEL:this.sortByLevel();break;case AUTO_SORT_MODE.POWER:this.sortByPower();break;case AUTO_SORT_MODE.EFFECT:this.sortByEffect();break;case AUTO_SORT_MODE.SCORE:this.sortByScore();break;default:throw new Error("Unrecognized auto-sort mode")}},get levelCap(){return 1e6},get instabilityThreshold(){return 1e3+getAdjustedGlyphEffect("effarigglyph")+ImaginaryUpgrade(7).effectOrDefault(0)},get hyperInstabilityThreshold(){return 3e3+this.instabilityThreshold},clearUndo(){player.reality.glyphs.undo=[]},saveUndo(e){const t={targetSlot:e,am:new Decimal(Currency.antimatter.value),ip:new Decimal(Currency.infinityPoints.value),ep:new Decimal(Currency.eternityPoints.value),tt:Currency.timeTheorems.max.minus(TimeTheorems.totalPurchased()),ecs:EternityChallenges.all.map((e=>e.completions)),thisInfinityTime:player.records.thisInfinity.time,thisInfinityRealTime:player.records.thisInfinity.realTime,thisEternityTime:player.records.thisEternity.time,thisEternityRealTime:player.records.thisEternity.realTime,thisRealityTime:player.records.thisReality.time,thisRealityRealTime:player.records.thisReality.realTime,storedTime:player.celestials.enslaved.stored,dilationStudies:player.dilation.studies.toBitmask(),dilationUpgrades:player.dilation.upgrades.toBitmask(),dilationRebuyables:DilationUpgrades.rebuyable.mapToObject((e=>e.id),(e=>e.boughtAmount)),tp:new Decimal(Currency.tachyonParticles.value),dt:new Decimal(Currency.dilatedTime.value)};player.reality.glyphs.undo.push(t)},undo(){const e=z5.findFreeIndex(player.options.respecIntoProtected);if(-1===e||0===player.reality.glyphs.undo.length)return;const t=player.reality.glyphs.undo.pop();if(this.bestUndoGlyphCount=player.requirementChecks.reality.maxGlyphs,this.unequip(t.targetSlot,e),finishProcessReality({reset:!0,glyphUndo:!0,restoreCelestialState:!0}),Currency.antimatter.value=new Decimal(t.am),Currency.infinityPoints.value=new Decimal(t.ip),Currency.eternityPoints.value=new Decimal(t.ep),Currency.timeTheorems.value=new Decimal(t.tt),EternityChallenges.all.map(((e,i)=>e.completions=t.ecs[i])),player.records.thisInfinity.time=t.thisInfinityTime,player.records.thisInfinity.realTime=t.thisInfinityRealTime,player.records.thisEternity.time=t.thisEternityTime,player.records.thisEternity.realTime=t.thisEternityRealTime,player.records.thisReality.time=t.thisRealityTime,player.records.thisReality.realTime=t.thisRealityRealTime,player.celestials.enslaved.stored=t.storedTime||0,t.dilationStudies){player.dilation.studies=Array.fromBitmask(t.dilationStudies),player.dilation.upgrades=new Set(Array.fromBitmask(t.dilationUpgrades));for(const e of Object.keys(t.dilationRebuyables))DilationUpgrades.fromId(e).boughtAmount=t.dilationRebuyables[e];Currency.tachyonParticles.value=new Decimal(t.tp),Currency.dilatedTime.value=new Decimal(t.dt)}Player.automatorUnlocked&&AutomatorBackend.state.forceRestart&&AutomatorBackend.start(player.reality.automator.state.editorScript)},copyForRecords(e){return e.map((e=>({type:e.type,level:e.level,strength:e.strength,effects:e.effects,color:e.color,symbol:e.symbol}))).sort(((e,t)=>t.effects-e.effects))},updateMaxGlyphCount(e=!1){const t=this.activeWithoutCompanion,i=t.length-4*t.filter((e=>e&&"cursed"===e.type)).length;e&&(player.requirementChecks.reality.maxGlyphs=i),player.requirementChecks.reality.maxGlyphs=Math.max(player.requirementChecks.reality.maxGlyphs,i)},applyGamespeed(e){Ra.unlocks.allGamespeedGlyphs.canBeApplied&&BASIC_GLYPH_TYPES.includes(e.type)&&(e.effects|=1<<GlyphEffects.timespeed.bitmaskIndex,"time"===e.type&&(e.effects|=1<<GlyphEffects.timeshardpow.bitmaskIndex))},swapIntoActive(e,t){this.removeFromInventory(e),this.unequip(t,e.idx),finishProcessReality({reset:!0,glyphUndo:!1,restoreCelestialState:!0}),player.reality.glyphs.active.push(e),this.active[t]=e,e.idx=t,this.updateRealityGlyphEffects(),this.updateMaxGlyphCount(!0),EventHub.dispatch(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED),this.validate()},hash(e){let t=1;for(const i of e){const e=Math.pow(i.level,2)*Math.pow(i.strength,4)*i.effects*i.type.charCodeAt(0);t*=e}return t},giveCursedGlyph(){if(0===GameCache.glyphInventorySpace.value)return void Modal.message.show("В инвентаре нет пустой ячейки для Проклятого Глифа. Пожертвуйте глиф, чтобы освободить место.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED});const e=this.allGlyphs.filter((e=>null!==e&&"cursed"===e.type)).length;e>=5?GameUI.notify.error(`Вам не нужно больше ${format(5)} Проклятых Глифов!`):(this.addToInventory(GlyphGenerator.cursedGlyph()),GameUI.notify.error("Создан Проклятый Глиф"))}};class K5 extends k{}const Q5=mapGameDataToObject(GameDatabase.reality.glyphSacrifice,(e=>new K5(e)));function J5(){for(let e=0;e<player.reality.glyphs.active.length;e++)Z5(player.reality.glyphs.active[e]);player.reality.glyphs.inventory=player.reality.glyphs.inventory.filter((e=>e.idx<z5.totalSlots));for(let e=0;e<player.reality.glyphs.inventory.length;e++)Z5(player.reality.glyphs.inventory[e]);z5.updateRealityGlyphEffects(),z5.refresh()}function Z5(e){void 0===e.color&&void 0===e.symbol&&(e.level=Math.max(1,Math.round(e.level)),void 0===e.rawLevel&&(e.rawLevel=e.level<1e3?e.level:125*(Math.pow(.004*e.level-3,2)-1)+1e3),1===e.strength&&(e.strength=1.5),e.strength=Math.min(W5(100),e.strength))}function e4(e){return GlyphRarities.find((t=>e>=t.minStrength))}function t4(e,t=z5.levelBoost,i=!1){const a=e.level;if(!i){if(Pelle.isDoomed)return Math.min(a,Pelle.glyphMaxLevel);if(Enslaved.isRunning)return Math.max(a,Enslaved.glyphLevelMin);if(Effarig.isRunning)return Math.min(a,Effarig.glyphLevelCap)}return BASIC_GLYPH_TYPES.includes(e.type)?a+t:a}function i4(){z5.unequipAll()||Modal.message.show("Некоторые глифы не удалось деактивировать ввиду недостатка места.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED}),player.reality.respec=!1}class a4{constructor(e,t){var i,a;this.id=e.id,this._defaultSymbol=e.symbol,this._defaultColor=e.color,this.preventBlur=null!==(i=e.preventBlur)&&void 0!==i&&i,this.isUnlocked=e.isUnlocked,this._canCustomize=e.canCustomize,this.fixedSymbolColor=null!==(a=e.fixedSymbolColor)&&void 0!==a&&a,this.isCosmetic=t}get canCustomize(){var e,t,i,a;return(!this.isCosmetic||null===(e=null===(t=this.isUnlocked)||void 0===t?void 0:t.call(this))||void 0===e||e)&&(null===(i=null===(a=this._canCustomize)||void 0===a?void 0:a.call(this))||void 0===i||i)}get defaultSymbol(){return{symbol:this._defaultSymbol,blur:!this.preventBlur}}get defaultColor(){const e="reality"===this.id?o4.realityColor:this._defaultColor,t=!o4.isLightBG;return{border:e,bg:t===("cursed"===this.id)?"white":"black"}}get currentSymbol(){const e=player.reality.glyphs.cosmetics.symbolMap[this.id];return player.reality.glyphs.cosmetics.active&&e?{symbol:e,blur:!(this.preventBlur||o4.unblurredSymbols.includes(e))}:this.defaultSymbol}get currentColor(){const e=player.reality.glyphs.cosmetics.colorMap[this.id];if(!player.reality.glyphs.cosmetics.active||!e)return this.defaultColor;const t=o4.getColorProps(e);return{...t,str:e}}get ignoreRarityColor(){return this.isCosmetic||this.fixedSymbolColor}}const n4=mapGameDataToObject(GameDatabase.reality.glyphTypes,(e=>new a4(e,!1))),s4=mapGameDataToObject(GameDatabase.reality.cosmeticGlyphs,(e=>new a4(e,!0))),r4={...n4,...s4,get list(){return Object.keys({...GameDatabase.reality.glyphTypes,...GameDatabase.reality.cosmeticGlyphs}).map((e=>r4[e]))}},o4={setInModal:null,chosenFromModal:null,get cosmeticsEnabled(){return player.reality.glyphs.cosmetics.active},get symbolMap(){return player.reality.glyphs.cosmetics.symbolMap},get colorMap(){return player.reality.glyphs.cosmetics.colorMap},get availableSymbols(){return Object.values(GameDatabase.reality.glyphCosmeticSets).filter((e=>this.unlockedSets.includes(e.id))).map((e=>e.symbol)).filter((e=>e))},get availableColors(){const e=Object.values(GameDatabase.reality.glyphCosmeticSets).filter((e=>this.unlockedSets.includes(e.id))).flatMap((e=>e.color)).sort(((e,t)=>{const i=e=>{const t=e.split("#"),i=t[1],a=[parseInt(i.substring(0,2),16)/255,parseInt(i.substring(2,4),16)/255,parseInt(i.substring(4),16)/255],n=Math.min(...a),s=Math.max(...a);if(s-n<.3)return s;let r;return r=a[0]===s?(a[1]-a[2])/(s-n):a[1]===s?2+(a[2]-a[1])/(s-n):4+(a[0]-a[1])/(s-n),6+(r+6)%6};return i(e)-i(t)})).filter((e=>e)),t=e.filter((e=>"B"===e.charAt(0))),i=e.filter((e=>"W"===e.charAt(0))),a=t.length>i.length?t:i,n=t.length>i.length?i:t,s=[];for(let r=0;r<a.length;r++)r<n.length?s.push([a[r],n[r]]):s.push([a[r]]);return s},get availableTypes(){return Object.values(GameDatabase.reality.cosmeticGlyphs).map((e=>r4[e.id])).filter((e=>e.isUnlocked())).map((e=>e.id))},get unblurredSymbols(){return Object.values(GameDatabase.reality.glyphCosmeticSets).filter((e=>e.preventBlur)).map((e=>e.symbol)).flat()},get expectedSetCount(){return ShopPurchaseData.singleCosmeticSet+player.records.fullGameCompletions},get isLightBG(){switch(player.options.glyphBG){case GLYPH_BG_SETTING.AUTO:return!Theme.current().isDark();case GLYPH_BG_SETTING.LIGHT:return!0;case GLYPH_BG_SETTING.DARK:return!1;default:throw new Error("Unrecognized Glyph BG setting")}},getBorderColor(e){return"cursed"!==e||r4.cursed.currentColor.str?r4[e].currentColor.border:this.isLightBG?"#ffffff":"#000000"},getRarityColor(e,t){const i=getRarity(e),a="white"===r4[t].currentColor.bg,n=`${a?"light":"dark"}${player.options.highContrastRarity?"HighContrast":"Color"}`;return i[n]},getColorProps(e){return"#"!==(null===e||void 0===e?void 0:e.charAt(1))?{border:e,bg:this.isLightBG?"white":"black"}:{border:e.substring(1),bg:"B"===e.charAt(0)?"black":"white"}},getBaseColor(e){const t=!this.isLightBG;return e?t?"white":"black":t?"black":"white"},get realityColor(){const e=[182,100,34,3,178,182],t=[127,221,170,169,65,127],i=[51,23,72,244,227,51],a=Date.now()%1e4,n=Math.floor(a/2e3),s=a/2e3-n;return`rgb(${e[n]*(1-s)+e[n+1]*s},\n      ${t[n]*(1-s)+t[n+1]*s},\n      ${i[n]*(1-s)+i[n+1]*s})`},get unlockedSets(){return ShopPurchase.allCosmeticSets>0?Object.keys(GameDatabase.reality.glyphCosmeticSets):[...new Set(player.reality.glyphs.cosmetics.unlockedFromNG.concat(ShopPurchaseData.unlockedCosmetics))]},get lockedSets(){return Object.keys(GameDatabase.reality.glyphCosmeticSets).filter((e=>!this.unlockedSets.includes(e)))},unlockSet(){var e;const t=this.lockedSets,i=null===(e=o4.chosenFromModal)||void 0===e?void 0:e.id;let a;if(i&&t.includes(i))a=i;else{if(i||!(t.length>0))return;a=t[Math.floor(Math.random()*t.length)]}player.reality.glyphs.cosmetics.unlockedFromNG.push(a);const n=GameDatabase.reality.glyphCosmeticSets[a];GameUI.notify.info(`Вы разблокировали косметический набор глифов "${n.name}"!`,1e4),o4.chosenFromModal=null,this.applyNotification()},applyNotification(){TabNotification.newGlyphCosmetic.clearTrigger(),TabNotification.newGlyphCosmetic.tryTrigger(),player.reality.glyphs.cosmetics.glowNotification=!0},clearInvalidCosmetics(){const e=player.reality.glyphs.active.concat(player.reality.glyphs.inventory),t=o4.availableSymbols.flat(),i=o4.availableSymbols.flat();for(const n of e)t.includes(n.symbol)||(n.symbol=void 0),i.includes(n.color)||(n.color=void 0),o4.availableTypes.includes(n.cosmetic)||(n.cosmetic=void 0);const a=player.reality.glyphs.cosmetics;for(const n of Object.keys(a.symbolMap)){const e=a.symbolMap[n];t.includes(e)||(a.symbolMap[n]=void 0)}for(const n of Object.keys(a.colorMap)){const e=a.symbolMap[n];i.includes(e)||(a.colorMap[n]=void 0)}}};class l4{constructor(e,t){this._id=e,this._adjustApply=t.adjustApply}applyEffect(e){let t=d4(this._id);void 0!==this._adjustApply&&(t=this._adjustApply(t)),e(t)}}const c4={dimBoostPower:new l4("powerdimboost",{adjustApply:e=>Math.max(1,e)}),ipMult:new l4("infinityIP",{adjustApply:e=>Decimal.max(1,e)}),epMult:new l4("timeEP",{adjustApply:e=>Decimal.max(1,e)})};function u4(e){return m4(e).value}function d4(e){return GameCache.glyphEffects.value[e]}function h4(e){return GlyphEffects[e].conversion(d4(e))}function p4(e){if(!orderedEffectList.includes(e))throw new Error(`Unknown Glyph effect requested "${e}"'`);return player.reality.glyphs.active.filter((t=>0!==(1<<GlyphEffects[e].bitmaskIndex&t.effects))).filter((t=>generatedTypes.includes(t.type)===GlyphEffects[e].isGenerated)).map((t=>g4(e,t)))}function m4(e){return GlyphEffects[e].combine(p4(e))}function y4(e){let t="",i="";for(let a=0;a<GLYPH_TYPES.length;a++)if(e.substring(0,GLYPH_TYPES[a].length)===GLYPH_TYPES[a]){t=GLYPH_TYPES[a],i=e.substring(GLYPH_TYPES[a].length);break}return[t,i]}function f4(e,t,i,a){const n=Zp.isDoomed&&"companion"!==a?Zp.glyphStrength:i;return getGlyphEffectsFromBitmask(e).map((e=>({id:e.id,value:e.effect(t,n)})))}function g4(e,t){const i=GlyphEffects[e];if(0!==(t.effects&1<<i.bitmaskIndex))return i.effect(getAdjustedGlyphLevel(t),Zp.isDoomed?Zp.glyphStrength:t.strength)}function b4(e){let t=0,i=e;while(0!==i)t+=1&i,i>>=1;return t}function v4(){let e=orderedEffectList.map((e=>({effect:e,values:p4(e)}))).filter((e=>e.values.length>0)).map((e=>({id:e.effect,value:GlyphEffects[e.effect].combine(e.values)})));const t=e.map((e=>e.id)),i=["cursedgalaxies","curseddimensions","cursedEP"],a=["realitygalaxies","effarigdimensions","timeEP"],n=[X.multiply,X.multiply,X.multiplyDecimal];for(let s=0;s<i.length;s++)if(t.includes(i[s])&&t.includes(a[s])){const t=n[s]([d4(i[s]),d4(a[s])]);Decimal.lt(t,1)?(e=e.filter((e=>e.id!==a[s])),e.filter((e=>e.id===i[s]))[0].value.value=t):(e=e.filter((e=>e.id!==i[s])),e.filter((e=>e.id===a[s]))[0].value.value=t)}return e}class E4{static get SECOND_GAUSSIAN_DEFAULT_VALUE(){return 1e6}constructor(e,t){this.seed=e,this.secondGaussian=t}uniform(){const e=xorshift32Update(this.seed);return this.seed=e,2.3283064365386963e-10*e+.5}normal(){if(this.secondGaussian!==E4.SECOND_GAUSSIAN_DEFAULT_VALUE){const e=this.secondGaussian;return this.secondGaussian=E4.SECOND_GAUSSIAN_DEFAULT_VALUE,e}let e=0,t=0,i=0;do{e=2*this.uniform()-1,t=2*this.uniform()-1,i=e*e+t*t}while(i>=1||0===i);return i=Math.sqrt(-2*Math.log(i)/i),this.secondGaussian=t*i,e*i}finalize(){throw new NotImplementedError}get isFake(){throw new NotImplementedError}}const T4={uniformityGroups:4,get isUniformityActive(){return player.realities<=5*this.uniformityGroups},fakeSeed:Date.now()%Math.pow(2,32),fakeSecondGaussian:null,RealGlyphRNG:class extends E4{constructor(){super(player.reality.seed,player.reality.secondGaussian)}finalize(){player.reality.seed=this.seed,player.reality.secondGaussian=this.secondGaussian}get isFake(){return!1}},FakeGlyphRNG:class extends E4{constructor(){super(T4.fakeSeed,T4.fakeSecondGaussian)}finalize(){T4.fakeSeed=this.seed,T4.fakeSecondGaussian=this.secondGaussian}get isFake(){return!0}},MusicGlyphRNG:class extends E4{constructor(){super(player.reality.musicSeed,player.reality.musicSecondGaussian)}finalize(){player.reality.musicSeed=this.seed,player.reality.musicSecondGaussian=this.secondGaussian}get isFake(){return!1}},startingGlyph(e){const t=1.5;return{id:void 0,idx:null,type:"power",strength:t,level:e.actualLevel,rawLevel:e.rawLevel,effects:makeGlyphEffectBitmask(["powerpow"])}},randomGlyph(e,t,i=null){const a=t||new T4.RealGlyphRNG,n=this.randomStrength(a),s=i||this.randomType(a);let r=this.randomNumberOfEffects(s,n,e.actualLevel,a);"effarig"!==s&&r>4&&(r=4);const o=this.generateEffects(s,r,a);return void 0===t&&a.finalize(),{id:void 0,idx:null,type:s,strength:n,level:e.actualLevel,rawLevel:e.rawLevel,effects:o}},realityGlyph(e){const t=rarityToStrength(100),i=this.generateRealityEffects(e),a=makeGlyphEffectBitmask(i);return{id:void 0,idx:null,type:"reality",strength:t,level:e,rawLevel:e,effects:a}},cursedGlyph(){const e=rarityToStrength(100),t=makeGlyphEffectBitmask(orderedEffectList.filter((e=>e.match("cursed*"))));return{id:void 0,idx:null,type:"cursed",strength:e,level:6666,rawLevel:6666,effects:t}},doomedGlyph(e){const t=GlyphEffects.all.filter((t=>t.id.startsWith(e)));t.push(GlyphEffects.timespeed);let i=0;for(const n of t)i|=1<<n.bitmaskIndex;const a=Math.max(player.records.bestReality.glyphLevel,5e3);return{id:void 0,idx:null,type:e,strength:3.5,level:a,rawLevel:a,effects:i}},companionGlyph(e){const t=rarityToStrength(e.log10()/1e6),i=orderedEffectList.filter((e=>e.match("companion*"))),a=makeGlyphEffectBitmask(i);return{id:void 0,idx:null,type:"companion",strength:t,level:1,rawLevel:1,effects:a}},musicGlyph(){const e=new T4.MusicGlyphRNG,t=this.randomGlyph({actualLevel:Math.floor(.8*player.records.bestReality.glyphLevel),rawLevel:1},e);return e.finalize(),t.cosmetic="music",t.fixedCosmetic="music",t},makeID(){return this.maxID+1},get maxID(){return player.reality.glyphs.active.concat(player.reality.glyphs.inventory).reduce(((e,t)=>Math.max(e,t.id)),0)},get strengthMultiplier(){return Effects.max(1,RealityUpgrade(16))},randomStrength(e){if(Ra.unlocks.maxGlyphRarityAndShardSacrificeBoost.canBeApplied)return rarityToStrength(100);let t=T4.gaussianBellCurve(e)*T4.strengthMultiplier;const i=Ra.unlocks.extraGlyphChoicesAndRelicShardRarityAlwaysMax.canBeApplied?1:e.uniform(),a=i*Effarig.maxRarityBoost+Effects.sum(Achievement(146),GlyphSacrifice.effarig);return t+=a/40,t=Math.ceil(400*t)/400,Math.min(t,rarityToStrength(100))},randomNumberOfEffects(e,t,i,a){const n=a.uniform(),s=a.uniform();if("effarig"!==e&&Ra.unlocks.glyphEffectCount.canBeApplied)return 4;const r=Ra.unlocks.glyphEffectCount.canBeApplied?7:4;let o=Math.min(r,Math.floor(1.5*Math.pow(n,1-Math.pow(i*t,.5)/100)+1));return RealityUpgrade(17).isBought&&s<Effects.max(0,RealityUpgrade(17))&&(o=Math.min(o+1,r)),Ra.unlocks.glyphEffectCount.canBeApplied?Math.max(o,4):o},generateRealityEffects(e){const t=realityGlyphEffectLevelThresholds.filter((t=>t<=e)).length,i=GlyphEffects.all.filter((e=>e.glyphTypes.includes("reality"))).sort(((e,t)=>e.bitmaskIndex-t.bitmaskIndex)).map((e=>e.id));return i.slice(0,t)},generateEffects(e,t,i){const a=GlyphTypes[e].effects.mapToObject((e=>e.bitmaskIndex),(()=>i.uniform()));if(Array.range(0,7-GlyphTypes[e].effects.length).forEach((()=>i.uniform())),"effarig"===e){const e=a[20]<a[21]?20:21;a[e]=-1}for(const s of[0,12,16])s in a&&(a[s]=2);const n=Object.keys(a).sort(((e,t)=>a[t]-a[e])).slice(0,t);return n.map(Number).toBitmask()},randomType(e,t=[]){const i=generatedTypes.filter((e=>EffarigUnlock.reality.isUnlocked||"effarig"!==e)),a=i.map((e=>t.countWhere((t=>t===e)))).max(),n=0===t.length?[]:i.filter((e=>t.countWhere((t=>t===e))===a));return GlyphTypes.random(e,n)},uniformGlyphs(e,t,i){const a=Math.floor((i-1)/5),n=(i-1)%5,s=player.reality.initialSeed,r=permutationIndex(5,(31+s%7)*a+s%1123),o=Array.repeat(0,5);for(let h=0;h<n;h++)for(let e=0;e<5;e++)e!==r[h]&&o[e]++;const l=[],c=[16,12,8,0,4],u=Array.range(0,5);u.splice(r[n],1);for(let h=0;h<4;h++){const e=u[h],t=permutationIndex(4,5*e+(7+s%5)*a+s%11);l.push(c[e]+t[o[e]])}const d=[];for(let h=0;h<4;++h){const a=T4.randomGlyph(e,t,BASIC_GLYPH_TYPES[u[h]]),n=(s+i+h)%2===0?1<<l[h]:a.effects|1<<l[h],r=RealityUpgrade(17).isBought?3:2;if(countValuesFromBitmask(n)>r){const e=getGlyphEffectsFromBitmask(a.effects).filter((e=>e.isGenerated)).map((e=>e.bitmaskIndex)).filter((e=>![0,12,16].includes(e))),t=e[Math.abs(s+i)%e.length];a.effects=n&~(1<<t)}else a.effects=n;const o={power:16,infinity:12,time:0};void 0!==o[a.type]&&(a.effects|=1<<o[a.type]),d.push(a)}return d},getRNG(e){return e?new T4.FakeGlyphRNG:new T4.RealGlyphRNG},gaussianBellCurve(e){const t=Math.sqrt(Math.abs(e.normal(),0)+1);return t*(.900603878243551+t*(.229108274476697+-.017962545983249*t))-.111749606737},copy(e){return e?il({},e):e}},_4={maxSacrificeForEffects:1e100,get logTotalSacrifice(){return BASIC_GLYPH_TYPES.reduce(((e,t)=>e+Math.log10(Math.clampMin(player.reality.glyphs.sac[t],1))),0)},get canSacrifice(){return RealityUpgrade(19).isBought},get isRefining(){return Ra.unlocks.unlockGlyphAlchemy.canBeApplied&&AutoGlyphProcessor.sacMode!==AUTO_GLYPH_REJECT.SACRIFICE},handleSpecialGlyphTypes(e){switch(e.type){case"companion":return Modal.deleteCompanion.show(),!0;case"cursed":return Glyphs.removeFromInventory(e),!0}return!1},removeGlyph(e,t=!1){this.handleSpecialGlyphTypes(e)||(this.canSacrifice?this.isRefining?this.attemptRefineGlyph(e,t):this.sacrificeGlyph(e,t):this.deleteGlyph(e,t))},deleteGlyph(e,t){t||!player.options.confirmations.glyphSacrifice?Glyphs.removeFromInventory(e):Modal.glyphDelete.show({idx:e.idx})},glyphSacrificeGain(e){if(!this.canSacrifice||Pelle.isDoomed)return 0;if("reality"===e.type)return.01*e.level*Achievement(171).effectOrDefault(1);const t=Math.pow(Math.clampMax(e.level,1e4)+10,2.5),i=1+Math.clampMin(e.level-1e4,0)/100,a=Ra.unlocks.maxGlyphRarityAndShardSacrificeBoost.effectOrDefault(1);return Math.pow(t*i*e.strength*Teresa.runRewardMultiplier*Achievement(171).effectOrDefault(1),a)},sacrificeGlyph(e,t=!1){if(Pelle.isDoomed)return;if(this.handleSpecialGlyphTypes(e))return;const i=this.glyphSacrificeGain(e),a=!t&&player.options.confirmations.glyphSacrifice;a?Modal.glyphSacrifice.show({idx:e.idx,gain:i}):(player.reality.glyphs.sac[e.type]+=i,GameCache.logTotalGlyphSacrifice.invalidate(),Glyphs.removeFromInventory(e),EventHub.dispatch(GAME_EVENT.GLYPH_SACRIFICED,e))},glyphAlchemyResource(e){const t=GlyphTypes[e.type];return AlchemyResources.all[t.alchemyResource]},levelRefinementValue(e){return Math.pow(e,3)/1e8},glyphRefinementEfficiency:.05,glyphRawRefinementGain(e){if(!Ra.unlocks.unlockGlyphAlchemy.canBeApplied)return 0;const t=this.levelRefinementValue(e.level),i=strengthToRarity(e.strength)/100;return this.glyphRefinementEfficiency*t*i},glyphRefinementGain(e){if(!Ra.unlocks.unlockGlyphAlchemy.canBeApplied||!generatedTypes.includes(e.type))return 0;const t=this.glyphAlchemyResource(e);if(!t.isUnlocked)return 0;const i=this.glyphRawRefinementGain(e);if(0===t.cap)return i;const a=this.glyphEffectiveCap(e)-t.amount;return Math.clamp(a,0,i)},glyphEffectiveCap(e){const t=this.glyphAlchemyResource(e),i=t.cap,a=this.highestRefinementValue(e),n=Math.clampMin(i,a);return Math.clampMax(n,Ra.alchemyResourceCap)},highestRefinementValue(e){return this.glyphRawRefinementGain(e)/this.glyphRefinementEfficiency},attemptRefineGlyph(e,t){if("reality"===e.type){if(t)return;return void(AutoGlyphProcessor.sacMode===AUTO_GLYPH_REJECT.REFINE?SecretAchievement(33).unlock():this.sacrificeGlyph(e))}if("cursed"===e.type)return void Glyphs.removeFromInventory(e);const i=AlchemyResource.decoherence.isUnlocked;if(!Ra.unlocks.unlockGlyphAlchemy.canBeApplied||0===this.glyphRefinementGain(e)&&!i||i&&AlchemyResources.base.every((e=>e.data.amount>=Ra.alchemyResourceCap))||Pelle.isDoomed)return void this.sacrificeGlyph(e,t);if(!player.options.confirmations.glyphRefine||t)return void this.refineGlyph(e);const a=this.glyphAlchemyResource(e);Modal.glyphRefine.show({idx:e.idx,resourceName:a.name,resourceAmount:a.amount,gain:this.glyphRefinementGain(e),cap:a.cap})},refineGlyph(e){if(Pelle.isDoomed)return;const t=this.glyphAlchemyResource(e);if(!t.isUnlocked)return void Glyphs.removeFromInventory(e);const i=this.glyphRawRefinementGain(e),a=this.glyphRefinementGain(e);t.amount+=a;const n=i*AlchemyResource.decoherence.effectValue;for(const s of ALCHEMY_BASIC_GLYPH_TYPES)if(s!==e.type){const e=GlyphTypes[s],t=AlchemyResources.all[e.alchemyResource],i=Math.max(t.cap,t.amount);t.amount=Math.clampMax(t.amount+n,i)}t.isBaseResource&&(t.highestRefinementValue=this.highestRefinementValue(e)),Glyphs.removeFromInventory(e)}},C4={get scoreMode(){return player.reality.glyphs.filter.select},set scoreMode(e){player.reality.glyphs.filter.select=e},get sacMode(){return player.reality.glyphs.filter.trash},set sacMode(e){player.reality.glyphs.filter.trash=e},get types(){return player.reality.glyphs.filter.types},bitmaskIndexOffset(e){switch(e){case"time":return 0;case"dilation":return 4;case"replication":return 8;case"infinity":return 12;case"power":return 16;case"effarig":return 20;default:throw new Error("Unknown glyph type mode in bitmaskIndexOffset")}},filterValue(e){const t=this.types[e.type];if(["companion","reality"].includes(e.type))return 1/0;if("cursed"===e.type)return-1/0;switch(this.scoreMode){case AUTO_GLYPH_SCORE.LOWEST_SACRIFICE:return player.reality.glyphs.sac[e.type]>=GlyphSacrifice[e.type].cap?-1/0:-player.reality.glyphs.sac[e.type];case AUTO_GLYPH_SCORE.EFFECT_COUNT:return strengthToRarity(e.strength)/1e3+getGlyphEffectsFromBitmask(e.effects,0,0).filter((e=>e.isGenerated)).length;case AUTO_GLYPH_SCORE.RARITY_THRESHOLD:return strengthToRarity(e.strength);case AUTO_GLYPH_SCORE.SPECIFIED_EFFECT:{const i=countValuesFromBitmask(e.effects);if(i<t.effectCount)return strengthToRarity(e.strength)-200*(t.effectCount-i);const a=countValuesFromBitmask(t.specifiedMask-(t.specifiedMask&e.effects));return strengthToRarity(e.strength)-200*a}case AUTO_GLYPH_SCORE.EFFECT_SCORE:{const i=getGlyphEffectsFromBitmask(e.effects,0,0).filter((e=>e.isGenerated)).map((e=>e.bitmaskIndex)),a=this.bitmaskIndexOffset(e.type),n=i.map((e=>t.effectScores[e-a]?t.effectScores[e-a]:0)).sum();return strengthToRarity(e.strength)+n}case AUTO_GLYPH_SCORE.LOWEST_ALCHEMY:{const t=AlchemyResource[e.type],i=GlyphSacrificeHandler.glyphRefinementGain(e);return t.isUnlocked&&i>0?-t.amount:Number.NEGATIVE_INFINITY}case AUTO_GLYPH_SCORE.ALCHEMY_VALUE:return AlchemyResource[e.type].isUnlocked?GlyphSacrificeHandler.glyphRefinementGain(e):Number.NEGATIVE_INFINITY;default:throw new Error("Unknown glyph score mode in score assignment")}},thresholdValue(e){if(void 0===this.types[e.type])return-Number.MAX_VALUE;switch(this.scoreMode){case AUTO_GLYPH_SCORE.EFFECT_COUNT:return player.reality.glyphs.filter.simple;case AUTO_GLYPH_SCORE.RARITY_THRESHOLD:case AUTO_GLYPH_SCORE.SPECIFIED_EFFECT:return this.types[e.type].rarity;case AUTO_GLYPH_SCORE.EFFECT_SCORE:return this.types[e.type].score;case AUTO_GLYPH_SCORE.LOWEST_SACRIFICE:case AUTO_GLYPH_SCORE.LOWEST_ALCHEMY:case AUTO_GLYPH_SCORE.ALCHEMY_VALUE:return Number.MAX_VALUE;default:throw new Error("Unknown glyph score mode in threshold check")}},wouldKeep(e){return this.filterValue(e)>=this.thresholdValue(e)},glyphScore(e){const t=this.filterValue(e),i=this.thresholdValue(e);return i===Number.MAX_VALUE?t:t-i},pick(e){return e.map((e=>({glyph:e,score:this.glyphScore(e)}))).reduce(((e,t)=>e.score>t.score?e:t)).glyph},getRidOfGlyph(e){if("cursed"!==e.type&&"companion"!==e.type)switch(this.sacMode){case AUTO_GLYPH_REJECT.SACRIFICE:GlyphSacrificeHandler.sacrificeGlyph(e,!0);break;case AUTO_GLYPH_REJECT.REFINE:GlyphSacrificeHandler.attemptRefineGlyph(e,!0);break;case AUTO_GLYPH_REJECT.REFINE_TO_CAP:0===GlyphSacrificeHandler.glyphRefinementGain(e)?GlyphSacrificeHandler.sacrificeGlyph(e,!0):GlyphSacrificeHandler.attemptRefineGlyph(e,!0);break;default:throw new Error("Unknown auto Glyph Sacrifice mode")}else GlyphSacrificeHandler.deleteGlyph(e,!0)},hasNegativeEffectScore(){return this.scoreMode===AUTO_GLYPH_SCORE.EFFECT_SCORE&&Object.values(this.types).map((e=>e.effectScores.min())).min()<0},filterModeName(e){switch(e){case AUTO_GLYPH_SCORE.LOWEST_SACRIFICE:return"Справедливое пожертвование";case AUTO_GLYPH_SCORE.EFFECT_COUNT:return"Количество эффектов";case AUTO_GLYPH_SCORE.RARITY_THRESHOLD:return"Редкость";case AUTO_GLYPH_SCORE.SPECIFIED_EFFECT:return"Указанные эффекты";case AUTO_GLYPH_SCORE.EFFECT_SCORE:return"Взвешенные эффекты";case AUTO_GLYPH_SCORE.LOWEST_ALCHEMY:return"Справедливое облагораживание";case AUTO_GLYPH_SCORE.ALCHEMY_VALUE:return"Жадное облагораживание";default:return"Invalid Glyph filter mode"}},trashModeDesc(e){switch(e){case AUTO_GLYPH_REJECT.SACRIFICE:return"Всегда жертвовать";case AUTO_GLYPH_REJECT.REFINE:return"Всегда облагораживать";case AUTO_GLYPH_REJECT.REFINE_TO_CAP:return"Облагораживать до ограничения, затем жертвовать";default:return"Invalid Glyph trash mode"}}};function A4(){const e=k4(),t=e=>Math.pow(Math.clampMin(1,Math.log(5*e)),1.5),i=Object.values(e).map((e=>t(e.value))).sum(),a=a=>100*t(e[a].value)/i,n=["ep","repl","dt","eternities"],s=[];for(const c of n)s.push({key:c,percent:a(c)});const r=e=>e-Math.floor(e),o=s.sort(((e,t)=>r(t.percent)-r(e.percent))).map((e=>e.key)),l=100-s.map((e=>Math.floor(e.percent))).reduce(((e,t)=>e+t));for(let c=0;c<n.length;c++){const e=o[c];player.celestials.effarig.glyphWeights[e]=Math.floor(a(e))+(c<l?1:0)}}function k4(){let e=Player.canEternity?Currency.eternityPoints.value.plus(gainedEternityPoints()):Currency.eternityPoints.value;e=Decimal.max(player.records.thisReality.maxEP,e);const t=.016,i=Math.pow(Math.max(1,e.pLog10()),.5)*t,a=.4+getAdjustedGlyphEffect("replicationglyphlevel"),n=.025,s=Math.pow(Math.max(1,player.records.thisReality.maxReplicanti.log10()),a)*n,r=1.3+getAdjustedGlyphEffect("realityDTglyph"),o=.025,l=Math.pow(Math.max(1,player.records.thisReality.maxDT.pLog10()),r)*o,c=Effects.max(1,RealityUpgrade(18));return{ep:{name:"ОВ",value:i,coeff:t,exp:.5},repl:{name:"Репликанти",value:s,coeff:n,exp:a},dt:{name:"ЗВ",value:l,coeff:o,exp:r},eternities:{name:"Вечности",value:c,coeff:.45,exp:.5}}}function w4(){const e=k4(),t=GameCache.staticGlyphWeights.value,i=1/3,a=5,n=player.celestials.effarig.glyphWeights,s=(e,t)=>{const n=e.value,s=Math.pow(4*t,i);e.value=n>0?Math.pow(n*a,s)/a:0,e.coeff=Math.pow(a,s-1)*Math.pow(e.coeff,s),e.exp*=s};s(e.ep,n.ep/100),s(e.repl,n.repl/100),s(e.dt,n.dt/100),s(e.eternities,n.eternities/100);const r=Ra.unlocks.relicShardGlyphLevelBoost.effectOrDefault(0);let o=e.ep.value*e.repl.value*e.dt.value*e.eternities.value*t.perkShop+r;const l=SingularityMilestone.glyphLevelFromSingularities.effectOrDefault(1);o*=l;let c=o;const u=(e,t,i)=>{if(e<t)return e;const a=(e-t)/i;return t+.5*i*(Math.sqrt(1+4*a)-1)};c=u(c,t.instability,500),c=u(c,t.hyperInstability,400);const d=c>0?o/c:1,h=t.realityUpgrades+t.achievements;return o+=h,c+=h,{ep:e.ep,repl:e.repl,dt:e.dt,eter:e.eternities,perkShop:t.perkShop,scalePenalty:d,rowFactor:t.realityUpgrades,achievementFactor:t.achievements,shardFactor:r,singularityEffect:l,rawLevel:o,actualLevel:Math.max(1,c)}}function S4(){const e=Effects.max(1,PerkShopUpgrade.glyphLevel),t=Glyphs.instabilityThreshold,i=Glyphs.hyperInstabilityThreshold,a=[Array.range(1,5).every((e=>RealityUpgrade(e).boughtAmount>0))].concat(Array.range(1,4).map((e=>Array.range(1,5).every((t=>RealityUpgrade(5*e+t).isBought))))).filter((e=>e)).length,n=Effects.sum(Achievement(148),Achievement(166));return{perkShop:e,instability:t,hyperInstability:i,realityUpgrades:a,achievements:n}}const x4={deltaTime:new TimeSpan(0),unscaledDeltaTime:new TimeSpan(0),update(e,t){this.unscaledDeltaTime=TimeSpan.fromMilliseconds(e),this.deltaTime=TimeSpan.fromMilliseconds(t)}};function R4(e){switch(e){case"Jan":return"января";case"Feb":return"февраля";case"Mar":return"марта";case"Apr":return"апреля";case"May":return"мая";case"Jun":return"июня";case"Jul":return"июля";case"Aug":return"августа";case"Sep":return"сентября";case"Oct":return"октября";case"Nov":return"ноября";case"Dec":return"декабря"}}const I4={fromMilliseconds(e){return TimeSpan.fromMilliseconds(e())},toMilliseconds(e,t){Guard.isTimeSpan(e),t(e.totalMilliseconds)},toDateTimeString(e){let t=new Date(e).toString().split(" ");return`${t[2]} ${R4(t[1])} ${t[3]} года в ${t[4]}`},get deltaTimeFull(){return x4.deltaTime},get deltaTime(){return this.deltaTimeFull.totalSeconds},get deltaTimeMs(){return this.deltaTimeFull.totalMilliseconds},get unscaledDeltaTime(){return x4.unscaledDeltaTime},get totalTimePlayed(){return this.fromMilliseconds((()=>player.records.totalTimePlayed))},set totalTimePlayed(e){this.toMilliseconds(e,(e=>player.records.totalTimePlayed=e))},get timeSinceBlackHole(){return this.fromMilliseconds((()=>{const e=player.records.totalTimePlayed-player.records.timePlayedAtBHUnlock;return Math.max(0,e)}))},get realTimeDoomed(){return this.fromMilliseconds((()=>player.records.realTimeDoomed))},set realTimeDoomed(e){this.toMilliseconds(e,(e=>player.records.realTimeDoomed=e))},get realTimePlayed(){return this.fromMilliseconds((()=>player.records.realTimePlayed))},set realTimePlayed(e){this.toMilliseconds(e,(e=>player.records.realTimePlayed=e))},get thisInfinity(){return this.fromMilliseconds((()=>player.records.thisInfinity.time))},set thisInfinity(e){this.toMilliseconds(e,(e=>player.records.thisInfinity.time=e))},get thisInfinityRealTime(){return this.fromMilliseconds((()=>player.records.thisInfinity.realTime))},set thisInfinityRealTime(e){this.toMilliseconds(e,(e=>player.records.thisInfinity.realTime=e))},get bestInfinity(){return this.fromMilliseconds((()=>player.records.bestInfinity.time))},set bestInfinity(e){this.toMilliseconds(e,(e=>player.records.bestInfinity.time=e))},get bestInfinityRealTime(){return this.fromMilliseconds((()=>player.records.bestInfinity.realTime))},set bestInfinityRealTime(e){this.toMilliseconds(e,(e=>player.records.bestInfinity.realTime=e))},get thisEternity(){return this.fromMilliseconds((()=>player.records.thisEternity.time))},set thisEternity(e){this.toMilliseconds(e,(e=>player.records.thisEternity.time=e))},get thisEternityRealTime(){return this.fromMilliseconds((()=>player.records.thisEternity.realTime))},set thisEternityRealTime(e){this.toMilliseconds(e,(e=>player.records.thisEternity.realTime=e))},get bestEternity(){return this.fromMilliseconds((()=>player.records.bestEternity.time))},set bestEternity(e){this.toMilliseconds(e,(e=>player.records.bestEternity.time=e))},get bestEternityRealTime(){return this.fromMilliseconds((()=>player.records.bestEternity.realTime))},set bestEternityRealTime(e){this.toMilliseconds(e,(e=>player.records.bestEternity.realTime=e))},get thisReality(){return this.fromMilliseconds((()=>player.records.thisReality.time))},set thisReality(e){this.toMilliseconds(e,(e=>player.records.thisReality.time=e))},get thisRealityRealTime(){return this.fromMilliseconds((()=>player.records.thisReality.realTime))},set thisRealityRealTime(e){this.toMilliseconds(e,(e=>player.records.thisReality.realTime=e))},get bestReality(){return this.fromMilliseconds((()=>player.records.bestReality.time))},set bestReality(e){this.toMilliseconds(e,(e=>player.records.bestReality.time=e))},get bestRealityRealTime(){return this.fromMilliseconds((()=>player.records.bestReality.realTime))},set bestRealityRealTime(e){this.toMilliseconds(e,(e=>player.records.bestReality.realTime=e))},get worstChallenge(){return this.fromMilliseconds((()=>GameCache.worstChallengeTime.value))},get challengeSum(){return this.fromMilliseconds((()=>GameCache.challengeTimeSum.value))},get infinityChallengeSum(){return this.fromMilliseconds((()=>GameCache.infinityChallengeTimeSum.value))}};function M4(){let e=Replicanti.galaxies.bought;e*=1+Effects.sum(TimeStudy(132),TimeStudy(133)),e+=Replicanti.galaxies.extra;const t=Math.min(Replicanti.galaxies.bought,ReplicantiUpgrade.galaxies.value);e+=t*Effects.sum(EternityChallenge(8).reward);let i=player.dilation.totalTachyonGalaxies;return i*=1+Math.max(0,Replicanti.amount.log10()/1e6)*AlchemyResource.alternation.effectValue,Math.max(player.galaxies+GalaxyGenerator.galaxies+e+i,0)}function D4(){if(InfinityChallenge(3).isRunning)return v.D1;if(Ra.isRunning)return v.C1D1_1245;let e=M4();const t=Effects.product(InfinityUpgrade.galaxyBoost,InfinityUpgrade.galaxyBoost.chargedEffect,BreakInfinityUpgrade.galaxyBoost,TimeStudy(212),TimeStudy(232),Achievement(86),Achievement(178),InfinityChallenge(5).reward,PelleUpgrade.galaxyPower,PelleRifts.decay.milestones[1]);if(e<3){let i=1/1.1245;1===player.galaxies&&(i=1/1.11888888),2===player.galaxies&&(i=1/1.11267177),NormalChallenge(5).isRunning&&(i=1/1.08,1===player.galaxies&&(i=1/1.07632),2===player.galaxies&&(i=1/1.072));const a=.02*t;return Pelle.isDoomed&&(e*=.5),e*=Pelle.specialGlyphEffect.power,v.D0_01.clampMin(i-e*a)}let i=.8;NormalChallenge(5).isRunning&&(i=.83),e-=2,e*=t,e*=getAdjustedGlyphEffect("cursedgalaxies"),e*=getAdjustedGlyphEffect("realitygalaxies"),e*=1+ImaginaryUpgrade(9).effectOrDefault(0),Pelle.isDoomed&&(e*=.5),e*=Pelle.specialGlyphEffect.power;const a=v.D0_965;return a.pow(e-2).times(i)}function P4(){return!(!N4.isAvailableForPurchase||!N4.isAffordable)&&(NormalChallenge(9).isRunning&&N4.multiplySameCosts(),Tutorial.turnOffEffect(TUTORIAL_STATE.TICKSPEED),Currency.antimatter.subtract(N4.cost),player.totalTickBought++,player.records.thisInfinity.lastBuyTime=player.records.thisInfinity.time,player.requirementChecks.permanent.singleTickspeed++,NormalChallenge(2).isRunning&&(player.chall2Pow=0),GameUI.update(),!0)}function U4(){if(!N4.isAvailableForPurchase||!N4.isAffordable)return;let e=!1;if(Tutorial.turnOffEffect(TUTORIAL_STATE.TICKSPEED),NormalChallenge(9).isRunning){const t=Player.infinityGoal;let i=N4.cost;while(Currency.antimatter.gt(i)&&i.lt(t))N4.multiplySameCosts(),Currency.antimatter.subtract(i),player.totalTickBought++,e=!0,i=N4.cost}else{const t=N4.costScale.getMaxBought(player.totalTickBought,Currency.antimatter.value,1);if(null===t)return;Currency.antimatter.subtract(Decimal.pow10(t.logPrice)),player.totalTickBought+=t.quantity,e=!0}e&&(player.records.thisInfinity.lastBuyTime=player.records.thisInfinity.time,NormalChallenge(2).isRunning&&(player.chall2Pow=0))}function G4(){player.totalTickBought=0,player.chall9TickspeedCostBumps=0}const N4={get isUnlocked(){return AntimatterDimension(2).bought>0||EternityMilestone.unlockAllND.isReached||PlayerProgress.realityUnlocked()},get isAvailableForPurchase(){return this.isUnlocked&&!EternityChallenge(9).isRunning&&!Laitela.continuumActive&&(player.break||this.cost.lt(Decimal.NUMBER_MAX_VALUE))},get isAffordable(){return Currency.antimatter.gte(this.cost)},get multiplier(){return D4()},get current(){const e=Effarig.isRunning?Effarig.tickspeed:this.baseValue.powEffectOf(DilationUpgrade.tickspeedPower);return player.dilation.active||PelleStrikes.dilation.hasStrike?dilatedValueOf(e):e},get cost(){return this.costScale.calculateCost(player.totalTickBought+player.chall9TickspeedCostBumps)},get costScale(){return new ExponentialCostScaling({baseCost:1e3,baseIncrease:10,costScale:Player.tickSpeedMultDecrease,scalingCostThreshold:Number.MAX_VALUE})},get continuumValue(){return this.isUnlocked?this.costScale.getContinuumValue(Currency.antimatter.value,1)*Laitela.matterExtraPurchaseFactor:0},get baseValue(){return v.E3.timesEffectsOf(Achievement(36),Achievement(45),Achievement(66),Achievement(83)).times(D4().pow(this.totalUpgrades))},get totalUpgrades(){let e;return e=Laitela.continuumActive?this.continuumValue:player.totalTickBought,e+player.totalTickGained},get perSecond(){return Decimal.divide(1e3,this.current)},multiplySameCosts(){for(const e of AntimatterDimensions.all)e.cost.e===this.cost.e&&e.costBumps++}},B4={BASE_SOFTCAP:3e5,GROWTH_RATE:6e-6,GROWTH_EXP:2,multToNext:1.33,get amount(){return player.totalTickGained},get softcap(){let e=B4.BASE_SOFTCAP;return Enslaved.has(ENSLAVED_UNLOCKS.FREE_TICKSPEED_SOFTCAP)&&(e+=1e5),e},fromShards(e){const t=1+(Effects.min(1.33,TimeStudy(171))-1)*Math.max(getAdjustedGlyphEffect("cursedtickspeed"),1),i=Math.log(t),a=e.ln(),n=Math.max(0,a/i);if(n<=B4.softcap)return this.multToNext=t,{newAmount:Math.ceil(n),nextShards:Decimal.pow(t,Math.ceil(n))};const s=B4.softcap*i,r=(a-s)/i,o=B4.GROWTH_RATE/B4.GROWTH_EXP/i,l=e=>o*Math.pow(Math.max(e,0),B4.GROWTH_EXP)+e,c=e=>B4.GROWTH_EXP*o*Math.pow(Math.max(e,0),B4.GROWTH_EXP-1)+1,u=e=>e-(l(e)-r)/c(e);let d,h=Math.min(r,Math.pow(r/o,1/B4.GROWTH_EXP)),p=0;do{d=h,h=u(h)}while(h<d&&++p<100);const m=Math.floor(h),y=Decimal.exp(s+l(m+1)*i);return this.multToNext=Decimal.exp((l(m+1)-l(m))*i),{newAmount:m+B4.softcap,nextShards:y}}};function O4(){let e=v.D1;return e=e.times(Achievements.power),e=e.times(ShopPurchase.dimPurchases.currentMult),e=e.times(ShopPurchase.allDimPurchases.currentMult),EternityChallenge(9).isRunning||(e=e.times(Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate).max(1))),e=e.timesEffectsOf(BreakInfinityUpgrade.totalAMMult,BreakInfinityUpgrade.currentAMMult,BreakInfinityUpgrade.achievementMult,BreakInfinityUpgrade.slowestChallengeMult,InfinityUpgrade.totalTimeMult,InfinityUpgrade.thisInfinityTimeMult,Achievement(48),Achievement(56),Achievement(65),Achievement(72),Achievement(73),Achievement(74),Achievement(76),Achievement(84),Achievement(91),Achievement(92),TimeStudy(91),TimeStudy(101),TimeStudy(161),TimeStudy(193),InfinityChallenge(3),InfinityChallenge(3).reward,InfinityChallenge(8),EternityChallenge(10),AlchemyResource.dimensionality,PelleUpgrade.antimatterDimensionMult),e=e.dividedByEffectOf(InfinityChallenge(6)),e=e.times(getAdjustedGlyphEffect("powermult")),e=e.times(Currency.realityMachines.value.powEffectOf(AlchemyResource.force)),Pelle.isDoomed&&(e=e.dividedBy(10)),e}function L4(e){if(e<1||e>8)throw new Error(`Invalid Antimatter Dimension tier ${e}`);if(NormalChallenge(10).isRunning&&e>6)return v.D1;if(EternityChallenge(11).isRunning)return Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate).max(1).times(DimBoost.multiplierToNDTier(e));let t=v.D1;t=$4(t,e),t=H4(t,e);const i=getAdjustedGlyphEffect("dilationpow");return player.dilation.active||PelleStrikes.dilation.hasStrike?t=dilatedValueOf(t.pow(i)):Enslaved.isRunning&&(t=dilatedValueOf(t)),t=t.timesEffectOf(DilationUpgrade.ndMultDT),Effarig.isRunning?t=Effarig.multiplier(t):V.isRunning&&(t=t.pow(.5)),AlchemyResource.inflation.isUnlocked&&t.gte(AlchemyResource.inflation.effectValue)&&(t=t.pow(1.05)),t}function $4(e,t){let i,a=e.times(GameCache.antimatterDimensionCommonMultiplier.value);i=Laitela.continuumActive?K4(t).continuumValue:Math.floor(K4(t).bought/10),a=a.times(Decimal.pow(Q4.buyTenMultiplier,i)),a=a.times(DimBoost.multiplierToNDTier(t));let n=v.D1.timesEffectsOf(K4(t).infinityUpgrade,BreakInfinityUpgrade.infinitiedMult);return n=n.pow(TimeStudy(31).effectOrDefault(1)),a=a.times(n),1===t&&(a=a.timesEffectsOf(InfinityUpgrade.unspentIPMult,InfinityUpgrade.unspentIPMult.chargedEffect,Achievement(28),Achievement(31),Achievement(68),Achievement(71),TimeStudy(234))),8===t&&(a=a.times(Sacrifice.totalBoost)),a=a.timesEffectsOf(8===t?Achievement(23):null,t<8?Achievement(34):null,t<=4?Achievement(64):null,t<8?TimeStudy(71):null,8===t?TimeStudy(214):null,t>1&&t<8?InfinityChallenge(8).reward:null),Achievement(43).isUnlocked&&(a=a.times(1+t/100)),a=a.clampMin(1),a}function H4(e,t){let i=e;const a=getAdjustedGlyphEffect("powerpow"),n=getAdjustedGlyphEffect("effarigdimensions");return InfinityChallenge(4).isRunning&&player.postC4Tier!==t&&(i=i.pow(InfinityChallenge(4).effectValue)),InfinityChallenge(4).isCompleted&&(i=i.pow(InfinityChallenge(4).reward.effectValue)),i=i.pow(a*n*Ra.momentumValue),i=i.powEffectsOf(K4(t).infinityUpgrade.chargedEffect,InfinityUpgrade.totalTimeMult.chargedEffect,InfinityUpgrade.thisInfinityTimeMult.chargedEffect,AlchemyResource.power,Achievement(183),PelleRifts.paradox),i=i.pow(getAdjustedGlyphEffect("curseddimensions")),i=i.pow(VUnlocks.adPow.effectOrDefault(1)),PelleStrikes.infinity.hasStrike&&(i=i.pow(.5)),i}function F4(e){1===e&&Tutorial.turnOffEffect(TUTORIAL_STATE.DIM1),2===e&&Tutorial.turnOffEffect(TUTORIAL_STATE.DIM2),Achievement(10+e).unlock(),Achievement(23).tryUnlock(),player.speedrun.isActive&&!player.speedrun.hasStarted&&Speedrun.startTimer(),NormalChallenge(2).isRunning&&(player.chall2Pow=0),(NormalChallenge(4).isRunning||InfinityChallenge(1).isRunning)&&Q4.resetAmountUpToTier(e-1),player.postC4Tier=e,player.records.thisInfinity.lastBuyTime=player.records.thisInfinity.time,8!==e&&(player.requirementChecks.eternity.onlyAD8=!1),1!==e&&(player.requirementChecks.eternity.onlyAD1=!1),8===e&&(player.requirementChecks.infinity.noAD8=!1),1===e&&(player.requirementChecks.eternity.noAD1=!1)}function q4(e){const t=K4(e);if(Laitela.continuumActive||!t.isAvailableForPurchase||!t.isAffordable)return!1;const i=t.cost;return!(8===e&&Enslaved.isRunning&&K4(8).bought>=1)&&(t.currencyAmount=t.currencyAmount.minus(i),9===t.boughtBefore10&&t.challengeCostBump(),t.amount=t.amount.plus(1),t.bought++,1===e&&Achievement(28).tryUnlock(),F4(e),!0)}function V4(e){const t=K4(e);if(Laitela.continuumActive||!t.isAvailableForPurchase||!t.isAffordableUntil10)return!1;const i=t.costUntil10;return 8===e&&Enslaved.isRunning?q4(8):(t.currencyAmount=t.currencyAmount.minus(i),t.challengeCostBump(),t.amount=t.amount.plus(t.remainingUntil10),t.bought+=t.remainingUntil10,F4(e),!0)}function Y4(e){const t=K4(e);if(Laitela.continuumActive||!t.isAvailableForPurchase||!t.isAffordable)return!1;const i=t.howManyCanBuy,a=t.cost.times(i);return 8===e&&Enslaved.isRunning?q4(8):(t.currencyAmount=t.currencyAmount.minus(a),t.challengeCostBump(),t.amount=t.amount.plus(i),t.bought+=i,F4(e),!0)}function j4(e){if(Laitela.continuumActive)return;const t=K4(e);t.challengeCostBump(),t.amount=Decimal.round(t.amount.plus(t.remainingUntil10)),t.bought+=t.remainingUntil10,F4(e)}function W4(){if(!Laitela.continuumActive){player.requirementChecks.infinity.maxAll=!0;for(let e=1;e<9;e++)X4(e);buyMaxTickSpeed()}}function X4(e,t=1/0){const i=K4(e);if(Laitela.continuumActive||!i.isAvailableForPurchase||!i.isAffordableUntil10)return;const a=i.costUntil10;let n=t;const s=Player.infinityGoal;if(i.cost.gt(s)&&Player.isInAntimatterChallenge)return;if(8===e&&Enslaved.isRunning)return void q4(8);if(i.currencyAmount.gte(a)&&(i.currencyAmount=i.currencyAmount.minus(a),j4(e),n--),n<=0)return;if(NormalChallenge(9).isRunning||InfinityChallenge(5).isRunning){while(i.isAffordableUntil10&&i.cost.lt(s)&&n>0)i.currencyAmount=i.currencyAmount.minus(i.costUntil10),j4(e),n--;return}const r=i.costScale.getMaxBought(Math.floor(i.bought/10)+i.costBumps,i.currencyAmount,10);if(null===r)return;let o=r.quantity;o>n&&(o=n),i.amount=i.amount.plus(10*o).round(),i.bought+=10*o,i.currencyAmount=i.currencyAmount.minus(Decimal.pow10(r.logPrice))}class z4 extends Ip{constructor(e){super((()=>player.dimensions.antimatter),e);const t=[null,10,100,1e4,1e6,1e9,1e13,1e18,1e24];this._baseCost=t[e];const i=[null,1e3,1e4,1e5,1e6,1e8,1e10,1e12,1e15];this._baseCostMultiplier=i[e];const a=[null,10,100,100,500,2500,2e4,2e5,4e6];this._c6BaseCost=a[e];const n=[null,1e3,5e3,1e4,12e3,18e3,26e3,32e3,42e3];this._c6BaseCostMultiplier=n[e]}get costScale(){return new ExponentialCostScaling({baseCost:NormalChallenge(6).isRunning?this._c6BaseCost:this._baseCost,baseIncrease:NormalChallenge(6).isRunning?this._c6BaseCostMultiplier:this._baseCostMultiplier,costScale:Player.dimensionMultDecrease,scalingCostThreshold:Number.MAX_VALUE})}get cost(){return this.costScale.calculateCost(Math.floor(this.bought/10)+this.costBumps)}get costBumps(){return this.data.costBumps}set costBumps(e){this.data.costBumps=e}get boughtBefore10(){return this.bought%10}get remainingUntil10(){return 10-this.boughtBefore10}get costUntil10(){return this.cost.times(this.remainingUntil10)}get howManyCanBuy(){const e=this.currencyAmount.dividedBy(this.cost);return Decimal.floor(Decimal.max(Decimal.min(e,10-this.boughtBefore10),0)).toNumber()}get infinityUpgrade(){switch(this.tier){case 1:case 8:return InfinityUpgrade.dim18mult;case 2:case 7:return InfinityUpgrade.dim27mult;case 3:case 6:return InfinityUpgrade.dim36mult;case 4:case 5:return InfinityUpgrade.dim45mult}return!1}get rateOfChange(){const e=this.tier;let t;return t=8===e||e>3&&EternityChallenge(3).isRunning||e>6&&NormalChallenge(12).isRunning?v.D0:NormalChallenge(12).isRunning?K4(e+2).productionPerSecond:K4(e+1).productionPerSecond,7===e&&EternityChallenge(7).isRunning&&(t=t.plus(InfinityDimension(1).productionPerSecond.times(10))),t.times(10).dividedBy(this.amount.max(1)).times(getGameSpeedupForDisplay())}get isProducing(){const e=this.tier;return!(EternityChallenge(3).isRunning&&e>4||NormalChallenge(10).isRunning&&e>6||Laitela.isRunning&&e>Laitela.maxAllowedDimension)&&this.totalAmount.gt(0)}get currencyAmount(){return this.tier>=3&&NormalChallenge(6).isRunning?K4(this.tier-2).amount:Currency.antimatter.value}set currencyAmount(e){this.tier>=3&&NormalChallenge(6).isRunning?K4(this.tier-2).amount=e:Currency.antimatter.value=e}get continuumValue(){return this.isAvailableForPurchase?8===this.tier&&Enslaved.isRunning?1:this.costScale.getContinuumValue(this.currencyAmount,10)*Laitela.matterExtraPurchaseFactor:0}get continuumAmount(){return Laitela.continuumActive?Math.floor(10*this.continuumValue):0}get totalAmount(){return this.amount.max(this.continuumAmount)}get isAffordable(){return!Laitela.continuumActive&&(!(!player.break&&this.cost.gt(Decimal.NUMBER_MAX_VALUE))&&this.cost.lte(this.currencyAmount))}get isAffordableUntil10(){return!(!player.break&&this.cost.gt(Decimal.NUMBER_MAX_VALUE))&&this.costUntil10.lte(this.currencyAmount)}get isAvailableForPurchase(){if(!EternityMilestone.unlockAllND.isReached&&this.tier>DimBoost.totalBoosts+4)return!1;const e=1===this.tier||K4(this.tier-1).totalAmount.gt(0);return!(!EternityMilestone.unlockAllND.isReached&&!e)&&(this.tier<7||!NormalChallenge(10).isRunning)}reset(){this.amount=v.D0,this.bought=0,this.costBumps=0}resetAmount(){this.amount=v.D0}challengeCostBump(){InfinityChallenge(5).isRunning?this.multiplyIC5Costs():NormalChallenge(9).isRunning&&this.multiplySameCosts()}multiplySameCosts(){for(const e of Q4.all.filter((e=>e.tier!==this.tier)))e.cost.e===this.cost.e&&e.costBumps++;Tickspeed.cost.e===this.cost.e&&player.chall9TickspeedCostBumps++}multiplyIC5Costs(){for(const e of Q4.all.filter((e=>e.tier!==this.tier)))(this.tier<=4&&e.cost.lt(this.cost)||this.tier>=5&&e.cost.gt(this.cost))&&e.costBumps++}get multiplier(){return GameCache.antimatterDimensionFinalMultipliers[this.tier].value}get cappedProductionInNormalChallenges(){const e=player.break&&!NormalChallenge.isRunning||InfinityChallenge.isRunning||Enslaved.isRunning;return e?Decimal.MAX_VALUE:v.E315}get productionPerSecond(){const e=this.tier;if(Laitela.isRunning&&e>Laitela.maxAllowedDimension)return v.D0;let t=this.totalAmount;NormalChallenge(12).isRunning&&(2===e&&(t=t.pow(1.6)),4===e&&(t=t.pow(1.4)),6===e&&(t=t.pow(1.2)));let i=t.times(this.multiplier).times(Tickspeed.perSecond);if(NormalChallenge(2).isRunning&&(i=i.times(player.chall2Pow)),1===e&&(NormalChallenge(3).isRunning&&(i=i.times(player.chall3Pow)),i.gt(10))){const e=i.log10();i=Decimal.pow10(Math.pow(e,getAdjustedGlyphEffect("effarigantimatter")))}return i=i.min(this.cappedProductionInNormalChallenges),i}}const K4=z4.createAccessor(),Q4={all:K4.index.compact(),reset(){for(const e of Q4.all)e.reset();GameCache.dimensionMultDecrease.invalidate()},resetAmountUpToTier(e){for(const t of Q4.all.slice(0,e))t.resetAmount()},get buyTenMultiplier(){if(NormalChallenge(7).isRunning)return v.D2.min(1+DimBoost.totalBoosts/5);let e=v.D2.plusEffectsOf(Achievement(141).effects.buyTenMult,EternityChallenge(3).reward);return e=e.timesEffectsOf(InfinityUpgrade.buy10Mult,Achievement(58)).times(getAdjustedGlyphEffect("powerbuy10")),e=e.pow(getAdjustedGlyphEffect("effarigforgotten")).powEffectOf(InfinityUpgrade.buy10Mult.chargedEffect),e=e.pow(ImaginaryUpgrade(14).effectOrDefault(1)),e},tick(e){const t=!player.break||Player.isInAntimatterChallenge;if(t&&Currency.antimatter.gte(Player.infinityGoal))return;let i=EternityChallenge(3).isRunning?3:7,a=1;NormalChallenge(12).isRunning&&(i--,a++);for(let n=i;n>=1;--n)K4(n+a).produceDimensions(K4(n),e/10);K4(1).amount.gt(0)&&(player.requirementChecks.eternity.noAD1=!1),K4(1).produceCurrency(Currency.antimatter,e),NormalChallenge(12).isRunning&&K4(2).produceCurrency(Currency.antimatter,e),t&&Currency.antimatter.dropTo(Player.infinityGoal)}};function J4(){let e=new Decimal(ShopPurchase.allDimPurchases.currentMult).timesEffectsOf(Achievement(75),TimeStudy(82),TimeStudy(92),TimeStudy(162),InfinityChallenge(1).reward,InfinityChallenge(6).reward,EternityChallenge(4).reward,EternityChallenge(9).reward,EternityUpgrade.idMultEP,EternityUpgrade.idMultEternities,EternityUpgrade.idMultICRecords,AlchemyResource.dimensionality,ImaginaryUpgrade(8),PelleRifts.recursion.milestones[1]);return Replicanti.areUnlocked&&Replicanti.amount.gt(1)&&(e=e.times(replicantiMult())),e}function Z4(){const e=Autobuyer.infinityDimension(1).isActive;for(let t=1;t<9;t++)Autobuyer.infinityDimension(t).isActive=!e}class e6 extends Ip{constructor(e){super((()=>player.dimensions.infinity),e);const t=[void 0,v.E1100,v.E1900,v.E2400,v.E10500,v.E30000,v.E45000,v.E54000,v.E60000];this._unlockRequirement=t[e];const i=[null,1e3,1e6,1e8,1e10,1e15,1e20,1e25,1e30];this._costMultiplier=i[e];const a=[null,50,30,10,5,5,5,5,5];this._powerMultiplier=a[e];const n=[null,1e8,1e9,1e10,1e20,1e140,1e200,1e250,1e280];this._baseCost=new Decimal(n[e]),this.ipRequirement=n[1]}get cost(){return this.data.cost}set cost(e){this.data.cost=e}get baseAmount(){return this.data.baseAmount}set baseAmount(e){this.data.baseAmount=e}get isUnlocked(){return this.data.isUnlocked}set isUnlocked(e){this.data.isUnlocked=e}get amRequirement(){return this._unlockRequirement}get antimatterRequirementReached(){return player.records.thisEternity.maxAM.gte(this.amRequirement)}get hasIPUnlock(){return 1===this.tier&&!PlayerProgress.eternityUnlocked()}get ipRequirementReached(){return!this.hasIPUnlock||Currency.infinityPoints.value.gte(this.ipRequirement)}get canUnlock(){return(Perk.bypassIDAntimatter.canBeApplied||this.antimatterRequirementReached)&&this.ipRequirementReached}get isAvailableForPurchase(){return i6.canBuy()&&this.isUnlocked&&this.isAffordable&&!this.isCapped}get isAffordable(){return Currency.infinityPoints.gte(this.cost)}get rateOfChange(){const e=this.tier;let t=v.D0;8===e?(EternityChallenge(7).reward.applyEffect((e=>t=e.times(10))),EternityChallenge(7).isRunning&&EternityChallenge(7).applyEffect((e=>t=e.times(10)))):t=t6(e+1).productionPerSecond;const i=Decimal.max(this.amount,1);return t.times(10).dividedBy(i).times(getGameSpeedupForDisplay())}get productionPerSecond(){if(EternityChallenge(2).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&this.tier>Laitela.maxAllowedDimension)return v.D0;let e=this.amount;return EternityChallenge(11).isRunning?e:(EternityChallenge(7).isRunning&&(e=e.times(Tickspeed.perSecond)),e.times(this.multiplier))}get multiplier(){const e=this.tier;if(EternityChallenge(11).isRunning)return v.D1;let t=GameCache.infinityDimensionCommonMultiplier.value.timesEffectsOf(1===e?Achievement(94):null,4===e?TimeStudy(72):null,1===e?EternityChallenge(2).reward:null);return t=t.times(Decimal.pow(this.powerMultiplier,Math.floor(this.baseAmount/10))),1===e&&(t=t.times(PelleRifts.decay.milestones[0].effectOrDefault(1))),t=t.pow(getAdjustedGlyphEffect("infinitypow")),t=t.pow(getAdjustedGlyphEffect("effarigdimensions")),t=t.pow(getAdjustedGlyphEffect("curseddimensions")),t=t.powEffectOf(AlchemyResource.infinity),t=t.pow(Ra.momentumValue),t=t.powEffectOf(PelleRifts.paradox),(player.dilation.active||PelleStrikes.dilation.hasStrike)&&(t=dilatedValueOf(t)),Effarig.isRunning?t=Effarig.multiplier(t):V.isRunning&&(t=t.pow(.5)),PelleStrikes.powerGalaxies.hasStrike&&(t=t.pow(.5)),t}get isProducing(){const e=this.tier;return!(EternityChallenge(2).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&e>Laitela.maxAllowedDimension)&&this.amount.gt(0)}get baseCost(){return this._baseCost}get costMultiplier(){let e=this._costMultiplier;return EternityChallenge(12).reward.applyEffect((t=>e=Math.pow(e,t))),e}get powerMultiplier(){return new Decimal(this._powerMultiplier).timesEffectsOf(8===this._tier?GlyphSacrifice.infinity:null).pow(ImaginaryUpgrade(14).effectOrDefault(1))}get purchases(){return this.data.baseAmount/10}get purchaseCap(){return Enslaved.isRunning?1:i6.capIncrease+(8===this.tier?Number.MAX_VALUE:i6.HARDCAP_PURCHASES)}get isCapped(){return this.purchases>=this.purchaseCap}get hardcapIPAmount(){return this._baseCost.times(Decimal.pow(this.costMultiplier,this.purchaseCap))}resetAmount(){this.amount=new Decimal(this.baseAmount)}fullReset(){this.cost=new Decimal(this.baseCost),this.amount=v.D0,this.bought=0,this.baseAmount=0,this.isUnlocked=!1}unlock(){return!!this.isUnlocked||!!this.canUnlock&&(this.isUnlocked=!0,EventHub.dispatch(GAME_EVENT.INFINITY_DIMENSION_UNLOCKED,this.tier),1!==this.tier||PlayerProgress.eternityUnlocked()||Tab.dimensions.infinity.show(),!0)}buySingle(){if(!this.isUnlocked)return this.unlock();if(!this.isAvailableForPurchase)return!1;if(ImaginaryUpgrade(15).isLockingMechanics){const e=1===this.tier?"купить 1-е Измерение Бесконечности":"купить Измерение Бесконечности, что запустит производство ИБ1";return ImaginaryUpgrade(15).tryShowWarningModal(e),!1}return Currency.infinityPoints.purchase(this.cost),this.cost=Decimal.round(this.cost.times(this.costMultiplier)),this.amount=this.amount.plus(10),this.baseAmount+=10,EternityChallenge(8).isRunning&&(player.eterc8ids-=1),!0}buyMax(e){if(!this.isAvailableForPurchase)return!1;if(ImaginaryUpgrade(15).isLockingMechanics){const t=1===this.tier?"купить 1-е Измерение Бесконечности":"купить Измерение Бесконечности, что запустит производство ИБ1";return e||ImaginaryUpgrade(15).tryShowWarningModal(t),!1}let t=this.purchaseCap-this.purchases;EternityChallenge(8).isRunning&&(t=Math.clampMax(t,player.eterc8ids));const i=new LinearCostScaling(Currency.infinityPoints.value,this.cost,this.costMultiplier,t);return!(i.purchases<=0)&&(Currency.infinityPoints.purchase(i.totalCost),this.cost=this.cost.times(i.totalCostMultiplier),this.amount=this.amount.plus(10*i.purchases),this.baseAmount+=10*i.purchases,EternityChallenge(8).isRunning&&(player.eterc8ids-=i.purchases),!0)}}const t6=e6.createAccessor(),i6={all:t6.index.compact(),HARDCAP_PURCHASES:2e6,unlockNext(){t6(8).isUnlocked||this.next().unlock()},next(){if(t6(8).isUnlocked)throw"All Infinity Dimensions are unlocked";return this.all.first((e=>!e.isUnlocked))},resetAmount(){Currency.infinityPower.reset();for(const e of i6.all)e.resetAmount()},fullReset(){for(const e of i6.all)e.fullReset()},get capIncrease(){return Math.floor(Tesseracts.capIncrease())},get totalDimCap(){return this.HARDCAP_PURCHASES+this.capIncrease},canBuy(){return!EternityChallenge(2).isRunning&&!EternityChallenge(10).isRunning&&(!EternityChallenge(8).isRunning||player.eterc8ids>0)},canAutobuy(){return this.canBuy()&&!EternityChallenge(8).isRunning},tick(e){for(let t=8;t>1;t--)t6(t).produceDimensions(t6(t-1),e/10);EternityChallenge(7).isRunning?NormalChallenge(10).isRunning||t6(1).produceDimensions(AntimatterDimension(7),e):t6(1).produceCurrency(Currency.infinityPower,e),player.requirementChecks.reality.maxID1=player.requirementChecks.reality.maxID1.clampMin(t6(1).amount)},tryAutoUnlock(){if(EternityMilestone.autoUnlockID.isReached&&!t6(8).isUnlocked)for(const e of this.all)if(!e.unlock())break},buyMax(){const e=this.all.filter((e=>e.unlock()));e.slice().reverse().forEach((e=>{0===e.purchases&&e.buySingle()})),e.forEach((e=>e.buyMax(!1)))},get powerConversionRate(){const e=PelleRifts.paradox.milestones[2].effectOrDefault(1);return(7+getAdjustedGlyphEffect("infinityrate")+PelleUpgrade.infConversion.effectOrDefault(0))*e}};function a6(e,t=!1){const i=h6(e);if(e>4){if(!TimeStudy.timeDimension(e).isBought)return!1;if(RealityUpgrade(13).isLockingMechanics&&Currency.eternityPoints.gte(i.cost))return t||RealityUpgrade(13).tryShowWarningModal(),!1}return!Currency.eternityPoints.lt(i.cost)&&(!(Enslaved.isRunning&&i.bought>0)&&(ImaginaryUpgrade(15).isLockingMechanics&&EternityChallenge(7).completions>0?(t||ImaginaryUpgrade(15).tryShowWarningModal("купить Измерение Времени,\n        что запустит производство ИБ1 благодаря награде ИспВ7"),!1):(Currency.eternityPoints.subtract(i.cost),i.amount=i.amount.plus(1),i.bought+=1,i.cost=i.nextCost(i.bought),!0)))}function n6(){for(const e of p6.all)e.amount=new Decimal(e.bought);u6()}function s6(){for(const e of p6.all)e.cost=new Decimal(e.baseCost),e.amount=v.D0,e.bought=0}function r6(){const e=Autobuyer.timeDimension(1).isActive;for(let t=1;t<9;t++)Autobuyer.timeDimension(t).isActive=!e}function o6(e,t=1,i=!1){const a=Currency.eternityPoints.value.times(t),n=h6(e);if(a.lt(n.cost))return!1;if(e>4){if(!TimeStudy.timeDimension(e).isBought)return!1;if(RealityUpgrade(13).isLockingMechanics)return i||RealityUpgrade(13).tryShowWarningModal(),!1}if(ImaginaryUpgrade(15).isLockingMechanics&&EternityChallenge(7).completions>0)return i||ImaginaryUpgrade(15).tryShowWarningModal("купить Измерение Времени,\n        что запустит производство ИБ1 благодаря награде ИспВ7"),!1;if(Enslaved.isRunning)return a6(e);const s=bulkBuyBinarySearch(a,{costFunction:e=>n.nextCost(e),cumulative:!0,firstCost:n.cost},n.bought);return!!s&&(Currency.eternityPoints.subtract(s.purchasePrice),n.amount=n.amount.plus(s.quantity),n.bought+=s.quantity,n.cost=n.nextCost(n.bought),!0)}function l6(){for(let i=8;i>0&&0===h6(i).bought;i--)a6(i,!0);for(let i=8;i>0;i--)o6(i,.01,!0);const e=e=>!RealityUpgrade(13).isLockingMechanics||e<5,t=p6.all.filter((t=>t.isUnlocked&&e(t.tier)));for(let i=0;i<1e3;i++){const e=t.reduce(((e,t)=>t.cost.gte(e.cost)?e:t));if(!a6(e.tier,!0))break}}function c6(){let e=new Decimal(ShopPurchase.allDimPurchases.currentMult).timesEffectsOf(Achievement(105),Achievement(128),TimeStudy(93),TimeStudy(103),TimeStudy(151),TimeStudy(221),EternityChallenge(1).reward,EternityChallenge(10).reward,EternityUpgrade.tdMultAchs,EternityUpgrade.tdMultTheorems,EternityUpgrade.tdMultRealTime,Replicanti.areUnlocked&&Replicanti.amount.gt(1)?DilationUpgrade.tdMultReplicanti:null,Pelle.isDoomed?null:RealityUpgrade(22),AlchemyResource.dimensionality,PelleRifts.chaos);return EternityChallenge(9).isRunning&&(e=e.times(Decimal.pow(Math.clampMin(Currency.infinityPower.value.pow(InfinityDimensions.powerConversionRate/7).log2(),1),4).clampMin(1))),e}function u6(){for(let e=1;e<=8;e++){const t=h6(e);t.cost=t.nextCost(t.bought)}}class d6 extends Ip{constructor(e){super((()=>player.dimensions.time),e);const t=[null,v.D1,v.D5,v.E2,v.E3,v.E2350,v.E2650,v.E3000,v.E3350];this._baseCost=t[e];const i=[null,3,9,27,81,24300,72900,218700,656100];this._costMultiplier=i[e];const a=[null,7322,4627,3382,2665,833,689,562,456];this._e6000ScalingAmount=a[e];const n=[Decimal.NUMBER_MAX_VALUE,v.E1300,v.E6000];this._costIncreaseThresholds=n}get cost(){return this.data.cost}set cost(e){this.data.cost=e}nextCost(e){if(this._tier>4&&e<this.e6000ScalingAmount){const t=Decimal.pow(this.costMultiplier,e).times(this.baseCost);return PelleRifts.paradox.milestones[0].canBeApplied?t.div("1e2250").pow(.5):t}const t=[1,1.5,2.2];for(let s=0;s<this._costIncreaseThresholds.length;s++){const i=Decimal.pow(this.costMultiplier*t[s],e).times(this.baseCost);if(i.lt(this._costIncreaseThresholds[s]))return i}let i=this.costMultiplier;this._tier<=4&&(i*=2.2);const a=this.e6000ScalingAmount+(e-this.e6000ScalingAmount)*p6.scalingPast1e6000,n=Decimal.pow(i,a).times(this.baseCost);return PelleRifts.paradox.milestones[0].canBeApplied&&this._tier>4?n.div("1e2250").pow(.5):n}get isUnlocked(){return this._tier<5||TimeStudy.timeDimension(this._tier).isBought}get isAvailableForPurchase(){return this.isAffordable}get isAffordable(){return Currency.eternityPoints.gte(this.cost)}get multiplier(){const e=this._tier;if(EternityChallenge(11).isRunning)return v.D1;let t=GameCache.timeDimensionCommonMultiplier.value.timesEffectsOf(1===e?TimeStudy(11):null,3===e?TimeStudy(73):null,4===e?TimeStudy(227):null);const i=h6(e),a=8===e?Math.clampMax(i.bought,1e8):i.bought;return t=t.times(Decimal.pow(i.powerMultiplier,a)),t=t.pow(getAdjustedGlyphEffect("timepow")),t=t.pow(getAdjustedGlyphEffect("effarigdimensions")),t=t.pow(getAdjustedGlyphEffect("curseddimensions")),t=t.powEffectOf(AlchemyResource.time),t=t.pow(Ra.momentumValue),t=t.pow(ImaginaryUpgrade(11).effectOrDefault(1)),t=t.powEffectOf(PelleRifts.paradox),(player.dilation.active||PelleStrikes.dilation.hasStrike)&&(t=dilatedValueOf(t)),Effarig.isRunning?t=Effarig.multiplier(t):V.isRunning&&(t=t.pow(.5)),t}get productionPerSecond(){if(EternityChallenge(1).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&this.tier>Laitela.maxAllowedDimension)return v.D0;if(EternityChallenge(11).isRunning)return this.amount;let e=this.amount.times(this.multiplier);return EternityChallenge(7).isRunning&&(e=e.times(Tickspeed.perSecond)),1!==this._tier||EternityChallenge(7).isRunning||(e=e.pow(getAdjustedGlyphEffect("timeshardpow"))),e}get rateOfChange(){const e=this._tier;if(8===e)return v.D0;const t=h6(e+1).productionPerSecond,i=Decimal.max(this.amount,1);return t.times(10).dividedBy(i).times(getGameSpeedupForDisplay())}get isProducing(){const e=this.tier;return!(EternityChallenge(1).isRunning||EternityChallenge(10).isRunning||Laitela.isRunning&&e>Laitela.maxAllowedDimension)&&this.amount.gt(0)}get baseCost(){return this._baseCost}get costMultiplier(){return this._costMultiplier}get powerMultiplier(){return v.D4.timesEffectsOf(8===this._tier?GlyphSacrifice.time:null).pow(ImaginaryUpgrade(14).effectOrDefault(1))}get e6000ScalingAmount(){return this._e6000ScalingAmount}get costIncreaseThresholds(){return this._costIncreaseThresholds}get requirementReached(){return this._tier<5||TimeStudy.timeDimension(this._tier).isAffordable&&TimeStudy.timeDimension(this._tier-1).isBought}tryUnlock(){this.isUnlocked||TimeStudy.timeDimension(this._tier).purchase()}}const h6=d6.createAccessor(),p6={all:h6.index.compact(),get scalingPast1e6000(){return 4},tick(e){for(let t=8;t>1;t--)h6(t).produceDimensions(h6(t-1),e/10);EternityChallenge(7).isRunning?h6(1).produceDimensions(InfinityDimension(8),e):h6(1).produceCurrency(Currency.timeShards,e),EternityChallenge(7).reward.applyEffect((t=>{InfinityDimension(8).amount=InfinityDimension(8).amount.plus(t.times(e/1e3))}))}};function m6(){if(!h6(8).isUnlocked)for(let e=5;e<=8;++e)h6(e).isUnlocked||h6(e).tryUnlock()}function y6(e){const t=2===e.allowedDimPathCount&&e.currDimPathCount<2;return!!(t&&TimeStudy.preferredPaths.dimension.path.length<2)&&(GameUI.notify.error("Вы не выбрали второй приоритет пути в развилке измерений."),!0)}function f6(e,t=-1){let i=[];const a=10*Math.floor(e/10)-1,n=TimeStudy(e).path,s=GameCache.currentStudyTree.value,r=(e,t)=>[...Array(Math.clampMin(t-e+1,0)).keys()].map((t=>t+e)),o=!Perk.studyECRequirement.isBought;if(i.push(e),i.push(...r(11,Math.min(a,70))),i.push(e),e<71)return i;if(e<111)return i.push(...NormalTimeStudies.paths[n].filter((t=>t<=e))),i;if(11===t&&o)i.push(...NormalTimeStudies.paths[TIME_STUDY_PATH.ANTIMATTER_DIM].filter((t=>t<=e)));else if(12===t&&o)i.push(...NormalTimeStudies.paths[TIME_STUDY_PATH.TIME_DIM].filter((t=>t<=e)));else if(s.currDimPathCount===s.allowedDimPathCount||3===s.allowedDimPathCount)i.push(...TimeStudy.preferredPaths.dimension.studies),i.push(...r(71,103));else if(TimeStudy.preferredPaths.dimension.path.length>0)i.push(...TimeStudy.preferredPaths.dimension.studies);else if(0===s.currDimPathCount)return GameUI.notify.error("Вы не выбрали предпочитительный путь в развилке измерений."),i;e>=111&&i.push(111);const l=y6(s);if(e<121)return i;if(e<151)return i.push(...NormalTimeStudies.paths[TimeStudy(e).path].filter((t=>t<=e))),i;const c=s.pacePaths.map((e=>NormalTimeStudies.pathList.find((t=>t.name===e)).path));if(V.isFullyCompleted&&!Pelle.isDoomed){const e=NormalTimeStudies.paths[TIME_STUDY_PATH.ACTIVE].concat(NormalTimeStudies.paths[TIME_STUDY_PATH.PASSIVE]).concat(NormalTimeStudies.paths[TIME_STUDY_PATH.IDLE]);i.push(...e)}else if(1===c.length)i.push(...NormalTimeStudies.paths[c[0]]);else if(0!==TimeStudy.preferredPaths.pace.path)i.push(...TimeStudy.preferredPaths.pace.studies);else if(0===c.length)return GameUI.notify.error("Вы не выбрали предпочитительный путь в развилке темпа."),i;return i.push(...r(151,Math.min(e,201))),e<201?i:((!o||11!==t&&12!==t)&&(TimeStudyTree.commitToGameState(i),i=[],TimeStudy.preferredPaths.dimension.path.length>0&&(i.push(...TimeStudy.preferredPaths.dimension.studies),TimeStudyTree.commitToGameState(i),i=[]),l||y6(GameCache.currentStudyTree.value),i.push(...r(211,Math.min(a,214))),i.push(e)),e<221||!V.isFullyCompleted||i.push(...r(221,Math.max(e,234))),i)}function g6(e){for(const i of TimeStudy.boughtNormalTS())i.refund();player.timestudy.studies=[],GameCache.timeStudies.invalidate(),player.celestials.v.STSpent=0;const t=TimeStudy.eternityChallenge.current();void 0!==t&&(t.refund(),player.challenge.eternity.unlocked=0),e||Tab.eternity.studies.show(),GameCache.currentStudyTree.invalidate()}class b6 extends k{constructor(e,t){super(e),this.type=t}get cost(){return this.config.cost}get STCost(){const e=this.config.STCost;return VUnlocks.raUnlock.canBeApplied?e-2:e}refund(){Currency.timeTheorems.add(this.cost)}get isAffordable(){return Currency.timeTheorems.gte(this.cost)}get canBeBought(){return!0}}class v6{constructor(e){switch(this.spentTheorems=[0,0],this.invalidStudies=[],this.purchasedStudies=[],this.selectedStudies=[],this.startEC=!1,typeof e){case"string":v6.isValidImportString(e)&&this.attemptBuyArray(this.parseStudyImport(e),!1);break;case"object":this.attemptBuyArray([...e],!1),this.selectedStudies=[...e];break;case"undefined":break;default:throw new Error("Unrecognized input parameter for TimeStudyTree constructor")}}static isValidImportString(e){if(""===e.trim())return!1;let t=e.replaceAll(/ +/gu,"");return v6.sets.forEach(((e,i)=>t=t.replaceAll(new RegExp(`${i},?`,"gu"),""))),/^,?((\d{2,3}(-\d{2,3})?)\b,?)*(\|\d{1,2}!?)?$/iu.test(t)}static get currentStudies(){const e=player.timestudy.studies.map((e=>TimeStudy(e)));return 0!==player.challenge.eternity.unlocked&&e.push(TimeStudy.eternityChallenge(player.challenge.eternity.unlocked)),e}static getECFromString(e){if(!this.isValidImportString(e))return 0;const t=e.split("|");return t.length<1?0:parseInt(t[1],10)}static commitToGameState(e,t=!0,i=!1){for(const a of e){const e="number"===typeof a?TimeStudy(a):a;e&&!e.isBought&&e.purchase(t),i&&e instanceof ECTimeStudyState&&EternityChallenge(e.id).start(t)}GameCache.currentStudyTree.invalidate()}static get sets(){return new Map([["антиматерии",[71,81,91,101]],["бесконечности",[72,82,92,102]],["времени",[73,83,93,103]],["активный",[121,131,141]],["средний",[122,132,142]],["пассивный",[123,133,143]],["светлые",[221,223,225,227,231,233]],["тёмные",[222,224,226,228,232,234]],...Ra.unlocks.unlockHardV.canBeApplied?[["тройственные",[301,302,303,304].slice(0,Ra.unlocks.unlockHardV.effectOrDefault(0))]]:[]])}static truncateInput(e){let t=e.toLowerCase();return this.sets.forEach(((e,i)=>t=t.replace(i,e.join()))),t.replace(/[|,]$/u,"").replaceAll(" ","").replace(/,{2,}/gu,",").replace(/,\|/gu,"|")}static formatStudyList(e){const t=e.toLowerCase().replaceAll(" ","");return t.replaceAll(",",", ").replace("|"," | ")}parseStudyImport(e){const t=GameDatabase.eternity.timeStudies.normal.map((e=>e.id)),i=[],a=v6.truncateInput(e).split("|")[0];if(a.length){const e=a.split(",");for(const a of e){const e=a.split("-"),n=e[1]?this.studyRangeToArray(e[0],e[1]):e;for(const a of n)if(t.includes(parseInt(a,10))){const e=TimeStudy(a);this.selectedStudies.push(e),i.push(e)}else this.invalidStudies.push(a)}}const n=e.split("|")[1];if(this.startEC=e.endsWith("!"),!n)return i;const s=parseInt(n,10),r=GameDatabase.eternity.timeStudies.ec;return r.map((e=>e.id)).includes(s)||0===s?(0!==s&&i.push(TimeStudy.eternityChallenge(s)),i):(this.invalidStudies.push(`EC${s}`),i)}studyRangeToArray(e,t){const i=[],a=this.checkTimeStudyNumber(e),n=this.checkTimeStudyNumber(t);if(0!==a&&0!==n)for(let s=a;s<=n;s++)TimeStudy(s)&&i.push(s);return i}checkTimeStudyNumber(e){const t=parseFloat(e);return!TimeStudy(t)||TimeStudy(t).isTriad&&!Ra.canBuyTriad?0:t}attemptBuyArray(e,t){for(const i of e){const e="object"===typeof i?i:TimeStudy(i);this.hasRequirements(e)&&this.buySingleStudy(e,t)}}hasRequirements(e,t=!1){if(!e||this.purchasedStudies.includes(e))return!1;const i=e=>"number"===typeof e?this.purchasedStudies.includes(TimeStudy(e)):e(),a=e.config;let n;switch(a.reqType){case TS_REQUIREMENT_TYPE.AT_LEAST_ONE:n=a.requirement.some((e=>i(e)));break;case TS_REQUIREMENT_TYPE.ALL:n=a.requirement.every((e=>i(e)));break;case TS_REQUIREMENT_TYPE.DIMENSION_PATH:n=a.requirement.every((e=>i(e)))&&this.currDimPathCount<this.allowedDimPathCount;break;default:throw Error(`Unrecognized TS requirement type: ${this.reqType}`)}if(e instanceof ECTimeStudyState){var s;if(this.purchasedStudies.some((e=>e instanceof ECTimeStudyState)))return!1;const a=!Perk.studyECRequirement.isBought&&(null===(s=e.config.secondary.forbiddenStudies)||void 0===s?void 0:s.some((e=>i(e))));if(t)return n&&!a;const r=player.timestudy.theorem.plus(TimeTheorems.calculateTimeStudiesCost()),o=r.subtract(this.spentTheorems[0]).gte(e.cost),l=Perk.studyECRequirement.isBought||e.isEntryGoalMet;return n&&!a&&(e.isBought||l&&o)}return n}buySingleStudy(e,t){const i=e.config,a=VUnlocks.raUnlock.effectOrDefault(0),n=i.STCost&&i.requiresST.some((e=>this.purchasedStudies.includes(TimeStudy(e))))?Math.clampMin(i.STCost-a,0):0,s=Pelle.isDoomed?0:V.spaceTheorems,r=this.spentTheorems[1]+n<=s;if(t){const e=Currency.timeTheorems.value.add(GameCache.currentStudyTree.value.spentTheorems[0]).clampMax(Number.MAX_VALUE).toNumber(),t=this.spentTheorems[0]+i.cost<=e;if(!t||!r)return}0===s&&n>0||(this.spentTheorems[0]+=i.cost,this.spentTheorems[1]+=n,this.purchasedStudies.push(e))}get currDimPathCount(){return[71,72,73].countWhere((e=>this.purchasedStudies.includes(TimeStudy(e))))}get allowedDimPathCount(){return DilationUpgrade.timeStudySplit.isBought?3:this.purchasedStudies.includes(TimeStudy(201))?2:1}get dimensionPaths(){const e=new Set,t=[TIME_STUDY_PATH.ANTIMATTER_DIM,TIME_STUDY_PATH.INFINITY_DIM,TIME_STUDY_PATH.TIME_DIM];for(const i of t){const t=NormalTimeStudies.pathList.find((e=>e.path===i));for(const i of this.purchasedStudies)if(t.studies.includes(i.id)){e.add(t.name);break}}return Array.from(e)}get pacePaths(){const e=new Set,t=[TIME_STUDY_PATH.ACTIVE,TIME_STUDY_PATH.PASSIVE,TIME_STUDY_PATH.IDLE];for(const i of t){const t=NormalTimeStudies.pathList.find((e=>e.path===i));for(const i of this.purchasedStudies)if(t.studies.includes(i.id)){e.add(t.name);break}}return Array.from(e)}get ec(){const e=this.purchasedStudies.find((e=>e instanceof ECTimeStudyState));return e?e.id:0}get exportString(){return`${this.purchasedStudies.filter((e=>e instanceof NormalTimeStudyState)).map((e=>e.id)).join(",")}|${this.ec}${0===player.challenge.eternity.current?"":"!"}`}}const E6={};E6.pathList=[{path:TIME_STUDY_PATH.ANTIMATTER_DIM,studies:[71,81,91,101],name:"Антиматерии"},{path:TIME_STUDY_PATH.INFINITY_DIM,studies:[72,82,92,102],name:"Бесконечности"},{path:TIME_STUDY_PATH.TIME_DIM,studies:[73,83,93,103],name:"Времени"},{path:TIME_STUDY_PATH.ACTIVE,studies:[121,131,141],name:"Активный"},{path:TIME_STUDY_PATH.PASSIVE,studies:[122,132,142],name:"Средний"},{path:TIME_STUDY_PATH.IDLE,studies:[123,133,143],name:"Пассивный"},{path:TIME_STUDY_PATH.LIGHT,studies:[221,223,225,227,231,233],name:"Светлое"},{path:TIME_STUDY_PATH.DARK,studies:[222,224,226,228,232,234],name:"Тёмное"}],E6.paths=E6.pathList.mapToObject((e=>e.path),(e=>e.studies));class T6 extends b6{constructor(e){var t;const i=e.id>300?TIME_STUDY_TYPE.TRIAD:TIME_STUDY_TYPE.NORMAL;super(e,i);const a=E6.pathList.find((e=>e.studies.includes(this.id)));this._path=null!==(t=null===a||void 0===a?void 0:a.path)&&void 0!==t?t:TIME_STUDY_PATH.NONE}get isUnlocked(){var e,t,i;return null===(e=null===(t=(i=this.config).unlocked)||void 0===t?void 0:t.call(i))||void 0===e||e}get isTriad(){return this.id>300}get isBought(){return GameCache.timeStudies.value[this.id]}costsST(){return this.config.requiresST&&this.config.requiresST.some((e=>_6(e).isBought))}checkRequirement(){const e=e=>"number"===typeof e?_6(e).isBought:e(),t=GameCache.currentStudyTree.value;switch(this.config.reqType){case TS_REQUIREMENT_TYPE.AT_LEAST_ONE:return this.config.requirement.some((t=>e(t)));case TS_REQUIREMENT_TYPE.ALL:return this.config.requirement.every((t=>e(t)));case TS_REQUIREMENT_TYPE.DIMENSION_PATH:return this.config.requirement.every((t=>e(t)))&&t&&t.currDimPathCount<t.allowedDimPathCount;default:throw Error(`Unrecognized TS requirement type: ${this.reqType}`)}}checkSetRequirement(){return!this.costsST()||!Pelle.isDisabled("V")&&V.availableST>=this.STCost}get canBeBought(){return this.checkRequirement()&&this.checkSetRequirement()}get isEffectActive(){return this.isBought}purchase(e=!1){return!(this.isBought||!this.isAffordable||!this.canBeBought)&&(!GameEnd.creditsEverClosed&&(ImaginaryUpgrade(19).isLockingMechanics&&8===player.timestudy.studies.length?(e||ImaginaryUpgrade(19).tryShowWarningModal(),!1):(this.costsST()&&(player.celestials.v.STSpent+=this.STCost),player.timestudy.studies.push(this.id),player.requirementChecks.reality.maxStudies=Math.clampMin(player.requirementChecks.reality.maxStudies,player.timestudy.studies.length),this.id>300&&(player.requirementChecks.reality.noTriads=!1),Currency.timeTheorems.subtract(this.cost),GameCache.timeStudies.invalidate(),TimeStudyTree.commitToGameState([_6(this.id)]),181===this.id&&Pelle.isDoomed&&Achievement(186).unlock(),!0)))}purchaseUntil(){TimeStudyTree.commitToGameState(buyStudiesUntil(this.id))}get path(){return this._path}}function _6(e){return T6.studies[e]}T6.studies=mapGameData(GameDatabase.eternity.timeStudies.normal,(e=>new T6(e))),T6.all=T6.studies.filter((e=>void 0!==e)),_6.boughtNormalTS=function(){return player.timestudy.studies.map((e=>_6(e)))},_6.preferredPaths={dimension:{get path(){return player.timestudy.preferredPaths[0]},set path(e){const t=[1,2,3];player.timestudy.preferredPaths[0]=e.filter((e=>t.includes(e)))},get studies(){return player.timestudy.preferredPaths[0].flatMap((e=>E6.paths[e]))},get usePriority(){return this.path.length>1||_6(201).isBought||DilationUpgrade.timeStudySplit.isBought||PlayerProgress.realityUnlocked()}},pace:{get path(){return player.timestudy.preferredPaths[1]},set path(e){const t=[4,5,6];player.timestudy.preferredPaths[1]=t.includes(e)?e:0},get studies(){return E6.paths[player.timestudy.preferredPaths[1]]}}};class C6 extends b6{constructor(e){super(e,TIME_STUDY_TYPE.ETERNITY_CHALLENGE),this.invalidateRequirement()}get isBought(){return player.challenge.eternity.unlocked===this.id}purchase(e){if(GameEnd.creditsEverClosed)return!1;EternityChallenge(this.id).hasUnlocked=!0;const t=Date.now();if(this.isBought&&0===player.challenge.eternity.current&&!e)t-ui.lastClickTime<750?(ui.lastClickTime=0,EternityChallenge(this.id).requestStart()):ui.lastClickTime=t;else if(!this.isBought&&this.canBeBought)return ui.lastClickTime=0,player.challenge.eternity.unlocked=this.id,e||Tab.challenges.eternity.show(),player.challenge.eternity.requirementBits|=1<<this.id,Currency.timeTheorems.subtract(this.cost),TimeStudyTree.commitToGameState([_6.eternityChallenge(this.id)]),!0;return!1}purchaseUntil(){const e=[void 0,171,171,171,143,42,121,111,123,151,181,181,181];this.purchase(),TimeStudyTree.commitToGameState(buyStudiesUntil(e[this.id],this.id)),11===this.id?_6(191).purchase():12===this.id&&_6(193).purchase(),this.purchase()}get canBeBought(){return!!this.isAffordable&&(0===player.challenge.eternity.unlocked&&(!!this.config.requirement.some((e=>_6(e).isBought))&&this.allSecondaryRequirementsMet))}get challenge(){return EternityChallenge(this.id)}get requirementTotal(){return this.config.secondary.required(this.challenge.completions)}get requirementCurrent(){const e=this.config.secondary.current();return void 0===this.cachedCurrentRequirement?this.cachedCurrentRequirement=e:this.cachedCurrentRequirement="number"===typeof e?Math.max(this.cachedCurrentRequirement,e):this.cachedCurrentRequirement.clampMin(e),this.cachedCurrentRequirement}get allSecondaryRequirementsMet(){return Perk.studyECRequirement.isBought||!this.hasForbiddenStudies&&this.isEntryGoalMet}get hasForbiddenStudies(){var e;return null===(e=this.config.secondary.forbiddenStudies)||void 0===e?void 0:e.some((e=>_6(e).isBought))}get isEntryGoalMet(){if(this.wasRequirementPreviouslyMet)return!0;if(this.config.secondary.forbiddenStudies)return!0;const e=this.requirementCurrent,t=this.requirementTotal;return"number"===typeof e?e>=t:e.gte(t)}get wasRequirementPreviouslyMet(){return 11!==this.id&&12!==this.id&&0!==(player.challenge.eternity.requirementBits&1<<this.id)}invalidateRequirement(){this.cachedCurrentRequirement=void 0}}C6.studies=mapGameData(GameDatabase.eternity.timeStudies.ec,(e=>new C6(e))),_6.eternityChallenge=function(e){return C6.studies[e]},_6.eternityChallenge.current=function(){return player.challenge.eternity.unlocked?_6.eternityChallenge(player.challenge.eternity.unlocked):void 0},C6.invalidateCachedRequirements=function(){C6.studies.forEach((e=>e.invalidateRequirement()))};class A6 extends b6{constructor(e){super(e,TIME_STUDY_TYPE.DILATION)}get isBought(){return player.dilation.studies.includes(this.id)}get canBeBought(){return this.isAffordable&&this.config.requirement()}get description(){return this.config.description}get cost(){return"function"===typeof this.config.cost?this.config.cost():this.config.cost}get totalTimeTheoremRequirement(){return 1===this.id?12900:0}purchase(e=!1){if(this.isBought||!this.canBeBought)return!1;if(1===this.id){if(e||Tab.eternity.dilation.show(),Perk.autounlockDilation1.canBeApplied)for(const e of[4,5,6])player.dilation.upgrades.add(e);if(Perk.autounlockDilation2.canBeApplied)for(const e of[7,8,9])player.dilation.upgrades.add(e);Pelle.isDoomed||Currency.tachyonParticles.bumpTo(Perk.startTP.effectOrDefault(0)),!Ra.unlocks.unlockDilationStartingTP.canBeApplied||isInCelestialReality()||Pelle.isDoomed||Currency.tachyonParticles.bumpTo(getTP(Ra.unlocks.unlockDilationStartingTP.effectOrDefault(0),!1)),TabNotification.dilationAfterUnlock.tryTrigger()}return 6===this.id&&(PlayerProgress.realityUnlocked()||(Modal.message.show(`Получение Машин Реальности на первой реальности имеет мягкое ограничение на ${format(Decimal.pow(10,6e3))} Очков\n          Вечности и полное на ${format(Decimal.pow(10,8e3))} Очков Вечности. Причина такого решения заключается в том, что\n          в обновлении, добавившем реальность, были сделаны определённые изменения в игровом балансе, такие как\n          увеличение наценки на Измерения Времени на ${format(Decimal.pow(10,6e3))} Очков Вечности, которые значительно замедлили прогресс после этого количества.`,{},3),EventHub.dispatch(GAME_EVENT.REALITY_FIRST_UNLOCKED)),Perk.autounlockReality.isBought||Tab.reality.glyphs.show()),player.dilation.studies.push(this.id),Currency.timeTheorems.subtract(this.cost),!0}}A6.studies=mapGameData(GameDatabase.eternity.timeStudies.dilation,(e=>new A6(e))),_6.dilation=A6.studies[1],_6.timeDimension=function(e){return A6.studies[e-3]},_6.reality=A6.studies[6],_6.boughtDilationTS=function(){return player.dilation.studies.map((e=>A6.studies[e]))};class k6{constructor(e,t,i){this._from=e,this._to=t,this._override=i}get from(){return this._from}get to(){return this._to}get isOverridden(){return void 0!==this._override&&this._override()}get isSatisfied(){return this.isOverridden||this._from.isBought}}_6.allConnections=function(){const e=e=>_6(e),t=e=>_6.eternityChallenge(e),i=[[e(11),e(21)],[e(11),e(22)],[e(21),e(31)],[e(22),e(33)],[e(22),e(32)],[e(31),e(41)],[e(32),e(42)],[e(41),e(51)],[e(42),e(51)],[e(42),t(5)],[e(42),e(62),()=>!Perk.bypassEC5Lock.isBought],[e(51),e(61)],[t(5),e(62),()=>Perk.bypassEC5Lock.isBought],[e(61),e(71)],[e(61),e(72)],[e(61),e(73)],[e(71),e(81)],[e(72),e(82)],[e(73),e(83)],[e(81),e(91)],[e(82),e(92)],[e(83),e(93)],[e(91),e(101)],[e(92),e(102)],[e(93),e(103)],[e(101),e(111)],[e(102),e(111)],[e(103),e(111)],[e(111),t(7)],[e(111),e(121)],[e(111),e(122)],[e(111),e(123)],[e(121),e(131)],[e(122),e(132)],[e(123),e(133)],[e(121),t(6)],[e(123),t(8)],[e(131),e(141)],[e(132),e(142)],[e(133),e(143)],[e(141),e(151)],[e(142),e(151)],[e(143),e(151)],[e(143),t(4)],[e(151),t(9)],[e(151),e(161)],[e(151),e(162)],[e(161),e(171)],[e(162),e(171)],[e(171),t(1)],[e(171),t(2)],[e(171),t(3)],[e(171),e(181),()=>!Perk.bypassEC1Lock.isBought||!Perk.bypassEC2Lock.isBought||!Perk.bypassEC3Lock.isBought],[t(1),e(181),()=>Perk.bypassEC1Lock.isBought],[t(2),e(181),()=>Perk.bypassEC2Lock.isBought],[t(3),e(181),()=>Perk.bypassEC3Lock.isBought],[e(181),t(10)],[t(10),e(191)],[t(10),e(192)],[t(10),e(193)],[e(192),e(201)],[e(191),e(211)],[e(191),e(212)],[e(193),e(213)],[e(193),e(214)],[e(211),e(221)],[e(211),e(222)],[e(212),e(223)],[e(212),e(224)],[e(213),e(225)],[e(213),e(226)],[e(214),e(227)],[e(214),e(228)],[e(221),e(231)],[e(222),e(231)],[e(223),e(232)],[e(224),e(232)],[e(225),e(233)],[e(226),e(233)],[e(227),e(234)],[e(228),e(234)],[e(231),t(11)],[e(232),t(11)],[e(233),t(12)],[e(234),t(12)],[t(11),_6.dilation],[t(12),_6.dilation],[_6.dilation,_6.timeDimension(5)],[_6.timeDimension(5),_6.timeDimension(6)],[_6.timeDimension(6),_6.timeDimension(7)],[_6.timeDimension(7),_6.timeDimension(8)],[_6.timeDimension(8),_6.reality]].map((e=>new k6(e[0],e[1],e[2])));return i}();class w6{constructor(e,t){this.tier=e,this.amount=t}get isSatisfied(){const e=AntimatterDimension(this.tier);return e.totalAmount.gte(this.amount)}}class S6{static get power(){if(NormalChallenge(8).isRunning)return v.D1;let e=Effects.max(2,InfinityUpgrade.dimboostMult,InfinityChallenge(7).reward,InfinityChallenge(7),TimeStudy(81)).toDecimal().timesEffectsOf(TimeStudy(83),TimeStudy(231),Achievement(117),Achievement(142),GlyphEffect.dimBoostPower,PelleRifts.recursion.milestones[0]).powEffectsOf(InfinityUpgrade.dimboostMult.chargedEffect);return GlyphAlteration.isAdded("effarig")&&(e=e.pow(getSecondaryGlyphEffect("effarigforgotten"))),e}static multiplierToNDTier(e){const t=S6.power.pow(this.purchasedBoosts+1-e).clampMin(1),i=S6.power.times(ImaginaryUpgrade(24).effectOrDefault(1)).pow(this.imaginaryBoosts).clampMin(1);return t.times(i)}static get maxDimensionsUnlockable(){return NormalChallenge(10).isRunning?6:8}static get canUnlockNewDimension(){return S6.purchasedBoosts+4<S6.maxDimensionsUnlockable}static get maxBoosts(){return Ra.isRunning?0:InfinityChallenge(1).isRunning?2:NormalChallenge(8).isRunning?5:1/0}static get canBeBought(){return!(S6.purchasedBoosts>=this.maxBoosts)&&!(player.records.thisInfinity.maxAM.gt(Player.infinityGoal)&&(!player.break||Player.isInAntimatterChallenge))}static get lockText(){if(S6.purchasedBoosts>=this.maxBoosts){if(Ra.isRunning)return"Недоступно (Реальность Ра)";if(InfinityChallenge(1).isRunning)return"Недоступно (1-е Испытание Бесконечности)";if(NormalChallenge(8).isRunning)return"Недоступно (8-е Обычное Испытание)"}return null}static get requirement(){return this.bulkRequirement(1)}static bulkRequirement(e){const t=S6.purchasedBoosts+e,i=Math.min(t+3,this.maxDimensionsUnlockable);let a=20;const n=Effects.sum(TimeStudy(211),TimeStudy(222));return 6===i&&NormalChallenge(10).isRunning?a+=Math.round((t-3)*(20-n)):8===i&&(a+=Math.round((t-5)*(15-n))),EternityChallenge(5).isRunning&&(a+=Math.pow(t-1,3)+t-1),a-=Effects.sum(InfinityUpgrade.resetBoost),InfinityChallenge(5).isCompleted&&(a-=1),a*=InfinityUpgrade.resetBoost.chargedEffect.effectOrDefault(1),a=Math.round(a),new w6(i,a)}static get unlockedByBoost(){if(null!==S6.lockText)return S6.lockText;const e=S6.purchasedBoosts,t=EternityMilestone.unlockAllND.isReached;let i="";!t&&e<S6.maxDimensionsUnlockable-4?i=`разблокировать ${e+5}-е Измерение`:4!==e||NormalChallenge(10).isRunning||EternityChallenge(3).isRunning||(i="разблокировать Пожертвование");const a=`получить множитель ${formatX(S6.power,2,1)}`;let n,s="к 1-му Измерению";e>0&&(s=`к Измерениям 1-${Math.min(e+1,8)}`),e>=S6.maxDimensionsUnlockable-1&&(s="ко всем Измерениям"),n=NormalChallenge(8).isRunning?i:""===i?`${a} ${s}`:`${i} и ${a} ${s}`;const r=(Perk.antimatterNoReset.isBought||Achievement(111).canBeApplied)&&(!Pelle.isDoomed||PelleUpgrade.dimBoostResetsNothing.isBought),o=Perk.antimatterNoReset.isBought&&(!Pelle.isDoomed||PelleUpgrade.dimBoostResetsNothing.isBought);return o?n[0].toUpperCase()+n.substring(1):(""!==n&&(n=`, чтобы ${n}`),`Сбросить ваше количество ${r?"":"антиматерии, "}Измерений Антиматерии и ускорителей${n}`)}static get purchasedBoosts(){return Math.floor(player.dimensionBoosts)}static get imaginaryBoosts(){return Ra.isRunning?0:ImaginaryUpgrade(12).effectOrDefault(0)*ImaginaryUpgrade(23).effectOrDefault(1)}static get totalBoosts(){return Math.floor(this.purchasedBoosts+this.imaginaryBoosts)}static get startingDimensionBoosts(){return InfinityUpgrade.skipResetGalaxy.isBought?4:InfinityUpgrade.skipReset3.isBought?3:InfinityUpgrade.skipReset2.isBought?2:InfinityUpgrade.skipReset1.isBought?1:0}}function x6(e,t=!1,i=!1,a=!1){if(Currency.antimatter.gt(Player.infinityLimit))return;const n=Math.min(e,S6.maxBoosts-player.dimensionBoosts);EventHub.dispatch(GAME_EVENT.DIMBOOST_BEFORE,n),player.dimensionBoosts=Math.max(0,player.dimensionBoosts+n),resetChallengeStuff();const s=Pelle.isDoomed?PelleUpgrade.dimBoostResetsNothing.canBeApplied:Perk.antimatterNoReset.canBeApplied;!t&&s||(AntimatterDimensions.reset(),player.sacrificed=v.D0,resetTickspeed()),R6(a);const r=Pelle.isDoomed?PelleUpgrade.dimBoostResetsNothing.canBeApplied:Achievement(111).isUnlocked||Perk.antimatterNoReset.canBeApplied;!i&&r?Currency.antimatter.bumpTo(Currency.antimatter.startingValue):Currency.antimatter.reset(),EventHub.dispatch(GAME_EVENT.DIMBOOST_AFTER,n)}function R6(e){e||Player.isInAntimatterChallenge||(InfinityUpgrade.skipResetGalaxy.isBought&&player.dimensionBoosts<4?(player.dimensionBoosts=4,0===player.galaxies&&(player.galaxies=1)):InfinityUpgrade.skipReset3.isBought&&player.dimensionBoosts<3?player.dimensionBoosts=3:InfinityUpgrade.skipReset2.isBought&&player.dimensionBoosts<2?player.dimensionBoosts=2:InfinityUpgrade.skipReset1.isBought&&player.dimensionBoosts<1&&(player.dimensionBoosts=1))}function I6(e){!Currency.antimatter.gt(Player.infinityLimit)&&S6.requirement.isSatisfied&&S6.canBeBought&&(GameEnd.creditsEverClosed||(player.options.confirmations.dimensionBoost?Modal.dimensionBoost.show({bulk:e}):M6(e)))}function M6(e){!Currency.antimatter.gt(Player.infinityLimit)&&S6.requirement.isSatisfied&&S6.canBeBought&&(Tutorial.turnOffEffect(TUTORIAL_STATE.DIMBOOST),BreakInfinityUpgrade.autobuyMaxDimboosts.isBought&&e?D6():x6(1))}function D6(){if(S6.canUnlockNewDimension)return void(S6.requirement.isSatisfied&&x6(1));const e=S6.bulkRequirement(1);if(!e.isSatisfied)return;const t=S6.bulkRequirement(2);if(!t.isSatisfied)return void x6(1);const i=t.amount-e.amount,a=AntimatterDimension(e.tier);let n=Math.min(Number.MAX_VALUE,1+Math.floor((a.totalAmount.toNumber()-e.amount)/i));if(S6.bulkRequirement(n).isSatisfied)return void x6(n);let s=2;while(n!==s+1){const e=Math.floor((n+s)/2);S6.bulkRequirement(e).isSatisfied?s=e:n=e}x6(s)}class P6{static get isVisible(){return Achievement(18).isUnlocked||PlayerProgress.realityUnlocked()}static get canSacrifice(){return DimBoost.purchasedBoosts>4&&!EternityChallenge(3).isRunning&&this.nextBoost.gt(1)&&AntimatterDimension(8).totalAmount.gt(0)&&Currency.antimatter.lt(Player.infinityLimit)&&!Enslaved.isRunning}static get disabledCondition(){return NormalChallenge(10).isRunning?"8-е Измерение недоступно":EternityChallenge(3).isRunning?"3-е Испытание Вечности":DimBoost.purchasedBoosts<5?`требуется ${formatInt(5)} Расширений Измерений`:AntimatterDimension(8).totalAmount.eq(0)?"нет 8-х Измерений Антиматерии":this.nextBoost.lte(1)?"множитель пренебрежимо мал":Player.isInAntimatterChallenge?"цель Испытания достигнута":"вы обязаны совершить Большое Сжатие"}static getSacrificeDescription(e){const t=(t,i)=>t in e?e[t]:i;let i=2,a=1,n=`(log₁₀(ИА1)/${formatInt(10)})`;t("Challenge8isRunning",NormalChallenge(8).isRunning)?(i=1,n="x"):t("InfinityChallenge2isCompleted",InfinityChallenge(2).isCompleted)&&(i=1/120,a=3,n="ИА1");const s=(1+(t("Achievement32",Achievement(32).isEffectActive)?Achievement(32).config.effect:0)+(t("Achievement57",Achievement(57).isEffectActive)?Achievement(57).config.effect:0))*(1+(t("Achievement88",Achievement(88).isEffectActive)?Achievement(88).config.effect:0)+(t("TimeStudy228",TimeStudy(228).isEffectActive)?TimeStudy(228).config.effect:0))*i;return n+(1===s?"":formatPow(s,a,a))}static get sacrificeExponent(){let e;e=NormalChallenge(8).isRunning?1:InfinityChallenge(2).isCompleted?1/120:2;const t=1+Effects.sum(Achievement(32),Achievement(57)),i=1+Effects.sum(Achievement(88),TimeStudy(228)),a=TimeStudy(304).effectOrDefault(1);return e*t*i*a}static get nextBoost(){const e=AntimatterDimension(1).amount;if(e.eq(0))return v.D1;const t=player.sacrificed.clampMin(1);let i;return i=NormalChallenge(8).isRunning?e.pow(.05).dividedBy(t.pow(.04)).clampMin(1).times(e.pow(.05).dividedBy(t.plus(e).pow(.04))):InfinityChallenge(2).isCompleted?e.dividedBy(t):new Decimal(e.log10()/10/Math.max(t.log10()/10,1)),i.clampMin(1).pow(this.sacrificeExponent)}static get totalBoost(){if(player.sacrificed.eq(0))return v.D1;if(NormalChallenge(8).isRunning)return player.chall8TotalSacrifice;let e;return e=InfinityChallenge(2).isCompleted?player.sacrificed:new Decimal(player.sacrificed.log10()/10),e.clampMin(1).pow(this.sacrificeExponent)}}function U6(){if(!P6.canSacrifice)return!1;if((!player.break||!InfinityChallenge.isRunning&&NormalChallenge.isRunning)&&Currency.antimatter.gt(Decimal.NUMBER_MAX_VALUE))return!1;if(NormalChallenge(8).isRunning&&P6.totalBoost.gte(Decimal.NUMBER_MAX_VALUE))return!1;EventHub.dispatch(GAME_EVENT.SACRIFICE_RESET_BEFORE);const e=P6.nextBoost;player.chall8TotalSacrifice=player.chall8TotalSacrifice.times(e),player.sacrificed=player.sacrificed.plus(AntimatterDimension(1).amount);const t=Achievement(118).canBeApplied;return NormalChallenge(8).isRunning?(t||AntimatterDimensions.reset(),Currency.antimatter.reset()):t||AntimatterDimensions.resetAmountUpToTier(NormalChallenge(12).isRunning?6:7),player.requirementChecks.infinity.noSacrifice=!1,EventHub.dispatch(GAME_EVENT.SACRIFICE_RESET_AFTER),!0}function G6(){P6.isVisible&&P6.canSacrifice&&(player.options.confirmations.sacrifice?Modal.sacrifice.show():U6())}function N6(){bf.display("a-implode",2)}function B6(){const e=Player.antimatterChallenge;if(e||NormalChallenge(1).isCompleted||NormalChallenge(1).complete(),!e)return;const t=InfinityChallenge.isRunning;t&&!InfinityChallenge.current.isCompleted&&TabNotification.ICUnlock.clearTrigger(),e.complete(),e.updateChallengeTime(),player.options.retryChallenge||(player.challenge.normal.current=0,player.challenge.infinity.current=0)}function O6(){Player.canCrunch&&(GameEnd.creditsEverClosed||(!player.options.confirmations.bigCrunch||PlayerProgress.infinityUnlocked()&&!player.break?L6():Modal.bigCrunch.show()))}function L6(e=!1){Player.canCrunch&&(e||!player.options.animations.bigCrunch||bf.isDisplaying?$6():(N6(),setTimeout($6,1e3)))}function $6(e=!1,t=Player.isInAntimatterChallenge&&player.options.retryChallenge){(e||Player.canCrunch)&&(Player.canCrunch&&(EventHub.dispatch(GAME_EVENT.BIG_CRUNCH_BEFORE),H6(),Pelle.isDoomed&&PelleStrikes.infinity.trigger()),V6(t),EventHub.dispatch(GAME_EVENT.BIG_CRUNCH_AFTER))}function H6(){F6();const e=gainedInfinityPoints();Currency.infinityPoints.add(e),Currency.infinities.add(gainedInfinities().round()),q6(!PlayerProgress.infinityUnlocked()),Y6()}function F6(){player.records.bestInfinity.bestIPminEternity=player.records.bestInfinity.bestIPminEternity.clampMin(player.records.thisInfinity.bestIPmin),player.records.thisInfinity.bestIPmin=v.D0,player.records.thisEternity.bestInfinitiesPerMs=player.records.thisEternity.bestInfinitiesPerMs.clampMin(gainedInfinities().round().dividedBy(Math.clampMin(33,player.records.thisInfinity.realTime)));const e=gainedInfinityPoints();if(addInfinityTime(player.records.thisInfinity.time,player.records.thisInfinity.realTime,e,gainedInfinities().round()),player.records.bestInfinity.time=Math.min(player.records.bestInfinity.time,player.records.thisInfinity.time),player.records.bestInfinity.realTime=Math.min(player.records.bestInfinity.realTime,player.records.thisInfinity.realTime),player.requirementChecks.reality.noInfinities=!1,!player.requirementChecks.infinity.maxAll){const t=e.dividedBy(Math.clampMin(33,player.records.thisInfinity.realTime));player.records.thisEternity.bestIPMsWithoutMaxAll=Decimal.max(t,player.records.thisEternity.bestIPMsWithoutMaxAll)}}function q6(e){const t=player.records.bestInfinity.time>6e4&&!player.break,i=Player.isInAntimatterChallenge;B6(),e?Tab.infinity.upgrades.show():(t||i&&!player.options.retryChallenge)&&Tab.dimensions.antimatter.show()}function V6(e){const t=Replicanti.amount,i=player.replicanti.galaxies;j6(e);let a=0;Achievement(95).isUnlocked&&!Pelle.isDoomed&&(Replicanti.amount=t,a+=Math.min(i,1)),TimeStudy(33).isBought&&!Pelle.isDoomed&&(a+=Math.floor(i/2)),PelleUpgrade.replicantiGalaxyNoReset.canBeApplied&&(a=i),player.replicanti.galaxies=Math.clampMax(a,i)}function Y6(){EternityChallenge(4).tryFail()||Effarig.isRunning&&!EffarigUnlock.infinity.isUnlocked&&(EffarigUnlock.infinity.unlock(),beginProcessReality(getRealityProps(!0)))}function j6(e){player.dimensionBoosts=0,player.galaxies=0,player.records.thisInfinity.maxAM=v.D0,Currency.antimatter.reset(),softReset(0,!0,!0,e),InfinityDimensions.resetAmount(),player.replicanti.unl&&(Replicanti.amount=v.D1),player.replicanti.galaxies=0,player.records.thisInfinity.time=0,player.records.thisInfinity.lastBuyTime=0,player.records.thisInfinity.realTime=0,Player.resetRequirements("infinity"),AchievementTimers.marathon2.reset()}function W6(e){if(InfinityUpgrade.ipGen.isBought){const t=10*Time.bestInfinity.totalMilliseconds;let i;e>=1e300*t?i=Decimal.div(e,t):(player.partInfinityPoint+=e/t,i=Math.floor(player.partInfinityPoint),player.partInfinityPoint-=i);let a=player.records.bestInfinity.time===Number.MAX_VALUE?v.D0:InfinityUpgrade.ipGen.effectValue;Laitela.isRunning&&(a=dilatedValueOf(a));const n=new Decimal(i).times(a);Currency.infinityPoints.add(n)}Currency.infinityPoints.add(BreakInfinityUpgrade.ipGen.effectOrDefault(v.D0).times(e/6e4))}class X6 extends k{constructor(e,t){super(e),this._upgrade=t}get isEffectActive(){return this._upgrade.isBought&&this._upgrade.isCharged}}class z6 extends x{constructor(e){super(e),e.charged&&(this._chargedEffect=new X6(e.charged,this))}get currency(){return Currency.infinityPoints}get set(){return player.infinityUpgrades}get isAvailableForPurchase(){var e,t,i;return null===(e=null===(t=(i=this.config).checkRequirement)||void 0===t?void 0:t.call(i))||void 0===e||e}get isEffectActive(){return this.isBought&&!this.isCharged}get chargedEffect(){return this._chargedEffect}purchase(){return super.purchase()?(this.config.id.includes("skip")&&skipResetsIfPossible(),EventHub.dispatch(GAME_EVENT.INFINITY_UPGRADE_BOUGHT),!0):!!this.canCharge&&(this.charge(),EventHub.dispatch(GAME_EVENT.INFINITY_UPGRADE_CHARGED),!0)}get hasChargeEffect(){return void 0!==this.config.charged}get isCharged(){return player.celestials.ra.charged.has(this.id)}get canCharge(){return this.isBought&&this.hasChargeEffect&&!this.isCharged&&0!==Ra.chargesLeft&&!Pelle.isDisabled("chargedInfinityUpgrades")}charge(){player.celestials.ra.charged.add(this.id)}disCharge(){player.celestials.ra.charged.delete(this.id)}}function K6(){if(Effarig.isRunning&&Effarig.currentStage===EFFARIG_STAGES.INFINITY)return v.D1;let e=v.D1.times(ShopPurchase.IPPurchases.currentMult).timesEffectsOf(TimeStudy(41),TimeStudy(51),TimeStudy(141),TimeStudy(142),TimeStudy(143),Achievement(85),Achievement(93),Achievement(116),Achievement(125),Achievement(141).effects.ipGain,Z6.ipMult,DilationUpgrade.ipMultDT,GlyphEffect.ipMult);return e=e.times(Replicanti.amount.powEffectOf(AlchemyResource.exponential)),e}function Q6(){const e=[Z6.totalTimeMult,Z6.dim18mult,Z6.dim36mult,Z6.resetBoost,Z6.buy10Mult,Z6.dim27mult,Z6.dim45mult,Z6.galaxyBoost,Z6.thisInfinityTimeMult,Z6.unspentIPMult,Z6.dimboostMult,Z6.ipGen];for(const t of e)t.isCharged&&t.disCharge();player.celestials.ra.disCharge=!1,EventHub.dispatch(GAME_EVENT.INFINITY_UPGRADES_DISCHARGED)}class J6 extends k{get cost(){return this.purchaseCount>=this.purchasesAtIncrease?this.config.costIncreaseThreshold.times(Decimal.pow(this.costIncrease,this.purchaseCount-this.purchasesAtIncrease)):Decimal.pow(this.costIncrease,this.purchaseCount+1)}get purchaseCount(){return player.IPMultPurchases}get purchasesAtIncrease(){return this.config.costIncreaseThreshold.log10()-1}get hasIncreasedCost(){return this.purchaseCount>=this.purchasesAtIncrease}get costIncrease(){return this.hasIncreasedCost?1e10:10}get isCapped(){return this.cost.gte(this.config.costCap)}get isBought(){return this.isCapped}get isRequirementSatisfied(){return Achievement(41).isUnlocked}get canBeBought(){return!Pelle.isDoomed&&!this.isCapped&&Currency.infinityPoints.gte(this.cost)&&this.isRequirementSatisfied}purchase(e=1){this.canBeBought&&(TimeStudy(181).isBought||Autobuyer.bigCrunch.bumpAmount(v.D2.pow(e)),Currency.infinityPoints.subtract(Decimal.sumGeometricSeries(e,this.cost,this.costIncrease,0)),player.IPMultPurchases+=e,GameUI.update())}buyMax(){if(this.canBeBought){if(!this.hasIncreasedCost){const e=Currency.infinityPoints.value.clampMax(this.config.costIncreaseThreshold),t=Decimal.affordGeometricSeries(e,this.cost,this.costIncrease,0).toNumber();if(t<=0)return;this.purchase(t)}if(this.hasIncreasedCost){const e=Currency.infinityPoints.value.clampMax(this.config.costCap),t=Decimal.affordGeometricSeries(e,this.cost,this.costIncrease,0).toNumber();if(t<=0)return;this.purchase(t)}}}}const Z6=mapGameDataToObject(GameDatabase.infinity.upgrades,(e=>"ipMult"===e.id?new J6(e):new z6(e)));class e8 extends x{get currency(){return Currency.infinityPoints}get set(){return player.infinityUpgrades}onPurchased(){"postGalaxy"===this.id&&(up(7).tryComplete(),PelleStrikes.powerGalaxies.trigger())}}class t8 extends I{get currency(){return Currency.infinityPoints}get boughtAmount(){return player.infinityRebuyables[this.id]}set boughtAmount(e){player.infinityRebuyables[this.id]=e}get isCapped(){return this.boughtAmount===this.config.maxUpgrades}onPurchased(){var e,t;null===(e=(t=this.config).onPurchased)||void 0===e||e.call(t)}}const i8=mapGameDataToObject(GameDatabase.infinity.breakUpgrades,(e=>e.rebuyable?new t8(e):new e8(e)));function a8(e){if(s8(11).isRunning||InfinityChallenge(6).isRunning){if(AntimatterDimension(2).amount.neq(0)){Currency.matter.bumpTo(1);const t=1.03+Math.clampMax(DimBoost.totalBoosts,400)/200+Math.clampMax(player.galaxies,100)/100;Currency.matter.multiply(Decimal.pow(t,e/20))}if(Currency.matter.gt(Currency.antimatter.value)&&s8(11).isRunning&&!Player.canCrunch){const e=[Currency.antimatter.value,Currency.matter.value];softReset(0,!0,!0),Modal.message.show(`${format(e[0],2,2)} антиматерии аннигилировано\n        ${format(e[1],2,2)} материи.`,{closeEvent:GAME_EVENT.BIG_CRUNCH_AFTER},1)}}s8(3).isRunning&&(player.chall3Pow=player.chall3Pow.times(v.D1_00038.pow(e/100)).clampMax(Decimal.NUMBER_MAX_VALUE)),s8(2).isRunning&&(player.chall2Pow=Math.min(player.chall2Pow+e/100/1800,1)),InfinityChallenge(2).isRunning&&(player.ic2Count>=400?(AntimatterDimension(8).amount.gt(0)&&sacrificeReset(),player.ic2Count%=400):player.ic2Count+=Math.clamp(Date.now()-player.lastUpdate,1,216e5))}class n8 extends k{get isQuickResettable(){return this.config.isQuickResettable}get isRunning(){const e=9!==this.id&&12!==this.id;return player.challenge.normal.current===this.id||e&&InfinityChallenge(1).isRunning}get isOnlyActiveChallenge(){return player.challenge.normal.current===this.id}get isUnlocked(){if(PlayerProgress.eternityUnlocked())return!0;if(0===this.id)return!0;const e=GameDatabase.challenges.normal[this.id-1].lockedAt;return Currency.infinitiesTotal.gte(e)}get isDisabled(){return Pelle.isDoomed}get lockedAt(){return GameDatabase.challenges.normal[this.id].lockedAt}requestStart(){Tab.challenges.isUnlocked&&(GameEnd.creditsEverClosed||(player.options.confirmations.challenges?Modal.startNormalChallenge.show(this.id):this.start()))}start(){1===this.id||this.isOnlyActiveChallenge||Tab.challenges.isUnlocked&&(bigCrunchReset(!0,!0),player.challenge.normal.current=this.id,player.challenge.infinity.current=0,Enslaved.isRunning&&EternityChallenge(6).isRunning&&10===this.id&&(EnslavedProgress.challengeCombo.giveProgress(),Enslaved.quotes.ec6C10.show()),Enslaved.isRunning||Tab.dimensions.antimatter.show())}get isCompleted(){return 0!==(player.challenge.normal.completedBits&1<<this.id)}complete(){player.challenge.normal.completedBits|=1<<this.id,Achievement(52).tryUnlock(),Achievement(53).tryUnlock(),TabNotification.newAutobuyer.clearTrigger(),GameCache.cheapestAntimatterAutobuyer.invalidate()}get goal(){return Enslaved.isRunning&&Enslaved.BROKEN_CHALLENGES.includes(this.id)?v.E1E15:Decimal.NUMBER_MAX_VALUE}updateChallengeTime(){const e=player.challenge.normal.bestTimes;e[this.id-2]<=player.records.thisInfinity.time||(player.challenge.normal.bestTimes[this.id-2]=player.records.thisInfinity.time,GameCache.challengeTimeSum.invalidate(),GameCache.worstChallengeTime.invalidate())}exit(){player.challenge.normal.current=0,bigCrunchReset(!0,!1),Enslaved.isRunning||Tab.dimensions.antimatter.show()}}const s8=n8.createAccessor(GameDatabase.challenges.normal);Object.defineProperty(s8,"current",{get:()=>player.challenge.normal.current>0?s8(player.challenge.normal.current):void 0}),Object.defineProperty(s8,"isRunning",{get:()=>0!==player.challenge.normal.current});const r8={all:s8.index.compact(),completeAll(){for(const e of r8.all)e.complete()},clearCompletions(){player.challenge.normal.completedBits=0}};function o8(){if(EternityMilestone.autoIC.isReached){const e=d8.all.filter((e=>e.isUnlocked&&!e.isCompleted));for(const t of e)t.complete()}}class l8 extends k{constructor(e,t){super(e),this._challenge=t}get isEffectActive(){return this._challenge.isCompleted}}class c8 extends k{constructor(e){super(e),this._reward=new l8(e.reward,this)}get unlockAM(){return this.config.unlockAM}get isUnlocked(){return player.records.thisEternity.maxAM.gte(this.unlockAM)||Achievement(133).isUnlocked&&!Pelle.isDoomed||PelleUpgrade.keepInfinityChallenges.canBeApplied&&Pelle.cel.records.totalAntimatter.gte(this.unlockAM)}get isRunning(){return player.challenge.infinity.current===this.id}requestStart(){this.isUnlocked&&(GameEnd.creditsEverClosed||(player.options.confirmations.challenges?Modal.startInfinityChallenge.show(this.id):this.start()))}start(){this.isUnlocked&&!this.isRunning&&(bigCrunchReset(!0,!0),player.challenge.normal.current=0,player.challenge.infinity.current=this.id,Enslaved.isRunning||Tab.dimensions.antimatter.show(),player.break=!0,EternityChallenge.isRunning&&Achievement(115).unlock())}get isCompleted(){return 0!==(player.challenge.infinity.completedBits&1<<this.id)}complete(){player.challenge.infinity.completedBits|=1<<this.id,EventHub.dispatch(GAME_EVENT.INFINITY_CHALLENGE_COMPLETED)}get isEffectActive(){return this.isRunning}get reward(){return this._reward}get isQuickResettable(){return this.config.isQuickResettable}get goal(){return this.config.goal}updateChallengeTime(){const e=player.challenge.infinity.bestTimes;e[this.id-1]<=player.records.thisInfinity.time||(player.challenge.infinity.bestTimes[this.id-1]=player.records.thisInfinity.time,GameCache.infinityChallengeTimeSum.invalidate())}exit(){player.challenge.infinity.current=0,bigCrunchReset(!0,!1),Enslaved.isRunning||Tab.dimensions.antimatter.show()}}const u8=c8.createAccessor(GameDatabase.challenges.infinity);Object.defineProperty(u8,"current",{get:()=>player.challenge.infinity.current>0?u8(player.challenge.infinity.current):void 0}),Object.defineProperty(u8,"isRunning",{get:()=>void 0!==u8.current});const d8={all:u8.index.compact(),completeAll(){for(const e of d8.all)e.complete()},clearCompletions(){player.challenge.infinity.completedBits=0},get nextIC(){return d8.all.find((e=>!e.isUnlocked))},get nextICUnlockAM(){var e;return null===(e=this.nextIC)||void 0===e?void 0:e.unlockAM},notifyICUnlock(e){if(!EternityMilestone.autoIC.isReached&&void 0!==d8.nextIC)for(const t of d8.all)if(!t.isUnlocked&&!t.isCompleted){if(e.lt(t.unlockAM))break;TabNotification.ICUnlock.clearTrigger(),GameUI.notify.infinity(`Вы разблокировали ${t.id}-е Испытание Бесконечности`,7e3),TabNotification.ICUnlock.tryTrigger()}},get completed(){return d8.all.filter((e=>e.isCompleted))}};function h8(e){player.records.bestEternity.time=Math.min(player.records.thisEternity.time,player.records.bestEternity.time),Currency.eternityPoints.add(gainedEternityPoints());const t=_8();if(Currency.eternities.eq(0)&&t.lte(10)&&Tab.dimensions.time.show(),Currency.eternities.add(t),EternityChallenge.isRunning){const t=EternityChallenge.current;if(t.addCompletion(!1),Perk.studyECBulk.isBought){let e=0;while(!t.isFullyCompleted&&t.canBeCompleted)t.addCompletion(!1),e++;AutomatorData.lastECCompletionCount=e,Enslaved.isRunning&&e>5&&EnslavedProgress.ec1.giveProgress()}player.challenge.eternity.requirementBits&=~(1<<t.id),respecTimeStudies(e)}addEternityTime(player.records.thisEternity.time,player.records.thisEternity.realTime,gainedEternityPoints(),t),player.records.thisReality.bestEternitiesPerMs=player.records.thisReality.bestEternitiesPerMs.clampMin(t.div(Math.clampMin(33,player.records.thisEternity.realTime))),player.records.bestEternity.bestEPminReality=player.records.bestEternity.bestEPminReality.max(player.records.thisEternity.bestEPmin),Currency.infinitiesBanked.value=Currency.infinitiesBanked.value.plusEffectsOf(Achievement(131).effects.bankedInfinitiesGain,TimeStudy(191)),Effarig.isRunning&&!EffarigUnlock.eternity.isUnlocked&&(EffarigUnlock.eternity.unlock(),beginProcessReality(getRealityProps(!0)))}function p8(){bf.display("a-eternify",3)}function m8(){Player.canEternity&&(GameEnd.creditsEverClosed||T8())}function y8(e,t,i={}){i.switchingDilation&&!Player.canEternity&&(e=!0);const a=0===player.timestudy.studies.length;if(!e){if(!Player.canEternity)return!1;if(RealityUpgrade(10).isLockingMechanics)return RealityUpgrade(10).tryShowWarningModal(),!1;if(RealityUpgrade(12).isLockingMechanics&&EternityChallenge(1).isRunning)return RealityUpgrade(12).tryShowWarningModal(),!1;EventHub.dispatch(GAME_EVENT.ETERNITY_RESET_BEFORE),h8(t),player.requirementChecks.reality.noEternities=!1}return player.dilation.active&&rewardTP(),e&&(player.challenge.eternity.current=0),g8(),b8(),A8.keepAutobuyers.isReached||Pelle.isDoomed&&PelleUpgrade.keepAutobuyers.canBeApplied||(player.break=!1),player.challenge.eternity.current=0,i.enteringEC||Pelle.isDoomed||(player.dilation.active=!1),resetInfinityRuns(),InfinityDimensions.fullReset(),Replicanti.reset(),resetChallengeStuff(),AntimatterDimensions.reset(),!i.enteringEC&&player.respec&&(a&&SecretAchievement(34).unlock(),respecTimeStudies(t),player.respec=!1),Currency.infinityPoints.reset(),InfinityDimensions.resetAmount(),player.records.thisInfinity.bestIPmin=v.D0,player.records.bestInfinity.bestIPminEternity=v.D0,player.records.thisEternity.bestEPmin=v.D0,player.records.thisEternity.bestInfinitiesPerMs=v.D0,player.records.thisEternity.bestIPMsWithoutMaxAll=v.D0,resetTimeDimensions(),resetTickspeed(),playerInfinityUpgradesOnReset(),AchievementTimers.marathon2.reset(),v8(),player.records.thisInfinity.maxAM=v.D0,player.records.thisEternity.maxAM=v.D0,Currency.antimatter.reset(),ECTimeStudyState.invalidateCachedRequirements(),PelleStrikes.eternity.trigger(),EventHub.dispatch(GAME_EVENT.ETERNITY_RESET_AFTER),!0}function f8(e){if(!Player.canEternity)return!1;const t=!bf.isDisplaying&&!RealityUpgrade(10).isLockingMechanics&&!(RealityUpgrade(12).isLockingMechanics&&EternityChallenge(1).isRunning)&&(player.dilation.active&&player.options.animations.dilation||!player.dilation.active&&player.options.animations.eternity);return t?player.dilation.active?animateAndUndilate(e):(p8(),setTimeout((()=>{y8(),e&&e()}),2250)):(y8(),e&&e()),t}function g8(e){NormalChallenges.clearCompletions(),PelleUpgrade.keepInfinityChallenges.canBeApplied||InfinityChallenges.clearCompletions(),(!e&&A8.keepAutobuyers.isReached||Pelle.isDoomed)&&NormalChallenges.completeAll(),Achievement(133).isUnlocked&&!Pelle.isDoomed&&InfinityChallenges.completeAll(),player.challenge.normal.current=0,player.challenge.infinity.current=0}function b8(){player.sacrificed=v.D0,Currency.infinities.reset(),player.records.bestInfinity.time=Number.MAX_VALUE,player.records.bestInfinity.realTime=Number.MAX_VALUE,player.records.thisInfinity.time=0,player.records.thisInfinity.lastBuyTime=0,player.records.thisInfinity.realTime=0,player.dimensionBoosts=A8.keepInfinityUpgrades.isReached?4:0,player.galaxies=A8.keepInfinityUpgrades.isReached?1:0,player.partInfinityPoint=0,player.partInfinitied=0,player.IPMultPurchases=0,Currency.infinityPower.reset(),Currency.timeShards.reset(),player.records.thisEternity.time=0,player.records.thisEternity.realTime=0,player.totalTickGained=0,player.eterc8ids=50,player.eterc8repl=40,Player.resetRequirements("eternity")}function v8(){if(Perk.autounlockEU1.canBeApplied)for(const e of[1,2,3])player.eternityUpgrades.add(e)}function E8(){if(player.eternityUpgrades.size<6&&Perk.autounlockEU2.canBeApplied){const e=S8.all.filter((e=>e.id>3));for(const t of e)player.eternityPoints.gte(t.cost/1e10)&&player.eternityUpgrades.add(t.id)}}function T8(){player.dilation.active&&player.options.confirmations.dilation?Modal.exitDilation.show():player.options.confirmations.eternity?Modal.eternity.show():f8()}function _8(){return Pelle.isDisabled("eternityMults")?new Decimal(1):new Decimal(getAdjustedGlyphEffect("timeetermult")).timesEffectsOf(RealityUpgrade(3),Achievement(113)).pow(AlchemyResource.eternity.effectValue)}class C8{constructor(e){this.config=e}get isReached(){return Pelle.isDoomed&&this.config.givenByPelle?this.config.givenByPelle():Currency.eternities.gte(this.config.eternities)}}const A8=mapGameDataToObject(GameDatabase.eternity.milestones,(e=>(e.isBaseResource,new C8(e))));class k8 extends x{get currency(){return Currency.eternityPoints}get set(){return player.eternityUpgrades}}class w8 extends k{constructor(){super({}),this.cachedCost=new Lazy((()=>this.costAfterCount(player.epmultUpgrades))),this.cachedEffectValue=new Lazy((()=>v.D5.pow(player.epmultUpgrades)))}get isAffordable(){return!Pelle.isDoomed&&Currency.eternityPoints.gte(this.cost)}get cost(){return this.cachedCost.value}get boughtAmount(){return player.epmultUpgrades}set boughtAmount(e){const t=Math.clampMin(e-player.epmultUpgrades,0);player.epmultUpgrades=e,this.cachedCost.invalidate(),this.cachedEffectValue.invalidate(),Autobuyer.eternity.bumpAmount(v.D5.pow(t))}get isCustomEffect(){return!0}get effectValue(){return this.cachedEffectValue.value}purchase(){return!!this.isAffordable&&(Currency.eternityPoints.subtract(this.cost),++this.boughtAmount,!0)}buyMax(e){if(!this.isAffordable)return!1;if(RealityUpgrade(15).isLockingMechanics)return e||RealityUpgrade(15).tryShowWarningModal(),!1;const t=bulkBuyBinarySearch(Currency.eternityPoints.value,{costFunction:this.costAfterCount,cumulative:!0,firstCost:this.cost},this.boughtAmount);return!!t&&(Currency.eternityPoints.subtract(t.purchasePrice),this.boughtAmount+=t.quantity,!0)}reset(){this.boughtAmount=0}get costIncreaseThresholds(){return[v.E100,Decimal.NUMBER_MAX_VALUE,v.E1300,v.E4000]}costAfterCount(e){const t=S8.epMult.costIncreaseThresholds,i=[50,100,500,1e3];for(let a=0;a<t.length;a++){const n=Decimal.pow(i[a],e).times(500);if(n.lt(t[a]))return n}return v.E3.pow(e+Math.pow(Math.clampMin(e-1334,0),1.2)).times(500)}}const S8=mapGameDataToObject(GameDatabase.eternity.upgrades,(e=>new k8(e)));function x8(){initializeChallengeCompletions(),initializeResourcesAfterEternity(),resetInfinityRuns(),InfinityDimensions.fullReset(),Replicanti.reset(),resetChallengeStuff(),AntimatterDimensions.reset(),player.replicanti.galaxies=0,Currency.infinityPoints.reset(),InfinityDimensions.resetAmount(),player.records.bestInfinity.bestIPminEternity=v.D0,player.records.thisEternity.bestEPmin=v.D0,resetTimeDimensions(),resetTickspeed(),player.records.thisInfinity.maxAM=v.D0,player.records.thisEternity.maxAM=v.D0,Currency.antimatter.reset(),playerInfinityUpgradesOnReset(),AchievementTimers.marathon2.reset(),ECTimeStudyState.invalidateCachedRequirements()}S8.epMult=new w8;class R8 extends k{constructor(e,t){const i=e.effect,a=al([{},e]);a.effect=()=>i(t.completions),super(a),this._challenge=t}get isEffectActive(){return this._challenge.completions>0}}class I8 extends k{constructor(e){super(e),this._fullId=`eterc${this.id}`,this._reward=new R8(e.reward,this)}get fullId(){return this._fullId}get isUnlocked(){return player.challenge.eternity.unlocked===this.id}get isRunning(){return player.challenge.eternity.current===this.id}get isEffectActive(){return this.isRunning}get hasUnlocked(){return 0!==(player.reality.unlockedEC&1<<this.id)}set hasUnlocked(e){e&&(player.reality.unlockedEC|=1<<this.id)}get completions(){const e=player.eternityChalls[this.fullId];return void 0===e?0:e}set completions(e){player.eternityChalls[this.fullId]=Math.min(e,this.maxCompletions)}get maxCompletions(){return Enslaved.isRunning&&1===this.id?1e3:5}get remainingCompletions(){return this.maxCompletions-this.completions}get isFullyCompleted(){return this.completions===this.maxCompletions}get maxValidCompletions(){if(4!==this.id&&12!==this.id)return this.maxCompletions;let e=this.completions;while(e<this.maxCompletions&&this.isWithinRestrictionAtCompletions(e))e++;return e}get gainedCompletionStatus(){const e={gainedCompletions:0,hasMoreCompletions:!1,totalCompletions:this.completions};if(this.isFullyCompleted)return e;if(!Perk.studyECBulk.isBought)return this.canBeCompleted&&(++e.totalCompletions,e.gainedCompletions=1),e;let t=this.completionsAtIP(player.records.thisEternity.maxIP);const i=this.maxValidCompletions;return t>i&&(t=i,e.failedRestriction=this.config.failedRestriction),e.totalCompletions=t,e.gainedCompletions=t-this.completions,e.hasMoreCompletions=this.completions+e.gainedCompletions<this.maxCompletions,e.nextGoalAt=this.goalAtCompletions(e.totalCompletions),e}get initialGoal(){return Pelle.isDoomed&&this.config.pelleGoal?this.config.pelleGoal:this.config.goal}get goalIncrease(){return Pelle.isDoomed&&this.config.pelleGoalIncrease?this.config.pelleGoalIncrease:this.config.goalIncrease}get currentGoal(){return this.goalAtCompletions(this.completions)}get isGoalReached(){return player.records.thisEternity.maxIP.gte(this.currentGoal)}get canBeCompleted(){return this.isGoalReached&&this.isWithinRestriction}goalAtCompletions(e){return e>0?this.initialGoal.times(this.goalIncrease.pow(Math.min(e,this.maxCompletions-1))):this.initialGoal}completionsAtIP(e){if(e.lt(this.initialGoal))return 0;const t=1+e.dividedBy(this.initialGoal).log10()/this.goalIncrease.log10();return Math.min(Math.floor(t),this.maxCompletions)}addCompletion(e=!1){this.completions++,4!==this.id&&12!==this.id||!e||this.tryFail(!0),6===this.id&&GameCache.dimensionMultDecrease.invalidate(),11===this.id&&GameCache.tickSpeedMultDecrease.invalidate()}requestStart(){Tab.challenges.eternity.isUnlocked&&!this.isRunning&&(GameEnd.creditsEverClosed||(player.options.confirmations.challenges?this.isUnlocked&&Modal.startEternityChallenge.show(this.id):this.start()))}start(e){if(M8.isRunning)return!1;if(!this.isUnlocked)return!1;const t=player.requirementChecks.reality.slowestBH<=1e-300;if(12===this.id&&ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&t)return e||ImaginaryUpgrade(24).tryShowWarningModal("начать 12-е Испытание Вечности"),!1;if(7===this.id&&ImaginaryUpgrade(15).isLockingMechanics&&TimeDimension(1).amount.gt(0))return e||ImaginaryUpgrade(15).tryShowWarningModal("начать 7-е Испытание Вечности"),!1;const i=getGameSpeedupFactor();return Player.canEternity&&eternity(!1,e,{enteringEC:!0}),player.challenge.eternity.current=this.id,12===this.id&&(i<.001&&SecretAchievement(42).unlock(),player.requirementChecks.reality.slowestBH=1),Enslaved.isRunning&&(6===this.id&&5===this.completions&&EnslavedProgress.ec6.giveProgress(),!e&&EnslavedProgress.challengeCombo.hasProgress&&Tab.challenges.normal.show()),x8(),!0}get reward(){return this._reward}get isWithinRestriction(){return this.isWithinRestrictionAtCompletions(this.completions)}isWithinRestrictionAtCompletions(e){return void 0===this.config.restriction||this.config.checkRestriction(this.config.restriction(e))}exit(e){Player.isInAntimatterChallenge&&Player.antimatterChallenge.exit(),player.challenge.eternity.current=0,e||(player.respec=!0),eternity(!0)}fail(e=!1){let t;this.exit(!1),e?4===this.id?t=e=>`4-е Испытание Вечности было автоматически выполнено, и оказалось, что следующее выполнение требует иметь меньше бесконечностей (не более ${formatInt(e)} бесконечностей), чем было у вас`:12===this.id&&(t=e=>`12-е Испытание Вечности было автоматически выполнено, и оказалось, что следующее выполнение требует провести в нём меньше времени по игровому времяисчислению (не более ${format(e,0,1)} секунды), чем провели вы`):4===this.id?t=e=>`Вы провалили 4-е Испытание Вечности, набрав больше ${formatInt(e)} бесконечностей`:12===this.id&&(t=e=>`Вы провалили 12-е Испытание Вечности, проведя в нём больше ${format(e,0,1)} секунды по игровому времяисчислению`),Modal.message.show(`${t(this.config.restriction(this.completions))}, вследствие чего вы покинули Испытание в принудительном порядке.`,{closeEvent:GAME_EVENT.REALITY_RESET_AFTER},1),EventHub.dispatch(GAME_EVENT.CHALLENGE_FAILED)}tryFail(e=!1){return!(!this.isRunning||this.isWithinRestriction)&&(this.fail(e),!0)}}const M8=I8.createAccessor(GameDatabase.challenges.eternity);Object.defineProperty(M8,"current",{get:()=>player.challenge.eternity.current>0?M8(player.challenge.eternity.current):void 0}),Object.defineProperty(M8,"isRunning",{get:()=>0!==player.challenge.eternity.current});const D8={all:M8.index.compact(),get completions(){return D8.all.map((e=>e.completions)).sum()},get maxCompletions(){return D8.all.map((e=>e.maxCompletions)).sum()},get remainingCompletions(){return D8.all.map((e=>e.remainingCompletions)).sum()},autoComplete:{tick(){const e=TimeDimension(1).amount.gt(0),t=RealityUpgrade(12).isLockingMechanics||ImaginaryUpgrade(15).isLockingMechanics&&e&&!Array.range(1,6).some((e=>!M8(e).isFullyCompleted));if(!player.reality.autoEC||Pelle.isDisabled("autoec")||t)return void(player.reality.lastAutoEC=Math.clampMax(player.reality.lastAutoEC,this.interval));if(Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied){let t=this.nextChallenge;while(void 0!==t){var i;while(!t.isFullyCompleted)t.addCompletion(!0);if(t=this.nextChallenge,ImaginaryUpgrade(15).isLockingMechanics&&7===(null===(i=t)||void 0===i?void 0:i.id)&&e)break}return}const a=this.interval;let n=this.nextChallenge;while(player.reality.lastAutoEC-a>0&&void 0!==n)player.reality.lastAutoEC-=a,n.addCompletion(!0),n=this.nextChallenge;player.reality.lastAutoEC%=a},get nextChallenge(){return D8.all.find((e=>!e.isFullyCompleted))},get interval(){if(!Perk.autocompleteEC1.canBeApplied)return 1/0;let e=Effects.min(Number.MAX_VALUE,Perk.autocompleteEC1,Perk.autocompleteEC2,Perk.autocompleteEC3);return e/=VUnlocks.fastAutoEC.effectOrDefault(1),TimeSpan.fromMinutes(e).totalMilliseconds}}},P8={glyphs:[],realityProps:void 0,get active(){return Modal.reality.isOpen},get choiceCount(){return Effects.max(1,Perk.firstPerk)*Ra.unlocks.extraGlyphChoicesAndRelicShardRarityAlwaysMax.effectOrDefault(1)},glyphUncommonGuarantee(e,t){const i=1.5,a=t.uniform();let n;do{n=GlyphGenerator.randomStrength(t)}while(n<i);e.some((e=>e.strength>=i))||(e[Math.floor(a*e.length)].strength=n)},glyphList(e,t,i){const a=Math.clampMin(e,4);let n=[];const s=i.rng||new GlyphGenerator.RealGlyphRNG,r=[];if(GlyphGenerator.isUniformityActive)n=GlyphGenerator.uniformGlyphs(t,s,player.realities);else{for(let e=0;e<a;++e)r.push(GlyphGenerator.randomType(s,r));for(let e=0;e<a;++e)n.push(GlyphGenerator.randomGlyph(t,s,r[e]))}return this.glyphUncommonGuarantee(n,s),n=n.slice(0,e),!i.rng&&i.isChoosingGlyph&&s.finalize(),n},generate(e,t=gainedGlyphLevel()){this.glyphs=this.glyphList(e,t,{isChoosingGlyph:!0})},update(e){if(void 0!==this.realityProps){if(e.rawLevel>this.realityProps.gainedGlyphLevel.rawLevel){this.realityProps.gainedGlyphLevel.rawLevel=e.rawLevel;for(const t of this.glyphs)t.rawLevel=e.rawLevel}if(e.actualLevel>this.realityProps.gainedGlyphLevel.actualLevel){this.realityProps.gainedGlyphLevel.actualLevel=e.actualLevel;for(const t of this.glyphs)t.level=e.actualLevel,calculateGlyph(t)}}},select(e,t){const i=this.glyphs[e];t?GlyphSacrificeHandler.removeGlyph(i,!0):GameCache.glyphInventorySpace.value>0?Glyphs.addToInventory(i):AutoGlyphProcessor.getRidOfGlyph(i),this.glyphs=[],this.realityProps=void 0},get upcomingGlyphs(){if(Perk.firstPerk.isEffectActive)return this.glyphList(this.choiceCount,gainedGlyphLevel(),{isChoosingGlyph:!1});const e=this.glyphList(4,gainedGlyphLevel(),{isChoosingGlyph:!1});return[e[this.indexWithoutSTART]]},get indexWithoutSTART(){const e=player.realities*(player.reality.initialSeed%5+3);return permutationIndex(4,e)[0]}};function U8(){return player.records.thisReality.maxEP.exponent>=4e3&&TimeStudy.reality.isBought}function G8(e,t=!0){const i=Enslaved.boostReality&&t?Enslaved.realityBoostRatio-1:0,a=AlchemyResource.multiversal.effectValue,n=(a+1)*(i+1)+player.partSimulatedReality-1;return e&&(player.partSimulatedReality=n-Math.floor(n)),Math.floor(n)}function N8(){!P8.active&&U8()&&(GameEnd.creditsEverClosed||(player.options.confirmations.glyphSelection||ui.view.shiftDown?Modal.reality.show():0!==GameCache.glyphInventorySpace.value?B8(!1):Modal.message.show("В инвентаре нет места для новых глифов. Чтобы удалить глиф и освободить ячейку, нажмите на него, зажав клавишу Shift.",{closeEvent:GAME_EVENT.GLYPHS_CHANGED})))}function B8(e,t){player.options.animations.reality?(L8(),setTimeout(O8,3e3,e,t)):O8(e,t)}function O8(e,t){if(U8()){if(0===player.realities)player.reality.seed=player.reality.initialSeed,Glyphs.addToInventory(GlyphGenerator.startingGlyph(gainedGlyphLevel())),Glyphs.addToInventory(GlyphGenerator.companionGlyph(Currency.eternityPoints.value));else if(Perk.firstPerk.isEffectActive)if(P8.generate(P8.choiceCount),void 0===t)if(EffarigUnlock.glyphFilter.isUnlocked){const t=AutoGlyphProcessor.pick(P8.glyphs),i=player.options.confirmations.glyphSelection?e:!AutoGlyphProcessor.wouldKeep(t);i||0===GameCache.glyphInventorySpace.value?AutoGlyphProcessor.getRidOfGlyph(t):Glyphs.addToInventory(t)}else P8.select(Math.floor(Math.random()*P8.choiceCount),e);else P8.select(t,e);else P8.generate(4),P8.select(P8.indexWithoutSTART,e);Y8(H8(!1,!0)),PerkNetwork.updatePerkColor()}}function L8(){document.getElementById("ui").style.userSelect="none",document.getElementById("ui").style.animation="a-realize 10s 1",document.getElementById("realityanimbg").style.animation="a-realizebg 10s 1",document.getElementById("realityanimbg").style.display="block",Theme.current().isDark()?document.getElementById("realityanimbg").style.filter="invert(1)":document.getElementById("realityanimbg").style.filter="",setTimeout((()=>{document.getElementById("realityanimbg").play(),document.getElementById("realityanimbg").currentTime=0,document.getElementById("realityanimbg").play()}),2e3),setTimeout((()=>{document.getElementById("ui").style.userSelect="auto",document.getElementById("ui").style.animation="",document.getElementById("realityanimbg").style.animation="",document.getElementById("realityanimbg").style.display="none"}),1e4)}function $8(e,t){let i;const a=P8.glyphList(P8.choiceCount,e,{rng:t});let n;EffarigUnlock.glyphFilter.isUnlocked?(i=AutoGlyphProcessor.pick(a),n=AutoGlyphProcessor.wouldKeep(i)):(i=a[0],n=!0),n&&GameCache.glyphInventorySpace.value>0?Glyphs.addToInventory(i):AutoGlyphProcessor.getRidOfGlyph(i)}function H8(e,t=!1){const i={glyphUndo:!1,restoreCelestialState:!1};return e?Object.assign(i,{reset:!0}):Object.assign(i,{reset:!1,gainedRM:MachineHandler.gainedRealityMachines,gainedGlyphLevel:gainedGlyphLevel(),gainedShards:Effarig.shardsGained,simulatedRealities:G8(!0),alreadyGotGlyph:t})}function F8(){!P8.active&&U8()&&Y8(H8(!1,!1))}function q8(e){const t=e.gainedRM.dividedBy(Math.clampMin(5e-4,Time.thisRealityRealTime.totalMinutes));player.records.bestReality.RMmin.lt(t)&&(player.records.bestReality.RMmin=t,player.records.bestReality.RMminSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e)))),player.records.bestReality.glyphLevel<e.gainedGlyphLevel.actualLevel&&(player.records.bestReality.glyphLevel=e.gainedGlyphLevel.actualLevel,player.records.bestReality.glyphLevelSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e)))),player.records.bestReality.time=Math.min(player.records.thisReality.time,player.records.bestReality.time),player.records.thisReality.realTime<player.records.bestReality.realTime&&(player.records.bestReality.realTime=player.records.thisReality.realTime,player.records.bestReality.speedSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e))))}function V8(e){const t=e.simulatedRealities+1,i=t+binomialDistribution(t,Achievement(154).effectOrDefault(0)),a=Currency.realityMachines.gte(MachineHandler.hardcapRM)?v.D0:e.gainedRM;if(Currency.realityMachines.add(a.times(t)),q8(e),addRealityTime(player.records.thisReality.time,player.records.thisReality.realTime,a,e.gainedGlyphLevel.actualLevel,i,t,MachineHandler.projectedIMCap),Currency.realities.add(i),Currency.perkPoints.add(i),TeresaUnlocks.effarig.canBeApplied&&Currency.relicShards.add(e.gainedShards*t),t>1&&Enslaved.boostReality&&(Time.thisRealityRealTime.totalSeconds<1?player.celestials.enslaved.storedReal*=1-Time.thisRealityRealTime.totalSeconds:player.celestials.enslaved.storedReal=0,Enslaved.boostReality=!1),Teresa.isRunning){const e=Teresa.runRewardMultiplier,t=Teresa.rewardMultiplier(player.antimatter),i=t>e,a=`Вы выполнили Реальность Терезы! ${i?`Поскольку вы достигли большего количества антиматерии, награда\n      возросла с ${format(e,2,2)} до ${format(t,2,2)}`:"Поскольку вы не достигли большего количества антиматерии, награда\n      не возросла"}.`;if(Modal.message.show(a,{},2),Currency.antimatter.gt(player.celestials.teresa.bestRunAM)){let e;player.celestials.teresa.bestRunAM=Currency.antimatter.value,player.celestials.teresa.bestAMSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e))),e=0===Currency.imaginaryMachines.value?player.reality.maxRM:v.E10000.times(Currency.imaginaryMachines.value),player.celestials.teresa.lastRepeatedMachines=player.celestials.teresa.lastRepeatedMachines.clampMin(e)}Teresa.quotes.completeReality.show()}Effarig.isRunning&&!EffarigUnlock.reality.isUnlocked&&(EffarigUnlock.reality.unlock(),Effarig.quotes.completeReality.show()),Enslaved.isRunning&&Enslaved.completeRun(),V.isRunning&&V.quotes.realityComplete.show()}function Y8(e){if(e.reset)return void j8(e);EventHub.dispatch(GAME_EVENT.REALITY_RESET_BEFORE);const t=e.simulatedRealities+(e.alreadyGotGlyph?0:1),i=GlyphGenerator.getRNG(!1),a=gainedGlyphLevel();if(j8(e),t<100){for(let n=0;n<t;n++)if(P8.generate(P8.choiceCount,a),EffarigUnlock.glyphFilter.isUnlocked){const t=P8.glyphList(P8.choiceCount,e.gainedGlyphLevel,{rng:i}),a=AutoGlyphProcessor.pick(t);AutoGlyphProcessor.wouldKeep(a)&&0!==GameCache.glyphInventorySpace.value?Glyphs.addToInventory(a):AutoGlyphProcessor.getRidOfGlyph(a)}else P8.select(Math.floor(Math.random()*P8.choiceCount),!1);return void Glyphs.processSortingAfterReality()}const n={};let s=!1;const r={toGenerate:0,sampleStats:generatedTypes.map((e=>({type:e,count:0,totalSacrifice:0,varProdSacrifice:0}))),totalStats:{count:0,totalSacrifice:0,varProdSacrifice:0}},o=(e,t)=>{const i=e.totalSacrifice/e.count;e.totalSacrifice+=t,e.count++;const a=e.totalSacrifice/e.count;1!==e.count&&(e.varProdSacrifice+=(t-i)*(t-a))},l=(e,t)=>{if(0===e.count)return 0;const i=e.totalSacrifice/e.count,a=Math.sqrt(e.varProdSacrifice/e.count);return normalDistribution(i*t,a*Math.sqrt(t))},c=()=>{if(s){const t=P8.glyphList(P8.choiceCount,e.gainedGlyphLevel,{rng:i}),a=AutoGlyphProcessor.pick(t),n=GlyphSacrificeHandler.glyphSacrificeGain(a),s=r.sampleStats.find((e=>e.type===a.type));o(s,n),o(r.totalStats,n)}else $8(e.gainedGlyphLevel,i),VUnlocks.autoAutoClean.canBeApplied&&player.reality.autoAutoClean&&Glyphs.autoClean()},u=Math.min(t,1e4);Async.run(c,t,{batchSize:100,maxTime:33,sleepTime:1,asyncEntry:e=>{GameIntervals.stop(),ui.$viewModel.modal.progressBar={label:"Симуляция усиленной реальности",info:()=>`Игра вычисляет, какие глифы вы получили бы, если бы повторили\n            эту реальность ${quantifyInt("раз",t)}. Опция "Быстрые глифы"\n            ускоряет вычисления,\n            но при этом все оставшиеся глифы автоматически жертвуются. Опция "Пропустить"\n            завершит симуляцию, но вы не получите ни оставшиеся глифы, ни их жертвенную ценность.\n            ${Ra.unlocks.unlockGlyphAlchemy.canBeApplied?"При использовании любой из этих опций\n            вы не получите алхимическую ценность оставшихся глифов.":""}`,progressName:"Глифов",current:e,max:t,startTime:Date.now(),buttons:[{text:"Быстрые глифы",condition:(e,t)=>t-e>u,click:()=>{s=!0,r.toGenerate=n.remaining,n.maxIter-=n.remaining-u,n.remaining=u,ui.$viewModel.modal.progressBar.max=n.maxIter}},{text:"Пропустить",condition:()=>!0,click:()=>{n.maxIter-=n.remaining,n.remaining=0}}]}},asyncProgress:e=>{ui.$viewModel.modal.progressBar.current=e},asyncExit:()=>{ui.$viewModel.modal.progressBar=void 0,GameIntervals.start()},then:()=>{if(r.toGenerate>0)if(AutoGlyphProcessor.scoreMode===AUTO_GLYPH_SCORE.LOWEST_SACRIFICE){let e=l(r.totalStats,r.toGenerate);const t=generatedTypes.filter((e=>EffarigUnlock.reality.isUnlocked||"effarig"!==e)),i=t.map((e=>player.reality.glyphs.sac[e])).sort(((e,t)=>e-t)),a=[];for(const s of t)a.push({type:s,value:player.reality.glyphs.sac[s]});const n=Object.values(a).sort(((e,t)=>e.value-t.value));for(let s=0;s<i.length-1;s++){let t=0;for(let e=0;e<=s;e++)t+=i[s+1]-i[e];const a=Math.clampMax(t,e);e-=a;for(let e=0;e<=s;e++)i[e]+=a/(s+1);if(0===e)break}for(let s=0;s<i.length;s++)i[s]+=e/i.length;for(let s=0;s<i.length;s++)player.reality.glyphs.sac[n[s].type]=i[s]}else for(const e of r.sampleStats){const t=r.toGenerate*e.count/u;player.reality.glyphs.sac[e.type]+=l(e,t)}},progress:n}),Glyphs.processSortingAfterReality()}function j8(e){const t=Currency.eternityPoints.value.plus(gainedEternityPoints());player.records.bestReality.bestEP.lt(t)&&(player.records.bestReality.bestEP=new Decimal(t),player.records.bestReality.bestEPSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e))));const i=player.records.thisReality.realTime,a=e.reset;a||V8(e),e.glyphUndo||(Glyphs.clearUndo(),player.reality.respec&&respecGlyphs(),player.celestials.ra.disCharge&&disChargeAll()),player.options.automatorEvents.clearOnReality&&AutomatorData.clearEventLog(),Player.automatorUnlocked&&AutomatorBackend.state.forceRestart&&AutomatorBackend.start(AutomatorBackend.state.topLevelScript);const n=z8();if(recalculateAllGlyphs(),Glyphs.updateMaxGlyphCount(!0),player.sacrificed=v.D0,Q8(),initializeChallengeCompletions(!0),Currency.infinities.reset(),Currency.infinitiesBanked.reset(),player.records.bestInfinity.time=Number.MAX_VALUE,player.records.bestInfinity.realTime=Number.MAX_VALUE,player.records.thisInfinity.time=0,player.records.thisInfinity.lastBuyTime=0,player.records.thisInfinity.realTime=0,player.dimensionBoosts=0,player.galaxies=0,player.partInfinityPoint=0,player.partInfinitied=0,player.break=!1,player.IPMultPurchases=0,Currency.infinityPower.reset(),Currency.timeShards.reset(),Replicanti.reset(!0),Currency.eternityPoints.reset(),EternityUpgrade.epMult.reset(),PelleUpgrade.eternitiesNoReset.canBeApplied||Currency.eternities.reset(),player.records.thisEternity.time=0,player.records.thisEternity.realTime=0,player.records.bestEternity.time=Number.MAX_VALUE,player.records.bestEternity.realTime=Number.MAX_VALUE,PelleUpgrade.keepEternityUpgrades.canBeApplied||player.eternityUpgrades.clear(),player.totalTickGained=0,PelleUpgrade.keepEternityChallenges.canBeApplied||(player.eternityChalls={}),player.reality.unlockedEC=0,player.reality.lastAutoEC=0,player.challenge.eternity.current=0,PelleUpgrade.timeStudiesNoReset.canBeApplied||(player.challenge.eternity.unlocked=0),player.challenge.eternity.requirementBits=0,player.respec=!1,player.eterc8ids=50,player.eterc8repl=40,e.glyphUndo?player.requirementChecks.reality.maxGlyphs=Math.max(Glyphs.bestUndoGlyphCount,player.requirementChecks.reality.maxGlyphs):Player.resetRequirements("reality"),player.records.thisReality.time=0,player.records.thisReality.realTime=0,player.records.thisReality.maxReplicanti=v.D0,PelleUpgrade.timeStudiesNoReset.canBeApplied||Currency.timeTheorems.reset(),player.celestials.v.STSpent=0,PelleUpgrade.timeStudiesNoReset.canBeApplied||(player.dilation.studies=[],player.dilation.active=!1),PelleUpgrade.dilationUpgradesNoReset.canBeApplied||(player.dilation.upgrades.clear(),player.dilation.rebuyables={1:0,2:0,3:0,11:0,12:0,13:0}),PelleUpgrade.tachyonParticlesNoReset.canBeApplied||Currency.tachyonParticles.reset(),player.dilation.nextThreshold=v.E3,player.dilation.baseTachyonGalaxies=0,player.dilation.totalTachyonGalaxies=0,Currency.dilatedTime.reset(),player.records.thisInfinity.maxAM=v.D0,player.records.thisEternity.maxAM=v.D0,player.records.thisReality.maxDT=v.D0,player.dilation.lastEP=v.DM1,Currency.antimatter.reset(),Enslaved.autoReleaseTick=0,player.celestials.enslaved.hasSecretStudy=!1,player.celestials.laitela.entropy=0,playerInfinityUpgradesOnReset(),resetInfinityRuns(),resetEternityRuns(),InfinityDimensions.fullReset(),fullResetTimeDimensions(),resetChallengeStuff(),AntimatterDimensions.reset(),secondSoftReset(!1),player.celestials.ra.peakGamespeed=1,InfinityDimensions.resetAmount(),player.records.thisInfinity.bestIPmin=v.D0,player.records.bestInfinity.bestIPminEternity=v.D0,player.records.thisEternity.bestEPmin=v.D0,player.records.thisEternity.bestInfinitiesPerMs=v.D0,player.records.thisEternity.bestIPMsWithoutMaxAll=v.D0,player.records.bestEternity.bestEPminReality=v.D0,player.records.thisReality.bestEternitiesPerMs=v.D0,player.records.thisReality.bestRMmin=v.D0,player.records.thisReality.bestRMminVal=v.D0,player.records.thisReality.bestRSmin=0,player.records.thisReality.bestRSminVal=0,resetTimeDimensions(),resetTickspeed(),AchievementTimers.marathon2.reset(),Currency.infinityPoints.reset(),RealityUpgrade(10).isBought?X8():Tab.dimensions.antimatter.show(),Lazy.invalidateAll(),ECTimeStudyState.invalidateCachedRequirements(),EventHub.dispatch(GAME_EVENT.REALITY_RESET_AFTER),TeresaUnlocks.startEU.canBeApplied)for(const s of[1,2,3,4,5,6])player.eternityUpgrades.add(s);else RealityUpgrade(14).isBought&&applyEU1();a||Ra.applyAlchemyReactions(i),player.reality.gainedAutoAchievements=!1,player.reality.hasCheckedFilter=!1,(e.restoreCelestialState||player.options.retryCelestial)&&W8(n),Pelle.isDoomed&&PelleUpgrade.keepAutobuyers.canBeApplied&&Autobuyer.bigCrunch.hasMaxedInterval&&(player.break=!0)}function W8(e){player.celestials.teresa.run=e.teresa,player.celestials.teresa.run&&Teresa.initializeRun(),player.celestials.effarig.run=e.effarig,player.celestials.effarig.run&&Effarig.initializeRun(),player.celestials.enslaved.run=e.enslaved,player.celestials.enslaved.run&&Enslaved.initializeRun(),player.celestials.v.run=e.v,player.celestials.v.run&&V.initializeRun(),player.celestials.ra.run=e.ra,player.celestials.ra.run&&Ra.initializeRun(),player.celestials.laitela.run=e.laitela,player.celestials.laitela.run&&Laitela.initializeRun()}function X8(e=!0){if(e&&!Pelle.isDoomed&&Currency.eternities.bumpTo(100),playerInfinityUpgradesOnReset(!1),EternityMilestone.keepAutobuyers.isReached&&NormalChallenges.completeAll(),(PelleUpgrade.replicantiStayUnlocked.canBeApplied||!Pelle.isDoomed&&player.eternities.gte(10))&&(Replicanti.amount=Replicanti.amount.clampMin(1),Replicanti.unlock(!0)),!Pelle.isDisabled("rupg10")){if(EternityMilestone.keepAutobuyers.isReached&&(player.auto.antimatterDims.all=player.auto.antimatterDims.all.map((e=>{var t;return{isUnlocked:!0,cost:1e14,interval:100,bulk:1e10,mode:e.mode,priority:e.priority,isActive:e.isActive,lastTick:null!==(t=e.lastTick)&&void 0!==t?t:player.records.realTimePlayed}}))),EternityMilestone.keepAutobuyers.isReached)for(const e of Autobuyers.all)void 0!==e.data.interval&&(e.data.interval=100);EternityMilestone.keepInfinityUpgrades.isReached&&!Player.isInAntimatterChallenge&&(player.dimensionBoosts=Math.max(4,player.dimensionBoosts)),EternityMilestone.keepInfinityUpgrades.isReached&&!Player.isInAntimatterChallenge&&(player.galaxies=Math.max(1,player.galaxies)),EternityMilestone.keepAutobuyers.isReached&&(player.break=!0),applyEU1()}}function z8(){const e={teresa:player.celestials.teresa.run,effarig:player.celestials.effarig.run,enslaved:player.celestials.enslaved.run,v:player.celestials.v.run,ra:player.celestials.ra.run,laitela:player.celestials.laitela.run};return player.celestials.teresa.run=!1,player.celestials.effarig.run=!1,Enslaved.isRunning&&(player.celestials.enslaved.run=!1,(Tabs.current.isHidden||Tabs.current._currentSubtab.isHidden)&&Tab.celestials.enslaved.show(),AutomatorData.recalculateErrors()),player.celestials.v.run=!1,player.celestials.ra.run=!1,player.celestials.laitela.run=!1,e}function K8(){return Object.values(player.celestials).some((e=>e.run))}function Q8(){if(!Perk.achievementGroup5.isBought){for(const e of Achievements.preReality)e.lock();player.reality.achTimer=0}}const J8={get scaleLog10(){return Math.log10(Number.MAX_VALUE)},get scaleFactor(){return PelleStrikes.eternity.hasStrike&&u9.amount.gte(v.E2000)?10:Pelle.isDoomed?2:AlchemyResource.cardinality.effectValue}};function Z8(e){if(e>0){player.replicanti.galaxies+=e,player.requirementChecks.eternity.noRG=!1;const t=Pelle.isDoomed?PelleUpgrade.replicantiGalaxyEM40.canBeApplied:EternityMilestone.replicantiNoReset.isReached;t||(player.dimensionBoosts=0,softReset(0,!0,!0))}}function e9(e){if(RealityUpgrade(6).isLockingMechanics)return void(e||RealityUpgrade(6).tryShowWarningModal());if(!u9.galaxies.canBuyMore)return;const t=u9.galaxies.gain;t<1||(player.replicanti.timer=0,u9.amount=Achievement(126).isUnlocked&&!Pelle.isDoomed?Decimal.pow10(u9.amount.log10()-LOG10_MAX_VALUE*t):v.D1,Z8(t))}function t9(){u9.galaxies.canBuyMore&&(RealityUpgrade(6).isLockingMechanics?RealityUpgrade(6).tryShowWarningModal():player.options.confirmations.replicantiGalaxy?Modal.replicantiGalaxy.show():e9(!1))}function i9(e,t){const i=t&&!RealityUpgrade(6).isLockingMechanics,a=v.E1.pow(e.plus(u9.amount.log10()));if(e.gt(Number.MAX_VALUE)||a.eq(0))return i&&Z8(u9.galaxies.max-player.replicanti.galaxies),u9.amount=s9(),e;if(!i){const t=e.minus(s9().log10()-u9.amount.log10()).clampMin(0);return u9.amount=Decimal.min(a,s9()),t}const n=Decimal.NUMBER_MAX_VALUE.log10(),s=e.toNumber()+u9.amount.log10(),r=Math.floor(Math.min(s/n,u9.galaxies.max-player.replicanti.galaxies)),o=n*r+s9().log10()-u9.amount.log10(),l=e.minus(o).clampMin(0);return u9.amount=Decimal.pow10(s-n*r).clampMax(s9()),Z8(r),l}function a9(e,t){let i=t||player.replicanti.interval;const a=u9.amount,n=void 0===e?a.gt(s9()):e;if(i=new Decimal(i),(TimeStudy(133).isBought&&!Achievement(138).isUnlocked||n)&&(i=i.times(10)),n){let e=(a.log10()-s9().log10())/J8.scaleLog10;PelleStrikes.eternity.hasStrike&&a.gte(v.E2000)&&(e-=Math.log10(5)*(2e3-s9().log10())/J8.scaleLog10),i=i.times(Decimal.pow(J8.scaleFactor,e))}return i=i.divide(n9(n)),V.isRunning&&(i=i.pow(2)),i}function n9(e){let t=v.D1;if(t=t.times(PelleRifts.decay.effectValue),t=t.times(Pelle.specialGlyphEffect.replication),t=t.times(ShopPurchase.replicantiPurchases.currentMult),Pelle.isDisabled("replicantiIntervalMult"))return t;const i=Effects.product(TimeStudy(62),TimeStudy(213),RealityUpgrade(2),RealityUpgrade(6),RealityUpgrade(23));return t=t.times(i),TimeStudy(132).isBought&&(t=t.times(Perk.studyPassive.isBought?3:1.5)),!e&&Achievement(134).isUnlocked&&(t=t.times(2)),t=t.times(getAdjustedGlyphEffect("replicationspeed")),GlyphAlteration.isAdded("replication")&&(t=t.times(Math.clampMin(Decimal.log10(u9.amount)*getSecondaryGlyphEffect("replicationdtgain"),1))),t=t.timesEffectsOf(AlchemyResource.replication,Ra.unlocks.continuousTTBoost.effects.replicanti),t}function s9(){return EffarigUnlock.infinity.canBeApplied?Currency.infinitiesTotal.value.pow(TimeStudy(31).isBought?120:30).clampMin(1).times(Decimal.NUMBER_MAX_VALUE):Decimal.NUMBER_MAX_VALUE}function r9(e){if(!player.replicanti.unl)return;const t=u9.amount;PerformanceStats.start("Replicanti"),EventHub.dispatch(GAME_EVENT.REPLICANTI_TICK_BEFORE);const i=a9(!1),a=u9.isUncapped,n=u9.galaxies.areBeingBought;let s=Decimal.divide(e+player.replicanti.timer,i);s.lt(100)?player.replicanti.timer=s.minus(s.floor()).times(i).toNumber():player.replicanti.timer=0,s=s.floor();const r=u9.amount.times(player.replicanti.chance);if(s.gte(100)||r.gte(10)&&s.gte(1)){let e=Math.log10(J8.scaleFactor)/J8.scaleLog10;V.isRunning&&(e*=2);let t=s.times(Math.log(player.replicanti.chance+1)).times(LOG10_E);if(a&&!u9.amount.lte(s9())||(t=i9(t,n)),a&&u9.amount.gte(s9())&&t.gt(0)){const a=a9(!0).div(i);t=t.div(a),u9.amount=Decimal.exp(t.div(LOG10_E).times(e).plus(1).ln()/e+u9.amount.clampMin(1).ln())}}else if(s.gt(1)){const e=Math.floor(s.toNumber()*Math.log2(1+player.replicanti.chance)),t=s.toNumber()-e/Math.log2(1+player.replicanti.chance);u9.amount=u9.amount.times(v.D2.pow(poissonDistribution(e)));for(let i=0;i<Math.floor(t);i++){const e=binomialDistribution(u9.amount,player.replicanti.chance);u9.amount=u9.amount.plus(e)}const a=t-Math.floor(t);player.replicanti.timer+=i.times(a).toNumber()}else if(s.eq(1)){const e=binomialDistribution(u9.amount,player.replicanti.chance);u9.amount=u9.amount.plus(e)}if(a||(u9.amount=Decimal.min(s9(),u9.amount)),Pelle.isDoomed&&u9.amount.log10()-t.log10()>308&&(u9.amount=t.times(1e308)),n&&u9.amount.gte(Decimal.NUMBER_MAX_VALUE)){const e=Autobuyer.replicantiGalaxy,t=e.canTick&&e.isEnabled;e9(t&&!u9.galaxies.isPlayerHoldingR)}player.records.thisReality.maxReplicanti=player.records.thisReality.maxReplicanti.clampMin(u9.amount),EventHub.dispatch(GAME_EVENT.REPLICANTI_TICK_AFTER),PerformanceStats.end()}function o9(){return Decimal.pow(Decimal.log2(u9.amount.clampMin(1)),2).plusEffectOf(TimeStudy(21)).timesEffectOf(TimeStudy(102)).clampMin(1).pow(getAdjustedGlyphEffect("replicationpow"))}class l9{get id(){throw new NotImplementedError}get value(){throw new NotImplementedError}set value(e){throw new NotImplementedError}get nextValue(){throw new NotImplementedError}get cost(){throw new NotImplementedError}set cost(e){throw new Error("Use baseCost to set cost")}get costIncrease(){throw new NotImplementedError}get baseCost(){return this.cost}set baseCost(e){throw new NotImplementedError}get cap(){}get isCapped(){return!1}get autobuyerMilestone(){throw new NotImplementedError}get canBeBought(){return!this.isCapped&&Currency.infinityPoints.gte(this.cost)&&0!==player.eterc8repl}purchase(){this.canBeBought&&(Currency.infinityPoints.subtract(this.cost),this.baseCost=Decimal.times(this.baseCost,this.costIncrease),this.value=this.nextValue,EternityChallenge(8).isRunning&&player.eterc8repl--,GameUI.update())}autobuyerTick(){while(this.canBeBought)this.purchase()}}const c9={chance:new class extends l9{get id(){return 1}get value(){return player.replicanti.chance}set value(e){player.replicanti.chance=e}get nextValue(){return this.nearestPercent(this.value+.01)}get cost(){return player.replicanti.chanceCost.dividedByEffectOf(PelleRifts.vacuum.milestones[1])}get baseCost(){return player.replicanti.chanceCost}set baseCost(e){player.replicanti.chanceCost=e}get costIncrease(){return 1e15}get cap(){return 1}get isCapped(){return this.nearestPercent(this.value)>=this.cap}get autobuyerMilestone(){return EternityMilestone.autobuyerReplicantiChance}autobuyerTick(){let e=Currency.infinityPoints.value.times(this.costIncrease-1).dividedBy(this.cost).plus(1).log(this.costIncrease);if(e=Math.round(100*(Math.min(this.value+.01*Math.floor(e),this.cap)-this.value)),e<=0)return;const t=this.cost.times(Decimal.pow(this.costIncrease,e).minus(1).dividedBy(this.costIncrease-1));Currency.infinityPoints.subtract(t),this.baseCost=this.baseCost.times(Decimal.pow(this.costIncrease,e)),this.value=this.nearestPercent(this.value+.01*e)}nearestPercent(e){return Math.round(100*e)/100}},interval:new class extends l9{get id(){return 2}get value(){return player.replicanti.interval}set value(e){player.replicanti.interval=e}get nextValue(){return Math.max(.9*this.value,this.cap)}get cost(){return player.replicanti.intervalCost.dividedByEffectOf(PelleRifts.vacuum.milestones[1])}get baseCost(){return player.replicanti.intervalCost}set baseCost(e){player.replicanti.intervalCost=e}get costIncrease(){return 1e10}get cap(){return Effects.min(50,TimeStudy(22))}get isCapped(){return this.value<=this.cap}get autobuyerMilestone(){return EternityMilestone.autobuyerReplicantiInterval}applyModifiers(e){return a9(void 0,e)}},galaxies:new class extends l9{get id(){return 3}get value(){return player.replicanti.boughtGalaxyCap}set value(e){player.replicanti.boughtGalaxyCap=e}get nextValue(){return this.value+1}get cost(){return this.baseCost.dividedByEffectsOf(TimeStudy(233),PelleRifts.vacuum.milestones[1])}get baseCost(){return player.replicanti.galCost}set baseCost(e){player.replicanti.galCost=e}get distantRGStart(){return 100+Effects.sum(GlyphSacrifice.replication)}get remoteRGStart(){return 1e3+Effects.sum(GlyphSacrifice.replication)}get costIncrease(){const e=this.value;let t=EternityChallenge(6).isRunning?v.E2.pow(e).times(v.E2):v.E5.pow(e).times(v.E25);return e>=this.distantRGStart&&(t=t.times(v.E50.pow(e-this.distantRGStart+5))),e>=this.remoteRGStart&&(t=t.times(v.E5.pow(Math.pow(e-this.remoteRGStart+1,2)))),t}get autobuyerMilestone(){return EternityMilestone.autobuyerReplicantiMaxGalaxies}get extra(){return Effects.max(0,TimeStudy(131))+PelleRifts.decay.milestones[2].effectOrDefault(0)}autobuyerTick(){const e=bulkBuyBinarySearch(Currency.infinityPoints.value,{costFunction:e=>this.baseCostAfterCount(e).dividedByEffectOf(TimeStudy(233)),firstCost:this.cost,cumulative:!0},this.value);e&&(Currency.infinityPoints.subtract(e.purchasePrice),this.value+=e.quantity,this.baseCost=this.baseCostAfterCount(this.value))}baseCostAfterCount(e){const t=170,i=EternityChallenge(6).isRunning?2:25,a=EternityChallenge(6).isRunning?2:5,n=100+Effects.sum(GlyphSacrifice.replication),s=1e3+Effects.sum(GlyphSacrifice.replication);let r=t+e*i+e*(e-1)/2*a;if(e>n){const t=50,i=5,a=e-n;r+=t*a*(a+2*i-1)/2}if(e>s){const t=5,i=e-s;r+=t*i*(i+1)*(2*i+1)/6}return Decimal.pow10(r)}}},u9={get areUnlocked(){return player.replicanti.unl},reset(e=!1){const t=!e&&EternityMilestone.unlockReplicanti.isReached;player.replicanti={unl:t,amount:t?v.D1:v.D0,timer:0,chance:.01,chanceCost:v.E150,interval:1e3,intervalCost:v.E140,boughtGalaxyCap:0,galaxies:0,galCost:v.E170}},unlock(e=!1){const t=v.E140.dividedByEffectOf(PelleRifts.vacuum.milestones[1]);player.replicanti.unl||(e||Currency.infinityPoints.gte(t))&&(e||Currency.infinityPoints.subtract(t),player.replicanti.unl=!0,player.replicanti.timer=0,u9.amount=v.D1)},get amount(){return player.replicanti.amount},set amount(e){player.replicanti.amount=e},get chance(){return c9.chance.value},galaxies:{isPlayerHoldingR:!1,get bought(){return player.replicanti.galaxies},get extra(){return Math.floor((Effects.sum(TimeStudy(225),TimeStudy(226))+Effarig.bonusRG)*TimeStudy(303).effectOrDefault(1))},get total(){return this.bought+this.extra},get max(){return c9.galaxies.value+c9.galaxies.extra},get canBuyMore(){return!!u9.amount.gte(Decimal.NUMBER_MAX_VALUE)&&this.bought<this.max},get areBeingBought(){const e=Autobuyer.replicantiGalaxy;return e.canTick&&e.isEnabled||!player.options.confirmations.replicantiGalaxy&&this.isPlayerHoldingR},get gain(){if(!this.canBuyMore)return 0;if(Achievement(126).isUnlocked){const e=u9.galaxies.max-player.replicanti.galaxies,t=u9.amount.log10();return Math.min(e,Math.floor(t/LOG10_MAX_VALUE))}return 1}},get isUncapped(){return TimeStudy(192).isBought||PelleRifts.vacuum.milestones[1].canBeApplied}};class d9{get amount(){throw new NotImplementedError}set amount(e){throw new NotImplementedError}add(e){this.amount+=e}get currency(){throw new NotImplementedError}get cost(){return this.costBase.times(this.costIncrement.pow(this.amount))}get costBase(){throw new NotImplementedError}get costIncrement(){throw new NotImplementedError}get bulkPossible(){return Perk.ttFree.canBeApplied?Math.floor(this.currency.value.divide(this.cost).log10()/this.costIncrement.log10()+1):Decimal.affordGeometricSeries(this.currency.value,this.cost,this.costIncrement,0).toNumber()}bulkCost(e){return this.cost.times(this.costIncrement.pow(e-1))}purchase(e){if(!this.canAfford)return!1;let t=!1;const i=this.bulkPossible,a=e=>Perk.ttFree.canBeApplied?this.currency.gte(e):this.currency.purchase(e);return e&&a(this.bulkCost(i))&&(Currency.timeTheorems.add(i),this.add(i),t=!0),a(this.cost)&&(Currency.timeTheorems.add(1),this.add(1),t=!0),t&&(player.requirementChecks.reality.noPurchasedTT=!1),h9.totalPurchased()>114&&PelleStrikes.ECs.trigger(),t}get canAfford(){return this.currency.gte(this.cost)&&!player.eternities.eq(0)}reset(){this.amount=0}}d9.am=new class extends d9{get amount(){return player.timestudy.amBought}set amount(e){player.timestudy.amBought=e}get currency(){return Currency.antimatter}get costBase(){return v.E20000}get costIncrement(){return v.E20000}},d9.ip=new class extends d9{get amount(){return player.timestudy.ipBought}set amount(e){player.timestudy.ipBought=e}get currency(){return Currency.infinityPoints}get costBase(){return v.D1}get costIncrement(){return v.E100}},d9.ep=new class extends d9{get amount(){return player.timestudy.epBought}set amount(e){player.timestudy.epBought=e}get currency(){return Currency.eternityPoints}get costBase(){return v.D1}get costIncrement(){return v.D2}bulkCost(e){return Perk.ttFree.canBeApplied?this.cost.times(this.costIncrement.pow(e-1)):this.costIncrement.pow(e+this.amount).subtract(this.cost)}};const h9={checkForBuying(e){return!(!PlayerProgress.realityUnlocked()&&!TimeDimension(1).bought)||(e||Modal.message.show("Прежде чем покупать Теоремы Времени, необходимо купить\n      хотя бы одно Измерение Времени.",{closeEvent:GAME_EVENT.REALITY_RESET_AFTER}),!1)},buyOne(e=!1,t){return this.checkForBuying(e)&&d9[t].purchase(!1)?1:0},buyOneOfEach(){if(!this.checkForBuying(!0))return 0;const e=this.buyOne(!0,"am"),t=this.buyOne(!0,"ip"),i=this.buyOne(!0,"ep");return e+t+i},buyMax(e=!1){if(!this.checkForBuying(e))return 0;const t=d9.am.purchase(!0),i=d9.ip.purchase(!0),a=d9.ep.purchase(!0);return t+i+a},totalPurchased(){return d9.am.amount+d9.ip.amount+d9.ep.amount},calculateTimeStudiesCost(){let e=TimeStudy.boughtNormalTS().map((e=>e.cost)).reduce(Number.sumReducer,0);const t=TimeStudy.eternityChallenge.current();return void 0!==t&&(e+=t.cost),Enslaved.isRunning&&player.celestials.enslaved.hasSecretStudy&&(e-=100),e}};class p9 extends R{constructor(e){super(e),this.registerEvents(e.checkEvent,(()=>this.tryUnlock()))}get automatorPoints(){return this.config.automatorPoints?this.config.automatorPoints:0}get name(){return this.config.name}get shortDescription(){return this.config.shortDescription?this.config.shortDescription():""}get requirement(){return"function"===typeof this.config.requirement?this.config.requirement():this.config.requirement}get lockEvent(){return"function"===typeof this.config.lockEvent?this.config.lockEvent():this.config.lockEvent}get currency(){return Currency.realityMachines}get bitIndex(){return this.id}get bits(){return player.reality.upgradeBits}set bits(e){player.reality.upgradeBits=e}get hasPlayerLock(){return 0!==(player.reality.reqLock.reality&1<<this.bitIndex)}set hasPlayerLock(e){e?player.reality.reqLock.reality|=1<<this.bitIndex:player.reality.reqLock.reality&=~(1<<this.bitIndex)}get isLockingMechanics(){var e,t,i;const a=null!==(e=null===(t=(i=this.config).bypassLock)||void 0===t?void 0:t.call(i))&&void 0!==e&&e;return this.hasPlayerLock&&this.isPossible&&!a&&!this.isAvailableForPurchase}setMechanicLock(e){this.hasPlayerLock=e}toggleMechanicLock(){this.hasPlayerLock=!this.hasPlayerLock}tryShowWarningModal(e){this.isPossible&&!this.isAvailableForPurchase&&Modal.upgradeLock.show({upgrade:this,isImaginary:!1,specialLockText:e})}get isAvailableForPurchase(){return 0!==(player.reality.upgReqs&1<<this.id)}get isPossible(){return!this.config.hasFailed||!this.config.hasFailed()}tryUnlock(){const e=PlayerProgress.realityUnlocked()||TimeStudy.reality.isBought;e&&!this.isAvailableForPurchase&&this.config.checkRequirement()&&(player.reality.upgReqs|=1<<this.id,GameUI.notify.reality(`Вы разблокировали Улучшение Реальности: ${this.config.name}`),this.hasPlayerLock=!1)}onPurchased(){EventHub.dispatch(GAME_EVENT.REALITY_UPGRADE_BOUGHT);const e=this.id;9!==e&&24!==e||Glyphs.refreshActive(),10===e&&(applyRUPG10(),EventHub.dispatch(GAME_EVENT.REALITY_UPGRADE_TEN_BOUGHT)),14===e&&applyEU1(),20===e&&player.blackHole[0].unlocked&&(player.blackHole[1].unlocked=!0),GameCache.staticGlyphWeights.invalidate()}}class m9 extends I{get currency(){return Currency.realityMachines}get boughtAmount(){return player.reality.rebuyables[this.id]}set boughtAmount(e){player.reality.rebuyables[this.id]=e}}p9.index=mapGameData(GameDatabase.reality.upgrades,(e=>e.id<6?new m9(e):new p9(e)));const y9=e=>p9.index[e],f9={all:p9.index.compact(),get allBought(){return 1+(player.reality.upgradeBits>>6)===1<<GameDatabase.reality.upgrades.length-5}};class g9 extends R{constructor(e){super(e),this.registerEvents(e.checkEvent,(()=>this.tryUnlock()))}get name(){return this.config.name}get requirement(){return"function"===typeof this.config.requirement?this.config.requirement():this.config.requirement}get lockEvent(){return"function"===typeof this.config.lockEvent?this.config.lockEvent():this.config.lockEvent}get currency(){return Currency.imaginaryMachines}get bitIndex(){return this.id}get bits(){return player.reality.imaginaryUpgradeBits}set bits(e){player.reality.imaginaryUpgradeBits=e}get hasPlayerLock(){return 0!==(player.reality.reqLock.imaginary&1<<this.bitIndex)}set hasPlayerLock(e){e?player.reality.reqLock.imaginary|=1<<this.bitIndex:player.reality.reqLock.imaginary&=~(1<<this.bitIndex)}get isLockingMechanics(){return this.hasPlayerLock&&this.isPossible&&!this.isAvailableForPurchase}setMechanicLock(e){this.hasPlayerLock=e}toggleMechanicLock(){this.hasPlayerLock=!this.hasPlayerLock}tryShowWarningModal(e){this.isPossible&&!this.isAvailableForPurchase&&Modal.upgradeLock.show({upgrade:this,isImaginary:!0,specialLockText:e})}get isAvailableForPurchase(){return 0!==(player.reality.imaginaryUpgReqs&1<<this.id)}get isPossible(){return!this.config.hasFailed||!this.config.hasFailed()}get canBeApplied(){return super.canBeApplied&&!this.pelleDisabled}get pelleDisabled(){return Pelle.isDoomed&&this.config.isDisabledInDoomed}tryUnlock(){MachineHandler.isIMUnlocked&&!this.isAvailableForPurchase&&this.config.checkRequirement()&&(player.reality.imaginaryUpgReqs|=1<<this.id,GameUI.notify.reality(`Вы разблокировали Мнимое Улучшение: ${this.config.name}`),this.hasPlayerLock=!1)}onPurchased(){if(EventHub.dispatch(GAME_EVENT.REALITY_UPGRADE_BOUGHT),this.id>=15&&this.id<=18&&(DarkMatterDimension(this.id-14).amount=v.D1,17===this.id&&Laitela.quotes.thirdDMD.show()),this.id>=15&&this.id<=19&&(TabNotification.laitelaUnlock.clearTrigger(),TabNotification.laitelaUnlock.tryTrigger()),21===this.id&&Laitela.quotes.finalRowIM.show(),22===this.id)for(const e of Object.keys(player.reality.glyphs.sac))player.reality.glyphs.sac[e]=v9(22).effectValue;25===this.id&&TabNotification.pelleUnlock.tryTrigger()}}class b9 extends I{get currency(){return Currency.imaginaryMachines}get boughtAmount(){return player.reality.imaginaryRebuyables[this.id]}get canBeApplied(){return super.canBeApplied&&!this.pelleDisabled}get pelleDisabled(){return Pelle.isDoomed}set boughtAmount(e){player.reality.imaginaryRebuyables[this.id]=e}onPurchased(){7===this.id&&GameCache.staticGlyphWeights.invalidate()}}g9.index=mapGameData(GameDatabase.reality.imaginaryUpgrades,(e=>e.id<=10?new b9(e):new g9(e)));const v9=e=>g9.index[e],E9={all:g9.index.compact(),get totalRebuyables(){const e=player.reality.imaginaryRebuyables;let t=0;for(const i in e)t+=e[i];return t},get totalSinglePurchase(){return this.all.countWhere((e=>e.isBought))},get allBought(){return 1+(player.reality.imaginaryUpgradeBits>>6)===1<<GameDatabase.reality.imaginaryUpgrades.length-5}};class T9 extends x{constructor(e){super(e),this.connectedPerks=[]}get automatorPoints(){return this.config.automatorPoints?this.config.automatorPoints:0}get label(){return this.config.label}get shortDescription(){return this.config.shortDescription?this.config.shortDescription():""}get currency(){return Currency.perkPoints}get set(){return player.reality.perks}get cost(){return 1}get isAvailableForPurchase(){return 0===this.id||this.connectedPerks.some((e=>e.isBought))}get canBeApplied(){return this.isBought&&!(Pelle.isDoomed&&Pelle.uselessPerks.includes(this.id))}initializeConnections(){this.connectedPerks=GameDatabase.reality.perkConnections[this.id].map((e=>C9.find(e)))}onPurchased(){if(void 0!==this.config.bumpCurrency&&this.config.bumpCurrency(),"УВ1"===this.label&&Currency.eternities.gt(0)&&applyEU1(),"ДНС"===this.label){Achievements.preReality.some((e=>!e.isUnlocked))&&(player.reality.gainedAutoAchievements=!0);for(const e of Achievements.preReality)e.unlock(!0)}GameCache.achievementPeriod.invalidate(),GameCache.buyablePerks.invalidate(),EventHub.dispatch(GAME_EVENT.PERK_BOUGHT)}}const _9=mapGameDataToObject(GameDatabase.reality.perks,(e=>new T9(e))),C9={all:_9.all,find(e){return C9.all.find((t=>t.id===e))}};for(const V of C9.all)V.initializeConnections();function A9(){player.reality.perks.every((e=>void 0!==C9.find(e)))||(dev.respecPerks(),Currency.perkPoints.gte(C9.all.length)?(dev.buyAllPerks(),Modal.message.show("Ваше сохранение содержало недопустимые Навыки, что было исправлено. Все Навыки принудительно куплены.")):Modal.message.show("Ваше сохранение содержало недопустимые Навыки, что было исправлено. Все Навыки принудительно сброшены, а Очки Умения, потраченные на них - возвращены."))}function k9(){bf.display("a-dilate",2),setTimeout((()=>{x9(),Pelle.isDoomed&&PelleStrikes.dilation.trigger()}),1e3)}function w9(e){bf.display("a-undilate",2),setTimeout((()=>{eternity(!1,!1,{switchingDilation:!0}),e&&e()}),1e3)}function S9(){if(!PlayerProgress.dilationUnlocked()||Pelle.isDoomed&&!Pelle.canDilateInPelle)return;const e=player.options.animations.dilation&&!bf.isDisplaying;player.dilation.active?player.options.confirmations.dilation?Modal.exitDilation.show():e?w9():eternity(!1,!1,{switchingDilation:!0}):player.options.confirmations.dilation?Modal.enterDilation.show():e?k9():x9()}function x9(e){return!!PlayerProgress.dilationUnlocked()&&(!GameEnd.creditsEverClosed&&(player.dilation.active?(eternity(!1,e,{switchingDilation:!0}),!1):(Achievement(136).unlock(),eternity(!1,e,{switchingDilation:!0}),player.dilation.active=!0,Pelle.isDoomed&&PelleStrikes.dilation.trigger(),!0)))}const R9=[null,"dtGain","galaxyThreshold","tachyonGain","doubleGalaxies","tdMultReplicanti","ndMultDT","ipMultDT","timeStudySplit","dilationPenalty","ttGenerator","dtGainPelle","galaxyMultiplier","tickspeedPower","galaxyThresholdPelle","flatDilationMult"];function I9(e,t=1){if(GameEnd.creditsEverClosed)return!1;const i=q9[R9[e]];if(e>3&&e<11){if(player.dilation.upgrades.has(e))return!1;if(!Currency.dilatedTime.purchase(i.cost))return!1;player.dilation.upgrades.add(e),4===e&&(player.dilation.totalTachyonGalaxies*=2)}else{const a=player.dilation.rebuyables[e];if(Currency.dilatedTime.lt(i.cost)||a>=i.config.purchaseCap)return!1;let n=Decimal.affordGeometricSeries(Currency.dilatedTime.value,i.config.initialCost,i.config.increment,a).toNumber();n=Math.clampMax(n,t),n=Math.clampMax(n,i.config.purchaseCap-a);const s=Decimal.sumGeometricSeries(n,i.config.initialCost,i.config.increment,a);if(Currency.dilatedTime.subtract(s),player.dilation.rebuyables[e]+=n,2===e&&(Perk.bypassTGReset.isBought&&!Pelle.isDoomed||Currency.dilatedTime.reset(),player.dilation.nextThreshold=v.E3,player.dilation.baseTachyonGalaxies=0,player.dilation.totalTachyonGalaxies=0),3===e&&!Pelle.isDisabled("tpMults")){let e=Effects.max(1,Perk.retroactiveTP1,Perk.retroactiveTP2,Perk.retroactiveTP3,Perk.retroactiveTP4);Enslaved.isRunning&&(e=Math.pow(e,Enslaved.tachyonNerf)),Currency.tachyonParticles.multiply(Decimal.pow(e,n))}}return!0}function M9(e){const t=void 0===e?q9.galaxyThreshold.effectValue:e,i=3.65*t+.35,a=getAdjustedGlyphEffect("dilationgalaxyThreshold"),n=0===a?1:a,s=q9.galaxyThresholdPelle.canBeApplied?q9.galaxyThresholdPelle.effectValue:1;return(1+i*n)**s}function D9(){if(Pelle.isDoomed){const e=Currency.tachyonParticles.value.pow(PelleRifts.paradox.milestones[1].effectOrDefault(1));return new Decimal(e).timesEffectsOf(q9.dtGain,q9.dtGainPelle,q9.flatDilationMult).times(ShopPurchase.dilatedTimePurchases.currentMult**.5).times(Pelle.specialGlyphEffect.dilation).div(1e5)}let e=new Decimal(Currency.tachyonParticles.value).timesEffectsOf(q9.dtGain,Achievement(132),Achievement(137),RealityUpgrade(1),AlchemyResource.dilation,Ra.unlocks.continuousTTBoost.effects.dilatedTime,Ra.unlocks.peakGamespeedDT);return e=e.times(getAdjustedGlyphEffect("dilationDT")),e=e.times(ShopPurchase.dilatedTimePurchases.currentMult),e=e.times(Math.clampMin(Decimal.log10(Replicanti.amount)*getAdjustedGlyphEffect("replicationdtgain"),1)),Enslaved.isRunning&&!e.eq(0)&&(e=Decimal.pow10(Math.pow(e.plus(1).log10(),.85)-1)),V.isRunning&&(e=e.pow(.5)),e}function P9(){if(Pelle.isDisabled("tpMults"))return new Decimal(1);const e=Enslaved.isRunning?Enslaved.tachyonNerf:1;return v.D1.timesEffectsOf(q9.tachyonGain,GlyphSacrifice.dilation,Achievement(132),RealityUpgrade(4),RealityUpgrade(8),RealityUpgrade(15)).pow(e)}function U9(){Currency.tachyonParticles.bumpTo(N9(player.records.thisEternity.maxAM,!0)),player.dilation.lastEP=Currency.eternityPoints.value}function G9(e,t){if(!Player.canEternity&&t)return v.D0;const i=isInCelestialReality()||Pelle.isDoomed?e:Ra.unlocks.unlockDilationStartingTP.effectOrDefault(e);let a=Decimal.pow(Decimal.log10(i)/400,1.5);return Enslaved.isRunning&&(a=a.pow(Enslaved.tachyonNerf)),a.floor()}function N9(e,t){return G9(e,t).times(P9())}function B9(e){return N9(player.records.thisEternity.maxAM,e).minus(Currency.tachyonParticles.value).clampMin(0)}function O9(){let e=Currency.tachyonParticles.value.dividedBy(P9()).plus(1);return Enslaved.isRunning&&(e=e.pow(1/Enslaved.tachyonNerf)),Decimal.pow10(e.times(Math.pow(400,1.5)).pow(2/3).toNumber())}function L9(e){const t=D9(),i=t.times(getGameSpeedupForDisplay()),a=Currency.dilatedTime.value;if(t.eq(0))return null;if(PelleRifts.paradox.isActive){const t=Pelle.riftDrainPercent,n=i.minus(Decimal.multiply(e,t)),s=i.minus(a.times(t));return n.lt(0)?"Цена недостижима ввиду заполнения Разлома":TimeSpan.fromSeconds(s.div(n).ln()/t).toTimeEstimate()}return TimeSpan.fromSeconds(Decimal.sub(e,a).div(i).toNumber()).toTimeEstimate()}function $9(e){const t=e.log10(),i=.75*Effects.product(q9.dilationPenalty);return Decimal.pow10(Math.sign(t)*Math.pow(Math.abs(t),i))}class H9 extends x{get currency(){return Currency.dilatedTime}get set(){return player.dilation.upgrades}onPurchased(){4===this.id&&(player.dilation.totalTachyonGalaxies*=2),10===this.id&&up(15).tryComplete()}}class F9 extends I{get currency(){return Currency.dilatedTime}get boughtAmount(){return player.dilation.rebuyables[this.id]}set boughtAmount(e){player.dilation.rebuyables[this.id]=e}get isCapped(){return this.config.reachedCap()}purchase(e){I9(this.config.id,e)}}const q9=mapGameDataToObject(GameDatabase.eternity.dilation,(e=>e.rebuyable?new F9(e):new H9(e))),V9={rebuyable:[q9.dtGain,q9.galaxyThreshold,q9.tachyonGain],fromId:e=>q9.all.find((t=>t.id===Number(e)))};class Y9{constructor(e){const{getAmount:t,setAmount:i,calculateValue:a,initialCost:n,costMult:s}=e;this.incrementAmount=()=>i(t()+1),this._lazyValue=new Lazy((()=>a(t()))),this._lazyCost=new Lazy((()=>getHybridCostScaling(t(),1e30,n,s,.2,v.E310,1e5,10))),this.id=e.id,this.hasAutobuyer=e.hasAutobuyer,this.onPurchase=e.onPurchase}get value(){return this._lazyValue.value}get cost(){return this._lazyCost.value}get isAffordable(){return Currency.realityMachines.gte(this.cost)}purchase(){if(!this.isAffordable||0===this.value)return;const e=W9(this.id),t=e.isCharged?1-e.stateProgress:e.stateProgress;Currency.realityMachines.purchase(this.cost),this.incrementAmount(),this._lazyValue.invalidate(),this._lazyCost.invalidate(),this.onPurchase&&this.onPurchase();const i=e.isCharged?e.duration:e.interval;e.updatePhase(i*t-e.phase),e.isPermanent&&(player.blackHole[this.id-1].active=!0),EventHub.dispatch(GAME_EVENT.BLACK_HOLE_UPGRADE_BOUGHT)}}class j9{constructor(e){this.id=e+1;const t=[1,1e3];this.intervalUpgrade=new Y9({id:this.id,getAmount:()=>this._data.intervalUpgrades,setAmount:e=>this._data.intervalUpgrades=e,calculateValue:t=>3600/Math.pow(10,e)*Math.pow(.8,t),initialCost:15*t[e],costMult:3.5,hasAutobuyer:!1,onPurchase:()=>{this.isCharged||(this._data.phase=Math.clampMax(this.interval,this._data.phase))}}),this.powerUpgrade=new Y9({id:this.id,getAmount:()=>this._data.powerUpgrades,setAmount:e=>this._data.powerUpgrades=e,calculateValue:t=>180/Math.pow(2,e)*Math.pow(1.35,t),initialCost:20*t[e],costMult:2,hasAutobuyer:!0}),this.durationUpgrade=new Y9({id:this.id,getAmount:()=>this._data.durationUpgrades,setAmount:e=>this._data.durationUpgrades=e,calculateValue:t=>(10-3*e)*Math.pow(1.3,t),initialCost:10*t[e],costMult:4,hasAutobuyer:!1})}get _data(){return player.blackHole[this.id-1]}get rawInterval(){return this.intervalUpgrade.value*Achievement(145).effectOrDefault(1)}get interval(){return this.isPermanent?0:this.rawInterval}get power(){return this.powerUpgrade.value*Achievement(158).effectOrDefault(1)}get duration(){return this.durationUpgrade.value*Achievement(155).effectOrDefault(1)}get isUnlocked(){return this._data.unlocked&&!Enslaved.isRunning&&!Pelle.isDisabled("blackhole")}get isCharged(){return this._data.active}get timeWithPreviousActiveToNextStateChange(){return this.isCharged?this.duration-this.phase:this.interval-this.phase}get timeToNextStateChange(){const e=this.timeWithPreviousActiveToNextStateChange;return 1===this.id?e:this.isCharged?W9(1).isCharged?Math.min(e,W9(1).timeToNextStateChange):W9(1).timeToNextStateChange:W9(1).timeUntilTimeActive(e)}timeUntilTimeActive(e){let t=e;if(this.isCharged){if(t<this.timeToNextStateChange)return t;t-=this.timeToNextStateChange}let i=this.isCharged?this.timeToNextStateChange+this.interval:this.timeToNextStateChange;return i+=Math.floor(t/this.duration)*this.cycleLength,i+=t%this.duration,i}get stateProgress(){return this.isCharged?1-this.phase/this.duration:this.phase/this.interval}get displayState(){if(Pelle.isDisabled("blackhole"))return'<i class="fas fa-ban"></i> Disabled';if(Enslaved.isAutoReleasing)return Enslaved.autoReleaseTick<3?'<i class="fas fa-compress-arrows-alt u-fa-padding"></i> пульсирует':'<i class="fas fa-expand-arrows-alt u-fa-padding"></i> пульсирует';if(Enslaved.isStoringGameTime)return'<i class="fas fa-compress-arrows-alt"></i> заряжается';if(X9.areNegative)return'<i class="fas fa-caret-left"></i> инвертирована';if(X9.arePaused)return'<i class="fas fa-pause"></i> приостановлена';if(this.isPermanent)return'<i class="fas fa-infinity"></i> действует беспрерывно';const e=TimeSpan.fromSeconds(this.timeToNextStateChange).toStringShort(!0);return this.isActive?`<i class="fas fa-play"></i> действует (${e})`:`<i class="fas fa-redo"></i> бездействует (${e})`}get isActive(){return this.isCharged&&(1===this.id||W9(this.id-1).isActive)&&!Pelle.isDisabled("blackhole")}get dutyCycle(){return this.duration/(this.rawInterval+this.duration)}get isPermanent(){return this.dutyCycle>=.9999}get phase(){return this._data.phase}get cycleLength(){return this.interval+this.duration}updatePhase(e){this.isPermanent||(this._data.phase+=e,this.phase>=this.cycleLength&&(this._data.activations+=Math.floor(this.phase/this.cycleLength),this._data.phase%=this.cycleLength),this.isCharged?this.phase>=this.duration&&(this._data.phase-=this.duration,this._data.active=!1,GameUI.notify.showBlackHoles&&GameUI.notify.blackHole(`Действие ${this.description()} завершилось.`)):this.phase>=this.interval&&(this._data.phase-=this.interval,this._data.activations++,this._data.active=!0,GameUI.notify.showBlackHoles&&GameUI.notify.blackHole(`Активация ${this.description()}!`)))}realTimeWhileActive(e){const t=this.timeUntilNextDeactivation,i=this.interval,a=this.duration,n=this.cycleLength,s=Math.min(t,a),r=Math.floor((e-t)/n),o=a*r,l=(e-t+n)%n,c=Math.max(l-i,0);return s+o+c}get timeUntilNextDeactivation(){return this.isCharged?this.duration-this.phase:this.cycleLength-this.phase}description(){return(RealityUpgrade(20).isBought?`${this.id}-й `:"").concat("Чёрной Дыры")}}function W9(e){return j9.list[e-1]}j9.list=Array.range(0,2).map((e=>new j9(e)));const X9={ACCELERATION_TIME:5,get list(){return j9.list},get canBeUnlocked(){return Currency.realityMachines.gte(100)&&!this.areUnlocked},get areUnlocked(){return W9(1).isUnlocked},unlock(){this.canBeUnlocked&&(player.blackHole[0].unlocked=!0,Currency.realityMachines.purchase(100),player.records.timePlayedAtBHUnlock=player.records.totalTimePlayed,EventHub.dispatch(GAME_EVENT.BLACK_HOLE_UNLOCKED))},togglePause:(e=!1)=>{if(!X9.areUnlocked)return;const t=player.requirementChecks.reality.slowestBH<=1e-300;if(ImaginaryUpgrade(24).isLockingMechanics&&Ra.isRunning&&t)return void(e||ImaginaryUpgrade(24).tryShowWarningModal("отменить инверсию Чёрной Дыры"));let i;player.blackHolePause&&(player.requirementChecks.reality.slowestBH=1),player.blackHolePause=!player.blackHolePause,player.blackHolePauseTime=player.records.realTimePlayed,i=player.blackHolePause?RealityUpgrade(20).isBought?"Чёрные Дыры":"Чёрная Дыра":RealityUpgrade(20).isBought?"Цикл Чёрных Дыр":"Цикл Чёрной Дыры";const a=player.blackHolePause?(X9.areNegative?"инвертирован":"приостановлен").concat(RealityUpgrade(20).isBought?"ы":"а"):"возобновлён",n=e?"автоматически ":"";GameUI.notify.blackHole(`${i} ${n}${a}`)},get unpauseAccelerationFactor(){return this.arePermanent?1:Math.clamp((player.records.realTimePlayed-player.blackHolePauseTime)/(1e3*this.ACCELERATION_TIME),0,1)},get arePaused(){return player.blackHolePause},get areNegative(){return this.arePaused&&!Laitela.isRunning&&player.blackHoleNegative<1},get arePermanent(){return X9.list.every((e=>e.isPermanent))},updatePhases(e){if(!this.areUnlocked||this.arePaused)return;const t=e/1e3,[i,a]=this.autoPauseData(t),n=this.realTimePeriodsWithBlackHoleActive(a,!0);for(const s of this.list){if(!s.isUnlocked)break;s.updatePhase(n[s.id-1])}i&&X9.togglePause(!0)},calculateOfflineTick(e,t,i){const a=this.calculateSpeedups(),n=this.calculateGameTimeFromRealTime(e,a);if(1===t)return[e,n/e];const s=this.binarySearch(0,e,(e=>this.calculateGameTimeFromRealTime(e,a)*t/n),1,i),r=this.calculateGameTimeFromRealTime(s,a)/s;return[s,r]},binarySearch(e,t,i,a,n){let s;for(let r=0;r<100;++r){s=(e+t)/2;const r=i(s)-a;if(Math.abs(r)<n)break;r<0?e=s:t=s}return s},calculateSpeedups(){const e=[GAME_SPEED_EFFECT.FIXED_SPEED,GAME_SPEED_EFFECT.TIME_GLYPH,GAME_SPEED_EFFECT.SINGULARITY_MILESTONE,GAME_SPEED_EFFECT.NERFS],t=getGameSpeedupFactor(e),i=[t];e.push(GAME_SPEED_EFFECT.BLACK_HOLE);for(const a of this.list){if(!a.isUnlocked)break;i.push(getGameSpeedupFactor(e,a.id)/t)}return i},calculateGameTimeFromRealTime(e,t){const[i,a]=this.autoPauseData(e),n=this.realTimePeriodsWithBlackHoleEffective(a,t);return n[0]+=e-a,n.map(((e,i)=>e*t[i])).sum()},realTimePeriodsWithBlackHoleEffective(e){const t=this.realTimePeriodsWithBlackHoleActive(e),i=[];for(let a=0;a<t.length-1;a++)i.push(t[a]-t[a+1]);return i.push(t.last()),i},realTimePeriodsWithBlackHoleActive(e){const t=[e];for(const i of this.list){if(!i.isUnlocked)break;const e=i.realTimeWhileActive(t.last());t.push(e)}return t},timeToNextPause(e,t=100){if(1===e){const e=W9(1);if(e.interval<=X9.ACCELERATION_TIME)return null;const t=(e.isCharged?e.duration:0)+e.interval-e.phase;return t<X9.ACCELERATION_TIME?t+e.duration+e.interval-X9.ACCELERATION_TIME:t-X9.ACCELERATION_TIME}const i=[W9(1).isCharged,W9(2).isCharged],a=[W9(1).phase,W9(2).phase],n=[W9(1).duration,W9(2).duration],s=[W9(1).interval,W9(2).interval];if(s[0]<=X9.ACCELERATION_TIME&&s[1]<=X9.ACCELERATION_TIME)return null;const r=[[s[0]],[n[0],s[1]],[n[0],n[1]]];let o=0,l=0;for(let c=0;c<t;c++){const e=i[0]?i[1]?2:1:0,t=r[e],n=e>0?Math.min(t[0]-a[0],t[1]-a[1]):t[0]-a[0];if(2===e){if(o>=X9.ACCELERATION_TIME)return l-X9.ACCELERATION_TIME;o=0}else o+=n;l+=n,e>0&&(a[1]+=n,a[1]>=t[1]&&(i[1]=!i[1],a[1]-=t[1])),a[0]+=n,a[0]>=t[0]&&(i[0]=!i[0],a[0]-=t[0])}return null},autoPauseData(e){if(this.arePaused)return[!1,0];if(player.blackHoleAutoPauseMode===BLACK_HOLE_PAUSE_MODE.NO_PAUSE)return[!1,e];const t=this.timeToNextPause(player.blackHoleAutoPauseMode);return null===t||t<1e-9||t>e?[!1,e]:[!0,t]}},z9={get baseRMCap(){return v.E1000},get hardcapRM(){return this.baseRMCap.times(ImaginaryUpgrade(6).effectOrDefault(1))},get distanceToRMCap(){return this.hardcapRM.minus(Currency.realityMachines.value)},get realityMachineMultiplier(){return ShopPurchase.RMPurchases.currentMult*Teresa.rmMultiplier*Effects.max(1,PerkShopUpgrade.rmMult)*getAdjustedGlyphEffect("effarigrm")*Achievement(167).effectOrDefault(1)},get uncappedRM(){let e=player.records.thisReality.maxEP.plus(gainedEternityPoints()).log10();PlayerProgress.realityUnlocked()||(e>8e3&&(e=8e3),e>6e3&&(e-=.75*(e-6e3)));let t=v.E3.pow(e/4e3-1);return t.gte(1)&&t.lt(10)&&(t=new Decimal(.00675*e-26)),t=t.times(this.realityMachineMultiplier),t.floor()},get gainedRealityMachines(){return this.uncappedRM.clampMax(this.hardcapRM)},get isIMUnlocked(){return Currency.realityMachines.value.gte(this.hardcapRM)||Currency.imaginaryMachines.gt(0)},get baseIMCap(){return Math.pow(Math.clampMin(this.uncappedRM.log10()-1e3,0),2)*Math.pow(Math.clampMin(this.uncappedRM.log10()-1e5,1),.2)},get currentIMCap(){return player.reality.iMCap*ImaginaryUpgrade(13).effectOrDefault(1)},get projectedIMCap(){return this.baseIMCap*ImaginaryUpgrade(13).effectOrDefault(1)},updateIMCap(){this.uncappedRM.gte(this.baseRMCap)&&this.baseIMCap>player.reality.iMCap&&(player.records.bestReality.iMCapSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e))),player.reality.iMCap=this.baseIMCap)},get scaleTimeForIM(){return 60/ImaginaryUpgrade(20).effectOrDefault(1)},gainedImaginaryMachines(e){return(this.currentIMCap-Currency.imaginaryMachines.value)*(1-Math.pow(2,-e/1e3/this.scaleTimeForIM))},estimateIMTimer(e){const t=this.currentIMCap;if(t<=e)return 1/0;const i=Currency.imaginaryMachines.value;return Math.max(0,Math.log2(t/(t-e))-Math.log2(t/(t-i)))*this.scaleTimeForIM}},K9={};function Q9(){const e=window.location.href;return e.split("//")[1].length>20||J9()}function J9(){const e=window.location.href;return e.includes("file")||e.includes("127.0.0.1")||e.includes("localhost")}K9.hardReset=function(){GameStorage.hardReset()},K9.giveAllAchievements=function(){const e=Achievements.all.concat(SecretAchievements.all);for(const t of e)t.unlock()},K9.doubleEverything=function(){Object.keys(player).forEach((e=>{"number"===typeof player[e]&&(player[e]*=2),"object"===typeof player[e]&&player[e].constructor!==Object&&(player[e]=player[e].times(2)),"object"!==typeof player[e]||isFinite(player[e])||Object.keys(player[e]).forEach((t=>{"number"===typeof player[e][t]&&(player[e][t]*=2),"object"===typeof player[e][t]&&player[e][t].constructor!==Object&&(player[e][t]=player[e][t].times(2))}))}))},K9.tripleEverything=function(){Object.keys(player).forEach((e=>{"number"===typeof player[e]&&(player[e]*=3),"object"===typeof player[e]&&player[e].constructor!==Object&&(player[e]=player[e].times(3)),"object"!==typeof player[e]||isFinite(player[e])||Object.keys(player[e]).forEach((t=>{"number"===typeof player[e][t]&&(player[e][t]*=3),"object"===typeof player[e][t]&&player[e][t].constructor!==Object&&(player[e][t]=player[e][t].times(3))}))}))},K9.barrelRoll=function(){bf.display("a-barrel-roll",5)},K9.spin3d=function(){""===document.body.style.animation?document.body.style.animation="a-spin3d 3s infinite":document.body.style.animation=""},K9.spin4d=function(){""===document.body.style.animation?document.body.style.animation="a-spin4d 3s infinite":document.body.style.animation=""},K9.cancerize=function(){Theme.tryUnlock("Design"),Notation.emoji.setAsCurrent()},K9.fixSave=function(){const e=JSON.stringify(player,GameSaveSerializer.jsonConverter),t=e.replace(/NaN/giu,"10"),i=JSON.parse(t);i&&""===GameStorage.checkPlayerObject(i)?(GameStorage.loadPlayerObject(i),GameStorage.save()):Modal.message.show("Could not fix the save.")},K9.updateTDCosts=function(){for(let e=1;e<9;e++){const t=TimeDimension(e);t.cost=t.nextCost(t.bought)}},K9.refundTimeDims=function(){for(const e of TimeDimensions.all)e.bought=0;K9.updateTDCosts()},K9.refundEPMult=function(){player.epmultUpgrades=0},K9.refundDilStudies=function(){for(const e of GameDatabase.eternity.timeStudies.dilation)player.dilation.studies.includes(e.id)&&(player.dilation.studies.splice(player.dilation.studies.indexOf(e.id),1),console.log(document.getElementById(`removed dilstudy${e.id}`)),Currency.timeTheorems.add(e.cost))},K9.resetDilation=function(){player.dilation.dilatedTime=v.D0,player.dilation.tachyonParticles=v.D0,player.dilation.rebuyables[1]=0,player.dilation.rebuyables[2]=0,player.dilation.rebuyables[3]=0,player.dilation.baseTachyonGalaxies=0,player.dilation.totalTachyonGalaxies=0},K9.giveSpecialGlyph=function(e,t,i,a=i){if(0===GameCache.glyphInventorySpace.value)return;const n=GlyphGenerator.randomGlyph({actualLevel:i,rawLevel:a});n.symbol=t,n.color=e,Glyphs.addToInventory(n)},K9.giveGlyph=function(e,t=e){0!==GameCache.glyphInventorySpace.value&&Glyphs.addToInventory(GlyphGenerator.randomGlyph({actualLevel:e,rawLevel:t}))},K9.giveRealityGlyph=function(e){0!==GameCache.glyphInventorySpace.value&&Glyphs.addToInventory(GlyphGenerator.realityGlyph(e))},K9.setCompanionGlyphEP=function(e){const t=player.reality.glyphs.active.concat(player.reality.glyphs.inventory).filter((e=>"companion"===e.type))[0];t.strength=rarityToStrength(e.log10()/1e6)},K9.decriminalize=function(){SecretAchievement(23).lock(),EventHub.dispatch(GAME_EVENT.ACHIEVEMENT_UNLOCKED)},K9.removeAch=function(e){if("all"===e){const e=Achievements.all.concat(SecretAchievements.all);for(const t of e)t.lock();return"removed all achievements"}return"number"===typeof e?Achievement(e).lock():e.startsWith("r")?Achievement(parseInt(e.slice(1),10)).lock():e.startsWith("s")?SecretAchievement(parseInt(e.slice(1),10)).lock():"failed to delete achievement"},window.nextNewsMessageId=void 0,K9.setNextNewsMessage=function(e){nextNewsMessageId=e},K9.implode=function(){bigCrunchAnimation()},K9.eternify=function(){eternityAnimation()},K9.dilate=function(){animateAndDilate()},K9.undilate=function(){animateAndUndilate()},K9.realize=function(){runRealityAnimation()},K9.respecPerks=function(){player.reality.perkPoints+=player.reality.perks.size,player.reality.perks=new Set,GameCache.achievementPeriod.invalidate(),GameCache.buyablePerks.invalidate()},K9.togglePerformanceStats=function(){PerformanceStats.toggle()},K9.buyAllPerks=function(){const e=[],t=[Perk.firstPerk];while(t.length>0){if(player.reality.perkPoints<1)break;const i=t.shift();e.push(i),t.push(...i.connectedPerks.filter((t=>!e.includes(t)))),i.purchase()}},K9.printResourceTotals=function(){console.log(`Antimatter: e${Currency.antimatter.exponent.toPrecision(3)}`),console.log(`RM: e${Math.round(MachineHandler.gainedRealityMachines.log10())}`),console.log("Glyph level: "+100*Math.floor(gainedGlyphLevel().actualLevel/100+.5)),console.log("Tickspeed: e"+-Tickspeed.current.exponent.toPrecision(3)),console.log(`Gamespeed: ${Math.pow(getGameSpeedupFactor(),1.2).toPrecision(1)}`);const e=100*Math.floor(player.galaxies/100+.5),t=100*Math.floor(Replicanti.galaxies.total/100+.5),i=100*Math.floor(player.dilation.totalTachyonGalaxies/100+.5);console.log(`Galaxies: ${e}+${t}+${i} (${e+t+i})`),console.log("Tick reduction: e"+-Math.round(getTickSpeedMultiplier().log10()));let a=v.D1;for(let r=1;r<=8;r++)a=a.times(AntimatterDimension(r).multiplier);console.log(`AD mults: e${a.log10().toPrecision(3)}`);let n=v.D1;for(let r=1;r<=8;r++)n=n.times(InfinityDimension(r).multiplier);console.log(`ID mults: e${n.log10().toPrecision(3)}`);let s=v.D1;for(let r=1;r<=8;r++)s=s.times(TimeDimension(r).multiplier);console.log(`TD mults: e${s.log10().toPrecision(3)}`),console.log(`Tickspeed from TD: ${formatWithCommas(1e3*Math.floor(player.totalTickGained/1e3+.5))}`),console.log(`Infinities: e${Math.round(player.infinities.log10())}`),console.log(`Eternities: e${Math.round(player.eternities.log10())}`),console.log(`Replicanti: e${formatWithCommas(1e5*Math.floor(Replicanti.amount.log10()/1e5+.5))}`),console.log(`TT: e${Math.round(player.timestudy.theorem.log10())}`),console.log(`DT: e${Math.round(player.dilation.dilatedTime.log10())}`),console.log(`TP: e${Math.round(player.dilation.tachyonParticles.log10())}`)},K9.unlockCelestialQuotes=function(e){Quotes[e].all.forEach((e=>e.show()))},K9.presentCelestialQuotes=function(e){Quotes[e].all.forEach((e=>e.present()))},K9.testReplicantiCode=function(e,t=!1){const i=[[function(){player.infinities=v.E12,player.celestials.effarig.unlockBits=64}],[function(){player.replicanti.interval=1}],[function(){player.timestudy.studies.push(33)}],[function(){player.timestudy.studies.push(62)}],[function(){player.timestudy.studies.push(131)},function(){player.timestudy.studies.push(132)},function(){player.timestudy.studies.push(133)},function(){player.timestudy.studies.push(131,132,133)}],[function(){player.timestudy.studies.push(192)}],[function(){player.timestudy.studies.push(213)}],[function(){player.timestudy.studies.push(225)}],[function(){player.timestudy.studies.push(226)}],[function(){player.achievementBits[8]|=16}],[function(){player.achievementBits[12]|=8}],[function(){player.achievementBits[12]|=128}],[function(){player.reality.perks=new Set([32])}],[function(){Autobuyer.replicantiGalaxy.isActive=!0}],[function(){Replicanti.galaxies.isPlayerHoldingR=!0}],[function(){player.replicanti.boughtGalaxyCap=100},function(){player.replicanti.boughtGalaxyCap=100,player.replicanti.galaxies=50}],[function(){player.reality.upgReqs=64,player.reality.upgradeBits=64}]],a=i.map((e=>e.length+1)).reduce(((e,t)=>e*t)),n=[],s=function(e){Replicanti.galaxies.isPlayerHoldingR=!1,GameStorage.loadPlayerObject(Player.defaultStart),player.infinities=v.D1,player.infinityPoints=v.E150,Replicanti.unlock(),player.replicanti.chance=1;for(let a=0;a<i.length;a++){const t=i.slice(0,a).map((e=>e.length+1)).reduce(((e,t)=>e*t),1),n=[()=>{}].concat(i[a])[Math.floor(e/t)%(i[a].length+1)];n()}function t(){for(let e=0;e<=5;e++)replicantiLoop(Math.pow(10,e)),n.push(Notation.scientific.formatDecimal(Replicanti.amount,5,5)),n.push(player.replicanti.galaxies),n.push(Replicanti.galaxies.total)}t(),player.antimatter=v.E309,player.records.thisInfinity.maxAM=v.E309,bigCrunchReset(),t()};if(void 0===e){const e=4e3,t=10007;if(e*t<a)throw new Error("Prime p is not large enough to go through all situations.");for(let i=0;i<e;i++){const n=i*t%a;i%100===0&&console.log(`Considering situation #${i}/${e} (${n})`),s(n)}}else s(e);const r=(0,kh.sha512_256)(n.toString());return console.log(r),r},K9.testGlyphs=function(e){const t=e.glyphLevel||6500,i=e.duration||4e3;let a=Date.now();const n=GameSaveSerializer.serialize(player),s=(e,i)=>({type:e,level:t,strength:3.5,rawLevel:t,idx:null,id:a++,effects:makeGlyphEffectBitmask(i)}),r=e=>s(e,GlyphTypes[e].effects.map((e=>e.id))),o=[s("effarig",["effarigantimatter","effarigdimensions","effarigforgotten","effarigblackhole"]),s("effarig",["effarigantimatter","effarigdimensions","effarigforgotten","effarigachievement"])];function l(e,t){if(0===t.length)return[];if(0===e)return[[]];const i=l(e,t.slice(1)),a=l(e-1,t);return a.forEach((e=>e.push(t[0]))),a.concat(i)}const c=l(5,BASIC_GLYPH_TYPES).map((e=>e.map((e=>r(e))))),u=l(4,BASIC_GLYPH_TYPES).map((e=>e.map((e=>r(e))))),d=o.map((e=>u.map((t=>[e].concat(t))))),h=c.concat(...d);function p(e){player.reality.glyphs.active=h[e].map(((e,t)=>(e.idx=t,e))),Glyphs.active=Array.from(player.reality.glyphs.active),EventHub.dispatch(GAME_EVENT.GLYPHS_CHANGED)}function m(e){return"effarig"===e.type?o.findIndex((t=>t.id===e.id)).toString():GLYPH_SYMBOLS[e.type]}function y(e,t,i=!1){return e.length>=t?e:i?" ".repeat(t-e.length)+e:e+" ".repeat(t-e.length)}function f(e){const t=y(`${Math.floor(100*(e+1)/h.length)}%`,4,!0),i=y(MachineHandler.gainedRealityMachines.toPrecision(2),9),a=y(gainedGlyphLevel().actualLevel,4),s=y(player.eternityPoints.exponent.toString(),6),r=y(player.infinityPoints.exponent.toString(),8),o=y(Currency.antimatter.exponent.toString(),12),l=DimBoost.purchasedBoosts,c=Replicanti.galaxies.total+player.galaxies+player.dilation.totalTachyonGalaxies,u=h[e].map(m).sum();console.log(`${t} ${u} rm=${i} gl=${a} ep=${s} ip=${r} am=${o} dimboosts=${l} galaxies=${c}`),GameStorage.offlineEnabled=!1,GameStorage.import(n),e<h.length-1&&setTimeout(g,100,e+1)}function g(e){p(e),AutomatorBackend.start(),setTimeout(f,i,e)}g(0)},K9.unlockAutomator=function(){player.reality.automator.forceUnlock=!0},K9.forceCloudSave=async function(){const e=await Cloud.load(),t=GameSaveSerializer.deserialize(e),i=GameStorage.currentSlot;t.saves||(t.saves=[]),t.saves[i]=GameStorage.saves[i],Cloud.save(i)},K9.unlockAllCosmeticSets=function(){player.reality.glyphs.cosmetics.unlockedFromNG=Object.keys(GameDatabase.reality.glyphCosmeticSets)};const Z9={BITS_PER_MASK:31,addSeenNews(e){if(!GameDatabase.news.map((e=>e.id)).includes(e))return;const t=e.match(/([a-z]+)(\d+)/u),i=t[1],a=parseInt(t[2],10);player.news.seen[i]||(player.news.seen[i]=[]);while(this.BITS_PER_MASK*player.news.seen[i].length<=a)player.news.seen[i].push(0);player.news.seen[i][Math.floor(a/this.BITS_PER_MASK)]|=1<<a%this.BITS_PER_MASK,player.news.totalSeen++},hasSeenNews(e){const t=e.match(/([a-z]+)(\d+)/u),i=t[1],a=parseInt(t[2],10),n=player.news.seen[i];return!(!n||this.BITS_PER_MASK*n.length<a)&&0!==(n[Math.floor(a/this.BITS_PER_MASK)]|=1<<a%this.BITS_PER_MASK)},get uniqueTickersSeen(){let e=0;for(const t of Object.values(player.news.seen))for(const i of t)e+=countValuesFromBitmask(i);return e}},e7={},t7={totalSTD:0,spentSTD:0,respecAvailable:!1,lastRespec:"",unlockedCosmetics:[],get availableSTD(){return this.totalSTD-this.spentSTD},get isIAPEnabled(){return Cloud.loggedIn&&this.availableSTD>=0&&player.IAP.enabled},get timeUntilRespec(){const e=Date.now()-new Date(t7.lastRespec).getTime();return TimeSpan.fromMilliseconds(2592e5-e)},get canRespec(){return this.respecAvailable||this.timeUntilRespec.totalDays<=0},updateLocalSTD(e){var t,i;this.totalSTD=e.totalSTD,this.spentSTD=e.spentSTD,this.respecAvailable=e.respecAvailable,this.lastRespec=null!==(t=e.lastRespec)&&void 0!==t?t:0,this.unlockedCosmetics=[...null!==(i=e.unlockedCosmetics)&&void 0!==i?i:[]];for(const n of Object.keys(GameDatabase.shopPurchases)){var a;this[n]=null!==(a=e[n])&&void 0!==a?a:0}this.allCosmeticSets>0&&(this.unlockedCosmetics=Object.keys(GameDatabase.reality.glyphCosmeticSets)),t7.isIAPEnabled&&Speedrun.setSTDUse(!0),GameStorage.save()},clearLocalSTD(){this.totalSTD=0,this.spentSTD=0,this.respecAvailable=!1,this.unlockedCosmetics=[];for(const e of Object.keys(GameDatabase.shopPurchases))this[e]=0},async syncSTD(e=!0,t=void 0){if(!Cloud.loggedIn)return;let i;if(t)i=t;else try{const e=await fetch(`${STD_BACKEND_URL}/STDData?user=${Cloud.user.id}`);i=await e.json()}catch(a){return void GameUI.notify.error("Could not sync STD purchases!",1e4)}e&&i.totalSTD>0&&GameUI.notify.info("STD purchases successfully loaded!",1e4),this.updateLocalSTD(i)},respecRequest(){player.options.confirmations.respecIAP?Modal.respecIAP.show():this.respecAll()},async respecAll(){if(!this.canRespec)return void GameUI.notify.error("You do not have a respec available",1e4);let e;try{e=await fetch(`${STD_BACKEND_URL}/respec`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:Cloud.user.id})})}catch(i){return void GameUI.notify.error("Unable to respec STD purchases!",1e4)}const t=await e.json();t.success?GameUI.notify.info("STD respec successful!",1e4):GameUI.notify.error("No purchases to respec!",1e4),this.updateLocalSTD(t.data)}};for(const V of Object.keys(GameDatabase.shopPurchases))t7[V]=0;class i7 extends I{get currency(){return t7.availableSTD}get isAffordable(){return this.currency>=this.cost}get description(){const e=this.config.description;return"function"===typeof e?e():e}get cost(){const e=this.config.cost;return"function"===typeof e?e():e}get purchases(){var e;return null!==(e=t7[this.config.key])&&void 0!==e?e:0}set purchases(e){Number.isFinite(e)&&(t7[this.config.key]=e)}isUnlocked(){var e,t,i;return player.records.fullGameCompletions>0||null===(e=null===(t=(i=this.config).isUnlocked)||void 0===t?void 0:t.call(i))||void 0===e||e}get lockText(){return this.config.lockText}get shouldDisplayMult(){return Boolean(this.config.multiplier)}get currentMult(){return this.shouldDisplayMult?this.config.multiplier(t7.isIAPEnabled?this.purchases:0):""}get nextMult(){return this.shouldDisplayMult?this.config.multiplier(t7.isIAPEnabled?this.purchases+1:0):""}get currentMultForDisplay(){return this.shouldDisplayMult?this.config.multiplier(this.purchases):""}get nextMultForDisplay(){return this.shouldDisplayMult?this.config.multiplier(this.purchases+1):""}formatEffect(e){var t,i;return(null===(t=(i=this.config).formatEffect)||void 0===t?void 0:t.call(i,e))||formatX(e,2,0)}async purchase(){var e;if(!this.canBeBought)return!1;if(GameEnd.creditsEverClosed)return!1;if(this.config.instantPurchase&&ui.$viewModel.modal.progressBar)return!1;const t="singleCosmeticSet"===this.config.key?null===(e=GlyphAppearanceHandler.chosenFromModal)||void 0===e?void 0:e.id:void 0,i=wc.isActive?await wc.purchaseShopItem(this.config.key,this.cost,t):await Qw.buyUpgrade(this.config.key,t);return!!i&&(player.IAP.enabled&&Speedrun.setSTDUse(!0),this.config.instantPurchase&&this.config.onPurchase(),GameUI.update(),!0)}}const a7=mapGameDataToObject(GameDatabase.shopPurchases,(e=>new i7(e)));e7.purchaseTimeSkip=function(){Speedrun.setSTDUse(!0),simulateTime(21600)},e7.purchaseLongerTimeSkip=function(){Speedrun.setSTDUse(!0),simulateTime(86400)};class n7{constructor(e,t){this._parent=e,this.config=t}get name(){return this.config.name}get symbol(){return this.config.symbol}get isPermanentlyHidden(){return this.config.hideAt<GameEnd.endState&&!GameEnd.creditsClosed}get hidable(){return this.config.hidable}get isHidden(){return!Enslaved.isRunning&&!Pelle.hasGalaxyGenerator&&(0!==(player.options.hiddenSubtabBits[this._parent.id]&1<<this.id)&&this.hidable)}get isUnlocked(){return void 0===this.config.condition||this.config.condition()}get isAvailable(){return!this.isPermanentlyHidden&&(this.isOpen||!this.isHidden&&this.isUnlocked)}get hasNotification(){return player.tabNotifications.has(this._parent.key+this.key)}get key(){return this.config.key}get id(){return this.config.id}show(e){this._parent.show(e,this)}unhideTab(){this._parent.unhideTab(),player.options.hiddenSubtabBits[this._parent.id]&=~(1<<this.id)}toggleVisibility(){this._parent.id===c7.current.id&&this.id===c7.current._currentSubtab.id||(player.options.hiddenSubtabBits[this._parent.id]^=1<<this.id,u7())}get isOpen(){return ui.view.tab===this._parent.key&&ui.view.subtab===this.key}}function s7(e,t){var i;return null!==(i=t.find((t=>t.id===player.options.lastOpenSubtab[e])))&&void 0!==i?i:t[0]}function r7(e,t){const i=e.filter((e=>e.isAvailable)),a=i.indexOf(t),n=ui.view.shiftDown?-1:1;let s=a+n;return s=s<0?i.length-1:s,s=s>i.length-1?0:s,i[s]}class o7{constructor(e){this.config=e,this.isOpened=!1;const t=[];for(const i of e.subtabs){const e=new n7(this,i);this[i.key]=e,t.push(e)}this.subtabs=t,this._currentSubtab=s7(this.id,t)}get name(){return this.config.name}get key(){return this.config.key}get id(){return this.config.id}get isPermanentlyHidden(){return this.config.hideAt<GameEnd.endState&&!GameEnd.creditsClosed}get hidable(){return this.config.hidable}get isHidden(){if(Enslaved.isRunning||Pelle.hasGalaxyGenerator)return!1;const e=this.subtabs.some((e=>e.isAvailable));return(0!==(player.options.hiddenTabBits&1<<this.id)||!e)&&this.hidable}get isUnlocked(){return void 0===this.config.condition||this.config.condition()}get isAvailable(){return!this.isPermanentlyHidden&&(this.isOpen||!this.isHidden&&this.isUnlocked)}get isOpen(){return ui.view.tab===this.key}get hasNotification(){return this.subtabs.some((e=>e.hasNotification))}show(e,t=void 0){if(!e&&!player.options.automaticTabSwitching||Quote.isOpen)return;void 0!==t?(Enslaved.isRunning||t.unhideTab(),this._currentSubtab=t):ui.view.tab===this.key&&ui.view.initialized&&e?this._currentSubtab=r7(this.subtabs,this._currentSubtab):this._currentSubtab=s7(this.id,this.subtabs),this._currentSubtab.isUnlocked||this.resetToUnlocked(),this._currentSubtab.isAvailable||this.resetToAvailable(),ui.view.tab=this.key,ui.view.subtab=this._currentSubtab.key;const i=this.key+this._currentSubtab.key;player.tabNotifications.has(i)&&player.tabNotifications.delete(i),e&&Modal.hideAll(),EventHub.dispatch(GAME_EVENT.TAB_CHANGED,this,this._currentSubtab)}unhideTab(){player.options.hiddenTabBits&=~(1<<this.id)}toggleVisibility(){this.id!==c7.current.id&&(player.options.hiddenTabBits^=1<<this.id,u7())}resetToAvailable(){this._currentSubtab=this.subtabs.find((e=>e.isAvailable)),void 0===this._currentSubtab&&(this._currentSubtab=this.subtabs[0],this._currentSubtab.unhideTab())}resetToUnlocked(){this._currentSubtab=this.subtabs.find((e=>e.isUnlocked))}}const l7=GameDatabase.tabs.mapToObject((e=>e.key),(e=>new o7(e))),c7=function(){return{all:Object.values(l7),get current(){return c7.all.find((e=>e.isOpen))},oldUI:[l7.dimensions,l7.options,l7.statistics,l7.achievements,l7.automation,l7.challenges,l7.infinity,l7.eternity,l7.reality,l7.celestials,l7.shop],newUI:[l7.dimensions,l7.automation,l7.challenges,l7.infinity,l7.eternity,l7.reality,l7.celestials,l7.achievements,l7.statistics,l7.options,l7.shop],get currentUIFormat(){return ui.view.newUI?this.newUI:this.oldUI}}}(),u7=()=>{c7.all.filter((e=>e.isUnlocked&&e.hidable)).every((e=>e.isHidden))&&SecretAchievement(47).unlock()};EventHub.logic.on(GAME_EVENT.TAB_CHANGED,(()=>{const e=c7.current.id;player.options.lastOpenTab=e,player.options.lastOpenSubtab[e]=c7.current._currentSubtab.id}));class d7{constructor(e){if(this.config=e,e.events)for(const t of e.events)EventHub.logic.on(t,this.tryTrigger.bind(this),this)}get triggered(){return player.triggeredTabNotificationBits&1<<this.config.id}tryTrigger(){if(!this.config.condition()||this.triggered)return;const e=`${Tabs.current.key}${Tabs.current._currentSubtab.key}`;this.config.tabsToHighLight.map((e=>e.parent+e.tab)).forEach((t=>{t!==e&&player.tabNotifications.add(t)})),player.triggeredTabNotificationBits|=1<<this.config.id;for(const t of this.config.tabsToHighLight){const e=Tabs.all.find((e=>e.config.key===t.parent)),i=e.subtabs.find((e=>e.key===t.tab));e.unhideTab(),i.unhideTab()}}clearTrigger(){player.triggeredTabNotificationBits&=-1-(1<<this.config.id),this.config.tabsToHighLight.map((e=>e.parent+e.tab)).forEach((e=>player.tabNotifications.delete(e)))}}const h7=mapGameDataToObject(GameDatabase.tabNotifications,(e=>new d7(e)));class p7{constructor(e,t){switch(this.lines=[],this.warnings=[],t){case"Увеличение количества ОВ":this.templateClimbEP(e);break;case"Накопление вечностей":this.templateGrindEternities(e);break;case"Накопление бесконечностей":this.templateGrindInfinities(e);break;case"Выполнение Испытания Вечности":this.templateDoEC(e);break;case"Разблокировка Замедления":this.templateUnlockDilation(e);break;default:throw new Error(`Unrecognized template name ${t} in ScriptTemplate`)}}format(e){return"number"===typeof e?Math.round(e):e.lte(1e3)?e.toNumber().toFixed(2):`${e.mantissa.toFixed(2)}e${e.exponent}`}storeTreeData(e){const t=e.treeNowait?" nowait":"";if(e.treePreset){const i=player.timestudy.presets.map(((e,t)=>({...e,id:t+1}))).find((t=>t.name===e.treePreset||t.id===Number(e.treePreset))),a=i.name?`name ${i.name}`:`id ${i.id}`;this.storedTreeStr=`studies${t} load ${a}`,this.storedTreeObj=new TimeStudyTree(i.studies)}else this.storedTreeStr=`studies${t} purchase ${e.treeStudies}`,this.storedTreeObj=new TimeStudyTree(e.treeStudies);this.storedTreeObj.invalidStudies.length>0&&this.warnings.push("Введённое Древо содержит недопустимые номера Иследований"),this.storedTreeObj.purchasedStudies.length<this.storedTreeObj.selectedStudies.length&&(this.warnings.push("Структура Древа такова, что некоторые Исследования не покупаются при импорте с пустым Древом"),e.treeNowait||this.warnings.push("Автоматизатор может застрять на покупке Исследований"))}parseAutobuyerProp(e,t){switch(e){case"mult":return`${this.format(t)} x highest`;case"time":return`${this.format(t)} seconds`;default:throw new Error(`Unrecognized autobuyer mode ${e} in automator script templates`)}}templateClimbEP(e){this.lines.push('// Шаблон: "Увеличение количества ОВ"'),this.lines.push(`notify 'Выполняется шаблон "Увеличение количества ОВ" (до ${format(e.finalEP)})'`),this.storeTreeData(e),this.lines.push(`auto infinity ${this.parseAutobuyerProp(e.autoInfMode,e.autoInfValue)}`),this.lines.push(`auto eternity ${this.parseAutobuyerProp(e.autoEterMode,e.autoEterValue)}`),this.lines.push(`while ep < ${this.format(e.finalEP)} {`),this.lines.push(` ${this.storedTreeStr}`),this.lines.push(" studies respec"),this.lines.push(" wait eternity"),this.lines.push("}")}templateGrindEternities(e){this.lines.push('// Шаблон: "Накопление вечностей"'),this.lines.push(`notify 'Выполняется шаблон "Накопление вечностей" (до ${format(e.eternities)})'`),this.storeTreeData(e),this.lines.push(this.storedTreeStr),this.lines.push("auto eternity 0 ep");const t=Number.MAX_VALUE/Currency.infinityPoints.startingValue.toNumber()*5;this.lines.push(`auto infinity ${this.format(Decimal.pow(t,1/e.crunchesPerEternity))} x highest`),this.lines.push(`wait eternities > ${this.format(e.eternities)}`),this.lines.push("auto eternity off")}templateGrindInfinities(e){if(this.lines.push('// Шаблон: "Накопление бесконечностей"'),this.lines.push(`notify 'Выполняется шаблон "Накопление бесконечностей" (до ${format(e.infinities)})'`),this.storeTreeData(e),this.lines.push(this.storedTreeStr),this.lines.push("auto eternity off"),this.lines.push("auto infinity 5s"),e.isBanked){const t=this.storedTreeObj.purchasedStudies.includes(TimeStudy(191));t||this.warnings.push(`ИсслВ191 не покупается при импорте Исследований с пустым Древом; для сохранения бесконечностей\n        понадобится достижение "${Achievement(131).name}"`);const i=t?.1:.05;this.lines.push("// Примечание: в этом шаблоне мы пытаемся получить все сохранённые бесконечности за одну вечность"),this.lines.push(`wait infinities > ${this.format(e.infinities.dividedBy(i),2)}`),this.lines.push("eternity")}else this.lines.push(`wait infinities > ${this.format(e.infinities,2)}`)}templateDoEC(e){this.lines.push('// Шаблон: "Выполнение Испытания Вечности"'),this.lines.push(`notify 'Выполняется шаблон "Выполнение Испытания Вечности" (ИспВ${e.ec})'`),this.lines.push("eternity respec"),this.storeTreeData(e),this.lines.push(this.storedTreeStr);const t=this.storedTreeObj;0===t.ec?(this.lines.push(`unlock ec ${e.ec}`),t.hasRequirements(TimeStudy.eternityChallenge(e.ec),!0)||this.warnings.push("Указанное ИспВ недоступно с указанным Древом Исследований")):t.ec!==e.ec&&this.warnings.push("Указанное Древо Исследований разблокирует другое ИспВ"),this.lines.push(`auto infinity ${this.parseAutobuyerProp(e.autoInfMode,e.autoInfValue)}`),this.lines.push("auto eternity off"),TimeStudy.eternityChallenge(e.ec)||this.warnings.push("Недопустимый номер ИспВ"),this.lines.push(`start ec ${e.ec}`),e.completions>5&&this.warnings.push(`Невозможно выполнить ИспВ более ${formatInt(5)} раз`),this.lines.push(`wait pending completions >= ${e.completions}`),this.lines.push("eternity")}templateUnlockDilation(e){this.lines.push('// Шаблон: "Разблокировка Замедления"'),this.lines.push("notify 'Выполняется шаблон \"Разблокировка Замедления\"'"),this.storeTreeData(e),[231,232,233,234].some((e=>this.storedTreeObj.purchasedStudies.includes(TimeStudy(e))))||this.warnings.push("Замедление недоступно с указанным Древом Исследований"),this.lines.push("auto infinity off"),this.lines.push(`auto eternity ${this.parseAutobuyerProp(e.autoEterMode,e.autoEterValue)}`),this.lines.push(`while total tt < ${this.format(TimeStudy.dilation.totalTimeTheoremRequirement)} {`),this.lines.push(` ${this.storedTreeStr}`),this.lines.push(" studies respec"),this.lines.push(" wait eternity"),this.lines.push("}"),this.lines.push("unlock dilation")}get script(){return this.lines.join("\n")}}const m7=/((CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(12[_.]2|12[_.]([3-9]|\d{2,})|12[_.]5|12[_.]([6-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})[_.]\d+|14[_.]0|14[_.]([1-9]|\d{2,})|14[_.]4|14[_.]([5-9]|\d{2,})|14[_.]8|14[_.](9|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})[_.]\d+|15[_.]6|15[_.]([7-9]|\d{2,})|15[_.]8|15[_.](9|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})[_.]\d+|16[_.]0|16[_.]([1-9]|\d{2,})|16[_.]5|16[_.]([6-9]|\d{2,})|(1[7-9]|[2-9]\d|\d{3,})[_.]\d+|17[_.]0|17[_.]([1-9]|\d{2,})|(1[8-9]|[2-9]\d|\d{3,})[_.]\d+)(?:[_.]\d+)?)|(Opera\/.+Opera Mobi.+Version\/(80\.0|80\.([1-9]|\d{2,})|(8[1-9]|9\d|\d{3,})\.\d+))|(Opera\/(80\.0|80\.([1-9]|\d{2,})|(8[1-9]|9\d|\d{3,})\.\d+).+Opera Mobi)|(Opera Mobi.+Opera(?:\/|\s+)(80\.0|80\.([1-9]|\d{2,})|(8[1-9]|9\d|\d{3,})\.\d+))|((?:Chrome).*OPR\/(107\.0|107\.([1-9]|\d{2,})|(10[8-9]|1[1-9]\d|[2-9]\d\d|\d{4,})\.\d+|109\.0|109\.([1-9]|\d{2,})|(11\d|[2-9]\d\d|\d{4,})\.\d+)\.\d+)|(SamsungBrowser\/(23\.0|23\.([1-9]|\d{2,})|(2[4-9]|[3-9]\d|\d{3,})\.\d+))|(Edge\/(123(?:\.0)?|123(?:\.([1-9]|\d{2,}))?|(12[4-9]|1[3-9]\d|[2-9]\d\d|\d{4,})(?:\.\d+)?))|((Chromium|Chrome)\/(79\.0|79\.([1-9]|\d{2,})|([8-9]\d|\d{3,})\.\d+|103\.0|103\.([1-9]|\d{2,})|(10[4-9]|1[1-9]\d|[2-9]\d\d|\d{4,})\.\d+|109\.0|109\.([1-9]|\d{2,})|(11\d|[2-9]\d\d|\d{4,})\.\d+|114\.0|114\.([1-9]|\d{2,})|(11[5-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|116\.0|116\.([1-9]|\d{2,})|(11[7-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|120\.0|120\.([1-9]|\d{2,})|(12[1-9]|1[3-9]\d|[2-9]\d\d|\d{4,})\.\d+)(?:\.\d+)?)|(Version\/(15\.6|15\.([7-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+|17\.4|17\.([5-9]|\d{2,})|(1[8-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(115\.0|115\.([1-9]|\d{2,})|(11[6-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|125\.0|125\.([1-9]|\d{2,})|(12[6-9]|1[3-9]\d|[2-9]\d\d|\d{4,})\.\d+)\.\d+)|(Firefox\/(115\.0|115\.([1-9]|\d{2,})|(11[6-9]|1[2-9]\d|[2-9]\d\d|\d{4,})\.\d+|125\.0|125\.([1-9]|\d{2,})|(12[6-9]|1[3-9]\d|[2-9]\d\d|\d{4,})\.\d+)(pre|[ab]\d+[a-z]*)?)/;if(GlobalErrorHandler.handled)throw new Error("Initialization failed");function y7(e){switch(e){case"reality":return"Реальности";case"effarig":return"Эффарига";case"power":return"Силы";case"infinity":return"Бесконечности";case"replication":return"Репликации";case"time":return"Времени";case"dilation":return"Замедления"}}function f7(e=!0){const t=new Set(["timeMult","dimMult","timeMult2","skipReset1","skipReset2","unspentBonus","27Mult","18Mult","36Mult","resetMult","skipReset3","passiveGen","45Mult","resetBoost","galaxyBoost","skipResetGalaxy","ipOffline"]),i=new Set(["totalMult","currentMult","postGalaxy","challengeMult","achievementMult","infinitiedMult","infinitiedGeneration","autoBuyerUpgrade","autobuyMaxDimboosts"]);let a=new Set,n=[0,0,0];if((PelleUpgrade.keepBreakInfinityUpgrades.canBeApplied||EternityMilestone.keepBreakUpgrades.isReached)&&(a=i,n=[8,7,10]),(PelleUpgrade.keepInfinityUpgrades.canBeApplied||EternityMilestone.keepInfinityUpgrades.isReached)&&(a=a.union(t)),e)player.infinityUpgrades=a,player.infinityRebuyables=n;else{player.infinityUpgrades=a.union(player.infinityUpgrades);for(let e=0;e<3;e++)player.infinityRebuyables[e]=Math.max(player.infinityRebuyables[e],n[e])}GameCache.tickSpeedMultDecrease.invalidate(),GameCache.dimensionMultDecrease.invalidate()}function g7(){if(Autobuyer.bigCrunch.hasMaxedInterval&&!InfinityChallenge.isRunning){for(const e of Autobuyers.all)void 0!==e.data.interval&&e.maxIntervalForFree();Achievement(61).tryUnlock(),player.break=!player.break,TabNotification.ICUnlock.tryTrigger(),EventHub.dispatch(player.break?GAME_EVENT.BREAK_INFINITY:GAME_EVENT.FIX_INFINITY),GameUI.update()}}function b7(){const e=Effects.min(308,Achievement(103),TimeStudy(111));if(Pelle.isDisabled("IPMults"))return Decimal.pow10(player.records.thisInfinity.maxAM.log10()/e-.75).timesEffectsOf(PelleRifts.vacuum).times(Pelle.specialGlyphEffect.infinity).floor();let t=player.break?Decimal.pow10(player.records.thisInfinity.maxAM.log10()/e-.75):new Decimal(308/e);return Effarig.isRunning&&Effarig.currentStage===EFFARIG_STAGES.ETERNITY&&(t=t.min(v.E200)),t=t.times(GameCache.totalIPMult.value),Teresa.isRunning?t=t.pow(.55):V.isRunning?t=t.pow(.5):Laitela.isRunning&&(t=dilatedValueOf(t)),GlyphAlteration.isAdded("infinity")&&(t=t.pow(getSecondaryGlyphEffect("infinityIP"))),t.floor()}function v7(){return Pelle.isDisabled("EPMults")?Pelle.specialGlyphEffect.time.timesEffectOf(PelleRifts.vacuum.milestones[2]):getAdjustedGlyphEffect("cursedEP").times(ShopPurchase.EPPurchases.currentMult).timesEffectsOf(EternityUpgrade.epMult,TimeStudy(61),TimeStudy(122),TimeStudy(121),TimeStudy(123),RealityUpgrade(12),GlyphEffect.epMult)}function E7(){let e=v.D5.pow(player.records.thisEternity.maxIP.plus(b7()).log10()/(308-PelleRifts.recursion.effectValue.toNumber())-.7).times(v7());return Teresa.isRunning?e=e.pow(.55):V.isRunning?e=e.pow(.5):Laitela.isRunning&&(e=dilatedValueOf(e)),GlyphAlteration.isAdded("time")&&(e=e.pow(getSecondaryGlyphEffect("timeEP"))),e.floor()}function T7(e){return Decimal.pow10(308*(Decimal.log(Decimal.divide(e,v7()),5)+.7)).clampMin(Number.MAX_VALUE)}function _7(e){return MachineHandler.gainedRealityMachines.times(simulatedRealityCount(!1,e)+1).clampMax(MachineHandler.distanceToRMCap)}function C7(){const e=getGlyphLevelInputs();let t=Math.floor(e.rawLevel);isFinite(t)||(t=0);let i=Math.floor(e.actualLevel);return isFinite(i)||(i=0),{rawLevel:t,actualLevel:i}}function A7(){player.chall2Pow=1,player.chall3Pow=v.D0_01,Currency.matter.reset(),player.chall8TotalSacrifice=v.D1,player.postC4Tier=1}function k7(e,t){return Decimal.divide(e,t/6e4)}function w7(e,t,i,a){let n="";player.challenge.normal.current&&(n=`${player.challenge.normal.current}-е Обычное Испытание`),player.challenge.infinity.current&&(n=`${player.challenge.infinity.current}-е Испытание Бесконечности`),player.records.recentInfinities.pop(),player.records.recentInfinities.unshift([e,t,i,a,n]),GameCache.bestRunIPPM.invalidate()}function S7(){player.records.recentInfinities=Array.from({length:10},(()=>[Number.MAX_VALUE,Number.MAX_VALUE,v.D1,v.D1,""])),GameCache.bestRunIPPM.invalidate()}function x7(e,t){return Autobuyer.bigCrunch.autoInfinitiesAvailable(t)?Decimal.floor(player.records.thisEternity.bestInfinitiesPerMs.times(e).dividedBy(2)):v.D0}function R7(e,t,i,a){let n="";if(player.challenge.eternity.current){const e=player.challenge.eternity.current,t=EternityChallenge(e),i=player.dilation.active?`ИспВ${e} в Замедлении`:`${e}-е Испытание Вечности`;n=`${i} (${formatInt(t.completions)}/${formatInt(t.maxCompletions)})`}else player.dilation.active&&(n="Замедление Времени");const s=player.dilation.active?getTachyonGain():v.D0;player.records.recentEternities.pop(),player.records.recentEternities.unshift([e,t,i,a,n,s]),GameCache.averageRealTimePerEternity.invalidate()}function I7(){player.records.recentEternities=Array.from({length:10},(()=>[Number.MAX_VALUE,Number.MAX_VALUE,v.D1,v.D1,"",v.D0])),GameCache.averageRealTimePerEternity.invalidate()}function M7(e,t){return Autobuyer.eternity.autoEternitiesAvailable(t)?Decimal.floor(player.records.thisReality.bestEternitiesPerMs.times(e).dividedBy(2)):v.D0}function D7(){return player.options.offlineProgress&&!Autobuyer.bigCrunch.autoInfinitiesAvailable()&&!Autobuyer.eternity.autoEternitiesAvailable()}function P7(e){return EternityMilestone.autoEP.isReached&&D7()?player.records.bestEternity.bestEPminReality.times(TimeSpan.fromMilliseconds(e).totalMinutes/4):v.D0}function U7(e,t,i,a,n,s,r){let o="";const l=[Teresa,Effarig,Enslaved,V,Ra,Laitela];for(const u of l)u.isRunning&&(o="Реальность {cel.possessiveName}");const c=Effarig.shardsGained;player.records.recentRealities.pop(),player.records.recentRealities.unshift([e,t,i.times(s),n,o,a,c*s,r])}function G7(){if(EternityChallenge(4).isRunning||Pelle.isDisabled("InfinitiedMults"))return v.D1;let e=Effects.max(1,Achievement(87)).toDecimal();return e=e.timesEffectsOf(TimeStudy(32),RealityUpgrade(5),RealityUpgrade(7),Achievement(131).effects.infinitiesGain,Achievement(164),Ra.unlocks.continuousTTBoost.effects.infinity),e=e.times(getAdjustedGlyphEffect("infinityinfmult")),e=e.powEffectOf(SingularityMilestone.infinitiedPow),e}function N7(){GameStorage.save(),location.reload(!0)}GlobalErrorHandler.cleanStart=!0;const B7={FIXED_SPEED:1,TIME_GLYPH:2,BLACK_HOLE:3,TIME_STORAGE:4,SINGULARITY_MILESTONE:5,NERFS:6};function O7(e,t){let i;if(i=void 0===e?[B7.FIXED_SPEED,B7.TIME_GLYPH,B7.BLACK_HOLE,B7.TIME_STORAGE,B7.SINGULARITY_MILESTONE,B7.NERFS]:e,i.includes(B7.FIXED_SPEED)&&EternityChallenge(12).isRunning)return.001;let a=1;if(i.includes(B7.BLACK_HOLE))if(BlackHoles.areNegative)a*=player.blackHoleNegative;else if(!BlackHoles.arePaused)for(const n of BlackHoles.list){if(!n.isUnlocked)break;const e=void 0===t?n.isActive:n.id<=t;if(!e)break;a*=Math.pow(n.power,BlackHoles.unpauseAccelerationFactor),a*=VUnlocks.achievementBH.effectOrDefault(1)}if(i.includes(B7.SINGULARITY_MILESTONE)&&(a*=SingularityMilestone.gamespeedFromSingularities.effectOrDefault(1)),i.includes(B7.TIME_GLYPH)&&(a*=getAdjustedGlyphEffect("timespeed"),a=Math.pow(a,getAdjustedGlyphEffect("effarigblackhole"))),Enslaved.isStoringGameTime&&i.includes(B7.TIME_STORAGE)){const e=Ra.unlocks.autoPulseTime.canBeApplied?.99:1;a=a*(1-e)+e}if(i.includes(B7.NERFS))if(Effarig.isRunning)a=Effarig.multiplier(a).toNumber();else if(Laitela.isRunning){const e=Math.clampMax(Time.thisRealityRealTime.totalMinutes/10,1);a=Math.pow(a,e)}return a*=PelleUpgrade.timeSpeedMult.effectValue.toNumber(),a=Math.clamp(a,1e-300,1e300),a}function L7(){const e=O7();return Enslaved.isAutoReleasing&&Enslaved.canRelease(!0)&&!BlackHoles.areNegative&&!Pelle.isDisabled("blackhole")?Math.max(Enslaved.autoReleaseSpeed,e):e}function $7(e){return Ra.memoryTick(e,!Enslaved.isStoringRealTime),AlchemyResource.momentum.isUnlocked&&(player.celestials.ra.momentumTime+=e*Achievement(175).effectOrDefault(1)),DarkMatterDimensions.tick(e),!!Enslaved.isStoringRealTime&&(player.records.realTimePlayed+=e,player.records.thisInfinity.realTime+=e,player.records.thisEternity.realTime+=e,player.records.thisReality.realTime+=e,Enslaved.storeRealTime(),Autobuyers.tick(),GameUI.update(),!0)}function H7(e,t={}){if(PerformanceStats.start("Frame Time"),PerformanceStats.start("Game Update"),EventHub.dispatch(GAME_EVENT.GAME_TICK_BEFORE),Speedrun.isPausedAtStart()||GameEnd.creditsEverClosed)return void GameUI.update();let i=e;const a=Date.now(),n=void 0===i?Math.clamp(a-player.lastUpdate,1,864e5):i;if(GameStorage.ignoreBackupTimer||(player.backupTimer+=n),player.options.hibernationCatchup&&void 0===e&&n>6e4)return GameIntervals.gameLoop.stop(),J7(n/1e3,!0),void $7(n);if($7(n))return;Enslaved.isAutoReleasing&&Enslaved.autoReleaseTick++,Enslaved.autoReleaseTick>=5?(Enslaved.autoReleaseTick=0,Enslaved.useStoredTime(!0),Enslaved.isReleaseTick=!0):Enslaved.isReleaseTick||(Enslaved.nextTickDiff=n),void 0===i&&(i=Enslaved.nextTickDiff),applyRUPG10(!1),Autobuyers.tick(),Tutorial.tutorialLoop(),Achievement(165).isUnlocked&&player.celestials.effarig.autoAdjustGlyphWeights&&autoAdjustGlyphWeights(),GameCache.antimatterDimensionCommonMultiplier.invalidate(),GameCache.antimatterDimensionFinalMultipliers.invalidate(),GameCache.infinityDimensionCommonMultiplier.invalidate(),GameCache.timeDimensionCommonMultiplier.invalidate(),GameCache.totalIPMult.invalidate();const s=n,r=EternityChallenge(12).isRunning;if(Enslaved.isReleaseTick||r)r&&(i*=O7(),Enslaved.currentBlackHoleStoreAmountPerMs=0);else{let e;if(e=void 0===t.blackHoleSpeedup?O7():t.blackHoleSpeedup,Enslaved.isStoringGameTime&&!r){const t=O7(),a=O7([B7.FIXED_SPEED,B7.TIME_GLYPH,B7.BLACK_HOLE,B7.SINGULARITY_MILESTONE]),n=Ra.unlocks.improvedStoredTime.effects.gameTimeAmplification.effectOrDefault(1),s=player.celestials.enslaved.stored;player.celestials.enslaved.stored=Math.clampMax(player.celestials.enslaved.stored+i*(a-t)*n,Enslaved.timeCap),Enslaved.currentBlackHoleStoreAmountPerMs=(player.celestials.enslaved.stored-s)/i,e=t}i*=e}player.celestials.ra.peakGamespeed=Math.max(player.celestials.ra.peakGamespeed,O7()),Enslaved.isReleaseTick=!1,Achievement(188).isUnlocked||(player.records.realTimeDoomed+=n,player.records.realTimePlayed+=n,player.records.totalTimePlayed+=i,player.records.thisInfinity.realTime+=n,player.records.thisInfinity.time+=i,player.records.thisEternity.realTime+=n,Enslaved.isRunning&&Enslaved.feltEternity&&!EternityChallenge(12).isRunning?player.records.thisEternity.time+=i*(1+Currency.eternities.value.clampMax(1e66).toNumber()):player.records.thisEternity.time+=i,player.records.thisReality.realTime+=n,player.records.thisReality.time+=i),DeltaTimeState.update(n,i),updateNormalAndInfinityChallenges(i),preProductionGenerateIP(i),Pelle.isDoomed||q7(),W7(n),X7(n);const o=AlchemyResource.uncountability.effectValue*Time.unscaledDeltaTime.totalSeconds;Currency.realities.add(o),Currency.perkPoints.add(o),Perk.autocompleteEC1.canBeApplied&&(player.reality.lastAutoEC+=n),EternityChallenge(12).tryFail(),Achievements._power.invalidate(),TimeDimensions.tick(i),InfinityDimensions.tick(i),AntimatterDimensions.tick(i);const l=Math.clampMin(FreeTickspeed.fromShards(Currency.timeShards.value).newAmount-player.totalTickGained,0);player.totalTickGained+=l,F7(),tryCompleteInfinityChallenges(),EternityChallenges.autoComplete.tick(),replicantiLoop(i),PlayerProgress.dilationUnlocked()&&Currency.dilatedTime.add(getDilationGainPerSecond().times(i/1e3)),z7(),Currency.timeTheorems.add(K7().times(i/1e3)),InfinityDimensions.tryAutoUnlock(),BlackHoles.updatePhases(s),Ra.unlocks.autoUnlockDilation.canBeApplied&&Currency.timeTheorems.max.gte(TimeStudy.dilation.totalTimeTheoremRequirement)&&!isInCelestialReality()&&!Pelle.isDoomed&&(Currency.timeTheorems.add(TimeStudy.dilation.cost),TimeStudy.dilation.purchase(!0)),V7(),GlyphSelection.active&&GlyphSelection.update(C7());const c=player.dilation.active&&Ra.unlocks.autoTP.canBeApplied,u=!isInCelestialReality()&&Ra.unlocks.unlockDilationStartingTP.canBeApplied;if(!c&&!u||Pelle.isDoomed||rewardTP(),Enslaved.canTickHintTimer&&(player.celestials.enslaved.hintUnlockProgress+=Enslaved.isRunning?n:.4*n,player.celestials.enslaved.hintUnlockProgress>=TimeSpan.fromHours(5).totalMilliseconds&&(EnslavedProgress.hintsUnlocked.giveProgress(),Enslaved.quotes.hintUnlock.show())),Y7(n),Achievements.autoAchieveUpdate(i),V.checkForUnlocks(),AutomatorBackend.update(n),Pelle.gameLoop(n),GalaxyGenerator.loop(n),GameEnd.gameLoop(n),Enslaved.canAmplify||(Enslaved.boostReality=!1),GameEnd.endState<END_STATE_MARKERS.CREDITS_START){if(Tabs.current.isPermanentlyHidden){const e=Tabs.all.reverse().find((e=>!e.isPermanentlyHidden&&10!==e.id));e?e.show(!0):[...Tab.dimensions.subtabs].reverse().find((e=>!e.isPermanentlyHidden)).show(!0)}Tabs.current.subtabs.find((e=>e.isOpen)).isPermanentlyHidden&&[...Tab.dimensions.subtabs].reverse().find((e=>!e.isPermanentlyHidden)).show(!0)}EventHub.dispatch(GAME_EVENT.GAME_TICK_AFTER),GameUI.update(),player.lastUpdate=a,PerformanceStats.end("Game Update")}function F7(){const e=b7().dividedBy(Math.clampMin(5e-4,Time.thisInfinityRealTime.totalMinutes));e.gt(player.records.thisInfinity.bestIPmin)&&Player.canCrunch&&(player.records.thisInfinity.bestIPmin=e,player.records.thisInfinity.bestIPminVal=b7());const t=E7().dividedBy(Math.clampMin(5e-4,Time.thisEternityRealTime.totalMinutes));t.gt(player.records.thisEternity.bestEPmin)&&Player.canEternity&&(player.records.thisEternity.bestEPmin=t,player.records.thisEternity.bestEPminVal=E7());const i=_7(!1).dividedBy(Math.clampMin(5e-4,Time.thisRealityRealTime.totalMinutes));i.gt(player.records.thisReality.bestRMmin)&&isRealityAvailable()&&(player.records.thisReality.bestRMmin=i,player.records.thisReality.bestRMminVal=_7(!1));const a=Effarig.shardsGained/Math.clampMin(5e-4,Time.thisRealityRealTime.totalMinutes);a>player.records.thisReality.bestRSmin&&isRealityAvailable()&&(player.records.thisReality.bestRSmin=a,player.records.thisReality.bestRSminVal=Effarig.shardsGained)}function q7(){let e=0;if(RealityUpgrade(14).isBought&&(e=v.D1.timesEffectsOf(Achievement(113),RealityUpgrade(3),RealityUpgrade(14)),e=Decimal.times(e,getAdjustedGlyphEffect("timeetermult")),e=new Decimal(Time.deltaTime).times(Decimal.pow(e,AlchemyResource.eternity.effectValue)),player.reality.partEternitied=player.reality.partEternitied.plus(e),Currency.eternities.add(player.reality.partEternitied.floor()),player.reality.partEternitied=player.reality.partEternitied.sub(player.reality.partEternitied.floor())),!EternityChallenge(4).isRunning){let t=v.D0;BreakInfinityUpgrade.infinitiedGen.isBought&&(t=t.plus(.5*Time.deltaTimeMs/Math.clampMin(50,player.records.bestInfinity.time)),t=t.timesEffectsOf(RealityUpgrade(5),RealityUpgrade(7),Ra.unlocks.continuousTTBoost.effects.infinity),t=t.times(getAdjustedGlyphEffect("infinityinfmult"))),RealityUpgrade(11).isBought&&(t=t.plus(RealityUpgrade(11).effectValue.times(Time.deltaTime))),EffarigUnlock.eternity.isUnlocked&&(t=t.plus(G7().times(Currency.eternities.value.minus(e.div(2).floor())).times(Time.deltaTime))),t=t.plus(player.partInfinitied),Currency.infinities.add(t.floor()),player.partInfinitied=t.minus(t.floor()).toNumber()}}function V7(){if(!TimeDimension(8).isUnlocked&&Perk.autounlockTD.canBeApplied)for(let e=5;e<=8;++e)TimeStudy.timeDimension(e).purchase();Perk.autounlockDilation3.canBeApplied&&buyDilationUpgrade(DilationUpgrade.ttGenerator.id),Perk.autounlockReality.canBeApplied&&TimeStudy.reality.purchase(!0),applyEU1(),applyEU2()}function Y7(e){const t=player.celestials.laitela;if(Laitela.isRunning&&(t.entropy>=0&&(t.entropy+=e/1e3*Laitela.entropyGainPerSecond),t.entropy>=1)){let e=`Вы выполнили Реальность Лайтелы за ${Time.thisRealityRealTime.toStringShort()}.`;t.entropy=-1;const i={fastestCompletion:t.fastestCompletion,difficultyTier:t.difficultyTier,realityReward:Laitela.realityReward};if(t.thisCompletion=Time.thisRealityRealTime.totalSeconds,t.fastestCompletion=Math.min(t.thisCompletion,t.fastestCompletion),clearCelestialRuns(),Time.thisRealityRealTime.totalSeconds<30){t.difficultyTier++,t.fastestCompletion=300,e+=j7(Laitela.maxAllowedDimension+1);for(const e of Laitela.quotes.all)e.requirement&&e.show()}Laitela.realityReward>i.realityReward?(e+=`<br><br>Награда: ${formatX(i.realityReward,2,2)}\n      ➜ ${formatX(Laitela.realityReward,2,2)}`,3600===i.fastestCompletion||300===i.fastestCompletion&&i.difficultyTier>0?Time.thisRealityRealTime.totalSeconds<30?e+=`<br>Рекорд: Нет ➜ Дестабилизация\n          <br>Действующих уровней измерений: ${formatInt(8-i.difficultyTier)} ➜\n          ${formatInt(8-t.difficultyTier)}`:e+=`<br>Рекорд: Нет ➜\n            ${TimeSpan.fromSeconds(t.fastestCompletion).toStringShort()}\n            <br>Действующих уровней измерений: ${formatInt(8-t.difficultyTier)}`:Time.thisRealityRealTime.totalSeconds<30?e+=`<br>Рекорд: ${TimeSpan.fromSeconds(i.fastestCompletion).toStringShort()}\n          ➜ Дестабилизация\n          <br>Действующих уровней измерений: ${formatInt(8-i.difficultyTier)} ➜\n          ${formatInt(8-t.difficultyTier)}`:e+=`<br>Рекорд: ${TimeSpan.fromSeconds(i.fastestCompletion).toStringShort()}\n        ➜ ${TimeSpan.fromSeconds(t.fastestCompletion).toStringShort()}\n        <br>Действующих уровней измерений: ${formatInt(8-i.difficultyTier)}`,player.records.bestReality.laitelaSet=Glyphs.copyForRecords(Glyphs.active.filter((e=>null!==e)))):e+=` Чтобы улучшить награду, необходимо выполнить её быстрее, чем за\n        ${TimeSpan.fromSeconds(t.fastestCompletion).toStringShort()}.`,Laitela.isFullyDestabilized&&up(24).tryComplete(),Modal.message.show(e,{},2)}}function j7(e){switch(e){case 1:return`<br><br>Теперь в Реальности Лайтелы отключено производство всех измерений.\n        Её можно запускать, но выполнить не получится.\n        За полную дестабилизацию Реальности вы получаете множитель ${formatX(8)} к производству Тёмной Энергии.`;case 2:return`<br><br>Теперь в Реальности Лайтелы отключено производство 2-х Измерений всех видов,\n      но её выполнение даст ${formatInt(100)}-кратную награду. За следующую, полную дестабилизацию\n      Реальности вы получите множитель ${formatX(8)} к производству Тёмной Энергии.`;case 8:return`<br><br>Теперь в Реальности Лайтелы отключено производство 8-х Измерений всех видов,\n        но её выполнение даст ${formatInt(100)}-кратную награду. Это увеличение награды можно повторять\n        вновь и вновь, <i>дестабилизируя</i> Реальность, то есть выполняя её быстрее, чем за ${formatInt(30)} секунд.`;default:return`<br><br>Теперь в Реальности Лайтелы отключено производство\n        ${e}-х Измерений всех видов, но её выполнение даст\n        ${formatInt(100)}-кратную награду.`}}function W7(e){if(Currency.infinityPoints.add(TimeStudy(181).effectOrDefault(0)),TeresaUnlocks.epGen.canBeApplied&&Currency.eternityPoints.add(player.records.thisEternity.bestEPmin.times(v.D0_01).times(O7()*e/1e3).timesEffectOf(Ra.unlocks.continuousTTBoost.effects.autoPrestige)),InfinityUpgrade.ipGen.isCharged){const t=MachineHandler.gainedRealityMachines.timesEffectsOf(InfinityUpgrade.ipGen.chargedEffect).times(e/1e3);Currency.realityMachines.add(t)}PelleRifts.chaos.milestones[2].canBeApplied&&Currency.eternityPoints.add(E7().times(v.D0_1).times(e/1e3))}function X7(e){MachineHandler.updateIMCap(),Currency.imaginaryMachines.add(MachineHandler.gainedImaginaryMachines(e))}function z7(){const e=Effects.max(1,DilationUpgrade.doubleGalaxies),t=1e3,i=getTachyonGalaxyMult();player.dilation.baseTachyonGalaxies=Math.max(player.dilation.baseTachyonGalaxies,1+Math.floor(Decimal.log(Currency.dilatedTime.value.dividedBy(1e3),i))),player.dilation.nextThreshold=v.E3.times(new Decimal(i).pow(player.dilation.baseTachyonGalaxies)),player.dilation.totalTachyonGalaxies=Math.min(player.dilation.baseTachyonGalaxies*e,t)+Math.max(player.dilation.baseTachyonGalaxies*e-t,0)/e,player.dilation.totalTachyonGalaxies*=DilationUpgrade.galaxyMultiplier.effectValue}function K7(){let e=Effects.product(Ra.unlocks.continuousTTBoost.effects.ttGen,Ra.unlocks.achievementTTMult,Achievement(137),Achievement(156));GlyphAlteration.isAdded("dilation")&&(e*=getSecondaryGlyphEffect("dilationTTgen"));const t=Teresa.isRunning||Enslaved.isRunning||Pelle.isDoomed?0:getAdjustedGlyphEffect("dilationTTgen")*e,i=DilationUpgrade.ttGenerator.isBought?DilationUpgrade.ttGenerator.effectValue.times(Pelle.isDoomed?1:e):v.D0;let a=i.add(t);return a.gt(1)&&(a=a.pow(SingularityMilestone.theoremPowerFromSingularities.effectOrDefault(1))),a}function Q7(e,t){if(e>600){const i=al([{},player]);Modal.awayProgress.show({playerBefore:t,playerAfter:i,seconds:e})}GameUI.notify.showBlackHoles=!0}function J7(e,t,i){var a;if(e<0)return;let n=Math.floor(20*e);GameUI.notify.showBlackHoles=!1;const s=GameStorage.maxOfflineTicks(1e3*e,null!==(a=GameStorage.offlineTicks)&&void 0!==a?a:player.options.offlineTicks);n>s&&!i?n=s:n>50&&!t&&i&&(n=50);const r=al([{},player]);let o;o=BlackHoles.areUnlocked&&!BlackHoles.arePaused?BlackHoles.calculateGameTimeFromRealTime(e,BlackHoles.calculateSpeedups()):O7()*e;const l=x7(1e3*o),c=M7(1e3*o);c.gt(0)?Currency.eternities.add(c):l.gt(0)?Currency.infinities.add(l):Currency.eternityPoints.add(P7(1e3*e)),InfinityUpgrade.ipOffline.isBought&&player.options.offlineProgress&&Currency.infinityPoints.add(player.records.thisEternity.bestIPMsWithoutMaxAll.times(1e3*e/2)),EventHub.dispatch(GAME_EVENT.OFFLINE_CURRENCY_GAINED);let u=e,d=e=>{const t=u/e;H7(1e3*t),u-=t};if(BlackHoles.areUnlocked&&!BlackHoles.arePaused&&(d=e=>{const[t,i]=BlackHoles.calculateOfflineTick(u,e,1e-4);u-=t,H7(1e3*t,{blackHoleSpeedup:i})}),i){GameIntervals.stop();for(let e=50;e>0;e--)d(e);GameStorage.postLoadStuff(),Q7(e,r)}else{const t={};ui.view.modal.progressBar={},Async.run(d,n,{batchSize:1,maxTime:60,sleepTime:1,asyncEntry:e=>{GameIntervals.stop(),ui.$viewModel.modal.progressBar={label:"Симуляция офлайн-прогресса",info:()=>`Игра идёт с меньшей точностью, чтобы быстро рассчитать, сколько ресурсов вы должны были\n              получить офлайн. Подробности вы можете найти в статье "Офлайн-прогресс" помощи по игре. Для\n              нетерпеливых игроков у нас есть опция "Ускорить",\n              которая симулирует оставшееся время вдвое меньшим количеством тиков (то есть примерно вдвое быстрее\n              и с точностью, тоже меньшей вдвое). Опция же "Пропустить" симулирует оставшееся время всего ${formatInt(10)}\n              тиками.`,progressName:"Тиков",current:e,max:n,startTime:Date.now(),buttons:[{text:"Ускорить",condition:(e,t)=>t-e>500,click:()=>{const e=Math.clampMin(Math.floor(t.remaining/2),500);t.maxIter-=t.remaining-e,t.remaining=e,ui.$viewModel.modal.progressBar.max=t.maxIter}},{text:"Пропустить",condition:(e,t)=>t-e>10,click:()=>{t.maxIter-=t.remaining-10,t.remaining=10}}]}},asyncProgress:e=>{ui.$viewModel.modal.progressBar.current=e},asyncExit:()=>{ui.$viewModel.modal.progressBar=void 0,GameStorage.postLoadStuff()},then:()=>{Q7(e,r)},progress:t})}}function Z7(e){ui.view.shiftDown=e}function eee(e){Replicanti.galaxies.isPlayerHoldingR=e}function tee(){return m7.test(navigator.userAgent)}function iee(){console.log("🌌 Antimatter Dimensions: Reality Update 🌌"),y&&console.log("👨‍💻 Development Mode 👩‍💻"),Nl.initialize(),wc.initialize(),Nh.init(),GameStorage.load(),Tabs.all.find((e=>e.config.id===player.options.lastOpenTab)).show(!0),Qw.init()}let aee;function nee(e){if(requestAnimationFrame(nee),void 0===e||void 0===aee)return void(aee=e);let t=e-aee;aee=e,player.dilation.active&&(t/=Pelle.isDoomed?1.5:10),tweenTime+=t,NR().update(tweenTime)}function see(e){for(const t in e){if("default"===t)continue;const i=e[t],a=window[t];if(void 0!==a)throw`Property ${t} already exists in global context`;window[t]=i}}function ree(){if(isLocalEnvironment())return;const e="commit.json";let t;function i(){fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>{var i;void 0!==e&&(t=null!==(i=t)&&void 0!==i?i:e.sha,t!==e.sha&&Modal.message.show(`Refresh the page (game will be saved), we've got new stuff: "${e.message}" by ${e.author}`,{callback:updateRefresh,closeButton:!0},3))}))}setInterval(i,6e4)}window.onload=function(){const e=tee();GameUI.initialized=e,ui.view.initialized=e,setTimeout((()=>{Nl.updateZoom(),document.getElementById("loading").style.display="none"}),500),e||(GameIntervals.stop(),document.getElementById("loading").style.display="none",document.getElementById("browser-warning").style.display="flex")},window.onfocus=function(){Z7(!1)},window.onblur=function(){GameKeyboard.stopSpins()},window.tweenTime=0,nee(),see(a),see(n),see(s),see(r),see(o),see(l),see(c),see(u),tee()&&iee(),y&&ree()}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=e,(()=>{i.amdO={}})(),(()=>{var e=[];i.O=(t,a,n,s)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],s=e[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&s||r>=s)&&Object.keys(i.O).every((e=>i.O[e](a[l])))?a.splice(l--,1):(o=!1,s<r&&(r=s));if(o){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,n,s]}})(),(()=>{i.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return i.d(t,{a:t}),t}})(),(()=>{i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={524:0};i.O.j=t=>0===e[t];var t=(t,a)=>{var n,s,r=a[0],o=a[1],l=a[2],c=0;if(r.some((t=>0!==e[t]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var u=l(i)}for(t&&t(a);c<r.length;c++)s=r[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(u)},a=self["webpackChunk"]=self["webpackChunk"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=i.O(void 0,[504],(()=>i(1744)));a=i.O(a)})();
//# sourceMappingURL=app.da8b6eb3.js.map